(()=>{var kl=Object.defineProperty;var m=(W,T)=>kl(W,"name",{value:T,configurable:!0});(globalThis.webpackChunkwebapp=globalThis.webpackChunkwebapp||[]).push([["client-boot"],{983107878:(W,T,e)=>{W.exports=e.p+"ava_0002-192-0ddd598.png"},2256285620:(W,T,e)=>{W.exports=e.p+"ava_0002-24-f65dddc.png"},6906793909:(W,T,e)=>{W.exports=e.p+"ava_0002-32-798f043.png"},1060768686:(W,T,e)=>{W.exports=e.p+"ava_0002-48-d3ba4ec.png"},2979422297:(W,T,e)=>{W.exports=e.p+"ava_0002-72-c702398.png"},3224273568:(W,T,e)=>{W.exports=e.p+"ava_0022-192-0cc433a.png"},2316786074:(W,T,e)=>{W.exports=e.p+"ava_0022-24-21468d4.png"},3708998647:(W,T,e)=>{W.exports=e.p+"ava_0022-32-7779579.png"},5098468056:(W,T,e)=>{W.exports=e.p+"ava_0022-48-93db11d.png"},4923972147:(W,T,e)=>{W.exports=e.p+"ava_0022-72-5a52d67.png"},5512849639:(W,T,e)=>{W.exports=e.p+"boost_bus_plus_banner_img-5428ddb.png"},8783045612:(W,T,e)=>{W.exports=e.p+"contextual-help-keyboard-e004fd5.png"},7752974446:(W,T,e)=>{W.exports=e.p+"emoji_missing-39b2f0a.png"},2440739180:(W,T,e)=>{W.exports=e.p+"exchange-unlinked-760993c.svg"},4121690455:(W,T,e)=>{W.exports=e.p+"exchange-10f9bbd.svg"},5908540923:(W,T,e)=>{W.exports=e.p+"No_Background-ad3fcdb.png"},3677363342:(W,T,e)=>{W.exports=e.p+"active_speaker-dd1164a.gif"},4553218033:(W,T,e)=>{W.exports=e.p+"beach-preview-33d7acf.jpg"},9679390338:(W,T,e)=>{W.exports=e.p+"beach-33258eb.jpg"},7000154057:(W,T,e)=>{W.exports=e.p+"gym-preview-cfff9c8.jpg"},553949882:(W,T,e)=>{W.exports=e.p+"gym-4d948fc.jpg"},9631995895:(W,T,e)=>{W.exports=e.p+"home-preview-8baaf03.jpg"},3342291988:(W,T,e)=>{W.exports=e.p+"home-9e29930.jpg"},1779488764:(W,T,e)=>{W.exports=e.p+"huddle-in-thread-da71b0e.png"},3607863955:(W,T,e)=>{W.exports=e.p+"living_room-preview-1b54428.jpg"},5738074488:(W,T,e)=>{W.exports=e.p+"living_room-a4fba85.jpg"},7485089530:(W,T,e)=>{W.exports=e.p+"office-preview-de46de4.jpg"},5475210953:(W,T,e)=>{W.exports=e.p+"office-98668ce.jpg"},8514307482:(W,T,e)=>{W.exports=e.p+"remote_work-preview-5fbbc32.jpg"},4136357865:(W,T,e)=>{W.exports=e.p+"remote_work-f8cd791.jpg"},7234375712:(W,T,e)=>{W.exports=e.p+"tokyo_sight-preview-3554da9.jpg"},1672115571:(W,T,e)=>{W.exports=e.p+"tokyo_sight-285d851.jpg"},2527471159:(W,T,e)=>{W.exports=e.p+"slack-salesforce-211570d.png"},7972463975:(W,T,e)=>{W.exports=e.p+"slack-salesforce@2x-06b5868.png"},2301861866:(W,T,e)=>{W.exports=e.p+"slack_logo-ebd02d1.svg"},5918772940:(W,T,e)=>{W.exports=e.p+"slack_logo_mark-01b46d3.svg"},9994038664:(W,T,e)=>{W.exports=e.p+"slack_logo_white_text-3cffbf2.svg"},3431559584:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_1024-9020761.png"},2200759559:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_192-fc3f24d.png"},8390767423:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_20-e2d1dcb.png"},1957386787:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_24-e726b64.png"},4245237474:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_32-176771b.png"},7523979550:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_36-d921f9d.png"},7272988726:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_360-29e9a8a.png"},77360885:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_48-8220eaf.png"},2261459203:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_512-8ab1a43.png"},451984622:(W,T,e)=>{W.exports=e.p+"slackbot_fancy_72-9db8807.png"},7428983508:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_1024-f558ba5.png"},669259003:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_192-a0b99ba.png"},4165874747:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_20-96acbec.png"},1023719767:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_24-2246c7b.png"},3710970638:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_32-8a50a23.png"},4814900690:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_36-a7f6cbd.png"},7331486018:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_360-1cb4740.png"},7183565897:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_48-fdccd8c.png"},1001408479:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_512-955a74f.png"},1889110914:(W,T,e)=>{W.exports=e.p+"slackbot_frowny_72-6d65a0f.png"},9948433110:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_1024-b58a548.png"},4948097913:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_192-e5cd9a1.png"},350135845:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_20-00a116e.png"},474239361:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_24-9a05991.png"},1302153452:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_32-44a4c24.png"},9825918216:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_36-c6ff0eb.png"},5908867676:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_360-7309dbd.png"},3333214639:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_48-9906623.png"},2295488157:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_512-dcb310c.png"},5156772208:(W,T,e)=>{W.exports=e.p+"slackbot_neutral_72-79b9eaa.png"},4063699741:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_1024-337ff51.png"},9241168512:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_192-3c6a8ea.png"},3963460214:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_20-5bfbe5a.png"},9267813754:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_24-d519530.png"},2981982679:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_32-5479e94.png"},9833689275:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_36-6982f8c.png"},4840951141:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_360-aff835a.png"},9777215928:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_48-7871f8b.png"},7129884748:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_512-c8291ff.png"},9602720019:(W,T,e)=>{W.exports=e.p+"slackbot_sad_surprise_72-ffaf19c.png"},7626894131:(W,T,e)=>{W.exports=e.p+"de-DE-7cb5203.vtt"},29804293:(W,T,e)=>{W.exports=e.p+"en-GB-fe540d9.vtt"},7749140866:(W,T,e)=>{W.exports=e.p+"en-US-638cf9c.vtt"},5913806097:(W,T,e)=>{W.exports=e.p+"es-ES-2c09d56.vtt"},6636363964:(W,T,e)=>{W.exports=e.p+"es-LA-ea2cf27.vtt"},9916635837:(W,T,e)=>{W.exports=e.p+"fr-FR-aca8347.vtt"},5760619139:(W,T,e)=>{W.exports=e.p+"it-IT-5979abe.vtt"},668694090:(W,T,e)=>{W.exports=e.p+"ja-JP-8bffdf3.vtt"},555040584:(W,T,e)=>{W.exports=e.p+"ko-KR-368325f.vtt"},6820844347:(W,T,e)=>{W.exports=e.p+"paid-feature-education-bcf658e.mp4"},1347747715:(W,T,e)=>{W.exports=e.p+"paid-feature-education-4fcc827.png"},8187362417:(W,T,e)=>{W.exports=e.p+"pt-BR-4dd5817.vtt"},2005200212:(W,T,e)=>{W.exports=e.p+"zh-CN-7893376.vtt"},2563333228:(W,T,e)=>{W.exports=e.p+"zh-TW-bf2d05a.vtt"},6754250580:(W,T,e)=>{W.exports=e.p+"de-DE-e5da613.vtt"},1714394002:(W,T,e)=>{W.exports=e.p+"en-GB-b949ba6.vtt"},6435768457:(W,T,e)=>{W.exports=e.p+"en-US-823d419.vtt"},7417918922:(W,T,e)=>{W.exports=e.p+"es-ES-fb9bba0.vtt"},6869712815:(W,T,e)=>{W.exports=e.p+"es-LA-1d17cb9.vtt"},8089589194:(W,T,e)=>{W.exports=e.p+"fr-FR-0161472.vtt"},5748605292:(W,T,e)=>{W.exports=e.p+"it-IT-f18ddbd.vtt"},4071181961:(W,T,e)=>{W.exports=e.p+"ja-JP-8d6863a.vtt"},8071475775:(W,T,e)=>{W.exports=e.p+"ko-KR-b3589ec.vtt"},9733499682:(W,T,e)=>{W.exports=e.p+"pt-BR-50fe7dc.vtt"},6050136004:(W,T,e)=>{W.exports=e.p+"thumbnail-71d0c1e.png"},5006029593:(W,T,e)=>{W.exports=e.p+"video-9e16c67.mp4"},9753292423:(W,T,e)=>{W.exports=e.p+"zh-CN-f0c9d6c.vtt"},3289703835:(W,T,e)=>{W.exports=e.p+"zh-TW-438dba1.vtt"},7260399618:(W,T,e)=>{W.exports=e.p+"apps-0205318.png"},3555024406:(W,T,e)=>{W.exports=e.p+"canvas-27b164f.png"},6362113145:(W,T,e)=>{W.exports=e.p+"huddles-65511ae.png"},5612399517:(W,T,e)=>{W.exports=e.p+"lists-a03762f.png"},9754713110:(W,T,e)=>{W.exports=e.p+"messages-cf1cdcf.png"},8644018899:(W,T,e)=>{W.exports=e.p+"slack-connect-4779df0.png"},8720577475:(W,T,e)=>{W.exports=e.p+"templates-26a2d87.png"},2217643974:W=>{W.exports={record_breadcrumbs:"record_breadcrumbs__ErsaA",record_breadcrumb:"record_breadcrumb__cEZEJ",record_breadcrumb_label:"record_breadcrumb_label__LDBB9"}},6627147571:W=>{W.exports={accordion:"accordion__kLx8x",item:"item__MTv17",expanded:"expanded__G1WSM",noBorder:"noBorder__Bkdii",itemHeader:"itemHeader__rqviz",expandedIcon:"expandedIcon__a6bDs",header:"header__Mu2fJ",defaultShowDescriptionAnimation:"defaultShowDescriptionAnimation__SUEzA",showDescription:"show-description___8nN1",defaultShowDescription:"defaultShowDescription__O25CX",customItemTextAnimation:"customItemTextAnimation__J88Pz",addPadding:"add-padding__dbRf8",customItemText:"customItemText__vavhM",customItemTransition:"customItemTransition__YwYGB",description:"description__RSIZO",iconSpacer:"iconSpacer__a8u1y",imageCaret:"imageCaret__ZFZoY"}},7722580674:W=>{W.exports={cardsContainer:"cardsContainer__OTIvX",cardContainer:"cardContainer__uXDsY",cardContainerImg:"cardContainerImg__rCUUa",dot:"dot__edLxB",selectedDot:"selectedDot__w_vbO"}},1655662782:W=>{W.exports={container:"container__NwDCd",topContainer:"topContainer__A1TLX",subtitle:"subtitle__TcwNf"}},5097962808:W=>{W.exports={container:"container__duYEa",containerDarkMode:"containerDarkMode__iEr7C"}},6035312900:W=>{W.exports={text:"text__yxtZb",fontSizeMicro:"fontSizeMicro__vL5rG",fontSizeCaption:"fontSizeCaption__g87_d",fontSizeBase:"fontSizeBase__vq3Rz",fontSizeSubtitle:"fontSizeSubtitle__ehrGi",fontSizeTitle:"fontSizeTitle__oao6m",fontSizeHeadline:"fontSizeHeadline__tkdnz",fontWeightBase:"fontWeightBase__MuzzM",fontWeightSemibold:"fontWeightSemibold__qFHfO",fontWeightBold:"fontWeightBold__xavtM",fontWeightBlack:"fontWeightBlack__VEFyV",colorPrimary:"colorPrimary__OpPYq",colorSecondary:"colorSecondary__LA4z5",colorTertiary:"colorTertiary__NzHwL",colorThemeInversePrimary:"colorThemeInversePrimary__HYor1",colorCoreContentHighlight1:"colorCoreContentHighlight1__Cni2v",colorCoreContentHighlight2:"colorCoreContentHighlight2__u2WOd",colorCoreContentHighlight3:"colorCoreContentHighlight3__bkwIu",colorCoreContentImportant:"colorCoreContentImportant__ehtOc",colorPalettesSunflower60:"colorPalettesSunflower60__DiKe3"}},7573583373:W=>{W.exports={proBadge:"proBadge__a6OQu",container:"container__lJGtV",alertBanner:"alertBanner__xNhoq",cta:"cta__tEXdP"}},9295473340:W=>{W.exports={videoAndDevicesContainer:"videoAndDevicesContainer__NVELK",videoContainer:"videoContainer__XjCxI",videoPreview:"videoPreview__hMjwB",videoInnerContainer:"videoInnerContainer__lO7xn",videoAvatar:"videoAvatar__lZyuR",loading:"loading__FMtdL"}},5526670257:W=>{W.exports={modal:"modal__V69Vd",overlay:"overlay__gsuuD"}},7059233720:W=>{W.exports={container:"container__DVK1Z",button:"button__PWHcn"}},1535211300:W=>{W.exports={container:"container__ExpEn",device:"device__Wqu1p",speaker:"speaker__IHiCf"}},2458754542:W=>{W.exports={modal:"modal__v1OWN",overlay:"overlay__HrRPN"}},9632269965:W=>{W.exports={container:"container__rto70"}},2688127376:W=>{W.exports={container:"container__bqBHK",toolbarButton:"toolbarButton__uaxi2",activeButton:"activeButton__UwqVv",warningBadgeContainer:"warningBadgeContainer__SWzb7",warningBadge:"warningBadge__srWl0",cameraDisabled:"cameraDisabled__fhjuY"}},5671227444:W=>{W.exports={inlineAudioMeterContainer:"inlineAudioMeterContainer__Y3vlI",inlineAudioMeter:"inlineAudioMeter__XIoND"}},3416652175:W=>{W.exports={spaceNameContainer:"spaceNameContainer__Up4ES",spaceName:"spaceName__e2eNG",notificationName:"notificationName__PLxJo",notificationList:"notificationList__K7YI_",formError:"formError__RF0wt",textArea:"text-area__GqSis",alert:"alert__gmI86",alertText:"alertText__WNqBZ"}},397939223:W=>{W.exports={dispatcherViewer:"dispatcherViewer__MqLHN",container:"container__JbqvN",dispatcherViewerIcon:"dispatcherViewerIcon__TTCBH",xDispatcher__viewer_iconPulse:"x-dispatcher__viewer_icon--pulse__rzHrs",dispatcherViewerDetails:"dispatcherViewerDetails__HF2Tz"}},9598582073:W=>{W.exports={bodyContainer:"bodyContainer__XdYx2",listContainer:"listContainer__Q03_Y",videoContainer:"videoContainer__zFTj5",proBadge:"proBadge__vbDah",title:"title__I2qJO",subtitle:"subtitle__lKLAD",ctaButton:"ctaButton__KoQEK",modalBackground:"modalBackground__eUyLk"}},6696573656:W=>{W.exports={featuresListContainer:"featuresListContainer__Wztys",icon:"icon__oy3IT",title:"title__OyvRi",text:"text__lXfZb"}},9377084484:W=>{W.exports={costLabel:"costLabel__JmQfs",freeLabel:"freeLabel__kOzDa",proLabel:"proLabel__Y_YqW",bizPlusLabel:"bizPlusLabel__BafhG",costLabelSubtitle:"costLabelSubtitle___zgim",planLabel:"planLabel__jNOYK",discountedPrice:"discountedPrice__pH5Uq",typicalPriceWithStrikethrough:"typicalPriceWithStrikethrough__SlrWi",trialProBadge:"trialProBadge__v4egQ",planHeaderContainer:"planHeaderContainer__P0_Hy",disabledCurrentPlanButton:"disabledCurrentPlanButton__ne1m4",bizPlusUpgradeButton:"bizPlusUpgradeButton__IVKuJ",trialEligibleCellContainer:"trialEligibleCellContainer__No8Xm",trialEligibleCurrentPlanBtn:"trialEligibleCurrentPlanBtn__A1SEA",trialStartCta:"trialStartCta__qHMCY",upgradeLink:"upgradeLink__MZ6Um",upgradeRocketIcon:"upgradeRocketIcon__rrknv",missingText:"missingText__OThqS"}},5577296129:W=>{W.exports={featureImage:"featureImage__GCGJB"}},8985946788:W=>{W.exports={accordionFeatureListModal:"accordionFeatureListModal__XY4l2",horchataBg:"horchataBg__Z4qYV",aubergineBg:"aubergineBg__XTvzG",horchataCaret:"horchataCaret__z5j66",aubergineCaret:"aubergineCaret__Ln6eA",bodyContainer:"bodyContainer__WwREe",listContainer:"listContainer__RAODJ",header:"header__A7Fx9",title:"title__w5UXN",subtitle:"subtitle__GJpvo",accordionListContainer:"accordionListContainer__ZhxlB",accordionItem:"accordionItem__N3S6I",imageContainer:"imageContainer__I5MJj",upgradeCta:"upgradeCta__gvG2D",spinner:"spinner__D0NVf",footer:"footer__cNZ0p",accordionItemHeaderButton:"accordionItemHeaderButton__klUaK",accordionItemHeader:"accordionItemHeader__SDi13",accordionItemDescription:"accordionItemDescription__P1u4j",accordionExpandedIcon:"accordionExpandedIcon__a2fMf",accordionCollapsedIcon:"accordionCollapsedIcon__KurIq"}},3366751172:W=>{W.exports={footer:"footer__q8kg4",cta:"cta__x1pLT",light:"light__adKpp",disclaimer:"disclaimer__i655U",link:"link__ISsu1"}},4970458e3:W=>{W.exports={primaryCta:"primaryCta__eSYB_"}},8312761259:W=>{W.exports={banner:"banner__NRqlA",link:"link__zbG4b",bodyText:"bodyText__J_4W5",icon:"icon__rIB5w",comparePlansBtn:"comparePlansBtn__EQLop"}},441565466:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(4200812741),s=e(2664504268);const r=m(()=>(0,t.A)(()=>(0,s.A)()),"useUniqueId")},8749908259:(W,T,e)=>{"use strict";e.d(T,{b:()=>u,i:()=>r});var t=e(3398586081),s=e(7639461119),n=e(1658558415);const r="sentry_fe_perf",u=(0,t.A)(()=>(0,n.A)()?!1:(0,s.fW)(r))},3087712927:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(1416482128),s=e(5021238865),n=e(2878685908);function r(u){let{teamOrEnterpriseId:i,customEnhancers:o,middlewares:a,disableDevTools:_}=u;const l=(0,s.P)();return(window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&!_&&((0,n.Cu)()||(0,n.b3)())?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(l(i)):t.Zz)((0,t.Tw)(...a??[]),...o??[])}m(r,"configureEnhancers")},5772992709:(W,T,e)=>{"use strict";e.d(T,{XT:()=>_,Xw:()=>s,gU:()=>u,l0:()=>o,xf:()=>n});var t=e(7732872146);const s=new RegExp("^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$","i");function n(l){const p=typeof l=="string"&&l.match(s);return p&&p.length===1&&p[0]===l||!1}m(n,"isEmail");function r(l){const{pathname:p,protocol:g}=parseUrl(l);return g==="mailto:"&&n(p)}m(r,"isEmailUrl");function u(l){const{pathname:p,protocol:g}=l;return g==="mailto:"&&n(p)}m(u,"isEmailUrlFromUrlObject");const i=/^[\w.-]+(?:\.[\w.-]+)+[\w\-.]+$/i;function o(l){const p=typeof l=="string"&&l.match(i);return p&&p.length===1&&p[0]===l||!1}m(o,"isDomain");function a(l){return l.includes("@slack-bots.com")}m(a,"isSlackBotEmail");function _(l){let{csv:p,min:g=0,max:c=10}=l;const E=p.split(/\s*,\s*/).length;return{minViolation:E<g,maxViolation:E>c}}m(_,"validateCSV")},8652526277:(W,T,e)=>{"use strict";e.d(T,{_i:()=>r});function t(i,o,a,_){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const p=[_.x-o.x,_.y-o.y],g=[a.x-o.x,a.y-o.y],c=[i.x-o.x,i.y-o.y],E=p[0]*p[0]+p[1]*p[1],A=p[0]*g[0]+p[1]*g[1],d=p[0]*c[0]+p[1]*c[1],v=g[0]*g[0]+g[1]*g[1],h=g[0]*c[0]+g[1]*c[1],f=1/(E*v-A*A),y=(v*d-A*h)*f,I=(E*h-A*d)*f;return y>=-l&&I>=-l&&y+I<1+l}m(t,"isPointInTriangle");function s(i,o,a){const _=(a.x-o.x)**2+(a.y-o.y)**2,l=((i.x-o.x)*(a.x-o.x)+(i.y-o.y)*(a.y-o.y))/_;return l<0?(i.x-o.x)**2+(i.y-o.y)**2:l<=1?(o.x-i.x)**2+(o.y-i.y)**2-l**2*_:(i.x-a.x)**2+(i.y-a.y)**2}m(s,"distanceSquarePointToSegment");function n(i,o,a,_){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;const p=Math.min(o.x,Math.min(a.x,_.x))-l,g=Math.max(o.x,Math.max(a.x,_.x))+l,c=Math.min(o.y,Math.min(a.y,_.y))-l,E=Math.max(o.y,Math.max(a.y,_.y))+l;return i.x>p&&i.x<g&&i.y>c&&i.y<E}m(n,"pointInTriangleBoundingBox");function r(i,o,a,_){let l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1e-15;if(!n(i,o,a,_,l))return!1;const p=l**2;return t(i,o,a,_,0)||s(i,o,a)<=p||s(i,a,_)<=p||s(i,_,o)<=p}m(r,"accurateIsPointInTriangle");var u={accurateIsPointInTriangle:r,isPointInTriangle:t}},3817509504:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(1516013259),s=e(2774532222);const n=m(r=>(0,t.A)(r,(u,i)=>(0,s.A)(i,"aria-")),"__WEBPACK_DEFAULT_EXPORT__")},4518138713:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(1516013259),s=e(2774532222);function n(r){return(0,t.A)(r,(u,i)=>(0,s.A)(i,"data-"))}m(n,"getDataProps")},429204216:(W,T,e)=>{"use strict";e.d(T,{A:()=>t});function t(s){var n;return!s||s.metaKey||s.ctrlKey?!1:((n=s.key)===null||n===void 0?void 0:n.length)===1}m(t,"isPrintableKeyEvent")},5135324409:(W,T,e)=>{"use strict";e.d(T,{Q:()=>t});const t=m(()=>null,"noopNull")},1887307248:(W,T,e)=>{"use strict";e.d(T,{B:()=>n,I:()=>r.A});var t=e(3134334389),s=e(4757466470);let n=m(class extends t.Component{shouldComponentUpdate(i,o){return!(0,s.Ay)(i,this.props,2)||!(0,s.Ay)(o,this.state,2)}},"PureComponentDepth2");var r=e(1665466574)},1665466574:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(3134334389),s=e(4757466470);let n=m(class extends t.Component{shouldComponentUpdate(u,i){return!(0,s.Ay)(u,this.props,3)||!(0,s.Ay)(i,this.state,3)}},"PureComponentDepth3")},8935440161:(W,T,e)=>{"use strict";e.d(T,{A:()=>r,u:()=>n});var t=e(2156087151),s=e(6312133237);const n=/[- _'.\u{2019}\u{200b}()/\uFF0F]/gu;let r=m(class Is{normalizeAndScore(i){const o=(0,s.B)(i);return o===this.normalizedQuery?0:this.score(o)}score(i){if(!i||this.queryNoSeparators.length>i.replace(n,"").length||!Is.containsAllLetters(i,this.queryNode)||!this.queryNode)return 1/0;const a=Is.lettersToGraph(i,this.options);if(!a)return 1/0;const _=Is.searchWordBoundariesOnly(a,this.queryNode,this.options);if(!_)return 1/0;const l=Is.countResult(_);return l>this.fuzzyLimit?1/0:l}static scoreOnce(i,o,a){const _=(0,s.B)(o),l=(0,s.B)(i);return new Is(_,a).score(l)}static lettersToGraph(i,o){const a=i.split(""),_=a.shift();return Is.lettersToGraphWorker(_,null,a,[],0,o)}static lettersToGraphWorker(i,o,a,_,l){let p=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{};if(!i)return null;const g=(0,t.A)(i),c=Is.makeLetterNode(i,o,_,l,g);if(Is.shouldAddJump(o,c,p)){const A=p.fuzzyJumpLimit||5;_.length<A&&_.push(c)}const E=Is.lettersToGraphWorker(a.shift(),c,a,_,l+1,p);return E&&(c.next=E),c}static shouldAddJump(i,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return o.ignored?!1:!!(!i||i.ignored&&!o.ignored||a.fuzzyCJK&&(i.isCJK!==o.isCJK||o.isCJK))}static makeLetterNode(i,o,a,_,l){return{letter:i,ignored:i.match(n),next:null,prev:o,jumps:a,visited:!1,index:_,isCJK:l}}static queryToLinkedList(i){if(!i)return null;let o=i.split("");return o.length>1024&&(o=o.slice(0,1024)),Is.queryToLinkedListWorker(o,0)}static queryToLinkedListWorker(i,o){if(o>=i.length)return null;const a=i[o],_=!!(a.match(n)&&(o!==0||i.length>1));return{letter:a,isSeparator:_,isSpace:a===" ",next:Is.queryToLinkedListWorker(i,o+1),index:o}}static searchWordBoundariesOnly(i,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},_=Is.searchWordBoundariesOnlyWorker(i,o,0,a);if(_||(_=i.jumps.reduce((l,p)=>l||p===i?l:Is.searchWordBoundariesOnlyWorker(p,o,1,a),null)),a.matchBeyondWordBoundaries&&!_){const l=Is.findSecondaryPositions(i,o.letter),p=[i.index,...i.jumps.map(c=>c.index)].sort((c,E)=>c-E),g=8;for(const c of l.slice(0,g)){const E=Is.calculateOffsetPenalty(c.index,p);if(E&&(_=Is.searchWordBoundariesOnlyWorker(c,o,E,a),_))break}}return _}static findSecondaryPositions(i,o){const a=[];let _=i.next;for(;_;)_.letter===o&&a.push(_),_=_.next;const l=new Set(i.jumps.map(p=>p.index));return a.filter(p=>!l.has(p.index))}static calculateOffsetPenalty(i,o){if(i<0)return null;if(o.includes(i))return 0;const a=o.reduce((l,p)=>p<i&&p>l?p:l,-1);return 2+(i-a)}static searchWordBoundariesOnlyWorker(i,o,a){let _=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};if(!i||!o)return null;let l;if(!i.visited&&(i.letter===o.letter||i.ignored&&o.isSeparator)&&(l={node:i,count:a}),!l)return null;if(!o.next)return l;i.visited=!0;let p=Is.searchWordBoundariesOnlyWorker(i.next,o.next,0,_),g=o.next;for(;g.isSeparator&&g.next;)g=g.next;return p||(p=i.jumps.reduce((c,E)=>c||E.visited||E===i||(_.searchForwardOnly||_.substringsOnly)&&E.index<i.index||_.substringsOnly&&E.index>i.index+2?c:Is.searchWordBoundariesOnlyWorker(E,g,1,_),null)),i.visited=!1,p?(l.next=p,l):null}static countResult(i){return i?i.count+Is.countResult(i.next):0}static containsAllLetters(i,o){let a=o;for(;a;){if(!(a.isSeparator||i.includes(a.letter)))return!1;a=a.next}return!0}constructor(i,o={}){this.normalizedQuery=(0,s.B)(i),this.queryNode=Is.queryToLinkedList(this.normalizedQuery),this.options=o;var a;this.fuzzyLimit=(a=this.options.fuzzyLimit)!==null&&a!==void 0?a:1/0,this.queryNoSeparators=this.normalizedQuery.replace(n,"")}},"FuzzyMatcher")},3346098136:(W,T,e)=>{"use strict";e.d(T,{A:()=>d,T:()=>g});var t=e(3134334389),s=e(9391594207),n=e(4426213732),r=e(735940183),u=e(6839188756),i=e(3677514771),o=e(8847766420),a=e(581167618),_=e(5536692738),l=e(6117529990);const p=new r.A("enterprise_calls");var g;(function(v){v.GLOBAL="GLOBAL",v.US="US"})(g||(g={}));const c=m(()=>[{label:p.t("Global"),value:g.GLOBAL},{label:p.t("US"),value:g.US}],"getLocationOptions");let E=m(class extends t.Component{render(){const{appsState:h,featureCallsLocationLock:f,isLockedByOrgAdmin:y,selectedCallLocation:I,isFreeTeam:C}=this.props,D=c(),M=h&&h.video&&Object.keys(h.video).find(k=>k==="A00");if(!f||!M||C)return null;const P=D.find(k=>k.value===I),S=f?p.t("Slack Calls will be restricted and routed through selected regions only."):"Slack Calls will be restricted and routed through selected regions only.",b=f?p.t("Call location options"):"Call location options",O=f?p.t("Limiting to certain regions may reduce call performance or block joining calls in some circumstances."):"Limiting to certain regions may reduce call performance or block joining calls in some circumstances.",L=f?p.t("Slack calls are restricted by Org admin"):"Slack calls are restricted by Org admin";return t.createElement(t.Fragment,null,t.createElement("div",{"data-qa":"calls-location-container",className:"border_top padding_top_100 p-calls_location_lock__container"},t.createElement("span",{className:"p-calls_location_lock__title"},f?p.t("Calls location"):"Calls location"),t.createElement("span",{className:"p-calls_location_lock__description"},S),t.createElement("div",{className:"p-calls_location_lock__options_container"},t.createElement(_.Ay,{className:"p-calls_location_lock__options",size:"medium",isDisabled:y,options:D,selectedOption:P,onOptionSelected:this.handleOptionSelected,ariaLabel:b}),y&&t.createElement("span",{className:"p-calls_location_lock__options_disable_reason"},L))),I===g.US&&t.createElement(a.Ay,{type:a.QE.boxed,level:a.A_.warning,icon:"warning",align:a.AO.left,className:"p-calls_location_lock__alert"},t.createElement("span",null,O)))}handleOptionSelected(h){this.props.setSelectedCallLocation(h.value)}constructor(h){super(h),(0,n.v)(this,["handleOptionSelected"])}},"CallsRegionLockOptions");E.displayName="CallsRegionLockOptions";const A=m(v=>{const h=(0,o.jV)(v);return{isFreeTeam:!(0,u.qR)((0,i.H7)(v))&&!h,featureCallsLocationLock:(0,l.XY)(v)}},"mapStateToProps"),d=(0,s.N)(A)(E)},1223723593:(W,T,e)=>{"use strict";e.d(T,{wl:()=>w,JG:()=>B,uy:()=>ce,bM:()=>ne,Ox:()=>se,A9:()=>G,fD:()=>Ee});var t=e(3134334389),s=e(9391594207),n=e(3783303734),r=e(9113979368),u=e(3867135795),i=e(45851552),o=e(1649982175),a=e(1224315998),_=e(5795074931),l=e(8462077367),p=e(7138682671),g=e(3165300465),c=e(581167618),E=e(1610251172),A=e(3989454579),d=e(1743656885),v=e(5597672932),h=e(6117529990);const f=m(J=>!(0,h.BD)(J),"isOrgCallsAppsSettingsEnabled");var y=e(766806),I=e(56548687);const C=m(J=>{let{callsApps:z,allowCalls:te,clogger:$,action:q,stepVariant:re}=J;const de={allow_calls:te};z&&z.video&&z.video.length>0&&(de.video_call_app_ids=z.video.map(oe=>oe.id)),z&&z.audio&&z.audio.length>0&&(de.audio_call_app_ids=z.audio.map(oe=>oe.id)),z&&z.profile_field_options&&z.profile_field_options.length>0&&(de.profile_field_option_ids=z.profile_field_options.map(oe=>oe.id)),$.track(a.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{...de,contexts:{ui_context:{step:a.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:q,entry_point:"calls-workspace-admin",step_variant:re}}})},"clogCallsApps"),D=m(J=>{let{clogger:z}=J;z.track(a.EventId.CALLS_ADMIN_PHONE_INTEGRATION,{contexts:{ui_context:{step:a.UiStep.CALLS_ADMIN_SAVE_CALLS_APPS,action:a.UiAction.LEARN_MORE,is_primary_cta:!0,ui_properties:{element_type:a.ElementType.LINK,element_name:"calls-admin-save-multiple-call-apps"}}}})},"clogLinkToPaidPlans");var M=e(6304789565);const P=(0,M.Ay)("Clog a standardized click event when a workspace setting is saved",(J,z,te)=>{let{eventId:$,uiStep:q,stepVariant:re}=te;(0,I.e)({getState:z}).track($,{contexts:{ui_context:{ui_step:q,step_variant:re,ui_properties:{element_type:a.ElementType.BUTTON,element_name:"submit_button"},action:a.UiAction.CLICK,is_primary_cta:!0}}})});P.meta={name:"createThunk",key:"createThunkclogWorkspaceSettingSubmit",description:"Clog a standardized click event when a workspace setting is saved"};const S=P;var b=e(3677514771),O=e(6839188756),L=e(6323355797),k=e(980293773),K=e(735940183),N=e(3346098136),R=e(462591818);const U=new K.A("calls_admin"),x="only_available_for_paid_teams";var B;(function(J){J.Video="video",J.Audio="audio",J.ProfileFieldOptions="profile_field_options"})(B||(B={}));const F=m(J=>{let{type:z,app:te,isChecked:$,onChangeCallApp:q,isLocked:re}=J;const de=(0,t.useCallback)(()=>q(z,te.id),[q,z,te]),oe=`${z}_${te.id}`;return t.createElement(p.A,{text:te.name,type:"inline",cursor:"pointer"},t.createElement(A.A,{id:oe,name:te.name,checked:$,onChange:de,disabled:re,"data-qa":oe}))},"AppCheckbox");F.displayName="AppCheckbox";const V=m(J=>{let{appsState:z,isLocked:te,type:$}=J;return!te||!z?!1:$===B.Video&&(0,n.A)(z.video)>0&&(0,n.A)(z.audio)===0||($===B.Audio&&(0,n.A)(z.audio)>0&&(0,n.A)(z.video))===0},"disableTypeCheckbox"),Y=m(J=>{let{appsState:z,isLocked:te,appId:$,type:q}=J;if(!te||!z)return!1;const re=z.video?Object.keys(z.video):[],de=z.audio?Object.keys(z.audio):[],oe=re.length+de.length;if($&&oe===1){let De,ae;return re.length===1?(De=re[0],ae=B.Video):de.length===1&&(De=de[0],ae=B.Audio),$===De&&q===ae}return!1},"disableAppCheckbox"),w=m(J=>{let{type:z,sectionTitle:te,appsState:$,installedCallApps:q,onChangeCallType:re,onChangeCallApp:de,isLocked:oe,dataQa:De}=J;if(!q||!$||!q[z])return null;const ae=`enable_${z}_calls`;return t.createElement("div",{className:`p-calls_workspace_settings__${z}_container`,"data-qa":De},t.createElement(p.A,{text:te,type:"inline",cursor:"pointer"},t.createElement(A.A,{checked:!(0,r.A)($[z]),id:ae,name:ae,onChange:re,disabled:V({appsState:$,isLocked:oe,type:z})})),t.createElement("p",{className:"p-calls_workspace_settings__options_title"},U.t("Calling options:")),t.createElement("div",{className:"p-calls_workspace_settings__calls_apps"},[...q[z]].map(Z=>t.createElement(F,{app:Z,isChecked:(0,u.A)($[z],Z.id),key:`${z}_${Z.id}`,onChangeCallApp:de,type:z,isLocked:Y({appsState:$,isLocked:oe,appId:Z.id,type:z})}))))},"CallSection");w.displayName="CallSection";const G=m(J=>{let{installedCallApps:z,appsState:te,appId:$,type:q,setAppsState:re}=J;if(!z||!te)return;const de={...te[q]};if((0,u.A)(de,$))delete de[$],re({...te,[q]:de});else{const oe=(0,i.A)(z[q],De=>De.id===$);oe>-1&&(de[$]=oe,re({...te,[q]:de}))}},"toggleCallApp"),Ee=m(J=>{let{installedCallApps:z,appsState:te,type:$,setAppsState:q}=J;if(!(!te||!z))if(!(0,r.A)(te[$]))q({...te,[$]:{}});else{var re;const de={};(re=z[$])===null||re===void 0||re.forEach((oe,De)=>{de[oe.id]=De}),q({...te,[$]:de})}},"toggleCallType"),ne=m((J,z)=>{const te={video:{},audio:{},profile_field_options:{}};return!z||!J||[B.Video,B.Audio,B.ProfileFieldOptions].forEach($=>{z[$]&&[...z[$]].forEach(re=>{const de=(0,i.A)(J[$],oe=>oe.id===re.id);de>-1&&(te[$][re.id]=de)})}),te},"reduceTeamPrefApps"),se=m(function(){let{installedCallApps:J,appsState:z}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const te={video:[],audio:[]};return!J||!z||[B.Video,B.Audio].forEach($=>{if(J[$]){const q=[...J[$]],re=z[$];q.forEach(de=>{if((0,u.A)(re,de.id)){var oe;(oe=te[$])===null||oe===void 0||oe.push((0,o.A)(de,"preselected"))}})}}),te},"setCallsAppsPayloadToSave"),ce=m(J=>{if(!J||!J.video)return;const z=J.video.findIndex(te=>te.id===R.rq);z>=0&&J.video.splice(z,1)},"filterNativeCallsApp"),pe=m(J=>{let{isOpen:z,closeModal:te,errorMessage:$,buttonLabel:q}=J;return t.createElement(k.dW,{centered:!0,isOpen:z,closeModal:te},t.createElement(k.$m,{className:"p-calls_workspace_settings__error_modal"},t.createElement(k.qf,null,t.createElement("p",null,$))),t.createElement(k.jl,null,t.createElement(k.ox,null,t.createElement(k.s_,{type:"outline",onClick:te,"aria-label":q},q))))},"ErrorModal");pe.displayName="ErrorModal";const ye=m(J=>{let{installedCallApps:z,teamPrefCallsApps:te,setMultipleTeamPrefsByApi:$,clogWorkspaceSettingSubmit:q,isLocked:re,isCallsSelectorDisabled:de,clogger:oe,isOrgCallsAppsSettingsEnabled:De,team:ae,isCallsLocationLockedByOrgAdmin:Z,callsLocationLocked:ie}=J;const[Ce,Re]=(0,t.useState)(!1),[He,be]=(0,t.useState)(""),Ue=U.t("Save"),me=U.t("Saved"),ve=U.t("Sorry! Something went wrong. Please try again."),Fe=U.t("Allow third-party calls in Slack"),Ke=U.t("Allow phone number calls in Slack (only in direct messages)"),j=U.t("Ok"),ee=U.t("Sorry, call selection is currently managed by your organization admin."),je=U.rt("First install a <a>calling app from the Slack Marketplace</a> then come back here to enable it as a default calling app.",{},mt=>{let{text:Rt}=mt;return t.createElement(d.A,{articleId:208492868},Rt)}),Te=(0,t.useCallback)(()=>{D({clogger:oe}),(0,O.gC)(ae,(0,L.hZ)({entryPoint:"calls-admin-workspace-settings"}))},[oe,ae]),Je=U.rt("Sorry, this feature is only available to <a>paid teams</a>.",{},mt=>{let{text:Rt}=mt;return t.createElement("a",{href:"#",onClick:Te,"data-qa":"paid_plan_page_link"},Rt)}),Ae=te?ne(z,te):{video:{},audio:{},profile_field_options:{}},[Me,we]=(0,t.useState)(Ae),[Ge,Qe]=(0,t.useState)(!1),[fe,Ve]=(0,t.useState)(!1),Be=ie&&ie.length>0?N.T.US:N.T.GLOBAL,[Ye,et]=(0,t.useState)(Be);(0,t.useEffect)(()=>{const mt=ne(z,te);we(mt)},[we,z,te]);const at=(0,t.useCallback)(mt=>{Ve(!1),Ee({installedCallApps:z,appsState:Me,type:mt,setAppsState:we})},[z,Me,we]),gt=(0,t.useCallback)(()=>at(B.Video),[at]),Mt=(0,t.useCallback)(()=>at(B.Audio),[at]),Bt=(0,t.useCallback)(()=>Re(!1),[Re]),Ct=(0,t.useCallback)((mt,Rt)=>{Ve(!1),G({installedCallApps:z,appsState:Me,appId:Rt,type:mt,setAppsState:we})},[z,Me,we]),Ft=(0,t.useCallback)(mt=>{et(mt),Ve(!1)},[et]),kt=m(()=>{Qe(!0),q({eventId:a.EventId.ADMIN_TEAM_SETTINGS,uiStep:"change_enable_calls"});const mt=!(0,r.A)(Me.video)||!(0,r.A)(Me.audio),Rt=se({installedCallApps:z,appsState:Me}),Ht={calls_apps:Rt};(0,O.r7)(ae)||(Ht.allow_calls=mt),Z||(Ht.calls_locations=Ye===N.T.US?[Ye]:[]),$({prefs:Ht}).then(()=>{Ve(!0),C({callsApps:Rt,allowCalls:mt,clogger:oe,action:a.UiAction.SAVE})}).catch(ft=>{var Jt;Re(!0),(ft==null||(Jt=ft.data)===null||Jt===void 0?void 0:Jt.error)===x?(be(Je),C({callsApps:Rt,allowCalls:mt,clogger:oe,action:a.UiAction.ERROR,stepVariant:x})):(be(ve),C({callsApps:Rt,allowCalls:mt,clogger:oe,action:a.UiAction.ERROR}))}).finally(()=>Qe(!1))},"onSubmit"),Et=z&&(z.video&&z.video.length>0||z.audio&&z.audio.length>0);return t.createElement("div",{key:"calls_workspace_settings",className:"p-calls_workspace_settings"},de&&De?t.createElement(c.Ay,{type:"boxed",level:"info",icon:"info",align:"left","data-qa":"org_calls_apps_alert_selector_disabled"},t.createElement("span",null,ee)):t.createElement(t.Fragment,null,!Et&&t.createElement(c.Ay,{type:"boxed",level:"info",icon:"info",align:"left"},t.createElement("span",null,je)),t.createElement("div",{className:"p-calls_workspace_settings__call_options"},z&&z.video&&z.video.length>0&&t.createElement(w,{type:B.Video,sectionTitle:Fe,appsState:Me,installedCallApps:z,onChangeCallType:gt,onChangeCallApp:Ct,isLocked:re}),z&&z.audio&&z.audio.length>0&&t.createElement(w,{type:B.Audio,sectionTitle:Ke,appsState:Me,installedCallApps:z,onChangeCallType:Mt,onChangeCallApp:Ct,isLocked:re})),t.createElement(N.A,{appsState:Me,isLockedByOrgAdmin:Z,selectedCallLocation:Ye,setSelectedCallLocation:Ft}),t.createElement(pe,{closeModal:Bt,isOpen:Ce,errorMessage:He,buttonLabel:j}),Et&&t.createElement(g.A,{onClick:kt,loading:Ge,"data-qa":"call_save_button","aria-label":fe?me:Ue},fe&&t.createElement(E.A,{type:"check-circle-o",className:"p-calls_workspace_settings_check_icon"}),fe?me:Ue)))},"CallsWorkspaceSettings");ye.displayName="CallsWorkspaceSettings";const Ie=m(J=>{const z=(0,_.tV)(J,"calls_apps");ce(z);const te=(0,v.xp)(J,"calls_apps"),$=(0,y.SI)(J,"calls_locations");return{installedCallApps:z,teamPrefCallsApps:te,clogger:(0,I.e)({state:J}),isOrgCallsAppsSettingsEnabled:f(J),team:(0,b.H7)(J),isCallsLocationLockedByOrgAdmin:!!$&&$.length>0,callsLocationLocked:(0,v.xp)(J,"calls_locations")}},"mapStateToProps"),Se={setMultipleTeamPrefsByApi:l.hz,clogWorkspaceSettingSubmit:S},le={toggleCallApp:G,toggleCallType:Ee,AppCheckbox:F,reduceTeamPrefApps:ne,setCallsAppsPayloadToSave:se,disableTypeCheckbox:V,disableAppCheckbox:Y},X=(0,s.N)(Ie,Se)(ye)},6909784049:(W,T,e)=>{"use strict";e.d(T,{o:()=>Je});var t=e(3134334389),s=e(9391594207),n=e(166097325),r=e(3300324857),u=e(462591818),i=e(4954329752),o=e(2843556239);function a(){return a=Object.assign||function(Ae){for(var Me=1;Me<arguments.length;Me++){var we=arguments[Me];for(var Ge in we)Object.prototype.hasOwnProperty.call(we,Ge)&&(Ae[Ge]=we[Ge])}return Ae},a.apply(this,arguments)}m(a,"_extends");let _=m(class extends t.PureComponent{componentDidMount(){var Me;(Me=this.context.windowRef.deref())===null||Me===void 0||Me.document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){var Me;this.isDragging&&this.onMouseUp(),(Me=this.context.windowRef.deref())===null||Me===void 0||Me.document.removeEventListener("mouseup",this.onMouseUp)}onMouseDown(Me){var we;Me.button===0&&(this.isDragging=!0,(we=this.context.windowRef.deref())===null||we===void 0||we.document.addEventListener("mousemove",this.onMouseMove),this.props.onDragStart(Me))}onMouseMove(Me){Me.button===0&&this.isDragging&&this.props.onDragMove(Me)}onMouseUp(Me){if(Me&&Me.button!==0)return;const we=this.isDragging;if(this.isDragging=!1,we){var Ge;(Ge=this.context.windowRef.deref())===null||Ge===void 0||Ge.document.removeEventListener("mousemove",this.onMouseMove),this.props.onDragEnd(Me)}}render(){const{children:Me,refToForward:we,onDragStart:Ge,onDragMove:Qe,onDragEnd:fe,...Ve}=this.props,Be=t.Children.only(this.props.children);return t.cloneElement(Be,{...Ve,onMouseDown:et=>this.onMouseDown(et),ref:(0,i.N)(we,Be)})}constructor(Me){super(Me),this.isDragging=!1,this.onMouseMove=this.onMouseMove.bind(this),this.onMouseUp=this.onMouseUp.bind(this)}},"BaseDragTarget");_.contextType=o._0,_.displayName="BaseDragTarget";const l=t.forwardRef((Ae,Me)=>t.createElement(_,a({},Ae,{refToForward:Me})));var p=e(387328355),g=e(6304789565),c=e(2825968873);const E=(0,c.tZ)("USER-ACTIONS"),A=(0,g.Ay)("Logs user interaction with call window",(Ae,Me,we)=>{E.info(we)});A.meta={name:"createThunk",key:"createThunklogUserAction",description:"Logs user interaction with call window"};var d=e(1975685771),v=e(8405076696);function h(Ae){y=x(se(Ae))}m(h,"startCurve");function f(Ae){const Me=se(Ae),we=B(y,Me);return we.update_status==L.SUCCESS?we:B(y,Me)}m(f,"addToCurve");let y;const I=2,C=9,D=9,M=50,P=80,S=1,b=!0,O=!0,L={SUCCESS:1,FAIL_CORNER:2,FAIL_MAXED:3},k=m(()=>({segments:[],vdmap:[]}),"initCurve"),K=m((Ae,Me)=>({c0:{x:Ae,y:Me},c1:{x:Ae,y:Me},c2:{x:Ae,y:Me},c3:{x:Ae,y:Me}}),"initCurveSegment"),N=m(Ae=>Ae.segments[Ae.segments.length-1],"getLastSegment"),R=m(Ae=>Ae.c3,"getLastPoint"),U=m(function(Ae){return{c0:{x:Ae.c0.x,y:Ae.c0.y},c1:{x:Ae.c1.x,y:Ae.c1.y},c2:{x:Ae.c2.x,y:Ae.c2.y},c3:{x:Ae.c3.x,y:Ae.c3.y},constrain_to:Ae.constrain_to==null?void 0:{x:Ae.constrain_to.x,y:Ae.constrain_to.y},error:Ae.error||0,update_status:Ae.update_status}},"copySegment"),x=m(function(Ae){let{x:Me,y:we}=Ae;const Ge=k();return Ge.segments.push(K(Me,we)),Ge},"createCurve"),B=m(function(Ae,Me){const we=N(Ae),Ge=R(we);if(z(Me,R(we))<S)return we;if(L.SUCCESS!=we.update_status&&we.update_status!==void 0){let Qe;L.FAIL_CORNER==we.update_status?Qe=K(Ge.x,Ge.y):L.FAIL_MAXED==we.update_status&&(Qe=K(Ge.x,Ge.y),Qe.constrain_to=re(Y(we))),Ae.vdmap=[],Ae.segments.push(Qe)}return F(Ae,Me)},"addToCurveImpl"),F=m(function(Ae,Me){const we=N(Ae),{x:Ge,y:Qe}=Me;let fe=R(we);const Ve=U(we);if(w(we,Me))return we.update_status=L.FAIL_CORNER,we;we.c3={x:Ge,y:Qe},we.c2={x:we.c2.x+Ge-fe.x,y:we.c2.y+Qe-fe.y};const Be=q(fe,Me),Ye=Ee(Be),et=ye(fe,Ye),at=ye(Me,Ye),gt=ne(Se(Ye,2)),Mt=$(gt),Bt=le(gt,Mt),Ct=Ie(at,et),Ft=$(Ct),kt=le(Ct,Ft);let Et=et;for(let ft=0;ft<Ft;ft++){let Jt=Et,Zt=Ye;for(let Tt=0;Tt<Mt;Tt++){const{x:Pt,y:Kt}=se(Jt);Ae.vdmap[Pt]||(Ae.vdmap[Pt]=[]),Ae.vdmap[Pt][Kt]==null?Ae.vdmap[Pt][Kt]=se(Zt):Ae.vdmap[Pt][Kt]=ce(Ae.vdmap[Pt][Kt])<ce(se(Zt))?Ae.vdmap[Pt][Kt]:se(Zt),Zt=ye(Zt,Bt),Jt=ye(Jt,Bt)}Et=ye(Et,kt)}const mt=Ie(Me,{x:C,y:C}),Rt=ye(Me,{x:C,y:C});for(let ft=mt.x;ft<Rt.x;ft++)for(let Jt=mt.y;Jt<Rt.y;Jt++){Ae.vdmap[ft]||(Ae.vdmap[ft]=[]);const Zt=Ie({x:ft,y:Jt},Me);Ae.vdmap[ft][Jt]==null?Ae.vdmap[ft][Jt]=Zt:Ae.vdmap[ft][Jt]=ce(Ae.vdmap[ft][Jt])<ce(Zt)?Ae.vdmap[ft][Jt]:Zt}let Ht=0;for(;;){let ft={x:0,y:0},Jt={x:0,y:0};for(let Pt=0;Pt<D;Pt++){const Kt=Pt/D,dn=se(de(we,Kt)),sn=V(Ae,dn),H=pe(sn),Ne=sn.x,Pe=sn.y;let qe=1;O&&(Kt<.1||Kt>.9)&&(qe=10),ft.x+=Kt*Math.pow(1-Kt,2)*H*Ne*qe,ft.y+=Kt*Math.pow(1-Kt,2)*H*Pe*qe,Jt.x+=Math.pow(Kt,2)*(1-Kt)*H*Ne*qe,Jt.y+=Math.pow(Kt,2)*(1-Kt)*H*Pe*qe}if(O){const Pt=Ie(G(we),we.c2),Kt=Ie(G(we),we.c1);ft=Ie(ft,Se(Kt,.03)),Jt=Ie(Jt,Se(Pt,.03))}we.constrain_to&&(ft=Se(we.constrain_to,J(we.constrain_to,ft)));const Zt=1;we.c1.x-=Zt*ft.x*6/D,we.c1.y-=Zt*ft.y*6/D,we.c2.x-=Zt*Jt.x*6/D,we.c2.y-=Zt*Jt.y*6/D;let Tt=0;for(let Pt=0;Pt<D;Pt++){const Kt=Pt/D,dn=de(we,Kt),sn=V(Ae,se(dn));Tt+=Math.pow(sn.x,2)+Math.pow(sn.y,2)}if(Tt=Tt/D,Ht++,we.error=Tt,we.steps=Ht,Tt<I||Ht>M)break}return Ht>M?(we.c0=Ve.c0,we.c1=Ve.c1,we.c2=Ve.c2,we.c3=Ve.c3,we.error=Ve.error,we.constrain_to=Ve.constrain_to,we.update_status=L.FAIL_MAXED,we):(we.update_status=L.SUCCESS,we)},"updateDistanceField"),V=m(function(Ae,Me){let{x:we,y:Ge}=Me;if(Ae.vdmap[we]){const Qe=Ae.vdmap[we][Ge],fe=Ae.vdmap[we][Ge+1];let Ve=Qe!=null?{x:Qe.x,y:Qe.y}:{x:C,y:C};return fe&&fe.x!=null&&Math.abs(Ve.x)>Math.abs(fe.x)&&(Ve.x=fe.x),fe&&fe.y!=null&&Math.abs(Ve.y)>Math.abs(fe.y)&&(Ve.y=fe.y),Ve}else return{x:C,y:C}},"getDistanceFromPolyline"),Y=m(function(Ae){const Me=Ae.c3,we=Ae.c2;return{x:3*(we.x-Me.x),y:3*(we.y-Me.y)}},"getCurveEndTangent"),w=m(function(Ae,Me){if(X(Ae.c0,Ae.c3))return!1;let we;b?we=re(Ie(de(Ae,.95),Ae.c3)):we=re(Y(Ae));const Ge=re({x:Me.x-Ae.c3.x,y:Me.y-Ae.c3.y}),Qe=J(we,Ge);if(te(Math.acos(Qe))<P)return!0},"checkCorner"),G=m(Ae=>ye(le(Ie(Ae.c3,Ae.c0),2),Ae.c0),"getSegmentMidpoint"),Ee=m(Ae=>({x:Ae.x*C,y:Ae.y*C}),"getScaledVectorDifference"),ne=m(Ae=>({x:-Ae.x,y:-Ae.y}),"negateVec"),se=m(Ae=>({x:Math.round(Ae.x),y:Math.round(Ae.y)}),"roundVec"),ce=m(Ae=>Math.pow(Ae.x,2)+Math.pow(Ae.y,2),"sumOfSquaresVec"),pe=m(Ae=>Math.sqrt(ce(Ae)),"magnitudeVec"),ye=m((Ae,Me)=>({x:Ae.x+Me.x,y:Ae.y+Me.y}),"addVec"),Ie=m((Ae,Me)=>ye(Ae,ne(Me)),"subVec"),Se=m((Ae,Me)=>({x:Ae.x*Me,y:Ae.y*Me}),"multVec"),le=m((Ae,Me)=>Se(Ae,1/Me),"divVec"),X=m((Ae,Me)=>Ae.x==Me.x&&Ae.y==Me.y,"equalVec"),J=m((Ae,Me)=>Ae.x*Me.x+Ae.y*Me.y,"dotProduct"),z=m(function(Ae){let{x:Me,y:we}=Ae,Ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{x:0,y:0};return Math.sqrt(Math.pow(Me-Ge.x,2)+Math.pow(we-Ge.y,2))},"getMagnitude"),te=m(Ae=>Ae*180/Math.PI,"radiansToDegrees"),$=m(Ae=>Math.max(Math.abs(Ae.x),Math.abs(Ae.y)),"getDDASteps"),q=m((Ae,Me)=>{const we=Me.x-Ae.x,Qe=Me.y-Ae.y,fe=-we;return re({x:Qe,y:fe})},"getPerpindicularUnitVector"),re=m(function(Ae){let{x:Me,y:we}=Ae;const Ge=z({x:Me,y:we});return{x:Me/Ge,y:we/Ge}},"getUnitVector"),de=m(function(Ae,Me){const we=oe(Me,Ae.c0.x,Ae.c1.x,Ae.c2.x,Ae.c3.x),Ge=oe(Me,Ae.c0.y,Ae.c1.y,Ae.c2.y,Ae.c3.y);return{x:we,y:Ge}},"getPointAlongCurve"),oe=m(function(Ae,Me,we,Ge,Qe){return Me*Math.pow(1-Ae,3)+we*3*Ae*Math.pow(1-Ae,2)+Ge*3*Math.pow(Ae,2)*(1-Ae)+Qe*Math.pow(Ae,3)},"singleComponentBezier");function De(Ae,Me){return{a:Ae,b:Me}}m(De,"makeLineSegment");function ae(Ae,Me){let[we,Ge]=Ae,[Qe,fe]=Me;return Math.sqrt((we-Qe)**2+(Ge-fe)**2)}m(ae,"magnitude");class Z{add(Me){return this.current?ae(this.current.a,Me)>.05?(this.current=De(this.current.b,Me),{type:DrawMessageType.New,segment:this.current}):(this.current=De(this.current.a,Me),{type:DrawMessageType.Edit,segment:this.current}):(this.current=De(Me,Me),{type:DrawMessageType.New,segment:this.current})}}m(Z,"ProgressiveEqualLengthMultilineTransformer");class ie{setTargetRect(Me){this.targetRect=Me}add(Me){if(!(0,d.Z)(this.targetRect,"Need size to transform point to curve"))throw Error();const{top:we,left:Ge,width:Qe,height:fe}=this.targetRect,[Ve,Be]=[Me[0]-Ge,Me[1]-we];if(!this.current){h({x:Ve,y:Be});const Bt=[Ve/Qe,Be/fe];return this.current={a:Bt,b:Bt,c:Bt,d:Bt},{type:u.Sl.New,segment:this.current}}const Ye=this.current,{c0:et,c1:at,c2:gt,c3:Mt}=f({x:Ve,y:Be});return this.current={a:[et.x/Qe,et.y/fe],b:[at.x/Qe,at.y/fe],c:[gt.x/Qe,gt.y/fe],d:[Mt.x/Qe,Mt.y/fe]},this.current.a[0]!==Ye.a[0]||this.current.a[1]!==Ye.a[1]?{type:u.Sl.New,segment:this.current}:{type:u.Sl.Edit,segment:this.current}}}m(ie,"ProgressiveCurveTransformer");var Ce=e(5950652755),Re=e(3107743571);const He=2e3,be=50,Ue=m(Ae=>{const{onDragStart:Me,onDragMove:we,onDragEnd:Ge,onCursorMoveStart:Qe,onCursorMove:fe,onCursorMoveEnd:Ve,children:Be}=Ae,[Ye,et]=(0,t.useState)(!1),[at,gt]=(0,t.useState)(!1),[Mt,Bt]=(0,t.useState)(0),[Ct,Ft]=(0,t.useState)(0),kt=(0,t.useCallback)(Zt=>{Zt.button===0&&(et(!0),Me(Zt))},[Me]),Et=(0,t.useCallback)(()=>{gt(!1),Ve()},[gt,Ve]);(0,Re.Z)(()=>{Et()},He,[Mt,Ct]);const mt=(0,t.useCallback)(Zt=>{if(Zt.button===0){if(Ye){we(Zt);return}at||(Qe(Zt),gt(!0)),fe(Zt),Bt(Zt.movementX),Ft(Zt.movementY)}},[at,Ye,fe,Qe,we]),Rt=(0,Ce.A)(mt,be,{leading:!0}),Ht=(0,t.useCallback)(Zt=>{Rt(Zt)},[Rt]),ft=(0,t.useCallback)(Zt=>{if(Zt&&Zt.button!==0)return;const Tt=Ye;et(!1),Tt&&Ge(Zt)},[Ye,Ge]),Jt=(0,t.useCallback)(Zt=>{const Tt=Ye;et(!1),Tt?Ge(Zt):at&&Ve()},[Ye,Ge,at,Ve]);return t.createElement("div",{onMouseDown:kt,onMouseMove:Ht,onMouseUp:ft,onMouseLeave:Jt,"aria-hidden":"true"},Be)},"HuddlesCursorTarget");Ue.displayName="HuddlesCursorTarget";const me=t.memo(Ue);var ve=e(8558782493),Fe=e(1224315998);function Ke(){return Ke=Object.assign||function(Ae){for(var Me=1;Me<arguments.length;Me++){var we=arguments[Me];for(var Ge in we)Object.prototype.hasOwnProperty.call(we,Ge)&&(Ae[Ge]=we[Ge])}return Ae},Ke.apply(this,arguments)}m(Ke,"target_extends");let j=m(class extends t.Component{componentDidMount(){this.onResize()}shouldComponentUpdate(Me,we){return!(0,n.A)(this.props,Me)||!(0,n.A)(this.state,we)}componentDidUpdate(Me){(0,n.A)(Me.targetRect,this.props.targetRect)||this.onResize()}onResize(){var Me;if(!(!((Me=this.props.refToForward)===null||Me===void 0)&&Me.current))return;const we=(0,v.n)(this.props.targetRect);this.props.refToForward.current.style.height=we.height,this.props.refToForward.current.style.width=we.width,this.props.refToForward.current.style.top=we.top,this.props.refToForward.current.style.left=we.left,this.props.refToForward.current.style.position=we.position}getCursorCoordinates(Me){return this.props.useHuddlesDragTarget?[Me.nativeEvent.offsetX,Me.nativeEvent.offsetY]:[Me.pageX,Me.pageY]}onDragStart(Me){this.multilineTransformer=new ie,this.props.useHuddlesDragTarget?this.multilineTransformer.setTargetRect({top:0,left:0,width:this.props.targetRect.width,height:this.props.targetRect.height}):this.multilineTransformer.setTargetRect(this.props.targetRect),r.A.publish({id:"self",type:u.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}}),r.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Me)),...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw start"),this.setState(()=>({showCursor:!1}))}onDragMove(Me){(0,d.Z)(this.multilineTransformer,"Need transformer to draw")&&r.A.publish({id:"self",...this.multilineTransformer.add(this.getCursorCoordinates(Me)),...this.props.itemId&&{itemId:this.props.itemId}})}onDragEnd(Me){r.A.publish({id:"self",type:u.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.props.logDrawingAction("Draw stop"),this.setState(()=>({showCursor:!0})),this.props.useHuddlesDragTarget&&(0,ve.k)(Fe.EventId.HUDDLES_SCREENSHARE_INTERACTION,{contexts:{ui_context:{action:Fe.UiAction.CLICK,ui_properties:{element_name:"screenshare_draw"}}}})}onCursorMoveStart(){r.A.publish({id:"self",type:u.Sl.ChangeHue,hue:this.props.hue,...this.props.itemId&&{itemId:this.props.itemId}})}onCursorMove(Me){const we=this.getCursorCoordinates(Me),Ge=we[0]/this.props.targetRect.width,Qe=we[1]/this.props.targetRect.height;r.A.publish({id:"self",type:u.Sl.Position,x:Ge,y:Qe,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!0}))}onCursorMoveEnd(){r.A.publish({id:"self",type:u.Sl.End,...this.props.itemId&&{itemId:this.props.itemId}}),this.setState(()=>({showCursor:!1}))}render(){return this.props.useHuddlesDragTarget?t.createElement(me,{onDragStart:this.onDragStart,onDragMove:this.onDragMove,onDragEnd:this.onDragEnd,onCursorMoveStart:this.onCursorMoveStart,onCursorMove:this.onCursorMove,onCursorMoveEnd:this.onCursorMoveEnd},t.createElement("div",{ref:this.props.refToForward,className:"p-calls_draw__target_none",style:{...(0,v.n)(this.props.targetRect)}})):t.createElement(l,{onDragStart:Me=>this.onDragStart(Me),onDragMove:Me=>this.onDragMove(Me),onDragEnd:Me=>this.onDragEnd(Me)},t.createElement("div",{ref:this.props.refToForward,className:this.state.showCursor?"p-calls_draw__target":"p-calls_draw__target_none",style:{...(0,v.n)(this.props.targetRect)}}))}constructor(Me){super(Me),this.onResize=this.onResize.bind(this),this.onDragStart=this.onDragStart.bind(this),this.onDragMove=this.onDragMove.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onCursorMoveStart=this.onCursorMoveStart.bind(this),this.onCursorMove=this.onCursorMove.bind(this),this.onCursorMoveEnd=this.onCursorMoveEnd.bind(this),this.state={showCursor:!0}}},"BaseDrawTarget");j.displayName="BaseDrawTarget";const ee=m((Ae,Me)=>({hue:(0,p.Ng)(Ae).drawHue}),"mapStateToProps"),je=m(Ae=>({logDrawingAction:Me=>Ae(A(Me))}),"mapDispatchToProps"),Te=(0,s.N)(ee,je)(j),Je=t.forwardRef((Ae,Me)=>t.createElement(Te,Ke({refToForward:Me},Ae)))},5956851410:(W,T,e)=>{"use strict";e.d(T,{u:()=>X});var t=e(3134334389),s=e(166097325),n=e(1649982175),r=e(8571983633),u=e(8840779375),i=e(3300324857),o=e(462591818),a=e(2843556239),_=e(9391594207),l=e(5795074931),p=e(3150724727),g=e(387328355),c=e(735940183);const E=new c.A("calls"),A=m(J=>{let{displayName:z,id:te,userId:$,color:q}=J;return t.createElement("div",{className:"p-huddles_draw__name_tag",style:q?{background:q}:{}},t.createElement(p.Ay,{className:"p-huddles_draw__name_tag_avatar",key:te,size:24,userId:$,isInteractive:!1,tabIndex:-1}),t.createElement("div",{className:"p-huddles_draw__name_tag_text"},z))},"NameTag"),d=m((J,z)=>{let{id:te}=z;return{displayName:te==="self"?E.t("You"):(0,g.iU)(J,te),userId:te==="self"?(0,l.WR)(J):(0,g.C1)(J,te).userId}},"mapStateToProps"),v=(0,_.N)(d)(A),h=-21,f=-15,y=m(J=>{let{peerId:z,width:te,height:$,leftOffset:q,topOffset:re,color:de,renderNameTag:oe=!0,isWindowDrawMode:De=!1,xWindowPosition:ae=0,yWindowPosition:Z=0}=J;const ie=(0,t.useRef)(null);let Ce,Re;const He=q*te,be=re*$;Ce=Math.round(He+f),Re=Math.round(be+h),De&&(Ce+=ae,Re+=Z);const Ue=(0,t.useMemo)(()=>[Ce,Re],[Ce,Re]),me=m(ve=>{const Fe=ie.current;Fe&&(Fe.style.setProperty("transform",`translate(${ve[0]}px, ${ve[1]}px)`),Fe.style.setProperty("visibility","initial"))},"updateCursorPosition");return(0,t.useEffect)(()=>{me(Ue)},[Ue]),t.createElement("div",{className:"p-huddles_cursor_tracking__cursor_container"},t.createElement("div",{key:`cursor-${z}`,className:"p-huddles_cursor_tracking__cursor",ref:ie},oe&&t.createElement(v,{key:`name-tag-${z}`,id:z,color:de})))},"HuddlesCursor");y.displayName="HuddlesCursor";const I=t.memo(y,s.A);var C=e(2825968873),D=e(8405076696),M=e(5082930587);function P(J,z,te,$){return`hsla(${J}, ${z}%, ${te}%, ${$})`}m(P,"makeColorString");const S=m((J,z)=>P(J,100,75,z),"makeBaseColorString"),b=m(J=>P(J,80,50,1),"makeShadowColorString"),O=3;class L{static renderBaseStyle(z){z.lineJoin="round",z.lineCap="round",z.shadowBlur=5}startFade(){this.startedFadingTimestamp=performance.now(),this.observer.requestRenderOnNextFrame()}resetFade(){this.startedFadingTimestamp&&(delete this.startedFadingTimestamp,this.width=L.initialWidth,this.opacity=1,this.color=S(this.hue,this.opacity))}setHue(z){this.hue=z,this.color=S(this.hue,this.opacity),this.shadowColor=b(this.hue),this.observer.requestRenderOnNextFrame()}render(z){this.fade(),z.lineWidth=this.width,z.strokeStyle=this.color,z.shadowColor=this.shadowColor}fade(){if(!this.startedFadingTimestamp)return;const z=Math.min(1,(performance.now()-this.startedFadingTimestamp)/L.fadeDuration);this.width=L.initialWidth-z*O,this.opacity=1-z/1,this.color=S(this.hue,this.opacity),z<1?this.observer.requestRenderOnNextFrame():this.observer.onFadeCompleted()}getColor(){return this.color}constructor(z){this.observer=z,this.width=L.initialWidth,this.opacity=1,this.hue=0,this.color=S(this.hue,this.opacity),this.shadowColor=b(this.hue)}}m(L,"LineStyle"),L.initialWidth=7,L.fadeDuration=3e3,L.displayName="LineStyle";let k=m(class{getSegments(){return this.segments}addNewSegment(z){this.segments.push(z)}editLastSegment(z){this.segments.pop(),this.segments.push(z)}constructor(){this.segments=[]}},"ProgressivePlotter");class K extends null{draw(z){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const q=this.getSegments();z.beginPath();for(let re=0;re<q.length;re++){const de=q[re];z.moveTo(de.a[0]*te,de.a[1]*$),z.lineTo(de.b[0]*te,de.b[1]*$)}z.stroke()}}m(K,"ProgressiveLineSegmentPlotter");class N extends k{draw(z){let te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;const q=this.getSegments();z.beginPath();for(let re=0;re<q.length;re++){const de=q[re];z.moveTo(de.a[0]*te,de.a[1]*$),z.bezierCurveTo(de.b[0]*te,de.b[1]*$,de.c[0]*te,de.c[1]*$,de.d[0]*te,de.d[1]*$)}z.stroke()}}m(N,"ProgressiveBezierCurvePlotter");const R=700,U=5e3;class x{onFadeCompleted(){this.plotter=new N,this.observer.onLineVisibilityChanged(!1),this.setLineVisibility({isFading:!1,isLineVisible:!1}),this.style.resetFade()}resetVestigialLineTimeout(){this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),this.vestigialLineTimeout=window.setTimeout(this.onInactivity,U)}resetInactivityTimeout(){this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.inactivityTimeout=window.setTimeout(this.onInactivity,R)}update(z){if(this.resetVestigialLineTimeout(),z.type===o.Sl.New)this.visibilityState.isLineVisible||this.observer.onLineVisibilityChanged(!0),this.setLineVisibility({isFading:!1,isLineVisible:!0}),this.plotter.addNewSegment(z.segment),this.style.resetFade(),clearTimeout(this.inactivityTimeout);else if(z.type===o.Sl.Edit)this.plotter.editLastSegment(z.segment);else if(z.type===o.Sl.End)this.resetInactivityTimeout();else if(z.type===o.Sl.ChangeHue)this.style.setHue(z.hue);else{if(z.type===o.Sl.Position)return;(0,M.Kh)(z.type)}this.observer.requestRenderOnNextFrame()}render(z,te,$){this.style.render(z),this.plotter.draw(z,te,$)}setLineVisibility(z){Object.assign(this.visibilityState,z)}getColor(){return this.style.getColor()}constructor(z){this.observer=z,this.plotter=new N,this.visibilityState={isLineVisible:!1,isFading:!1},this.onInactivity=()=>{this.inactivityTimeout&&clearTimeout(this.inactivityTimeout),this.vestigialLineTimeout&&clearTimeout(this.vestigialLineTimeout),!(this.visibilityState.isFading||!this.visibilityState.isLineVisible)&&(this.setLineVisibility({isFading:!0}),this.style.startFade())},this.style=new L({onFadeCompleted:()=>this.onFadeCompleted(),requestRenderOnNextFrame:()=>this.observer.requestRenderOnNextFrame()})}}m(x,"DrawLine"),x.displayName="DrawLine";const B=m(J=>{let{refToForward:z,isHidden:te,numVisibleLines:$,top:q,left:re,width:de,height:oe,doNotApplyTargetRect:De}=J;if(De){const Z={display:te||$===0?"none":"block"};return t.createElement("canvas",{ref:z,style:Z,"data-qa":"huddles-drawing-canvas"})}const ae={display:te||$===0?"none":"block",...(0,D.n)({left:re,top:q,width:de,height:oe})};return t.createElement("canvas",{ref:z,style:ae,"data-qa":"huddles-drawing-canvas"})},"Canvas");B.displayName="Canvas";const F=t.memo(B,s.A),V=new c.A("calls"),Y=10,w=10,G=m(J=>{let{displayName:z,coord:[te,$]}=J;return t.createElement("div",{className:"p-calls_draw__name_tag",style:{left:`${te+Y}px`,top:`${$+w}px`}},z)},"name_tag_NameTag"),Ee=m((J,z)=>{let{id:te}=z;return{displayName:te==="self"?V.t("You"):(0,g.iU)(J,te)}},"name_tag_mapStateToProps"),ne=(0,_.N)(Ee)(G),se=-33,ce=-9,pe=m(J=>{let{top:z,left:te,width:$,height:q,leftOffset:re,topOffset:de,id:oe}=J;const De=te+re*$,ae=z+de*q,Z={left:`${De+ce}px`,top:`${ae+se}px`},ie=(0,t.useMemo)(()=>[De,ae],[De,ae]);return t.createElement(t.Fragment,null,oe!=="self"&&t.createElement("div",{key:`cursor-${oe}`,className:"p-calls_draw__pencil_cursor",style:Z}),t.createElement(ne,{key:`name-tag-${oe}`,id:oe,coord:ie}))},"Cursor");pe.displayName="Cursor";const ye=t.memo(pe,s.A);function Ie(){return Ie=Object.assign||function(J){for(var z=1;z<arguments.length;z++){var te=arguments[z];for(var $ in te)Object.prototype.hasOwnProperty.call(te,$)&&(J[$]=te[$])}return J},Ie.apply(this,arguments)}m(Ie,"_extends");var Se;class le extends(Se=t.Component){shouldComponentUpdate(z,te){return!(0,s.A)(this.props,z)||!(0,s.A)(this.state,te)}getOrCreatePeerLine(z){return this.peerLines[z]=this.peerLines[z]||new x({requestRenderOnNextFrame:()=>this.requestRenderOnNextFrame(),onLineVisibilityChanged:te=>this.setState($=>({numVisibleLines:$.numVisibleLines+(te?1:-1)}))}),this.peerLines[z]}onIncomingPeerLine(z){if(this.props.itemId&&z.itemId&&z.itemId!==this.props.itemId)return;const te=this.getOrCreatePeerLine(z.id);switch(te.update(z),z.type){case o.Sl.New:{this.setState($=>{let{tagCoords:q,userColors:re}=$;return{tagCoords:{...q,[z.id]:z.segment.d},userColors:{...re,[z.id]:te.getColor()}}});break}case o.Sl.Edit:{this.setState($=>{let{tagCoords:q}=$;return{tagCoords:{...q,[z.id]:z.segment.d}}});break}case o.Sl.ChangeHue:{this.setState($=>{let{userColors:q}=$;return{userColors:{...q,[z.id]:te.getColor()}}});break}case o.Sl.End:{this.setState($=>{let{tagCoords:q}=$;return{tagCoords:(0,n.A)(q,z.id)}});break}case o.Sl.Position:{const $=[z.x,z.y];this.setState(q=>{let{tagCoords:re}=q;return{tagCoords:{...re,[z.id]:$}}});break}default:break}}componentDidMount(){i.A.subscribe(this.onIncomingPeerLine),this.ctx=this.props.refToForward.current.getContext("2d"),this.onResize()}componentDidUpdate(z,te){z.targetRect!==this.props.targetRect&&this.onResize(),this.state.numVisibleLines<0&&(0,C.tZ)("DRAW-RENDERER").warn("Should not have a negative number of lines"),this.props.onRendererIsActive&&(this.state.numVisibleLines===0&&te.numVisibleLines>0||this.state.numVisibleLines>0&&te.numVisibleLines===0)&&this.props.onRendererIsActive(this.state.numVisibleLines!==0)}componentWillUnmount(){if(!(0,r.A)(this.rafId)){var z;(z=this.context.windowRef.deref())===null||z===void 0||z.cancelAnimationFrame(this.rafId)}i.A.unsubscribe(this.onIncomingPeerLine)}onResize(){this.ctx&&(this.ctx.canvas.width=this.props.targetRect.width,this.ctx.canvas.height=this.props.targetRect.height,L.renderBaseStyle(this.ctx),this.requestRenderOnNextFrame())}requestRenderOnNextFrame(){this.dirty||(this.dirty=!0,this.rafId=this.context.windowRef.deref().requestAnimationFrame(this.draw))}draw(){if(this.rafId=void 0,!this.ctx)return;const z=this.props.targetRect.width,te=this.props.targetRect.height;this.dirty=!1,this.ctx.clearRect(0,0,z,te);const $=Object.values(this.peerLines);for(let q=0;q<$.length;q++)$[q].render(this.ctx,z,te)}renderCursor(z,te,$){const{targetRect:q,useHuddlesCursor:re,itemId:de,isHostDrawWindow:oe,isWindowDrawing:De}=this.props;if(re){const ae=this.state.userColors[z],Z=de!=="self",ie=oe&&De;return t.createElement(I,{key:z,peerId:z,topOffset:te,leftOffset:$,width:q.width,height:q.height,color:ae,renderNameTag:Z,isWindowDrawMode:ie,xWindowPosition:q.left,yWindowPosition:q.top})}return t.createElement(ye,Ie({key:z,id:z,topOffset:te,leftOffset:$},q))}render(){if(this.props.setPositionToMatchTargetRect){const{targetRect:z}=this.props,te={...(0,D.n)({left:z.left,top:z.top,width:z.width,height:z.height})};return t.createElement("div",{className:"p-calls_draw__renderer",style:te},t.createElement(F,Ie({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect,{doNotApplyTargetRect:!0})),(0,u.A)(this.state.tagCoords,($,q)=>{let[re,de]=$;return this.renderCursor(q,de,re)}))}return t.createElement("div",{className:"p-calls_draw__renderer"},t.createElement(F,Ie({refToForward:this.props.refToForward,isHidden:this.props.isHidden,numVisibleLines:this.state.numVisibleLines},this.props.targetRect)),(0,u.A)(this.state.tagCoords,(z,te)=>{let[$,q]=z;return this.renderCursor(te,q,$)}))}constructor(z){super(z),this.dirty=!1,this.peerLines={},this.onResize=this.onResize.bind(this),this.onIncomingPeerLine=this.onIncomingPeerLine.bind(this),this.draw=this.draw.bind(this),this.renderCursor=this.renderCursor.bind(this),this.state={tagCoords:{},numVisibleLines:0,userColors:{}}}}m(le,"BaseDrawRenderer"),le.contextType=a._0,le.displayName="BaseDrawRenderer";const X=t.forwardRef((J,z)=>t.createElement(le,Ie({refToForward:z},J)))},1429018002:(W,T,e)=>{"use strict";e.d(T,{A:()=>C});var t=e(3134334389),s=e(9391594207),n=e(387328355),r=e(4844578989),u=e.n(r),i=e(4096483543),o=e(4954329752),a=e(7384121809),_=e(6839101721),l=e(3395259576),p=e(2615100822),g=e(4761125736);function c(){return c=Object.assign||function(D){for(var M=1;M<arguments.length;M++){var P=arguments[M];for(var S in P)Object.prototype.hasOwnProperty.call(P,S)&&(D[S]=P[S])}return D},c.apply(this,arguments)}m(c,"_extends");let E=m(class extends t.PureComponent{componentDidMount(){this.setUpMedia(),this.updateVideoState(),this.setupInteractionObserver()}componentDidUpdate(){this.setUpMedia(),this.updateVideoState()}componentWillUnmount(){var M;const P=this.videoRef.current,{shouldAttachStream:S,tileId:b,peerId:O}=this.props;!b||!P||(this.props.unbindVideo({tileId:b,videoRef:this.videoRef,shouldDetachStream:!!S,peerId:O}),P.removeEventListener("resize",this.onResize),(M=this.interactionObserver)===null||M===void 0||M.disconnect())}setUpMedia(){const M=this.videoRef.current,{shouldAttachStream:P,tileId:S,peerId:b}=this.props;!S||!M||(this.props.bindVideo({tileId:S,videoRef:this.videoRef,shouldAttachStream:!!P,peerId:b}),M.addEventListener("resize",this.onResize))}setupInteractionObserver(){var M;if(window!=null&&window.IntersectionObserver&&this.props.unbindNonVisibleVideos&&((M=this.interactionObserver)===null||M===void 0||M.disconnect(),this.interactionObserver=new IntersectionObserver(this.interactionObserverCallback,{root:null,threshold:this.intersectionCheckThresholds}),this.videoRef.current)){var P;(P=this.interactionObserver)===null||P===void 0||P.observe(this.videoRef.current)}}interactionObserverCallback(M){const P=M[0];if(!P)return;const S=this.videoRef.current,{shouldAttachStream:b,tileId:O,peerId:L}=this.props;!O||!S||(P.intersectionRatio>this.intersectionVisibleThreshold?this.props.bindVideo({tileId:O,videoRef:this.videoRef,shouldAttachStream:!!b,peerId:L}):this.props.unbindVideo({tileId:O,videoRef:this.videoRef,shouldDetachStream:!!b,peerId:L}))}onResize(){const M=this.videoRef.current;M&&(this.props.isSharingScreen?M.style.objectFit="contain":M.style.objectFit=M.videoWidth>M.videoHeight?"cover":"contain")}updateVideoState(){const{experimentCallsPauseVideoOnScreenshareGroupTreatment:M,peerId:P,tileId:S,isActivePeerSharingScreen:b,isShroudVisible:O}=this.props;!M||!S||(P!=="self"&&b&&!O?this.props.pauseVideo({tileId:S}):this.props.unpauseVideo({tileId:S}))}render(){const{refToForward:M,shouldFlip:P,peerId:S,className:b,width:O,height:L,onLoadedData:k}=this.props;return t.createElement("video",c({className:u()("p-calls_video",b,{flipped:P}),ref:(0,o.P)(this.videoRef,M),key:S,"data-qa":"free-willy-video-element",style:{width:O,height:L}},k?{onLoadedData:k}:{}))}constructor(M){super(M),this.videoRef=(0,t.createRef)(),this.intersectionVisibleThreshold=0,this.intersectionCheckThresholds=[0],this.onResize=M.onResize?M.onResize:this.onResize.bind(this),this.interactionObserverCallback=this.interactionObserverCallback.bind(this)}},"VideoElement");E.displayName="VideoElement";const A=m((D,M)=>{var P;const S=(0,g._Z)(D,"calls_pause_video_on_screenshare")==="treatment",b=(0,n.vz)(D),O=M.peer?(0,n.Bf)(M.peer):!1;let L;if(b)L=M.tileId;else{var k,K,N,R,U,x;L=O?(k=M.peer)===null||k===void 0||(K=k.tileIds)===null||K===void 0||(N=K.screenshare)===null||N===void 0?void 0:N.tileId:(R=M.peer)===null||R===void 0||(U=R.tileIds)===null||U===void 0||(x=U.camera)===null||x===void 0?void 0:x.tileId}return{tileId:L,peerId:(P=M.peer)===null||P===void 0?void 0:P.id,isSharingScreen:O,isShroudVisible:S&&(0,p.A)()?(0,l.pI)(D):!1,isActivePeerSharingScreen:(0,n.$Q)(D),experimentCallsPauseVideoOnScreenshareGroupTreatment:S}},"mapStateToProps"),d=m(D=>({bindVideo:M=>(0,i.A)()?(0,a.dispatchForClientStore)((0,_.d2)(M)):D((0,_.d2)(M)),unbindVideo:M=>(0,i.A)()?(0,a.dispatchForClientStore)((0,_.gJ)(M)):D((0,_.gJ)(M)),pauseVideo:M=>(0,i.A)()?(0,a.dispatchForClientStore)((0,_.WY)(M)):D((0,_.WY)(M)),unpauseVideo:M=>(0,i.A)()?(0,a.dispatchForClientStore)((0,_.D8)(M)):D((0,_.D8)(M))}),"mapDispatchToProps"),v=(0,s.N)(A,d)(E),h=t.forwardRef((D,M)=>t.createElement(v,c({refToForward:M},D)));function f(){return f=Object.assign||function(D){for(var M=1;M<arguments.length;M++){var P=arguments[M];for(var S in P)Object.prototype.hasOwnProperty.call(P,S)&&(D[S]=P[S])}return D},f.apply(this,arguments)}m(f,"peer_video_element_extends");const y=m((D,M)=>{const P=(0,n.vz)(D),S=(0,n.JZ)(D,M.id);let b;const O=M.tileId;if(!P)b=(0,n.fy)(S)&&!S.isScreenshareEnabled;else{var L,k;const K=((L=S.tileIds)===null||L===void 0||(k=L.screenshare)===null||k===void 0?void 0:k.tileId)===O;b=(0,n.fy)(S)&&!K}return{peer:S,tileId:O,shouldFlip:b}},"peer_video_element_mapStateToProps"),I=(0,s.N)(y)(h),C=t.forwardRef((D,M)=>t.createElement(I,f({},D,{refToForward:M})))},1337358413:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>c,Ft:()=>l});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(9391594207),u=e(3328068409),i=e(9009528296),o=e(9853754481);function a(){return a=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var d=arguments[A];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(E[v]=d[v])}return E},a.apply(this,arguments)}m(a,"_extends");const _=15;function l(E){return Math.min(1,Math.max(0,o.Ep*E))}m(l,"getClampedAudioLevel");let p=m(class extends t.PureComponent{componentDidMount(){i.A.subscribe(this.onLevelUpdated)}componentWillUnmount(){i.A.unsubscribe(this.onLevelUpdated)}onLevelUpdated(A){const{isEnabled:d}=this.props;if(!d){this.numBubbles>0&&this.setState(()=>({numActiveBubbles:0,numInactiveBubbles:this.numBubbles}));return}const v=Math.floor(this.numBubbles*l(A));this.setState(()=>({numActiveBubbles:v,numInactiveBubbles:this.numBubbles-v}))}renderBubbles(){const{numActiveBubbles:A,numInactiveBubbles:d}=this.state,{bubbleClassname:v}=this.props,h=n()("p-audio_levels__bubble","p-audio_levels__bubble--active",v,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),f=n()("p-audio_levels__bubble","p-audio_levels__bubble--inactive",v,{"p-audio_levels__bubble--dark":this.props.clientTheme==="dark"}),y=Array.from({length:A},(C,D)=>t.createElement("span",{key:`active${D}`,className:h})),I=Array.from({length:d},(C,D)=>t.createElement("span",{key:D,className:f}));return y.concat(I)}render(){const A=this.props.ariaLabelledBy||this.props.ariaLabel?{role:"meter","aria-labelledby":this.props.ariaLabelledBy,"aria-label":this.props.ariaLabel,"aria-valuenow":Math.floor(this.state.numActiveBubbles/this.numBubbles*100),"aria-valuemin":0,"aria-valuemax":100,tabIndex:0}:{};return t.createElement("div",a({className:n()("p-audio_levels",this.props.containerClassName),"data-qa":"audio-levels-bubbles"},A),this.renderBubbles())}constructor(A){super(A);var d;this.numBubbles=(d=this.props.initNumBubbles)!==null&&d!==void 0?d:_;var v;this.state={numInactiveBubbles:(v=A.initNumBubbles)!==null&&v!==void 0?v:_,numActiveBubbles:0},this.onLevelUpdated=this.onLevelUpdated.bind(this)}},"AudioMeter");p.displayName="AudioMeter";const g=m(E=>({clientTheme:(0,u.to)(E)}),"mapStateToProps"),c=(0,r.N)(g)(p)},610288365:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>i});var t=e(6696292586),s=e(3398586081);class n{constructor(){this.isInitialized=!1,this.isUsingBattery=null,this.batteryLevel=null,this.isSupported=!1,this.registerListeners=()=>{var a,_;(a=this.battery)===null||a===void 0||a.addEventListener("chargingchange",this.handleBatteryUpdate),(_=this.battery)===null||_===void 0||_.addEventListener("levelchange",this.handleBatteryUpdate)},this.removeEventListeners=()=>{var a,_;(a=this.battery)===null||a===void 0||a.removeEventListener("chargingchange",this.handleBatteryUpdate),(_=this.battery)===null||_===void 0||_.removeEventListener("levelchange",this.handleBatteryUpdate)},this.handleBatteryUpdate=()=>{this.isSupported&&this.updateBatteryState()},this.updateBatteryState=()=>{this.battery&&(this.isUsingBattery=!this.battery.charging,this.batteryLevel=this.battery.level)},this.initialize=async()=>{await this.setUp(),this.updateBatteryState()},this.setUp=async()=>{if(!this.isInitialized)try{if(navigator.getBattery){const a=await navigator.getBattery();this.battery=a,this.battery&&(this.isSupported=!0,this.updateBatteryState(),this.registerListeners())}else this.isSupported=!1}catch{this.isSupported=!1}finally{this.isInitialized=!0}},this.cleanup=()=>{this.isSupported&&this.removeEventListeners()},this.isUsingBatteryPower=()=>{if(this.isSupported)return!!this.isUsingBattery},this.getLevel=()=>{if(!(!this.isSupported||!(0,t.A)(this.batteryLevel)))return this.batteryLevel*100},this.setUp()}}m(n,"HuddleBatteryManager");const r=(0,s.A)(()=>new n),u={getHuddleBatteryManager:r,HuddleBatteryManager:n},i=r},6664301844:(W,T,e)=>{"use strict";e.d(T,{$H:()=>Z,$b:()=>E,$s:()=>ae,E9:()=>d,Es:()=>i,I8:()=>p,KK:()=>J,Ll:()=>B,Ls:()=>Fe,QJ:()=>N,Q_:()=>Re,RM:()=>oe,VW:()=>Ke,Ws:()=>ye,XL:()=>c,Xw:()=>u,ZT:()=>$,Ze:()=>pe,_R:()=>re,b9:()=>A,dQ:()=>o,gi:()=>y,i3:()=>X,j3:()=>ve,jp:()=>k,jq:()=>be,kM:()=>Ue,mn:()=>g,of:()=>Ce,px:()=>me,uL:()=>l,vB:()=>Se,w2:()=>He,wV:()=>se,xY:()=>a,xc:()=>K,z2:()=>_,zF:()=>V,zg:()=>de});var t=e(7164668892),s=e.n(t),n=e(3305135794),r=e.n(n);let u=t.CheckAudioConnectivityFeedback,i=t.CheckAudioInputFeedback,o=t.CheckAudioOutputFeedback,a=t.CheckCameraResolutionFeedback,_=t.CheckContentShareConnectivityFeedback,l=t.CheckNetworkTCPConnectivityFeedback,p=t.CheckNetworkUDPConnectivityFeedback,g=t.CheckVideoConnectivityFeedback,c=t.CheckVideoInputFeedback,E=t.LogLevel,A=t.MeetingSessionStatusCode,d=t.TranscriptItemType,v=null;const h=null;let f=null;const y=t.AllHighestVideoBandwidthPolicy;let I,C=null,D=null;const M=t.DefaultDeviceController;let P;const S=t.DefaultMeetingReadinessChecker;let b;const O=t.DefaultMeetingSession;let L,k=t.DefaultModality,K=t.DefaultVideoTile,N=t.MeetingSessionConfiguration,R=null,U=null,x=null,B=t.PermissionDeniedError,F=null,V=t.Versioning,Y=null,w=null,G=null,Ee=null,ne=null,se=t.VoiceFocusDeviceTransformer,ce=null,pe=t.DefaultVideoTransformDevice,ye=t.BackgroundBlurVideoFrameProcessor,Ie=null,Se=t.CSPMonitor;const le=null;let X=t.VideoFxProcessor,J=t.VideoCodecCapability,z=!1,te=!1;async function $(j){if(z=j,!z||te)return;const ee=await Promise.resolve().then(e.t.bind(e,3305135794,23));u=ee.CheckAudioConnectivityFeedback,i=ee.CheckAudioInputFeedback,o=ee.CheckAudioOutputFeedback,a=ee.CheckCameraResolutionFeedback,_=ee.CheckContentShareConnectivityFeedback,l=ee.CheckNetworkTCPConnectivityFeedback,p=ee.CheckNetworkUDPConnectivityFeedback,g=ee.CheckVideoConnectivityFeedback,c=ee.CheckVideoInputFeedback,f=ee.ClientVideoStreamReceivingReport,C=ee.ConnectionHealthData,D=ee.DataMessage,P=ee.DefaultDeviceController,b=ee.DefaultMeetingReadinessChecker,L=ee.DefaultMeetingSession,k=ee.DefaultModality,K=ee.DefaultVideoTile,E=ee.LogLevel,N=ee.MeetingSessionConfiguration,R=ee.MeetingSessionStatus,A=ee.MeetingSessionStatusCode,U=ee.MeetingSessionVideoAvailability,x=ee.MutableVideoPreferences,B=ee.PermissionDeniedError,F=ee.TargetDisplaySize,d=ee.TranscriptItemType,v=ee.TranscriptionStatusType,V=ee.Versioning,Y=ee.VideoPreference,w=ee.VideoPreferences,G=ee.VideoPriorityBasedPolicy,Ee=ee.VideoPriorityBasedPolicyConfig,ne=ee.VideoTileState,I=ee.AudioProfile,se=ee.VoiceFocusDeviceTransformer,ce=ee.DefaultBrowserBehavior,pe=ee.DefaultVideoTransformDevice,ye=ee.BackgroundBlurVideoFrameProcessor,Ie=ee.BackgroundReplacementVideoFrameProcessor,Se=ee.CSPMonitor,X=ee.VideoFxProcessor,J=ee.VideoCodecCapability,te=!0}m($,"setUseExpSDK");function q(){return z}m(q,"isUsingExpSDK");function re(){return P||M}m(re,"getDefaultDeviceController");function de(){return M}m(de,"getDefaultDeviceControllerDefault");function oe(){return P}m(oe,"getDefaultDeviceControllerExp");function De(){return b||S}m(De,"getDefaultMeetingReadinessChecker");function ae(){return S}m(ae,"getDefaultMeetingReadinessCheckerDefault");function Z(){return b}m(Z,"getDefaultMeetingReadinessCheckerExp");function ie(){return L||O}m(ie,"getDefaultMeetingSession");function Ce(){return O}m(Ce,"getDefaultMeetingSessionDefault");function Re(){return L}m(Re,"getDefaultMeetingSessionExp");function He(){return se}m(He,"getVoiceFocusDeviceTransformer");function be(){return pe}m(be,"getDefaultVideoTransformDevice");function Ue(){return ye}m(Ue,"getBackgroundBlurVideoFrameProcessor");function me(){return n.BackgroundReplacementVideoFrameProcessor}m(me,"getBackgroundReplacementVideoFrameProcessor");function ve(){return t.AudioProfile}m(ve,"getAudioProfileDefault");function Fe(){return I}m(Fe,"getAudioProfileExp");function Ke(j){return!!j.type}m(Ke,"isTranscriptEventTranscriptionStatus")},252549317:(W,T,e)=>{"use strict";e.d(T,{LD:()=>i,MS:()=>o,Vd:()=>_,k0:()=>a});var t=e(8571983633),s=e(4094753332),n=e(9042410435);const r="4.30.79",u=[n.R.DesktopScreen,n.R.DesktopWindow];function i(){return!!(0,s.dY)(r)}m(i,"isWindowDrawingSupported");function o(l){return(0,t.A)(l)?n.f.None:l.startsWith("screen:")?n.f.Screen:l.startsWith("window:")?n.f.Window:n.f.Other}m(o,"determineContentShareTypeFromSourceId");function a(l){if(!(0,s.y3)())return n.R.BrowserContent;const p=o(l);if((0,s.y3)())switch(p){case n.f.Screen:return n.R.DesktopScreen;case n.f.Window:return n.R.DesktopWindow;default:return n.R.DesktopUnknown}return n.R.Unknown}m(a,"determineFullContentShareSourceType");function _(l){return u.includes(l)}m(_,"doesContentShareTypeSupportDrawing")},9042410435:(W,T,e)=>{"use strict";e.d(T,{R:()=>s,f:()=>t});var t;(function(n){n.Screen="screen",n.Window="window",n.Other="other",n.None="none"})(t||(t={}));var s;(function(n){n.DesktopScreen="desktop:screen",n.DesktopWindow="desktop:window",n.DesktopUnknown="desktop:unknown",n.BrowserContent="browser:content",n.MobileScreen="mobile:screen",n.Unknown="unknown"})(s||(s={}))},416787925:(W,T,e)=>{"use strict";e.d(T,{Bm:()=>_,LL:()=>o,On:()=>E,Zy:()=>i,dx:()=>u,my:()=>a,tk:()=>p});var t=e(2208015175),s=e(7174777686),n=e(8736071954),r=e(336376314);const u="default",i="communications",o=[n.lW.Microphone,n.lW.Camera,n.Q4];function a(A,d){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o;(0,t.A)(d,(h,f)=>{if(!(0,s.A)(v,f))return;if(!h.length){A.warn(`No ${f} devices available`);return}const y=new r.M(["id","label"]);h.forEach(I=>{y.add([I.id,I.label].map(String))}),A.info(`${f} devices:
${y.report()}`)})}m(a,"logDevices");function _(){return{camera:[],microphone:[],output:[]}}m(_,"createEmptyDevices");const l={audioinput:n.lW.Microphone,videoinput:n.lW.Camera,audiooutput:n.Q4};function p(A){const d=l[A.kind],v={id:A.deviceId,label:A.label||void 0,groupId:A.groupId||void 0};return g(d)?{...v,type:d}:{...v,type:d}}m(p,"makeDevice");function g(A){return A!==n.Q4}m(g,"isInputDeviceType");function c(A){return g(A.type)}m(c,"isInputDevice");function E(A){return A.replace(/ *?\([^)]*?\) *?/g,"")}m(E,"removeDeviceIdFromDeviceLabel")},1473609332:(W,T,e)=>{"use strict";e.d(T,{t3:()=>i,Bh:()=>p,i4:()=>c});var t=e(4103274853);function s(){return"0.1"}m(s,"getDevicePrefsVersion");var n=e(416787925),r=e(2825968873);const u="devicePrefs";function i(A){return(0,t.A)(A,d=>d[0])}m(i,"getPreferredDevices");function o(){return{camera:[],microphone:[n.dx,n.Zy],output:[n.dx,n.Zy]}}m(o,"createDefaultDevicePriority");function a(){return{camera:[],microphone:[],output:[]}}m(a,"createDefaultDeviceExtendedPriority");function _(){return{enableAGC:!0,enableNoiseSuppression:!0}}m(_,"createDefaultAudioPrefs");function l(){return{enableHD:!1,mirrorVideo:!1,effect:void 0}}m(l,"createDefaultVideoPrefs");function p(){const A=localStorage.getItem(u),d={version:s(),deviceIdPriorities:o(),deviceIdPrioritiesExtended:a(),video:l(),audio:_()};if(!A)return d;try{const v=JSON.parse(A);return v.version!==s()?d:{...d,...v}}catch(v){return(0,r.tZ)("DEVICES").error("Could not read device preferences from localStorage: ",v.message),d}}m(p,"readDevicePrefs");async function g(A){const d={},v=await navigator.mediaDevices.enumerateDevices();for(const h of Object.keys(A)){const f=[],y=h;for(let I=0;I<A[y].length;I++){const C=A[y][I],D=v.find(M=>M.deviceId===C);D&&f.push({id:D.deviceId,groupId:D.groupId,label:D.label,labelWithoutId:(0,n.On)(D.label)})}d[h]=f}return d}m(g,"updateDeviceIdPrioritiesExtended");async function c(A){try{const d=await g(A.deviceIdPriorities),v={...A,deviceIdPrioritiesExtended:d};localStorage.setItem(u,JSON.stringify(v))}catch(d){(0,r.tZ)("DEVICES").error("Could not write device preferences to localStorage: ",d.message)}}m(c,"writeDevicePrefs");function E(A,d){let v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const h=zipObject(d,range(d.length)),f=zipObject(v.map(y=>y.labelWithoutId),range(v.length));return sortBy(A,y=>{const I=removeDeviceIdFromDeviceLabel(y.label);return isUndefined(h[y.deviceId])?isUndefined(f[I])?1/0:f[I]:h[y.deviceId]})}m(E,"sortDevicesByPriorityWithFallback")},9195837907:(W,T,e)=>{"use strict";e.d(T,{t:()=>t});var t;(function(s){s.Blur="blur",s.Background="bg"})(t||(t={}))},7149946954:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>M});var t=e(8736071954),s=e(4518410378),n=e(5387083734),r=e(462591818),u=e(4094753332),i=e(337319621),o;(function(P){P.Granted="granted",P.Denied="denied",P.Prompt="prompt",P.NotDetermined="not-determined",P.Restricted="restricted",P.Unknown="unknown"})(o||(o={}));var a;(function(P){P.CAMERA="camera",P.MICROPHONE="microphone",P.SCREEN="display-capture"})(a||(a={}));const _={[r.mT.MICROPHONE]:a.MICROPHONE,[r.mT.CAMERA]:a.CAMERA,[r.mT.SCREEN]:a.SCREEN},l={[r.mT.MICROPHONE]:null,[r.mT.CAMERA]:null,[r.mT.SCREEN]:null},p=m(()=>({...l}),"getInitialPermissionsState");var g=e(6998663753),c=e(1545824888);let E=m(class{constructor(S){this.config=S,this.canAccessMediaResource=b=>{const O=this.wasPermissionGranted(b);return this.logger.info(`${b} permissions granted: ${O}`),{isAvailable:this.config.isElectronApiAvailable,status:this.permissions[b]}},this.requestMediaAccess=async b=>(this.updatePermissionsState(b,this.getDefaultAccessResult().status),this.logger.error("Requesting media access is not implemented for this device, but it is being called. This is likely a bug."),c.S.resolve({isAvailable:this.config.isElectronApiAvailable,isGranted:!0})),this.refreshAllPermissions=async()=>{try{await this.refreshDevicePermissionStatus(r.mT.MICROPHONE),await this.refreshDevicePermissionStatus(r.mT.CAMERA),await this.refreshDevicePermissionStatus(r.mT.SCREEN)}catch(b){this.logger.warn("An error occurred while refreshing device permissions",b)}},this.refreshDevicePermissionStatus=async b=>{this.updatePermissionsState(b,this.getDefaultAccessResult().status)},this.getDefaultAccessResult=()=>({isAvailable:this.config.isElectronApiAvailable,status:t.eJ.Granted}),this.updatePermissionsState=(b,O)=>{this.permissions[b]!==O&&(this.logger.info(`permission state for ${b} changed to ${O}`),this.permissions[b]=O,this.config.onPermissionsChange(this.permissions))},this.wasPermissionGranted=b=>{let O=!1;return this.permissions[b]&&(O=this.permissions[b]===t.eJ.Granted),O},this.hasNoKnownPermissions=b=>this.permissions[b]===null,this.logger=this.config.logger,this.permissions=this.config.initialState}},"DefaultDevicePermissions");var A=e(9323322135);let d=m(class extends E{constructor(S){super(S),this.refreshDevicePermissionStatus=async b=>{const{status:O}=await(0,A.XBC)(b);this.logger.info(`Received ${b} access status for desktop app: ${O}`),this.updatePermissionsState(b,O)},this.requestMediaAccess=async b=>{const{isAvailable:O,isGranted:L}=await(0,A.Nin)(b);return this.updatePermissionsState(b,L?t.eJ.Granted:t.eJ.Denied),{isAvailable:O,isGranted:!!L}}}},"DesktopDevicePermissions"),v=m(class extends E{constructor(S){super(S),this.refreshDevicePermissionStatus=async b=>{if(b===r.mT.SCREEN)return;const O=b===r.mT.MICROPHONE?"audioinput":"videoinput";try{const k=(await navigator.mediaDevices.enumerateDevices()).filter(N=>N.kind===O),K=k.length>0&&k.some(N=>N.label.trim()!=="");this.updatePermissionsState(b,K?t.eJ.Granted:t.eJ.NotDetermined)}catch{this.logger.error('An error occurred enumerating devices. Setting access status to "granted"'),this.updatePermissionsState(b,t.eJ.NotDetermined)}}}},"FirefoxDevicePermissions"),h=m(class extends E{constructor(...S){super(...S),this.changeHandlers=p(),this.refreshDevicePermissionStatus=async b=>{const O=await navigator.permissions.query({name:_[b]});this.updatePermissionsState(b,O.state),this.logger.info(`Received ${b} access status for browser: ${this.permissions[b]}`),this.maybeRegisterPermissionChangeListener(b,O)},this.maybeRegisterPermissionChangeListener=(b,O)=>{if(!this.changeHandlers[b]){const L=m(()=>this.onPermissionChangeEvent(b,O==null?void 0:O.state),"handler");O.addEventListener("change",L),this.changeHandlers[b]=L}},this.onPermissionChangeEvent=(b,O)=>{this.updatePermissionsState(b,O)}}},"BrowserDevicePermissions");var f=e(3036243650);const y="device-permissions-state",I=7*24*60*60*1e3,C=5*1e3;class D{isPersistedStateTrustworthy(S){return!(!S||Date.now()-S>I)}savePermissionsToLocalStorage(S){try{const b={permissions:S,timestamp:Date.now()},O=JSON.stringify(b);localStorage.setItem(y,O),this.logger.info(`Permissions saved to local storage: ${O}`)}catch(b){this.logger.error("Error saving permissions to local storage",b)}}readPermissionsFromLocalStorage(){try{const S=localStorage.getItem(y);if(S){this.logger.info(`Permissions loaded from local storage ${S}`);const b=JSON.parse(S);return this.isPersistedStateTrustworthy(b==null?void 0:b.timestamp)?b.permissions:(this.logger.warn("Permissions not considered trustworthy. Requiring refresh"),null)}}catch(S){this.logger.error("Error reading permissions from local storage",S)}return null}constructor(){this.isSSB=(0,u.y3)(),this.logger=(0,i.Wo)({label:"DEVICE-PERMISSIONS-MANAGER"}),this.initialized=!1,this.init=(0,g.A)(async()=>{this.logger.info("Initializing media device permissions manager"),this.initialized=!0,this.permissionsStrategy=this.getStrategy(),setTimeout(this.refreshAllPermissions,C),this.logger.info("Scheduled permissions refresh")}),this.canAccessMediaResource=S=>{var b,O;return!((b=this.permissionsStrategy)===null||b===void 0)&&b.canAccessMediaResource?this.permissionsStrategy.canAccessMediaResource(S):{isAvailable:!!(!((O=this.config)===null||O===void 0)&&O.isElectronApiAvailable),status:t.eJ.Granted}},this.requestMediaAccess=async S=>{var b;return!((b=this.config)===null||b===void 0)&&b.isElectronApiAvailable?this.permissionsStrategy.requestMediaAccess(S):(this.logger.warn("Permissions strategy not available"),{isAvailable:!1,isGranted:!0})},this.getStrategy=()=>{const S={initialState:this.readPermissionsFromLocalStorage()||p(),isElectronApiAvailable:this.isSSB&&(0,u.cX)(),onPermissionsChange:this.onPermissionsChange,logger:this.logger};return this.config=S,(0,u.y3)()?(this.logger.info("Using desktop device permissions strategy"),new d(S)):(0,u.gm)()?(this.logger.info("Using Firefox device permissions strategy"),new v(S)):this.shouldUsePermissionsApi()?(this.logger.info("Using browser device permissions strategy"),new h(S)):(this.logger.info("Using default device permissions strategy"),new E(S))},this.onPermissionsChange=S=>{this.logger.info("Permissions changed",S),(0,f.pq)(),this.savePermissionsToLocalStorage(S)},this.refreshAllPermissions=async()=>{this.logger.info("Refreshing all permissions");try{await navigator.mediaDevices.enumerateDevices(),await this.refreshPermissions(r.mT.MICROPHONE),await this.refreshPermissions(r.mT.CAMERA),await this.refreshPermissions(r.mT.SCREEN)}catch(S){this.logger.warn("An error occurred while refreshing device permissions",S)}},this.refreshPermissions=async S=>(this.logger.debug(`Refreshing ${S} permissions`),(0,n.IE)("media-access-update",async()=>this.permissionsStrategy.refreshDevicePermissionStatus(S)).catch(b=>{this.logger.warn(`An error occurred while trying to check ${S} permissions`,b)})),this.shouldUsePermissionsApi=()=>!this.isSSB&&!(0,u.gm)()&&"permissions"in s.J.navigator,this.clearAllPermissions=()=>{this.initialized&&this.savePermissionsToLocalStorage(p())}}}m(D,"DevicePermissionsManager");const M=new D},3036243650:(W,T,e)=>{"use strict";e.d(T,{_o:()=>Ge,Nj:()=>Me,T5:()=>Te,Zy:()=>j,G0:()=>Qe,pq:()=>Je,cT:()=>je,i_:()=>ee,es:()=>we});var t=e(8736071954),s;(function(fe){fe.Microphone="audioinput",fe.Camera="videoinput",fe.Speakers="audiooutput"})(s||(s={}));const n="default",r="communications",u={[s.Camera]:void 0,[s.Microphone]:n,[s.Speakers]:n},i=m(fe=>({[t.lW.Microphone]:s.Microphone,[t.lW.Camera]:s.Camera,[t.Q4]:s.Speakers})[fe],"adapter_mapDeviceTypeToDeviceKind"),o=m(fe=>({[s.Microphone]:t.lW.Microphone,[s.Camera]:t.lW.Camera,[s.Speakers]:t.Q4})[fe],"mapDeviceKindToDeviceType"),a=m(fe=>{const Ve=o(fe.kind);return Ve===t.Q4?{id:fe.deviceId,label:fe.label,groupId:fe.groupId,type:t.Q4}:{id:fe.deviceId,label:fe.label,groupId:fe.groupId,type:Ve,track:void 0}},"adapter_mapMediaDeviceInfoToDevice");var _=e(337319621);const p=(0,_.Wo)({label:"DEVICE-PREFS"});var g=e(2028988448),c=e(4518410378),E=e(235108050),A=e(9113979368),d=e(4103274853),v=e(9268023148),h=e(2208015175),f=e(8289365785),y=e(4094753332),I=e(3078252698);const C=["ZoomAudioDevice (Virtual)"],P=["default","communications"],S=m(fe=>P.includes(fe),"isOSDefaultDeviceId"),b=m((fe,Ve)=>{if(S(fe.deviceId))return!1;const Be=Ve.find(Ye=>S(Ye.deviceId)&&Ye.kind===fe.kind);return(Be==null?void 0:Be.groupId)===fe.groupId&&(Be==null?void 0:Be.label.includes(fe.label))},"isOSDefaultDeviceForType"),O=m(fe=>{const Ve=/iphone/,Be=fe.label;if(!(0,I.A)(Be))return!1;const Ye=(0,y.cX)()&&Be&&Ve.test(Be.toLowerCase()),et=(Be==null?void 0:Be.toLowerCase().includes("display audio"))||Be.toLowerCase().includes("displayport");return Ye||et},"shouldDeprioritizeDevice"),L=m(fe=>!fe.label||C.includes(fe.label),"shouldRemoveDevice"),k=m(fe=>fe&&fe.replace(/ *?\([a-zA-Z0-9]{4}:[a-zA-Z0-9]{4}\) *?/g,""),"removeDeviceFingerprintFromLabel"),K=m((fe,Ve)=>fe.filter(Be=>Be.label).map(Be=>{let Ye=k(Be.label)||"";if(Ve&&S(Be.deviceId)){const at=Ve[Be.kind];at&&(Ye=`System Default (${at})`)}return{deviceId:Be.deviceId,kind:Be.kind,label:Ye,groupId:Be.groupId}}),"scrubAvailableDevices"),N=m((fe,Ve)=>`${fe}-${Ve}`,"generateDeviceKey");var R=e(6696292586),U=e(6313685253),x=e(8086952004);const B="version",F=4,V={1:fe=>fe,2:fe=>(0,d.A)(fe,Ve=>{if((0,R.A)(Ve))return Ve;const Be={...Ve},Ye=k(Ve.deviceLabel);return Ye&&Ye!==Ve.deviceLabel&&(Be.deviceLabel=Ye),Be}),3:fe=>(0,U.A)(fe,(Ve,Be,Ye)=>{if(!S(Ye)&&Ye!==B){const et=(0,x.A)(fe,(at,gt)=>S(gt)&&at.deviceInfo.kind===Be.deviceInfo.kind&&at.deviceInfo.groupId===Be.deviceInfo.groupId&&at.deviceInfo.label.includes(Be.deviceInfo.label));et&&((!Be.used&&et.used||Be.used&&et.used&&Be.used<et.used)&&(Be.used=et.used),(!Be.selected&&et.selected||Be.selected&&et.selected&&Be.selected<et.selected)&&(Be.selected=et.selected)),Ve[Ye]=Be}return Ve},{}),4:fe=>(0,U.A)(fe,(Ve,Be,Ye)=>{if((0,R.A)(Be))Ve[Ye]=Be;else{const{deviceId:et,kind:at}=Be.deviceInfo,gt=N(et,at);Ve[gt]=Be}return Ve},{})},Y=m(fe=>fe[B]!==F,"isMigrationNeeded"),w=m(fe=>{if(!V[F])throw new Error(`No migration found for version ${F}`);const Ve=fe[B]||0;if(Ve===F)return fe;let Be={...fe};for(let Ye=Ve;Ye<F;Ye++){const et=Ye+1,at=V[et];Be=at(Be),Be[B]=et}return Be},"maybeMigrateDeviceHistory");var G=e(1649982175);const Ee="device-selection-records",ne=p,se=m(()=>{let fe;try{const Ve=localStorage.getItem(Ee);Ve?(fe=JSON.parse(Ve),Y(fe)?(ne.debug(`Migration needed for device selection history from ${fe[B]} to ${F}`),fe=w(fe)):ne.debug("No migration needed for device selection history")):fe=void 0}catch(Ve){ne.error("Failed to read device selection history from local storage",Ve),fe=void 0}return ne.debug("Reading device selection history from local storage",fe),fe?(0,G.A)(fe,B):void 0},"readSelectionHistoryFromLocalStorage"),ce=m(fe=>{if(fe){ne.debug("Writing device selection history to local storage",fe);try{const Ve={...fe,[B]:F};localStorage.setItem(Ee,JSON.stringify(Ve))}catch(Ve){ne.error("Failed to write device selection history to local storage",Ve)}}},"saveDeviceSelectionRecordsToLocalStorage");var pe=e(700984029),ye=e(4250409994),Ie=e(6533394955),Se=e(7384121809),le=e(3783723764),X=e(6217320234);class J{hasRecordForDevice(Ve){return!!this.getRecord(Ve)}getFormattedLabelForRecord(Ve){const Be=this.getRecord(Ve);return Be==null?void 0:Be.deviceLabel}wasDeviceSelected(Ve){const Be=this.getRecord(Ve);return!!(Be!=null&&Be.selected)}wasDeviceUsed(Ve){const Be=this.getRecord(Ve);return!!(Be!=null&&Be.used)}createRecord(Ve){const Be=this.createEmptyDeviceSelectionRecord(Ve);if(Be.deviceLabel){const Ye=this.findExistingRecordByLabel(Ve,Be.deviceLabel);if(Ye){p.info(`Matching device record found for label: ${Ye.deviceLabel} ${Ye.deviceInfo.deviceId}`),this.removeRecord(Ye.deviceInfo),this.setRecord(Ve,{...Ye,deviceInfo:Ve});return}}this.setRecord(Ve,Be)}updateDeviceUsed(Ve){const Be=this.getRecord(Ve);Be&&(p.info(`Removing device selection record for used device ${Ve.deviceId}`),this.setRecord(Ve,{...Be,used:Date.now()}))}updateDeviceSelected(Ve){const Be=this.getRecord(Ve);Be&&(p.info(`Updating device selection record for selected device ${Ve.deviceId}`),this.setRecord(Ve,{...Be,selected:Date.now()}))}updateDeviceLabel(Ve){this.getRecord(Ve)&&p.info(`Updating device selection record for label ${Ve.label} ${Ve.deviceId}`)}updateDeviceInfo(Ve){const Be=this.getRecord(Ve);Be&&(p.debug(`Updating device selection record for device info ${Ve.label} ${Ve.deviceId}`),this.setRecord(Ve,{...Be,deviceLabel:Ve.label,deviceInfo:Ve}))}persistToLocalStorage(){p.info("Persisting device selection records to local storage"),ce(this.records)}initFromLocalStorage(){this.records=se()||{},p.info("Initializing device preferences manager from local storage")}setRecord(Ve,Be){const{deviceId:Ye,kind:et}=Ve,at=N(Ye,et);p.debug(`Setting device selection record for ${at}`,Be),this.records[at]=Be}getRecord(Ve){let{deviceId:Be,kind:Ye}=Ve;const et=N(Be,Ye);return this.records[et]}removeRecord(Ve){const{deviceId:Be,kind:Ye}=Ve,et=N(Be,Ye);p.info(`Removing device selection record for ${et}`),delete this.records[et]}findExistingRecordByLabel(Ve,Be){return Object.values(this.records).find(et=>et.deviceLabel===Be&&et.deviceInfo.kind===Ve.kind)}constructor(){this.records={},this.init=()=>{this.initFromLocalStorage(),this.printRecords()},this.getAllRecordsForTesting=()=>({...this.records}),this.getDeviceInfoForRecord=Ve=>{const Be=this.getRecord(Ve);if(Be)return{...Be.deviceInfo}},this.sortDevicesByLastSelection=Ve=>(0,le.A)(Ve,Be=>{var Ye;return(Ye=this.records[N(Be.deviceId,Be.kind)])===null||Ye===void 0?void 0:Ye.selected},"desc"),this.sortDevicesByLastUsed=Ve=>(0,le.A)(Ve,Be=>{var Ye;return(Ye=this.records[N(Be.deviceId,Be.kind)])===null||Ye===void 0?void 0:Ye.used},"desc"),this.sortDevicesByLabel=Ve=>(0,X.A)(Ve,Be=>Be.label),this.printRecords=()=>{p.info("Device selection records:",this.records)},this.createEmptyDeviceSelectionRecord=Ve=>({deviceInfo:Ve,deviceLabel:Ve.label,selected:null,used:null})}}m(J,"DeviceSelectionRecordsStore");let z;const te=m(()=>(z||(z=new J),z),"getDeviceSelectionRecordStore");class ${constructor(){this.logger=p,this.deviceSelectionRecords=te(),this.availableDevices=[],this.currentTeamId=null,this.useDevicesExp=!1,this.updatingAvailableDevicesPromise=null,this.enqueuedPreferenceUpdates={[s.Microphone]:!1,[s.Camera]:!1,[s.Speakers]:!1},this.osDefaultDevices={[s.Microphone]:null,[s.Camera]:null,[s.Speakers]:null},this.prioritizedDeviceLists={[s.Microphone]:[],[s.Camera]:[],[s.Speakers]:[]},this.preferredDevices={[s.Microphone]:void 0,[s.Camera]:void 0,[s.Speakers]:void 0},this.init=async Ve=>{let{teamId:Be,useDevicesExp:Ye}=Ve;if(this.deviceSelectionRecords.init(),Be!==this.currentTeamId){this.useDevicesExp=Ye,this.useDevicesExp&&this.logger.info("Initializing device preferences manager with experimental features"),this.currentTeamId=Be,this.dispatch=(0,Ie.oK)(Be).dispatch;try{await this.updateAvailableDevices(),navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceListChange)}catch(et){this.logger.error("Error initializing device preferences manager",et)}}},this.refreshAvailableDevices=async()=>{await this.updateAvailableDevices()},this.getPreferredDeviceOfType=Ve=>{const Be=this.useDevicesExp?this.preferredDevices[Ve]:this.getPrioritizedDeviceListOfType(Ve)[0];return this.useDevicesExp&&this.logger.debug(`(EXP) Returning preferred ${Ve} device: label: ${Be==null?void 0:Be.label}, id: ${Be==null?void 0:Be.deviceId}`),Be},this.getPrioritizedDeviceListOfType=Ve=>{if(this.useDevicesExp){const Be=this.getDeviceListOfType(Ve);this.logger.debug(`(EXP) Returning prioritized ${Ve} device list labels: ${Be.map(Ye=>Ye.label)}`)}return this.prioritizedDeviceLists[Ve]},this.getDeviceListOfType=Ve=>{const Ye=this.availableDevices.filter(et=>et.kind===Ve&&et.deviceId!=="communications").find(et=>et.deviceId==="default");return Ye?(0,E.A)([Ye,...this.prioritizedDeviceLists[Ve]]):this.prioritizedDeviceLists[Ve]},this.recordDeviceSelected=(Ve,Be)=>{try{const{deviceId:Ye,deviceLabel:et}=this.lookupDeviceDetailsById(Ve,Be);if(!Ye){this.logger.warn("Device record not found for selected device id",Ve);return}if(!this.deviceSelectionRecords.hasRecordForDevice({deviceId:Ye,kind:Be})){this.logger.warn("No device selection record found for device id",Ye);return}this.logger.info(`Reporting ${Be} device selected, label: ${et}, id: ${Ye}`),this.deviceSelectionRecords.updateDeviceSelected({deviceId:Ye,kind:Be}),this.propagateUpdateToExternalStores()}catch(Ye){this.logger.error("Error reporting device selected",Ye)}},this.recordDeviceUsed=(Ve,Be)=>{try{const{deviceId:Ye,deviceLabel:et}=this.lookupDeviceDetailsById(Ve,Be);if(!Ye){this.logger.warn("Device record not found for used device id",Ve);return}this.logger.info(`Reporting ${Be} device used, label: ${et}, id: ${Ye}`),this.deviceSelectionRecords.updateDeviceUsed({deviceId:Ye,kind:Be}),this.propagateUpdateToExternalStores()}catch(Ye){this.logger.error("Error reporting device used",Ye)}},this.getOSDefaults=()=>this.osDefaultDevices,this.clearDeviceSelectionRecords=()=>{ce({})},this.lookupDeviceDetailsById=(Ve,Be)=>{(0,A.A)(this.prioritizedDeviceLists[Be])&&this.updateAvailableDevices();const Ye={deviceId:null,deviceLabel:null},et=!this.useDevicesExp&&S(Ve)?this.osDefaultDevices[Be]:Ve;if(et&&!this.useDevicesExp&&S(et)&&this.logger.warn(`OS default device id (${Ve}) used for details. This should not happen`),!et)return this.logger.warn("Device record not found for device id",et),Ye;Ye.deviceId=et;const at=this.deviceSelectionRecords.getFormattedLabelForRecord({deviceId:et,kind:Be}),gt=k(at);return gt?(Ye.deviceLabel=gt,Ye):(this.logger.warn("Device record not found for device id",et),Ye)},this.getOSDefaultDeviceLabels=Ve=>{const Be=(0,d.A)(this.osDefaultDevices,Ye=>{if(!Ye)return"";const et=Ve.find(at=>at.deviceId===Ye);return et!=null&&et.label&&k(et.label)||""});return{[s.Microphone]:Be.audioinput||"",[s.Camera]:Be.videoinput||"",[s.Speakers]:Be.audiooutput||""}},this.updateAvailableDevices=async()=>{if(this.updatingAvailableDevicesPromise)return this.logger.info("Available devices update already in progress. Returning existing promise."),this.updatingAvailableDevicesPromise;const Ve=m(async Be=>{try{this.logger.info("Updating available devices");const Ye=await c.J.navigator.mediaDevices.enumerateDevices();this.logger.info(`Available devices ${JSON.stringify(Ye,null,2)}`),this.updateOSDefaults(Ye),this.availableDevices=K(Ye,this.useDevicesExp?this.getOSDefaultDeviceLabels(Ye):void 0),this.updateDeviceRecords(this.availableDevices),this.logger.info("Updated device records after device list update. Propagating update"),this.propagateUpdateToExternalStores(),Be()}catch(Ye){this.logger.error("Error updating available devices",Ye),Be()}finally{this.updatingAvailableDevicesPromise=null}},"updateFn");return this.updatingAvailableDevicesPromise=new Promise(Ve),this.updatingAvailableDevicesPromise},this.waitForDeviceListUpdate=async()=>{await this.updateAvailableDevices()},this.updatePrioritizedDeviceLists=()=>{this.logger.debug("Updating prioritized device lists"),this.updatePrioritizedDeviceListOfType(s.Microphone),this.logger.debug("Updated mics",this.prioritizedDeviceLists[s.Microphone]),this.updatePrioritizedDeviceListOfType(s.Camera),this.logger.debug("Updated cameras",this.prioritizedDeviceLists[s.Camera]),this.updatePrioritizedDeviceListOfType(s.Speakers),this.logger.debug("Updated speakers",this.prioritizedDeviceLists[s.Speakers])},this.handleDeviceListChange=(0,v.A)(async()=>{try{this.logger.info(`Device list change event received at ${Date.now()}`),await this.updateAvailableDevices()}catch(Ve){this.logger.error("Error handling device list change event",Ve)}},1e3,{leading:!1,trailing:!0,maxWait:2e3}),this.updateOSDefaults=Ve=>{this.logger.info("Updating OS default devices",Ve),Ve.forEach(Be=>{b(Be,Ve)&&Be.deviceId&&(this.osDefaultDevices[Be.kind]=Be.deviceId)})},this.updateDeviceRecords=Ve=>{(0,h.A)(Ve,Be=>{if(!Be.deviceId||!this.useDevicesExp&&S(Be.deviceId))return;const Ye=this.deviceSelectionRecords.hasRecordForDevice(Be),et=this.deviceSelectionRecords.getFormattedLabelForRecord(Be),at=this.deviceSelectionRecords.getDeviceInfoForRecord(Be);if(Ye&&at&&at.kind!==Be.kind){this.logger.warn(`device id collision between ${at.kind} device (${at.label}) and ${Be.kind} device (${Be.label})`);return}Ye&&Be.label&&et!==Be.label&&(this.deviceSelectionRecords.updateDeviceInfo(Be),this.logger.info(`Device label updated from ${et} to ${Be.label}`)),Ye?(this.logger.debug(`Device history record found for ${Be.label} ${Be.deviceId}`),this.deviceSelectionRecords.updateDeviceInfo(Be)):(this.logger.info(`Creating new device history record for ${Be.label} ${Be.deviceId}`),this.deviceSelectionRecords.createRecord(Be));const gt=b(Be,Ve);if(!this.useDevicesExp&&gt&&this.osDefaultDevices[Be.kind]!==Be.deviceId){var Mt;const Ct=((Mt=this.getPreferredDeviceOfType(Be.kind))===null||Mt===void 0?void 0:Mt.deviceId)===this.osDefaultDevices[Be.kind];this.osDefaultDevices[Be.kind]=Be.deviceId,this.logger.info(`OS default device updated for ${Be.kind}: ${Be.label} ${Be.deviceId}`),Ct&&(this.logger.info(`Preferred ${Be.kind} OS default has changed to: ${Be.label} ${Be.deviceId}. Recording as selected.`),this.recordDeviceSelected(Be.deviceId,Be.kind))}})},this.updatePrioritizedDeviceListOfType=Ve=>{var Be,Ye;let et=null;const at=[],gt=[],Mt=[],Bt=[];this.availableDevices.forEach(mt=>{const Rt=mt.deviceId===this.osDefaultDevices[mt.kind];if(this.useDevicesExp){if(mt.kind!==Ve)return}else if(mt.kind!==Ve||S(mt.deviceId))return;const Ht=this.deviceSelectionRecords.getDeviceInfoForRecord(mt);if(!Ht){this.logger.error("No selection record found for device",mt);return}if(!L(Ht)){if(this.deviceSelectionRecords.wasDeviceSelected(Ht)){at.push(Ht);return}if(!this.useDevicesExp&&this.deviceSelectionRecords.wasDeviceUsed(Ht)){gt.push(Ht);return}if(O(Ht)){Mt.push(Ht);return}if(!this.useDevicesExp&&Rt){et=Ht;return}Bt.push(Ht)}});const Ct=[];Ct.push(...this.deviceSelectionRecords.sortDevicesByLastSelection(at)),this.useDevicesExp||Ct.push(...this.deviceSelectionRecords.sortDevicesByLastUsed(gt)),this.useDevicesExp||Ct.push(et),Ct.push(...this.deviceSelectionRecords.sortDevicesByLabel(Bt)),Ct.push(...Mt);const Ft=(0,E.A)(Ct).filter(Boolean),kt=(Be=(0,f.A)(Ft))===null||Be===void 0?void 0:Be.deviceId;if(kt&&kt!==((Ye=this.prioritizedDeviceLists[Ve][0])===null||Ye===void 0?void 0:Ye.deviceId)&&(this.enqueuedPreferenceUpdates[Ve]=!0),Ft&&(this.prioritizedDeviceLists[Ve]=Ft,this.useDevicesExp)){const mt=(0,f.A)(Ft);this.preferredDevices[Ve]=mt||void 0,this.logger.debug(`(EXP) Preferred device updated for ${Ve}: label: ${mt==null?void 0:mt.label}, id: ${mt==null?void 0:mt.deviceId}`)}return Ft},this.updateDevicesInHuddle=()=>{const Ve=m(Be=>{var Ye;const et=(Ye=this.getPreferredDeviceOfType(Be))===null||Ye===void 0?void 0:Ye.deviceId;!et||!this.enqueuedPreferenceUpdates[Be]||(this.enqueuedPreferenceUpdates[Be]=!1,(0,Se.dispatchForClientStore)((0,ye.HC)({id:et,type:o(Be)})),this.logger.info(`Setting preferred ${Be} device in huddle`,et))},"maybeApplyPreference");Ve(s.Microphone),Ve(s.Speakers),Ve(s.Camera)},this.propagateUpdateToExternalStores=()=>{this.deviceSelectionRecords.persistToLocalStorage(),this.updatePrioritizedDeviceLists(),this.logger.info("Propagating device selection history update"),this.dispatch((0,pe.Fb)(void 0)),this.updateDevicesInHuddle()}}}m($,"DevicePreferencesManager");const q=new $,re={printDeviceSelectionRecords:()=>{const fe=te().getAllRecordsForTesting(),Ve=(0,d.A)(fe,Be=>{var Ye;return{deviceId:Be.deviceInfo.deviceId,label:Be.deviceLabel,type:Be.deviceInfo.kind,"is preferred":((Ye=q.getPreferredDeviceOfType(Be.deviceInfo.kind))===null||Ye===void 0?void 0:Ye.deviceId)===Be.deviceInfo.deviceId,"last selected":Be.selected?Be.selected.toString():"Never selected","last used":Be.used?Be.used.toString():"Never used","is available":!!q.getPrioritizedDeviceListOfType(Be.deviceInfo.kind).find(et=>et.deviceId===Be.deviceInfo.deviceId),"is OS default":Be.deviceInfo.deviceId===q.getOSDefaults()[Be.deviceInfo.kind],groupId:Be.deviceInfo.groupId}});console.log("Device selection records"),console.table(Ve)},printPreferredMicrophone:()=>{const fe=q.getPreferredDeviceOfType(s.Microphone);console.log("Preferred microphone",fe)},printPreferredCamera:()=>{const fe=q.getPreferredDeviceOfType(s.Camera);console.log("Preferred camera",fe)},printPreferredSpeakers:()=>{const fe=q.getPreferredDeviceOfType(s.Speakers);console.log("Preferred speakers",fe)},printPrioritizedDeviceLists:()=>{const fe=(0,d.A)(q.getOSDefaults(),(Ve,Be)=>q.getPrioritizedDeviceListOfType(Be));(0,h.A)(fe,(Ve,Be)=>{const Ye=Ve.map(et=>({deviceId:et.deviceId,label:et.label,groupId:et.groupId}));console.log(`Prioritized list for ${Be}`),console.table(Ye)})},printRawDeviceList:async()=>{const fe=await c.J.navigator.mediaDevices.enumerateDevices();console.log("Available devices"),fe.forEach(Ve=>{console.log(Ve)})},printDebugInfo:()=>{re.printDeviceSelectionRecords(),re.printPrioritizedDeviceLists(),re.printPreferredMicrophone(),re.printPreferredCamera(),re.printPreferredSpeakers(),re.printRawDeviceList()},clearDeviceSelectionRecords:()=>{q.clearDeviceSelectionRecords(),c.J.location.reload()}};(0,g.ul)("devices",re);const de=q;var oe=e(7715417323);const De="preferred-media-devices",ae=te(),Z=m(()=>{try{const fe=!localStorage.getItem(De);return fe&&p.info("No preferred devices found in local storage."),fe}catch(fe){p.error("Error checking if no preferred devices in local storage",fe)}return!0},"hasNoPreferredDevicesInLocalStorage"),ie=m(()=>{try{const fe=localStorage.getItem(De);if(!fe){p.info("No preferred devices found in local storage. Detecting preferences from selection records"),ae.init();const Be=(0,le.A)(ae.getAllRecordsForTesting(),"selected",["desc"]),Ye=m(et=>{var at,gt;const Mt=Be.find(Bt=>{var Ct;return Bt.selected&&((Ct=Bt.deviceInfo)===null||Ct===void 0?void 0:Ct.kind)===et});if(!(!(!(Mt==null||(at=Mt.deviceInfo)===null||at===void 0)&&at.deviceId)&&et===s.Camera))return(Mt==null||(gt=Mt.deviceInfo)===null||gt===void 0?void 0:gt.deviceId)||n},"findMostRecentDevice");return{[s.Camera]:Ye(s.Camera),[s.Microphone]:Ye(s.Microphone)||n,[s.Speakers]:Ye(s.Speakers)||n}}const Ve=JSON.parse(fe);return Ve[s.Camera]===n&&(Ve[s.Camera]=void 0),Ve}catch(fe){p.error("Error getting preferred devices from local storage",fe)}return u},"getPreferredDevicesFromLocalStorage"),Ce=m(fe=>{try{const Ve=JSON.stringify(fe);localStorage.setItem(De,Ve)}catch(Ve){p.error("Error setting preferred devices in local storage",Ve)}},"setPreferredDevicesInLocalStorage");var Re=e(735940183),He=e(9365970888);const be=new Re.A("device-preferences");class Ue{getPreferredDeviceOfType(Ve){if(this.availableDevices)return this.getPrioritizedDeviceListOfType(Ve)[0]}validatePreferredDevices(){if(!this.availableDevices)return;const Ve=new Set(this.availableDevices.map(Be=>Be.deviceId));Object.entries(this.preferredDevices).forEach(Be=>{let[Ye,et]=Be;!Ve.has(et)&&Ye!==s.Camera&&(this.logger.warn(`Preferred ${Ye} device (${et}) not found. Resetting to OS default.`),this.preferredDevices[Ye]=n)}),this.logger.debug("Preferred devices validated",this.preferredDevices)}recordOSDefaultDeviceIds(){this.availableDevices&&(this.availableDevices.forEach(Ve=>{if(Ve.deviceId===n){var Be;const Ye=(Be=this.availableDevices)===null||Be===void 0?void 0:Be.find(et=>et.deviceId!==n&&et.groupId===Ve.groupId&&et.kind===Ve.kind&&Ve.label.includes(et.label));Ye!=null&&Ye.deviceId&&this.osDefaultDeviceIds&&(this.osDefaultDeviceIds[Ve.kind]=Ye.deviceId,this.logger.info(`Recorded OS default device for ${Ve.kind}: ${Ye.deviceId}`))}}),this.logger.debug("OS default device IDs recorded",this.osDefaultDeviceIds))}scrubDeviceLabels(){const Ve=this.availableDevices;!Ve||!this.osDefaultDeviceIds||(this.availableDevices=Ve.map(Be=>{if(Be.deviceId===n){var Ye;const et=(Ye=this.osDefaultDeviceIds)===null||Ye===void 0?void 0:Ye[Be.kind],at=this.findDeviceByKindAndId(Be.kind,et);if(et&&at){const gt=k(at.label),Bt=this.useDevicesExp?be.t("System Default ({deviceName})",{deviceName:gt}):`System Default (${gt})`;return this.logger.info(`Amending label for OS default ${Be.kind} device: ${Be.label} -> ${Bt}`),{groupId:Be.groupId,kind:Be.kind,deviceId:n,label:Bt}}}return{groupId:Be.groupId,kind:Be.kind,deviceId:Be.deviceId,label:k(Be.label)||"Unknown Device"}}),this.logger.debug("Device labels scrubbed",this.availableDevices))}findDeviceByKindAndId(Ve,Be){var Ye;return(Ye=this.availableDevices)===null||Ye===void 0?void 0:Ye.find(et=>et.kind===Ve&&et.deviceId===Be)}constructor(){this.preferredDevices=u,this.teamId=null,this.useDevicesExp=null,this.availableDevices=null,this.osDefaultDeviceIds=u,this.updatingAvailableDevicesPromise=null,this.logger=p,this.noPrefsOnBoot=!1,this.init=async Ve=>{let{teamId:Be,useDevicesExp:Ye}=Ve;this.teamId=Be,this.useDevicesExp=Ye,this.useDevicesExp&&this.logger.info("Using experimental device manager"),this.noPrefsOnBoot=Z(),this.preferredDevices=ie()||u,this.logger.debug("Preferred devices loaded from local storage",this.preferredDevices),this.dispatch=(0,Ie.oK)(this.teamId).dispatch,await this.updateAvailableDevices(),this.maybeSetInitialDevicePrefToOSDefault(),this.updateDeviceListChangeHandler(),this.logger.info("Device preferences manager initialized")},this.recordDeviceUsed=(Ve,Be)=>(0,oe.A)(),this.recordDeviceSelected=(Ve,Be)=>{if(this.logger.info(`Recording selected ${Be} device: ${Ve}`),!!this.preferredDevices){if(this.preferredDevices[Be]===Ve&&!this.reduxDeviceStoreNeedsUpdate(Be)){this.logger.info(`Device ${Ve} already selected. No action taken.`);return}this.preferredDevices[Be]=Ve,Ce(this.preferredDevices),this.propagateUpdateToExternalStores(Be)}},this.getPrioritizedDeviceListOfType=Ve=>{if(!this.availableDevices)return[];const Be=[],Ye=this.findDeviceByKindAndId(Ve,this.preferredDevices[Ve]);Ye&&Be.push(Ye);const et=this.findDeviceByKindAndId(Ve,n);et&&Be.push(et);const at=this.availableDevices.filter(gt=>gt.kind===Ve&&gt.deviceId!==r);return at.sort((gt,Mt)=>gt.label.localeCompare(Mt.label)),(0,E.A)([...Be,...at]).filter(Boolean)},this.handleDeviceListChange=async()=>{try{this.logger.info(`Device list change event received at ${Date.now()}`),await this.updateAvailableDevices()}catch(Ve){this.logger.error("Error handling device list change event",Ve)}},this.updateDeviceListChangeHandler=()=>{c.J.navigator.mediaDevices.removeEventListener("devicechange",this.handleDeviceListChange),c.J.navigator.mediaDevices.addEventListener("devicechange",this.handleDeviceListChange),this.logger.info("Device list change handler updated")},this.maybeSetInitialDevicePrefToOSDefault=()=>{if(this.noPrefsOnBoot){const Ve=this.osDefaultDeviceIds;if(!Ve)return;(0,h.A)(this.preferredDevices,(Be,Ye)=>{const et=Ve[Ye];Be===et&&Ye!==s.Camera&&(this.logger.info(`Preferred ${Ye} device matches OS default. Updating to OS default`),this.recordDeviceSelected(n,Ye))})}},this.updateAvailableDevices=async()=>{if(this.updatingAvailableDevicesPromise)return this.logger.info("Available devices update already in progress. Returning existing promise."),this.updatingAvailableDevicesPromise;const Ve=m(async Be=>{try{const Ye=await c.J.navigator.mediaDevices.enumerateDevices();this.availableDevices=Ye,this.logger.debug("Device list updated",this.availableDevices),this.validatePreferredDevices(),this.recordOSDefaultDeviceIds(),this.scrubDeviceLabels(),this.propagateUpdateToExternalStores(),this.logger.info("Device list update complete"),Be()}catch(Ye){this.logger.error("Error updating available devices",Ye),Be()}finally{this.updatingAvailableDevicesPromise=null}},"updateFn");return this.updatingAvailableDevicesPromise=new Promise(Ve),this.updatingAvailableDevicesPromise},this.waitForDeviceListUpdate=async()=>{await this.updateAvailableDevices()},this.refreshAvailableDevices=async()=>{await this.updateAvailableDevices()},this.reduxDeviceStoreNeedsUpdate=Ve=>{var Be,Ye,et;const at=(0,Ie.oK)(this.teamId).getState();return{[s.Microphone]:(Be=(0,He.I7)(at))===null||Be===void 0?void 0:Be.id,[s.Camera]:(Ye=(0,He.Ls)(at))===null||Ye===void 0?void 0:Ye.id,[s.Speakers]:(et=(0,He.QM)(at))===null||et===void 0?void 0:et.id}[Ve]!==this.preferredDevices[Ve]},this.propagateUpdateToExternalStores=(0,v.A)(Ve=>{Ce(this.preferredDevices),this.logger.info("Propagating device selection history update"),this.dispatch((0,pe.Fb)(void 0)),this.updateDevicesInHuddle(Ve)},300),this.updateDevicesInHuddle=Ve=>{const Be=m(Ye=>{var et;const at=(et=this.getPreferredDeviceOfType(Ye))===null||et===void 0?void 0:et.deviceId;at&&((0,Se.dispatchForClientStore)((0,ye.HC)({id:at,type:o(Ye)})),this.logger.info(`Setting preferred ${Ye} device in huddle`,at))},"maybeApplyPreference");Ve?Be(Ve):(Be(s.Microphone),Be(s.Speakers),Be(s.Camera))}}}m(Ue,"manager_exp_DevicePreferencesManager");const ve=new Ue;let Fe=null,Ke=de;const j=m(async fe=>{let{teamId:Ve,useDevicesExp:Be}=fe;!Ve||Fe===Ve||(p.info(`Initializing device preferences manager with teamId: ${Ve} and useDevicesExp: ${Be}`),Fe=Ve,Be?Ke=ve:Ke=de,await Ke.init({teamId:Ve,useDevicesExp:Be}),p.info("Device preferences manager initialized"))},"initializeDevicePreferences"),ee=m((fe,Ve)=>{if(!Fe)return;const Be=i(Ve);Ke.recordDeviceUsed(fe,Be)},"reportDeviceUsed"),je=m((fe,Ve)=>{if(!Fe)return;const Be=i(Ve);Ke.recordDeviceSelected(fe,Be)},"reportDeviceSelected"),Te=m(()=>{if(!Fe)return;const fe=Ke.getPrioritizedDeviceListOfType(s.Microphone)||[],Ve=Ke.getPrioritizedDeviceListOfType(s.Camera)||[],Be=Ke.getPrioritizedDeviceListOfType(s.Speakers)||[];return{[t.lW.Microphone]:fe.map(a),[t.lW.Camera]:Ve.map(a),[t.Q4]:Be.map(a)}},"getPrioritizedDeviceLists"),Je=m(async()=>{Fe&&await Ke.refreshAvailableDevices()},"refreshDeviceListsOnDevicePermissionsUpdate"),Ae=m(fe=>{if(!Fe)return;const Ve=mapDeviceTypeToDeviceKind(fe);return Ke.getPrioritizedDeviceListOfType(Ve).map(mapMediaDeviceInfoToDevice)},"getPrioritizedDeviceListOfType"),Me=m(fe=>{if(!Fe)return;const Ve=i(fe),Be=Ke.getPreferredDeviceOfType(Ve);if(!Be){p.warn(`No preferred device found for type ${fe}. Returning undefined. If this happens, the user will likely report that their device is not working. They may also have revoked or not given permission to use the device.`);return}return p.debug(`Returning preferred ${fe} device`,Be.deviceId),a(Be)},"getPreferredDeviceOfType"),we=m(async()=>{Fe&&await Ke.waitForDeviceListUpdate()},"waitForDeviceListUpdate"),Ge=m(()=>{var fe;return((fe=Me(t.Q4))===null||fe===void 0?void 0:fe.id)||"default"},"getPreferredAudioSinkId"),Qe=m(()=>!!Fe,"isDevicePreferencesManagerInitialized")},63202349:(W,T,e)=>{"use strict";e.d(T,{k:()=>i});var t=e(6664301844),s=e(2825968873),n=e(3812058736),r=e(2028988448);const u={debug:0,info:1,warn:2,error:3,action:0};class i{debug(a){if(!(this.level>t.$b.DEBUG||!i.debugLogsEnabled))if(typeof a=="string"){const _=a;this.consoleLogger.debug(_)}else{const _=a();this.consoleLogger.debug(_)}}info(a){this.level>t.$b.INFO||this.consoleLogger.info(a)}warn(a){this.level>t.$b.WARN||this.consoleLogger.warn(a)}error(a){this.level>t.$b.ERROR||this.callLogger.error(a)}setLogLevel(a){this.level=a}getLogLevel(){return this.level}getName(){return this.name}constructor(a,_){this.name=a,this.level=_||u[(0,n.XM)()],this.consoleLogger=(0,s.Cc)(a),this.callLogger=(0,s.Jt)(a)}}m(i,"FreeWillyLogger"),i.debugLogsEnabled=!1,(0,r.ul)("toggleChimeDebugLogs",()=>{i.debugLogsEnabled=!i.debugLogsEnabled})},8719752487:(W,T,e)=>{"use strict";e.d(T,{Y:()=>Ut});var t=e(1649982175),s=e(6664301844),n=e(1890776492),r=e(7344959578),u=e(2825968873),i=e(8736071954),o=e(7561130599),a=e(4708000837),_=e(462591818),l=e(9268023148),p=e(3078252698),g=e(2003990933),c=e(4094753332),E=e(5137668119),A=e(2709531527),d=e(6246464105),v=e(9853754481);let h=m(class{getLevel(){return this.analyserNode.getByteTimeDomainData(this.data),(0,v.n2)(this.data)/v.Ep}constructor(Q){this.analyserNode=Q,this.data=new Uint8Array(this.analyserNode.fftSize)}},"AudioAnalyser");var f=e(9009528296);const y=300;class I{stop(){this.previewAudioAnalyser=void 0,clearTimeout(this.timeoutId)}setPreviewAudioAnalyser(Q){this.previewAudioAnalyser=Q}constructor(){this.timeoutId=-1,this.monitorAudioLevel=()=>{this.previewAudioAnalyser&&f.A.subscriberCount>0&&f.A.publish(this.previewAudioAnalyser.getLevel()),this.timeoutId=window.setTimeout(this.monitorAudioLevel,y)},this.monitorAudioLevel()}}m(I,"AudioLevelMonitor");function C(ze,Q){let{skipIntermediatePendingRuns:ue=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ge=!1,ke=[];const Xe=m(async function(){for(var nt=arguments.length,pt=new Array(nt),_e=0;_e<nt;_e++)pt[_e]=arguments[_e];if(ge){ue&&(ke=[]);const Ze=(0,n.u)();return ke.push({args:pt,deferred:Ze}),Ze}ge=!0;const Le=await Q.call(ze,...pt);ge=!1;const We=ke.shift();return We&&Xe(...We.args).then(We.deferred.resolve).catch(We.deferred.reject),Le},"run");return Xe}m(C,"serialGuard");var D=e(3496486794),M=e(3036243650);class P{initialize(Q){let{preferredDeviceId:ue}=Q;var ge,ke,Xe,nt,pt,_e,Le,We,Ze,st,ut,Lt,tn,En;if(!(!((ge=this.defaultDeviceController)===null||ge===void 0||(ke=ge.activeDevices)===null||ke===void 0||(Xe=ke.audio)===null||Xe===void 0||(nt=Xe.stream)===null||nt===void 0)&&nt.getAudioTracks))return;const Dn=this.defaultDeviceController;if(!(!((pt=this.defaultDeviceController)===null||pt===void 0||(_e=pt.activeDevices)===null||_e===void 0||(Le=_e.audio)===null||Le===void 0||(We=Le.stream)===null||We===void 0)&&We.getAudioTracks)){this.logger.warn("Unable to retrieve audio tracks from the default device controller");return}const Bn=Dn.activeDevices.audio.stream.getAudioTracks();if(Bn.length===1)this.audioInputTrack=Bn[0];else{this.logger.warn("No audio input tracks where found for the current audio device. Audio input tracks amount: {tracks.length}");return}(Ze=this.audioInputTrack)===null||Ze===void 0||Ze.addEventListener("mute",this.onMute),(st=this.audioInputTrack)===null||st===void 0||st.addEventListener("unmute",this.onUnmute),(ut=this.audioInputTrack)===null||ut===void 0||ut.addEventListener("ended",this.onEnded),!((Lt=this.audioInputTrack)===null||Lt===void 0)&&Lt.muted?this.onMute():this.onUnmute();const On=(En=(tn=this.audioInputTrack)===null||tn===void 0?void 0:tn.getSettings())===null||En===void 0?void 0:En.deviceId;if(!On){this.logger.warn("No deviceId found for audio input track");return}On!==ue?this.logger.warn(`Used audio input track device id (${On}) does not match the preferred device id (${ue}). 
				Preferred device is unavailable. User may report issues with other participants hearing them.`):this.logger.info(`Used audio input track device id matches the preferred device id (${ue})`),(0,M.cT)(On,i.lW.Microphone)}tearDown(){var Q,ue,ge;(Q=this.audioInputTrack)===null||Q===void 0||Q.removeEventListener("mute",this.onMute),(ue=this.audioInputTrack)===null||ue===void 0||ue.removeEventListener("unmute",this.onUnmute),(ge=this.audioInputTrack)===null||ge===void 0||ge.removeEventListener("ended",this.onEnded)}onMute(){this.isAudioInputTrackMuted=!0,this.logger.warn("Audio input track is muted. Alerting the user"),this.observer.onAudioInputTrackMuted()}onUnmute(){this.isAudioInputTrackMuted&&this.logger.info("Audio input track is unmuted. Removing alert if there is one"),this.observer.onAudioInputTrackUnMuted(),this.isAudioInputTrackMuted=!1}onEnded(){this.logger.warn("Audio input track was ended.")}constructor(Q,ue,ge){this.defaultDeviceController=Q,this.observer=ue,this.logger=ge,this.isAudioInputTrackMuted=!1,this.onMute=this.onMute.bind(this),this.onUnmute=this.onUnmute.bind(this),this.onEnded=this.onEnded.bind(this)}}m(P,"AudioInputTrackHandler");var S;(function(ze){ze.Blur="BLUR",ze.Image="IMAGE",ze.None="NONE"})(S||(S={}));class b{constructor({backgroundEffect:Q}){this.filterCPUUtilizationHigh=ue=>{const{cpuUtilization:ge,filterMillis:ke,periodMillis:Xe}=ue;this.callLogger.warn(`CPU utilization by video background processor is high - cpuUtilization: ${ge} - spent ${ke}ms of last ${Xe}ms processing video background`)},this.filterFrameDurationHigh=ue=>{const{framesDropped:ge,avgFilterDurationMillis:ke,framerate:Xe,periodMillis:nt}=ue;this.callLogger.warn(`Frame duration by video background processor is high. framerate: ${Xe}, frames dropped: ${ge}, spent ${ke}ms of last ${nt}ms processing video background`)},this.callLogger=(0,u.Jt)(`VIDEO-BACKGROUND-${Q}`)}}m(b,"VideoBackgroundObserver");const O=b;var L=e(5071086688),k=e(5470425448),K=e(1473609332),N=e(9195837907),R=e(416787925),U=e(7149946954);class x{async load(){if(this.url.origin===window.location.origin)return new Worker(this.url,this.options);const ue=await(await fetch(this.url)).text(),ge=new Blob([ue],{type:"application/javascript"}),ke=URL.createObjectURL(ge);return new Worker(ke,this.options)}constructor(Q,ue){this.url=Q,this.options=ue}}m(x,"CORSWorker");class B{async intrinsicDevice(){return this.device}async stop(){var Q;this.generatorVideoTrack.stop(),(Q=this.inputMediaStream)===null||Q===void 0||Q.getTracks().forEach(ue=>ue.stop()),(await this.worker).terminate()}onOutputStreamDisconnect(){if(this.generatorVideoTrack.stop(),!(this.device instanceof MediaStream)){var Q;(Q=this.inputMediaStream)===null||Q===void 0||Q.getTracks().forEach(ue=>ue.stop())}}async transformStream(Q){if(this.inputMediaStream=Q,Q){const ue=new MediaStreamTrackProcessor({track:Q.getVideoTracks()[0]});(await this.worker).postMessage({type:"init",input:ue.readable,output:this.generatorVideoTrack.writable,width:Q.getVideoTracks()[0].getSettings().width,height:Q.getVideoTracks()[0].getSettings().height,bgImg:this.bgImg},[ue.readable,this.generatorVideoTrack.writable,...this.bgImg?[this.bgImg]:[]])}return this.outputMediaStream}constructor(Q,ue){this.device=Q,this.bgImg=ue,this.worker=new x(new URL(e.p+e.u("js_modern_app_free-willy_free-willy-sdk_filter-worker_background-worker_ts"),e.b)).load(),this.generatorVideoTrack=new MediaStreamTrackGenerator({kind:"video"}),this.outputMediaStream=new MediaStream([this.generatorVideoTrack])}}m(B,"BackgroundWorkerVideoTransformDevice");var F=e(5221945366),V;(function(ze){ze.START_PREVIEW="start-preview",ze.STOP_PREVIEW="stop-preview",ze.ENABLE="enable",ze.DISABLE="disable"})(V||(V={}));const Y=1e4,w=30,G="medium",Ee=!0,ne=50;let se=m(class{async shutdown(){var Q,ue,ge;if(this.isShuttingDown=!0,this.voiceFocusDevice){var ke;await this.voiceFocusDevice.stop(),await((ke=this.voiceFocusManager)===null||ke===void 0?void 0:ke.tearDown()),this.voiceFocusDevice=void 0}this.audioVideoFacade.removeDeviceChangeObserver(this),this.audioVideoFacade.stopLocalVideoTile(),await this.audioVideoFacade.stopVideoInput(),await this.audioVideoFacade.stopAudioInput(),this.audioVideoFacade.unbindAudioElement(),this.removeAudioElementErrorHandler(),await this.clearVideoTransformDeviceRefs(),this.audioInputDeviceRefreshTimer&&(clearTimeout(this.audioInputDeviceRefreshTimer),this.audioInputDeviceRefreshTimer=null),this.videoInputDeviceRefreshTimer&&(clearTimeout(this.videoInputDeviceRefreshTimer),this.videoInputDeviceRefreshTimer=null),this.cameraMetricsTimeout&&(clearTimeout(this.cameraMetricsTimeout),this.cameraMetricsTimeout=null),await((ue=(Q=(0,s._R)())===null||Q===void 0?void 0:Q.getAudioContext())===null||ue===void 0?void 0:ue.suspend()),this.callLogger.info("Audio context suspended"),(ge=this.audioLevelMonitor)===null||ge===void 0||ge.stop(),delete this.audioLevelMonitor,this.callLogger.info("Device manager shutdown complete")}async init(){await this.refreshMediaDeviceInfo(),await this.determineInitialMicrophonePermissionState(),this.enumerateDevices(),this.logDevices(),await this.updateMicrophone(),await this.updateSpeaker(),this.isCameraEnabled&&await this.updateCamera()}async determineInitialMicrophonePermissionState(){if((0,c.y3)()){await this.determineInitialMicrophonePermissionStateForDesktop();return}await this.determineInitialMicrophonePermissionStateForBrowser()}async determineInitialMicrophonePermissionStateForBrowser(){const{status:Q}=U.Ay.canAccessMediaResource(_.mT.MICROPHONE);let ue;(Q===i.eJ.Prompt||Q===i.eJ.NotDetermined||Q===i.eJ.Unknown)&&(await this.audioVideoFacade.listAudioInputDevices(!0),ue=U.Ay.canAccessMediaResource(_.mT.MICROPHONE).status),(Q===i.eJ.Denied||ue===i.eJ.Denied)&&(this.observer.onBrowserMediaDeviceAccessDenied(_.mT.MICROPHONE),this.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),this.setStartMutedBarrier(!0))}async determineInitialMicrophonePermissionStateForDesktop(){const Q=await this.maybeCheckSystemMediaAccess(_.mT.MICROPHONE);(0,c.j9)()||(0,c.uF)()||Q&&(Q==null?void 0:Q.status)===i.eJ.Denied&&(this.callLogger.warn("setting microphone to muted as microphone permission was not available during initialization"),this.setStartMutedBarrier(!0))}async setAGC(Q){this.prefs.audio&&this.prefs.audio.enableAGC!==Q&&(this.callLogger.info(`AGC setting changed: ${Q}`),this.prefs.audio.enableAGC=Q,(0,K.i4)(this.prefs),await this.updateMicrophone())}async setPreferredDevice(Q,ue){switch(ue){case i.lW.Microphone:await this.updateMicrophone();break;case i.Q4:await this.updateSpeaker();break;case i.lW.Camera:this.isCameraEnabled&&await this.updateCamera();break;default:break}}async setPreferredCameraDeviceForPreview(Q){this.enumerateDevices(),await this.updateCamera()}async setVideoBackgroundEffect(Q){let{effect:ue,effectBgKey:ge}=Q;this.prefs.video&&(this.callLogger.info(`Video background effect changed: ${ue}`),this.prefs.video.effect=ue,this.prefs.video.effectBgKey=ge,(0,K.i4)(this.prefs),this.isCameraEnabled&&await this.updateCamera())}async setNoiseSuppression(Q){this.prefs.audio&&this.prefs.audio.enableNoiseSuppression!==Q&&(this.callLogger.info(`Noise suppression setting changed: ${Q}`),this.prefs.audio.enableNoiseSuppression=Q,(0,K.i4)(this.prefs),await this.updateMicrophone())}async setStartMutedBarrier(Q){!this.isStartMutedBarrierActive&&Q?this.callLogger.warn("ALERT: Audio input will be muted until the start muted barrier is released"):this.isStartMutedBarrierActive&&!Q&&this.callLogger.info("Start muted barrier released"),this.isStartMutedBarrierActive=Q}async setMicrophone(Q){var ue;if(this.voiceFocusManager&&await this.voiceFocusManager.setMute(Q),!Q){var ge;this.audioVideoFacade.realtimeMuteLocalAudio(),(ge=this.huddleEventsTrace)===null||ge===void 0||ge.update({name:A.p.MICROPHONE,type:A.G.STOP});return}this.isStartMutedBarrierActive&&this.setStartMutedBarrier(!1),this.audioVideoFacade.realtimeUnmuteLocalAudio(),(ue=this.huddleEventsTrace)===null||ue===void 0||ue.update({name:A.p.MICROPHONE,type:A.G.START})}requestPreviewStreamForDeviceId(Q,ue,ge){ue===i.lW.Camera&&this.handleCameraChanges({type:V.START_PREVIEW,deviceId:Q,videoElement:ge})}stopVideoPreviewForVideoInput(Q){this.handleCameraChanges({type:V.STOP_PREVIEW,videoElement:Q||this.cameraPreviewVideoElement})}setCamera(Q){Q!==this.isCameraEnabled&&(this.isCameraEnabled=Q,this.isCameraEnabled?(this.handleCameraChanges({type:V.ENABLE}),this.maybeCheckSystemMediaAccess(_.mT.CAMERA)):this.handleCameraChanges({type:V.DISABLE}))}setCameraQuality(Q,ue,ge,ke){this.callLogger.info(`Camera quality settings changed: ${Q}x${ue}@${ge}fps ${ke}kbps`),this.audioVideoFacade.chooseVideoInputQuality(Q,ue,ge),this.audioVideoFacade.setVideoMaxBandwidthKbps(ke)}async audioVideoDidStart(){}localVideoTileDidUpdate(Q){(!Q.boundVideoStream||!Q.boundVideoStream.active)&&this.callLogger.info(`DeviceManager::localVideoTileDidUpdate ${Q.boundVideoStream?"boundVideoStream is not active":"there is no boundVideoStream"}`),!Q.isContent&&!this.isCameraEnabled?this.waitForCameraReady.reject(new Error("Camera disabled")):this.waitForCameraReady.resolve()}async maybeBindAudioOutputElement(){if(!this.isAudioOutputElementBound&&this.audioOutputElement){try{await this.audioVideoFacade.bindAudioElement(this.audioOutputElement)}catch(Q){this.callLogger.info(`bindAudioElement failed: error: ${Q.name}, message: ${Q.message}`);return}this.isAudioOutputElementBound=!0}}async maybeCheckSystemMediaAccess(Q){if(!(0,c.y3)()){const{status:ue}=U.Ay.canAccessMediaResource(Q);if(ue===i.eJ.Granted)return{isAvailable:!1,status:i.eJ.Granted}}if((0,c.cX)())try{const ue=U.Ay.canAccessMediaResource(Q);if(this.callLogger.info(`DeviceManager::getMediaAccessStatus ${Q} electron API available: ${ue.isAvailable} and status: ${ue.status}`),!ue.isAvailable)return{isAvailable:!1,status:i.eJ.NotDetermined};if(ue.status===i.eJ.Granted)return this.observer.onDeviceAccessApproved(Q),ue;let ge;return(!ue.status||ue.status===i.eJ.NotDetermined)&&(ue.status||this.callLogger.info(`DeviceManager::getMediaAccessStatus ${Q} status is missing. Re-requesting media access`),ge=Q==="screen"?null:await U.Ay.requestMediaAccess(Q),this.callLogger.info(`DeviceManager::askForMediaAccess ${Q} electron API available: ${!!(ge!=null&&ge.isAvailable)} and isConsentGranted: ${ge==null?void 0:ge.isGranted}`),Q!=="screen"&&(ge!=null&&ge.isGranted))?(this.observer.onDeviceAccessApproved(Q),{status:i.eJ.Granted,isAvailable:!0}):((ue.status===i.eJ.Denied||ge&&!ge.isGranted)&&(this.micPermissionDenied=!0,this.observer.onCheckSystemMediaAccess(Q)),ue)}catch(ue){this.callLogger.info(`DeviceManager::Error retrieving system access for ${Q}: ${ue}`)}return{isAvailable:!1,status:i.eJ.NotDetermined}}audioInputMuteStateChanged(Q,ue){this.callLogger.info(`DeviceManager::audioInputMuteStateChanged: device: ${Q}, ${ue?"muted":"unmuted"}`)}audioInputStreamEnded(Q){var ue;Q&&(this.callLogger.info("DeviceManager::audioInputStreamEnded"),((ue=(0,M.Nj)(i.lW.Microphone))===null||ue===void 0?void 0:ue.id)===Q&&(this.callLogger.warn("Call audio stream ended unexpectedly"),this.observer.onSetNoMediaInput(_.mT.MICROPHONE)))}async videoInputStreamEnded(Q){Q&&(this.callLogger.info("DeviceManager::videoInputStreamEnded"),this.observer.onSetNoMediaInput(_.mT.CAMERA))}logDevices(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R.LL;const ue=(0,M.T5)();if(!ue){this.callLogger.error("No devices found");return}(0,R.my)(this.callLogger,ue,Q)}getPreferredDevice(Q){return(0,M.Nj)(Q)}enumerateDevices(){const Q=(0,M.T5)();if(!Q){this.callLogger.error("No devices found in v2 device manager");return}this.callLogger.info("V2 devices found. Updating device store"),this.observer.onDevicesUpdated(Q)}async handleCameraChanges(Q){switch(Q.type){case V.START_PREVIEW:await this.runCameraActivityStartPreview(Q);break;case V.STOP_PREVIEW:await this.runCameraActivityStopPreview(Q);break;case V.ENABLE:await this.runCameraActivityEnable();break;case V.DISABLE:await this.runCameraActivityDisable();break;default:break}}async updateMicrophone(){const Q=this.getPreferredDevice(i.lW.Microphone);if(!Q){this.callLogger.info("No audio input device found");return}const{id:ue,label:ge}=Q;this.micPermissionDenied&&this.callLogger.error("Microphone permission is denied. The user must grant permissions and fully quit and restart Slack to join the Huddle"),this.callLogger.info(`Selected audio input device: ${Q.label||Q.id}, deviceId: ${ue}, deviceLabel: ${ge}`);const Xe={autoGainControl:this.prefs.audio?this.prefs.audio.enableAGC:!0,deviceId:ue};let nt=!0;if(this.voiceFocusManager&&this.voiceFocusManager.isAvailable()&&(this.prefs.audio&&this.prefs.audio.enableNoiseSuppression)){if(this.voiceFocusDevice||(this.voiceFocusDevice=await this.voiceFocusManager.getTransformDevice()),this.voiceFocusDevice){const pt=await this.voiceFocusDevice.chooseNewInnerDevice(Xe);this.voiceFocusDevice=pt}this.voiceFocusDevice||(nt=!1)}else nt=!1;this.voiceFocusDevice&&(0,d.Y)({name:d.R1.VoiceFocusDevice,ref:this.voiceFocusDevice}),this.callLogger.info("Noise suppression:",nt?"enabled":"disabled");try{if(this.isStartMutedBarrierActive&&(this.callLogger.info("Start muted barrier active"),this.audioVideoFacade.realtimeMuteLocalAudio()),nt)if(this.voiceFocusDevice)await this.initAudioInput(this.voiceFocusDevice);else throw new Error("Trying noise suppression with no voice focus transform device");else navigator.mediaDevices&&navigator.mediaDevices.getSupportedConstraints&&Object.prototype.hasOwnProperty.call(navigator.mediaDevices.getSupportedConstraints(),"noiseSuppression")&&(Xe.noiseSuppression=!0),await this.initAudioInput(Xe)}catch(pt){this.callLogger.error(`chooseAudioInputDevice failed: error: ${pt.name}, message: ${pt.message}`),await this.handleAudioInitError(pt);return}this.initAudioAnalyserForPreview(),this.setupAudioInputTrackHandler({preferredDeviceId:ue}),this.observer.onSelfPermissionUpdated(this.micPermissionDenied,i.lW.Microphone),this.attemptToInitMicrophoneNative(Q.label)}async updateSpeaker(){const Q=this.getPreferredDevice(i.Q4);if(!Q){this.callLogger.info("No audio output device found");return}const{id:ue,label:ge}=Q;this.callLogger.info(`Selected audio output device id: ${Q.label||Q.id}, deviceId: ${ue}, deviceLabel: ${ge}`),await this.audioVideoFacade.chooseAudioOutput(ue),this.observer.onOutputDeviceChanged({id:Q.id,type:i.Q4}),(0,M.i_)(ue,i.Q4)}async updateCamera(){const Q=this.getPreferredDevice(i.lW.Camera);if(!Q){this.callLogger.info("No video input device found");return}this.callLogger.info(`Selected video input device id: ${Q.label||Q.id}`);try{await this.setCameraVideoInputDevice(Q)}catch(ue){this.callLogger.info(`chooseVideoInputDevice failed: error: ${ue.name}, message: ${ue.message}`),ue instanceof s.Ll?this.observer.onSelfPermissionUpdated(!0,i.lW.Camera):this.observer.onSelfPermissionUpdated(!1,i.lW.Camera);return}this.observer.onSelfPermissionUpdated(!1,i.lW.Camera)}async setCameraVideoInputDevice(Q){if(await this.clearVideoTransformDeviceRefs(),this.options.backgroundVideoFilteringSetting===i.uT.NONE){await this.initVideoInput(Q.id);return}switch(this.prefs.video.effect){case N.t.Blur:{await this.setCameraVideoInputDeviceWithBackgroundBlurFilter(Q);break}case N.t.Background:{this.options.backgroundVideoFilteringSetting!==i.uT.Both?await this.initVideoInput(Q.id):await this.setCameraVideoInputDeviceWithBackgroundReplacementImageFilter({videoDevice:Q,selectedBackgroundImageKey:this.prefs.video.effectBgKey});break}default:{await this.initVideoInput(Q.id);break}}}async setCameraVideoInputDeviceWithBackgroundReplacementImageFilter(Q){let{videoDevice:ue,selectedBackgroundImageKey:ge}=Q;const ke=ue.label||ue.id;if(ge===void 0){this.callLogger.info(`No background image key provided id: ${ke}`),await this.initVideoInput(ue.id);return}const nt=D.g.find(Lt=>Lt.key===ge);if(nt===void 0)return this.handleErrorApplyVideoEffects("Image could not be found, switching to default input for device",ue);this.callLogger.info(`Enabling video input device with background image filter id: ${ke}`);const _e=await(await fetch(nt.url)).blob();if(this.options.useHuddlesFilterWorker){const Lt=await createImageBitmap(_e),tn=new B(ue.id,Lt);this.setVideoTransformDeviceRefs({transformDevice:tn,processors:[]}),await this.initVideoInput(tn),await this.cleanupTransformDevicesAndCameraIfShuttingdown();return}const Le=(0,s.jq)(),We=(0,s.px)(),Ze=[];if(!await s.i3.isSupported(this.chimeLogger)&&Ee)return this.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non image replaced background",ue);if(!await We.isSupported()&&!Ee)return this.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor is not supported on host device. Defaulting to non image replaced background",ue);if(this.isShuttingDown)return;const st={...this.defaultVideoProcessorOptions,imageBlob:_e};if(Ee){if(this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:G},backgroundReplacement:{isEnabled:!0,backgroundImageURL:nt.url,defaultColor:void 0}},this.videoFxProcessor=await s.i3.create(this.chimeLogger,this.videoFxConfig,ne),!this.videoFxProcessor)return this.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",ue);this.callLogger.info(`VideoFxProcessor background image replacement enabled for device id: ${ke}`),Ze.push(this.videoFxProcessor)}else{const Lt=await We.create(void 0,st);if(Lt)this.setupVideoBackgroundFrameProcessor({processor:Lt,backgroundEffect:S.Image}),Ze.push(Lt);else return this.handleErrorApplyVideoEffects("BackgroundReplacementVideoFrameProcessor could not be created defaulting to normal input for device",ue)}this.callLogger.info(`Enabling video input device with background image replacement id: ${ke}`);const ut=new Le(this.chimeLogger,ue.id,Ze);this.setVideoTransformDeviceRefs({transformDevice:ut,processors:Ze}),await this.initVideoInput(ut),await this.cleanupTransformDevicesAndCameraIfShuttingdown()}async handleErrorApplyVideoEffects(Q,ue){const ge=ue.label||ue.id;this.callLogger.info(`${Q}: ${ge}`),await this.initVideoInput(ue.id)}async setCameraVideoInputDeviceWithBackgroundBlurFilter(Q){const ue=(0,s.jq)(),ge=(0,s.kM)(),ke=Q.label||Q.id;if(this.callLogger.info(`Enabling video input device with background blur filter id: ${ke}`),this.options.useHuddlesFilterWorker){const pt=new B(Q.id);this.setVideoTransformDeviceRefs({transformDevice:pt,processors:[]}),await this.initVideoInput(pt),await this.cleanupTransformDevicesAndCameraIfShuttingdown();return}const Xe=[];if(Ee){if(!await s.i3.isSupported(this.chimeLogger))return this.handleErrorApplyVideoEffects("VideoFxProcessor is not supported on host device. Defaulting to non blurred background",Q);if(this.videoFxConfig={backgroundBlur:{isEnabled:!0,strength:G},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.videoFxProcessor=await s.i3.create(this.chimeLogger,this.videoFxConfig,ne),!this.videoFxProcessor)return this.handleErrorApplyVideoEffects("VideoFxProcessor could not be created defaulting to normal input for device",Q);this.callLogger.info(`VideoFxProcessor background blur enabled for device id: ${ke}`),Xe.push(this.videoFxProcessor)}else{if(!await ge.isSupported())return this.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor is not supported on host device. Defaulting to non blurred background",Q);const pt={...this.defaultVideoProcessorOptions,blurStrength:15},_e=await ge.create(void 0,pt);if(!_e)return this.handleErrorApplyVideoEffects("BackgroundBlurVideoFrameProcessor could not be created defaulting to normal input for device",Q);this.setupVideoBackgroundFrameProcessor({processor:_e,backgroundEffect:S.Blur}),Xe.push(_e)}this.callLogger.info(`Enabling video input device with background blur filter id: ${ke}`);const nt=new ue(this.chimeLogger,Q.id,Xe);this.setVideoTransformDeviceRefs({transformDevice:nt,processors:Xe}),await this.initVideoInput(nt),await this.cleanupTransformDevicesAndCameraIfShuttingdown()}async cleanupTransformDevicesAndCameraIfShuttingdown(){this.isShuttingDown&&(this.callLogger.info("Cleaning up background video frame processor and video input because huddle has ended"),await this.audioVideoFacade.stopVideoInput(),await this.clearVideoTransformDeviceRefs())}async initVideoInputDevices(){const ue=(await this.audioVideoFacade.listVideoInputDevices()).length>0;return ue||this.observer.onSelfPermissionUpdated(!0,i.lW.Camera),this.prefs=(0,K.Bh)(),this.enumerateDevices(),ue}async runCameraActivityStartPreview(Q){const ue=Q.deviceId,ge=Q.videoElement;!ue||!ge||(this.cameraPreviewVideoElement=ge,await this.setPreferredCameraDeviceForPreview(ue),await this.startCameraPreview())}async runCameraActivityStopPreview(Q){const ue=Q.videoElement;ue&&(ue!==this.cameraPreviewVideoElement&&this.callLogger.warn("Mismatch in preview video element"),this.audioVideoFacade.hasStartedLocalVideoTile()?this.detachStreamFromCameraPreview():this.stopCameraPreview(),delete this.cameraPreviewVideoElement)}async runCameraActivityEnable(){var Q;!this.audioVideoFacade.hasStartedLocalVideoTile()&&this.cameraPreviewVideoElement&&this.stopCameraPreview(),await this.updateCamera(),this.audioVideoFacade.hasStartedLocalVideoTile()||(this.waitForCameraReady=(0,n.u)(),this.audioVideoFacade.startLocalVideoTile(),await this.waitForCameraReady.catch(()=>{this.callLogger.info("Camera disabled before self video stream was properly bound. Explicitly disabling camera."),this.runCameraActivityDisable()})),this.attachStreamToCameraPreview(),(Q=this.huddleEventsTrace)===null||Q===void 0||Q.update({name:A.p.VIDEO,type:A.G.START})}async runCameraActivityDisable(){var Q;this.detachStreamFromCameraPreview(),await this.audioVideoFacade.stopVideoInput(),this.audioVideoFacade.stopLocalVideoTile(),(Q=this.huddleEventsTrace)===null||Q===void 0||Q.update({name:A.p.VIDEO,type:A.G.STOP}),this.cameraPreviewVideoElement&&(await this.updateCamera(),await this.startCameraPreview())}async startCameraPreview(){this.cameraPreviewVideoElement&&(this.waitForCameraReady=(0,n.u)(),this.audioVideoFacade.startVideoPreviewForVideoInput(this.cameraPreviewVideoElement),this.cameraPreviewVideoElement.addEventListener("canplay",Q=>{this.waitForCameraReady.resolve()}),await this.waitForCameraReady)}async stopCameraPreview(){this.cameraPreviewVideoElement&&(this.audioVideoFacade.stopVideoPreviewForVideoInput(this.cameraPreviewVideoElement),await this.audioVideoFacade.stopVideoInput())}attachStreamToCameraPreview(){var Q;if(!this.cameraPreviewVideoElement)return;const ue=(Q=this.audioVideoFacade.getLocalVideoTile())===null||Q===void 0?void 0:Q.state();ue&&ue.boundVideoStream&&s.xc.connectVideoStreamToVideoElement(ue.boundVideoStream,this.cameraPreviewVideoElement,!0)}detachStreamFromCameraPreview(){this.cameraPreviewVideoElement&&s.xc.disconnectVideoStreamFromVideoElement(this.cameraPreviewVideoElement,!0)}addAudioElementErrorHandler(){this.audioOutputElement.addEventListener("error",this.audioElementErrorHandler)}removeAudioElementErrorHandler(){this.audioOutputElement.removeEventListener("error",this.audioElementErrorHandler)}audioElementErrorHandler(Q){var ue,ge,ke,Xe;const nt=((ue=Q.target)===null||ue===void 0||(ge=ue.error)===null||ge===void 0?void 0:ge.code)||"unavailable",pt=((ke=Q.target)===null||ke===void 0||(Xe=ke.error)===null||Xe===void 0?void 0:Xe.message)||Q.message;this.callLogger.warn(`HTML_AUDIO_ELEMENT_ERROR code: ${nt}, message: ${pt}`),this.observer.onSetNoAudioOutput(_.NS.AUDIO_ELEMENT_ERROR)}initAudioAnalyserForPreview(){const Q=(0,s._R)().getAudioContext();if(!Q){this.callLogger.warn("Unable to get AudioContext");return}Q.resume();const ue=this.audioVideoFacade.createAnalyserNodeForAudioInput();if(ue){var ge;const ke=new h(ue);(ge=this.audioLevelMonitor)===null||ge===void 0||ge.setPreviewAudioAnalyser(ke)}}setupAudioInputTrackHandler(Q){let{preferredDeviceId:ue}=Q;this.audioInputTrackHandler&&(this.callLogger.info("Tearing down previous Audio Input Track Handler"),this.audioInputTrackHandler.tearDown(),this.audioInputTrackHandler=void 0),this.callLogger.info("Setting up new audio input track handler"),this.audioInputTrackHandler=new P(this.defaultDeviceController,this.observer,this.callLogger),this.audioInputTrackHandler.initialize({preferredDeviceId:ue})}constructor(Q,ue,ge,ke,Xe=!1,nt,pt,_e){this.audioVideoFacade=Q,this.audioOutputElement=ue,this.observer=ge,this.options=ke,this.isStartMutedBarrierActive=Xe,this.chimeLogger=nt,this.defaultDeviceController=pt,this.voiceFocusManager=_e,this.callLogger=(0,u.Jt)("DEVICES"),this.waitForCameraReady=(0,n.u)(),this.isAudioOutputElementBound=!1,this.videoFxConfig={backgroundBlur:{isEnabled:!1,strength:G},backgroundReplacement:{isEnabled:!1,backgroundImageURL:"",defaultColor:void 0}},this.isShuttingDown=!1,this.cameraMetricsTimeout=null,this.micPermissionDenied=!1,this.audioInputsChanged=async()=>{this.callLogger.info("DeviceManager::audioInputsChanged"),await(0,M.es)(),this.logDevices([i.lW.Microphone]),this.observer.onClearNoMediaInput(_.mT.MICROPHONE)},this.audioOutputsChanged=async()=>{this.callLogger.info("DeviceManager::audioOutputsChanged"),await(0,M.es)(),this.logDevices([i.Q4]),this.observer.onClearNoAudioOutput(_.NS.AUDIO_ELEMENT_ERROR)},this.videoInputsChanged=async()=>{this.callLogger.info("DeviceManager::videoInputsChanged"),await(0,M.es)(),this.logDevices([i.lW.Camera])},this.attemptToInitMicrophoneNative=(0,l.A)(async We=>{try{if(!We||!this.options.useDevicesExp)return;const Ze=await(0,F.Lh)(We),{error:st,canInit:ut}=Ze;(0,p.A)(st)?st.includes("Method not available")||st.includes("only supported on Windows")?this.callLogger.info("Microphone init test not supported on this client"):ut||this.callLogger.warn(`ALERT! Possible init failure for microphone with device: ${We}: ${st}`):this.callLogger.info(`Successfully initialized microphone with device: ${We}`)}catch(Ze){this.callLogger.error("Error attempting to init audio device",Ze)}},1e3),this.refreshMediaDeviceInfo=async()=>{this.enumerateDevices()},this.handleAudioInitError=async We=>{switch(We.name){case"NotReadableError":this.callLogger.warn("Either a hardware error (such as an OS/program/webpage lock) is preventing access to the microphone or the selected device is no longer available. Trying again");break;case"NotFoundError":this.callLogger.warn("No audio input devices are available. Trying again");break;case"OverconstrainedError":this.callLogger.warn("The specified constraints resulted in no devices being found. Trying again");break;case"PermissionDeniedError":this.callLogger.error("User denied permission to access microphone.");break;case"TypeError":this.callLogger.error("An unexpected TypeError occured during audio input initialization",We);break;case"GetUserMediaError":this.callLogger.error("An unexpected GetUserMediaError occured during audio input initialization",We);break;default:this.callLogger.error("Unknown error during audio input initialization")}const Ze=We instanceof s.Ll;this.observer.onSelfPermissionUpdated(!!Ze,i.lW.Microphone)},this.setVideoTransformDeviceRefs=We=>{let{transformDevice:Ze,processors:st}=We;this.currentVideoTransformDevice=Ze,this.currentVideoFrameProcessors=st,(0,d.Y)({name:d.R1.VideoTransformDevice,ref:Ze})},this.setupVideoBackgroundFrameProcessor=We=>{let{processor:Ze,backgroundEffect:st}=We;var ut;this.clearVideoBackgroundFrameProcessor(),!Ee&&(this.currentVideoFrameProcessor=Ze,this.currentVideoFrameProcessorObserver=new O({backgroundEffect:st}),(ut=this.currentVideoFrameProcessor)===null||ut===void 0||ut.addObserver(this.currentVideoFrameProcessorObserver),(0,d.Y)({name:d.R1.VideoFrameProcessor,ref:Ze}))},this.clearVideoBackgroundFrameProcessor=()=>{Ee||this.currentVideoFrameProcessor&&this.currentVideoFrameProcessorObserver&&(this.currentVideoFrameProcessor.removeObserver(this.currentVideoFrameProcessorObserver),this.currentVideoFrameProcessorObserver=void 0,this.currentVideoFrameProcessor=void 0)},this.clearVideoTransformDeviceRefs=async()=>{this.clearVideoBackgroundFrameProcessor(),this.currentVideoFrameProcessors&&(this.currentVideoFrameProcessors.forEach(We=>{We.destroy()}),this.currentVideoFrameProcessors.length=0,this.currentVideoFrameProcessors=void 0),this.currentVideoTransformDevice&&(await this.currentVideoTransformDevice.stop(),this.currentVideoTransformDevice=void 0)},this.initAudioInput=async We=>{We&&await this.audioVideoFacade.startAudioInput(We)},this.initVideoInput=async We=>{if(!We)return;await this.audioVideoFacade.startVideoInput(We),this.recordCameraResolution();const Ze=(0,g.A)(We,"device",We);typeof Ze=="string"&&(0,M.i_)(Ze,i.lW.Camera)},this.recordCameraResolution=()=>{this.cameraMetricsTimeout=setTimeout(()=>{try{var We,Ze,st,ut,Lt;if(this.isShuttingDown||!((We=this.audioVideoFacade)===null||We===void 0?void 0:We.hasStartedLocalVideoTile()))return;const En=this.audioVideoFacade.getLocalVideoTile(),Dn=(Ze=En==null?void 0:En.state())===null||Ze===void 0?void 0:Ze.boundVideoStream,Bn=Dn==null?void 0:Dn.getVideoTracks()[0];if(Bn instanceof CanvasCaptureMediaStreamTrack){L.A.publish({type:k.lx.CameraResolution,update:{isCanvasStream:!0}});return}const On=Bn==null?void 0:Bn.getSettings(),Wn=Bn==null?void 0:Bn.getCapabilities(),os=On==null?void 0:On.width,Tn=On==null?void 0:On.height,_n=On==null?void 0:On.frameRate,rs=Wn==null||(st=Wn.width)===null||st===void 0?void 0:st.max,hs=Wn==null||(ut=Wn.height)===null||ut===void 0?void 0:ut.max,Qn=Wn==null||(Lt=Wn.frameRate)===null||Lt===void 0?void 0:Lt.max;rs&&hs&&L.A.publish({type:k.lx.CameraResolution,update:{cameraWidth:os,cameraHeight:Tn,cameraFrameRate:_n,cameraMaxWidth:rs,cameraMaxHeight:hs,cameraMaxFrameRate:Qn,isCanvasStream:!1}})}catch{}},5e3)},this.updateMicrophone=C(this,this.updateMicrophone,{skipIntermediatePendingRuns:!1}),this.updateSpeaker=C(this,this.updateSpeaker,{skipIntermediatePendingRuns:!1}),this.updateCamera=C(this,this.updateCamera,{skipIntermediatePendingRuns:!1}),this.handleCameraChanges=C(this,this.handleCameraChanges,{skipIntermediatePendingRuns:!1}),this.audioElementErrorHandler=this.audioElementErrorHandler.bind(this),this.audioVideoFacade.addDeviceChangeObserver(this),this.prefs=(0,K.Bh)(),this.addAudioElementErrorHandler(),this.audioLevelMonitor=new I,this.voiceFocusManager&&this.callLogger.info(`Voice Focus available?: ${this.voiceFocusManager.isAvailable()}`),this.prefs.audio&&this.callLogger.info(`Noise suppression setting: ${this.prefs.audio.enableNoiseSuppression}`),this.defaultVideoProcessorOptions={filterCPUUtilization:w,reportingPeriodMillis:Y,logger:this.chimeLogger};const{huddleEventsTrace:Le}=(0,E.A)().getAllTraceHandlers();this.huddleEventsTrace=Le}},"DeviceManager");var ce=e(63202349),pe=e(3390261877),ye=e(3320454392);let Ie=m(class{constructor(Q,ue,ge){this.sequenceNumber=Q,this.message=ue,this.timestampMs=ge}},"MeetingEvent"),Se=m(class Za{getEventCaptureSize(){return this.eventCapture.length}startEventPublishScheduler(Q){this.intervalScheduler.start(async()=>{if(this.getEventCaptureSize()===0)return;const ue=this.eventCapture.slice(0,Q);try{this.postEvents(ue),this.eventCapture=this.eventCapture.slice(ue.length)}catch(ge){this.log.error(ge.message)}})}stop(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.stopped||(this.intervalScheduler.stop(),this.postEvents(this.eventCapture,Q,!0),this.eventCapture=[],this.stopped=!0,this.observer=void 0)}logEvent(Q,ue){const{meetingHistory:ge,...ke}=ue;try{const Xe=JSON.stringify({name:Q,attributes:ke});this.eventCapture.push(new Ie(this.sequenceNumber,Xe,Date.now())),this.sequenceNumber+=1}catch(Xe){this.log.error(Xe.message)}}postEvents(Q){let ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var ke;Q.length===0&&!ue&&!ge||(ke=this.observer)===null||ke===void 0||ke.onMeetingEvents(this.meetingId,this.mediaRegion,this.attendeeId,this.callId,Q,ue,ge)}constructor(Q,ue,ge,ke,Xe,nt=Za.DEFAULT_BATCH_SIZE,pt=Za.DEFAULT_INTERVAL_MS){this.observer=Q,this.meetingId=ue,this.mediaRegion=ge,this.attendeeId=ke,this.callId=Xe,this.batchSize=nt,this.intervalMs=pt,this.eventCapture=[],this.sequenceNumber=0,this.log=(0,u.tZ)("MEETING-EVENT-LOGGER"),this.stopped=!1,this.intervalScheduler=new pe.A(this.intervalMs),this.startEventPublishScheduler(this.batchSize),(0,ye.A)(async()=>{this.stop(!0)})}},"MeetingEventLogger");Se.DEFAULT_BATCH_SIZE=100,Se.DEFAULT_INTERVAL_MS=65*60*1e3;var le=e(9323322135),X=e(1033764764),J=e(9372409576),z=e(7299481592);const te=1e4,$=3e4;class q{observe(Q){this.connections.push(Q),this.intervalHandle||(this.intervalHandle=window.setInterval(()=>{this.collect()},this.collectionIntervalMs))}stopObserving(Q){remove(this.connections,Q),this.connections.length===0&&clearInterval(this.intervalHandle)}collect(){this.connections.forEach(async Q=>{const ue=Q.getPeerConnection();if(!ue)return;const ge=re(await ue.getStats());oe(Q,ge);const ke={...Z(ge),send:ge.sendTracks.map(Xe=>ie(Xe,ge)),recv:ge.recvTracks.map(Xe=>({...Ce(Xe,ge),peerId:Q.getPeerIdFromRemoteStreamId(ge.trackIdToStreamId[Xe.id])}))};this.observer.onStats(ke)})}constructor(Q,ue=te){this.observer=Q,this.collectionIntervalMs=ue,this.connections=[]}}m(q,"StatsManager");function re(ze){const Q=Array.from(ze.entries()),ue=reduce(Q,(ge,ke)=>{let[Xe,nt]=ke;return me(nt)?nt.remoteSource===!0?ge.recvTracks.push(nt):ge.sendTracks.push(nt):Ue(nt)||be(nt)?nt.trackId&&(ge.rtpStats[nt.trackId]=nt):ve(nt)?ge.transports[nt.id]=nt:Fe(nt)?ge.candidates[nt.id]=nt:Ke(nt)?ge.candidatePairs[nt.id]=nt:j(nt)?ge.codecs[nt.id]=nt:ee(nt)?nt.trackIds&&nt.trackIds.forEach(pt=>{ge.trackIdToStreamId[pt]=nt.streamIdentifier}):je(nt)&&nt.trackIdentifier&&(ge.mediaSources[nt.trackIdentifier]=nt),ge},{trackIdToStreamId:{},sendTracks:[],recvTracks:[],candidates:{},candidatePairs:{},rtpStats:{},codecs:{},transports:{},mediaSources:{}});return ue.recvTracks=ue.recvTracks.filter(ge=>ue.trackIdToStreamId[ge.id]!==void 0),ue}m(re,"groupStatsByType");function de(ze){const Q=filter(ze.candidatePairs,pt=>!!pt.nominated),ue=maxBy(Q,pt=>pt.priority);if(!ue)return;const ge=find(ze.candidates,(pt,_e)=>_e===ue.localCandidateId);if(!ge)return;let ke=ge.candidateType==="relay"?ge.relayProtocol:ge.protocol;ge.candidateType==="prflx"&&(ke+=" (unreliable)");const Xe="unknown";return{candidateType:ge.candidateType||Xe,networkType:ge.networkType||Xe,transportType:ke||Xe}}m(de,"getConnectionNetworkInfo");function oe(ze,Q){const ue=de(Q);ue&&ze.maybeLogNetworkInfo(ue)}m(oe,"reportConnectionNetworkInfo");const De={nominal:1,fair:2,serious:3,critical:4};async function ae(){var ze;if(!(0,c.y3)())return;let Q,ue,ge;if(le.vkf.isAvailable()){var ke;const Le=await(0,le.vkf)();if(!Le)return;Q=Le.processMetrics,ue=De[Le.thermalState],ge=(ke=Le.speedLimit)===null||ke===void 0?void 0:ke.limit}else Q=await(0,le.rc_)();if(!Q)return;let Xe=null;const nt=Q.reduce((Le,We)=>{var Ze,st,ut;return We.type==="GPU"&&(Xe=We),{cpu:Le.cpu+((We==null||(Ze=We.cpu)===null||Ze===void 0?void 0:Ze.percentCPUUsage)||0),memory:{workingSetSize:Le.memory.workingSetSize+(0,X.UK)((We==null||(st=We.memory)===null||st===void 0?void 0:st.workingSetSize)||0),peakWorkingSetSize:Le.memory.peakWorkingSetSize+(0,X.UK)((We==null||(ut=We.memory)===null||ut===void 0?void 0:ut.peakWorkingSetSize)||0)}}},{cpu:0,memory:{workingSetSize:0,peakWorkingSetSize:0}}),pt=Xe==null||(ze=Xe.cpu)===null||ze===void 0?void 0:ze.percentCPUUsage,_e=pt?nt.cpu-Xe.cpu.percentCPUUsage:nt.cpu;return{...nt,cpuWithoutGpu:_e,gpu:pt,thermalState:ue,speedLimit:ge}}m(ae,"makeAppMetricsStats");function Z(ze){const[Q,...ue]=Object.values(ze.transports);debugCheck(!ue.length,"Can there be more than one transport stat in a report?");const ge=Q&&Q.selectedCandidatePairId,ke=ze.candidatePairs[ge];if(!ge||!ke)return;const Xe=ze.candidates[ke.remoteCandidateId]||{};return{availableOutgoingBitrate:ke.availableOutgoingBitrate||0,availableIncomingBitrate:ke.availableIncomingBitrate||0,totalBytesSent:ke.bytesSent,totalBytesReceived:ke.bytesReceived,currentRoundTripTime:ke.currentRoundTripTime,totalRoundTripTime:ke.totalRoundTripTime,protocol:Xe.protocol==="udp"?slack.calls.analytics.Protocol.UDP:slack.calls.analytics.Protocol.TCP,pathType:Xe.candidateType==="host"?slack.calls.analytics.PathType.DIRECT:slack.calls.analytics.PathType.RELAY,clientTime:Date.now()}}m(Z,"makeConnectionStats");function ie(ze,Q){const ue=Q.rtpStats[ze.id]||{},ge={codec:Re(ue,Q),bytesSent:ue.bytesSent,packetsSent:ue.packetsSent};if(ze.kind==="audio"){const ke=ze.trackIdentifier?Q.mediaSources[ze.trackIdentifier]:null;return ke?{...ge,audioStats:{audioLevel:ke.audioLevel,totalAudioEnergy:ke.totalAudioEnergy,totalSamplesDuration:ke.totalSamplesDuration,echoReturnLoss:ke.echoReturnLoss,echoReturnLossEnhancement:ke.echoReturnLossEnhancement}}:{...ge,audioStats:{audioLevel:ze.audioLevel,echoReturnLoss:ze.echoReturnLoss,echoReturnLossEnhancement:ze.echoReturnLossEnhancement}}}return{...ge,videoStats:{frameHeight:ze.frameHeight,frameWidth:ze.frameWidth,framesSent:ze.framesSent,hugeFramesSent:ze.hugeFramesSent,framesPerSecond:ue.framesPerSecond,framesEncoded:ue.framesEncoded}}}m(ie,"makeOutboundMediaStats");function Ce(ze,Q){const ue=Q.rtpStats[ze.id]||{},ge={codec:Re(ue,Q),bytesReceived:ue.bytesReceived,packetsReceived:ue.packetsReceived,packetsLost:ue.packetsLost,fractionLost:ue.fractionLost,jitter:ue.jitter};return ze.kind==="audio"?{...ge,audioStats:{audioLevel:ze.audioLevel,jitterBufferDelay:ze.jitterBufferDelay,concealedSamples:ze.concealedSamples,concealmentEvents:ze.concealmentEvents}}:{...ge,videoStats:{firCount:ue.firCount,nackCount:ue.nackCount,pliCount:ue.pliCount,sliCount:ue.sliCount,frameHeight:ze.frameHeight,frameWidth:ze.frameWidth,framesPerSecond:ze.framesPerSecond,framesCorrupted:ze.framesCorrupted,framesDecoded:ze.framesDecoded,framesDropped:ze.framesDropped,framesReceived:ze.framesReceived}}}m(Ce,"makeInboundMediaStats");function Re(ze,Q){const ue=ze.codecId,ge=get(Q.codecs,ue),ke=get(ge,"mimeType");return He(ke)}m(Re,"getCodecForRtpStat");function He(ze){switch(ze){case"video/VP8":return slack.calls.analytics.Codec.VP8;case"video/VP9":return slack.calls.analytics.Codec.VP9;case"video/H264":return slack.calls.analytics.Codec.H264;case"audio/opus":return slack.calls.analytics.Codec.OPUS;default:return slack.calls.analytics.Codec.UNKNOWN}}m(He,"parseCodec");function be(ze){return ze.type==="inbound-rtp"}m(be,"isRecvRtpStat");function Ue(ze){return ze.type==="outbound-rtp"}m(Ue,"isSendRtpStat");function me(ze){return ze.type==="track"}m(me,"isTrackStat");function ve(ze){return ze.type==="transport"}m(ve,"isTransportStat");function Fe(ze){return ze.type==="local-candidate"||ze.type==="remote-candidate"}m(Fe,"isIceCandidateStat");function Ke(ze){return ze.type==="candidate-pair"}m(Ke,"isIceCandidatePairStat");function j(ze){return ze.type==="codec"}m(j,"isCodecStat");function ee(ze){return ze.type==="stream"}m(ee,"isStreamStat");function je(ze){return ze.type==="media-source"}m(je,"isMediaSourceStat");const Te=5e3;let Je=m(class{constructor(Q,ue){var ge=this;this.audioVideoFacade=Q,this.observer=ue,this.callLogger=(0,u.Jt)("HUDDLES-STATS-MANAGER"),this.isDisconnected=!1,this.onMetricsDidReceive=async ke=>{if(!ke)return;const Xe=await this.collectScreenshareStats();this.reportAppMetrics({clientMetricReport:ke,screenshareRtcStats:Xe})},this.reportDisconnect=()=>{this.isDisconnected=!0,this.callLogger.info("Disconnect reported. Resuming app metrics collection without client metric report."),this.reportAppMetrics();const ke=setInterval(()=>{if(!this.isDisconnected){clearInterval(ke);return}this.callLogger.info("User still disconnected. Reporting app metrics without client metric report."),this.reportAppMetrics()},Te)},this.cleanup=()=>{},this.collectScreenshareStats=async()=>{let ke;try{var Xe;const nt=(Xe=this.audioVideoFacade.contentShareController.contentAudioVideo)===null||Xe===void 0?void 0:Xe.rtcPeerConnection;return nt?(ke=await nt.getStats(),ke):void 0}catch(nt){this.callLogger.error("Failed to collect screenshare stats",nt)}},this.reportAppMetrics=async function(){let{clientMetricReport:ke,screenshareRtcStats:Xe}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!ke&&!ge.isDisconnected)return;ge.isDisconnected&&ke&&(ge.isDisconnected=!1);const nt=await ge.collectAppMetrics();ge.observer.onAppMetrics({appMetrics:nt,clientMetricReport:ke,screenshareRtcStats:Xe})},this.collectAppMetrics=async()=>{const ke=await ae();if(!ke)return;let Xe=ke;return ke&&(Xe=(0,t.A)({...ke,cpu:ke.cpuWithoutGpu},"cpuWithoutGpu")),Xe}}},"HuddlesStatsManager"),Ae=m(class{start(){var Q;this.isSignallingOnly=!1,(Q=this.videoDownlinkManager)===null||Q===void 0||Q.addObserver(this),this.audioVideoFacade.addObserver(this),this.audioVideoFacade.start(),this.observer.onStart()}startWithSignalingOnly(){this.audioVideoFacade.start({signalingOnly:!0}),this.isSignallingOnly=!0}async stop(){this.isSignallingOnly?(this.waitForStart.resolve(),this.waitForStop.resolve(!0)):await this.waitForStart,this.isStopRequested=!0,this.audioVideoFacade.stop()}audioVideoDidStartConnecting(Q){var ue;if(!Q)this.callLogger.info("Starting Chime session"),this.observer.onStartSessionTimeout(),this.observer.onAudioVideoDidStartConnecting(),this.isReconnecting=!1;else{var ge,ke,Xe;this.callLogger.info("Reconnecting Chime session"),this.observer.onSelfDisconnected(),(ge=this.statsManager)===null||ge===void 0||(ke=ge.reportDisconnect)===null||ke===void 0||ke.call(ge),(Xe=this.huddleReconnectTracer)===null||Xe===void 0||Xe.traceReconnectAttempt(),this.isReconnecting=!0}(ue=this.disconnectObserver)===null||ue===void 0||ue.onConnectionUpdate(this.audioVideoFacade)}audioVideoDidStart(){var Q,ue,ge;if(this.callLogger.info("Chime audio video session started"),(Q=this.disconnectObserver)===null||Q===void 0||Q.onConnectionUpdate((ue=this.audioVideoFacade)===null||ue===void 0||(ge=ue.audioVideoController)===null||ge===void 0?void 0:ge.meetingSessionContext,this.isReconnecting),this.isReconnecting){var ke;this.callLogger.info("Successfully re-connected to Huddle"),(ke=this.huddleReconnectTracer)===null||ke===void 0||ke.traceReconnectAttemptOutcome({isSuccess:!0}),this.isReconnecting=!1}this.observer.onAudioVideoDidStart(),this.deviceManager.audioVideoDidStart(),this.dataChannelSubscribers.forEach(Xe=>Xe.onConnectDatachannel(this.audioVideoFacade)),this.waitForStart.resolve()}audioVideoDidStop(Q){var ue,ge,ke,Xe;const nt=s.b9[Q.statusCode()],pt=`Chime session stopped. StatusCode: ${nt}`;if(this.callLogger.info(pt),this.isReconnecting&&Q.isFailure()){var _e;this.callLogger.info("Failed to re-connect to Huddle"),(_e=this.huddleReconnectTracer)===null||_e===void 0||_e.traceReconnectAttemptOutcome({isSuccess:!1})}delete this.disconnectObserver,this.audioVideoFacade.removeObserver(this),this.observer.onScreenShareStopped(),this.observer.onAudioVideoDidStop(),(ue=this.videoDownlinkManager)===null||ue===void 0||ue.removeObserver(this),(ge=this.meetingEventLogger)===null||ge===void 0||ge.stop(),delete this.meetingEventLogger,(Xe=(ke=this.statsManager).cleanup)===null||Xe===void 0||Xe.call(ke),delete this.statsManager,this.dataChannelSubscribers.forEach(Le=>Le.onDisconnectDataChannel()),!this.isStopRequested&&Q.isTerminal()&&(this.observer.onClogError(pt),this.observer.onError(_.uZ.CallEnded,nt)),this.waitForStop.resolve(this.isStopRequested)}videoTileDidUpdate(Q){if(!Q.boundVideoStream||!Q.boundAttendeeId){Q.tileId&&this.observer.onVideoTileRemoved(Q.tileId);return}const ue=new s.jp(Q.boundAttendeeId).base();this.selfAttendeeId===ue?(this.deviceManager.localVideoTileDidUpdate(Q),this.observer.onSelfVideoTileUpdate(Q)):this.observer.onPeerVideoTileUpdate(ue,Q)}videoTileWasRemoved(Q){this.consoleLog.info(`Video tile removed: tileId=${Q}`),this.observer.onVideoTileRemoved(Q)}videoAvailabilityDidChange(Q){this.consoleLog.debug(`Video availability: RemoteVideoAvailable=${Q.remoteVideoAvailable}, CanStartLocalVideo=${Q.canStartLocalVideo}`)}async metricsDidReceive(Q){var ue;(ue=this.statsManager)===null||ue===void 0||ue.onMetricsDidReceive(Q)}connectionDidBecomePoor(){this.callLogger.warn("SDK detected poor connection")}connectionDidSuggestStopVideo(){var Q;this.callLogger.warn("SDK suggested stop video, maybe poor connection"),(Q=this.videoUplinkManager)===null||Q===void 0||Q.shouldRestrictVideoQuality(!0)}connectionDidBecomeGood(){var Q;this.callLogger.info("SDK detected good connection"),(Q=this.videoUplinkManager)===null||Q===void 0||Q.shouldRestrictVideoQuality(!1)}videoSendDidBecomeUnavailable(){this.callLogger.warn("Video send is unavailable")}remoteVideoSourcesDidChange(Q){var ue,ge;(ue=this.videoDownlinkManager)===null||ue===void 0||ue.remoteVideoSourcesDidChange(Q),(ge=this.videoUplinkManager)===null||ge===void 0||ge.remoteVideoSourcesDidChange(Q)}tileWillBePausedByDownlinkPolicy(Q){this.observer.onVideoTileWillPause(Q)}tileWillBeUnpausedByDownlinkPolicy(Q){this.observer.onVideoTileWillUnpause(Q)}constructor(Q,ue,ge,ke,Xe,nt,pt,_e,Le,We,Ze,st=[],ut){this.selfAttendeeId=Q,this.meetingId=ue,this.mediaRegion=ge,this.callId=ke,this.audioVideoFacade=Xe,this.observer=nt,this.deviceManager=pt,this.videoDownlinkManager=_e,this.disconnectObserver=Le,this.dataChannelSubscribers=st,this.videoUplinkManager=ut,this.callLogger=(0,u.tZ)("FREE-WILLY-AV"),this.consoleLog=(0,u.Cc)("FREE-WILLY-AV"),this.waitForStart=(0,n.u)(),this.waitForStop=(0,n.u)(),this.isStopRequested=!1,this.isSignallingOnly=!1,this.isReconnecting=!1,We&&(this.waitForStart=We),Ze&&(this.waitForStop=Ze),this.statsManager=new Je(Xe,nt),this.meetingEventLogger=new Se(nt,this.meetingId,this.mediaRegion,this.selfAttendeeId,this.callId),{reconnectTrace:this.huddleReconnectTracer}=(0,E.A)().getAllTraceHandlers()}},"AudioVideoObserverImpl");var Me=e(8571983633),we=e(489015593),Ge=e(2671711178),Qe=e(5954792826),fe=e(9240258658),Ve=e(5082930587),Be=e(1990810649);function Ye(){switch((0,le.IXB)()){case-3:return 1/.7;case-2:return 1/.8;case-1:return 1/.9;case 0:return 1;case 1:return 1/1.1;case 2:return 1/1.25;case 3:return 1/1.5;case 4:return 1/1.75;case 5:return 1/2;default:return 1}}m(Ye,"getScaleFactorForCurrentZoomLevel");function et(ze,Q){const[ue,ge]=ze;return[ue*Q,ge*Q]}m(et,"getScaledCoordinates");function at(ze,Q){var ue;const ke=(0,c.y3)()&&!(0,c.dY)("4.18.0")?1/Ye():1,Xe=((ue=ze.itemId)===null||ue===void 0?void 0:ue.toString())||null,nt=ze.itemId==="self"?Q:Xe;switch(ze.type){case _.Sl.New:case _.Sl.Edit:{const[pt,_e]=et(ze.segment.a,ke),[Le,We]=et(ze.segment.b,ke),[Ze,st]=et(ze.segment.c,ke),[ut,Lt]=et(ze.segment.d,ke);return{itemId:nt,type:ze.type===_.Sl.New?fe.Y.Draw.Type.NEW:fe.Y.Draw.Type.EDIT,segment:{a:{x:pt,y:_e},b:{x:Le,y:We},c:{x:Ze,y:st},d:{x:ut,y:Lt}}}}case _.Sl.End:return{itemId:nt,type:fe.Y.Draw.Type.END};case _.Sl.ChangeHue:return{itemId:nt,type:fe.Y.Draw.Type.CHANGE_HUE,hue:ze.hue};case _.Sl.Position:return{itemId:nt,type:fe.Y.Draw.Type.POSITION,x:ze.x,y:ze.y};default:return(0,Ve.Kh)(ze)}}m(at,"convertDrawMessageToPeerMessage");function gt(ze,Q){const ue=ze.itemId===Q?"self":ze.itemId;switch(ze.type){case fe.Y.Draw.Type.NEW:case fe.Y.Draw.Type.EDIT:{const ke=(0,c.y3)()&&!(0,c.dY)("4.18.0")?Ye():1;return{itemId:ue,type:ze.type===fe.Y.Draw.Type.NEW?_.Sl.New:_.Sl.Edit,segment:{a:[(ze.segment.a.x||0)*ke,(ze.segment.a.y||0)*ke],b:[(ze.segment.b.x||0)*ke,(ze.segment.b.y||0)*ke],c:[(ze.segment.c.x||0)*ke,(ze.segment.c.y||0)*ke],d:[(ze.segment.d.x||0)*ke,(ze.segment.d.y||0)*ke]}}}case fe.Y.Draw.Type.END:return{itemId:ue,type:_.Sl.End};case fe.Y.Draw.Type.CHANGE_HUE:return{itemId:ue,type:_.Sl.ChangeHue,hue:ze.hue};case fe.Y.Draw.Type.POSITION:return{itemId:ue,type:_.Sl.Position,x:ze.x,y:ze.y};default:(0,z.M)("Unhandled draw message case");return}}m(gt,"convertPeerMessageToDrawMessage");function Mt(ze){let Q=Be.o.Standard;return ze.type&&ze.type===fe.Y.Reacji.Type.Effect&&(Q=Be.o.Effect),ze.type&&ze.type===fe.Y.Reacji.Type.Gif&&(Q=Be.o.Gif),Q}m(Mt,"convertFromPeerReactionType");function Bt(ze){let Q=fe.Y.Reacji.Type.Standard;return ze===Be.o.Effect&&(Q=fe.Y.Reacji.Type.Effect),ze===Be.o.Gif&&(Q=fe.Y.Reacji.Type.Gif),Q}m(Bt,"convertToPeerReactionType");var Ct=e(1975685771);let Ft=m(class Xo{updatePresence(Q,ue){ue?this.attendeesStates.set(Q,this.initializeState()):this.attendeesStates.delete(Q)}calculateScore(Q,ue,ge){const ke=this.attendeesStates.get(Q);if(!ke||(ge!==null&&(ke.muted=ge),ke.muted))return 0;const Xe=Date.now();if(ue){ke.noiseFloor=this.updateNoiseFloor(ke,ue);const nt={timestamp:Xe,volume:ue};ke.volumeSamples.push(nt)}return this.pruneVolumeSamples(ke),this.getScore(ke,Xe)}prioritizeVideoSendBandwidthForActiveSpeaker(){return!0}initializeState(){return{muted:!1,noiseFloor:0,volumeSamples:[]}}updateNoiseFloor(Q,ue){let ge=Q.noiseFloor;return ue>ge?ge=(1-this.params.slowAttackFactor)*ge+this.params.slowAttackFactor*ue:ge=(1-this.params.fastDecayFactor)*ge+this.params.fastDecayFactor*ue,Math.min(ge,this.params.noiseFloorMax)}pruneVolumeSamples(Q){const ue=Date.now()-this.params.analysisWindowMs,ge=Q.volumeSamples;for(;ge.length&&ge[0].timestamp<ue;)ge.shift()}getScore(Q,ue){return Q.volumeSamples.reduce((ge,ke)=>{const Xe=Math.max(1,Math.ceil((ue-ke.timestamp)/1e3));return ge+Math.max(0,ke.volume-Q.noiseFloor)/Xe},0)}constructor(){this.attendeesStates=new Map,this.params=Xo.FAST_SWITCHING_PARAMS}},"WindowedActiveSpeakerPolicy");Ft.DAMPED_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:3e3},Ft.FAST_SWITCHING_PARAMS={slowAttackFactor:.05,fastDecayFactor:.5,noiseFloorMax:.03,analysisWindowMs:300};let kt=m(class{shutdown(){window.clearTimeout(this.timerHandle),delete this.timerHandle}addDisconnectedAttendee(Q){new s.jp(Q).hasModality(s.jp.MODALITY_CONTENT)||this.disconnectedAttendees.has(Q)||(this.disconnectedAttendees.set(Q,Date.now()+this.timeoutMs),this.maybeStartTimer())}deleteDisconnectedAttendee(Q){this.disconnectedAttendees.delete(Q),this.disconnectedAttendees.size===0&&(window.clearTimeout(this.timerHandle),delete this.timerHandle)}hasDisconnectedAttendee(Q){return this.disconnectedAttendees.has(Q)}maybeStartTimer(){if(this.timerHandle||this.disconnectedAttendees.size===0)return;const Q=this.disconnectedAttendees.get([...this.disconnectedAttendees.keys()][0]);Q&&(this.timerHandle=window.setTimeout(this.runTimer,Math.max(Q-Date.now(),10)))}runTimer(){window.clearTimeout(this.timerHandle),delete this.timerHandle;const Q=[],ue=Date.now();this.disconnectedAttendees.forEach((ge,ke)=>{ue>ge&&(this.observer.onStalePeer(ke),Q.push(ke))}),Q.forEach(ge=>{this.disconnectedAttendees.delete(ge)}),this.maybeStartTimer()}constructor(Q,ue){this.timeoutMs=Q,this.observer=ue,this.runTimer=this.runTimer.bind(this),this.disconnectedAttendees=new Map}},"StaleAttendeeChecker");var Et=e(4075246222),mt=e(2208015175),Rt=e(8403493408),Ht=e(2604971659),ft=e(2462761869);let Jt=m(class{addSelf(Q){this.selfId=Q,this.addPeer(Q)}removeSelf(Q){(0,z.M)(Q===this.selfId,"Bad attendeeId when removing self"),delete this.selfId,this.removePeer(Q)}addPeer(Q){this.ids=(0,Et.A)(this.ids,[Q]),(0,mt.A)(this.cachedPeerStates[Q],(ge,ke)=>{this.peerStateForwarder[ke]&&!(0,Me.A)(ge)&&this.peerStateForwarder[ke](Q,ge)}),delete this.cachedPeerStates[Q];const ue=[];(0,mt.A)(this.cachedCallState,(ge,ke)=>{this.callStateForwarder[ke]&&!(0,Me.A)(ge)&&this.callStateForwarder[ke].getPeerIdFn(ge)===Q&&(this.callStateForwarder[ke].forwardFn(ge),this.callStateForwarder[ke].isCached||ue.push(ke))}),this.cachedCallState=(0,t.A)(this.cachedCallState,ue)}removePeer(Q){(0,Rt.A)(this.ids,Q),(0,mt.A)((0,Ht.A)(this.cachedCallState),ue=>{if(this.callStateForwarder[ue]){const ge=this.callStateForwarder[ue].removeFn(this.cachedCallState[ue],Q);if(!ge){delete this.cachedCallState[ue];return}this.cachedCallState[ue]=ge}})}getPeers(){return this.ids}hasPeer(Q){return this.ids.includes(Q)}hasAttendee(Q){return this.hasPeer(Q)||Q===this.selfId}updateCallState(Q){const ue=Q;(0,mt.A)(Q,(ge,ke)=>{this.callStateForwarder[ke]&&(ue[ke]=this.callStateForwarder[ke].updateFn(this.cachedCallState[ke],ge))}),(0,mt.A)(this.callStateForwarder,(ge,ke)=>{this.forwardOrCacheCallState([ue],ke,ge)})}updatePeerStates(Q){(0,mt.A)(this.peerStateForwarder,(ue,ge)=>{this.forwardOrCachePeerState(Q,ge,ue)})}setIncludeSelfAndNoneActiveSpeaker(Q,ue){Q===this.includeSelf&&ue===this.includeNone||(this.includeSelf=Q,this.includeNone=ue,(0,mt.A)(this.cachedCallState,(ge,ke)=>{this.callStateForwarder[ke]&&!(0,Me.A)(ge)&&this.callStateForwarder[ke].forwardFn(ge)}))}forwardOrCachePeerState(Q,ue,ge){Q.filter(Xe=>!(0,Me.A)(Xe.state[ue])).map(Xe=>({id:Xe.peerId,value:Xe.state[ue]})).forEach(Xe=>{let{id:nt,value:pt}=Xe;this.ids.includes(nt)?ge(nt,pt):this.cachedPeerStates[nt]={...this.cachedPeerStates[nt],[ue]:pt}})}forwardOrCacheCallState(Q,ue,ge){Q.filter(Xe=>!(0,Me.A)(Xe[ue])).map(Xe=>({value:Xe[ue]})).forEach(Xe=>{let{value:nt}=Xe;const pt=ge.getPeerIdFn(nt);let _e=!1;pt&&(this.ids.includes(pt)||pt===this.NO_ACTIVE_SPEAKER)?ge.forwardFn(nt):_e=!0,(_e||ge.isCached)&&(this.cachedCallState={...this.cachedCallState,[ue]:nt})})}getAttendeeId(Q){return new s.jp(Q).base()}constructor(Q){this.observer=Q,this.NO_ACTIVE_SPEAKER="none",this.ids=[],this.includeSelf=!1,this.includeNone=!1,this.cachedCallState={},this.cachedPeerStates={},this.callStateForwarder={activeSpeakerList:{updateFn:(ue,ge)=>{const ke=ue||[],Xe=ge&&ge.length?ge[0]:this.NO_ACTIVE_SPEAKER;return(0,ft.A)(ke,[Xe,this.NO_ACTIVE_SPEAKER]),ke.unshift(Xe),ke},removeFn:(ue,ge)=>{if(ue)return(0,Rt.A)(ue,ge),ue},getPeerIdFn:ue=>{const ge=ue.filter(ke=>ke===this.NO_ACTIVE_SPEAKER?this.includeNone:this.includeSelf||this.selfId!==this.getAttendeeId(ke));if(ge.length)return ge[0]},forwardFn:ue=>{const ge=ue.filter(ke=>ke===this.NO_ACTIVE_SPEAKER&&this.includeNone?!0:this.includeSelf||this.selfId!==this.getAttendeeId(ke));!ge.length||ge[0]===this.NO_ACTIVE_SPEAKER?this.observer.onNewActiveSpeaker(void 0):this.observer.onNewActiveSpeaker(this.selfId===ge[0]?"self":ge[0])},isCached:!0}},this.peerStateForwarder={isDrawEnabled:(ue,ge)=>{this.observer.onPeerDrawEnabled(ue,ge)}}}},"PeerCache");var Zt=e(252549317);let Tt=m(class{destroy(){var Q,ue,ge;(Q=this.peerCache)===null||Q===void 0||Q.getPeers().forEach(ke=>this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(ke)),delete this.peerCache,(ue=this.staleAttendeeChecker)===null||ue===void 0||ue.shutdown(),delete this.staleAttendeeChecker,this.audioVideoFacade.realtimeUnsubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeUnsubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeUnsubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeUnsubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeUnsubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.audioVideoFacade.unsubscribeFromActiveSpeakerDetector(this.activeSpeakerDetectorCallback),delete this.windowedActiveSpeakerPolicy,this.audioVideoFacade.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),(ge=this.audioVideoFacade.transcriptionController)===null||ge===void 0||ge.unsubscribeFromTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.attendeeMuteRequests={}}selfDrawEnabled(Q){this.sendPeerMessageOverDataChannel(new fe.Y({capabilities:{isDrawEnabled:Q},fromPeerIdString:this.selfAttendeeId}))}sendReacji(Q,ue,ge){const ke={emoji:Q,...ue?{type:Bt(ue)}:{},...ge?{emojiUrl:ge}:{}};this.sendPeerMessageOverDataChannel(new fe.Y({reacji:ke,fromPeerIdString:this.selfAttendeeId}))}sendBackground(Q){this.sendPeerMessageOverDataChannel(new fe.Y({background:{url:Q},fromPeerIdString:this.selfAttendeeId}))}sendMuteRequest(Q){this.sendPeerMessageOverDataChannel(new fe.Y({muteRequest:{peerId:Q},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxRequest(Q){this.sendPeerMessageOverDataChannel(new fe.Y({jukeboxRequest:{songKey:Q},fromPeerIdString:this.selfAttendeeId}))}sendJukeboxStopRequest(){this.sendPeerMessageOverDataChannel(new fe.Y({jukeboxRequest:{stop:!0},fromPeerIdString:this.selfAttendeeId}))}sendDrawMessage(Q){this.sendPeerMessageOverDataChannel(new fe.Y({draw:at(Q,this.selfAttendeeId),fromPeerIdString:this.selfAttendeeId}))}sendContentShareDetails(Q){this.sendPeerMessageOverDataChannel(new fe.Y({contentShareDetails:{sourceType:Q,itemId:this.selfAttendeeId},fromPeerIdString:this.selfAttendeeId}))}sendRecordingStartNotification(){this.sendPeerMessageOverDataChannel(new fe.Y({recordingStartNotification:{type:fe.Y.RecordingStartNotification.Type.SUMMARY},fromPeerIdString:this.selfAttendeeId}))}onStalePeer(Q){this.callLogger.info(`Removing stale peer: ${Q}`),this.attendeeLeft(Q),this.observer.onPeerDisconnected(Q),this.observer.onPeerLeft(Q)}setIncludeSelfAndNoneActiveSpeaker(Q,ue){var ge;(ge=this.peerCache)===null||ge===void 0||ge.setIncludeSelfAndNoneActiveSpeaker(Q,ue)}attendeeJoined(Q){if(Q===this.selfAttendeeId){var ue;(ue=this.peerCache)===null||ue===void 0||ue.addSelf(Q)}else{var ge;(ge=this.peerCache)===null||ge===void 0||ge.addPeer(Q)}this.audioVideoFacade.realtimeSubscribeToVolumeIndicator(Q,this.realtimeVolumeIndicatorCallback),this.consoleLog.info(`Subscribed to attendee=${Q} volume indicator`)}attendeeLeft(Q){if(Q===this.selfAttendeeId){var ue;(ue=this.peerCache)===null||ue===void 0||ue.removeSelf(Q)}else{var ge;(ge=this.peerCache)===null||ge===void 0||ge.removePeer(Q)}this.audioVideoFacade.removeVideoTilesByAttendeeId(Q),this.audioVideoFacade.realtimeUnsubscribeFromVolumeIndicator(Q),this.consoleLog.info(`Unsubscribed from attendee=${Q} volume indicator`)}sendPeerMessageOverDataChannel(Q){this.isDataChannelReady()?this.audioVideoFacade.realtimeSendDataMessage(this.dataChannelTopic,fe.Y.encode(Q).finish()):this.logFailureToSendPeerMessage(Q)}isAttendeeOfTypeContent(Q){return new s.jp(Q).hasModality(s.jp.MODALITY_CONTENT)}realtimeAttendeeIdPresenceCallback(Q,ue,ge,ke){var Xe;if(this.consoleLog.info(`Attendee presence: attendeeId=${Q}, isSelf=${this.selfAttendeeId===new s.jp(Q).base()}, present=${ue}, externalUserId=${ge}, dropped=${ke}`),(Xe=this.windowedActiveSpeakerPolicy)===null||Xe===void 0||Xe.updatePresence(Q,ue),this.isAttendeeOfTypeContent(Q)){ue||this.audioVideoFacade.removeVideoTilesByAttendeeId(Q);return}if(!ge){this.callLogger.error(`Attendee presence: no externalUserId for attendee=${Q}`),this.observer.onClogError("MissingExternalUserId");return}let nt=null;if(ue){var pt;ke===!1&&!(!((pt=this.peerCache)===null||pt===void 0)&&pt.hasAttendee(Q))?nt="joined":nt="reconnected"}else ke===!0?nt="disconnected":nt="left";if(nt===null){this.callLogger.error("Presence callback event is null");return}if(this.selfAttendeeId===Q)switch(nt){case"joined":this.observer.onSelfJoined(),this.observer.onSelfConnected();break;case"left":this.observer.onSelfDisconnected(),this.observer.onSelfLeft();break;case"disconnected":this.observer.onSelfDisconnected();break;case"reconnected":this.observer.onSelfConnected();break;default:this.callLogger.error(`unknown self event ${nt}`);return}else{const Ze=(0,Qe.l)(ge);if(!Ze){this.callLogger.error(`No externalUserId for ${Q}`);return}switch(nt){case"joined":{var _e;(_e=this.staleAttendeeChecker)===null||_e===void 0||_e.deleteDisconnectedAttendee(Q),this.observer.onPeerJoined(Q,Ze),this.observer.onPeerConnected(Q),this.updatePeerVideoTile(Q);break}case"left":this.observer.onPeerDisconnected(Q),this.observer.onPeerLeft(Q);break;case"disconnected":var Le;(Le=this.staleAttendeeChecker)===null||Le===void 0||Le.addDisconnectedAttendee(Q),this.observer.onPeerDisconnected(Q);break;case"reconnected":{var We;(We=this.staleAttendeeChecker)===null||We===void 0||We.deleteDisconnectedAttendee(Q),this.observer.onPeerConnected(Q),this.updatePeerVideoTile(Q);break}default:this.callLogger.error(`unknown peer event ${nt}`);return}}nt==="joined"&&this.attendeeJoined(Q),nt==="left"&&this.attendeeLeft(Q)}realtimeFatalErrorCallback(Q){this.callLogger.error(`Chime session fatal error: name=${Q.name}, message=${Q.message}`),this.observer.onClogError(`FatalError: ${Q.name} - ${Q.message}`)}realtimeLocalSignalStrengthChangeCallback(Q){this.consoleLog.debug(`Local attendee signalStrength=${Q}`)}realtimeMuteAndUnmuteLocalAudioCallback(Q){this.callLogger.debug(`Local attendee mute=${Q}`),this.observer.onPeerMuted("self",Q)}realtimeSetCanUnmuteLocalAudioCallback(Q){this.consoleLog.debug(`Local attendee can unmute = ${Q}`)}realtimeVolumeIndicatorCallback(Q,ue,ge,ke,Xe){this.consoleLog.debug(`Attendee volume indicator: attendeeId=${Q}, volume=${ue}, muted=${ge}, signalStrength=${ke}, externalUserId=${Xe}`),this.selfAttendeeId!==Q&&(ge?this.observer.onPeerMuted(Q,!0):ge!==null&&ge===!1&&this.observer.onPeerMuted(Q,!1)),ke!==null&&(this.selfAttendeeId===Q?this.observer.onSelfConnectionQualityChanged("uplink",(0,_.MK)(ke)):this.observer.onPeerConnectionQualityChanged(Q,"uplink",(0,_.MK)(ke)))}activeSpeakerDetectorCallback(Q){var ue,ge;(ue=this.peerCache)===null||ue===void 0||ue.updateCallState({activeSpeakerList:Q}),(ge=this.videoUplinkManager)===null||ge===void 0||ge.reportActiveSpeakerChange(this.selfAttendeeId===Q[0])}realtimeReceiveDataMessageCallback(Q){if(this.selfAttendeeId===Q.senderAttendeeId){if(!Q.throttled)return;this.callLogger.info(`Data message throttled: size=${Q.data.length} bytes`);return}let ue;try{ue=fe.Y.decode(Q.data)}catch(ge){this.callLogger.error(`Peer Message failed during decode, ignoring peer message.
				| Error: ${ge}
				| Data Sender Attendee ID: ${Q.senderAttendeeId}
				| Data Sender External Attendee ID: ${Q.senderExternalUserId}
				| Topic: ${Q.topic}`);return}this.handlePeerMessageFromDataMessage(ue,Q.senderAttendeeId)}handlePeerMessageFromDataMessage(Q,ue){const ge=ue;if(Q.jukeboxRequest){var ke;if(!(0,Ct.Z)(ge,"senderAttendeeId is not populated")||!(0,Ct.Z)(Q.jukeboxRequest,"message.jukeboxRequest is required in the jukebox request message"))return;if(!this.peerCache||!(!((ke=this.peerCache)===null||ke===void 0)&&ke.hasPeer(ge))){this.callLogger.info(`Dropping jukeboxRequest from unknown peer: ${ge}`);return}Q.jukeboxRequest.songKey&&!Q.jukeboxRequest.stop&&this.observer.onJukeboxRequest(Q.jukeboxRequest.songKey),Q.jukeboxRequest.stop&&this.observer.onJukeboxStopRequest()}else if(Q.reacji){var Xe;if(!(0,Ct.Z)(ge,"senderAttendeeId is not populated")||!(0,Ct.Z)(Q.reacji.emoji,"reacji.emoji is required in the reacji message"))return;if(!((Xe=this.peerCache)===null||Xe===void 0)&&Xe.hasPeer(ge)){const Ze=Mt(Q.reacji);var nt;this.observer.onPeerReacji(ge,Q.reacji.emoji,!0,Ze,(nt=Q.reacji.emojiUrl)!==null&&nt!==void 0?nt:void 0)}else this.callLogger.info(`Dropping reacji from unknown peer: ${ge}`)}else if(Q.draw){var pt;const Ze=gt(Q.draw,this.selfAttendeeId);if(!(0,Ct.Z)(ge,"senderAttendeeId is not populated")||!(0,Ct.Z)(Ze,"Draw message must be correctly formed"))return;!((pt=this.peerCache)===null||pt===void 0)&&pt.hasPeer(ge)?this.observer.onPeerDrawMessage(ge,Ze):this.callLogger.info(`Dropping draw message from unknown peer: ${ge}`)}else if(Q.capabilities){if(!(0,Ct.Z)(ge,"senderAttendeeId is not populated"))return;if(!(0,Me.A)(Q.capabilities.isDrawEnabled)){var _e;(_e=this.peerCache)===null||_e===void 0||_e.updatePeerStates([{peerId:ge,state:{isDrawEnabled:Q.capabilities.isDrawEnabled}}])}}else if(Q.muteRequest){var Le;if(!(0,Ct.Z)(ge,"senderAttendeeId is not populated")||!(0,Ct.Z)(Q.muteRequest.peerId,"muteRequest.peerId is required in the background message"))return;if(!((Le=this.peerCache)===null||Le===void 0)&&Le.hasPeer(ge)){if(Q.muteRequest.peerId===this.selfAttendeeId){var We;const Ze=this.attendeeMuteRequests[ue],st=Ze==null?void 0:Ze.lastRequestTime,ut=Date.now();if(Ze?(Ze.lastRequestTime=ut,Ze.count+=1):this.attendeeMuteRequests[ue]={lastRequestTime:ut,count:1},st&&ut-st<=this.attendeeMuteRequestThrottleMs){this.callLogger.info(`Throttled mute request from attendee: ${ue} peer: ${ge}`);return}if(((We=this.attendeeMuteRequests[ue])===null||We===void 0?void 0:We.count)>=this.attendeeMuteRequestMaxAllowed){this.callLogger.info(`Dropped mute request from attendee: ${ue} peer: ${ge}`);return}}this.observer.onPeerMuteRequest(ge,Q.muteRequest.peerId)}else this.callLogger.info(`Dropping mute request from unknown peer: ${ge}`)}else if(Q.contentShareDetails){if(!(0,Ct.Z)(ge,"senderAttendeeId is not populated")||!(0,Ct.Z)(Q.contentShareDetails.itemId,"contentShareDetails.itemId is required in the contentShareDetails message")||!(0,Ct.Z)(Q.contentShareDetails.sourceType,"contentShareDetails.sourceType is required in the contentShareDetails message"))return;this.callLogger.info(`Received content share details for item: ${Q.contentShareDetails.itemId}, type: ${Q.contentShareDetails.sourceType}`);const Ze=(0,Zt.Vd)(Q.contentShareDetails.sourceType);this.observer.onContentShareDetailsUpdate(ge,Ze,Q.contentShareDetails.sourceType)}}realtimeReceiveTranscriptEventCallback(Q){this.observer.onTranscriptionEvent(Q)}updatePeerVideoTile(Q){this.audioVideoFacade.getAllVideoTiles().filter(ke=>{const Xe=ke.state();return!Xe||!Xe.boundAttendeeId?!1:new s.jp(Xe.boundAttendeeId).base()===new s.jp(Q).base()}).forEach(ke=>{const Xe=(ke==null?void 0:ke.state())||null;Xe&&this.observer.onPeerVideoTileUpdate(Q,Xe)})}constructor(Q,ue,ge,ke){var Xe;this.selfAttendeeId=Q,this.audioVideoFacade=ue,this.observer=ge,this.videoUplinkManager=ke,this.callLogger=(0,u.Jt)("AUDIO-VIDEO-FACADE-SUBS"),this.consoleLog=(0,u.Cc)("AUDIO-VIDEO-FACADE-SUBS"),this.dataChannelTopic="data-channel",this.staleAttendeeTimeoutMs=60*1e3,this.attendeeMuteRequestThrottleMs=10*1e3,this.attendeeMuteRequestMaxAllowed=50,this.attendeeMuteRequests={},this.isDataChannelReady=()=>{var nt,pt,_e;return(nt=this.audioVideoFacade.audioVideoController)===null||nt===void 0||(pt=nt.meetingSessionContext)===null||pt===void 0||(_e=pt.signalingClient)===null||_e===void 0?void 0:_e.ready()},this.logFailureToSendPeerMessage=nt=>{const pt=nt.draw?"draw":"reacji",_e=m(()=>this.callLogger.error(`Failed to send ${pt} peer message. Data channel is not ready to use.`),"logError");return(0,Ge.A)(pt,_e)},(0,we.A)(this,["realtimeAttendeeIdPresenceCallback","realtimeFatalErrorCallback","realtimeLocalSignalStrengthChangeCallback","realtimeMuteAndUnmuteLocalAudioCallback","realtimeSetCanUnmuteLocalAudioCallback","activeSpeakerDetectorCallback","realtimeVolumeIndicatorCallback","realtimeReceiveDataMessageCallback","realtimeReceiveTranscriptEventCallback"]),this.audioVideoFacade.realtimeSubscribeToAttendeeIdPresence(this.realtimeAttendeeIdPresenceCallback),this.audioVideoFacade.realtimeSubscribeToFatalError(this.realtimeFatalErrorCallback),this.audioVideoFacade.realtimeSubscribeToLocalSignalStrengthChange(this.realtimeLocalSignalStrengthChangeCallback),this.audioVideoFacade.realtimeSubscribeToMuteAndUnmuteLocalAudio(this.realtimeMuteAndUnmuteLocalAudioCallback),this.audioVideoFacade.realtimeSubscribeToSetCanUnmuteLocalAudio(this.realtimeSetCanUnmuteLocalAudioCallback),this.windowedActiveSpeakerPolicy=new Ft,this.audioVideoFacade.subscribeToActiveSpeakerDetector(this.windowedActiveSpeakerPolicy,this.activeSpeakerDetectorCallback),this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),(Xe=this.audioVideoFacade.transcriptionController)===null||Xe===void 0||Xe.subscribeToTranscriptEvent(this.realtimeReceiveTranscriptEventCallback),this.peerCache=new Jt(this.observer),this.staleAttendeeChecker=new kt(this.staleAttendeeTimeoutMs,this)}},"AudioVideoFacadeSubscriber");var Pt=e(3867135795),Kt=e(6696292586);const dn=15,sn=2560,H=1e3,Ne="text";let Pe=m(class{stopMusic(Q){let{cleanObserver:ue}=Q;this.huddlesJukeboxEnabled&&this.isMusicEnabled&&(this.isMusicEnabled=!1,this.audioVideoFacade.stopContentShare(),ue&&this.audioVideoFacade.removeContentShareObserver(this))}async stop(){this.isScreenshareEnabled&&(this.isStopRequested=await this.stopContentShare()),this.huddlesJukeboxEnabled&&this.stopMusic({cleanObserver:!0}),this.isStopRequested||(this.observer.onScreenShareStopped(),this.audioVideoFacade.removeContentShareObserver(this))}contentShareDidStart(){this.log.info("Chime content share started"),this.waitForStart.resolve(!0),this.observer.onScreenShareStarted()}contentShareDidStop(){this.log.info("Chime content share stopped"),this.isScreenshareEnabled&&this.log.info("Screenshare stop: stream ended"),this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped(),this.isStopRequested&&this.audioVideoFacade.removeContentShareObserver(this)}contentShareDidPause(){this.log.info("Chime content share paused")}contentShareDidUnpause(){this.log.info("Chime content share unpaused")}async setSongStream(Q){this.huddlesJukeboxEnabled&&(this.waitForStart=(0,n.u)(),await this.audioVideoFacade.startContentShare(Q),this.isMusicEnabled=!0)}async setScreenshare(Q,ue,ge){if(Q===this.isScreenshareEnabled)return;const{huddleEventsTrace:ke}=(0,E.A)().getAllTraceHandlers();if(Q){let Xe=ue;if(ue){const pt=ue.split(":");pt.length===3&&pt[2]!=="0"&&(pt[2]="0",Xe=pt.join(":"),this.log.warn(`Munging screen share media source id, before: ${ue}, after: ${Xe}`))}let nt;try{this.waitForStart=(0,n.u)();const pt=m(_e=>{throw this.log.error(`getUserMedia error during huddle screenshare attempt: ${_e.name} ${_e.message}`),_e},"logGetUserMediaError");if((0,le.g9M)()&&this.log.info(`Starting screen share with zoomLevel = ${(0,le.IXB)()}`),(0,le.g9M)()&&ge){const{screenHeight:_e,screenWidth:Le,selectedDisplayId:We}=ge;if(nt={video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:Xe,maxFrameRate:dn}}},Le&&_e){const ut=nt.video.mandatory,Lt=Le/_e,tn=sn;ut.maxWidth=Le<tn?Le:tn,ut.maxHeight=_e<tn?_e:tn;const En=navigator.mediaDevices.getSupportedConstraints();(0,Pt.A)(En,"aspectRatio")&&!!En.aspectRatio&&(0,Kt.A)(Lt)&&(ut.minAspectRatio=Lt,ut.maxAspectRatio=Lt),this.log.info(`Starting screen share with resolution constraints: ${ut.maxWidth} x ${ut.maxHeight} | resolution provided: ${Le} x ${_e}`)}else this.log.info("Starting application window share without proposed resolution");const st=await navigator.mediaDevices.getUserMedia(nt).catch(pt);(st==null?void 0:st.getVideoTracks().length)>0?(this.log.debug(`Applying content hint to content share stream. Content Hint ${Ne}`),st.getVideoTracks()[0].contentHint=Ne):this.log.warn("No video tracks where available when starting constrained content share"),setTimeout(()=>{const ut=st.getVideoTracks()[0].getSettings(),Lt=(0,Zt.MS)(ut==null?void 0:ut.deviceId);L.A.publish({type:k.lx.ScreenshareContentType,update:{screenshareContentType:Lt}}),this.log.info(`Created video track with resolution: ${ut.width} x ${ut.height} framerate: ${ut.frameRate} aspect ratio: ${ut.aspectRatio}`),We&&this.log.info(`Sharing from selected display: ${We}`)},500),await this.audioVideoFacade.startContentShare(st),setTimeout(()=>this.applyContentShareConstraints(st),H),ke==null||ke.update({name:A.p.SCREENSHARE,type:A.G.START})}else{this.log.info("Starting unconstrained content share with chime API's startContentShareFromScreenCapture");const _e=await this.audioVideoFacade.startContentShareFromScreenCapture(Xe).catch(pt);if(ke==null||ke.update({name:A.p.SCREENSHARE,type:A.G.START}),setTimeout(()=>this.applyContentShareConstraints(_e),H),(_e==null?void 0:_e.getVideoTracks().length)>0){this.log.debug(`Applying content hint to content share stream. Content Hint ${Ne}`),_e.getVideoTracks()[0].contentHint=Ne;const Le=_e.getVideoTracks()[0].getSettings(),We=(0,Zt.MS)(Le==null?void 0:Le.deviceId);L.A.publish({type:k.lx.ScreenshareContentType,update:{screenshareContentType:We}})}else this.log.warn("No video tracks where available when starting unconstrained content share")}}catch(pt){const _e=m(()=>{delete this.waitForStart,this.isScreenshareEnabled=!1,this.observer.onScreenShareStopped()},"exitScreenshare");if(pt.name==="NotAllowedError"){_e(),pt.message==="Permission denied by system"&&this.observer.onCheckSystemMediaAccess(_.mT.SCREEN);return}if(pt.name==="OverconstrainedError"){_e(),nt&&this.log.error(`Invalid stream constraints prevented screenshare from succeeding: ${JSON.stringify(nt)}`);return}if(["TypeError","AbortError","Error"].includes(pt.name)){_e(),this.observer.onScreenShareError(_.lD.ERROR);return}if(pt.name==="NotReadableError"){_e(),this.observer.onScreenShareError(_.lD.NOT_READABLE_ERROR);return}throw pt.name==="NotFoundError"&&(_e(),this.observer.onScreenShareError(_.lD.NOT_FOUND_ERROR)),this.log.error(`Encountered an uncaught error attempting to start screen share: ${pt.name} ${pt.message}`),this.waitForStart.resolve(!1),_e(),pt}this.lastEnableTimeMs=Date.now(),this.isScreenshareEnabled=Q}else this.isScreenshareEnabled&&await this.stopContentShare()}async applyContentShareConstraints(Q){if(!this.isExperimentalSDK)return;const ue=Q.getVideoTracks()[0];if(!ue){this.log.info("Constraints not re-applied no video track available");return}ue.getSettings()||this.log.info("Constraints not re-applied no video track settings available");const ke={width:{ideal:sn},height:{ideal:sn},frameRate:{ideal:dn}};await ue.applyConstraints(ke),this.log.info("Constraints re-applied to content share (resolution overwrite applied)")}isScreenShareEnabled(){return this.isScreenshareEnabled||!1}async stopContentShare(){let Q=!1;if(this.waitForStart.isPending()?Date.now()-this.lastEnableTimeMs>1e4?(Q=!0,this.log.info(`Stop screen share, force: ${Date.now()-this.lastEnableTimeMs} ms since start`)):(this.log.info("Stop screen share, waiting for content share start to resolve"),Q=await this.waitForStart,this.log.info(`Stop screen share, wait for content share start resolve finished: ${Q}`)):(Q=this.waitForStart.value(),this.log.info(`Stop screen share, promise resolved: ${Q}`)),Q){this.audioVideoFacade.stopContentShare(),this.isScreenshareEnabled=!1;const{huddleEventsTrace:ue}=(0,E.A)().getAllTraceHandlers();ue==null||ue.update({name:A.p.SCREENSHARE,type:A.G.STOP}),L.A.publish({type:k.lx.ScreenshareContentType,update:null})}else this.log.warn("Screen share disable ignored as screen share was not started successfully");return Q}constructor(Q,ue,ge,ke){this.audioVideoFacade=Q,this.observer=ue,this.huddlesJukeboxEnabled=ge,this.isExperimentalSDK=ke,this.log=(0,u.tZ)("FREE-WILLY-CONTENT-SHARE"),this.isStopRequested=!1,this.lastEnableTimeMs=0,this.audioVideoFacade.addContentShareObserver(this),this.setScreenshare=C(this,this.setScreenshare,{skipIntermediatePendingRuns:!1})}},"ContentShareManager"),qe=m(class{addObserver(Q){var ue,ge;(ue=this.videoDownlinkPolicy)===null||ue===void 0||(ge=ue.addObserver)===null||ge===void 0||ge.call(ue,Q)}removeObserver(Q){var ue,ge;(ue=this.videoDownlinkPolicy)===null||ue===void 0||(ge=ue.removeObserver)===null||ge===void 0||ge.call(ue,Q)}remoteVideoSourcesDidChange(Q){this.videoSources=Q,this.updateChimeVideoPreferences()}updateChimeVideoPreferences(){if(!this.videoSources||!this.videoDownlinkPolicy)return;const Q=[];this.videoSources.forEach(ue=>{var ge;const ke=(ge=ue.attendee)===null||ge===void 0?void 0:ge.attendeeId;ke===this.selfAttendeeId||!ke||(ke.includes("#content")||!this.isAudioOnlyMode)&&Q.push(ue)}),this.sendChimeVideoPreferences(Q)}constructor({selfAttendeeId:Q,videoDownlinkPolicy:ue}){this.logger=new ce.k("Huddles Video Downlink Manager"),this.isAudioOnlyMode=!1,this.toggleAllIncomingVideo=ge=>{this.isAudioOnlyMode=ge,this.updateChimeVideoPreferences()},this.sendChimeVideoPreferences=ge=>{var ke;try{this.logger.debug(`Sending updated video preferences to chime: ${JSON.stringify(ge)}`)}catch{}(ke=this.videoDownlinkPolicy)===null||ke===void 0||ke.chooseRemoteVideoSources(ge)},this.videoDownlinkPolicy=ue,this.selfAttendeeId=Q}},"VideoDownlinkManager");const At=null;var xt=e(337319621),jt=e(2240330919);const Xt=30,en=720;class Qt{get videoParticipantCount(){const Q=this.audioVideoFacade.hasStartedLocalVideoTile()?1:0;return(this.remoteVideoParticipantCount||0)+Q}constructor(Q,ue){var ge=this;this.observer=Q,this.audioVideoFacade=ue,this.logger=(0,xt.Wo)({label:"VIDEO-UPLINK"}),this.remoteVideoParticipantCount=0,this.maxIdealBitrate=1200,this.minimumBitrate=240,this.useMinimumBitrate=!1,this.currentBitrate=this.maxIdealBitrate,this.isActiveSpeaker=!1,this.bitrateUpdateDelayMs=5e3,this.remoteVideoSourcesDidChange=ke=>{this.logger.info("remote video sources changed",ke),this.remoteVideoParticipantCount=ke.length,this.updateVideoQualitySettings()},this.reportActiveSpeakerChange=ke=>{this.logger.debug(`user is active speaker: ${ke}`);const Xe=this.isActiveSpeaker;this.isActiveSpeaker=ke,Xe===this.isActiveSpeaker?this.logger.debug(`Active speaker status unchanged ${this.isActiveSpeaker}.`):(this.logger.info(`Active speaker status changed to ${this.isActiveSpeaker}. Updating video quality settings.`),this.updateVideoQualitySettings())},this.updateVideoQualitySettings=()=>{const ke=this.maxIdealBitrate;if(!this.videoParticipantCount){this.logger.debug("Video not active in Huddle. Returning.");return}const Xe=this.currentBitrate;if(this.useMinimumBitrate?this.currentBitrate=this.minimumBitrate:this.isActiveSpeaker?this.currentBitrate=ke:this.remoteVideoParticipantCount<=2?this.currentBitrate=ke:this.remoteVideoParticipantCount<=4?this.currentBitrate=ke*2/3:this.currentBitrate=ke*2/this.remoteVideoParticipantCount,this.currentBitrate=(0,jt.A)([this.currentBitrate,this.minimumBitrate])||Xe,Xe===this.currentBitrate){this.logger.info(`Target video bitrate unchanged (${this.currentBitrate} kbps). Not updating max bitrate`);return}const nt=Xe>this.currentBitrate;this.applyNextVideoSettings(nt)},this.shouldRestrictVideoQuality=ke=>{this.logger.info(`should restrict video quality due to connection quality: ${ke}`),this.useMinimumBitrate=ke,this.updateVideoQualitySettings()},this.applyBitrate=()=>{var ke;!this.currentBitrate||!(!((ke=this.audioVideoFacade)===null||ke===void 0)&&ke.setVideoMaxBandwidthKbps)||(this.logger.info(`applying new video max bitrate to local video stream ${this.currentBitrate}`),this.audioVideoFacade.setVideoMaxBandwidthKbps(Math.trunc(this.currentBitrate)))},this.applyBitrateDelayed=(0,l.A)(this.applyBitrate,this.bitrateUpdateDelayMs,{leading:!1}),this.applyNextVideoSettings=function(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?ge.applyBitrateDelayed():ge.applyBitrate()},this.logger.info("Initializing video uplink manager"),this.audioVideoFacade.chooseVideoInputQuality(en,en,Xt),this.observer.onMaxTileSizeUpdated(en),this.applyNextVideoSettings()}}m(Qt,"VideoUplinkManager");var ht=e(3146858537),Nt=e(3398586081),on=e(1829947126);let Vt=m(class{initialize(Q,ue){this.gainNode=ue,this.audioContext=Q}onAudioLevelUpdated(Q){isNaN(Q.value)||Q.value<this.audioLevelActivationThreshold||(this.currentDuckingEndTimeout&&clearTimeout(this.currentDuckingEndTimeout),this.startDucking())}startDucking(){if(!this.gainNode||!this.audioContext)return;const Q=this.defaultVolume*this.duckingAudioAdjustmentLevel;this.gainNode.gain.cancelScheduledValues(this.audioContext.currentTime),this.gainNode.gain.exponentialRampToValueAtTime(Q,this.audioContext.currentTime+this.fadeInTimeLocal),this.currentDuckingEndTimeout=setTimeout(()=>{this.endDucking()},this.waitForFadeOutTime)}endDucking(){var Q;this.gainNode&&this.audioContext&&((Q=this.gainNode)===null||Q===void 0||Q.gain.exponentialRampToValueAtTime(this.defaultVolume,this.audioContext.currentTime+this.fadeOutTime))}constructor(Q){this.defaultVolume=Q,this.fadeOutTime=20,this.fadeInTimeLocal=.2,this.waitForFadeOutTime=3e3,this.duckingAudioAdjustmentLevel=.2,this.audioLevelActivationThreshold=.04,this.onAudioLevelUpdated=this.onAudioLevelUpdated.bind(this),on.A.subscribeAll(this.onAudioLevelUpdated)}},"JukeboxDucker");const qt="HUDDLE-JUKEBOX";let rn=m(class{async startLocalJukebox(Q){let{song:ue,volume:ge}=Q;var ke;const Xe=this.getSongUrl({song:ue});if(Xe===this.localAudioUrl)return;this.callLogger.info(`Starting local jukebox song key: ${ue.key}.`),this.audioContext||(this.audioContext=new AudioContext),this.cleanup(),this.localAudioUrl=Xe;const pt=await(await window.fetch(Xe)).arrayBuffer(),_e=await this.audioContext.decodeAudioData(pt);this.audioBufferSourceNode=this.audioContext.createBufferSource(),this.audioBufferSourceNode.buffer=_e,this.localAudio=new Audio,this.localAudio.volume=ge,await this.localAudio.setSinkId((0,M._o)()),this.localMediaStreamAudioDestinationNode=this.audioContext.createMediaStreamDestination(),this.gainNode=this.audioContext.createGain(),(ke=this.jukeboxDucker)===null||ke===void 0||ke.initialize(this.audioContext,this.gainNode),this.gainNode.gain.value=this.defaultVolume,this.audioBufferSourceNode.connect(this.gainNode),this.gainNode.connect(this.localMediaStreamAudioDestinationNode),this.localAudio.srcObject=this.localMediaStreamAudioDestinationNode.stream,this.audioBufferSourceNode.loop=!0,this.audioBufferSourceNode.start(),this.localAudio.play()}async startContentShareJukebox(Q){let{song:ue}=Q;var ge,ke;this.audioContext||(this.audioContext=new AudioContext),this.audioDestination||(this.audioDestination=this.audioContext.createMediaStreamDestination()),this.callLogger.info(`Starting jukebox song key: ${ue.key}`),this.cleanup();const Xe=this.getSongUrl({song:ue}),pt=await(await window.fetch(Xe)).arrayBuffer(),_e=await this.audioContext.decodeAudioData(pt);return this.audioBufferSourceNode=this.audioContext.createBufferSource(),this.audioBufferSourceNode.buffer=_e,this.localAudio=new Audio,await this.localAudio.setSinkId((0,M._o)()),this.localMediaStreamAudioDestinationNode=this.audioContext.createMediaStreamDestination(),this.gainNode=this.audioContext.createGain(),(ge=this.jukeboxDucker)===null||ge===void 0||ge.initialize(this.audioContext,this.gainNode),this.gainNode.gain.value=this.defaultVolume,this.audioBufferSourceNode.connect(this.gainNode),this.gainNode.connect(this.audioDestination),this.gainNode.connect(this.localMediaStreamAudioDestinationNode),this.localAudio.srcObject=this.localMediaStreamAudioDestinationNode.stream,this.audioBufferSourceNode.loop=!0,this.audioBufferSourceNode.start(),this.localAudio.play(),(ke=this.audioDestination)===null||ke===void 0?void 0:ke.stream}stopJukebox(){this.callLogger.info(`Stopping jukebox for song: ${this.localAudioUrl||""}`),this.cleanup(),this.audioContext=void 0,this.audioDestination=void 0}cleanup(){var Q,ue,ge,ke;(Q=this.audioBufferSourceNode)===null||Q===void 0||Q.stop(),this.audioBufferSourceNode=void 0,(ue=this.localAudio)===null||ue===void 0||ue.pause(),this.localAudio=void 0,this.localAudioUrl=void 0,(ge=this.gainNode)===null||ge===void 0||ge.disconnect(),this.gainNode=void 0,(ke=this.audioDestination)===null||ke===void 0||ke.disconnect()}hasAudio(){return!!this.localAudio}getVolume(){var Q;return(Q=this.localAudio)===null||Q===void 0?void 0:Q.volume}getSongUrl(Q){let{song:ue}=Q;return ue.url}constructor(){this.defaultVolume=.3,this.callLogger=(0,u.Jt)(qt),this.callLogger.info("Huddle Jukebox Manager created."),this.jukeboxDucker=new Vt(this.defaultVolume)}},"JukeboxManager");const Rn=(0,Nt.A)(()=>new rn);var Pn=e(7164668892);const In=new Pn.ConnectionHealthPolicyConfiguration,Nn={connectionWaitTimeMs:15*1e3,connectionUnhealthyThreshold:5,sendingAudioFailureSamplesToConsider:3,sendingAudioFailureInitialWaitTimeMs:15*1e3,missedPongsLowerThreshold:1,missedPongsUpperThreshold:3,consecutiveVideoEncodingFailureThreshold:5},ts=m(class{constructor(Q=!1){this.expectAv1EncoderFreeze=Q,this.getConfiguration=()=>{const ue={...In,...Nn};return this.expectAv1EncoderFreeze&&(ue.consecutiveVideoEncodingFailureThreshold=20),ue}}},"ConnectionHealthPolicyManager");var Un=e(610288365),bn=e(1921074781),Ln;(function(ze){ze.Control="control",ze.Vp8="vp8",ze.Vp8Svc="vp8_svc",ze.Vp9="vp9",ze.Vp9Svc="vp9_svc",ze.Av1="av1",ze.Av1Svc="av1_svc"})(Ln||(Ln={}));const Gn=(0,xt.Wo)({label:"HUDDLE-VIDEO-CODECS"}),Zn=m(async ze=>{let{audioVideoFacade:Q,h264BaselineProfileEnabled:ue,disableVp9:ge}=ze;var ke,Xe;const nt=[];!(0,c.gm)()&&!ge&&nt.push(s.KK.vp9()),ue&&nt.push(s.KK.h264BaselineProfile()),nt.push(s.KK.h264()),Gn.info(`Setting preferred camera video codec to ${(ke=nt[0])===null||ke===void 0?void 0:ke.codecName}`),Gn.debug("Setting camera video codec preferences",nt),(Xe=Q.setVideoCodecSendPreferences)===null||Xe===void 0||Xe.call(Q,nt)},"setCameraVideoCodec"),ns=m(async ze=>{let{useAv1:Q,audioVideoFacade:ue,h264BaselineProfileEnabled:ge}=ze;var ke,Xe;const nt=[];Q&&nt.push(s.KK.av1()),ge&&nt.push(s.KK.h264BaselineProfile()),nt.push(s.KK.h264()),Gn.info(`Setting preferred content share video codec to ${(ke=nt[0])===null||ke===void 0?void 0:ke.codecName}`),Gn.debug("Setting content share video codec preferences",nt),(Xe=ue.setContentShareVideoCodecPreferences)===null||Xe===void 0||Xe.call(ue,nt)},"setScreenshareVideoCodec");var is=e(2028988448),Xn;(function(ze){ze.CONNECTION_STATE_CHANGE="connectionstatechange",ze.ICE_CONNECTION_STATE_CHANGE="iceconnectionstatechange"})(Xn||(Xn={}));var vs;(function(ze){ze.CLOSE="close",ze.ERROR="error"})(vs||(vs={}));var as;(function(ze){ze.DISCONNECTED="disconnected",ze.FAILED="failed",ze.CONNECTED="connected",ze.CLOSED="closed"})(as||(as={}));const qn=5*1e3,ls=1*1e3;let un=null;class Fn{constructor(Q){var ue=this;this.observer=Q,this.callLogger=(0,u.Jt)("DISCONNECT-OBSERVER"),this.genericLogger=(0,xt.Wo)({label:"DISCONNECT-OBSERVER"}),this.peerConnection=null,this.webSocket=null,this.shouldIgnoreDisconnectEvents=!1,this.getPeerConnectionRef=ge=>{var ke,Xe;const nt=(ke=ge)===null||ke===void 0||(Xe=ke.audioVideoController)===null||Xe===void 0?void 0:Xe.meetingSessionContext;return nt==null?void 0:nt.peer},this.getWebSocketRef=ge=>{var ke,Xe,nt,pt;const _e=(ke=ge)===null||ke===void 0||(Xe=ke.audioVideoController)===null||Xe===void 0?void 0:Xe.meetingSessionContext;return _e==null||(nt=_e.signalingClient)===null||nt===void 0||(pt=nt.webSocket)===null||pt===void 0?void 0:pt.connection},this.onConnectionUpdate=function(ge){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)&&(ue.brieflyIgnoreDisconnectEvents(),ue.genericLogger.debug("Connection restored. Ignoring disconnection events for 5 seconds."));try{ue.resetConnectionRefs(ge),ue.registerAllEventHandlers(),ue.genericLogger.debug("Reconnected and monitoring for future disconnections.")}catch(Xe){ue.callLogger.error("Error updating connection references on reconnection:",Xe)}},this.brieflyIgnoreDisconnectEvents=()=>{this.shouldIgnoreDisconnectEvents=!0,setTimeout(()=>{this.shouldIgnoreDisconnectEvents=!1,this.genericLogger.debug("Reconnection delay over. Now responding to disconnection events.")},qn)},this.resetConnectionRefs=ge=>{this.unregisterAllEventHandlers(),this.peerConnection=this.getPeerConnectionRef(ge)||null,this.webSocket=this.getWebSocketRef(ge)||null,this.webSocket?this.genericLogger.debug("WebSocket reference obtained successfully."):this.callLogger.error("WebSocket reference not available.")},this.broadcastDisconnection=(0,l.A)(()=>{var ge;if(this.shouldIgnoreDisconnectEvents){this.genericLogger.debug("Disconnection event ignored due to recent reconnection.");return}this.genericLogger.info("Disconnection detected. Informing the user."),(ge=this.observer)===null||ge===void 0||ge.onSelfDisconnected()},ls,{leading:!0,trailing:!1}),this.broadcastReconnection=()=>{var ge;this.genericLogger.info("Peer connection successfully established. Informing the user."),(ge=this.observer)===null||ge===void 0||ge.onSelfConnected()},this.onHuddleEnd=()=>{this.genericLogger.debug("Huddle ended. Cleaning up event handlers and connection references.");try{this.unregisterAllEventHandlers()}catch(ge){this.callLogger.error(`Error during Huddle end cleanup: ${ge}`)}this.webSocket=null,this.peerConnection=null,un=null},this.testNetworkDrop=function(){let ge=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{ws:!0,pc:!0};if(ue.genericLogger.info("Simulating network drop by closing WebSocket and PeerConnection."),ge.ws){var ke;(ke=ue.webSocket)===null||ke===void 0||ke.close()}if(ge.pc){var Xe;(Xe=ue.peerConnection)===null||Xe===void 0||Xe.close()}},this.registerAllEventHandlers=()=>{this.genericLogger.debug("Registering event handlers for WebSocket and PeerConnection."),this.registerPeerConnectionEventHandlers(),this.registerWebSocketEventHandlers()},this.unregisterAllEventHandlers=()=>{this.genericLogger.debug("Unregistering event handlers for WebSocket and PeerConnection."),this.unregisterPeerConnectionEventHandlers(),this.unregisterWebSocketEventHandlers()},this.registerPeerConnectionEventHandlers=()=>{var ge,ke;(ge=this.peerConnection)===null||ge===void 0||ge.addEventListener(Xn.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(ke=this.peerConnection)===null||ke===void 0||ke.addEventListener(Xn.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.registerWebSocketEventHandlers=()=>{var ge,ke;(ge=this.webSocket)===null||ge===void 0||ge.addEventListener(vs.CLOSE,this.handleWebSocketClose),(ke=this.webSocket)===null||ke===void 0||ke.addEventListener(vs.ERROR,this.handleWebSocketError)},this.unregisterPeerConnectionEventHandlers=()=>{var ge,ke;(ge=this.peerConnection)===null||ge===void 0||ge.removeEventListener(Xn.CONNECTION_STATE_CHANGE,this.handlePeerConnectionStateChange),(ke=this.peerConnection)===null||ke===void 0||ke.removeEventListener(Xn.ICE_CONNECTION_STATE_CHANGE,this.handleIceConnectionStateChange)},this.unregisterWebSocketEventHandlers=()=>{var ge,ke;(ge=this.webSocket)===null||ge===void 0||ge.removeEventListener(vs.CLOSE,this.handleWebSocketClose),(ke=this.webSocket)===null||ke===void 0||ke.removeEventListener(vs.ERROR,this.handleWebSocketError)},this.handleIceConnectionStateChange=()=>{var ge,ke;if(((ge=this.peerConnection)===null||ge===void 0?void 0:ge.iceConnectionState)===as.DISCONNECTED||((ke=this.peerConnection)===null||ke===void 0?void 0:ke.iceConnectionState)===as.FAILED)this.logDisconnectionWarning("ICE connection state is either disconnected or failed."),this.broadcastDisconnection();else{var Xe;this.callLogger.info(`ICE connection state changed to: ${(Xe=this.peerConnection)===null||Xe===void 0?void 0:Xe.iceConnectionState}.`)}},this.handlePeerConnectionStateChange=()=>{var ge,ke,Xe;if(((ge=this.peerConnection)===null||ge===void 0?void 0:ge.connectionState)===as.DISCONNECTED||((ke=this.peerConnection)===null||ke===void 0?void 0:ke.connectionState)===as.FAILED)this.logDisconnectionWarning("Peer connection has either disconnected or failed."),this.broadcastDisconnection();else if(((Xe=this.peerConnection)===null||Xe===void 0?void 0:Xe.connectionState)===as.CONNECTED)this.callLogger.info("Peer connection established."),this.broadcastReconnection();else{var nt;this.callLogger.info(`peer connection state changed: ${(nt=this.peerConnection)===null||nt===void 0?void 0:nt.connectionState}`)}},this.handleWebSocketClose=ge=>{this.logDisconnectionWarning(`WebSocket connection closed unexpectedly (Code: ${ge.code}, Reason: ${ge.reason||"None provided"}).`),this.broadcastDisconnection()},this.handleWebSocketError=ge=>{this.callLogger.error(`WebSocket encountered an error: ${ge}.`)},this.logDisconnectionWarning=ge=>{this.callLogger.warn(`ALERT! ${ge} This may result in temporary audio/video disruption. Possible causes include network instability, network congestion, and security software (like VPNs, firewalls, or proxies) blocking or dropping the connection. If the issue persists, users should check their network or security settings and contact their IT team if necessary.`)},this.callLogger.info("Disconnection observer initialized. Monitoring for disconnections..."),un=m(ge=>this.testNetworkDrop(ge),"testNetworkDropFn")}}m(Fn,"HuddleDisconnectObserver");const Gt=null;(0,is.ul)("huddleDisconnectObserver",{dropNetwork:()=>un==null?void 0:un(),dropWebsocket:()=>un==null?void 0:un({ws:!0,pc:!1}),dropPeerConnection:()=>un==null?void 0:un({ws:!1,pc:!0})});class Ut{async initialize(Q,ue,ge,ke,Xe,nt){var pt,_e,Le,We,Ze,st,ut,Lt;Xe&&(this.waitForStop=Xe),nt&&(this.dataChannelSubscribers=nt),this.observer.onInit(),this.options=Q;const{serverConfig:tn,useChimeSdkExp:En,useSimulcast:Dn,useHuddlesFilterWorker:Bn}=this.options;await(0,s.ZT)(En),this.chimeLogger=new ce.k(this.loggerName),this.callLogger=(0,u.Jt)(this.loggerName),(pt=this.callLogger)===null||pt===void 0||pt.info(`user agent: ${navigator.userAgent}`);const On=(0,r.HF)();(_e=this.callLogger)===null||_e===void 0||_e.info(`Version TS: ${On}`);const Wn=(document==null||(Le=document.documentElement)===null||Le===void 0||(We=Le.dataset)===null||We===void 0?void 0:We.versionHash)||"unknown";(Ze=this.callLogger)===null||Ze===void 0||Ze.info(`Version Hash: ${Wn}`),(st=this.callLogger)===null||st===void 0||st.info(`Chime SDK Version: ${s.zF.sdkVersion}${En?" (Experimental)":""}`),this.meeting=tn.meeting,this.attendee=tn.attendee,this.selfAttendeeId=this.attendee.AttendeeId;const os=(0,a.Y)(tn.attendee.ExternalUserId);try{var Tn;const Ds=JSON.stringify((0,t.A)(Q,"serverConfig"),null,2);(Tn=this.callLogger)===null||Tn===void 0||Tn.debug(`Huddle SDK [${os}] initialized with options: ${Ds}`)}catch(Ds){var _n;(_n=this.callLogger)===null||_n===void 0||_n.error("Error stringifying options",Ds)}if(this.transportProtocols=tn.transportProtocols,this.isPrejoin=this.options.isPrejoin,this.meetingSessionConfiguration=new s.QJ(this.meeting,this.attendee),Dn&&this.meetingSessionConfiguration){var rs;(rs=this.callLogger)===null||rs===void 0||rs.info("Simulcast enabled"),this.meetingSessionConfiguration.enableSimulcastForUnifiedPlanChromiumBasedBrowsers=!0}if(this.options.usePriorityDownlinkPolicy&&(this.videoDownlinkPolicy=new s.gi(this.selfAttendeeId),this.meetingSessionConfiguration.videoDownlinkBandwidthPolicy=this.videoDownlinkPolicy,this.meetingSessionConfiguration.keepLastFrameWhenPaused=!0,this.videoDownlinkManager=new qe({selfAttendeeId:this.selfAttendeeId,videoDownlinkPolicy:this.videoDownlinkPolicy})),this.meetingSessionConfiguration.urls&&(this.meetingSessionConfiguration.urls.urlRewriter=this.urlRewriter.bind(this)),this.meetingSessionConfiguration&&this.meetingSessionConfiguration.connectionHealthPolicyConfiguration){const Ds=this.options.expectAv1EncoderFreeze||!1,Ss=new ts(Ds);Object.assign(this.meetingSessionConfiguration.connectionHealthPolicyConfiguration,Ss.getConfiguration())}this.meetingSessionConfiguration.disablePeriodicKeyframeRequestOnContentSender=!0,await this.initVoiceFocus();const hs={audio:ue.includes(_.mT.MICROPHONE),video:ue.includes(_.mT.CAMERA)};s.vB.disable();let Qn;const Es=!!(!((ut=this.voiceFocusManager)===null||ut===void 0)&&ut.isAvailable()),ys=this.options.disableAudioRedundancy||!1;if(En){const Ds=(0,s.Q_)(),Ss=(0,s.RM)();if(this.defaultDeviceController=new Ss(this.chimeLogger,{enableWebAudio:Es}),this.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(hs)),this.sessionExp=new Ds(this.meetingSessionConfiguration,this.chimeLogger,this.defaultDeviceController),Qn=this.sessionExp.audioVideo,ys){const Ns=(0,s.Ls)();Qn.setAudioProfile(new Ns(null,!1)),Qn.setContentAudioProfile(new Ns(null,!1))}}else{const Ds=(0,s.of)(),Ss=(0,s.zg)();if(this.defaultDeviceController=new Ss(this.chimeLogger,{enableWebAudio:Es}),this.defaultDeviceController.setDeviceLabelTrigger(()=>navigator.mediaDevices.getUserMedia(hs)),this.session=new Ds(this.meetingSessionConfiguration,this.chimeLogger,this.defaultDeviceController),Qn=this.session.audioVideo,ys){const Ns=(0,s.j3)();Qn.setAudioProfile(new Ns(null,!1)),Qn.setContentAudioProfile(new Ns(null,!1))}}if(this.options.useVideoUplinkPolicy){var Ms;(Ms=this.callLogger)===null||Ms===void 0||Ms.info("Video uplink policy enabled"),this.videoUplinkManager=new Qt(this.observer,Qn)}await this.populateDeviceInfoCache();const $s=this.options.useH264Baseline||!1;Zn({audioVideoFacade:Qn,h264BaselineProfileEnabled:$s,disableVp9:!!this.options.disableVp9});const Ys=this.options.useH264BaselineScreenshare||!1,Bs=this.options.useAv1Screenshare;ns({useAv1:Bs,audioVideoFacade:Qn,h264BaselineProfileEnabled:Ys});const Hs={useHuddlesFilterWorker:Bn,backgroundVideoFilteringSetting:i.uT.Both,useDevicesExp:this.options.useDevicesExp,useVideoUplinkPolicy:this.options.useVideoUplinkPolicy};this.deviceManager=new se(Qn,this.audioOutputElement,this.observer,Hs,ge,this.chimeLogger,this.defaultDeviceController,this.voiceFocusManager),(Lt=this.dataChannelSubscribers)===null||Lt===void 0||Lt.forEach(Ds=>Ds.onInitializeDataChannelSubscriber()),this.disconnectObserver=new Fn(this.observer),this.audioVideoObserver=new Ae(this.selfAttendeeId,this.meeting.MeetingId,this.meeting.MediaRegion,os,Qn,this.observer,this.deviceManager,this.videoDownlinkManager,this.disconnectObserver,ke,this.waitForStop,this.dataChannelSubscribers,this.videoUplinkManager);const Rs=this.options.huddlesJukeboxEnabled;if(Rs){var Us;(Us=this.callLogger)===null||Us===void 0||Us.info("Huddles Jukebox experiment enabled (prototype)")}this.contentShareManager=new Pe(Qn,this.observer,!!Rs,En),this.audioVideoFacadeSubscriber=new Tt(this.selfAttendeeId,Qn,this.observer,this.videoUplinkManager),(0,Un.Ay)().initialize(),this.connect(),this.screenManager=new o.A,this.observer.onMeetingSessionInitialized(),this.waitForInit.resolve()}async shutdown(Q){var ue,ge,ke,Xe,nt,pt,_e;if((ue=this.callLogger)===null||ue===void 0||ue.info("Huddles SDK shutdown initiated"),(ge=this.disconnectObserver)===null||ge===void 0||ge.onHuddleEnd(),delete this.disconnectObserver,await this.waitForInit,this.cleanupDataChannelSubscribers(),(ke=this.contentShareManager)===null||ke===void 0||ke.stop(),(Xe=this.audioVideoObserver)===null||Xe===void 0||Xe.stop(),await((nt=this.deviceManager)===null||nt===void 0?void 0:nt.shutdown()),bn.F.doesInstanceExist()){var Le;(Le=bn.F.getInstance())===null||Le===void 0||Le.release()}(pt=this.audioVideoFacadeSubscriber)===null||pt===void 0||pt.destroy(),await this.waitForStop,delete this.session,delete this.sessionExp,delete this.meetingSessionConfiguration,await this.cleanupDefaultDeviceControllerRefs(),(_e=this.callLogger)===null||_e===void 0||_e.info("Huddles SDK shutdown completed"),delete this.chimeLogger,delete this.callLogger,delete this.deviceManager,delete this.audioVideoFacadeSubscriber,delete this.audioVideoObserver,delete this.contentShareManager,delete this.screenManager,delete this.voiceFocusManager,delete this.videoDownlinkManager,delete this.videoDownlinkPolicy,delete this.videoUplinkManager,Q&&Q()}selfMicrophoneEnabled(Q){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.setMicrophone(Q)}selfVideoEnabled(Q,ue,ge,ke){var Xe,nt;(Xe=this.deviceManager)===null||Xe===void 0||Xe.setCamera(Q),(nt=this.contentShareManager)===null||nt===void 0||nt.setScreenshare(ue,ge,ke)}async startContentShareJukebox(Q){let{song:ue}=Q;var ge;const ke=await Rn().startContentShareJukebox({song:ue});ke&&((ge=this.contentShareManager)===null||ge===void 0||ge.setSongStream(ke))}async selfStopJukebox(){var Q;Rn().stopJukebox(),(Q=this.contentShareManager)===null||Q===void 0||Q.stopMusic({cleanObserver:!1})}setCameraQuality(Q,ue,ge,ke){var Xe;if(!(!((Xe=this.options)===null||Xe===void 0)&&Xe.useVideoUplinkPolicy)){var nt;(nt=this.deviceManager)===null||nt===void 0||nt.setCameraQuality(Q,ue,ge,ke)}}setAGC(Q){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.setAGC(Q)}setNewPreferredDevice(Q,ue){var ge;(ge=this.deviceManager)===null||ge===void 0||ge.setPreferredDevice(Q,ue)}setNoiseSuppression(Q){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.setNoiseSuppression(Q)}setVideoBackgroundEffect(Q){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.setVideoBackgroundEffect(Q)}requestPreviewStreamForDeviceId(Q,ue,ge){var ke;(ke=this.deviceManager)===null||ke===void 0||ke.requestPreviewStreamForDeviceId(Q,ue,ge)}stopVideoPreviewForVideoInput(Q){var ue;(ue=this.deviceManager)===null||ue===void 0||ue.stopVideoPreviewForVideoInput(Q)}async getScreenThumbnails(Q){var ue;return await((ue=this.screenManager)===null||ue===void 0?void 0:ue.getScreenThumbnails(Q==null?void 0:Q.thumbnailDimensions,Q==null?void 0:Q.isRefetch))}selfDrawEnabled(Q){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.selfDrawEnabled(Q)}sendReacji(Q,ue,ge){var ke;(ke=this.audioVideoFacadeSubscriber)===null||ke===void 0||ke.sendReacji(Q,ue,ge)}sendBackground(Q){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendBackground(Q)}sendMuteRequest(Q){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendMuteRequest(Q)}sendJukeboxRequest(Q){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendJukeboxRequest(Q)}sendJukeboxStopRequest(){var Q;(Q=this.audioVideoFacadeSubscriber)===null||Q===void 0||Q.sendJukeboxStopRequest()}sendDrawMessage(Q){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendDrawMessage(Q)}sendContentShareDetails(Q){var ue;(ue=this.audioVideoFacadeSubscriber)===null||ue===void 0||ue.sendContentShareDetails(Q)}sendRecordingStartNotification(){var Q;(Q=this.audioVideoFacadeSubscriber)===null||Q===void 0||Q.sendRecordingStartNotification()}maybeBindAudioOutputElement(){var Q;(Q=this.deviceManager)===null||Q===void 0||Q.maybeBindAudioOutputElement()}maybeCheckSystemMediaAccess(Q){var ue;return(ue=this.deviceManager)===null||ue===void 0?void 0:ue.maybeCheckSystemMediaAccess(Q)}setIncludeSelfAndNoneActiveSpeaker(Q,ue){var ge;(ge=this.audioVideoFacadeSubscriber)===null||ge===void 0||ge.setIncludeSelfAndNoneActiveSpeaker(Q,ue)}bindVideo(Q,ue,ge){var ke;const Xe=this.session||this.sessionExp;if(!Xe)return;const nt=(ke=Xe.audioVideo.getVideoTile(Q))===null||ke===void 0?void 0:ke.state();ge?nt!=null&&nt.boundVideoStream&&s.xc.connectVideoStreamToVideoElement(nt.boundVideoStream,ue,!1):(this.videoDownlinkPolicy&&(nt!=null&&nt.paused)&&Xe.audioVideo.unpauseVideoTile(Q),Xe.audioVideo.bindVideoElement(Q,ue))}unbindVideo(Q,ue,ge){const ke=this.session||this.sessionExp;ke&&(ge?s.xc.disconnectVideoStreamFromVideoElement(ue,!0):ke.audioVideo.getVideoTile(Q)&&ke.audioVideo.unbindVideoElement(Q))}pauseVideo(Q){const ue=this.session||this.sessionExp;if(!ue)return;const ge=ue.audioVideo.getVideoTile(Q),ke=ge==null?void 0:ge.state();!(ke!=null&&ke.isContent)&&(ke!=null&&ke.active)&&(ge==null||ge.pause())}unpauseVideo(Q){const ue=this.session||this.sessionExp;if(!ue)return;const ge=ue.audioVideo.getVideoTile(Q),ke=ge==null?void 0:ge.state();ke!=null&&ke.paused&&(ge==null||ge.unpause())}videoTileHasStream(Q){const ue=this.session||this.sessionExp;if(!ue)return!1;const ge=ue.audioVideo.getVideoTile(Q);if(!ge)return!1;const ke=ge.state();return ke?!!ke.boundVideoStream:!1}getMeetingMediaRegion(){var Q;return(Q=this.meeting)===null||Q===void 0?void 0:Q.MediaRegion}async completePrejoin(Q){const{isStartMuted:ue}=Q;if(this.isPrejoin){var ge,ke;return ue&&((ge=this.deviceManager)===null||ge===void 0||ge.setStartMutedBarrier(ue)),(ke=this.audioVideoObserver)===null||ke===void 0||ke.start(),this.maybeBindAudioOutputElement(),this.setIncludeSelfAndNoneActiveSpeaker(!0,!0),this.isPrejoin=!1,!0}return!1}urlRewriter(Q){if(!Q)return Q;if(this.transportProtocols){const Xe=this.transportProtocols;if(Q.includes("?transport=udp")&&!Xe.includes("udp")){var ue;return(ue=this.callLogger)===null||ue===void 0||ue.info("Dropping UDP transport"),""}if(Q.includes("?transport=tcp")){if(Q.includes("turns:")){if(!Xe.includes("tls")){var ge;return(ge=this.callLogger)===null||ge===void 0||ge.info("Dropping TLS transport"),""}}else if(!Xe.includes("tcp")){var ke;return(ke=this.callLogger)===null||ke===void 0||ke.info("Dropping TCP transport"),""}}}return Q.replace(`:${this.TURN_PORT_UDP}`,`:${this.OVERRIDE_TURN_PORT_UDP}`)}hasSession(){return!!this.session||!!this.sessionExp}setupVideoDeviceLabelTrigger(){var Q;const ue=m(async()=>{try{var ge;this.videoDevicePermissionStatus="IN_PROGRESS";const Xe=await navigator.mediaDevices.getUserMedia({video:!0});return(ge=this.callLogger)===null||ge===void 0||ge.info("Video device permissions granted"),this.videoDevicePermissionStatus="GRANTED",Xe}catch(Xe){var ke;throw this.videoDevicePermissionStatus="DENIED",this.observer.onSetNoMediaInput(_.mT.CAMERA),(ke=this.callLogger)===null||ke===void 0||ke.info("Video device permissions denied"),Xe}},"callback");(Q=this.defaultDeviceController)===null||Q===void 0||Q.setDeviceLabelTrigger(ue)}async maybeEnableSelfCamera(){let{isScreenshareEnabled:Q}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(await this.initVideoPermission()&&(this.videoDevicePermissionStatus==="INITIAL"||this.videoDevicePermissionStatus==="GRANTED")){var ge;this.selfVideoEnabled(!0,!!Q),this.observer.onPeerCameraActive("self",!0),(ge=this.callLogger)===null||ge===void 0||ge.info("maybeEnableSelfCamera:: enabling camera function executed")}}async initVideoPermission(){var Q;return this.setupVideoDeviceLabelTrigger(),await((Q=this.deviceManager)===null||Q===void 0?void 0:Q.initVideoInputDevices())}getSelfAttendeeId(){return this.selfAttendeeId}constructor(Q,ue,ge="FREE-WILLY-SDK"){this.observer=Q,this.audioOutputElement=ue,this.loggerName=ge,this.TURN_PORT_UDP=3478,this.OVERRIDE_TURN_PORT_UDP=22466,this.waitForInit=(0,n.u)(),this.waitForStop=(0,n.u)(),this.initVoiceFocus=async()=>{let ke=0;const Xe=Date.now();this.voiceFocusManager=new ht.A(this.chimeLogger),await this.voiceFocusManager.init({configOnly:!1}),ke=Date.now()-Xe,this.observer.onMaybeVoiceFocusInitialized(ke)},this.populateDeviceInfoCache=async()=>{var ke,Xe,nt,pt;const _e=Date.now(),Le=await((ke=this.defaultDeviceController)===null||ke===void 0?void 0:ke.listAudioInputDevices()),We=await((Xe=this.defaultDeviceController)===null||Xe===void 0?void 0:Xe.listAudioOutputDevices()),Ze=await((nt=this.defaultDeviceController)===null||nt===void 0?void 0:nt.listVideoInputDevices()),st=U.Ay.canAccessMediaResource(_.mT.MICROPHONE).status===i.eJ.Granted&&!(Le!=null&&Le.length),ut=U.Ay.canAccessMediaResource(_.mT.CAMERA).status===i.eJ.Granted&&!(Ze!=null&&Ze.length);if(st){var Lt;(Lt=this.callLogger)===null||Lt===void 0||Lt.error("No microphone devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}if(ut){var tn;(tn=this.callLogger)===null||tn===void 0||tn.error("No camera devices found, though permissions have been granted previously. Permissions have likely been revoked or cleared mid-session")}const En=Date.now()-_e;(pt=this.callLogger)===null||pt===void 0||pt.info(`Populated device info cache in ${En}ms with ${Le==null?void 0:Le.length} microphones, ${We==null?void 0:We.length} speakers, and ${Ze==null?void 0:Ze.length} cameras`)},this.cleanupDataChannelSubscribers=()=>{this.dataChannelSubscribers&&(this.dataChannelSubscribers.forEach(ke=>ke.onShutdownDataChannelSubscriber()),this.dataChannelSubscribers=void 0)},this.cleanupDefaultDeviceControllerRefs=async()=>{var ke;if(!this.defaultDeviceController)return;await this.defaultDeviceController.destroy();const Xe=(ke=this.defaultDeviceController)===null||ke===void 0?void 0:ke.eventController;if(Xe){var nt;const pt=(nt=Xe.configuration)===null||nt===void 0?void 0:nt.urls;pt&&(pt.urlRewriter=void 0)}this.defaultDeviceController.deviceLabelTrigger=void 0,delete this.defaultDeviceController},this.handleClientOffline=()=>{var ke;(ke=this.audioVideoObserver)===null||ke===void 0||ke.audioVideoDidStartConnecting(!0)},this.toggleAllIncomingVideo=ke=>{var Xe;(Xe=this.videoDownlinkManager)===null||Xe===void 0||Xe.toggleAllIncomingVideo(ke)},this.connect=async()=>{var ke,Xe;if((ke=this.audioVideoObserver)===null||ke===void 0||ke.startWithSignalingOnly(),await((Xe=this.deviceManager)===null||Xe===void 0?void 0:Xe.init()),!this.isPrejoin){var nt;if(!U.Ay.canAccessMediaResource(_.mT.MICROPHONE)){var pt;(pt=this.callLogger)===null||pt===void 0||pt.error("Missing microphone permissions. Not connecting to huddle");return}(nt=this.audioVideoObserver)===null||nt===void 0||nt.start()}},this.videoDevicePermissionStatus="INITIAL"}}m(Ut,"FreeWillySdk")},5016574668:(W,T,e)=>{"use strict";e.d(T,{Kp:()=>a,Nb:()=>n,RN:()=>_,Sq:()=>o,ZT:()=>t,jt:()=>l,yz:()=>s});const t=10*1e3,s=1e3,n="2.6",r=null,u=25,i=15,o="huddles_perf",a="app_metrics",_="client_metrics",l=5},2205899741:(W,T,e)=>{"use strict";e.d(T,{$c:()=>P,h7:()=>S,t5:()=>h,KG:()=>O,q4:()=>f,_N:()=>d,sI:()=>N,Ap:()=>A,kq:()=>x,ik:()=>D,No:()=>K,fB:()=>U,Ye:()=>y,RI:()=>p,Fq:()=>k,oj:()=>E,qf:()=>L,Fu:()=>v,Tg:()=>I});const t=30,s=300,n=300,r=30,u=10,i=30,o=1,a=100,_=15,l=m(B=>function(F){for(var V=arguments.length,Y=new Array(V>1?V-1:0),w=1;w<V;w++)Y[w-1]=arguments[w];if(!(typeof F!="string"&&typeof F!="number"))return B(F,...Y)},"makeDeduction"),p=l(B=>B>r?B/5:void 0),g=l(B=>B>400?B/20:void 0),c=l(B=>B>1?B:void 0),E=l(B=>B>n?B/7.5:void 0),A=l(B=>B>1?B*10:void 0),d=l(B=>B>t?B/2:void 0),v=l(B=>B>a?B/2:void 0),h=l(B=>B>i?B*1.25:void 0),f=l(B=>B>s?B/10:void 0),y=l(B=>B>i?B*1.5:void 0),I=l(B=>B>u?B*1.5:void 0),C=l(B=>B*2),D=l(B=>B&&B!=="udp"?40:void 0),M=l(B=>B&&B>500?B/100:void 0),P=l(B=>B>150?B/5:void 0),S=l(B=>B>15?B*2:void 0),b=l(B=>B>5?B:void 0),O=l(B=>B>20?B/5:void 0),L=l(B=>{const F=_-B;return F>1?F*2.5:void 0}),k=l(B=>!B||B==="none"?void 0:25),K=l(B=>B>0?B*20:void 0),N=l(B=>B>1?B*1.25:void 0),R=l(B=>B>300?B/10:void 0),U=l(B=>B&&B>i?B*1.5:void 0),x=l(B=>B>o?Math.round(B*7.5):void 0)},415910655:(W,T,e)=>{"use strict";e.d(T,{ZR:()=>r,jm:()=>s,s2:()=>n});let t;const s=m(u=>{t||(t={}),Object.assign(t,u)},"updateJoinTimingMetrics"),n=m(()=>t,"getJoinTimingMetrics"),r=m(()=>{t=void 0},"resetJoinTimingMetrics")},5470425448:(W,T,e)=>{"use strict";e.d(T,{lx:()=>a,zu:()=>o});var t;(function(_){_.UDP="udp",_.TCP="tcp"})(t||(t={}));var s;(function(_){_.RELAY="relay",_.DIRECT="direct"})(s||(s={}));var n;(function(_){_.UPLINK="uplink",_.DOWNLINK="downlink"})(n||(n={}));var r;(function(_){_.GOOD="good",_.FAIR="fair",_.BAD="bad",_.WORST="worst"})(r||(r={}));var u;(function(_){_.GOOD="good",_.FAIR="fair",_.BAD="bad",_.WORST="worst"})(u||(u={}));var i;(function(_){_[_.UPSTREAM=0]="UPSTREAM",_[_.DOWNSTREAM=1]="DOWNSTREAM"})(i||(i={}));var o;(function(_){_[_.AUDIO=0]="AUDIO",_[_.VIDEO=1]="VIDEO"})(o||(o={}));var a;(function(_){_.RtmMetrics="rtm-metrics",_.RenderTiming="render-timing",_.BluetoothDevices="bluetooth-devices",_.MemoryLeaks="memory-leaks",_.SelectedMediaRegion="selected-media-region",_.PreferredMediaRegion="preferred-media-region",_.VoiceFocusConfig="voice-focus-config",_.NetworkDisconnect="network-disconnect",_.CallId="call-id",_.ScreenshareContentType="screenshare-content-type",_.AppMetrics="app-metrics",_.NoAudio="no-audio",_.CameraResolution="max-camera-resolution",_.SetIsDebugApp="set-is-debug-app",_.TroubleshootingContactUsClicked="troubleshooting-contact-us-clicked",_.TroubleshootingEntryPoint="troubleshooting-entry-point",_.TroubleshootingExitHealthSnapshot="troubleshooting-exit-health-snapshot"})(a||(a={}))},5071086688:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(6267571562);const s=new t.G},5403856613:(W,T,e)=>{"use strict";e.d(T,{U:()=>r,p:()=>i});var t=e(7091646278),s=e(2205899741);const n=20,r=80,u=60,i=m(o=>{const{audioDownstreamQualityScore:a,networkQualityScore:_,networkType:l,networkProtocol:p,networkRelayProtocol:g,networkAvailableOutgoingBitrate:c,networkJitterMs:E,audioDownstreamJitterBufferDelay:A,networkCurrentRoundTripTimeMs:d,mediaRegionSelected:v,mediaRegionPreferred:h,cpuUse:f,cpuUseRelative:y,cpuCompetitionScore:I,gpuUse:C,batteryIsUsing:D,selectedMicrophone:M,selectedCamera:P,selectedSpeakers:S,cameraIsBlocked:b,cameraIsAvailable:O,microphoneIsBlocked:L,microphoneIsAvailable:k,isMicrophoneBluetooth:K,isSpeakerBluetooth:N,isMicrophoneAndSpeakerOnSameDevice:R,isHardwareAccelerationEnabled:U,isDisconnected:x,noAudioInput:B,osIsThrottlingCpu:F,networkPacketLossPercent:V,powerThrottlingActive:Y}=o;let w;switch(!0){case _<=0:w=t.bz.Bad;break;case _<=r:w=t.bz.Warn;break;default:w=t.bz.Good}return{metrics:{stable:{mediaRegionSelected:v,mediaRegionPreferred:h,selectedMicrophone:M,selectedCamera:P,selectedSpeakers:S},unstable:{cpuCompetitionScore:I,cpuUse:f,gpuUse:C,cpuUseRelative:y,audioQualityScore:a,jitterMs:E,audioDelayMs:A,roundTripTimeMs:d,packetLossPercent:V,incomingBandwidth:c,networkQualityScore:_}},warnings:{stable:{isVpnEnabled:l==="vpn",isSuboptimalProtocol:!!(0,s.ik)(p)||!!(0,s.ik)(g),isMediaRegionSuboptimal:!!v&&!!h&&v!==h,isUsingBatteryPower:D,isMicrophoneBluetooth:K,isMicrophoneAndSpeakerOnSameDevice:R,isSpeakerBluetooth:N,isCameraProbablyIphone:/iphone/.test(P==null?void 0:P.toLowerCase()),isHardwareAccelerationDisabled:U===!1,isOSThrottlingCpu:!!F},unstable:{isCpuUsePoor:!!(0,s.$c)(f),isCpuUseRelativePoor:!!(0,s.h7)(y),isGpuUsePoor:!!(0,s.KG)(C),isJitterPoor:!!(0,s._N)(E),isRTTPoor:!!(0,s.oj)(d),isAudioDelayPoor:!!(0,s.q4)(A),isPacketLossPoor:!!(0,s.kq)(V)}},alerts:{stable:{isCameraBlocked:b||!O,isMicrophoneBlocked:L||!k,isMicrophoneNotSendingAudio:!!B,isDisconnected:x,isPowerThrottlingActive:!!Y},unstable:{networkQualityHealth:w,isNetworkQualityPoor:_<=r,isAudioQualityPoor:a<=n,isCpuCompetitionPoor:I<=u}}}},"getTroubleshootingMetricsFromTags")},6246464105:(W,T,e)=>{"use strict";e.d(T,{N5:()=>_,R1:()=>u,Y:()=>a});var t=e(3147021447),s=e(2825968873),n=e(5470425448),r=e(5071086688),u;(function(l){l.HuddlesSdk="huddles-sdk",l.ChimeChannelListener="chime-channel-listener",l.ChimeChannelBroadcaster="chime-channel-broadcaster",l.VoiceFocusDevice="voice-focus-device",l.VideoTransformDevice="video-transform-device",l.VideoFrameProcessor="video-frame-processor"})(u||(u={}));const i=new Map([[u.HuddlesSdk,t.Y.create({name:u.HuddlesSdk})],[u.ChimeChannelListener,t.Y.create({name:u.ChimeChannelListener})],[u.ChimeChannelBroadcaster,t.Y.create({name:u.ChimeChannelBroadcaster})],[u.VoiceFocusDevice,t.Y.create({name:u.VoiceFocusDevice})],[u.VideoTransformDevice,t.Y.create({name:u.VideoTransformDevice})],[u.VideoFrameProcessor,t.Y.create({name:u.VideoFrameProcessor})]]),o=(0,s.Jt)("HUDDLE-LEAK-MONITOR"),a=m(l=>{let{name:p,ref:g}=l;const c=i.get(p);if(!c)return;const E=c.getMetrics();if(E){const{numberOfObjects:A,numberOfExpiredObjects:d}=E,v=A-d;d>3&&(o.warn(`Detected ${d} memory leak(s) for ${p}${v?` (with another ${v} instances in memory)`:""}`),r.A.publish({type:n.lx.MemoryLeaks,update:{name:p,leakCount:d}}))}c.watch(g)},"monitorObjectForMemoryLeaks"),_=m(()=>{for(const[,l]of i)l.expectGCAll()},"detectMemoryLeaks")},5137668119:(W,T,e)=>{"use strict";e.d(T,{A:()=>Gt});var t=e(3398586081),s=e(2878685908),n=e(337319621),r=e(3855029223),u=e(8851980998),i=e(9680914051);let o=m(class{initializeHuddleReconnectTracer(){var ze,Q,ue;this.reconnectSpan=(ze=this.trace)===null||ze===void 0?void 0:ze.startSpan(i.xN),this.reconnectSuccessSpan=(Q=this.trace)===null||Q===void 0?void 0:Q.startSpan(i.xx),this.reconnectFailureSpan=(ue=this.trace)===null||ue===void 0?void 0:ue.startSpan(i.cJ)}traceReconnectAttemptOutcome(ze){let{isSuccess:Q}=ze;var ue;Q?this.reconnectSuccessCount+=1:this.reconnectFailureCount+=1,(ue=this.logger)===null||ue===void 0||ue.info(`Registered huddle reconnect attempt outcome - isSuccess: ${Q}`)}traceReconnectAttempt(){var ze;this.reconnectCount+=1,(ze=this.logger)===null||ze===void 0||ze.info("Counted huddle reconnect attempt")}report(){var ze,Q,ue,ge,ke;(ze=this.reconnectSpan)===null||ze===void 0||ze.addTags({metric_value:this.reconnectCount}).close(),(Q=this.reconnectSuccessSpan)===null||Q===void 0||Q.addTags({metric_value:this.reconnectSuccessCount}).close(),(ue=this.reconnectFailureSpan)===null||ue===void 0||ue.addTags({metric_value:this.reconnectFailureCount}).close(),(ge=this.tracer)===null||ge===void 0||ge.reportSpans([this.reconnectSpan,this.reconnectSuccessSpan,this.reconnectFailureSpan]),(ke=this.logger)===null||ke===void 0||ke.info("Reported reconnect attempt metric trace")}constructor({tracer:ze,trace:Q,logger:ue}){this.reconnectCount=0,this.reconnectSuccessCount=0,this.reconnectFailureCount=0,this.tracer=ze,this.trace=Q,this.logger=ue,this.initializeHuddleReconnectTracer()}},"HuddleReconnectTracer"),a=m(class{addTTIMetaTags(ze){let{entryPoint:Q,preferredMediaRegion:ue,isPrejoin:ge,isCreate:ke}=ze;var Xe;(Xe=this.trace)===null||Xe===void 0||Xe.addTags({entry_point:Q,preferred_media_region:ue,is_prejoin:ge,is_create:ke,success:!1})}createFetchCredentialsSpan(){var ze;this.fetchCredentialsSpan=(ze=this.trace)===null||ze===void 0?void 0:ze.startSpan(i.xl)}setCachedTag(ze){let{cached:Q}=ze;var ue;(ue=this.trace)===null||ue===void 0||ue.addTags({cached:Q})}closeFetchCredentialsSpan(){var ze;(ze=this.fetchCredentialsSpan)===null||ze===void 0||ze.close()}createConnectToMediaServiceSpan(){var ze;this.connectToMediaServiceSpan=(ze=this.trace)===null||ze===void 0?void 0:ze.startSpan(i.xA)}closeConnectToMediaServiceSpan(){var ze,Q,ue,ge;(ze=this.connectToMediaServiceSpan)===null||ze===void 0||ze.close(),(Q=this.trace)===null||Q===void 0||Q.addTags({success:!0}),(ue=this.tracer)===null||ue===void 0||ue.reportTrace(this.trace),this.traceReported=!0,(ge=this.logger)===null||ge===void 0||ge.info("Reported TTI metric trace")}getTTITraceId(){var ze;return(ze=this.trace)===null||ze===void 0?void 0:ze.getTraceId()}getFetchCredentialsSpanId(){var ze;return(ze=this.fetchCredentialsSpan)===null||ze===void 0?void 0:ze.getId()}setMediaRegionTag(ze){var Q,ue;const ge=(Q=this.trace)===null||Q===void 0?void 0:Q.getTags().preferred_media_region;(ue=this.trace)===null||ue===void 0||ue.addTags({media_region:ze,media_region_matches:ze===ge})}report(){var ze,Q;if(!this.traceReported){var ue,ge;(ue=this.tracer)===null||ue===void 0||ue.reportTrace(this.trace),this.traceReported=!0,(ge=this.logger)===null||ge===void 0||ge.info("Reported TTI metric trace in final clean up")}(ze=this.tracer)===null||ze===void 0||ze.clearTrace(this.trace),(Q=this.logger)===null||Q===void 0||Q.info("Cleaned up TTI metric trace")}constructor({teamId:ze,logger:Q}){this.traceReported=!1,this.tracer=(0,r.E)({teamOrEnterpriseId:ze}),this.trace=this.tracer.createTrace({traceName:i.bQ,samplingOptions:{sampleRate:(0,s.Cu)()?1:.05,sampleType:u.tS.SESSION}}),this.logger=Q}},"HuddleTTITracer");var _=e(5470425448),l=e(5016574668),p=e(1616072515),g=e(6313685253),c=e(5797466484),E=e(2208015175),A=e(4103274853),d=e(3605769895),v=e(2048121586),h=e(6696292586),f=e(6890312250),y=e(3750057149),I=e(3078252698);const C=(0,n.Wo)({label:"HUDDLE-METRICS-CACHE"}),D=[],M=m(Ut=>{try{if(!Ut.length)return{};const ze=Date.now(),Q=(0,g.A)(Ut,(ke,Xe)=>{if(!(0,c.A)(Xe))throw new Error(`metrics cache reports are not correctly formatted. Expected object, got ${typeof Xe}`);return(0,E.A)(Xe,(nt,pt)=>{pt in ke?ke[pt].push(nt):ke[pt]=[nt]}),ke},{}),ue=(0,A.A)(Q,ke=>{const Xe=ke.find(pt=>typeof pt<"u"&&pt!==null),nt=m(pt=>{var _e;const Le=(0,d.A)(pt);return(_e=(0,v.A)(Object.entries(Le),Ze=>{let[st,ut]=Ze;return ut}))===null||_e===void 0?void 0:_e[0]},"getMostCommon");return(0,h.A)(Xe)?(0,f.A)(ke.filter(h.A)):(0,y.A)(Xe)?nt(ke)==="true":(0,I.A)(Xe)?nt(ke):ke[0]});C.info(`Aggregating huddle metric reports took ${Date.now()-ze}ms for reports ${Ut.length}`);const ge=Object.keys(Ut[0]).filter(ke=>!(ke in ue));return ge.length&&C.warn(`Keys missing from summary: ${ge.length}`),ue}catch(ze){return C.error("Error merging reports into summary",ze),Ut[0]||{}}},"mergeReports"),P=m(Ut=>{D.push(Ut)},"cacheMetricsReport"),S=m(()=>{const Ut=M(D);return D.length=0,Ut},"getMetricsSummary");var b=e(1703559452),O=e(9268023148);const L=10*1e3;let k=m(class{async recordAppMetrics(ze){const Q=Date.now(),ue=Q-this.lastRecordedSpanTs,ge=(0,p.tT)(ze);if(this.metricsAveragesEnabled&&P(ge),this.logQualityScoreWarnings(ze),ue<this.reportingInterval)return;this.logger.debug(`Adding new ${l.Sq}:${l.Kp} span`);const ke=this.trace.startSpan(l.Kp),Xe=Object.keys(ge).length;if(ke.addTags(ge),ke.close(),this.logger.debug(`Added new ${l.Sq}:${l.Kp} span with ${Xe} tags`),this.getSpanCount()>l.jt){if(this.metricsAveragesEnabled){const nt=S();ke.addTags(nt)}this.report()}this.lastRecordedSpanTs=Q}constructor({teamId:ze,logger:Q,callLogger:ue,enableMaxReportingFrequency:ge,metricsAveragesEnabled:ke}){var Xe=this;this.traceReported=!1,this.lastRecordedSpanTs=0,this.perfDataStartTimestamp=Date.now(),this.getMetricsCollectionInterval=()=>(0,s.Cu)()||this.enableMaxReportingFrequency?l.yz:l.ZT,this.createNewTrace=()=>(this.trace=this.tracer.createTrace({traceName:l.Sq,tags:{__dataset:l.RN},samplingOptions:{sampleType:u.tS.ALWAYS}}),this.trace),this.getSpanCount=()=>{var nt;const pt=(nt=this.trace)===null||nt===void 0?void 0:nt.getSpans();return pt?Object.keys(pt).length:0},this.maybeRecordLeftEarly=nt=>{if(!nt)return;const pt=30;if(Date.now()-this.perfDataStartTimestamp<pt*1e3){var _e;this.callLogger.warn(`Leaving huddle less than ${pt} seconds after joining.`),(_e=this.trace)===null||_e===void 0||_e.addTags({left_early:!0})}},this.report=function(){let nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(nt&&(Xe.callLogger.debug(`Huddle ${Xe.callId} is ending. Reporting ${Xe.getSpanCount()} remaining spans`),Xe.maybeRecordLeftEarly(nt)),!Xe.traceReported&&Xe.getSpanCount()>0){var pt,_e;(pt=Xe.tracer)===null||pt===void 0||pt.reportTrace(Xe.trace),(_e=Xe.tracer)===null||_e===void 0||_e.clearTrace(Xe.trace),Xe.logger.debug(`Cleared ${l.Sq}:${l.Kp} event trace`),nt?Xe.traceReported=!0:Xe.createNewTrace()}else Xe.logger.debug(`Attempted to report ${l.Sq}:${l.Kp} trace but there was nothing to report`)},this.logQualityScoreWarnings=nt=>{let{audioDownstreamQualityScore:pt,audioUpstreamQualityScore:_e,selfVideoQualityScore:Le,videoDownstreamQualityScore:We,screenshareUpstreamQualityScore:Ze,screenshareDownstreamQualityScore:st,networkQualityScore:ut,cpuCompetitionScore:Lt}=nt;const tn=50,En={"audio-incoming":pt,"audio-outgoing":_e,network:ut,cpu:Lt,"video-outgoing":Le,"video-incoming":We,"screenshare-outgoing":Ze,"screenshare-incoming":st},Dn=m(Bn=>Object.entries(Bn).filter(On=>{let[,Wn]=On;return(0,h.A)(Wn)}).map(On=>{let[Wn,os]=On;return`${Wn}=${os}`}).join(" "),"makeLogString");(0,b.A)(En,Bn=>(0,h.A)(Bn)&&Bn<=tn)?this.logger.warn(`quality scores: ${Dn(En)}`):this.debouncedInfoLog(Dn(En))},this.debouncedInfoLog=(0,O.A)(nt=>{this.logger.info(`quality scores: ${nt}`)},L,{leading:!0,trailing:!1,maxWait:L}),this.tracer=(0,r.E)({teamOrEnterpriseId:ze}),this.enableMaxReportingFrequency=!!ge,this.metricsAveragesEnabled=!!ke,this.reportingInterval=this.getMetricsCollectionInterval(),this.createNewTrace(),this.logger=Q,this.callLogger=ue}},"HuddlePerfTracer");const K=null;var N=e(166097325),R=e(8478954380),U=e(5403856613);const x=10*1e3,B=30*1e3;class F{constructor(ze){this.logger=ze,this.currentUnstableAlerts={},this.currentAlerts={networkQualityHealth:[],isNetworkQualityPoor:[],isAudioQualityPoor:[],isCpuCompetitionPoor:[]},this.updateInterval=x,this.updateIntervalIncrements=0,this.maybeIncrementUpdateInterval=()=>{this.updateIntervalIncrements+=1,this.updateIntervalIncrements%3===0&&(this.updateInterval=Math.min(B,this.updateInterval+1e3))},this.getStableAlerts=(Q,ue)=>{const ge=m(ke=>{const Xe=Q[ke];let nt=this.currentAlerts[ke];const pt=Date.now();nt.push({timestamp:pt,value:Xe}),nt=nt.filter(st=>{let{timestamp:ut}=st;return pt-ut<=B}),this.currentAlerts[ke]=nt,nt=nt.filter(st=>{let{timestamp:ut}=st;return pt-ut<=ue.interval});const _e=new Map;for(const st of nt)_e.has(st.value)||_e.set(st.value,0),_e.set(st.value,_e.get(st.value)+1);const Le=Array.from(_e.entries());let[We,Ze]=Le[0];for(const[st,ut]of Le.slice(1))ut>Ze&&(Ze=ut,We=st);return Le.length?We:this.currentUnstableAlerts[ke]},"nextAlert");return{isAudioQualityPoor:ge("isAudioQualityPoor"),isCpuCompetitionPoor:ge("isCpuCompetitionPoor"),isNetworkQualityPoor:ge("isNetworkQualityPoor"),networkQualityHealth:ge("networkQualityHealth")}},this.getStabilityConfig=()=>({interval:this.updateInterval}),this.getAlertUpdates=Q=>{let{alerts:ue}=Q;const ge=this.getStableAlerts(ue,this.getStabilityConfig()),ke=!(0,N.A)(ge,this.currentUnstableAlerts);if(this.maybeIncrementUpdateInterval(),ke)return this.currentUnstableAlerts=ge,this.logger.debug("Updated alerts and metrics will be dispatched to redux"),ge}}}m(F,"AlertUpdater");const V=null,Y="https://slack.com/help/articles/115003538426-Troubleshoot-audio-and-video-issues-in-Slack",w={isMicrophoneBluetooth:"The user is using a Bluetooth microphone, which could cause audio delays, reduce audio quality, or cause audio and video to fall out of sync. If these problems occur, suggest they switch to a wired or built-in microphone.",isCameraProbablyIphone:'The user might be unknowingly using their iPhone camera, which could lead to issues like a black screen or missing video. To prevent this, they can disable the "Continuity Camera" feature on their device. Guide them to go to Settings > Camera > Continuity and turn off the option.',isVpnEnabled:`The user is connected via a VPN, which can increase latency or cause connectivity issues if the VPN isn't optimized for video conferencing. Suggest they disable the VPN or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${Y}`,isSuboptimalProtocol:`The user's connection protocol is TLS, not TCP, which may be due to a VPN, proxy, or firewall not configured for video conferencing. Suggest they disable their VPN or proxy, or ask their IT team to allow Slack traffic to bypass it. More details can be found here: ${Y}`,isHardwareAccelerationDisabled:"Hardware acceleration seems to be disabled on the user's device, which could degrade performance. Suggest they re-enable hardware acceleration in their Slack preferences. They can do this by going to Preferences > Advanced > Enable hardware acceleration.",isUsingBatteryPower:"The user's device is running on battery power, which could limit device performance and cause audio, video, or application lag. If they report such issues, suggest they connect their device to a power source.",isMediaRegionSuboptimal:"The user is in a different region from the Huddle host, potentially causing increased latency and instability. This geographical disparity can't be controlled by users but network stability and connectivity can be improved. Suggest that they move closer to their Wi-Fi router, switch to a wired connection if possible, limit other bandwidth-intensive activities on their computer or network, or try connecting with a different network.",isOSThrottlingCpu:"The operating system is throttling CPU to manage heat or conserve battery power, which could lead to degraded audio or video quality and/or a general sense that Slack is slow or unresponsive. This might manifest as video freezing frequently, audio cutting out frequently, or audio-video sync issues. In more extreme cases, it can even trigger disconnections from the Chime media server. To mitigate this, ensure the user's device is well-ventilated, that they avoid running unnecessary applications during the call, and, if they are on a laptop, they should connect it to a power source. Adjusting power settings to prefer maximum performance (even when battery is being used) can also help. For detailed steps, please refer to your device's power management settings."},ne={...{isNetworkQualityPoor:"The user's network quality is poor, which can cause delays or degraded audio or video, drops in connectivity, and audio/video desynchronization. Guide them through improving network stability, for instance, moving closer to their Wi-Fi router, switching to a wired connection if possible, limiting other bandwidth-intensive activities, or trying to connect with a different network.",isCpuCompetitionPoor:"The user\u2019s device is experiencing high CPU usage, causing audio or video delays, connectivity drops, or desynchronization. Suggest they close unnecessary applications, tabs, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, and check if their hardware meets the recommended specifications."},...{isDisconnected:"The user is disconnected from the Huddle and can't send or receive audio or video. This might be due to network instability, incorrect configurations, hardware issues, or connectivity problems. Guide them through checking their network connection, suggest they limit other bandwidth-intensive activities, try connecting with a different network, move closer to their router, and suggest restarting the call.",isMicrophoneBlocked:"Slack can't access the user's microphone, possibly due to permission or settings issues. Verify that Slack has been granted permission to use the microphone, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Sound settings (on Windows) and ensuring that Slack is checked.",isMicrophoneNotSendingAudio:"The user's microphone is connected, but isn't sending any audio, possibly due to another application using it, being muted, or system-level settings. Suggest they unplug and replug their device, restart Slack, limit other CPU-intensive activities, ensure their computer has adequate airflow around it, close unnecessary applications or tabs, and check for conflicting settings.",isCameraBlocked:"Slack can't access the user's camera, likely due to settings or permissions issues. Verify that Slack has permission to use their camera, and ensure no other application is using it. They can check this by going to System Preferences (on macOS) or Camera Privacy Settings (on Windows) and ensuring that Slack is checked."},...w},se={isNetworkQualityPoor:"networkQualityScoreReasons",isCpuCompetitionPoor:"cpuCompetitionScoreReasons"};class ce{constructor({callLogger:ze,logger:Q,dispatch:ue}){this.isDev=(0,s.Cu)(),this.isJsPath=(0,s.b3)(),this.loggedHuddleConfigInfo=!1,this.lastProcessedTagsTs=null,this.lastProcessedStats=null,this.lastUnstableMetricsUpdateTs=0,this.lastLoggedTagsTs=Date.now(),this.logHuddleConfigInfo=ge=>{if(this.loggedHuddleConfigInfo||!this.lastProcessedTagsTs)return;const{isIA4Prod:ke,isUnifiedGrid:Xe,visibleSidebarItemCount:nt,networkType:pt,networkProtocol:_e,networkRelayProtocol:Le,isHardwareAccelerationEnabled:We,batteryIsUsing:Ze}=ge;this.callLogger.info(`Initial Huddle Config: Network Type=${pt}; Network Protocol=${_e}; Network Relay Protocol=${Le}; IA4=${ke}; Unified Grid=${Xe}; Hardware Acceleration=${We??"unknown (browser)"}; Using Battery Power=${Ze}; Sidebar Size=${nt};`),this.loggedHuddleConfigInfo=!0},this.logWarningAndAlertUpdates=(ge,ke)=>{Object.entries(ge).forEach(Xe=>{let[nt,pt]=Xe;if(pt&&this.isRelevantWarning(nt,ge)&&ne[nt]){let _e;if(nt in se){const We=se[nt];We&&(ke!=null&&ke[We])&&(_e=ke[We])}this.logger.warn(`\u{1F6A8} WARNING! ${ne[nt]}${_e?` reasons: (${_e})`:""}`)}})},this.isRelevantWarning=(ge,ke)=>ge==="isNetworkQualityPoor"||ge==="isCpuCompetitionPoor"?"isAudioQualityPoor"in ke&&!!ke.isAudioQualityPoor:!0,this.logTags=ge=>{const ke=Date.now();this.isJsPath||this.isDev?this.logger.info(`Recorded ${l.Sq}:${l.Kp} event span tags`,ge):ke-this.lastLoggedTagsTs>10*1e3&&(this.logger.debug(`Recorded ${l.Sq}:${l.Kp} event span tags`,ge),this.lastLoggedTagsTs=ke)},this.getStatsDiff=ge=>{const ke=this.lastProcessedStats;return(0,A.A)(ge,(Xe,nt)=>{var pt,_e;return{stable:ke?!(0,N.A)((pt=ke[nt])===null||pt===void 0?void 0:pt.stable,Xe==null?void 0:Xe.stable):null,unstable:ke?!(0,N.A)((_e=ke[nt])===null||_e===void 0?void 0:_e.unstable,Xe==null?void 0:Xe.unstable):null}})},this.maybeUpdateTroubleshootingPanel=ge=>{var ke,Xe,nt,pt,_e,Le,We,Ze,st;const ut=Date.now(),Lt=(0,U.p)(ge),tn=this.getStatsDiff(Lt);if(this.lastProcessedStats=Lt,(!((ke=tn.alerts)===null||ke===void 0)&&ke.stable||((Xe=tn.alerts)===null||Xe===void 0?void 0:Xe.stable)===null)&&Lt.alerts.stable&&(this.dispatch((0,R._6)(Lt.alerts.stable)),tn.alerts.stable&&this.logWarningAndAlertUpdates(Lt.alerts.stable)),(!((nt=tn.metrics)===null||nt===void 0)&&nt.stable||((pt=tn.metrics)===null||pt===void 0?void 0:pt.stable)===null)&&Lt.metrics.stable&&this.dispatch((0,R.qO)(Lt.metrics.stable)),(!((_e=tn.warnings)===null||_e===void 0)&&_e.stable||((Le=tn.warnings)===null||Le===void 0?void 0:Le.stable)===null)&&Lt.warnings.stable&&(this.dispatch((0,R.it)(Lt.warnings.stable)),this.logWarningAndAlertUpdates(Lt.warnings.stable)),!((We=Lt.alerts)===null||We===void 0)&&We.unstable){const En=this.alertUpdater.getAlertUpdates({alerts:Lt.alerts.unstable});En&&(this.dispatch((0,R.Li)(En)),this.logWarningAndAlertUpdates(En,ge))}Lt.metrics.unstable&&Lt.warnings.unstable&&(!this.lastUnstableMetricsUpdateTs||ut-this.lastUnstableMetricsUpdateTs>1e4&&(!((Ze=tn.warnings)===null||Ze===void 0)&&Ze.unstable||!((st=tn.metrics)===null||st===void 0)&&st.unstable))&&(this.dispatch((0,R.bW)({metrics:Lt.metrics.unstable,warnings:Lt.warnings.unstable})),this.lastUnstableMetricsUpdateTs=ut)},this.processTags=ge=>{this.maybeUpdateTroubleshootingPanel(ge),this.logHuddleConfigInfo(ge),this.logTags(ge),this.lastProcessedTagsTs=Date.now()},this.callLogger=ze,this.logger=Q,this.dispatch=ue,this.alertUpdater=new F(Q),this.callLogger.info("huddle perf observer initialized")}}m(ce,"HuddlePerfObserver");const pe=null,ye=ce;var Ie=e(2825968873),Se=e(5238395322),le=e(9137897911),X=e(9113979368),J=e(8872403767),z=e(1687672245);const te=m(Ut=>{if((0,X.A)(Ut))return;const ze=(0,g.A)(Ut,(Q,ue)=>(0,z.A)(Q,ue,(ge,ke)=>(ge||0)+ke),{});return(0,A.A)(ze,Q=>Q/Ut.length)},"calculateIncomingVideoStatsAverages"),$=m(Ut=>{if(typeof Ut=="string"||typeof Ut=="boolean")return Ut;if(!isNaN(Ut)&&!(typeof Ut>"u"||Ut===null))return Math.round(Ut)},"getScrubbedMetricValue"),q=m(Ut=>{let{clientMetricReport:ze,direction:Q}=Ut;const ue=Object.keys(ze.streamMetricReports);let ge;return ue.forEach(ke=>{const Xe=Number(ke),nt=ze.streamMetricReports[Xe];nt.direction===Q&&nt.mediaType===_.zu.AUDIO&&(ge=Xe)}),ge},"getAudioSsrcId"),re=m((Ut,ze,Q,ue,ge)=>{const ke=Ut==null?void 0:Ut.getMetricMap(ze,Q)[ue];if(ke!=null&&ke.transform)return ke.transform(ue,ge)},"getNonObservedMetric"),de=m((Ut,ze)=>{const Q=ze?Ut.replace(ze,""):Ut;return Q.charAt(0).toUpperCase()+Q.slice(1)},"removeSubstringAndCapitalize"),oe=m(function(Ut){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:50,Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(!(0,h.A)(ze)||!(0,h.A)(Ut))return 0;const ue=isNaN(Q)?0:Q;if(Ut===ze||Ut>ze)return 0;const ke=(ze-Ut)/ze*100-ue;return Math.round(ke)},"calculateNonNetworkPacketLoss");var De=e(5057176955),ae;(function(Ut){Ut[Ut.UPSTREAM=0]="UPSTREAM",Ut[Ut.DOWNSTREAM=1]="DOWNSTREAM"})(ae||(ae={}));var Z;(function(Ut){Ut[Ut.AUDIO=0]="AUDIO",Ut[Ut.VIDEO=1]="VIDEO"})(Z||(Z={}));let ie,Ce;const Re=m(function(Ut,ze,Q){let ue=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ut||!ze)return;const ge=(ze.timestamp-Ut.timestamp)/1e3,ke=ze[Q]-Ut[Q];return ue?ke/ge:ke},"getNextStat"),He=m(Ut=>{let{clientMetricReport:ze,selfAttendeeId:Q}=Ut;const ue=ze.getObservableVideoMetrics();if(!ue||!Q)return;let ge=0;const ke={},Xe=[];return(0,E.A)(ue,(nt,pt)=>{var _e;const Le=Number((_e=Object.keys(nt))===null||_e===void 0?void 0:_e[0]);if(!Le)return;const We=nt[Le];if(pt.endsWith("#content")){var Ze,st;ge+=1,(0,E.A)(We,(Bn,On)=>{ke[(0,le.A)(`screenshare_${(0,p._3)(On)}${ge>1?`${ge}_`:""}`)]=$(Bn)}),Object.assign(ke,{screenshareVideoDownstreamDecoderImplementation:(Ze=ze.streamMetricReports[Le])===null||Ze===void 0||(st=Ze.currentStringMetrics)===null||st===void 0?void 0:st.decoderImplementation,screenshareVideoDownstreamFramesReceivedPerSecond:ze.countPerSecond("framesReceived",Le),screenshareVideoDownstreamFramesDroppedPerSecond:re(ze,Z.VIDEO,ae.DOWNSTREAM,"framesDropped",Le),screenshareVideoDownstreamFreezeCount:re(ze,Z.VIDEO,ae.DOWNSTREAM,"freezeCount",Le),screenshareVideoDownstreamTotalDecodeTime:re(ze,Z.VIDEO,ae.DOWNSTREAM,"totalDecodeTime",Le),screenshareVideoDownstreamTotalFreezesDuration:re(ze,Z.VIDEO,ae.DOWNSTREAM,"totalFreezesDuration",Le)});return}if(Q===pt){if(We.videoUpstreamBitrate!==0){var ut,Lt;(0,E.A)(We,(Bn,On)=>{ke[`self${de(On,"Upstream")}`]=$(Bn)}),Object.assign(ke,{selfVideoHardwareEncoder:re(ze,Z.VIDEO,ae.UPSTREAM,"encoderImplementation",Le),selfVideoEncoderImplementation:(ut=ze.streamMetricReports[Le])===null||ut===void 0||(Lt=ut.currentStringMetrics)===null||Lt===void 0?void 0:Lt.encoderImplementation,selfVideoTotalEncodeTime:re(ze,Z.VIDEO,ae.UPSTREAM,"totalEncodeTime",Le)})}}else{var tn,En;const Bn=re(ze,Z.VIDEO,ae.DOWNSTREAM,"totalDecodeTime",Le);if(Bn){var Dn;ke.videoDownstreamTotalDecodeTime=((Dn=ke.videoDownstreamTotalDecodeTime)!==null&&Dn!==void 0?Dn:0)+Bn}Object.assign(ke,{videoDownstreamDecoderImplementation:(tn=ze.streamMetricReports[Le])===null||tn===void 0||(En=tn.currentStringMetrics)===null||En===void 0?void 0:En.decoderImplementation}),Xe.push({...We,videoDownstreamFramesReceivedPerSecond:ze.countPerSecond("framesReceived",Le),videoDownstreamFramesDroppedPerSecond:re(ze,Z.VIDEO,ae.DOWNSTREAM,"framesDropped",Le)})}}),(0,X.A)(Xe)||Object.assign(ke,te(Xe)),ke},"getVideoMetricTags"),be=["nackCountReceivedPerSecond","currentRoundTripTimeMs","availableOutgoingBitrate","availableIncomingBitrate"],Ue=m(Ut=>{let{clientMetricReport:ze}=Ut;const{audioDecoderLoss:Q,audioPacketLossPercent:ue,audioPacketsReceived:ge,audioPacketsReceivedFractionLoss:ke,audioPacketsSent:Xe,audioSpeakerDelayMs:nt,audioDownstreamJitterMs:pt,videoUpstreamBitrate:_e,videoPacketSentPerSecond:Le,currentRoundTripTimeMs:We,availableIncomingBitrate:Ze,availableOutgoingBitrate:st,nackCountReceivedPerSecond:ut,audioUpstreamRoundTripTimeMs:Lt,audioUpstreamJitterMs:tn}=ze.getObservableMetrics(),En=50,Dn=oe(ge,En,ke),Bn=oe(Xe,En,ue),On={audioDownstreamDecoderLoss:Q,audioUpstreamPacketLossPercent:ue,audioDownstreamPacketsReceived:ge,audioDownstreamPacketLossPercent:ke,audioDownstreamJitterMs:pt,audioUpstreamPacketsSent:Xe,audioDownstreamNonNetworkPacketLossPercent:Dn,audioUpstreamNonNetworkPacketLossPercent:Bn,audioDownstreamJitterBufferDelay:nt,selfVideoBitrate:_e,selfVideoPacketsSentPerSecond:Le,audioUpstreamRoundTripTimeMs:Lt,audioUpstreamJitterMs:tn,networkCurrentRoundTripTimeMs:We,networkAvailableIncomingBitrate:Ze,networkAvailableOutgoingBitrate:st,networkNackCountReceivedPerSecond:ut},Wn=(0,J.A)(On,(Qn,Es)=>be.indexOf(Es)>-1?(0,le.A)(`network_${Es}`):Es),Tn={networkSocketPacketsDiscardedOnSend:ze.globalMetricReport.currentMetrics.packetsDiscardedOnSend},_n=q({clientMetricReport:ze,direction:ae.DOWNSTREAM});let rs;if(_n){const Qn=re(ze,Z.AUDIO,ae.DOWNSTREAM,"concealedSamples",_n);rs={audioDownstreamTotalSamplesReceived:re(ze,Z.AUDIO,ae.DOWNSTREAM,"totalSamplesReceived",_n),audioDownstreamConcealedSamples:Qn}}return(0,A.A)({...Wn,...Tn,...rs},Qn=>$(Qn))},"getAudioMetricTags"),me=m(Ut=>{const ze={},Q=[];let ue;if(!Ut)return ie=void 0,ze;Ut.forEach(ke=>{ke.type==="local-candidate"&&Q.push(ke),ke.type==="media-source"&&ke.kind==="audio"&&(ze.audioUpstreamTotalSamplesDuration=ke.totalSamplesDuration,ze.audioUpstreamAudioLevel=ke.audioLevel,ze.audioUpstreamTotalAudioEnergy=ke.totalAudioEnergy),ke.type==="candidate-pair"&&ke.state==="succeeded"&&ke.nominated&&ke.localCandidateId&&(ue=ke.localCandidateId,ze.networkBytesSent=ke.bytesSent,ze.networkBytesReceived=ke.bytesReceived,ze.networkBytesDiscardedOnSend=ke.bytesDiscardedOnSend),ke.type==="inbound-rtp"&&ke.kind==="audio"&&(ze.audioDownstreamLevel=ke.audioLevel),ke.type==="outbound-rtp"&&ke.kind==="video"&&(ze.selfVideoQualityLimitationDurations=ke.qualityLimitationDurations&&(0,De.Zf)(ke.qualityLimitationDurations),ze.selfVideoOutboundFramesPerSecond=ke.framesPerSecond,ze.selfVideoPacketSendDelay=Re(ie,ke,"totalPacketSendDelay"),ie=ke),ke.type==="media-source"&&ke.kind==="video"&&(ze.selfVideoSourceFramesPerSecond=ke.framesPerSecond)});const ge=Q.find(ke=>ke.id===ue);if(ge){const{networkType:ke,protocol:Xe,relayProtocol:nt}=ge;ze.networkType=ke,ze.networkProtocol=Xe,ze.networkRelayProtocol=nt}return ze},"getRtcStatsTags"),ve=m(Ut=>{if(!Ut){Ce=void 0;return}const ze={};return Ut.forEach(Q=>{if(Q.type==="remote-inbound-rtp"&&Q.kind==="video"){const{fractionLost:ue,jitter:ge,roundTripTime:ke}=Q;Object.assign(ze,{screenshareUpstreamJitter:ge*1e3,screenshareUpstreamPacketLossPercent:ue*100,screenshareUpstreamRoundTripTime:ke*1e3})}if(Q.type==="outbound-rtp"&&Q.kind==="video"){const{frameHeight:ue,frameWidth:ge,framesPerSecond:ke,targetBitrate:Xe,encoderImplementation:nt,scalabilityMode:pt,powerEfficientEncoder:_e}=Q;if(Object.assign(ze,{screenshareUpstreamTargetBitrate:Xe,screenshareUpstreamFrameWidth:ge,screenshareUpstreamFrameHeight:ue,screenshareUpstreamFramesPerSecond:ke,screenshareUpstreamEncoderImplementation:nt,screenshareUpstreamPowerEfficientEncoder:_e,screenshareUpstreamScalabilityMode:pt}),!Ce){Ce=Q;return}const Le=Re(Ce,Q,"totalEncodeTime",!0),We=Le&&Le*1e3;Object.assign(ze,{screenshareUpstreamPacketsSent:Re(Ce,Q,"packetsSent"),screenshareUpstreamPacketSendDelay:Re(Ce,Q,"totalPacketSendDelay"),screenshareUpstreamKeyFramesEncoded:Re(Ce,Q,"keyFramesEncoded"),screenshareUpstreamBitrate:Re(Ce,Q,"bytesSent",!0),screenshareUpstreamTotalEncodeTime:We}),Ce=Q}}),(0,A.A)(ze,Q=>$(Q))},"getScreenshareRtcStatsTags"),Fe=m(Ut=>{let{clientMetricReport:ze,selfAttendeeId:Q}=Ut;const ue=He({clientMetricReport:ze,selfAttendeeId:Q}),ge=Ue({clientMetricReport:ze});return{...ue,...ge}},"getClientMetricReportTags"),Ke={getVideoMetricTags:He,getAudioMetricTags:Ue,getClientMetricReportTags:Fe,getScreenshareRtcStatsTags:ve,getRtcStatsTags:me};var j=e(4404059078),ee=e(2205899741);const je=0,Te=100;function Je(Ut){return Ut.endsWith(",")?Ut.slice(0,-1):Ut}m(Je,"trimComma");const Ae=m(()=>{let Ut=100,ze="";return{deductFromScoreForReason:(Q,ue)=>{Q&&(Ut-=Q,ze+=`${ue},`)},getScore:()=>(0,j.A)(Ut,je,Te),getReasons:()=>Je(ze)}},"trackScoreAndReasons"),Me=m(Ut=>{const{deductFromScoreForReason:ze,getScore:Q,getReasons:ue}=Ae(),{screenshareUpstreamBitrate:ge,screenshareUpstreamPacketLossPercent:ke,screenshareUpstreamJitter:Xe,screenshareUpstreamPacketSendDelay:nt,screenshareUpstreamQualityLimitationReason:pt}=Ut;if(ge)return ze((0,ee.Tg)(ke),"screenshareUpstreamPacketLossPercent"),ze((0,ee.Fu)(Xe),"screenshareUpstreamJitter"),ze((0,ee.RI)(nt),"screenshareUpstreamPacketSendDelay"),ze((0,ee.Fq)(pt),"screenshareUpstreamQualityLimitationReason"),{screenshareUpstreamQualityScore:Q(),screenshareUpstreamQualityScoreReasons:ue()}},"getScreenshareUpstreamQualityScore"),we=m(Ut=>{const{selfVideoPacketLossPercent:ze,selfVideoJitterMs:Q,isSelfVideoEnabled:ue,selfVideoOutboundFramesPerSecond:ge,selfVideoBitrate:ke}=Ut;if(!ue||!ke)return;const{deductFromScoreForReason:Xe,getScore:nt,getReasons:pt}=Ae();return Xe((0,ee.Tg)(ze),"selfVideoPacketLossPercent"),Xe((0,ee.Fu)(Q),"selfVideoJitterMs"),Xe((0,ee.qf)(ge),"selfVideoOutboundFramesPerSecond"),{selfVideoQualityScore:nt(),selfVideoQualityScoreReasons:pt()}},"getSelfVideoQualityScore"),Ge=m(Ut=>{const{videoDownstreamPacketLossPercent:ze,videoDownstreamFramesDecodedPerSecond:Q,videoDownstreamBitrate:ue,videoDownstreamJitterMs:ge,videoDownstreamDelayMs:ke}=Ut;if(!ue)return;const{deductFromScoreForReason:Xe,getScore:nt,getReasons:pt}=Ae();return Xe((0,ee.Tg)(ze),"videoDownstreamPacketLossPercent"),Xe((0,ee.q4)(ke),"videoDownstreamDelayMs"),Xe((0,ee.Fu)(ge),"videoDownstreamJitterMs"),Xe((0,ee.qf)(Q),"videoDownstreamFramesDecodedPerSecond"),{videoDownstreamQualityScore:nt(),videoDownstreamQualityScoreReasons:pt()}},"getVideoDownstreamQualityScore"),Qe=m(function(Ut){let ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{deductFromScoreForReason:Q,getScore:ue,getReasons:ge}=Ae();if(ze){const{screenshareVideoDownstreamPacketLossPercent2:_e,screenshareVideoDownstreamJitterMs2:Le,screenshareVideoDownstreamDelayMs2:We,screenshareVideoDownstreamFrameHeight2:Ze}=Ut;return Ze?(Q((0,ee.Tg)(_e),"screenshareVideoDownstreamPacketLossPercent2"),Q((0,ee.Fu)(Le),"screenshareVideoDownstreamJitterMs2"),Q((0,ee.q4)(We),"screenshareVideoDownstreamDelayMs2"),{screenshareVideoDownstreamQualityScore2:ue(),screenshareVideoDownstreamQualityScoreReasons2:ge()}):void 0}const{screenshareVideoDownstreamPacketLossPercent:ke,screenshareVideoDownstreamJitterMs:Xe,screenshareVideoDownstreamDelayMs:nt,screenshareVideoDownstreamFrameHeight:pt}=Ut;if(pt)return Q((0,ee.Tg)(ke),"screenshareVideoDownstreamPacketLossPercent"),Q((0,ee.Fu)(Xe),"screenshareVideoDownstreamJitterMs"),Q((0,ee.q4)(nt),"screenshareVideoDownstreamDelayMs"),{screenshareVideoDownstreamQualityScore:ue(),screenshareVideoDownstreamQualityScoreReasons:ge()}},"getScreenshareDownstreamQualityScore"),fe=m(Ut=>{const{audioUpstreamPacketLossPercent:ze,audioUpstreamRoundTripTimeMs:Q,audioUpstreamJitterMs:ue,audioUpstreamNonNetworkPacketLossPercent:ge}=Ut;if(!Q)return;const{deductFromScoreForReason:ke,getScore:Xe,getReasons:nt}=Ae();return ke((0,ee.Ye)(ze),"audioUpstreamPacketLossPercent"),ke((0,ee.oj)(Q),"audioUpstreamRoundTripTimeMs"),ke((0,ee._N)(ue),"audioUpstreamJitterMs"),ke((0,ee.fB)(ge),"audioUpstreamNonNetworkPacketLossPercent"),{audioUpstreamQualityScore:Xe(),audioUpstreamQualityScoreReasons:nt()}},"getAudioUpstreamQualityScore"),Ve=m(Ut=>{const ze={};return Ut.screenshareVideoDownstreamFrameHeight2&&Object.assign(ze,Qe(Ut,!0)),{...Qe(Ut),...ze}},"getScreenshareDownstreamQualityScores"),Be=m(Ut=>{const{cpuUse:ze,gpuUse:Q,cpuUseRelative:ue,longTasksPercentage:ge}=Ut,{deductFromScoreForReason:ke,getScore:Xe,getReasons:nt}=Ae();return ke((0,ee.sI)(ge),"longTasksPercentage"),ke((0,ee.$c)(ze),"cpuUse"),ke((0,ee.KG)(Q),"gpuUse"),ke((0,ee.h7)(ue),"cpuUseRelative"),{cpuCompetitionScore:Xe(),cpuCompetitionScoreReasons:nt()}},"getCpuCompetitionScoreTags"),Ye=m(function(){for(var Ut=arguments.length,ze=new Array(Ut),Q=0;Q<Ut;Q++)ze[Q]=arguments[Q];const ue=ze.filter(h.A);return ue.length?Math.round((0,f.A)(ue)):0},"getMetricAverage"),et=m(Ut=>{const{networkCurrentRoundTripTimeMs:ze,networkNackCountReceivedPerSecond:Q,networkSocketPacketsDiscardedOnSend:ue,networkProtocol:ge,networkRelayProtocol:ke,audioDownstreamJitterMs:Xe,audioDownstreamPacketLossPercent:nt,audioUpstreamPacketLossPercent:pt,audioUpstreamJitterMs:_e,videoDownstreamPacketLossPercent:Le,screenshareDownstreamPacketLossPercent:We,screenshareUpstreamPacketLossPercent:Ze,selfVideoPacketLossPercent:st}=Ut,{deductFromScoreForReason:ut,getScore:Lt,getReasons:tn}=Ae();ut((0,ee.ik)(ge),"networkProtocol"),ut((0,ee.ik)(ke),"networkRelayProtocol"),ut((0,ee.No)(ue),"networkSocketPacketsDiscardedOnSend"),ut((0,ee.oj)(ze),"networkCurrentRoundTripTimeMs");const En=Ye(Xe,_e);ut((0,ee._N)(En),"networkJitterMs"),ut((0,ee.Ap)(Q),"networkNackCountReceivedPerSecond");const Dn=Ye(nt,Le,We,pt,st,Ze);return ut((0,ee.kq)(Dn),"networkPacketLossPercent"),{networkJitterMs:En,networkPacketLossPercent:Dn,networkQualityScore:Lt(),networkQualityScoreReasons:tn()}},"getNetworkQualityScoreTags"),at=m(Ut=>{const{audioDownstreamDecoderLoss:ze,audioDownstreamJitterBufferDelay:Q,audioDownstreamPacketLossPercent:ue}=Ut,{deductFromScoreForReason:ge,getScore:ke,getReasons:Xe}=Ae();return ge((0,ee.t5)(ze),"audioDownstreamDecoderLoss"),ge((0,ee.q4)(Q),"audioDownstreamJitterBufferDelay"),ge((0,ee.Ye)(ue),"audioDownstreamPacketLossPercent"),{audioDownstreamQualityScore:ke(),audioDownstreamQualityScoreReasons:Xe()}},"getAudioDownstreamQualityTags"),Mt=m(Ut=>({...at(Ut),...et(Ut),...fe(Ut),...we(Ut),...Ve(Ut),...Me(Ut),...Be(Ut),...Ge(Ut),qualityScoringVersion:l.Nb}),"getQualityScoreTags"),Bt=m((Ut,ze)=>{let{type:Q,update:ue}=Ut;switch(Q){case _.lx.BluetoothDevices:case _.lx.PreferredMediaRegion:case _.lx.CameraResolution:case _.lx.CallId:case _.lx.ScreenshareContentType:Object.assign(ze.sharedTags,ue);break;case _.lx.MemoryLeaks:{const ge=ze.sharedTags.memoryLeakCount;Object.assign(ze.sharedTags,{type:"shared",tags:{[`memoryLeaks-${ue.name}`]:ue.leakCount,memoryLeakCount:ge?ge+ue.leakCount:ue.leakCount}});break}case _.lx.SelectedMediaRegion:{const{mediaRegionPreferred:ge}=ze.sharedTags,ke=ge&&ue.mediaRegionSelected?ge===ue.mediaRegionSelected:!0;Object.assign(ze.sharedTags,{mediaRegionSelected:ue.mediaRegionSelected,mediaRegionMatchesPreference:ke});break}case _.lx.VoiceFocusConfig:Object.assign(ze.sharedTags,{vfSimdSupported:ue.model.simd,vfModelVariant:ue.model.variant,vfSupported:ue.supported});break;case _.lx.NetworkDisconnect:ue.peerId==="self"&&Object.assign(ze.transientTags,{selfDisconnectCount:(ze.transientTags.selfDisconnectCount||0)+1});break;case _.lx.NoAudio:{const ge=ue.direction==="send"?{noAudioInput:ue.noAudio}:{noAudioOutput:ue.noAudio};Object.assign(ze.sharedTags,ge);break}case _.lx.SetIsDebugApp:Object.assign(ze.sharedTags,{isDebugApp:!0});break;default:{(0,Ie.tZ)("HUDDLES-PERF").error(new Error(`Unexpected type: ${Q}`));break}}},"updateState"),Ct=null;var Ft=e(6267571562);const kt=(0,n.Wo)({label:"COMPUTE-PRESSURE"}),Et={nominal:1,fair:2,serious:3,critical:4};class mt{constructor(){this.defaultSampleRate=.5,this.pubSub=new Ft.G,this.isObserving=!1,this.currentLevel=null,this.startObserving=async()=>{if(!this.isObserving){try{var ze;this.isObserving=!0,await((ze=this.pressureObserver)===null||ze===void 0?void 0:ze.observe("cpu"))}catch(Q){this.isObserving=!1,kt.error("An error occurred while attempting to observe compute pressure",Q)}kt.info("Observing compute pressure")}},this.getPressureLevelFromRecord=ze=>ze?Et[ze.state]:void 0,this.pressureObserverCallback=ze=>{const Q=ze.pop();if(!Q)return;const ue=this.getPressureLevelFromRecord(Q);ue&&(this.currentLevel=ue,ue===1?kt.debug(`Compute pressure updated to ${Q.state} (${ue} of 4)`):kt.warn(`Compute pressure updated to ${Q.state} (${ue} of 4)`),this.pubSub.publish(ue))},this.subscribe=async ze=>{this.pubSub.subscribe(ze),await this.startObserving()},this.unsubscribe=ze=>{if(this.pubSub.unsubscribe(ze),!this.pubSub.subscriberCount)try{var Q;(Q=this.pressureObserver)===null||Q===void 0||Q.disconnect(),kt.debug("No longer observing compute pressure.")}catch(ue){kt.error("An error occurred attempted to disconnect from the compute pressure observer",ue)}},this.getCurrentLevel=()=>{if(this.currentLevel)return this.currentLevel;let ze;try{var Q;ze=(Q=this.pressureObserver)===null||Q===void 0?void 0:Q.takeRecords()}catch(ge){kt.error("An error occurred attempting to get latest compute pressure reports",ge)}const ue=ze?this.getPressureLevelFromRecord(ze.pop()):void 0;return ue&&(this.currentLevel=ue),ue},kt.info("Compute Pressure API is supported. Initializing pressure observer.");try{this.pressureObserver=new PressureObserver(this.pressureObserverCallback,{sampleRate:this.defaultSampleRate})}catch(ze){kt.error("An error occurred creating a new instance of the PressureObserver",ze)}if(!this.pressureObserver){kt.error("Compute pressure observer not created, though PressureObserver API should be supported");return}this.startObserving()}}m(mt,"ComputePressureObserver"),mt.isSupported=()=>"PressureObserver"in globalThis;let Rt;const Ht=m(()=>{if(Rt)return Rt;if(!mt.isSupported()){kt.info("Compute Pressure API is not supported.");return}try{Rt=new mt}catch(Ut){kt.error("An error occurred while attempting to create compute pressure observer",Ut);return}return Rt},"getComputePressureObserver"),ft=null,Jt=null,Zt=Ht,Tt={longTasksPercentage:0,longTasksPeakDuration:0,longTasksCount:0,longTasksTotalDuration:0};let Pt=m(class{initializeReport(){this.report={...Tt},this.lastReportTime=performance.now()}isLongTaskTimingSupported(){return typeof PerformanceObserver<"u"&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("longtask")}start(){this.observer||!this.isSupported||(this.observer=new PerformanceObserver(this.onReceiveLongTaskList),this.observer.observe({entryTypes:["longtask"]}),this.observer.takeRecords())}stop(){this.observer&&(this.observer.disconnect(),this.observer=null)}getReportSinceLastCall(){if(!this.observer||!this.isSupported)return;const Q=performance.now()-this.lastReportTime;this.report.longTasksCount>0&&(this.report.longTasksPercentage=Math.round(this.report.longTasksTotalDuration/Q*100));const ue={...this.report};return this.initializeReport(),ue}constructor(){this.report={...Tt},this.lastReportTime=performance.now(),this.observer=null,this.onReceiveLongTaskList=ze=>{const Q=ze.getEntries();let ue=0,ge=0;Q.forEach(ke=>{const Xe=ke.duration;ue+=Xe,Xe>ge&&(ge=Xe)}),this.report.longTasksTotalDuration+=ue,this.report.longTasksCount+=Q.length,ge>this.report.longTasksPeakDuration&&(this.report.longTasksPeakDuration=ge)},this.isSupported=this.isLongTaskTimingSupported()}},"LongTaskObserver");const Kt=null,dn=Pt;let sn=0;const H={traceName:l.Sq},Ne="HUDDLES-PERF",Pe={troubleshootingEntryPoint:null,troubleshootingContactUsClicked:!1};let qe=m(class{constructor(){var ze;this.callLogger=(0,Ie.tZ)(Ne),this.logger=(0,n.Wo)({label:Ne}),this.sharedTags=H,this.transientTags={},this.renderTimings=[],this.rtmProcessingTimings=[],this.troubleshootingTags={...Pe},this.lastAppMetricsRecordingTs=Date.now(),this.currentTags={},this.computePressure=null,this.longTaskObserver=new dn,this.initSharedTags=()=>{sn+=1,this.updateSharedTags({huddlesCountSinceRefresh:sn})},this.initComputePressureObserver=()=>{this.computePressureObserver=Zt(),this.computePressureObserver&&this.computePressureObserver.subscribe(this.updateComputePressure).then(()=>{var Q;const ue=(Q=this.computePressureObserver)===null||Q===void 0?void 0:Q.getCurrentLevel();this.computePressure=ue})},this.updateSharedTags=Q=>{this.sharedTags={...this.sharedTags,...Q}},this.updateTransientTags=Q=>{this.transientTags={...this.transientTags,...Q}},this.updateComputePressure=Q=>{const ue=this.computePressure;this.computePressure=Q;let ge;switch(Q){case 1:ge="System workload is minimal, operating at lower clock speed to conserve power.";break;case 2:ge="System is performing well but under a fair amount of pressure. Still able to take on additional workload without issues.";break;case 3:ge="System is experiencing significant pressure but remains sustainable; close to operational limits.";break;case 4:ge="System is now about to reach its operational limits; continued pressure may lead to CPU throttling.";break;default:ge="Unknown system workload condition."}Q>2?this.callLogger.warn(`Compute pressure updated to level ${Q} of 4. This is a measure of the strain on the user's computer's processing capacity, which may or may not be caused by Slack or Huddles, but will likely impact performance. A score of ${Q} suggests that: ${ge}. If this warning is frequent, suggest that the user close unused tabs or applications on their computer, ensure their computer is not in battery-saving mode, and/or give other general advice around reducing CPU use.`):ue&&ue>2&&this.logger.debug(`Compute pressure updated to level ${Q} of 4 from ${ue}. ${ge}`)},this.updateState=Q=>{switch(Q.type){case _.lx.RenderTiming:this.renderTimings.push(Q.update);break;case _.lx.RtmMetrics:this.rtmProcessingTimings.push(Q.update);break;case _.lx.AppMetrics:this.updateMetrics(Q.update);break;case _.lx.TroubleshootingEntryPoint:this.troubleshootingTags.troubleshootingEntryPoint=Q.update;break;case _.lx.TroubleshootingContactUsClicked:this.troubleshootingTags.troubleshootingContactUsClicked=!0;break;default:Bt(Q,{sharedTags:this.sharedTags,transientTags:this.transientTags})}},this.updateMetrics=Q=>{let{huddleStateSnapshot:ue,clientMetricReport:ge,screenshareRtcStats:ke}=Q;const Xe=ge?Fe({clientMetricReport:ge,selfAttendeeId:ge.selfAttendeeId}):{},nt=ge?me(ge.getRTCStatsReport()):{},pt=ve(ke),_e={...ue,...Xe,...pt,...nt,...this.sharedTags,...this.transientTags,...this.getRtmMetricTags(),...this.getRenderTimingTags(),...this.getTimestampTags(),...this.getComputePressureTags(),...this.getLongTaskTags(),...this.getTroubleshootingTags()},Le=Mt(_e);this.currentTags={..._e,...Le},this.clearTransientTags(),this.lastAppMetricsRecordingTs=Date.now()},this.getCurrentTags=()=>({...this.currentTags}),this.clearTransientTags=()=>{this.transientTags={}},this.getLongTaskTags=()=>{var Q;return(Q=this.longTaskObserver)===null||Q===void 0?void 0:Q.getReportSinceLastCall()},this.getTimestampTags=()=>{const{huddleStartTimestamp:Q}=this.currentTags;return Q?{secondsSinceJoining:Math.floor((Date.now()-Q)/1e3)}:{}},this.getRtmMetricTags=()=>{const Q=this.rtmProcessingTimings.length;return this.rtmProcessingTimings=[],{rtmMessagesProcessed:Q}},this.getTroubleshootingTags=()=>{const Q={...this.troubleshootingTags};return this.troubleshootingTags={...Pe},Q},this.getComputePressureTags=()=>({computePressure:this.computePressure}),this.getRenderTimingTags=()=>{const Q=Date.now()-this.lastAppMetricsRecordingTs,ue=(0,Se.A)(this.renderTimings),ge=this.renderTimings.length;return!ue||!Q?{uiRenderTimePercent:0,uiRenderTimeMs:0}:(this.renderTimings=[],{uiRenderTimePercent:Number((ue/Q*100).toFixed(1)),uiRenderCount:ge})},this.cleanup=()=>{var Q,ue;(Q=this.computePressureObserver)===null||Q===void 0||Q.unsubscribe(this.updateComputePressure),delete this.computePressureObserver,(ue=this.longTaskObserver)===null||ue===void 0||ue.stop(),delete this.longTaskObserver},this.initSharedTags(),this.initComputePressureObserver(),(ze=this.longTaskObserver)===null||ze===void 0||ze.start()}},"HuddlePerfStateInternal");const At=null,xt=qe;var jt=e(5071086688),Xt=e(5387083734),en=e(415910655),Qt=e(5332875232);const ht="HUDDLES-PERF",Nt=5e3,on=1e3;let Vt=m(class{constructor({teamId:ze,logger:Q,dispatch:ue,getState:ge}){this.logger=(0,n.Wo)({label:ht}),this.callLogger=(0,Ie.tZ)(ht),this.errorReported=!1,this.lastRecordedMetricsTs=0,this.reportCounts={skipped:0,recorded:0},this.reportUpdate=Xe=>{Xe.type===_.lx.AppMetrics?this.recordAppMetrics(Xe):this.huddlePerfState.updateState(Xe)},this.recordAppMetrics=Xe=>{(0,Xt.IE)("huddle-perf-metrics",()=>{var nt,pt;if(!this.shouldRecordAppMetrics({nextReportTimestamp:(nt=Xe.update)===null||nt===void 0||(pt=nt.clientMetricReport)===null||pt===void 0?void 0:pt.currentTimestampMs})){this.reportCounts.skipped+=1;return}this.logger.debug("Recording app metrics",this.reportCounts.recorded),this.huddlePerfState.updateState(Xe);const _e=this.huddlePerfState.getCurrentTags();this.huddlePerfTrace.recordAppMetrics(_e);try{this.huddlePerfObserver.processTags(_e)}catch(Le){this.errorReported||(this.callLogger.error("An error occurred while processing tags",Le),this.errorReported=!0)}this.lastRecordedMetricsTs=Date.now(),this.reportCounts.recorded+=1},{delay:100})},this.shouldRecordAppMetrics=Xe=>{let{nextReportTimestamp:nt}=Xe;if(!nt)return!1;const pt=Date.now(),_e=pt-this.lastRecordedMetricsTs;if(_e<on)return this.logger.debug(`Not enough time has passed since last report was recorded (${_e}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1;const We=pt-nt;return We>Nt?(this.logger.debug(`Too much time has passed since the current report was made (${We}ms). Skipping. Total skipped: ${this.reportCounts.skipped}`),!1):!0},this.report=Xe=>{this.huddlePerfTrace.report(Xe),jt.A.unsubscribe(this.reportUpdate),this.huddlePerfState.cleanup(),(0,en.ZR)()};const ke=ge();this.huddlePerfTrace=new k({teamId:ze,logger:Q,callLogger:this.callLogger,enableMaxReportingFrequency:(0,Qt.CN)(ke),metricsAveragesEnabled:(0,Qt.Ml)(ke)}),this.huddlePerfObserver=new ye({logger:Q,callLogger:this.callLogger,dispatch:ue}),this.huddlePerfState=new xt,jt.A.subscribe(this.reportUpdate)}},"HuddlePerfManager");const qt=null,rn=Vt;var vn=e(6533394955),Rn=e(2141441167),Pn=e(2709531527),In=e(7384121809),Nn=e(8276911661),Jn=e(5795074931),ts=e(5286203919),Un=e(8847766420),bn=e(7606781622),Ln=e(6251210828),Gn=e(3792998666);const Zn=m(Ut=>{let{teamId:ze}=Ut;var Q,ue;const ge=(0,vn.oK)(ze).getState(),ke=(0,In.en)().getState(),Xe=(0,ts.E9)(ke),nt=(0,ts.hc)(ke),pt=(0,Un.jV)(ge),_e=(0,Ln.ok)(ge,{huddleId:Xe}),Le=(0,Ln.Zg)(ge,{huddleId:Xe}),We=(0,Jn.WR)(ge),Ze=Le?((Le==null?void 0:Le.timestamps)||[]).map(Dn=>nt?(0,bn.Ld)(ge,nt,Dn):void 0).filter(Dn=>(Dn==null?void 0:Dn.user)===We):[],st=(Q=Ze[0])===null||Q===void 0?void 0:Q.ts,ut=(ue=Ze.slice(-1)[0])===null||ue===void 0?void 0:ue.ts,Lt=Ze.length,tn=(0,Nn.nv)(ge,We),En=(0,Gn.P)(tn);return{huddleId:Xe,channelId:nt,enterpriseId:pt,threadId:_e,threadReplyCnt:Lt,threadFirstReplyTs:st,threadLastReplyTs:ut,isGuest:En}},"getHuddleEventsStateSnapshot"),ns="huddle_events",is="huddle",Xn="vhq",vs={topicName:is,userAgent:navigator.userAgent,family:Xn};let as=m(class{get spansList(){var ze;return(0,Rn.A)((ze=this.trace)===null||ze===void 0?void 0:ze.getSpans())||[]}report(){var ze;let Q;try{Q=(0,p.tT)({...this.sharedTags,...Zn({teamId:this.teamId})})}catch(ge){var ue;this.logger.error(`Error while reporting huddle_events trace: ${ge}`),(ue=this.tracer)===null||ue===void 0||ue.clearTrace(this.trace);return}!this.traceReported&&this.trace&&(this.trace.addTags(Q),this.logger.info(`Reporting huddle_events trace: ${this.trace.getTraceId()} with ${this.spansList.length} spans`),this.tracer.reportTrace(this.trace),this.traceReported=!0,this.logger.debug("Reported huddle_events trace with tags",Q)),(ze=this.tracer)===null||ze===void 0||ze.clearTrace(this.trace)}constructor({teamId:ze,logger:Q}){this.sharedTags=vs,this.traceReported=!1,this.getSpanByName=ue=>this.spansList.find(ge=>ue===ge.getOperationName()),this.getDataSet=()=>{if(!(0,s.Cu)())return"client_metrics"},this.addInitialSpans=()=>{this.update({name:Pn.p.JOIN,type:Pn.G.START,tags:{}}),this.update({name:Pn.p.MINIPLAYER_VIEW,type:Pn.G.START})},this.isSurfaceChange=ue=>ue===Pn.p.MINIPLAYER_VIEW||ue===Pn.p.WINDOW_COMPACT_VIEW||ue===Pn.p.WINDOW_FULL_VIEW,this.handleSurfaceChange=ue=>{let{name:ge,type:ke}=ue;ke===Pn.G.START&&this.isSurfaceChange(ge)&&this.spansList.filter(Xe=>this.isSurfaceChange(Xe.getOperationName())).forEach(Xe=>{Xe.getOperationName()!==ge&&this.closeSpan(Xe)})},this.update=ue=>{let{name:ge,type:ke,tags:Xe}=ue;if(this.trace)if(ke===Pn.G.START||ke===Pn.G.ONCE){const nt=this.trace.startSpan(ge,{parentSpanId:this.joinSpanId});Xe&&nt.addTags(Xe),ge===Pn.p.JOIN&&(this.joinSpanId=nt.getId()),this.isSurfaceChange(ge)&&this.handleSurfaceChange({name:ge,type:ke}),this.logger.debug(`started new span for huddle_events trace: ${ge}`),ke===Pn.G.ONCE&&this.closeSpan(nt)}else{const nt=this.getSpanByName(ge);this.closeSpan(nt),this.logger.debug(`closed span for huddle_events trace: ${ge}`)}},this.closeSpan=ue=>{ue&&(ue.getCloseTimeMs()||ue.close())},this.recordEntryPoint=ue=>{Object.assign(this.sharedTags,{entryPoint:ue})},this.tracer=(0,r.E)({teamOrEnterpriseId:ze}),this.trace=this.tracer.createTrace({traceName:ns,tags:{__dataset:this.getDataSet()},samplingOptions:{sampleRate:1,sampleType:u.tS.SESSION}}),this.teamId=ze,this.logger=Q,this.logger.info(`created huddle_events trace:${this.trace.getTraceId()}`),this.addInitialSpans()}},"HuddleEventsTracer");const qn="HUDDLE-TRACE-MANAGER",ls=(0,n.Wo)({label:qn});let un=m(class{initializeTraces(ze){let{teamId:Q,isTinySpeck:ue,isDebugApp:ge}=ze;const ke=(0,vn.oK)(Q);this.teamId=Q,this.tracer=(0,r.E)({teamOrEnterpriseId:this.teamId}),this.trace=this.tracer.createTrace({traceName:i.ne,samplingOptions:{sampleRate:(0,s.Cu)()||ue?1:.05,sampleType:u.tS.SESSION},tags:{__dataset:"client_metrics"}}),ge||(this.reconnectTrace=new o({tracer:this.tracer,trace:this.trace,logger:ls}),this.ttiTrace=new a({teamId:this.teamId,logger:ls}),this.huddleEventsTrace=new as({teamId:this.teamId,logger:ls})),this.huddlePerfTraceManager=new rn({teamId:this.teamId,logger:ls,dispatch:ke.dispatch,getState:ke.getState})}setCallId(ze){var Q;this.callId=ze,(Q=this.trace)===null||Q===void 0||Q.addTags({callId:this.callId}),ze&&jt.A.publish({type:_.lx.CallId,update:{callId:ze}})}getAllTraceHandlers(){return{reconnectTrace:this.reconnectTrace,ttiTrace:this.ttiTrace,huddlePerfTraceManager:this.huddlePerfTraceManager,huddleEventsTrace:this.huddleEventsTrace}}cleanup(){var ze,Q,ue,ge,ke,Xe;(ze=this.reconnectTrace)===null||ze===void 0||ze.report(),(Q=this.ttiTrace)===null||Q===void 0||Q.report(),(ue=this.huddlePerfTraceManager)===null||ue===void 0||ue.report(!0),(ge=this.huddleEventsTrace)===null||ge===void 0||ge.report(),(ke=this.tracer)===null||ke===void 0||ke.reportTrace(this.trace),(Xe=this.tracer)===null||Xe===void 0||Xe.clearTrace(this.trace),ls.info("Reported and cleared huddle parent trace"),delete this.reconnectTrace,delete this.ttiTrace,delete this.huddlePerfTraceManager,delete this.huddleEventsTrace,this.callId=null}constructor(){ls.info("Huddle Trace Manager created")}},"HuddleTraceManager");const Gt=(0,t.A)(()=>new un)},2709531527:(W,T,e)=>{"use strict";e.d(T,{G:()=>t,p:()=>s});var t;(function(n){n.START="start",n.STOP="stop",n.ONCE="once"})(t||(t={}));var s;(function(n){n.JOIN="session_join",n.VIDEO="video",n.SCREENSHARE="screenshare",n.REACTION="reaction_posted",n.MESSAGE="message_posted",n.MICROPHONE="microphone",n.MINIPLAYER_VIEW="mini_player_view",n.WINDOW_COMPACT_VIEW="window_compact_view",n.WINDOW_FULL_VIEW="window_full_view",n.THREAD_VIEW="thread_flexpane_view",n.TRANSCRIPT="trxn"})(s||(s={}))},1616072515:(W,T,e)=>{"use strict";e.d(T,{_3:()=>r,tT:()=>u});var t=e(4178261413),s=e(8872403767),n=e(1545824888);const r=m(o=>(0,t.A)(o),"formatTag"),u=m(function(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"peer_video";return(0,s.A)(o,(_,l)=>l.indexOf(a)>-1?l:r(l))},"formatTags"),i=m(()=>new Bluebird(o=>{setTimeout(o,0)}),"waitForNextTick")},3146858537:(W,T,e)=>{"use strict";e.d(T,{A:()=>h});var t=e(8958249318),s=e(1545824888),n=e(56548687),r=e(1224315998),u=e(6664301844),i=e(2825968873);function o(){return 2}m(o,"getVoiceFocusCacheVersion");var a;const _="voiceFocusCache";function l(){return{userAgent:"unknown",sdkVersion:"unknown",isSupported:"unknown"}}m(l,"createDefaultVoiceFocusCapability");function p(){return{vfConfig:"unknown",lastUpdateTimeMs:0}}m(p,"createDefaultVoiceFocusCachedConfig");function g(){let f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window==null||(a=window.navigator)===null||a===void 0?void 0:a.userAgent,y=arguments.length>1?arguments[1]:void 0;const I=localStorage.getItem(_),C={version:o(),voiceFocusCapability:l(),voiceFocusCachedConfig:p()};if(!I)return C;let D;try{D=JSON.parse(I)}catch(M){return(0,i.tZ)("VOICE-FOCUS-CACHE").error("Could not parse voice focus cache from localStorage: ",M.message),C}return D.version!==o()?C:(D.voiceFocusCapability&&(D.voiceFocusCapability.userAgent!==f||D.voiceFocusCapability.sdkVersion!==y)&&(D.voiceFocusCapability=C.voiceFocusCapability,D.voiceFocusCachedConfig=C.voiceFocusCachedConfig),{...C,...D})}m(g,"readVoiceFocusCache");function c(f){try{localStorage.setItem(_,JSON.stringify(f))}catch(y){(0,i.tZ)("VOICE-FOCUS-CACHE").error("Could not write voice focus cache to localStorage: ",y.message)}}m(c,"writeVoiceFocusCache");var E=e(5470425448),A=e(5071086688);const d=1657647210615,v=1686248081659;let h=m(class{async init(y){let{configOnly:I}=y;I||this.callLogger.info(`VF cache: ${!!this.cache}`),this.isSupported=await this.isCapable(!!I),this.isSupported&&this.prepare(I)}isAvailable(){return this.isSupported}async getTransformDevice(){if(this.isSupported&&(this.voiceFocusConfigPromise&&await this.voiceFocusConfigPromise,!!this.voiceFocusDeviceTransformerPromise)){try{await this.voiceFocusDeviceTransformerPromise}catch{this.callLogger.error("Could not get VoiceFocusDeviceTransformer");return}if(this.voiceFocusTransformDevicePromise)try{return await this.voiceFocusTransformDevicePromise}catch{this.callLogger.error("Could not get VoiceFocusTransformDevice")}}}shouldDisable(){return!1}async setMute(y){const I=await this.getTransformDevice();I&&await I.mute(y)}async isCapable(y){if(this.isIFramed())return y||this.callLogger.warn("not supported due to IFrame"),!1;let I=!1;switch(this.cache.voiceFocusCapability.isSupported){case"yes":y||this.callLogger.info("cache says supported"),I=!0;break;case"no":y||this.callLogger.info("cache says not supported"),I=!1;break;case"unknown":{y||this.callLogger.info("cache says unknown, determining support..."),this.cache.voiceFocusCapability.userAgent=(0,t.A)(),this.cache.voiceFocusCapability.sdkVersion=u.zF.sdkVersion,I=await(0,u.w2)().isSupported(),I?this.cache.voiceFocusCapability.isSupported="yes":this.cache.voiceFocusCapability.isSupported="no",c(this.cache),y||this.callLogger.info(`determined supported=${this.cache.voiceFocusCapability.isSupported}, writing to cache`);break}default:this.callLogger.warn(`Voice Focus capability pref bad: ${this.cache.voiceFocusCapability.isSupported}`);break}return I}isIFramed(){try{var y;return((y=window.frameElement)===null||y===void 0?void 0:y.nodeName)==="IFRAME"||parent!==top}catch{return!0}}isStale(y){const C=this.cache.voiceFocusCachedConfig.lastUpdateTimeMs,D=this.allowMaxModelsToBeUsed?v:d;return C===0||y-C>6048e5||C<D}prepare(){let y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const I=Date.now(),C=this.cache.voiceFocusCachedConfig.vfConfig,D=this.isStale(I),M={},P={logger:this.chimeLogger};if(C!=="unknown"&&!D){if(y)return;if(!C.supported){this.callLogger.warn("Unsupported config was returned from the cache");return}this.setupDevice(M,P,C);return}this.voiceFocusConfigPromise||(this.callLogger.info("Initializing VoiceFocusDeviceTransformer afresh"),this.voiceFocusConfigPromise=s.S.resolve((0,u.w2)().configure(M,P)),this.voiceFocusConfigPromise.then(S=>{var b;if(!S.supported){this.callLogger.error(`VF Config was provided as unsupported Reason: ${S.reason}`);return}if(!(!(S==null||(b=S.model)===null||b===void 0)&&b.simd)){this.callLogger.error("VF not enabled because device is not expected to be able to perform adequately");return}const L=S;this.callLogger.info(`Got new config, variant: ${L.model.variant}, simd: ${L.model.simd}, executionQuanta: ${L.executionQuanta}`),this.storeVfConfig(I,L),y||this.setupDevice(M,P,L)}).catch(S=>{this.callLogger.info(`Could not get configuration of voice device transformer: ${S.name}: ${S.message}`),y||this.setupDevice(M,P)}))}storeVfConfig(y,I){this.cache.voiceFocusCachedConfig.vfConfig=I,this.cache.voiceFocusCachedConfig.lastUpdateTimeMs=y,c(this.cache)}async updateCacheWithUpdatedConfig(y){this.callLogger.info("Updating VF cache with new modified model");const I={logger:this.chimeLogger},C={variant:y},D=await(0,u.w2)().configure(C,I);D.supported&&this.storeVfConfig(Date.now(),D)}setupDevice(y,I,C){const D=y;let M=C,P,S;C?(P=C.model.variant,S=!0):(this.callLogger.info("No VFConfig provided defaulting base model to c10"),P="c10",S=!1);let b=!0;this.allowMaxModelsToBeUsed&&(b=!1);const O=this.chooseModelVariant(P,S,b);if(O.modelWasAdjusted&&(D.variant=O.chosenModel,M=void 0,this.callLogger.info(`VF Model was adjusted from ${C==null?void 0:C.model.variant} to ${O.chosenModel} Reason: ${O.adjustmentReason}`),this.updateCacheWithUpdatedConfig(O.chosenModel)),C){(0,n.e)().track(r.EventId.CALLS_VOICE_FOCUS_CONFIG,{model_variant_determined:C.model.variant,model_variant_override:D.variant,simd:C.model.simd,execution_quanta:C.executionQuanta,hw_concurrency:navigator==null?void 0:navigator.hardwareConcurrency});const L={...C};L.model.variant=O.chosenModel,A.A.publish({type:E.lx.VoiceFocusConfig,update:L}),this.callLogger.info(`model_variant_determined: ${C.model.variant}, model_variant_override: ${O.chosenModel}, simd: ${C.model.simd}, execution_quanta: ${C.executionQuanta}, hw_concurrency: ${navigator==null?void 0:navigator.hardwareConcurrency}`)}this.voiceFocusDeviceTransformerPromise=s.S.resolve((0,u.w2)().create(D,I,M)),this.voiceFocusDeviceTransformerPromise.then(async L=>{this.voiceFocusTransformDevicePromise=s.S.resolve(L.createTransformDevice(null))}).catch(L=>{this.callLogger.info(`Could not create voice device transformer exp: ${L.name}: ${L.message}`)})}chooseModelVariant(y,I,C){const D={c10:1,c20:2,c50:3,c100:4},M=navigator==null?void 0:navigator.hardwareConcurrency;if(!M)return this.callLogger.info(`Hardware concurrency not available, using self-determined model variant: ${y}`),{modelWasAdjusted:!1,chosenModel:y,adjustmentReason:""};let P;return M<=4?P="c10":M<=6?P="c20":M<=8?P="c50":P="c100",D[P]<D[y]&&!C?{modelWasAdjusted:this.wasModelAdjusted(P,y,I),chosenModel:P,adjustmentReason:"Using CPU restricted model variant which is weaker"}:D[P]>D[y]&&(this.callLogger.info(`using self-determined model variant which is weaker: ${y}`),P=y,!C)?{modelWasAdjusted:!1,chosenModel:y,adjustmentReason:""}:P==="c100"?{modelWasAdjusted:this.wasModelAdjusted("c20",y,I),chosenModel:"c20",adjustmentReason:"Model selection was determined to be c100 capping the model at C20"}:{modelWasAdjusted:this.wasModelAdjusted("c10",y,I),chosenModel:"c10",adjustmentReason:"Model selection was determined to be less than c100 capping the model at C10"}}wasModelAdjusted(y,I,C){return y===I&&!C||y!==I}async tearDown(){const y=await this.getTransformDevice();y&&(this.callLogger.info("Attempting to destroyVoiceFocus"),u.wV.destroyVoiceFocus(y))}constructor(y,I){this.chimeLogger=y,this.allowMaxModelsToBeUsed=I,this.callLogger=(0,i.Jt)("VOICE-FOCUS-MANAGER"),this.isSupported=!1,this.cache=g((0,t.A)(),u.zF.sdkVersion)}},"VoiceFocusManager")},8558782493:(W,T,e)=>{"use strict";e.d(T,{k:()=>u});var t=e(56548687),s=e(5795074931),n=e(3395259576),r=e(7439555287);function u(i,o){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,_=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;var l;const p=(l=(0,r.KA)())===null||l===void 0?void 0:l.getState();if(!p)return;const g=(0,t.e)({state:p}).setUser((0,s.WR)(p));if(a){const c={...o,room_id:(0,n.G0)(p)};g.track(i,c,{sendImmediately:_})}else g.track(i,o,{sendImmediately:_})}m(u,"trackCallsClog")},164795489:(W,T,e)=>{"use strict";e.d(T,{w:()=>v});var t=e(6680093304),s=e(1545824888),n=e(6304789565),r=e(8276911661),u=e(3677514771),i=e(6439846314),o=e(7344959578),a=e(5046160032),_=e(4914127094),l=e(7299481592);const p="screenhero.rooms.proxyLogs",g=(0,n.Ay)("Send call logs to the server",(h,f,y)=>{let{logs:I,useSendBeacon:C=!1,callId:D}=y;const M=f();let P;if(D?P=D:M.activeCall&&M.activeCall.id&&(P=M.activeCall.id),!P)return(0,l.M)(!1,"There should be an active call in progress in order to send logs."),s.S.reject(new Error("SendLogs: no call"));const S=(0,r.cA)(M),b=(0,u.H7)(M);if(!b)return s.S.reject(new Error("SendLogs: no current team"));const O={data:{room_id:P,user_id:S.id,team_id:b.id,ua:window.navigator.userAgent,event_type:"calls_js_logs",encoding:"none",logs:I}},L={data:JSON.stringify(O.data)};return C?(0,a.A)({apiUrl:"/api/",method:p,token:(0,_.F)(M),versionTs:(0,o.HF)(),versionUid:(0,o.X3)(),args:L})?s.S.resolve():s.S.reject(new Error("SendLogs: beacon failed")):h((0,i.apiCall)({method:p,reason:"calls-logging",args:L}))});g.meta={name:"createThunk",key:"createThunksendLogs",description:"Send call logs to the server"};var c=e(7439555287),E=e(337319621),A=e(4518410378);const d=60*1e3;class v{start(f){(0,l.M)(!this.intervalHandle,"Log reporter already started."),this.callId=f,this.intervalHandle=A.J.setInterval(()=>this.report(!1),d),A.J.addEventListener("beforeunload",this.unloadHandler)}joinLogs(f){return f.map(y=>y.join(" ")).join(`
`)}constructor(f=t.tt){var y=this;this.buffer=f,this.unloadHandler=()=>{A.J.Cypress||this.report(!0)},this.stop=async function(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;y.intervalHandle&&A.J.clearInterval(y.intervalHandle),y.intervalHandle=void 0,A.J.removeEventListener("beforeunload",y.unloadHandler),await y.emptyBuffer(C),y.callId=void 0},this.emptyBuffer=async function(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;y.buffer.hasItems()&&(await y.report(I),await y.emptyBuffer(I))},this.report=async function(){let I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const{dispatch:C}=(0,c.KA)(),D=y.buffer.flush();if(!D.length)return;const M=y.joinLogs(D);await C(g({logs:M,useSendBeacon:I,callId:y.callId})).catch(()=>{(0,E.Wo)().error("Failed to send Huddle logs")})}}}m(v,"LogReporter")},3300324857:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(6267571562);const s=new t.G},6839101721:(W,T,e)=>{"use strict";e.d(T,{D8:()=>p,WY:()=>l,cn:()=>g,d2:()=>a,gJ:()=>_});var t=e(2140362605);const s=(0,t.Ay)("connect to free willy media server");s.meta={name:"createAction",key:"createActionconnectToFreeWillyMediaServer",description:"connect to free willy media server"};const n=(0,t.Ay)("Set flag to indicate if experimental Chime SDK should be used");n.meta={name:"createAction",key:"createActionsetUseChimeSdkExp",description:"Set flag to indicate if experimental Chime SDK should be used"};const r=(0,t.Ay)("Set flag to indicate if simulcast should be used in a Chime call");r.meta={name:"createAction",key:"createActionsetUseSimulcast",description:"Set flag to indicate if simulcast should be used in a Chime call"};const u=(0,t.Ay)("Set flag to indicate if priority based downlink policy should be used in a Chime call");u.meta={name:"createAction",key:"createActionsetUsePriorityDownlinkPolicy",description:"Set flag to indicate if priority based downlink policy should be used in a Chime call"};const i=(0,t.Ay)("Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call");i.meta={name:"createAction",key:"createActionsetUseGetMediaAccessCheckForWindows",description:"Set flag to indicate if getMediaAccess checks for Windows should be used in a Chime call"};const o=(0,t.Ay)("Set flag to determine if a call is a readiness test call");o.meta={name:"createAction",key:"createActionsetReadinessCheck",description:"Set flag to determine if a call is a readiness test call"};const a=(0,t.Ay)("Binds video tile to a video element");a.meta={name:"createAction",key:"createActionbindVideo",description:"Binds video tile to a video element"};const _=(0,t.Ay)("Unbinds video tile from a video element");_.meta={name:"createAction",key:"createActionunbindVideo",description:"Unbinds video tile from a video element"};const l=(0,t.Ay)("Pauses video tile");l.meta={name:"createAction",key:"createActionpauseVideo",description:"Pauses video tile"};const p=(0,t.Ay)("Unpauses video tile");p.meta={name:"createAction",key:"createActionunpauseVideo",description:"Unpauses video tile"};const g=(0,t.Ay)("Returns if there in a stream associated with the tileId");g.meta={name:"createAction",key:"createActionvideoTileHasStream",description:"Returns if there in a stream associated with the tileId"}},3094144240:(W,T,e)=>{"use strict";e.d(T,{P:()=>t});const t={height:576,width:1024,useContentSize:!0,minContentWidth:704,minContentHeight:396,center:!0,frame:!0,titleBarStyle:"default"};function s(n){return!!has(n,"activeCall")}m(s,"isCallWindowContextState")},5156662944:(W,T,e)=>{"use strict";e.d(T,{Rv:()=>K,Xk:()=>k,hL:()=>L,j7:()=>F,lp:()=>N,tO:()=>ne,tw:()=>R,uI:()=>G,vf:()=>w});var t=e(5597672932),s=e(6007206761),n=e(4630136761),r=e(3929724715),u=e(8920264989),i=e(8798294025),o=e(1407713935),a=e(2350349607),_=e(6839188756),l=e(4827886670),p=e(8276911661),g=e(6728717861),c=e(8921478798),E=e(8170643398),A=e(3534324375),d=e(3677514771),v=e(4413566926),h=e(8374895239),f=e(9101533895),y=e(5670315214),I=e(8767621462),C=e(462591818),D=e(340763958),M=e(6470070112);const P="Slack",S=new v.Ay("calls");function b(ce){return!!(0,t.xp)(ce,"allow_calls")}m(b,"isCallsAllowedByAdmin");function O(ce,pe){return(0,M.pt)(ce)&&(0,M.Bn)(ce,pe)}m(O,"isHuddlesAllowed");function L(ce,pe,ye){const Ie=(0,f.Pu)(ce,pe.id);return!(!b(ce)&&!O(ce,Ie)||(0,E.fy)(pe)&&!ye||!(0,E._W)(pe)||!(0,I.S)(ce,pe.id)||(0,r.Mi)(Ie))}m(L,"canCallMember");function k(ce,pe){let ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const Ie=(0,p.nv)(ce,(0,i.e)(pe)),Se=ye&&Y(ce);return!b(ce)&&!O(ce,pe)&&!Se||(0,n.Zz)(pe)||(0,o.LI)(pe)&&(!Ie||!L(ce,Ie))||!(0,r.Ez)(pe)?!1:(0,l.c)(ce,pe)}m(k,"isCallButtonVisibleForChannel");function K(ce,pe){return(0,g.Pb)(ce)?((0,r.bU)(pe)||(0,s.F)(pe))&&!se(pe):!0}m(K,"isCallButtonDisabledForChannel");function N(ce,pe){const ye=(0,f.OL)(ce,pe);return ye&&!K(ce,ye)&&k(ce,ye)}m(N,"canStartCallInChannel");function R(ce,pe,ye){const Ie=(0,a.V)(pe),Se=(0,y.q8)(ce,Ie),le=(0,p.nv)(ce,ye,{preferNonExistentToNull:!1,fetchIfMissing:!0}),X=(0,E.v8)(le),J=(0,y.OJ)({callsApp:Se,memberPhoneNumber:X,hideVideoApps:!1}),z=J.length,te=O(ce,pe);let $=z;return te&&($+=1),$>1?S.t("{numCallApps} calling options",{numCallApps:$}):$===1?z===0?"":S.t("using {appName}",{appName:J[0].name}):""}m(R,"getTipSubtitleForStartCall");function U(ce,pe,ye){const Ie=(0,c.I)(ce,(0,i.e)(pe));return ye?S.rt("Huddle with {name}",{name:Ie,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):S.rt("Call {name}",{name:Ie})}m(U,"getTipForIm");function x(ce,pe,ye){const Ie=(0,r.d3)(ce,pe).map(le=>(0,A.sE)(ce,le)),Se=(0,h.A)(Ie,{noEscape:!0}).join("");return ye?S.rt("Huddle with {listOfNamesWithConjunction}",{listOfNamesWithConjunction:Se,fallbackHash:"8e987d72e71ed558e674143b7f1cde8c0e13d4aa",fallbackHashNs:"huddles"}):S.rt("Call {listOfNamesWithConjunction}",{listOfNamesWithConjunction:Se})}m(x,"getTipForMpim");function B(ce,pe,ye){return(0,o.LI)(pe)?U(ce,pe,ye):(0,o.yz)(pe)?x(ce,pe,ye):ye?S.t("Huddle in {channelName}",{channelName:(0,u.SB)(ce,pe),fallbackHash:"2e4c8c4a478aa889a4b6fe33316b3d0a6d93301d",fallbackHashNs:"huddles"}):S.t("Start a call")}m(B,"getTipForChannel");function F(ce,pe){const ye=(0,d.H7)(ce),Ie=(0,_.qR)(ye),Se=Y(ce),le=Ie||Se,X=O(ce,pe)&&!w(ce);return(0,g.Pb)(ce)?le&&(0,s.F)(pe)?S.t("Unarchive this channel to start a huddle"):le&&(0,r.bU)(pe)?S.t("Join this channel to start a huddle"):(Se||se(pe),B(ce,pe,X)):S.t("Go online to start a huddle")}m(F,"getTipForStartCall");function V(ce,pe){const ye=getCurrentTeam(ce),Ie=isPaidTeamRule(ye),Se=isMpimRule(pe),le=Y(ce),X=Ie||le;return!isClientOnline(ce)||X&&isArchived(pe)||X&&isPreview(pe)||le?!1:!!(!Ie&&Se||!Ie&&isNonImOrMpimChannel(pe))}m(V,"isFreeTeamAndInChannelOrMpim");function Y(ce){const pe=(0,y.wZ)(ce);for(let ye=0;ye<pe.length;ye++)if(pe[ye].id!==C.rq)return!0;return!1}m(Y,"isThirdPartyCallEnabled");function w(ce){return(0,y.wZ)(ce).length>0}m(w,"isAnyCallAppEnabled");function G(ce){const pe=S.t("Start a call?",{fallbackHash:"04d5cae8ffd5cbdfd97d6ea2c1afe3e969b3eed7"}),ye=S.t("You\u2019ll be starting a call that all {count} members of this channel can join.",{count:ce,fallbackHash:"225ecb6662087bf4b09285688dc46d8ecb5ed2aa"}),Ie=S.t("Start Call",{fallbackHash:"291a0a58dfa6c640a90c1d868d2af190775ea219"});return{title:pe,description:ye,confirm:Ie,cancel:S.t("Cancel")}}m(G,"getCallConfirmationStrings");function Ee(){return!1}m(Ee,"isNativeSlackCallEnabled");function ne(){return!0}m(ne,"isSlackCallSlashCommandDisabled");function se(ce){return(0,D.ju)(ce)&&!(0,o.LI)(ce)}m(se,"shouldEnableForSponsoredConnections")},7561130599:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(2825968873),s=e(9323322135),n=e(7299481592),r=e(4094753332),u=e(8558782493),i=e(1224315998),o=e(336376314);const a=window.RTCPeerConnection,_=window.MediaStream,l=window.RTCIceCandidate,p=window.navigator,g={height:116,width:168};let c=m(class{async getScreenThumbnails(d){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const h=await(0,s.zxd)();v||E(this.log,h);const f=["screen"];f.push("window"),g.width=(d==null?void 0:d.width)||200,g.height=(d==null?void 0:d.height)||150;let y;try{y=await(0,s.Yx3)(g,f)}catch(C){this.log.error(`Could not get screen thumbnails: ${C.message}`)}return y?y.map((C,D)=>{var M;const P=h.find(b=>parseInt(C.display_id,10)===b.id);!P&&!(0,r.tR)()&&!(0,r.cX)()&&!(!((M=C.id)===null||M===void 0)&&M.startsWith("window:"))&&this.log.error(`Could not find matching display for screen ${D} with id ${C.display_id}`);const S=P||((0,r.tR)()||(0,r.cX)()?h[D]:void 0);return{mediaSourceId:C.id,thumbnail:C.thumbnail,displayId:S&&S.id,bounds:S&&S.bounds,name:C.name}}):[]}getCurrentlyActiveScreenTrack(){return this.screenTrack}async startCapturingScreen(d){if((0,n.M)(!this.screenTrack,"Screen track should not already be active"),!d){if(!p.mediaDevices.getDisplayMedia)throw this.log.error("Error: getDisplayMedia unavailable while trying to screen share in browser"),new Error("browser screenshare unavailable");try{const v={audio:!1,video:{frameRate:{max:15}}},h=await p.mediaDevices.getDisplayMedia(v);return this.screenTrack=h.getVideoTracks()[0],this.log.info(`Start screen sharing with track id: ${this.screenTrack.id} in browser`),this.screenTrack}catch(v){if(v.name!=="NotAllowedError")throw this.log.error(`Error: ${v.name} while trying to screen share in browser`),(0,u.k)(i.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:v.name}),v;return null}}try{const v={audio:!1,video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:d,maxFrameRate:15}}};if(!(0,r.uF)()){const f=await this.getScreenDetailsByMediaSourceId(d);f&&f.bounds&&(v.video.mandatory.maxWidth=f.bounds.width,v.video.mandatory.maxHeight=f.bounds.height)}const h=await p.mediaDevices.getUserMedia(v);return this.screenTrack=h.getTracks()[0],this.log.info("Start screen sharing with track id:",this.screenTrack.id,"and mediaSourceId:",d),this.screenTrack}catch(v){throw this.log.error(`Error: ${v.name} for screen ${d}`),(0,u.k)(i.EventId.CALLS_GET_USER_MEDIA_ERROR_SCREEN,{error:v.name}),v}}stopCapturingScreen(){if(!this.screenTrack){(0,n.M)("No screenTrack to stop.");return}this.screenTrack.stop();const d=this.screenTrack.id;return delete this.screenTrack,this.log.info("Stop screen sharing track id:",d),d}clearScreenTrack(){delete this.screenTrack}async getScreenDetailsByMediaSourceId(d){let v;const h=await this.getScreenThumbnails();return h&&(v=h.find(f=>f.mediaSourceId===d,h)),v}constructor(){this.log=(0,t.tZ)("SCREENS")}},"ScreenManager");function E(A,d){if(!d.length){A.error("No screens available");return}const v=new o.M(["id","width","height","x","y","scaleFactor","rotation"]);d.forEach(h=>{v.add([h.id,h.bounds.width,h.bounds.height,h.bounds.x,h.bounds.y,h.scaleFactor,h.rotation].map(String))}),A.info(`Available screens:
${v.report()}`)}m(E,"logDisplays")},4708000837:(W,T,e)=>{"use strict";e.d(T,{Y:()=>t});function t(s){const n=(s||"").split("-");return n&&(n.length===3||n.length===4)?n[1]:null}m(t,"getCallIdFromExternalId")},8405076696:(W,T,e)=>{"use strict";e.d(T,{n:()=>t});function t(s){let{width:n,height:r,top:u,left:i}=s;return{position:"absolute",width:`${n}px`,height:`${r}px`,top:`${u}px`,left:`${i}px`}}m(t,"cssForRect")},6117529990:(W,T,e)=>{"use strict";e.d(T,{BD:()=>n,OV:()=>s,XY:()=>i,kx:()=>u,wn:()=>r,zq:()=>o});var t=e(4761125736);function s(a){return(0,t._Z)(a,"calls_chime_sdk_exp")==="enabled"}m(s,"isCallsChimeSdkExpEnabled");const n=m(a=>(0,t._Z)(a,"calls_org_app_settings")==="treatment","isCallsOrgAppsSettingsExperimentEnabled"),r=m(a=>(0,t._Z)(a,"calls_tracing_disabled")==="treatment","isCallsTracingDisabled"),u=m(a=>(0,t._Z)(a,"call_button_suppress_window")==="treatment","isCallsWindowSuppressed"),i=m(a=>(0,t._Z)(a,"calls_location_lock")==="treatment","isCallsLocationLockEnabled"),o=m(a=>(0,t._Z)(a,"calls_disable_screenshare_border")==="treatment","isCallsScreenShareBorderDisabled")},2004048777:(W,T,e)=>{"use strict";e.d(T,{$:()=>u,Y:()=>r});var t=e(2615100822),s=e(2825968873),n=e(337319621);function r(i){let{direction:o,type:a,payload:_}=i;const l=(0,t.A)()?"slack":"call",p="INTER-WINDOW-MESSAGE";((0,t.A)()?(0,s.tZ)(p):(0,n.Wo)({label:p})).info(`${o==="send"?"Sending":"Received"} ${a} ${o==="send"?"to":"from"} the ${l} window${_?`, with payload: ${JSON.stringify(_)}`:""}`)}m(r,"logInterWindowMessage");function u(i){function o(a,_,l){let p=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;i(_,l,p),a.sendData({type:_,payload:l})}return m(o,"sendMessage"),o}m(u,"createInterWindowMessageSender")},1371073900:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(4094753332);function s(){return!(0,t.j9)()&&(0,t.y3)()}m(s,"isDrawSupported")},6267571562:(W,T,e)=>{"use strict";e.d(T,{G:()=>s});var t=e(8403493408);class s{get subscriberCount(){return this.subscribers.length}subscribe(r){this.subscribers.push(r)}unsubscribe(r){(0,t.A)(this.subscribers,r)}publish(r){this.subscribers.forEach(u=>{u(r)})}constructor(){this.subscribers=[]}}m(s,"PubSub")},6155974509:(W,T,e)=>{"use strict";e.d(T,{X:()=>E,a:()=>A});var t=e(4094753332),s=e(4387298515),n=e(2825968873),r=e(2615100822),u=e(337319621),i=e(6117529990);const o=2e3,a=6,_=0/265,l=255/265,p=53/265,g=1,c="SCREEN-SHARE",E=m((d,v)=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&!(0,i.zq)(v)&&((0,s.$m)(d,o),(0,s.VR)(d),(0,s.D0)(a),(0,s.Mh)(_,l,p,g),(0,s.Ac)(),((0,r.A)()?(0,n.tZ)(c):(0,u.Wo)({label:c})).info("Screenshare border added"))},"showBorderForWindowOrScreenId"),A=m(()=>{!(0,t.j9)()&&(0,t.dY)("4.13.1")&&((0,s.th)(),((0,r.A)()?(0,n.tZ)(c):(0,u.Wo)({label:c})).info("Screenshare border removed"))},"hideScreenShareWindowBorder")},7304871158:(W,T,e)=>{"use strict";e.d(T,{R:()=>r});var t=e(7299481592),s=e(2615100822),n=e(2004048777);const r=(0,n.$)(function(u,i){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;(0,t.M)(!(0,s.A)(),"Expected to send message from the slack window"),(0,n.Y)({direction:"send",type:u,payload:o?i:"REDACTED"})})},336376314:(W,T,e)=>{"use strict";e.d(T,{M:()=>s});var t=e(9118672869);class s{add(r){this.rows.push(r),this.adjustPadding(r)}report(){const r=this.padding.map(i=>"-".repeat(i));return(this.columnNames?[r,this.columnNames,r]:[]).concat(this.rows).reduce((i,o)=>i+o.reduce((a,_,l)=>a+(0,t.A)(_,this.padding[l])+(l!==o.length-1?` ${this.separator} `:`
`),""),"")}adjustPadding(r){this.padding=r.map((u,i)=>Math.max(u.length,this.padding[i]||0))}constructor(r,u="|"){this.columnNames=r,this.separator=u,this.padding=[],this.rows=[],this.columnNames&&this.adjustPadding(this.columnNames)}}m(s,"StringTable")},5954792826:(W,T,e)=>{"use strict";e.d(T,{l:()=>t});function t(s){const n=(s||"").split("-");return n&&(n.length===3||n.length===4)?n[2]:null}m(t,"getUserIdFromExternalId")},5075331445:(W,T,e)=>{"use strict";e.d(T,{i:()=>n});var t=e(1473609332),s=e(9195837907);function n(){var r,u;const i=(0,t.Bh)(),o=(i==null||(r=i.video)===null||r===void 0?void 0:r.effect)===s.t.Blur;return{backgroundEffectBgKey:i==null||(u=i.video)===null||u===void 0?void 0:u.effectBgKey,blurEffectIsEnabled:o}}m(n,"getVideoDeviceBackgroundPrefs")},1151228631:(W,T,e)=>{"use strict";e.d(T,{uM:()=>ce,Gf:()=>se,lQ:()=>pe});var t=e(9733150292),s=e(8289899277),n=e(3202757386),r=e(2664504268),u=e(6533394955),i=e(2567914105),o=e(7384121809),a=e(4529239752),_=e(8628205589),l=e(3193155968),p=e(9108490430),g=e(4096483543),c=e(7969636028),E=e(109860581),A=e(3034856104),d=e(8172368937),v=e(3921476227),h=e(6304789565),f=e(8720458890);const y=(0,h.Ay)("Determine if fullscreen mode is enabled",(ye,Ie)=>{const Se=Ie();return(0,f.V)(Se)});y.meta={name:"createThunk",key:"createThunkgetIsFullscreenEnabled",description:"Determine if fullscreen mode is enabled"};var I=e(9553287e3),C=e(8646192222),D=e(3875705815),M=e(8854307618),P=e(7606925238),S=e(5223893135),b=e(5925742547),O=e(9012396182);const L=m((ye,Ie)=>!(!(0,C.mL)(ye)||(0,D.V)(ye)||Ie[l.jf]!==l.k6.BBM),"shouldPreventBBMHistory"),k=m((ye,Ie,Se)=>{if(!(0,C.iB)(ye)||(0,S.V)(ye))return!1;const le=(0,o.Ry)();if((O.getFocusedWorkspace===null||O.getFocusedWorkspace===void 0?void 0:(0,O.getFocusedWorkspace)(le))!==Se)return!1;const X=(0,a.jo)(le),J=Ie[l.jf],z=X[l.jf];if(J!==z)return!1;const te=Ie[J],$=X[z];return!!(0,b.A)(te,$)},"shouldPreventDuplicateHistory"),K=(0,h.Ay)("Maybe prevent default handling of history on pop state",(ye,Ie,Se)=>{let{current:le,index:X,teamId:J}=Se;const z=Ie();if(!L(z,le)&&!k(z,le,J))return!1;const te=(0,o.Ry)(),$=(0,a.XG)(te),q=X>$;if(q){if((0,a.yS)(te))return!0}else if((0,a.m6)(te))return!0;return ye((q?M.r:P.h)()),!0});K.meta={name:"createThunk",key:"createThunkmaybePreventHistoryOnPopState",description:"Maybe prevent default handling of history on pop state"};var N=e(5250801180),R=e(2554594353);async function U(ye){const Ie=ye.state;if(!(Ie!=null&&Ie.teamId)||!(Ie!=null&&Ie.id))return;const Se=(0,o.en)();if(!Se)return;const le=Se.getState,X=Se.dispatch;if(!le||!X)return;const J=(0,a.jR)(le()),z=J.findIndex(Re=>Re.id===Ie.id);if(z<0)return;const te=(0,a.XG)(le()),$=J[te],q=Ie.state[l.jf];if((0,u.Qw)(Ie.teamId,K({current:Ie.state,index:z,teamId:Ie.teamId})))return;var de;const oe=(de=Ie.state[q])!==null&&de!==void 0?de:(0,l.DP)(q),De=(0,A.H)($)?$[l.jf]:void 0,ae=(0,A.H)($)&&De?$[De]:void 0,{viewSet:Z}=await(0,u.Qw)(Ie.teamId,(0,v.F)({context:d.b.HistoryStack,prevViewSet:ae,prevTab:De,nextViewSet:oe,nextTab:q,windowId:l.N2}));(0,u.Qw)(Ie.teamId,(0,N.I)()),Ie.state[q]=Z??oe,X((0,_.cM)({windowId:l.N2,index:z,previousIndex:te})),(0,u.Qw)(Ie.teamId,(0,p.cQ)(Ie.state)),(O.getFocusedWorkspace===null||O.getFocusedWorkspace===void 0?void 0:(0,O.getFocusedWorkspace)(le()))!==Ie.teamId&&X(R.b===null||R.b===void 0?void 0:(0,R.b)({teamId:Ie.teamId,fromNavigation:!0}));const Ce=(0,u.Qw)(Ie.teamId,y())?(0,u.Qw)(Ie.teamId,(0,I.n)({id:Ie.id})):void 0;(0,u.Qw)(Ie.teamId,(0,c.C)({prevViewSet:ae,prevTab:De,nextViewSet:oe,nextTab:q,windowId:l.N2,navigateParams:{destinationContainer:Ce},triggerType:E.w.HISTORY_NAVIGATION}))}m(U,"onPopState");function x(ye){if(!isSonic())return;const Ie=ye.state;if(!(Ie!=null&&Ie.id))return;const Se=getClientStoreInstance();if(!Se)return;const le=Se.getState,X=Se.dispatch;if(!le||!X)return;const z=getHistoryForMainWindow(le()).findIndex($=>$.id===Ie.id);if(z<0)return;const te=getHistoryIndexForMainWindow(le());X(updateIndexForMainWindow({windowId:MainWindowId,index:z,previousIndex:te}))}m(x,"onIA3PopState");var B=e(5881327370),F=e(6188550760),V=e(4748556159),Y=e(337319621);async function w(ye){var Ie;if(!(0,n.A)())return;if(!(ye==null||(Ie=ye.state)===null||Ie===void 0)&&Ie.isIA4){V.p.prevNavigatedTeamOrEnterpriseId=ye.state.teamId,U(ye);return}const Se=(0,B.oI)(),le=(0,s.f)(),X=(0,F.A_)(),J=(0,u.oK)(V.p.prevNavigatedTeamOrEnterpriseId),z=J?(0,i.oY)(J.getState()):!1,te=(0,r.A)().slice(0,8);if((0,Y.Wo)().info("ROUTES",`[${te}]`,`[${le.routeName}]`,"Attempting to popstate navigate to new route",le.params),await(0,F.$C)({prevTeamOrEnterpriseId:V.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:Se,prevRouteInfo:V.p.popstatePrevRouteInfo,routeName:le.routeName,params:le.params,reason:F.GB,uuid:te})===!1||z===!0){(0,Y.Wo)().info("ROUTES",`[${te}]`,`[${le.routeName}]`,"willNavigateListener caused early exit"),window.history.forward();return}if((0,F.OX)({prevTeamOrEnterpriseId:V.p.prevNavigatedTeamOrEnterpriseId,nextTeamOrEnterpriseId:Se,prevRouteInfo:V.p.popstatePrevRouteInfo,routeName:le.routeName,params:le.params,reason:F.GB,uuid:te}),(0,Y.Wo)().info("ROUTES",`[${te}]`,`[${le.routeName}]`,"Navigated to new route"),V.p.prevNavigatedTeamOrEnterpriseId=Se,X&&typeof X.onEnter=="function"){const q=(0,u.oK)(Se);X.onEnter.call(null,q.getState,null,window.location.pathname)}}m(w,"navigateAfterPopState");const G=m(()=>{window.addEventListener("popstate",w)},"addPopStateListener");var Ee=e(6329712420),ne=e(210422728);G();function se(){let{shouldSetFocus:ye}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const Ie=(0,s.f)(window.location.pathname,{throwOnNoRoute:!1});return Ie&&ye&&Ie.routeName!==Ee.o?Ie:null}m(se,"determineCurrentView");function ce(){return(0,F.Dd)(ye=>{let{nextTeamId:Ie,routeName:Se,params:le}=ye;(0,u.oK)(Ie)&&(0,u.Qw)(Ie,(0,ne.w)({routeName:Se,params:le}))})}m(ce,"configureUpdateCurrentRoute");function pe(ye){const Ie=(0,t._z)(ye,"lastRoute");return(0,F.EB)(Ie)?Ie:null}m(pe,"getLastRouteFromLocalConfig")},210422728:(W,T,e)=>{"use strict";e.d(T,{T:()=>n,w:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Navigate to a route");s.meta={name:"createAction",key:"createActionupdateCurrentRoute",description:"Navigate to a route"};const n=(0,t.Ay)("Set a value that represents whether the user navigated during a warm boot");n.meta={name:"createAction",key:"createActionsetUserNavigatedDuringWarmBoot",description:"Set a value that represents whether the user navigated during a warm boot"}},5820791302:(W,T,e)=>{"use strict";e.d(T,{RG:()=>b,f1:()=>k,fp:()=>L});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u;(function(K){K.BaseHeart="mask__base-heart",K.SmallHeart="mask__small-heart",K.BaseSingleChannelGuestDnd="mask__base-single-channel-guest-dnd",K.BaseSingleChannelGuest="mask__base-single-channel-guest",K.SmallSingleChannelGuestDnd="mask__small-single-channel-guest-dnd",K.SmallSingleChannelGuest="mask__small-single-channel-guest",K.BaseGuestDnd="mask__base-guest-dnd",K.BaseGuest="mask__base-guest",K.SmallGuestDnd="mask__small-guest-dnd",K.SmallGuest="mask__small-guest",K.BaseMemberDnd="mask__base-member-dnd",K.BaseMember="mask__base-member",K.SmallMemberDnd="mask__small-member-dnd",K.SmallMember="mask__small-member",K.NoAccess="mask__base-no-access"})(u||(u={}));function i(K){let{size:N="base",userType:R="member",isDnd:U=!1,hasNoAccess:x=!1}=K;return x?t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:u.NoAccess,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.542 V0.825 C0.542,0.745,0.587,0.676,0.653,0.642 C0.662,0.481,0.795,0.353,0.958,0.353 C0.972,0.353,0.986,0.354,1,0.356 V0"}))):t.createElement("svg",{className:"sr-only"},R==="slackbot"&&(N==="base"?t.createElement("clipPath",{id:u.BaseHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0,0 H1 V0.673 C0.986,0.669,0.971,0.667,0.954,0.667 C0.929,0.667,0.907,0.673,0.889,0.682 C0.87,0.673,0.849,0.667,0.824,0.667 C0.764,0.667,0.719,0.697,0.694,0.736 C0.672,0.77,0.667,0.807,0.667,0.832 C0.667,0.854,0.669,0.894,0.696,0.942 C0.707,0.962,0.721,0.981,0.739,1 H0 V0"})):t.createElement("clipPath",{id:u.SmallHeart,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.801 C0.75,0.958,0.714,0.915,0.69,0.872 C0.653,0.807,0.65,0.753,0.65,0.723 C0.65,0.689,0.658,0.64,0.687,0.594 C0.721,0.541,0.781,0.5,0.862,0.5 C0.896,0.5,0.925,0.508,0.95,0.521 C0.965,0.513,0.982,0.507,1,0.504 V0"}))),R==="ura"&&(N==="base"?U?t.createElement("clipPath",{id:u.BaseSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.825,0.763 C0.821,0.752,0.819,0.741,0.819,0.729 C0.819,0.672,0.866,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:u.BaseSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.688 C0.673,0.958,0.68,0.907,0.718,0.87 L0.87,0.718 C0.907,0.68,0.958,0.673,1,0.688 V0"})):U?t.createElement("clipPath",{id:u.SmallSingleChannelGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.864,0.63 C0.859,0.615,0.856,0.6,0.856,0.584 C0.856,0.507,0.919,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:u.SmallSingleChannelGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.707 C0.657,0.937,0.652,0.841,0.719,0.774 L0.924,0.569 C0.947,0.546,0.973,0.532,1,0.525 V0"}))),(R==="ra"||R==="external")&&(N==="base"?U?t.createElement("clipPath",{id:u.BaseGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.753,0.695,0.825,0.694 C0.84,0.654,0.878,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:u.BaseGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.704 C0.698,0.985,0.694,0.969,0.694,0.951 V0.826 C0.694,0.754,0.754,0.694,0.826,0.694 H0.951 C0.969,0.694,0.985,0.698,1,0.704 V0"})):U?t.createElement("clipPath",{id:u.SmallGuestDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"})):t.createElement("clipPath",{id:u.SmallGuest,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.73 C0.704,0.969,0.688,0.929,0.688,0.884 V0.716 C0.688,0.617,0.767,0.538,0.866,0.538 H1 V0"}))),R==="member"&&(N==="base"?U?t.createElement("clipPath",{id:u.BaseMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.795,0.742,0.716,0.827,0.69 C0.843,0.652,0.88,0.625,0.924,0.625 H1 V0"})):t.createElement("clipPath",{id:u.BaseMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.713 C0.692,0.968,0.681,0.93,0.681,0.889 C0.681,0.774,0.774,0.681,0.889,0.681 C0.93,0.681,0.968,0.692,1,0.713 V0"})):U?t.createElement("clipPath",{id:u.SmallMemberDnd,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.674,0.752,0.567,0.867,0.531 C0.888,0.48,0.938,0.444,0.997,0.444 H1 V0"})):t.createElement("clipPath",{id:u.SmallMember,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M1,0 H0 V1 H0.752 C0.701,0.949,0.669,0.878,0.669,0.8 C0.669,0.645,0.795,0.519,0.95,0.519 C0.967,0.519,0.984,0.52,1,0.523 V0"}))))}m(i,"AvatarMasks");var o=e(9843753818),a=e(9656781090),_=e(5622140641),l=e(1030162945),p=e(8822892075),g=e(9332393661),c=e(2036354333),E=e(1610251172),A=e(9742374352),d=e(2855755676),v=e(8181621268),h=e(82287009),f=e(735940183),y=e(485355941),I=e(1060768686),C=e.n(I),D=e(2979422297),M=e.n(D);function P(){return P=Object.assign||function(K){for(var N=1;N<arguments.length;N++){var R=arguments[N];for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(K[U]=R[U])}return K},P.apply(this,arguments)}m(P,"_extends");const S=new f.A("avatar"),b={xlarge:72,large:56,medium:36,small:24,verySmall:20,tiny:16},O=t.memo(K=>{let{botEmoji:N,canRenderEmoji:R}=K;return N?R?t.createElement(l.Ay,{className:"c-avatar__emoji",text:N,emojiSize:l.lw.LARGE,stopAnimations:!0,forceDisplay:!0}):t.createElement("img",{className:"c-avatar__image c-avatar__image--fallback",src:C(),srcSet:`${M()} 2x`,alt:""}):null});function L(K){let{isExternal:N,teamId:R,team:U,showTooltip:x,badgeIconType:B,badgeIconClassName:F,allowTeamInitials:V=!0}=K;if(B){const Y=F?{[F]:!!F}:{};return()=>t.createElement(E.A,{className:n()("c-avatar__icon c-avatar__nonteam_icon",{...Y}),type:B})}return N&&R?()=>t.createElement(_.A,{className:"c-avatar__icon c-avatar__team_icon",id:R,team:U,size:16,showTooltip:x,allowTeamInitials:V,ariaHidden:!0}):()=>null}m(L,"getCustomBadgeIconRenderer"),L.displayName="getCustomBadgeIconRenderer";const k=m(K=>{let{size:N,userId:R,isAdHocMember:U,botId:x,botProfile:B=void 0,imageUrl:F,imageUrl2x:V,additionalOverlay:Y,onClick:w=void 0,className:G,teamId:Ee,isExternal:ne=!1,isRestricted:se=!1,isUltraRestricted:ce=!1,isInToken:pe=!1,isDeleted:ye=!1,tokenSize:Ie=void 0,memberOrBotName:Se=void 0,showTooltip:le=!1,showCard:X=!1,showBadge:J=!0,showPresence:z=!1,badgeIconType:te=void 0,badgeIconClassName:$=void 0,isInteractive:q=!0,clogLinkClick:re=r.A,tabIndex:de=0,ariaHidden:oe=void 0,team:De=void 0,botEmoji:ae=void 0,canRenderEmoji:Z=void 0,renderCustomBadge:ie=void 0,autoClogProps:Ce=void 0,openProfile:Re=r.A,showMemberProfileInWindow:He=r.A,propagateClickEvent:be=!1,fromQuipDoc:Ue=!1,allowTeamInitials:me=!0,disableLink:ve=!1,isUserHidden:Fe=!1,onLoad:Ke=r.A,onError:j=r.A,navigate:ee,resetIA:je,userType:Te,isDnd:Je,isSlackbot:Ae,hasNoAccess:Me,"data-qa":we,"data-stringify-ignore":Ge,triggerId:Qe}=K;const fe=(0,t.useCallback)(Ne=>(Ne.preventDefault(),q?(be||Ne.stopPropagation(),re(),Ue||((0,y.Cz)(Ne)?He(R):ee&&R?ee((0,p.Fo)({memberId:R})):Re({memberId:R,serviceId:x,botProfile:B,triggerId:Qe})),w?w(Ne):null):null),[R,x,B,Qe,re,Ue,w,q,ee,Re,be,He]),Ve=m(()=>R?`/team/${R}`:x&&!ve?`/services/${x}`:"","getHrefAttr"),Be=m(()=>V?`${V} 2x`:"","getSrcSetAttribute"),Ye=m(()=>{if(Y){const Ne=Y>9?"9+":`+${Y}`;return t.createElement("div",{className:"c-avatar__additional_overlay"},Ne)}return null},"renderAdditionalOverlay");Ye.displayName="renderAdditionalOverlay";const et=m(Ne=>{let{tooltipText:Pe,className:qe}=Ne,At=t.createElement("span",{className:"c-avatar__badge_inner"});le&&(At=t.createElement(v.Ay,{tip:Pe},At));const xt=n()("c-avatar__badge",qe);return t.createElement("span",{className:xt},At)},"renderBadgeElement");et.displayName="renderBadgeElement";const at=m(()=>{const Ne=Ie?d.n[Ie]:N;if(ie!==void 0&&Ne>=32){const Pe=ie();if(Pe)return Pe}if(ie===void 0&&Ne>=32){const Pe=L({isExternal:ne,teamId:Ee,team:De,showTooltip:le,badgeIconType:te,badgeIconClassName:$,allowTeamInitials:me})();if(Pe)return Pe}return z?t.createElement(a.A,{memberId:R,inline:!1,className:"c-avatar__presence",inheritIconSize:!0,hasNoAccess:Me}):ce&&Ne>=32?et({tooltipText:m(()=>S.rt("Single-Channel Guests <span>see a partial directory and can only access messages and files from the channel they belong to.</span>",null,qe=>{let{text:At}=qe;return t.createElement("span",{className:"c-avatar__tooltip_detail"},At)}),"tooltipText"),className:"c-avatar__badge--ultra_restricted"}):se&&Ne>=32?et({tooltipText:m(()=>S.rt("Multi-Channel Guests <span>see only a partial directory and can only access messages and files from selected channels.</span>",null,qe=>{let{text:At}=qe;return t.createElement("span",{className:"c-avatar__tooltip_detail"},At)}),"tooltipText"),className:"c-avatar__badge--restricted"}):null},"renderBadgeOrPresence");at.displayName="renderBadgeOrPresence";const gt=m(()=>{let Ne=F||V;return Ie?(Ie==="large"&&V&&(Ne=V),t.createElement(g.A,{image:Ne,classes:"c-base_icon--token",srcSet:Be(),size:d.n[Ie],ariaHidden:!0,ariaRole:"img",widthOnly:!0,onLoad:Ke,onError:j,resetIA:je})):null},"renderTokenAvatar");gt.displayName="renderTokenAvatar";const Mt=m(()=>F||V?Ie||pe?gt():t.createElement(g.A,{image:F||V,size:N,srcSet:Be(),ariaHidden:!0,widthOnly:!0,onLoad:Ke,onError:j,resetIA:je}):null,"renderImageTag");Mt.displayName="renderImageTag";const Bt=m(Ne=>{let{fallback:Pe=null}=Ne,qe=Pe;return(F||V)&&(qe=Mt()),qe},"renderImageOrFallback"),Ct=ae?t.createElement(O,{botEmoji:ae,canRenderEmoji:Z}):null,Ft=N>26?"base":"small",kt=Te==="member",Et=Te==="ra"||Te==="external",mt=Te==="ura",Rt=t.useMemo(()=>z?Me?u.NoAccess:Ae&&Ft==="base"?u.BaseHeart:Ae&&Ft==="small"?u.SmallHeart:kt&&Ft==="base"&&Je?u.BaseMemberDnd:kt&&Ft==="base"?u.BaseMember:kt&&Ft==="small"&&Je?u.SmallMemberDnd:kt&&Ft==="small"?u.SmallMember:Et&&Ft==="base"&&Je?u.BaseGuestDnd:Et&&Ft==="base"?u.BaseGuest:Et&&Ft==="small"&&Je?u.SmallGuestDnd:Et&&Ft==="small"?u.SmallGuest:mt&&Ft==="base"&&Je?u.BaseSingleChannelGuestDnd:mt&&Ft==="base"?u.BaseSingleChannelGuest:mt&&Ft==="small"&&Je?u.SmallSingleChannelGuestDnd:mt&&Ft==="small"?u.SmallSingleChannelGuest:"":"",[z,Je,Ft,Et,kt,mt,Ae,Me]),Ht=n()(G,"c-avatar",{"c-avatar--no_image":!(F||V||Ct),"c-avatar--interactive":q&&!U&&!ve,"c-avatar--ad_hoc_member":U,"c-avatar--deleted_member":ye,"c-avatar--resetIA":je}),ft=Ie?d.n[Ie]:N,Jt={height:`${ft}px`,width:`${ft}px`};let Zt;x&&(Zt=q&&Ve());const Tt=Se&&(q||Zt)?S.t("View {name}\u2019s Profile",{name:Se}):void 0,Pt=Bt({fallback:Ct}),Kt={...Jt,"--avatar-image-size":`${ft}px`},dn=Ae?"slackbot":Te,sn=z||J;let H=t.createElement(t.Fragment,null,z&&Te&&t.createElement(i,{isDnd:Je,userType:dn,hasNoAccess:Me,size:Ft}),Fe?t.createElement(o.A,{className:G,size:ft}):Pt,sn&&at(),Ye());return Zt?H=t.createElement(A.A,{href:Zt,target:"_blank",rel:"noopener noreferrer",style:Jt,className:Ht,onClick:fe,tabIndex:de,"aria-hidden":oe,"aria-label":Tt,autoClogProps:Ce,"data-qa":we,"data-stringify-ignore":Ge},H):q&&!ve?H=t.createElement(c.A,{style:Jt,className:Ht,"data-qa":we,"data-stringify-ignore":Ge,"aria-hidden":oe,"aria-label":Tt,tabIndex:de,onClick:fe,autoClogProps:Ce},H):H=t.createElement("span",P({style:Kt,className:Ht},Rt?{"data-mask":Rt}:{},{"data-qa":we,"data-stringify-ignore":Ge,"aria-hidden":oe}),H),q&&X&&N>=b.medium?(0,h.yN)({memberId:R,serviceId:x,botProfile:B,children:H}):H},"BaseAvatar");k.displayName="BaseAvatar"},3208600556:(W,T,e)=>{"use strict";e.d(T,{A:()=>N});var t=e(3134334389),s=e(6122756707),n=e(5820791302),r=e(8642919232),u=e(2615727366),i=e(1335022929),o=e(4117634716),a=e(8822892075),_=e(3244118357),l=e(6052448919),p=e(8170643398),g=e(3534324375),c=e(4562579337),E=e(6536982570),A=e(7582939986),d=e(2878685908),v=e(6415587347),h=e(92812954),f=e(6045540917),y=e(8847766420),I=e(9786721596),C=e(9506008067),D=e(8677230210),M=e(6273556946),P=e(3829348308),S=e(4761125736),b=e(5761207079),O=e(3677514771);function L(){return L=Object.assign||function(R){for(var U=1;U<arguments.length;U++){var x=arguments[U];for(var B in x)Object.prototype.hasOwnProperty.call(x,B)&&(R[B]=x[B])}return R},L.apply(this,arguments)}m(L,"_extends");const k=(0,t.forwardRef)((R,U)=>{const x=(0,s.wA)();t.useImperativeHandle(U,()=>({props:R}),[R]);const{user:B,userId:F,botId:V,botProfile:Y,triggerId:w,size:G,icons:Ee,emoji:ne,team:se,slackbotFeels:ce,isUnknown:pe,showPresence:ye,isExternal:Ie,hasNoAccess:Se}=R;let le=null,X=null,J,z,te,$,q,re=ne,de,oe;const{member:De,bot:ae,memberIsHuman:Z}=(0,C.Z2)(Qe=>(0,D.Od)(Qe,{userId:F,botId:V,botProfile:Y})),{channelId:ie}=(0,t.useContext)(i.d),Ce=(0,u.u)(),Re=B||F||pe,He=Re?B||De:void 0,be=He&&!He.isUnknown&&!He.is_unknown,Ue=(0,C.d4)(Qe=>(0,S._Z)(Qe,"bot_team_id_from_member")==="on");if(be){var me;V||(de=ae==null?void 0:ae.id);let Qe;Ue?Qe=(0,E.dQ)(He):Qe=(0,c.A)(He)?(0,E.D5)(He):(0,E.dQ)(He);const fe=(0,v.Ay)({size:G,teamOrEnterpriseId:Qe,memberId:He==null?void 0:He.id,avatarHash:He==null||(me=He.profile)===null||me===void 0?void 0:me.avatar_hash,slackbotFeels:ce});le=fe==null?void 0:fe.imageUrl,X=fe==null?void 0:fe.imageUrl2x,J=Ie||(He==null?void 0:He.isExternal),z=He==null?void 0:He.is_restricted,te=He.is_ultra_restricted,$=He.id,q=(0,p.oy)(He)}oe=(0,C.d4)(Qe=>be&&J?(0,E.Ux)(Qe,He):void 0);let ve=Re?void 0:Ee||Y&&Y.icons;if(!Re){if(ae){ve=ve||ae.icons;const Qe=(0,d.Cu)()?M.O:M.U;(ae==null?void 0:ae.app_id)===Qe&&(ve=(ae==null?void 0:ae.icons)||ve)}if(!re&&ve&&(re=ve.emoji),!re){const Qe=(0,v.Ay)({size:G,botImages:ve,isBot:!0});le=Qe.imageUrl,X=Qe.imageUrl2x}}oe=(0,C.d4)(Qe=>Re?oe:(se==null?void 0:se.id)||(0,l.s)(Qe,{bot:ae,botProfile:Y,botId:V})||void 0),J=(0,C.d4)(Qe=>Re?J:oe?oe!==(0,y.Kc)(Qe):!1);const Fe=(0,C.d4)(Qe=>{if(be)return(0,g.sE)(Qe,He);if(!Re)return(0,_.Hg)(ae)}),Ke=(0,C.d4)(Qe=>{let fe=re&&oe&&(0,P.ux)(Qe,{text:re,teamId:oe});if(!fe&&re&&oe===(0,y.Kc)(Qe)){const Ve=(0,O.H7)(Qe),Be=Ve&&Ve.id;Be&&Be!==oe&&(fe=(0,P.ux)(Qe,{text:re,teamId:Be}))}return fe}),j=(0,C.d4)(Qe=>ye?(0,h.d)(Qe,F):void 0),ee=(0,C.d4)(Qe=>ye?(0,f.h)(Qe,F):!1);var je;const Te=(je=F??$)!==null&&je!==void 0?je:"",Je=(0,C.d4)(Qe=>Te?(0,b.a)(Qe,Te):!1),Ae=(0,t.useCallback)(Qe=>x((0,I.U)(Qe)),[x]),Me=(0,t.useCallback)(Qe=>x((0,r.A)(Qe)),[x]),we=(0,t.useCallback)(Qe=>x(Ce&&ie?(0,o.o)((0,a.sL)(Qe,ie,Ce.id)):(0,o.o)(Qe)),[x,Ce,ie]),Ge=Z||ae&&!(0,p.v3)(ae)||w;return t.createElement(n.f1,L({},R,{userId:F,imageUrl:le||void 0,imageUrl2x:X||void 0,botEmoji:re,canRenderEmoji:!!Ke,teamId:oe,isRestricted:z,isUltraRestricted:te,isDeleted:q,memberOrBotName:Fe,botId:de||V,disableLink:!Ge,isExternal:J,isUserHidden:Je,userType:j,isDnd:ee,isSlackbot:F===A.Q$,size:G,openProfile:Ae,showMemberProfileInWindow:Me,navigate:we,hasNoAccess:Se,showPresence:ye,triggerId:w}))}),K=t.memo(k);K.displayName="ConnectedAvatar";const N=K},3150724727:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>n,RG:()=>s.RG,f1:()=>s.f1,fp:()=>s.fp});var t=e(3208600556),s=e(5820791302);const n=t.A},9843753818:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(8683010724);function u(o){let{className:a="",size:_,"data-qa":l}=o;return t.createElement("span",{className:n()(a,"c-hidden_user_avatar",{"c-hidden_user_avatar--small":_===16}),style:{width:`${_}px`,height:`${_}px`},"data-qa":l},t.createElement("span",{className:"c-hidden_user_avatar--icon"},t.createElement(r.A,{size:_<=24?"16":"24",name:"user-hide"})))}m(u,"HiddenUserAvatar"),u.displayName="HiddenUserAvatar";const i=t.memo(u)},6968234170:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(8683010724),n=e(735940183);const r=new n.A("members");function u(){return t.createElement("span",{className:"c-hidden_user_icon_and_name "},t.createElement(s.A,{name:"user-hide",inline:!0}),"\xA0",r.t("Name hidden"))}m(u,"HiddenUserIconAndName"),u.displayName="HiddenUserIconAndName";const i=t.memo(u)},2068755951:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(9113979368),n=e(1030162945),r=e(6818330210),u=e(9506008067),i=e(2374999399);function o(_){let{memberId:l,className:p,emoji:g,emojiSize:c,showTooltips:E,stopAnimations:A}=_;const d=(0,u.F3)(f=>(0,i.A)(f,l));if(!l||!g)return null;const{name:v=g,url:h=void 0}=d?(0,r.H)(g,(0,s.A)(d)?void 0:d):{};return t.createElement(n.Ay,{className:p,emojiSize:c||n.lw.SMALL,iconInTextMode:!0,isEmojiInlineWithText:!0,showTooltip:!!E,stopAnimations:!!A,text:v,url:h})}m(o,"CustomStatusEmoji"),o.displayName="CustomStatusEmoji";const a=t.memo(o)},5420562392:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(3134334389),s=e(8026164541),n=e(735940183),r=e(9391594207),u=e(1345620242),i=e(2047021170);const o=new n.A("current_status");function a(p){let{className:g,expiration:c,time24:E}=p;if(!c)return null;const A=c*1e3,d=o.t("Until {expirationDate}",{expirationDate:(0,s.A)(A,"{status_expiration}",{do24hrTime:E,shouldCapitalize:!1})});return t.createElement("span",{className:g,"data-qa-status-expiration":c},d)}m(a,"CustomStatusExpiration"),a.displayName="CustomStatusExpiration";function _(p,g){let{memberId:c}=g;return{expiration:(0,u.A)(p,c||"")||0,time24:!!(0,i.ty)(p,"time24")}}m(_,"mapStateToProps");const l=(0,r.N)(_)(a)},6849520570:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(3134334389),s=e(1030162945),n=e(7969928607),r=e(9506008067),u=e(2374999399);function i(a){let{memberId:_,className:l,emojiSize:p,showTooltips:g,stopAnimations:c,text:E}=a;const A=(0,r.F3)(d=>_?(0,u.A)(d,_):void 0);return E?t.createElement("span",{className:l,"data-qa":"custom_status_text"},t.createElement(n.A,{text:E,inputIsEscaped:!0,emojiSize:p||s.lw.MEDIUM,showTooltips:!!g,stopAnimations:!!c,emojiDisplayInfo:A})):null}m(i,"CustomStatusText"),i.displayName="CustomStatusText";const o=t.memo(i)},4743059565:(W,T,e)=>{"use strict";e.d(T,{A:()=>D});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2068755951),u=e(5420562392),i=e(9113979368),o=e(6849520570),a=e(1030162945),_=e(8170643398),l=e(6818330210),p=e(9392104102),g=e(9506008067),c=e(8276911661),E=e(2374999399),A=e(2072540560);function d(){return d=Object.assign||function(M){for(var P=1;P<arguments.length;P++){var S=arguments[P];for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(M[b]=S[b])}return M},d.apply(this,arguments)}m(d,"_extends");const v={noLinking:!1},h=m(M=>{let{stopAnimations:P=!1,noText:S=!1,className:b,memberId:O="",noLinking:L,showEmojiTooltip:k=!1,insertTextSpacing:K=!1,displayInMemberProfile:N=!1,displayEmojiTextAsFallbackIfNoText:R=!1,emoji:U}=M;const x=(0,g.d4)(G=>(0,A.A)(G,O)),B=(0,g.d4)(G=>(0,_.fy)((0,c.nv)(G,O))),F=(0,g.F3)(G=>R?(0,E.A)(G,O):p.t0),V=R&&!x&&!S&&!N;let Y=U;if(V){const G=(0,l.H)(U,(0,i.A)(F)?void 0:F);G&&(Y=G.name)}let w=p.t0;return L===!1&&(w=v),N?t.createElement("span",{className:b},t.createElement(r.A,{memberId:O,emoji:U,stopAnimations:P,showTooltips:k,emojiSize:a.lw.MEDIUM,className:"c-custom_status__emoji_in_member_profile"}),x&&t.createElement(o.A,d({memberId:O,className:n()("margin_left_50","padding_right_50",{margin_right_100:B}),emojiSize:a.lw.SMALL,stopAnimations:P,text:S?"":x},w))):t.createElement("span",{className:b},t.createElement(r.A,{memberId:O,showTooltips:k,emojiSize:a.lw.SMALL,emoji:U,stopAnimations:P}),x&&t.createElement(o.A,d({memberId:O,className:K?"margin_left_50":"margin_left_25",emojiSize:a.lw.SMALL,stopAnimations:P,text:S?"":x},w)),V&&Y&&t.createElement("span",{className:K?"margin_left_50":"margin_left_25"},Y))},"CustomStatusTooltipContent");h.displayName="CustomStatusTooltipContent";const f=t.memo(h);var y=e(2312625946),I=e(193084903);const C=m(M=>{let{animated:P=!1,tooltip:S=!0,tipPosition:b,noText:O=!1,className:L,memberId:k="",noLinking:K,showEmojiTooltip:N=!1,insertTextSpacing:R=!1,displayInMemberProfile:U=!1,fallback:x}=M;const B=(0,g.d4)(V=>(0,I.A)(V,k)),F=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement(f,{className:"c-custom_status__tooltip",noText:O,memberId:k,noLinking:K,showEmojiTooltip:N,insertTextSpacing:R,displayInMemberProfile:U,emoji:B,displayEmojiTextAsFallbackIfNoText:!0}),t.createElement(u.A,{className:"c-custom_status__expiration",memberId:k})),[k,O,K,N,R,U,B]);return B?S?t.createElement(y.Ay,{tip:F,position:b,zIndex:"above_fs","data-qa":"custom_status_tooltip"},t.createElement("span",{className:n()("c-custom_status",L),"data-qa":"custom_status"},t.createElement(r.A,{memberId:k,showTooltips:!1,emojiSize:a.lw.SMALL,emoji:B,stopAnimations:!P}))):t.createElement(f,{className:n()(L,"c-custom_status","c-custom_status--inline",{display_flex:U}),stopAnimations:!P,noText:O,memberId:k,noLinking:K,showEmojiTooltip:N,insertTextSpacing:R,displayInMemberProfile:U,emoji:B}):x||null},"CustomStatus");C.displayName="CustomStatus";const D=t.memo(C)},605958036:(W,T,e)=>{"use strict";e.d(T,{A:()=>n,j:()=>s.A});var t=e(4743059565),s=e(5420562392);const n=t.A},2805783620:(W,T,e)=>{"use strict";e.d(T,{A:()=>v});var t=e(3134334389),s=e(1649982175),n=e(3297051565),r=e.n(n),u=e(9262712126),i=e(8921478798),o=e(3534324375),a=e(735940183),_=e(9391594207),l=e(5761207079);function p(){return p=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var y=arguments[f];for(var I in y)Object.prototype.hasOwnProperty.call(y,I)&&(h[I]=y[I])}return h},p.apply(this,arguments)}m(p,"_extends");const g=new a.A("files"),c={name:r().string.isRequired,isChannelFiles:r().bool,showMemberNameIfHidden:r().bool},E={isChannelFiles:!1,showMemberNameIfHidden:!1},A=m(h=>{const f=(0,s.A)(h,["id","name","dispatch","firstName","skipPrefCompliance","isChannelFiles","showMemberNameIfHidden"]);let y=h.name;if(h.isChannelFiles){const I=h.name;y=g.t("Shared by {memberName}",{memberName:I})}return t.createElement("span",p({},f),y)},"MemberName");A.displayName="MemberName",A.propTypes=c,A.defaultProps=E;const d=m((h,f)=>{const{id:y,member:I,skipPrefCompliance:C,showMemberNameIfHidden:D}=f;if(C)return{name:(0,u.wg)(I)};let M;return!D&&(0,l.a)(h,y)?M=g.t("Name hidden"):M=I?(0,o.sE)(h,I,!1,!1,C,!1):(0,i.I)(h,y,!1,!1,!1,!1),{name:M}},"mapStateToProps"),v=(0,_.N)(d)(A)},8064950432:(W,T,e)=>{"use strict";e.d(T,{I:()=>a,a:()=>_});var t=e(3134334389),s=e(7969928607),n=e(1407713935),r=e(8920264989),u=e(6163112184),i=e(9506008067),o=e(9101533895);const a=t.memo(l=>{let{name:p}=l;return t.createElement(s.A,{text:p,showTooltips:!1,inputIsEscaped:!0})}),_=t.memo(l=>{let{channel:p,channelId:g,name:c,displayNameOptions:E}=l;const A=(0,i.d4)(u.h),d=(0,i.d4)(y=>p??(0,o.OL)(y,g)),v=(0,n.yz)(d),h=(0,i.d4)(y=>c??(0,r.SB)(y,d,E));return A&&v?t.createElement(a,{name:h}):h})},6818173548:(W,T,e)=>{"use strict";e.d(T,{A:()=>D,k:()=>h});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(531406119),u=e(1588480853),i=e(9991962665),o=e(516467206),a=e(1407713935),_=e(4559887502),l=e(6007206761),p=e(2671211451),g=e(3877384923),c=e(337319621),E=e(4757466470),A=e(9391594207),d=e(9101533895);function v(){return v=Object.assign||function(M){for(var P=1;P<arguments.length;P++){var S=arguments[P];for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(M[b]=S[b])}return M},v.apply(this,arguments)}m(v,"_extends");function h(M){return!(0,a.LI)(M)&&!(0,a.yz)(M)}m(h,"shouldUseInlineChannelEntity");const f="INLINE-CHANNEL-ENTITY";function y(M){let{className:P,channel:S,bestFormerName:b,displayFormerNames:O=g.P.false,logger:L,boldIcon:k=!1,showTeam:K=!0,truncate:N=!1,truncateWidth:R,overrideHiddenName:U,overrideHiddenIcon:x,withTruncationTooltip:B,channelNameClassName:F,omitNonExistentTooltip:V,channelHasNonUniqueName:Y=!1,showDisambiguatingTeamName:w=!1}=M;const G=(0,a.t8)(S),Ee=(0,a.QR)(S||null),ne=(0,t.useCallback)(le=>{let{className:X,...J}=le;return(!Ee||x)&&t.createElement(i.A,v({},J,{bold:k,className:X,channel:S,overrideHiddenIcon:x}))},[S,k,Ee,x]);if(!h(S||null))return L==null||L.warn(f,"InlineChannelEntity should not display IMs or MPIMs"),null;const se=n()(P,"c-inline_channel_entity"),ce=(0,l.F)(S)?g.pI.dim:void 0,pe=S&&U?{...S,name:U}:S||void 0,ye=n()(F,"c-inline_channel_entity__content"),Ie=Y&&w,Se=(G||Ee)&&!U?t.createElement(o.A,{"data-qa":"inline_channel_entity__missing",type:G?"unknown":"non-existent",size:"small",width:R,omitNonExistentTooltip:V}):t.createElement("span",{className:ye},t.createElement(r.A,{bold:k,channel:pe,bestFormerName:b,displayFormerNames:O,showTeam:K,showTeamForLocalChannel:Ie,width:R,"data-qa":"inline_channel_entity__name",overrideHiddenName:U}));return t.createElement(p.A,{avatar:ne,className:se,"data-qa":"inline_channel_entity","data-channel-id":S&&S.id,style:ce,truncate:N,truncateWidth:R,withTruncationTooltip:B,primaryContent:Se,secondaryContent:R&&t.createElement(t.Fragment,null,K&&t.createElement(u.A,{className:"c-inline_channel_entity__team",iconSize:14,channel:pe,"data-qa":"inline_channel_entity__team"}))})}m(y,"InlineChannelEntity"),y.displayName="InlineChannelEntity";function I(M){return Object.prototype.hasOwnProperty.call(M,"channel")}m(I,"propsContainsChannel");function C(M,P){const S=I(P)?P.channel:(0,d.OL)(M,P.channelId);let b;return P.showDisambiguatingTeamName&&(b=(0,_.i)((0,d.MS)(M),S)),{channel:S,channelHasNonUniqueName:b,logger:(0,c.Ay)({state:M})}}m(C,"mapStateToProps");const D=(0,A.N)(C,null,null,{areStatePropsEqual:E.kt})(y)},2768501508:(W,T,e)=>{"use strict";e.d(T,{A:()=>P});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(6696292586),u=e(1253757845),i=e(531406119),o=e(516467206),a=e(3929724715),_=e(1407713935),l=e(4559887502),p=e(6007206761),g=e(5273017660),c=e(3877384923),E=e(337319621),A=e(735940183),d=e(9391594207),v=e(9101533895),h=e(8286248123);function f(){return f=Object.assign||function(S){for(var b=1;b<arguments.length;b++){var O=arguments[b];for(var L in O)Object.prototype.hasOwnProperty.call(O,L)&&(S[L]=O[L])}return S},f.apply(this,arguments)}m(f,"_extends");const y=new A.A("channel_entity"),I="SMALL-CHANNEL-ENTITY";function C(S){let{className:b,channel:O,bestFormerName:L,inlineNameSuffix:k,invert:K=!1,logger:N,displayFormerNames:R=c.P.false,showTeamForLocalChannel:U,showDraftIcon:x=!1,showFilledIcon:B=!1,showTeam:F,memberCount:V,onlyBoldIfUnread:Y=!1,showTruncatedChannelNameTooltip:w=!1,"data-qa":G="small_channel_entity",channelHasNonUniqueName:Ee=!1,showDisambiguatingTeamName:ne=!1}=S;const se=(0,t.useCallback)($=>t.createElement(u.A,f({},$,{className:"c-small_channel_entity__icon",channel:O,size:c.RG.small,showDraftIcon:x,showFilledIcon:B})),[O,x,B]);if((0,_.LI)(O)||(0,_.yz)(O))return N==null||N.warn(I,"SmallChannelEntity should not display IMs or MPIMs"),null;const ce=n()(b,"c-small_channel_entity"),pe=!Y||(0,a.KJ)(O),ye=(0,_.t8)(O),Ie=(0,_.QR)(O);let Se=(0,p.F)(O)?c.pI.dim:void 0;K&&(Se=c.pI.highlightDark);let le=null;if((0,r.A)(V)){const $=y.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:V,fallbackHash:"c8e3bc8a761a13ce8f87cea7ebb3009bccee1a21",fallbackHashNs:"user_group_entity"});le=t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix normal","aria-label":$},"(",V,")")}const X=Ee&&ne,J=t.createElement(i.A,{channel:O,bestFormerName:L,inlineNameSuffix:k,displayFormerNames:R,showTeamForLocalChannel:U||X,showTeam:F,bold:!!pe}),z=w?t.createElement(g.CG,{withTruncationTooltip:!0},J):J,te=n()("c-small_channel_entity__content","c-small_channel_entity__content--xws",{"c-small_channel_entity__content--show-truncated-tooltip":w});return t.createElement(g.Ay,{avatar:se,className:ce,"data-qa":G,size:"small",style:Se,text:t.createElement(g.CG,null,ye||Ie?t.createElement(o.A,{type:ye?"unknown":"non-existent",invert:K,size:"small"}):t.createElement("span",{className:te},z,k&&t.createElement("span",{className:"c-small_channel_entity__inline_name_suffix"},k),le))})}m(C,"SmallChannelEntity"),C.displayName="SmallChannelEntity";function D(S){return Object.prototype.hasOwnProperty.call(S,"channel")}m(D,"propsContainsChannel");function M(S,b){let O;if(b.showMemberCounts){const K=(0,h.q8)(S,D(b)?(0,a.FB)(b.channel):b.channelId);O="counts"in K?K.counts.member_count:void 0}const L=D(b)?b.channel:(0,v.OL)(S,b.channelId);let k;return b.showDisambiguatingTeamName&&(k=(0,l.i)((0,v.MS)(S),L)),{memberCount:O,channel:L,logger:(0,E.Ay)({state:S,label:I}),channelHasNonUniqueName:k}}m(M,"mapStateToProps");const P=(0,d.N)(M)(C)},8099711795:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(3134334389),s=e(2768501508),n=e(2828836153),r=e(3877384923),u=e(9163962844),i=e(9391594207),o=e(9101533895);function a(){return a=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var d=arguments[A];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(E[v]=d[v])}return E},a.apply(this,arguments)}m(a,"_extends");function _(E,A,d){if(E)return A||d?r.pI.highlightDim:r.pI.highlightDark;if(A||d)return r.pI.dim}m(_,"getBaseStyle");function l(E){let{className:A,secondaryContent:d,isActive:v=!1,isDeactivated:h=!1,isDisabled:f=!1,showUnreadBadge:y=!1,badgeCount:I=0,onlyBoldIfUnread:C=!1,...D}=E,M=d;y&&(M=t.createElement("div",{className:"c-small_channel_entity__secondary-content-badge"},d,t.createElement(u.A,{count:I,className:"c-channel_entity__mentions",style:v?u.r.white:u.r.red})));const P=_(v,f,h);return t.createElement(n.A,{className:A,primaryContent:t.createElement(s.A,a({invert:P===r.pI.highlightDark,onlyBoldIfUnread:C},D)),secondaryContent:M,size:"small",style:P})}m(l,"SmallChannelListEntity"),l.displayName="SmallChannelListEntity";function p(E){return Object.prototype.hasOwnProperty.call(E,"channel")}m(p,"propsContainsChannel");function g(E,A){const d=p(A)?A.channel:(0,o.OL)(E,A.channelId),v=A.showUnreadBadge?A.badgeCount||(0,o.TJ)(E,d):0;return{channel:d,badgeCount:v}}m(g,"mapStateToProps");const c=(0,i.N)(g)(l)},1253757845:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2150442287),u=e(1407713935),i=e(3877384923),o=e(8683010724),a=e(9506008067);function _(){return _=Object.assign||function(g){for(var c=1;c<arguments.length;c++){var E=arguments[c];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A])}return g},_.apply(this,arguments)}m(_,"_extends");function l(g){let{size:c=i.RG.medium,className:E,channel:A,showDraftIcon:d=!1,showFilledIcon:v=!1}=g;const h=(0,u.t8)(A),f=(0,a.d4)(y=>(0,r.Ay)(y,A,{filled:v,showDraftIcon:d}));return c!==i.RG.small&&(f.inline=!0),t.createElement("span",{className:n()("c-channel_icon",{"c-channel_icon--unknown":h,"c-channel_icon--with-background":c!==i.RG.small},E),"data-channel-type-icon":(f==null?void 0:f.name)||"unknown"},!h&&t.createElement(o.A,_({},c===i.RG.small?{size:"18"}:{},f)))}m(l,"ChannelIcon"),l.displayName="ChannelIcon";const p=l},531406119:(W,T,e)=>{"use strict";e.d(T,{A:()=>O});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(9113979368),u=e(1588480853),i=e(9991962665),o=e(6159136815),a=e(3929724715),_=e(8920264989),l=e(6007206761),p=e(395285811),g=e(4630136761),c=e(2647703359),E=e(3634593162),A=e(6839188756),d=e(3877384923),v=e(82287009),h=e(4518138713),f=e(4413566926),y=e(8374895239),I=e(9391594207),C=e(937317117),D=e(3677514771);function M(){return M=Object.assign||function(L){for(var k=1;k<arguments.length;k++){var K=arguments[k];for(var N in K)Object.prototype.hasOwnProperty.call(K,N)&&(L[N]=K[N])}return L},M.apply(this,arguments)}m(M,"_extends");const P=new f.Ay("search");function S(L){const{bestFormerName:k,bold:K=!0,channel:N,channelName:R,overrideHiddenName:U,width:x,displayFormerNames:B=d.P.true,isChannelFrozenAndInGracePeriod:F,showTeam:V=!0,showTeamForLocalChannel:Y=!1,showTeamName:w,titleBlocks:G}=L,Ee=(0,l.F)(N)&&!F;let ne=`${U??R}${Ee?` ${P.t("(archived)")}`:""}`,se;if(B)if(k){const pe=t.createElement(i.A,{bold:K,className:"c-channel_name__former_channel_icon",channel:N}),ye=t.createElement("span",{className:"c-channel_name__former_name_text"},t.createElement(o.A,{text:k,showTooltips:!1}));se=k&&t.createElement("span",{className:"c-channel_name__suffix"},P.rt(" (formerly {icon}{name})",{icon:pe,name:ye}))}else{let pe;const ye=(0,a.Hx)(N);if(ye&&!(0,r.A)(ye)){const Ie=ye.map(le=>`#${le}`);pe=(0,y.A)(Ie,{noConj:!0}).join("")}pe&&(ne+=` ${P.t("(formerly {names})",{names:pe})}`)}const ce=n()("c-channel_entity__name",{"c-channel_entity__name--bold":K});return t.createElement(t.Fragment,null,t.createElement("span",M({className:ce},(0,h.A)(L)),G??t.createElement(t.Fragment,null,t.createElement(o.A,{text:ne,showTooltips:!1}),B&&se)),!x&&t.createElement(t.Fragment,null,V&&t.createElement(u.A,{className:"c-channel_entity__team",iconSize:d.RG.inline,channel:N,"data-qa":"channel_entity__team",shouldRender:Y,showTeamName:w})))}m(S,"ChannelName"),S.displayName="ChannelName";function b(L,k){let{channel:K,includeChannelPrefix:N}=k;const R=(0,D.H7)(L)||(0,D.lp)(L),U=(0,A.ZT)(R),x=K&&(0,p.jT)(K)&&(0,E.l)(K.id),B=x?(0,C.Lp)(L,x):void 0,F=B&&(0,c.U9)(B)?(0,v.GU)({id:x,fileId:x,size:"caption",truncate:!1}):null;var V;return{channelName:(V=(0,_.SB)(L,K,{publicChannelIncludeHashSign:!!N,imIncludeAtSign:!1}))!==null&&V!==void 0?V:void 0,titleBlocks:F,isChannelFrozenAndInGracePeriod:(0,g.sP)(U,K)}}m(b,"mapStateToProps");const O=(0,I.N)(b)(S)},1588480853:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3929724715),u=e(5373179915),i=e(6839188756),o=e(9391594207),a=e(9101533895),_=e(3677514771);let l=m(class extends t.Component{render(){const{shouldRender:E,team:A,className:d}=this.props;return!E||!A?null:t.createElement("div",{className:n()("c-channel_team","c-channel_team--xws",d),"data-qa":"channel_team"},t.createElement("span",{className:"c-channel_team__name"},(0,i.F1)(A)))}},"ChannelTeam");l.displayName="ChannelTeam";const p=m((c,E)=>{let{channel:A,channelId:d,shouldRender:v}=E;const h=A||(0,a.OL)(c,d),f=(0,u.R)(c,h);let y;if((0,r.lo)(h))y=(0,_._J)(c,(0,r.bK)(c,h));else if(v||f){const I=(0,r.ne)(c,h);y=(I?(0,_._J)(c,I):void 0)||(0,_.H7)(c)}return{shouldRender:v||f||!!(0,r.lo)(h),team:y??void 0}},"mapStateToProps"),g=(0,o.N)(p)(l)},9991962665:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2150442287),u=e(1407713935),i=e(8683010724),o=e(9506008067);function a(){return a=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var c=arguments[g];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(p[E]=c[E])}return p},a.apply(this,arguments)}m(a,"_extends");const _=m(p=>{let{className:g,filled:c,bold:E,channel:A,disableArchived:d,overrideHiddenIcon:v}=p;const h=(0,o.d4)(y=>v||(0,r.Ay)(y,A,{filled:c||(0,u.Zp)(A),bold:E,disableArchived:d})),f=n()(g,{"c-inline_channel_icon c-inline_channel_icon--space":!0});return t.createElement("span",{className:f,"data-inline-channel-type-icon":h.name},t.createElement(i.A,a({inline:!0},h)))},"InlineChannelIcon");_.displayName="InlineChannelIcon";const l=t.memo(_)},2150442287:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>M,PR:()=>C,pH:()=>y});var t=e(5892132962),s=e(3929724715),n=e(1407713935),r=e(6007206761),u=e(395285811),i=e(4630136761),o=e(2647703359),a=e(3634593162),_=e(6839188756),l=e(9101533895),p=e(937317117),g=e(3677514771);const c={name:"archive"},E={name:"archive",variation:"filled"},A={name:"edit"},d={name:"edit",variation:"filled"},v={name:"file"},h={name:"lists"},f={name:"lock"},y={name:"lock",variation:"filled"},I={name:"channel"},C={name:"channel",variation:"filled"},D={name:"canvas"};function M(P,S){let{filled:b,bold:O,disableArchived:L,showDraftIcon:k}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{filled:!1,bold:!1,disableArchived:!1,showDraftIcon:!1};const K=(0,g.H7)(P)||(0,g.lp)(P),N=(0,_.ZT)(K);if(!(0,i.sP)(N,S)&&((0,r.F)(S)&&!L||(0,i.Zz)(S)))return b?E:c;if(k&&(0,s.yc)(P,S.id))return b?d:A;if((0,u.jT)(S)){const U=(0,p.Lp)(P,(0,a.l)(S.id));if((0,o.wL)(U))return D;if((0,o.aD)(U)){const x=(0,l.Pf)(P,U.id),B=(0,l.OL)(P,x);return(0,n.Zp)(B)||(0,n.JM)(B)?b?y:f:D}return(0,o.l7)(U)?h:v}const R=(0,t.sc)(S);return R||((0,n.Zp)(S)?b?y:f:O?C:I)}m(M,"getChannelIconType")},7577304499:(W,T,e)=>{"use strict";e.d(T,{A:()=>E});var t=e(3134334389),s=e(7958934443),n=e(4541034515),r=e(2647703359),u=e(7747467459),i=e(8921478798),o=e(6954805277),a=e(735940183),_=e(9391594207),l=e(2047021170);const p=new a.A("files");function g(A){let{file:d,time24:v,isChannelFiles:h,useSeparator:f,excludeTime:y,displaySharedBy:I,documentUnfurlTs:C=void 0,name:D,isCreator:M=!1}=A;const P=h||I;let S;const b="\xB7",O="\xA0\xA0";P?S=null:f||C?S=[O,b,O]:S=O;const L=M&&(d!=null&&d.created)?d.created:(0,r.VP)(d);let k,K;if(L){const F=(0,o.Od)(L,{shortenMonth:!0});k=F;let V;if(P)if(F==="Today"||F==="Yesterday"){const w=F.toLowerCase();V=p.t("{newDate}",{newDate:w})}else V=p.t("on {date}",{date:F});else V=F;const Y=y?V:p.t("{date} at {time}",{date:F,time:(0,o.Yq)(L,"{time}",{do24hrTime:v})});K=t.createElement(t.Fragment,null,S,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-timestamp"},Y))}let N=d.bot_id?t.createElement(n.A,{id:d.bot_id,isChannelFiles:P,isWorkflow:!1,"data-qa":"file-entity-metadata-user",className:"margin_right_0"}):t.createElement(s.A,{name:D,isChannelFiles:P,"data-qa":"file-entity-metadata-user",inline:!0,isBold:!1,isCreator:M,className:"margin_right_0"});(0,r.aD)(d)&&d.user==="USLACKBOT"&&(N=t.createElement("span",{className:"margin_right_25"},p.t("Shared")));const R=C&&(0,o.Od)(C,{shortenMonth:!0});let U=!1,x;R&&(R.includes("Today")||R.includes("Yesterday")?x=p.t("Added {readableTs}",{readableTs:R}):x=p.t("Added on {readableTs}",{readableTs:R}),k&&(U=k===R));let B;return x&&(B=t.createElement(t.Fragment,null,S,t.createElement("span",{className:"c-file_entity-user-timestamp__timestamp","data-qa":"file-entity-metadata-unfurl-in-canvas-timestamp"},x))),(0,u.A)(d)||(0,r.aK)(d)||(0,r.c4)(d)?null:t.createElement(t.Fragment,null,N,U?t.createElement(t.Fragment,null," ",B):t.createElement(t.Fragment,null," ",K,B))}m(g,"FileEntityUserTimestamp"),g.displayName="FileEntityUserTimestamp";const c=m((A,d)=>({time24:(0,l.ty)(A,"time24"),name:(0,i.I)(A,d.file.user||"",!1,!1,!1,!1)}),"mapStateToProps"),E=(0,_.N)(c)(g)},506098956:(W,T,e)=>{"use strict";e.d(T,{A:()=>h});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3750057149),u=e(7958934443),i=e(3037015781),o=e(8170643398),a=e(9262712126),_=e(4562579337),l=e(2671211451),p=e(3877384923),g=e(9391594207),c=e(5761207079),E=e(8276911661),A=e(3146663623);function d(f){const{className:y,forceRealName:I=!1,id:C,member:D,truncate:M=!1,truncateWidth:P,withTruncationTooltip:S=!1,"data-qa":b="inline_member_entity",isBold:O=!0,showAppOrBotBadge:L,isUserHidden:k=!1}=f,K=n()(y,"c-inline_member_entity"),N=(0,_.A)(D),R=(0,o.v3)(D),U=(0,o.oy)(D),x=(0,i.lv)(D),B=(0,i.mX)(D),F=(0,a.wg)(D),V=(0,a.Fh)(D);let Y;I||!V?Y=F:Y=V;const w=U?p.pI.dim:void 0;return t.createElement(l.A,{className:K,"data-qa":b,"data-member-id":C||(D==null?void 0:D.id),style:w,truncate:M,truncateWidth:P,withTruncationTooltip:S,primaryContent:t.createElement("span",{className:"c-inline_member_entity__content"},t.createElement(u.A,{isBold:O,name:Y,inline:!0,"data-qa":"inline_member_entity__name",isAppOrBot:N,isWorkflowBot:R,isDeleted:U,isNonExistent:x,isUnknown:B,showAppOrBotBadge:L,isUserHidden:k}))})}m(d,"InlineMemberEntity"),d.displayName="InlineMemberEntity";function v(f,y){let{forceRealName:I,member:C,id:D}=y;const M=C||(0,E.nv)(f,D);return{member:M??void 0,forceRealName:(0,r.A)(I)?I:(0,A.E)(f),isUserHidden:M&&(0,c.a)(f,M.id)}}m(v,"mapStateToProps");const h=(0,g.N)(v)(d)},5585462770:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>K,lP:()=>O});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3150724727),u=e(605958036),i=e(7958934443),o=e(9283547879),a=e(6916052175),_=e(3037015781),l=e(3929724715),p=e(8170643398),g=e(9262712126),c=e(3534324375),E=e(4562579337),A=e(1464713483),d=e(51460783),v=e(161084047),h=e(3534100833),f=e(3877384923),y=e(8683010724),I=e(2809903252),C=e(82287009),D=e(9391594207),M=e(9101533895),P=e(5761207079),S=e(8276911661);function b(){return b=Object.assign||function(N){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var x in U)Object.prototype.hasOwnProperty.call(U,x)&&(N[x]=U[x])}return N},b.apply(this,arguments)}m(b,"_extends");const O={right:"right",bottom:"bottom"};function L(N){const{className:R,id:U,invert:x=!1,member:B,memberPrimaryName:F,memberSecondaryName:V,secondaryContent:Y,secondaryContentPosition:w=O.bottom,subtext:G,showSubtext:Ee=!0,showAvatar:ne=!0,showDraftIcon:se=!1,showPresence:ce=!0,showStatus:pe=!0,showTooltip:ye=!0,showAppOrBotBadge:Ie=!0,isDeactivated:Se=!1,useShortMode:le,showHoverCard:X=!1,forwardedRef:J,"data-sk":z="medium_member_entity","data-qa":te="medium_member_entity",isUserHidden:$=!1,noStatusText:q=!1,showBadgeOnTextTruncation:re,description:de=""}=N,oe=(0,E.A)(B),De=(0,p.v3)(B),ae=(0,p.oy)(B),Z=(0,p.fy)(B),ie=(0,p.hh)(B),Ce=(0,a.uG)(B),Re=(0,_.lv)(B),He=(0,_.mX)(B),be=t.createElement(i.A,{"data-qa":"member-entity__primary-name",name:F,invert:x&&!Se,isAppOrBot:oe,isWorkflowBot:De,showAppOrBotBadge:Ie,isDeleted:ae,isSelf:Z,isNonExistent:Re,isUnknown:He,isUserHidden:$,showBadgeOnTextTruncation:re,isAgent:Ce}),Ue=(0,C.yN)({memberId:U,children:be}),me=!$&&t.createElement(h.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},V),ve=B&&t.createElement(v.A,{className:"c-member__title","data-qa":"member-entity__title"},(0,p.rN)(B)),Fe=!ae&&!ie&&t.createElement(o.Ay,{memberId:U,className:"c-member__presence",invert:x&&!Se,"data-qa":"member-entity__presence",inline:!1}),Ke=t.createElement(u.A,{memberId:U,tooltip:ye,animated:le,className:"c-member__current-status c-member__current-status--medium","data-qa":"member-entity__status",noText:q}),j=w===O.bottom&&Y?t.createElement(d.A,{"data-qa":"member-entity__metadata"},Y):null,ee=t.createElement("span",{className:"c-member__primary_content__description"},t.createElement(I.A,{lines:1,withTooltip:!0,breakWords:!1},de)),je=t.createElement("span",{className:"c-member__primary_content"},X?Ue:be,ce&&Fe,!le&&me,pe&&Ke,de&&ee),Te=ae||Se?f.pI.dim:void 0,Je=n()(R,"c-member","c-member--medium",{"c-member--with-presence":ce}),Ae=(0,t.useCallback)(Me=>ne&&(se?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(y.A,{name:"edit"})):t.createElement(r.Ay,b({},Me,{size:f.RG.medium,userId:U,"data-qa":"member-entity__avatar",isInteractive:!1}))),[ne,se,U]);return t.createElement(A.A,{avatar:Ae,className:Je,size:"medium",style:Te,text:je,subtext:Ee&&(G||ve),metadata:!ae&&j,"data-qa":te,"data-sk":z,forwardedRef:J})}m(L,"MediumMemberEntity"),L.displayName="MediumMemberEntity";function k(N,R){let{id:U,isDraftContext:x,member:B,showStatus:F}=R;const V=B||(0,S.nv)(N,U);let Y=!1;if(x&&U){const G=(0,M.Pu)(N,U);Y=!!(G&&(0,l.yc)(N,G.id))}const w=U||(V==null?void 0:V.id);return{id:w,member:V??void 0,memberPrimaryName:(0,c.sE)(N,V,!1,!1),memberSecondaryName:(0,g.Mu)(N,V),showDraftIcon:Y,showStatus:F&&(0,p.aH)(V),isUserHidden:!!w&&(0,P.a)(N,w)}}m(k,"mapStateToProps");const K=(0,D.N)(k)(L)},5506656361:(W,T,e)=>{"use strict";e.d(T,{A:()=>E});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5585462770),u=e(9438480351),i=e(2828836153),o=e(3877384923),a=e(2762351398),_=e(9391594207),l=e(8276911661);function p(){return p=Object.assign||function(A){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var h in v)Object.prototype.hasOwnProperty.call(v,h)&&(A[h]=v[h])}return A},p.apply(this,arguments)}m(p,"_extends");let g=m(class extends t.Component{render(){const{className:d,isActive:v=!1,isDeactivated:h=!1,isDisabled:f=!1,secondaryContent:y,secondaryContentPosition:I=r.lP.right,showUnreadCount:C=!1,showStatus:D,showPresence:M,useShortMode:P=!1,showHoverCard:S,forwardedRef:b,unreadCount:O,ariaLabel:L}=this.props,k=C&&O&&t.createElement(a.Ay,{className:"c-member__unread_count",count:O,style:a.rY.red}),K=y&&t.createElement("span",{className:"c-member__details","data-qa":"member-entity__secondary-content"},y),N=(I===r.lP.right&&K||k)&&t.createElement("span",{className:"c-member__secondary_content"},I===r.lP.right&&K,k),R=n()(d,"c-medium_member_list_entity");let U;return v?f||h?U=o.pI.highlightDim:U=o.pI.highlightLight:(f||h)&&(U=o.pI.dim),t.createElement(i.A,{"data-qa":"medium_member_list_entity",className:R,style:U,primaryContent:t.createElement(r.Ay,p({},this.props,{secondaryContent:I===r.lP.right?null:y,showStatus:D,showPresence:M,showHoverCard:S,useShortMode:P,forwardedRef:b})),secondaryContent:N,size:"medium",ariaLabel:L})}},"MediumMemberListEntity");g.displayName="MediumMemberListEntity";function c(A,d){let{id:v}=d;const h=(0,l.nv)(A,v);return{member:h??void 0,unreadCount:(0,u.A)(A,h)}}m(c,"mapStateToProps");const E=(0,_.N)(c,null,null,{forwardRef:!0})(g)},6228854066:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>Y,Cg:()=>x});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3750057149),u=e(3150724727),i=e(4743059565),o=e(7958934443),a=e(2326217668),_=e(9283547879),l=e(5537045526),p=e(6916052175),g=e(5624319675),c=e(3037015781),E=e(3929724715),A=e(8170643398),d=e(9438480351),v=e(9262712126),h=e(4562579337),f=e(5096647761),y=e(6536982570),I=e(5273017660),C=e(3534100833),D=e(3877384923),M=e(2762351398),P=e(8683010724),S=e(735940183),b=e(9391594207),O=e(9101533895),L=e(4761125736),k=e(5761207079),K=e(8276911661),N=e(3146663623);function R(){return R=Object.assign||function(w){for(var G=1;G<arguments.length;G++){var Ee=arguments[G];for(var ne in Ee)Object.prototype.hasOwnProperty.call(Ee,ne)&&(w[ne]=Ee[ne])}return w},R.apply(this,arguments)}m(R,"_extends");const U=20,x=16,B=new S.A("members");function F(w){const{className:G,id:Ee,invert:ne=!1,member:se,teamId:ce,showAvatar:pe=!0,showDraftIcon:ye=!1,showPresence:Ie=!0,showBadge:Se=!0,showStatus:le=!0,showTooltip:X=!0,showUnreadCount:J=!1,showDeactivated:z=!0,showAppOrBotBadge:te=!0,isDeactivated:$=!1,unreadCount:q,useShortMode:re=!1,forceRealName:de=!1,tokenSize:oe,truncateStatus:De=!1,withTruncationTooltip:ae,"data-sk":Z="small_member_entity","data-qa":ie="small_member_entity",isBold:Ce,experimentSidebarPrefsApplyToMenusGroupOn:Re=!1,isUserHidden:He=!1,hasNoAccess:be=!1,forceAvatarPresenceIndicator:Ue=!1,experimentAgentforceGroupOn:me=!1}=w,ve=(0,h.A)(se),Fe=(0,A.v3)(se),Ke=(0,A.oy)(se),j=(0,f.g)(se),ee=(0,A.fy)(se),je=(0,A.hh)(se),Te=(0,p.uG)(se),Je=(0,c.lv)(se),Ae=(0,c.mX)(se),Me=Je||Ae,we=ne&&!$,Ge=z&&Ke,Qe=(0,v.wg)(se),fe=(0,v.Fh)(se);let Ve,Be;He?(Ve=B.t("Name hidden"),Be=B.t("Name hidden")):de||!fe?(Ve=Qe,Be=fe):(Ve=fe,Be=Qe);const Ye=t.createElement(o.A,{"data-qa":"member-entity__primary-name",className:"c-member__member-name",name:Ve,invert:we,isAppOrBot:ve,isWorkflowBot:Fe,isDeleted:Ge,isSelf:ee,isNonExistent:Je,isUnknown:Ae,withTruncationTooltip:ae,isBold:Ce,isAgent:me&&Te,showAppOrBotBadge:te}),et=!He&&!je&&t.createElement(C.A,{className:"c-member__secondary-name","data-qa":"member-entity__secondary-name"},Be),at=(0,t.useMemo)(()=>!He&&!Ke&&!je&&t.createElement(_.Ay,{memberId:Ee||(se==null?void 0:se.id),className:"c-member__presence",invert:we,inline:!1}),[He,Ke,je,Ee,we,se]),gt=(0,t.useCallback)(Rt=>pe?He?t.createElement("span",{className:"c-search_autocomplete__hidden_member_icon "},t.createElement(P.A,{size:"20",name:"user-hide"})):Me?t.createElement(a.A,R({},Rt,{"data-qa":"member-entity__missing",isNonExistent:Je,size:U})):ye?t.createElement("span",{className:"c-member__draft_icon"},t.createElement(P.A,{name:"edit"})):t.createElement(u.Ay,R({},Rt,{"data-qa":"member-entity__avatar",size:D.RG.small,userId:Ee,user:se,showBadge:Se,tabIndex:-1,isInteractive:!1,tokenSize:oe,hasNoAccess:be,showPresence:Ue})):Ie&&Re?at:null,[pe,Ee,Je,Me,se,oe,ye,He,at,Ie,Se,Re,be,Ue]),Mt=j&&t.createElement(l.A,R({},w,{"data-qa":"member-entity__team-icon",id:ce,size:x,className:"c-member__team_icon"})),Bt=t.createElement(i.A,{memberId:Ee||"",tooltip:X,animated:re,className:n()("c-member__current-status","c-member__current-status--small",{overflow_ellipsis:De}),"data-qa":"member-entity__status"}),Ct=J&&!!q&&t.createElement(M.Ay,{className:"c-member__unread_count",count:q,style:we?M.rY.white:M.rY.red,"data-qa":"member-entity__mention-badge"}),Ft=t.createElement("span",{className:"c-member__primary_content"},Ye,Ie&&!Me&&pe&&at,!re&&et,le&&Bt),kt=(Mt||Ct)&&t.createElement("span",{className:"c-member__secondary_content"},Mt,Ct),Et=Ke&&!ne?D.pI.dim:void 0,mt=n()(G,"c-member","c-member--small",{"c-member--with-presence":Ie,"c-member--deleted":Ke,"c-base_entity--dim":He});return t.createElement(I.Ay,{avatar:gt,className:mt,text:Ft,size:"small",style:Et,subtext:kt,"data-qa":ie,"data-sk":Z})}m(F,"SmallMemberEntity"),F.displayName="SmallMemberEntity";function V(w,G){let{forceRealName:Ee,member:ne,id:se,isDraftContext:ce,showStatus:pe,onlyBoldIfUnread:ye,useShortMode:Ie,neverBold:Se}=G;const le=ne||(0,K.nv)(w,se);let X;const J=se||(le==null?void 0:le.id);J&&(ce||ye)&&(X=(0,O.Pu)(w,J));const z=(0,k.a)(w,J);let te=!0;z?te=!!Ie:ye?te=!!(X&&(0,E.KJ)(X)):Se&&(te=!1);let $;return ce&&($=!!(X&&(0,E.yc)(w,X.id))),{id:se||(le==null?void 0:le.id),member:le??void 0,teamId:(0,y.Ux)(w,le),forceRealName:(0,r.A)(Ee)?Ee:(0,N.E)(w),unreadCount:(0,d.A)(w,le),showDraftIcon:$,showStatus:pe&&(0,A.aH)(le),isBold:te,experimentSidebarPrefsApplyToMenusGroupOn:(0,L._Z)(w,"sidebar_prefs_apply_to_menus")==="on",isUserHidden:z,experimentAgentforceGroupOn:(0,g.mr)(w)}}m(V,"mapStateToProps");const Y=(0,b.N)(V)(F)},5727180841:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(6228854066),u=e(2828836153),i=e(3877384923);function o(){return o=Object.assign||function(l){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var c in g)Object.prototype.hasOwnProperty.call(g,c)&&(l[c]=g[c])}return l},o.apply(this,arguments)}m(o,"_extends");let a=m(class extends t.Component{render(){const{className:p,id:g,isActive:c=!1,isDeactivated:E=!1,isDisabled:A=!1,isDraftContext:d,showAvatar:v,showBadge:h,showPresence:f,showAppOrBotBadge:y,showStatus:I,showTooltip:C,withTruncationTooltip:D,showUnreadCount:M,useShortMode:P,secondaryContent:S,onlyBoldIfUnread:b=!1,forceRealName:O,hasNoAccess:L,forceAvatarPresenceIndicator:k,removePadding:K}=this.props;let N;return c?A||E?N=i.pI.highlightDim:N=i.pI.highlightDark:(A||E)&&(N=i.pI.dim),t.createElement(u.A,{className:n()(p,"c-small_member_list_entity"),primaryContent:t.createElement(r.Ay,o({id:g,invert:N===i.pI.highlightDark,isDeactivated:E,truncateStatus:!!S,showAvatar:v,showPresence:f,showBadge:h,showAppOrBotBadge:y,useShortMode:P,showStatus:I,showTooltip:C,withTruncationTooltip:D,showUnreadCount:M,isDraftContext:d,onlyBoldIfUnread:b,forceRealName:O,hasNoAccess:L,forceAvatarPresenceIndicator:k},this.props)),secondaryContent:S,size:"small",style:N,padding:K?i.FK.none:i.FK.normal})}},"SmallMemberListEntity");a.displayName="SmallMemberListEntity";const _=a},7958934443:(W,T,e)=>{"use strict";e.d(T,{A:()=>E});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(6916498058),u=e(9509635375),i=e(5273017660),o=e(4518138713),a=e(4413566926),_=e(9506008067),l=e(4761125736);function p(){return p=Object.assign||function(A){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var h in v)Object.prototype.hasOwnProperty.call(v,h)&&(A[h]=v[h])}return A},p.apply(this,arguments)}m(p,"_extends");const g=new a.Ay("inline_member");function c(A){const{className:d,multiline:v=!1,inline:h=!1,invert:f=!1,name:y,isSelf:I=!1,isAppOrBot:C=!1,isWorkflowBot:D=!1,showAppOrBotBadge:M=!0,isDeleted:P=!1,isUnknown:S=!1,isNonExistent:b=!1,withTruncationTooltip:O=!1,isBold:L=!0,isUserHidden:k=!1,isChannelFiles:K=!1,isCreator:N=!1,showMemberNameIfHidden:R=!1,showBadgeOnTextTruncation:U,isAgent:x=!1}=A,B=(0,_.d4)(G=>(0,l._Z)(G,"member_name_channel_files_view_two")==="on");let F;if(S||b)F=t.createElement(r.A,{type:b?"non-existent":"unknown","data-qa":"member_name__missing"});else if(k&&!R)F=g.t("Name hidden");else if(K){const G=B?g.rt("Created by {name}",{name:y}):`Created by ${y}`;F=N?G:g.rt("Shared by {name}",{name:y})}else F=y;const V=n()(d,"c-member_name",{"c-member_name--deactivated":P,"c-member_name--inverted":f}),Y=L?"strong":"span",w=(C||D)&&M;return t.createElement(i.CG,p({className:V,multiline:v,inline:h,withTruncationTooltip:O},(0,o.A)(A)),t.createElement(Y,{className:n()({"c-member_name__container":w&&U}),"data-qa":"member_name"},w&&U?t.createElement("span",{className:"c-member_name__text"},F):F,I&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__you"},g.t("(you)")),P&&t.createElement("span",{className:"c-member_name__indicator","data-qa":"member_name__deactivated"},g.t("(deactivated)")),w&&t.createElement(u.A,{className:"c-member_name__indicator","data-qa":"member_name__app",inverse:f,isWorkflow:D,isAgent:x})))}m(c,"MemberName"),c.displayName="MemberName";const E=c},7905172576:(W,T,e)=>{"use strict";e.d(T,{A:()=>te});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3297051565),u=e.n(r),i=e(3150724727),o=e(1962888617),a=e(7958934443),_=e(2326217668),l=e(3037015781),p=e(8170643398),g=e(3534324375),c=e(4562579337),E=e(3877384923),A=e(9391594207),d=e(8276911661);const v=20,h={id:u().string.isRequired,invert:u().bool,isDeactivated:u().bool,isHidden:u().bool,member:u().object,memberPrimaryName:u().string},f={member:void 0,memberPrimaryName:void 0,invert:!1,isDeactivated:!1,isHidden:!1},y=t.forwardRef(($,q)=>{const{id:re,invert:de,member:oe,memberPrimaryName:De,isDeactivated:ae,isHidden:Z}=$,ie=(0,c.A)(oe),Ce=(0,p.v3)(oe),Re=(0,p.oy)(oe),He=(0,l.lv)(oe),be=(0,l.mX)(oe),Ue=He||be,me=de&&!ae,ve=t.createElement(a.A,{"data-qa":"mpim-entity__name",name:De,invert:me,isAppOrBot:ie,isWorkflowBot:Ce,isDeleted:Re,isNonExistent:He,isUnknown:be});let Fe;Ue?Fe=t.createElement(_.A,{isNonExistent:He,size:v}):Fe=t.createElement(i.Ay,{className:"c-small_mpim_entity__member_avatar","data-qa":"mpim-entity__avatar",size:E.RG.small,userId:re,tabIndex:-1,isInteractive:!1});const Ke=n()("c-small_mpim_entity__member",{"c-small_mpim_entity__member--deleted":Re,"c-small_mpim_entity__member--hidden":Z});return t.createElement("div",{className:Ke,"data-id":re,ref:q},Fe,ve)});y.propTypes=h,y.defaultProps=f;function I($,q){let{id:re}=q;const de=(0,d.nv)($,re);return{member:de,memberPrimaryName:(0,g.sE)($,de,!1,!1)}}m(I,"mapStateToProps");const C=(0,A.N)(I,null,null,{forwardRef:!0})(y);var D=e(6072832722),M=e(1030162945),P=e(9506008067),S=e(5795074931),b=e(6989432693),O=e(4413566926),L=e(8374895239);const k=new O.Ay("channel_token"),K=10,N=m($=>{let{memberIds:q}=$;var re;const de=(re=(0,P.d4)(S.WR))!==null&&re!==void 0?re:void 0;let oe=q.map((De,ae)=>t.createElement(b.A,{key:De,userId:De,isFirst:ae===0,isSelf:de===De}));return q.length>K+1&&(oe=oe.slice(0,K).concat(k.rt("{count} others",{count:q.length-K}))),t.createElement(t.Fragment,null,(0,L.A)(oe))},"TooltipMemberNames");N.displayName="TooltipMemberNames";const R=N;var U=e(3929724715),x=e(8920264989),B=e(5273017660),F=e(2762351398),V=e(2312625946),Y=e(2809903252),w=e(4058658129),G=e(8170659516),Ee=e(3852424459),ne=e(9101533895),se=e(3328068409),ce=e(4761125736),pe=e(3998401757),ye=e(832411022);function Ie(){return Ie=Object.assign||function($){for(var q=1;q<arguments.length;q++){var re=arguments[q];for(var de in re)Object.prototype.hasOwnProperty.call(re,de)&&($[de]=re[de])}return $},Ie.apply(this,arguments)}m(Ie,"_extends");const Se=E.RG.small,le={className:u().string,"data-qa":u().string,"data-sk":u().string,mpim:u().object,id:u().string,invert:u().bool,isDeactivated:u().bool,memberIds:u().array,isActive:u().bool,clientTheme:u().oneOf(["light","dark"]),matchData:u().array,onlyBoldIfUnread:u().bool,showUnreadBadge:u().bool,unreadCount:u().number,shortenTooltipContents:u().bool,showAvatar:u().bool,showMemberList:u().bool,memberList:u().string,experimentSidebarPrefsApplyToMenusGroupOn:u().bool,tooltipPosition:u().string,disableTooltip:u().bool,experimentMpdmOmniswitcherDisplayTopicGroupOn:u().bool,isOmniswitcherContext:u().bool},X={className:void 0,"data-qa":void 0,"data-sk":"small_mpim_entity",mpim:void 0,memberList:null,id:void 0,invert:!1,isDeactivated:!1,memberIds:[],isActive:!1,clientTheme:"light",matchData:[],onlyBoldIfUnread:!1,showUnreadBadge:!1,unreadCount:0,shortenTooltipContents:!1,showAvatar:!0,showMemberList:!1,experimentSidebarPrefsApplyToMenusGroupOn:!1,tooltipPosition:"top-right",disableTooltip:!1,experimentMpdmOmniswitcherDisplayTopicGroupOn:!1,isOmniswitcherContext:!1};function J($){let{className:q,"data-qa":re,"data-sk":de,memberList:oe,id:De,invert:ae,isDeactivated:Z,mpim:ie,memberIds:Ce,isActive:Re,clientTheme:He,matchData:be,onlyBoldIfUnread:Ue,showUnreadBadge:me,showMemberList:ve,unreadCount:Fe,shortenTooltipContents:Ke,showAvatar:j,experimentSidebarPrefsApplyToMenusGroupOn:ee,tooltipPosition:je,disableTooltip:Te,experimentMpdmOmniswitcherDisplayTopicGroupOn:Je,isOmniswitcherContext:Ae}=$;var Me;const we=(0,l.lv)(ie),Ge=(0,l.mX)(ie),Qe=(0,U.N4)(ie),fe=De||(ie==null?void 0:ie.id),Ve=ie==null||(Me=ie.topic)===null||Me===void 0?void 0:Me.value,Be=Je&&Ve&&Ae,Ye=Ve&&t.createElement(D.A,{text:Ve,className:"c-medium_mpim_entity__topic",emojiSize:M.lw.SMALL,noJumbomoji:!0,noHighlights:!0}),et=ae&&!Z,at=me&&!!Fe&&t.createElement(F.Ay,{className:"c-member__unread_count",count:Fe,style:et?"white":"red","data-qa":"member-entity__mention-badge"}),gt=at&&t.createElement("span",{className:"c-member__secondary_content"},at),Mt=(0,t.useCallback)(Et=>{if(we||Ge)return t.createElement(_.A,Ie({},Et,{isNonExistent:we,size:Se,invert:et}));const mt=Ce==null?void 0:Ce[0];return t.createElement("span",{className:n()("c-small_mpim_entity__mpim_avatars","c-small_mpim_entity__count",q,{"c-small_mpim_entity__mpim_avatars--inverted":et,[`c-small_mpim_entity__mpim_avatars--${He}`]:He!=="light"})},j&&t.createElement(i.Ay,{userId:mt,className:"c-small_mpim_entity__mpim_avatars_mpim1",size:14,isInteractive:!1,"data-qa":"small-mpim-entity-mpim-avatar"}),t.createElement("div",{className:n()("c-small_mpim_entity__mpim_counter",{"c-small_mpim_entity__mpim_counter--count-only":!j&&ee}),"data-qa":"small-mpim-entity-mpim-counter"},t.createElement("div",{"aria-hidden":!0,className:"c-small_mpim_entity__mpim_counter_inner"},Qe)))},[q,He,we,Ge,Qe,et,Ce,j,ee]),Bt=(0,t.useCallback)(()=>{let Et;return Ke?Et=t.createElement(R,{memberIds:Ce}):Et=Ce.map(mt=>t.createElement(C,{id:mt,key:mt})),t.createElement(t.Fragment,null,Et)},[Ce,Ke]);let Ct=Z?E.pI.dim:null;et&&(Ct=E.pI.highlightDark);const Ft=n()(q,{"c-small_mpim_entity__with_member_list":ve}),kt=t.createElement(B.Ay,{"data-id":fe,"data-qa":re,"data-sk":de,avatar:Mt,className:Ft,size:Be?"medium":"small",style:Ct,subtext:Be?Ye:gt,text:t.createElement(t.Fragment,null,t.createElement(o.A,{mpim:ie,className:"c-small_mpim_entity__primary_name",invert:et,matchData:be,onlyBoldIfUnread:Ue}),ve&&t.createElement("div",{className:"c-small_mpim_entity__member_list"},t.createElement(Y.A,{lines:1},oe)))});return Te?kt:t.createElement(V.Ay,{tip:Bt(),tipClassName:Ke?"":"c-small_mpim_entity__tooltip",position:je,shouldForceVisible:Re,shouldOnlyShowWhenTruncated:Re,zIndex:"above_fs"},t.createElement("div",null,kt))}m(J,"SmallMpimEntity"),J.displayName="SmallMpimEntity",J.propTypes=le,J.defaultProps=X;function z($,q){let{id:re,mpim:de,matchData:oe}=q;const De=de||(0,ne.OL)($,re),ae=(0,Ee.B)($,re),Z=(0,pe.x)($,ye.Jx.OMNISWITCHER),ie=(0,ce._Z)($,"sidebar_prefs_apply_to_menus")==="on",Ce=(0,G.A)({state:$,mpim:De,matchData:oe}),Re=(0,se.to)($),He=(0,U.kR)(De,ae),be=(0,x.Xx)($,De,Ce,!0),Ue=(0,w.z)($);return{memberList:be,mpim:De,experimentSidebarPrefsApplyToMenusGroupOn:ie,memberIds:Ce,clientTheme:Re,unreadCount:He,experimentMpdmOmniswitcherDisplayTopicGroupOn:Ue,isOmniswitcherContext:Z}}m(z,"small_mpim_entity_mapStateToProps");const te=(0,A.N)(z)(J)},1962888617:(W,T,e)=>{"use strict";e.d(T,{A:()=>d});var t=e(3134334389),s=e(9867500491),n=e(1703559452),r=e(8064950432),u=e(5000515034),i=e(3037015781),o=e(3929724715),a=e(8920264989),_=e(5273017660),l=e(8170659516),p=e(9391594207),g=e(8276911661);const c=4;function E(v){let{className:h,mpim:f,multiline:y=!1,name:I,invert:C=!1,isAnyMemberUnknown:D=!1,inline:M=!1,onlyBoldIfUnread:P=!1}=v;const S=(0,i.mX)(f),b=(0,i.lv)(f),O=(0,o.N4)(f),L=!P||(0,o.KJ)(f);let k=I;return S||b||D?k=(0,s.A)(O||c).map(K=>t.createElement(u.A,{key:K,className:"c-mpim_entity__missing_text",isNonExistent:b,size:"random",invert:C,dataQa:"mpim_name_missing"})):(k=t.createElement(r.a,{channel:f,name:I??""}),k=L?t.createElement("strong",{"data-qa":"mpim_name"},k):t.createElement("span",{"data-qa":"mpim_name"},k)),t.createElement(_.CG,{className:h,multiline:y,breakWords:!1,inline:M},k)}m(E,"MpimName"),E.displayName="MpimName";const A=m((v,h)=>{let{mpim:f,matchData:y}=h;const I=(0,l.A)({state:v,mpim:f,matchData:y}),C=I&&I.map(D=>(0,g.nv)(v,D));return{name:(0,a.Xx)(v,f,I),isAnyMemberUnknown:(0,n.A)(C,i.GU)}},"mapStateToProps"),d=(0,p.N)(A)(E)},276274568:(W,T,e)=>{"use strict";e.d(T,{A:()=>f});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(4192943401),u=e(6839188756),i=e(2546018671),o=e(5273017660),a=e(3877384923),_=e(8683010724),l=e(735940183),p=e(9391594207),g=e(8847766420),c=e(3677514771),E=e(1835177371);function A(){return A=Object.assign||function(y){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(y[D]=C[D])}return y},A.apply(this,arguments)}m(A,"_extends");const d=new l.A("user_group_entity");function v(y){let{className:I,invert:C,showDescription:D=!0,userGroup:M,userGroupTeamName:P,isDeactivated:S}=y;const b=S||!(0,i.V1)(M),O=(0,t.useCallback)(x=>t.createElement("span",{className:"margin_right_50"},t.createElement(_.A,A({},x,{name:"user-groups",size:"18"}))),[]);if((0,i.t8)(M)||(0,i.QR)(M)){const x=n()("c-small_user_group__missing_icon",{"c-small_user_group__missing_icon--inverted":C});return t.createElement("div",{className:"c-small_user_group__missing"},t.createElement("div",{className:x},t.createElement(_.A,{name:"user-groups",size:"18"})),t.createElement(r.A,{type:(0,i.t8)(M)?"unknown":"non-existent",invert:C}))}const L=(0,i.ue)(M),k=t.createElement("span",{className:"c-user_group__name c-small_user_group__name"},L),K=(0,i.Br)(M),N=P&&t.createElement(t.Fragment,null,"\xA0\xA0",t.createElement("span",{className:"c-small_user_group__team"},P)),R=t.createElement(t.Fragment,null,t.createElement("span",{className:"c-small_user_group__count"},"(",d.t("{userCount, plural, =1 {# member} other {# members}}",{userCount:K}),")"),N);let U;return b?U=a.pI.dim:C&&(U=a.pI.highlightDark),t.createElement(o.Ay,{avatar:O,className:I,size:"small",style:U,text:t.createElement(o.CG,null,k,D&&R),"data-usergroup-id":M.id})}m(v,"SmallUserGroupEntity"),v.displayName="SmallUserGroupEntity";const h=m((y,I)=>{let{id:C,userGroup:D}=I;const M=D||(0,E.lJ)(y,C),P=(0,g.ZT)(y),S=(0,i.$Q)(M),b=S!==P&&(0,u.F1)((0,c._J)(y,S));return{userGroup:M,userGroupTeamName:b}},"mapStateToProps"),f=(0,p.N)(h)(v)},7360333171:(W,T,e)=>{"use strict";e.d(T,{E:()=>u,a:()=>i});var t=e(8583036784),s=e(9936232041),n=e(6304789565),r=e(9609912577);const u=(0,n.Ay)("Opens the AddCustomEmojiModal for importing a custom emoji",(o,a,_)=>{let{emojiName:l,emojiUrl:p}=_;var g;o((0,r.A)({emojiNameSuggestion:l&&((g=(0,s.A)(l))===null||g===void 0?void 0:g.name),emojiUrl:p}))});u.meta={name:"createThunk",key:"createThunkopenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal for importing a custom emoji"};const i=(0,n.Ay)("Opens the AddCustomEmojiModal if an emoji can be imported",(o,a,_)=>{const l=a(),{event:p,emojiName:g,emojiUrl:c}=_;c&&(0,t.LU)(l,c,g)&&(p==null||p.preventDefault(),p==null||p.stopPropagation(),o(u(_)))});i.meta={name:"createThunk",key:"createThunkmaybeOpenImportExternalEmojiModal",description:"Opens the AddCustomEmojiModal if an emoji can be imported"}},5371346921:(W,T,e)=>{"use strict";e.d(T,{K:()=>i});var t=e(3134334389),s=e(8583036784),n=e(8683010724),r=e(735940183);const u=new r.A("import-external-emoji");function i(o){let{emojiUrl:a,emojiName:_}=o;return(0,s.tJ)(a,_)?t.createElement("div",{className:"margin_top_50"},t.createElement(n.A,{name:"right-click",inline:!0,size:"18"}),t.createElement("span",{className:"margin_left_25"},u.t("Right click to add to your organization"))):null}m(i,"ImportExternalEmojiTooltipInfo"),i.displayName="ImportExternalEmojiTooltipInfo"},8583036784:(W,T,e)=>{"use strict";e.d(T,{$N:()=>k,LU:()=>M,pg:()=>S,tJ:()=>P});var t=e(3502457281),s=e(2757639362),n=e(6457401668),r=e(5757070316),u=e(6839188756),i=e(317660850),o=e(6783791506),a=e(4921059838),_=e(9936232041),l=e(9392104102),p=e(2384831516),g=e(4813703725),c=e(6790819894),E=e(9506008067),A=e(5795074931),d=e(7606781622),v=e(9608713960),h=e(3677514771);const f=m(K=>{var N;return Array.isArray((N=K)===null||N===void 0?void 0:N.elements)},"hasElements"),y=m((K,N)=>(0,t.Ay)(K.emojiName,N.emojiName),"emojiNameSort"),I=new Set(["black_square","bowtie","cubimal_chick","dusty_stick","glitch_crab","piggy","pride","shipit","slack_call","slack","squirrel","thumbsup_all","white_square","simple_smile"]);function C(K){var N;const R=(N=(0,_.A)(K))===null||N===void 0?void 0:N.name;return!!R&&I.has(R)}m(C,"isBuiltInEmoji");function D(K,N,R){return decodeURIComponent(N).includes((0,s.w)())?!1:!(R&&((0,a.A)(K,R)||C(R)))}m(D,"isCustomEmoji");const M=(0,p.Mz)((K,N,R)=>{if(!(N&&(0,A.TZ)(K)&&D(K,N,R)&&(0,i.D)(K)))return!1;const x=(0,h.Yc)(K);var B;const F=(B=x==null?void 0:x.id)!==null&&B!==void 0?B:"",V=(0,u.Ic)(x);return!!V&&N.indexOf((0,u.k7)(F,V))===-1&&N.indexOf(F.slice(1))===-1});M.meta={name:"createSelector",key:"createSelectorcanUserImportEmoji",description:(K,N,R)=>{if(!(N&&(0,A.TZ)(K)&&D(K,N,R)&&(0,i.D)(K)))return!1;const x=(0,h.Yc)(K);var B;const F=(B=x==null?void 0:x.id)!==null&&B!==void 0?B:"",V=(0,u.Ic)(x);return!!V&&N.indexOf((0,u.k7)(F,V))===-1&&N.indexOf(F.slice(1))===-1}};function P(K,N){return(0,E.d4)(R=>M(R,K,N))}m(P,"useCanImportThisEmoji");function S(K){return(0,E.d4)(N=>K.find(R=>M(N,R==null?void 0:R.url,R==null?void 0:R.name)))}m(S,"useFindFirstImportEmojiFromArray");function b(K,N){for(const R of N||[])(0,o.E)(R)?R.display_url&&K.set(R.display_url,{emojiName:R.name,emojiUrl:R.display_url}):f(R)&&b(K,R.elements)}m(b,"collectMessageEmojis");function O(K,N){for(const{name:R,url:U}of N||[])U&&K.set(U,{emojiName:R,emojiUrl:U})}m(O,"collectMessageReactjis");const L=(0,c.F)((K,N)=>N,(K,N)=>(0,v.bk)(K,(0,r.J)(N)),(K,N)=>{const R=new Map;return O(R,N),b(R,K.blocks),[...R.values()].sort(y)}),k=(0,g.eI)((K,N)=>{let{channelId:R,ts:U}=N;if(!(0,i.D)(K)||!(0,A.TZ)(K))return l.Ml;const x=(0,d.Ld)(K,R,U);return!x||(0,n.aK)(x)?l.Ml:L(K,x).filter(B=>{let{emojiName:F,emojiUrl:V}=B;return M(K,V,F)})})},345646370:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(602402588);const s=t.A},602402588:(W,T,e)=>{"use strict";e.d(T,{A:()=>F,b:()=>U});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(3297051565),i=e.n(u),o=e(6968234170),a=e(6228854066),_=e(4031325387),l=e(8642919232),p=e(4117634716),g=e(8822892075),c=e(3275490582),E=e(3244118357),A=e(8170643398),d=e(9464746668),v=e(9262712126),h=e(8739505998),f=e(8181621268),y=e(82287009),I=e(735940183),C=e(485355941),D=e(4096483543),M=e(4327331459),P=e(9391594207),S=e(8847766420),b=e(5795074931),O=e(5761207079),L=e(8276911661);function k(){return k=Object.assign||function(V){for(var Y=1;Y<arguments.length;Y++){var w=arguments[Y];for(var G in w)Object.prototype.hasOwnProperty.call(w,G)&&(V[G]=w[G])}return V},k.apply(this,arguments)}m(k,"_extends");const K={id:i().string.isRequired,fallback:i().string,isCurrentUser:i().bool,name:i().string,noHighlights:i().bool,noLinking:i().bool,showTooltip:i().bool,onClick:i().func,isUnknown:i().bool,isNonExistent:i().bool,serviceId:i().string,appTeamId:i().string,clogLinkClick:i().func,showMemberProfileInWindow:i().func,isUserHidden:i().bool,className:i().string,clientTheme:i().string,tabIndex:i().number,ariaHidden:i().bool,navigate:i().func,supressLinkColors:i().bool,forceRealNames:i().bool,supressMentionAtSymbol:i().bool,alwaysDisplayAsLink:i().bool},N={fallback:null,isCurrentUser:!1,name:null,noHighlights:!1,noLinking:!1,onClick:void 0,showTooltip:!1,isUnknown:!0,isNonExistent:!1,serviceId:void 0,appTeamId:void 0,clogLinkClick:r.A,className:void 0,clientTheme:"light",tabIndex:0,ariaHidden:!1,showMemberProfileInWindow:r.A,isUserHidden:!1,navigate:r.A,supressLinkColors:!1,supressMentionAtSymbol:!1,forceRealNames:!1,alwaysDisplayAsLink:!1},R=new I.A("members");let U=m(class extends t.PureComponent{onCardClose(){this.tooltip.current&&this.tooltip.current.hideTip()}onClick(Y){const{id:w,clogLinkClick:G,onClick:Ee,showMemberProfileInWindow:ne}=this.props;Y.preventDefault(),G({item_id:w,item_type:w.charAt(0),link_type:"user"}),this.tooltip.current&&this.tooltip.current.hideTip(),(0,C.Cz)(Y)?ne(w):this.props.navigate((0,g.Fo)({memberId:w})),Ee&&Ee(Y,w)}getTooltipContent(){return t.createElement(a.Ay,{id:this.props.id,invert:!0,showAvatar:!0,showPresence:!0,forceRealName:!0})}render(){const{id:Y,serviceId:w,fallback:G,isCurrentUser:Ee,name:ne,noHighlights:se,noLinking:ce,onClick:pe,showTooltip:ye,isUnknown:Ie,isNonExistent:Se,className:le,clientTheme:X,tabIndex:J,ariaHidden:z,isUserHidden:te,supressLinkColors:$,supressMentionAtSymbol:q,alwaysDisplayAsLink:re}=this.props;if(!Y)return null;const de=`${q?"":"@"}${ne||G}`,oe=n()("c-member_slug",le,`c-member_slug--${X}`,{"c-member_slug--link":re||!ce,"c-member_slug--mention":Ee&&!se,"c-member_slug--grey":$});if(Ie)return t.createElement(_.A,{type:"unknown"});if(Se)return t.createElement(_.A,{type:"non-existent"});if(te)return ye?t.createElement(f.Ay,{ref:this.tooltip,tip:R.t("You\u2019ve hidden this person"),tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",null,t.createElement(o.A,null))):t.createElement(o.A,null);if(ce)return t.createElement("span",{className:oe},de);const De={};(0,D.A)()?(De["data-stringify-type"]="mention",De["data-stringify-id"]=Y,De["data-stringify-label"]=de):De["data-stringify-text"]=`@${Y}`;const ae=`/team/${Y}`,Z=t.createElement(h.A,k({className:oe,href:ae,"data-member-id":Y,"data-member-label":de},De,{onClick:this.onClick,tabIndex:J,"aria-hidden":z}),de);return pe?ye?t.createElement(f.Ay,{ref:this.tooltip,tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--member"},t.createElement("span",{dir:"ltr"},Z)):Z:(0,y.yN)({memberId:Y,serviceId:w,children:Z})}constructor(Y){super(Y),this.tooltip=t.createRef(),this.onClick=this.onClick.bind(this),this.onCardClose=this.onCardClose.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"MemberSlug");U.displayName="MemberSlug",U.propTypes=K,U.defaultProps=N;function x(V,Y){const{id:w,noLinking:G,forceRealNames:Ee}=Y,ne=(0,b.WR)(V),se=(0,L.nv)(V,w),ce=(0,S.ZT)(V);let pe,ye,Ie,Se=G,le;se&&(pe=Ee?(0,v.wg)(se):(0,v.Gt)(se),ye=(0,A.t8)(se),Ie=(0,A.QR)(se),le=(0,d.A)(V,se)),Ie&&!(0,M.A)(w)&&(pe=w,ye=!1,Ie=!1,Se=!0);let X;le&&(X=(0,E.cl)(se,ce));const J=(0,O.a)(V,se.id);return{name:pe,isUnknown:ye,isNonExistent:Ie,serviceId:le,appTeamId:X,noLinking:Se,isCurrentUser:w===ne,isUserHidden:J}}m(x,"mapStateToProps");function B(V){return{showMemberProfileInWindow:function(){for(var Y=arguments.length,w=new Array(Y),G=0;G<Y;G++)w[G]=arguments[G];return V((0,l.A)(...w))},navigate:function(){for(var Y=arguments.length,w=new Array(Y),G=0;G<Y;G++)w[G]=arguments[G];return V((0,p.o)(...w))}}}m(B,"mapDispatchToProps");const F=(0,c.A)((0,P.N)(x,B)(U))},516467206:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(5113778506);const s=t.A},5113778506:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5000515034),u=e(8683010724),i=e(2312625946),o=e(2649129472),a=e(735940183);const _=new a.A("channel_token"),l=m(g=>{let{type:c=o.A.Unknown,subtler:E=!1,size:A=o.o.Small,width:d="random",invert:v=!1,showHash:h=!0,omitNonExistentTooltip:f=!1}=g;const y=n()("c-missing_channel",{"c-missing_channel--unknown":c===o.A.Unknown,"c-missing_channel--nonexistent":c===o.A.Nonexistent,"c-missing_channel--subtler":E,"c-missing_channel--medium":A===o.o.Medium,"c-missing_channel--unknown_inverted":c===o.A.Unknown&&v,"c-missing_channel--non_existent_inverted":c===o.A.Nonexistent&&v}),I=n()("c-missing_channel--medium_hash",{"c-missing_channel--subtler":E});let C;if(c===o.A.Unknown)C=_.t("Loading...");else if(c===o.A.Nonexistent)C=_.t("You don\u2019t have access to this channel (ex. it\u2019s private or in a workspace you\u2019re not a part of), so its name isn\u2019t shown",{fallbackHash:"b63975b75ce4c6d6e1e8b8057209fc25f351bbcf"});else return null;if(c===o.A.Nonexistent){const D=t.createElement("span",{className:"c-missing_channel--private"},t.createElement(u.A,{name:"lock"}),t.createElement("span",null,_.t("private channel")));return f?D:t.createElement(i.Ay,{tip:C},D)}return A===o.o.Medium?t.createElement("div",null,t.createElement("div",{className:"c-missing_channel--medium-top"},h&&t.createElement("span",{className:I},t.createElement(u.A,{name:"channel"})),t.createElement(r.A,{tooltip:C,isNonExistent:!1,size:d,className:y})),t.createElement(r.A,{tooltip:C,isNonExistent:!1,size:d,className:y})):t.createElement(r.A,{tooltip:C,isNonExistent:!1,size:d,className:y})},"MissingChannel");l.displayName="MissingChannel";const p=t.memo(l)},2326217668:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2649129472);const u=m(o=>{let{className:a,isNonExistent:_=!1,size:l,subtler:p=!1,invert:g=!1,dataQa:c}=o;const{Unknown:E,Nonexistent:A}=r.A,d=_?A:E,v=(0,t.useMemo)(()=>({height:l,width:l}),[l]);return t.createElement("span",{className:n()(a,"c-missing_icon",`c-missing_icon--${d}`,{"c-missing_icon--unknown_inverted":d===E&&g,"c-missing_icon--non_existent_inverted":d===A&&g,"c-missing_icon--subtler":p}),style:v,"data-qa":c})},"MissingIcon");u.displayName="MissingIcon";const i=u},4031325387:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(6916498058);const s=t.A},6916498058:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(5000515034),n=e(2649129472),r=e(735940183);const u=new r.A("member_token"),{Unknown:i,Nonexistent:o}=n.A,a=m(l=>{let{type:p=i,subtler:g=!1,className:c,"data-qa":E}=l;const A=p===i?u.t("Loading\u2026"):u.t("Private user info");return t.createElement(s.A,{className:c??"",isNonExistent:p===o,subtler:g,tooltip:A,"data-qa":E})},"MissingMember");a.displayName="MissingMember";const _=t.memo(a)},4192943401:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(3134334389),s=e(5000515034),n=e(2649129472),r=e(735940183);const u=new r.A("user_group_token"),{Unknown:i,Nonexistent:o}=n.A,{Small:a,Medium:_}=n.o,l=m(c=>{let{invert:E=!1,size:A=a,type:d=i,subtler:v=!1}=c;const h=d===i?u.t("Loading..."):u.t("Private user group info");if(A===_){const f="\xA0\xA0\xB7\xA0\xA0";return t.createElement("div",{className:"p-browse_page_user_group_entity--missing"},t.createElement("div",null,t.createElement(s.A,{tooltip:h,isNonExistent:d===o,size:"small",invert:E})," ",t.createElement(s.A,{tooltip:h,isNonExistent:d===o,size:"small",invert:E})),t.createElement("div",null,t.createElement(s.A,{tooltip:h,isNonExistent:d===o,size:"small",invert:E}),f,t.createElement(s.A,{tooltip:h,isNonExistent:d===o,size:"large",invert:E})))}return t.createElement(s.A,{tooltip:h,isNonExistent:d===o,size:"random",subtler:v,invert:E})},"MissingUserGroup");l.displayName="MissingUserGroup";const g=l},3270738832:(W,T,e)=>{"use strict";e.d(T,{i:()=>_,m:()=>g});var t=e(3134334389),s=e(4980558152),n=e(9236644324),r=e(735940183),u=e(9391594207);const i=new r.A("message"),o={code:"code",codeBlock:"codeBlock"};function a(c){let{children:E,blockType:A,...d}=c,v;const h=t.Children.only(E),f=t.cloneElement(h,{...d,ref:I=>{I&&(v=I)}}),y=(0,t.useCallback)(()=>[{label:A==="codeBlock"?i.t("Copy this code block"):i.t("Copy this code"),click:()=>v&&(0,n.x3)(v.innerText)}],[A,v]);return t.createElement(s.A,{getTemplate:y},f)}m(a,"BaseCopyCodeBlockContextMenuTrigger"),a.displayName="BaseCopyCodeBlockContextMenuTrigger";const _=(0,u.N)(()=>({}),()=>({}))(a),l=t.forwardRef((c,E)=>{let{children:A,...d}=c;const v=t.Children.only(A);return t.cloneElement(v,{...d,ref:E,onMouseDown:p})});function p(c){if(c.button!==0||c.detail<3)return;c.preventDefault();const E=window.getSelection(),A=document.createRange();E==null||E.removeAllRanges(),A.selectNodeContents(c.currentTarget),E==null||E.addRange(A)}m(p,"selectContentsOnTripleMouseDown");const g=(0,u.N)(()=>({}),()=>({}),null,{forwardRef:!0})(l)},3869429517:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(6122756707),n=e(3771536679),r=e(8739505998),u=e(6954805277),i=e(4841770661);function o(_){let{ts:l,format:p,fallback:g=void 0,link:c=void 0,noLinking:E=!1,do24hrTime:A=!1,timezone:d=void 0}=_;const v=(0,s.wA)(),h=(0,u.Yq)(l,p,{fallbackString:g,do24hrTime:A,timezone:d}),f=(0,t.useCallback)(y=>{c&&h&&(0,n.A)(h,c)&&(v((0,i.A)({text:h,url:c})),y.preventDefault())},[v,h,c]);return!h||h===p?null:!c||E?t.createElement("span",{"data-qa":"mrkdwn_date",className:"c-mrkdwn__date"},h):t.createElement(r.A,{"data-qa":"mrkdwn_date",href:c,maybeOpenSuspiciousLinkDialog:f},h)}m(o,"DateCommand"),o.displayName="DateCommand";const a=t.memo(o)},2836999160:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(4173622771);let u=m(class extends t.PureComponent{render(){const{type:a,noHighlights:_,noLinking:l}=this.props,p=!_,g=(0,r.Y)({type:a,tsfMode:"NORMAL"}),c=g,E=n()("c-mrkdwn__broadcast",{"c-mrkdwn__broadcast--link":!l,"c-mrkdwn__broadcast--mention":p});return t.createElement("span",{className:E,"data-broadcast-id":`BK${a}`,"data-stringify-text":g},c)}},"MrkdwnBroadcastCommand");u.defaultProps={noHighlights:!1,noLinking:!1},u.displayName="MrkdwnBroadcastCommand";const i=u},7048718168:(W,T,e)=>{"use strict";e.d(T,{A:()=>G});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(6818173548),i=e(516467206),o=e(6388117406),a=e(8950789382),_=e(5083570322),l=e(5892132962),p=e(2233365467),g=e(4117634716),c=e(8822892075),E=e(3275490582),A=e(3929724715),d=e(1407713935),v=e(4559887502),h=e(8920264989),f=e(6495946979),y=e(8739505998),I=e(8683010724),C=e(8181621268),D=e(5822647621),M=e(735940183),P=e(485355941),S=e(6904279885),b=e(5123689463),O=e(9391594207),L=e(3273285825),k=e(9101533895),K=e(8146089001),N=e(4761125736),R=e(3677514771);function U(){return U=Object.assign||function(Ee){for(var ne=1;ne<arguments.length;ne++){var se=arguments[ne];for(var ce in se)Object.prototype.hasOwnProperty.call(se,ce)&&(Ee[ce]=se[ce])}return Ee},U.apply(this,arguments)}m(U,"_extends");const x=new M.A("recordchannels"),B={channelName:void 0,className:void 0,fallbackName:void 0,noLinking:!1,isPrivate:!1,isChannelImOrMpim:!1,isRecord:!1,recordChannelIconProps:null,isNonExistent:!1,isFromAnotherTeam:!1,team:null,isMember:!1,isUnknown:!1,clogLinkClick:r.A,mpimMemberNames:[],teamName:"",channelHasNonUniqueName:!1,noTabbableContent:!1,alwaysDisplayAsLink:!1};let F=m(class extends t.PureComponent{onClick(ne){const{id:se,tabId:ce,experimentBkChannelTabsGroupOn:pe}=this.props;if((0,P.Cz)(ne)){ne.preventDefault(),ne.stopPropagation(),this.props.maybeOpenInWindow({viewId:se});return}ne.preventDefault(),ne.stopPropagation(),this.props.navigate(pe&&ce?(0,c.id)(se,{tabId:ce}):(0,c.pr)(se))}getTooltipContent(){const{id:ne,isRecord:se,isChannelImOrMpim:ce,mpimMemberNames:pe,teamName:ye,channelHasNonUniqueName:Ie,recordLabel:Se}=this.props;return ce?pe.join(", "):se?t.createElement("div",{className:"c-mrkdwn__record_channel--tooltip"},x.t("{recordLabel} channel ",{recordLabel:Se,recordType:Se,fallbackHash:"c94ad953533f172490dd2c0d82f8740c0ff19f9b"}),t.createElement(_.r,{channelId:ne})):t.createElement(t.Fragment,null,t.createElement(u.A,{channelId:ne}),Ie&&t.createElement("br",null),Ie&&t.createElement("span",{className:"c-member_slug__tooltip_subheader"},ye))}clogLinkClick(){var ne,se;(se=(ne=this.props).clogLinkClick)===null||se===void 0||se.call(ne,{item_id:this.props.id,item_type:"C",link_type:"channel",is_member:this.props.isMember}),this.props.updateChannelLastTrigger({source:"MSG_PANE",objId:this.props.id})}render(){const{channelName:ne,className:se,fallbackName:ce,id:pe,isPrivate:ye,isChannelImOrMpim:Ie,isRecord:Se,recordChannelIconProps:le,isMember:X,isNonExistent:J,isUnknown:z,noLinking:te,isFromAnotherTeam:$,team:q,noTabbableContent:re,alwaysDisplayAsLink:de}=this.props;if(z)return t.createElement(i.A,{type:"unknown"});if(J&&!ce)return t.createElement(i.A,{type:"non-existent"});const oe=!ye||X||Se;if(!oe)return t.createElement(i.A,{type:"non-existent"});const De=(0,D.A)({channelName:ne,fallbackName:ce,isUnknown:z,isNonExistent:J,includePrefix:!ye&&!Ie&&!le}),ae=De;let Z,ie;Z=!te&&!J&&oe,ye&&(ie=(0,S.A)({channelName:ne,isPrivate:ye})),Z&&$&&(Z=!!q);const Ce=n()("c-mrkdwn__channel c-member_slug",{internal_channel_link:Z,"c-member_slug--link":de||Z},se);if(!Z)return t.createElement("span",{className:Ce},ye&&t.createElement(I.A,{name:"lock",variation:"filled",inline:!0}),ae);let Re;le?Re=t.createElement(I.A,U({inline:!0},le)):ye&&(Re=t.createElement(I.A,{name:"lock",variation:"filled",inline:!0}));const He=$&&q?(0,b.Kk)({team:q,channelId:pe}):(0,b.iu)({channelId:pe});return t.createElement(o.A,{id:pe},t.createElement(C.Ay,{tip:this.getTooltipContent,tipClassName:"c-member_slug__tooltip c-member_slug__tooltip--channel"},t.createElement(y.A,U({className:Ce,href:He,clogLinkClick:this.clogLinkClick,"data-channel-name":De,"data-channel-id":pe,"data-qa":"channel_link","data-stringify-type":"channel","aria-label":ie,onClick:this.onClick},re&&{tabIndex:-1}),Re,ae)))}constructor(ne){super(ne),this.clogLinkClick=this.clogLinkClick.bind(this),this.onClick=this.onClick.bind(this),this.getTooltipContent=this.getTooltipContent.bind(this)}},"BaseMrkdwnChannel");F.defaultProps=B,F.displayName="BaseMrkdwnChannel";function V(Ee,ne){let{id:se}=ne,ce,pe,ye,Ie,Se,le,X=null;const J=(0,k.OL)(Ee,se);let z,te,$=null,q=[],re,de,oe;const De=(0,N._Z)(Ee,"bk_channel_tabs")==="on";return J?(ce=(0,h.SB)(Ee,J,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1,truncateMpimNames:!0}),Se=(0,d.t8)(J),pe=(0,d.Zp)(J),Ie=(0,f.bl)(J),z=(0,d.JM)(J),te=(0,d.rI)(J),$=(0,l.sc)(J),ye=(0,d.QR)(J),le=(0,A.lo)(J),X=le?(0,R._J)(Ee,(0,A.bK)(Ee,J)):null,q=(0,A.Zu)(Ee,se),de=(0,v.i)((0,k.MS)(Ee),J),oe=(0,p.jT)(J),de&&(re=(0,K.a)(Ee,{channel:J}))):ye=!0,{channelName:ce,isPrivate:pe,isChannelImOrMpim:z,isRecord:te,recordChannelIconProps:$,isNonExistent:ye,isMember:Ie,isUnknown:Se,isFromAnotherTeam:le,team:X,mpimMemberNames:q,channelHasNonUniqueName:de,teamName:re,recordLabel:oe,experimentBkChannelTabsGroupOn:De}}m(V,"mapStateToProps");const Y=m(Ee=>({updateChannelLastTrigger:function(){for(var ne=arguments.length,se=new Array(ne),ce=0;ce<ne;ce++)se[ce]=arguments[ce];return Ee((0,L.Z)(...se))},navigate:function(){for(var ne=arguments.length,se=new Array(ne),ce=0;ce<ne;ce++)se[ce]=arguments[ce];return Ee((0,g.o)(...se))},maybeOpenInWindow:function(){for(var ne=arguments.length,se=new Array(ne),ce=0;ce<ne;ce++)se[ce]=arguments[ce];return Ee((0,a.s)(...se))}}),"mapDispatchToProps"),G=(0,E.A)((0,O.N)(V,Y)(F))},4839279329:(W,T,e)=>{"use strict";e.d(T,{A:()=>B});var t=e(3134334389),s=e(6818173548),n=e(7577304499),r=e(6072832722),u=e(6971099563),i=e(8739505998),o=e(735940183);const a=new o.A("search");function _(F){let{href:V,entity:Y}=F;if("work_object_fields"in Y&&Y.work_object_fields){const ye=Y.work_object_fields.last_modified&&a.rt("{time} by {user} ({email})",{time:Y.work_object_fields.last_modified.timestamp||"",user:Y.work_object_fields.last_modified.name,email:t.createElement(i.A,{href:`mailto:${Y.work_object_fields.last_modified.email}`},Y.work_object_fields.last_modified.email)});return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Y.title)),t.createElement("div",null,t.createElement("span",{className:"normal"},Y.work_object_fields.mime_type," "),ye&&t.createElement("span",{className:"normal"},ye)),t.createElement("div",{className:"sk_foreground_high_solid break_all"},V))}const w=(0,u.MI)(Y,"full"),G=(0,u.MI)(Y,"compact"),Ee=(0,u.MI)(Y,"expanded");if(w){var ne,se;return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},w.title.text)),t.createElement("div",null,t.createElement("span",{className:"normal"},(ne=w.header_subtitle)===null||ne===void 0?void 0:ne.text," | ",(se=w.header_title)===null||se===void 0?void 0:se.text)),t.createElement("div",{className:"sk_foreground_high_solid break_all"},V))}if(G){var ce;return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},G.title.text)),t.createElement("div",null,t.createElement("span",{className:"normal"},(ce=G.subtitle)===null||ce===void 0?void 0:ce.text," ")),t.createElement("div",{className:"sk_foreground_high_solid break_all"},V))}if(Ee){var pe;return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Ee.title.text)),t.createElement("div",null,t.createElement("span",{className:"normal"},(pe=Ee.subtitle)===null||pe===void 0?void 0:pe.text," ")),t.createElement("div",{className:"sk_foreground_high_solid break_all"},V))}return t.createElement("div",{className:"sk_foreground_high_solid break_all"},V)}m(_,"WorkObjectLinkTooltip"),_.displayName="WorkObjectLinkTooltip";var l=e(1191942715),p=e(897219217),g=e(7621878090),c=e(1030162945),E=e(6658490498),A=e(3037015781),d=e(1407713935),v=e(8920264989),h=e(6007206761),f=e(2647703359),y=e(7334104107),I=e(1198382523),C=e(7980641),D=e(3787230964),M=e(675958705),P=e(4138249182),S=e(6457401668),b=e(4821277680),O=e(9391594207),L=e(9101533895),k=e(937317117),K=e(7606781622),N=e(7057004528);const R=new o.A("linkify_emails");function U(F){let{href:V,isMsgPermalink:Y=!1,msg:w=void 0,channelDisplayName:G,msgSenderName:Ee,permalinkChannelId:ne=void 0,channel:se=void 0,experimentRichTextGroupOn:ce=!1,isFilePermalink:pe=!1,file:ye=void 0,isWorkObject:Ie,entity:Se}=F,le=V.length>500?`${V.substr(0,500)}\u2026`:V;if(le=Y?le:le==null?void 0:le.toLowerCase(),Ie&&Se)return t.createElement(_,{entity:Se,href:V});if(pe&&ye){const z=ye==null?void 0:ye.title,te=(0,f.Hx)(ye);return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},z)),t.createElement("div",null,t.createElement("span",{className:"normal"},te," | "),t.createElement("span",{className:"normal"},t.createElement(n.A,{file:ye,displaySharedBy:!0,excludeTime:!0}))),t.createElement("div",{className:"sk_foreground_high_solid break_all"},V))}if(!Y||(0,A.lv)(w)||(0,y.ow)(w)||(0,h.F)(se)||(0,D.A)(w==null?void 0:w.subtype)||(0,S.ys)(w)==="tombstone"||(0,S.s7)(w)||(0,S.Dv)(w)||(0,S.TD)(w)||(0,S.oX)(w)||!(0,y.iM)(w)&&!(w!=null&&w.text)){if(V.startsWith("mailto:")){const te=V.split("mailto:")[1]?V.split("mailto:")[1]:V;return R.rt("Contact {emailAddress} in Slack",{emailAddress:te})}return t.createElement(t.Fragment,null,le)}let X;if(w&&(0,M.A)(w,ce)&&(0,p.n)(w.blocks)&&!(0,P.A)(w))X=t.createElement(l.A,{richTextBlock:(w==null?void 0:w.blocks)&&w.blocks[0],emojiSize:c.lw.SMALL,truncateLength:125});else{const z=w&&(0,I.A)(w);z&&(X=t.createElement(r.A,{text:z,noHighlights:!0,noHexColors:!0,noJumbomoji:!0,noLinking:!0,noCode:!0,noQuotes:!0,customLineEnding:"\u2026",maxNewlines:1,emojiSize:c.lw.SMALL,maxCharacters:125}))}const J=(0,d.LI)(se)||(0,d.yz)(se)?G:t.createElement(s.A,{className:"normal",channelId:ne});return t.createElement(t.Fragment,null,t.createElement("div",{className:"sk_foreground_high_solid overflow_ellipsis"},t.createElement("b",{className:"bold sk_white_always"},Ee),t.createElement("span",{className:"normal"}," | ",J)),X&&t.createElement("div",{className:"normal"},X),t.createElement("div",{className:"sk_foreground_high_solid break_all"},V))}m(U,"MrkdwnLinkTooltip"),U.displayName="MrkdwnLinkTooltip";function x(F,V){let{href:Y}=V;const w=(0,b.$N)(F,Y),G=!!(w&&w.type==="message"&&w.ts),Ee=G?w.channelId:void 0,ne=!!(w&&(w!=null&&w.fileId)),se=w!=null&&w.fileId?(0,k.Lp)(F,w.fileId):void 0,ce=G&&w.channelId&&w.ts&&(0,K.Ld)(F,w.channelId,w.ts),pe=ce&&(0,C.A)(F,ce),ye=!!(w&&w.type===b.im.WORK_OBJECT),Ie=ye&&(0,N.Ne)(F,{recordId:w==null?void 0:w.entityId,lookupFunction:w==null?void 0:w.lookupFunction})||void 0;var Se;return{isFilePermalink:ne,file:se,isMsgPermalink:G,msg:ce||void 0,permalinkChannelId:Ee||void 0,channel:Ee&&(Se=(0,L.OL)(F,Ee))!==null&&Se!==void 0?Se:void 0,channelDisplayName:G?(0,v.SB)(F,(0,L.OL)(F,Ee)):void 0,msgSenderName:pe?(0,E.A)(F,{userId:pe.userId,botId:pe.botId,username:pe.username,botProfile:ce.bot_profile}):void 0,experimentRichTextGroupOn:(0,g.E)(F),isWorkObject:ye,entity:Ie}}m(x,"mapStateToProps");const B=(0,O.N)(x)(U)},4392539311:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>G});var t=e(3134334389),s=e(2774532222),n=e(7715417323),r=e(5734673180),u=e(7582939986),i=e(3576768148),o=e(5783032341),a=e(7732872146),_=e(4839279329),l=e(5604079762),p=e(1650415028),g=e(8170244779),c=e(4116177835),E=e(6271402872),A=e(6536982570),d=e(4821277680),v=e(8739505998),h=e(6044196829),f=e(8181621268),y=e(82287009),I=e(8257102208),C=e(337319621),D=e(9899967630),M=e(735940183),P=e(9391594207),S=e(7547876038),b=e(8677230210),O=e(4761125736),L=e(5492254797),k=e(8276911661),K=e(2047021170),N=e(8262898118);function R(){return R=Object.assign||function(ne){for(var se=1;se<arguments.length;se++){var ce=arguments[se];for(var pe in ce)Object.prototype.hasOwnProperty.call(ce,pe)&&(ne[pe]=ce[pe])}return ne},R.apply(this,arguments)}m(R,"_extends");const U="javascript:";function x(ne){let{url:se,origin:ce,botId:pe,urlIsSIWSLink:ye,experimentWebIdentityLinksGroupTreatment:Ie,isFileQuipAndNotAccessible:Se,isFileListAndNotAccessible:le}=ne;return ye&&Ie?"siws":Se?"quip-inaccessible":le?"list-inaccessible":pe?"bot":(0,s.A)(se,U)?"javascript":(0,s.A)(se,`${ce}/messages`)?"messages":(0,s.A)(se,`${u.SQ}chat.help`)?"old-slack-action":(0,s.A)(se,`${u.Rw}`)?"slack-action":"external"}m(x,"getUrlType");const B=(0,o.A)();function F(ne){let{botId:se,botName:ce,children:pe,origin:ye=B,doSlackAction:Ie,doSlackActionLinks:Se=!0,requestAccessModalThunk:le,noLinking:X=!1,url:J,maybeOpenSuspiciousLinkDialog:z=n.A,clogLinkClick:te=n.A,urlIsSIWSLink:$=!1,explicitlyRenameBotLink:q=!1,showTooltip:re=!1,suppressLinkWarningPref:de=!1,experimentWebIdentityLinksGroupTreatment:oe=!1,isHermesLinkTrigger:De=!1,triggerId:ae,isFileQuipAndNotAccessible:Z=!1,isFromAppHome:ie=!1,permalinkType:Ce=null,permalinkFileId:Re=void 0,isFileListAndNotAccessible:He=!1,noTabbableContent:be=!1,appId:Ue}=ne;const me=(0,t.useCallback)(()=>{Ie(J)},[Ie,J]),ve=(0,t.useCallback)(Qe=>{Qe.preventDefault(),le({url:J})},[le,J]),Fe=(0,t.useCallback)(Qe=>{let fe;Ce===d.im.FILE&&Re&&(fe={item_id:Re,item_type:"F",link_action:"file_preview_link"});let Ve;Ce===d.im.WORK_OBJECT&&(Ve={appId:Ue}),te({...Qe,...fe,...Ve,link_type:Ce||"external"})},[Ce,Re,te,Ue]),Ke=(0,t.useCallback)(()=>{const Qe=(0,r.A)(J);return t.createElement(_.A,{href:Qe})},[J]);if(X)return t.createElement("span",null,pe);const j=x({url:J,origin:ye,botId:se,urlIsSIWSLink:$,experimentWebIdentityLinksGroupTreatment:oe,isFileQuipAndNotAccessible:Z,isFileListAndNotAccessible:He}),ee=(0,r.A)(J);let je,Te=null,Je=!1,Ae=!1,Me=pe,we=!1;if(j==="slack-action")Ae=!0,Se?Te=me:(Je=!0,je="(Disabled) ");else if(j==="old-slack-action")Je=!0,je="(Disabled) ";else if(j==="quip-inaccessible"||j==="list-inaccessible"){const fe=new M.A("request_access").t("Request access"),Ve=t.createElement(v.A,R({className:"c-mrkdwn__quip_and_list_file_request_access_link","data-stringify-link":ee,"data-qa":"file-request-access-link",href:ee,onClick:ve,isFromAppHome:ie},be&&{tabIndex:-1}),pe);return t.createElement(f.Ay,{tip:fe,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link","data-qa":"quip-file-request-access-tooltip"},Ve)}else if(j==="javascript")Ae=!0,Te=n.A;else if(j==="bot"&&q)Ae=!0,Me=ce||pe,we=!0;else if(j==="siws"){const Qe=m((Ve,Be)=>t.createElement(v.A,{autoClogProps:Be,clogLinkClick:Fe,className:"c-mrkdwn__identity_trigger",onClick:Ve,href:ee},Me),"renderBaseLink");let fe=Qe;return re&&(fe=m((Ve,Be)=>t.createElement(f.Ay,{tip:Ke,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},Qe(Ve,Be)),"renderSiwsLink")),t.createElement(p.A,{url:ee},fe)}if(Ae){let Qe=t.createElement(h.A,{onClick:Te&&!Je?Te:n.A,disabled:Je,renderAsSpan:!0},je,Me);return we&&(Qe=t.createElement(c.A,{botId:se,onClick:!Je&&Te},Qe)),Qe}const Ge=t.createElement(v.A,R({"data-stringify-link":ee,href:ee,clogLinkClick:Fe,maybeOpenSuspiciousLinkDialog:de?n.A:z,isFromAppHome:ie},be&&{tabIndex:-1}),pe);return De&&ae?t.createElement(g.A.Consumer,null,Qe=>{let{...fe}=Qe;const Ve={triggerId:ae,url:J},Be=(0,L.P)(fe),Ye=(0,L.S)(fe,Ve);return(0,y.sh)({shortcutInfo:Ve,channelId:fe.channelId,hermesLinkTriggerUIContext:Be,autoClogEntryPoint:(Ye==null?void 0:Ye.entryPoint)||"other",children:t.createElement(v.A,{"data-stringify-link":ee,href:ee,clogLinkClick:Fe,autoClogProps:Ye,hermesLinkTriggerUIContext:Be,maybeOpenSuspiciousLinkDialog:de?n.A:z},pe)})}):re?t.createElement(f.Ay,{tip:Ke,position:"top",zIndex:"above_fs",tipClassName:"c-tooltip__tip--link"},Ge):Ge}m(F,"BaseMrkdwnLink"),F.displayName="BaseMrkdwnLink";const V=m((ne,se)=>{let{children:ce,memberId:pe,url:ye}=se;const Ie=(0,O._Z)(ne,"web_identity_links")==="treatment",Se=(0,i.A)(ye)||void 0,le=(0,a.Ay)(ye),X=le?(0,d.XN)(ne,le):null;let J;if(Se&&(J=(0,b.vu)(ne,Se),!J&&pe)){const q=(0,k.nv)(ne,pe);(0,A.Ux)(ne,q)&&(J=ce),J||(0,C.Ay)({state:ne}).warn(`MrkdwnLink: no bot name found for ${Se}`)}const z=(0,E.Wc)(ne)&&(X==null?void 0:X.type)===d.im.SHORTCUT_LINK_TRIGGER,te=le&&(0,D.dR)(ne,le)!==null,$=le&&(0,I.W4)(ne,le)!==null;return{botId:Se,botName:J,appId:X==null?void 0:X.appId,experimentWebIdentityLinksGroupTreatment:Ie,suppressLinkWarningPref:!!(0,K.ty)(ne,"suppress_link_warning"),urlIsSIWSLink:le?(0,N.Ls)(ne,le):!1,isHermesLinkTrigger:z,triggerId:X==null?void 0:X.triggerId,permalinkType:X==null?void 0:X.type,permalinkFileId:X==null?void 0:X.fileId,isFileQuipAndNotAccessible:te,isFileListAndNotAccessible:$}},"mapStateToProps"),Y=m(ne=>({doSlackAction:se=>ne((0,S.A)(se)),requestAccessModalThunk:se=>ne((0,l.A)(se))}),"mapDispatchToProps"),G=(0,P.N)(V,Y)(F);Object.defineProperty({},"getUrlType",{get:()=>x,set:ne=>{x=ne}})},6072832722:(W,T,e)=>{"use strict";e.d(T,{A:()=>ye});var t=e(3134334389),s=e(1398359918),n=e(6696292586),r=e(8891672792),u=e(8840779375),i=e(9113979368),o=e(7715417323),a=e(345646370),_=e(3270738832),l=e(3869429517),p=e(2836999160),g=e(7048718168),c=e(4392539311),E=e(6423046221),A=e(3771536679),d=e(1030162945),v=e(3043682041),h=e(8181621268),f=e(6818330210),y=e(2952777997),I=e(7285080585),C=e(1842363787),D=e(337319621),M=e(735940183),P=e(9907843289),S=e(4096483543),b=e(5619542846),O=e(9391594207),L=e(6652001255),k=e(4841770661),K=e(3328068409),N=e(4761125736),R=e(1021289374),U=e(1317368584),x=e(2047021170),B=e(3146663623);function F(){return F=Object.assign||function(Ie){for(var Se=1;Se<arguments.length;Se++){var le=arguments[Se];for(var X in le)Object.prototype.hasOwnProperty.call(le,X)&&(Ie[X]=le[X])}return Ie},F.apply(this,arguments)}m(F,"_extends");const V=void 0,Y="\u2026.,_-",w=/\ue000|\ue001/,G=new M.A("message"),Ee=(0,D.Wo)();let ne=m(class extends t.PureComponent{componentDidMount(){const{onRender:Se}=this.props;Se==null||Se({isTruncated:this.isTruncated()})}componentDidUpdate(){const{onRender:Se}=this.props;Se==null||Se({isTruncated:this.isTruncated()})}render(){const{text:Se,className:le,noJumbomoji:X,noSpecials:J,customContentHandler:z,addDirectionAttr:te,refToForward:$,onMouseEnter:q,onMouseLeave:re,"data-qa":de,experimentTsfSnitchGroupOn:oe}=this.props;if(!Se)return null;this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0;const De=J?"NOMRKDWN":this.props.tsfMode,ae=this.props.ariaAssertive?"assertive":void 0;let Z=(0,C.sm)(Se,De,{jumbomoji:!X,allow_intra_word_formatting:!0});w.test(Se)&&(Z=(0,s.A)(Z,Re=>Re.replace(/\ue000/g,"<HIGHLIGHT:START>").replace(/\ue001/g,"<HIGHLIGHT:END>").split(/(<HIGHLIGHT:START>|<HIGHLIGHT:END>)/g).filter(Boolean)));let ie=(0,I.A)(Z);z&&(ie=z(ie));const Ce=te?"auto":void 0;return t.createElement("span",{className:oe?`c-mrkdwn__snitch ${le||""}`:le,ref:$,"aria-live":ae,dir:Ce,"data-qa":de,onMouseEnter:q,onMouseLeave:re},this.renderMrkdwnFormatting(ie,!0))}constructor(...Se){var le;super(...Se),le=this,this.uid=0,this.numCharactersUsed=0,this.numNewlinesUsed=0,this.handleUserGroupClick=(X,J)=>{const{onUserGroupClick:z}=this.props;X.preventDefault(),z==null||z(J)},this.isTruncated=()=>this.numCharactersUsed>=this.props.maxCharacters||this.numNewlinesUsed>=this.props.maxNewlines,this.nextKey=()=>(this.uid+=1,this.uid),this.renderBold=X=>{let{contents:J}=X;const z=(0,P.Yp)()==="ja-JP"?"\uFF0A":"*",te=(0,S.A)()?{"data-stringify-type":"bold"}:{"data-stringify-prefix":z,"data-stringify-suffix":z,"data-stringify-requires-siblings":!0};return t.createElement("b",F({key:this.nextKey()},te),this.renderMrkdwnFormatting(J))},this.renderChannel=X=>{let{id:J="",name:z=""}=X;const{noLinking:te,clogLinkClick:$}=this.props;return this.numCharactersUsed+=(z||J).length+1,t.createElement(g.A,{key:this.nextKey(),id:J,noLinking:te,clogLinkClick:$})},this.renderCode=X=>{let{contents:J}=X;if(this.props.noCode)return t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(J));const z=(0,P.Yp)()==="ja-JP"?"\uFF40":"`",te=(0,S.A)()?{"data-stringify-type":"code"}:{"data-stringify-prefix":z,"data-stringify-suffix":z,"data-stringify-requires-siblings":!0};return t.createElement(_.i,{blockType:"code",key:this.nextKey()},t.createElement(_.m,null,t.createElement("code",F({key:this.nextKey(),className:"c-mrkdwn__code"},te),this.renderMrkdwnFormatting(J))))},this.renderCommand=X=>{let{data:J}=X;const{type:z,label:te,...$}=J,{noHighlights:q,noLinking:re,do24hrTime:de}=this.props;switch(z){case"here":case"channel":case"everyone":case"group":return this.numCharactersUsed+=z.length+1,t.createElement(p.A,F({},$,{key:this.nextKey(),type:z,noHighlights:q,noLinking:re}));case"subteam":return this.numCharactersUsed+=(te||z).length,t.createElement(E.Ay,F({},$,{key:this.nextKey(),fallback:te,noHighlights:q,noLinking:re,onClick:this.handleUserGroupClick}));case"date":return this.numCharactersUsed+=(te||z).length,t.createElement(l.A,F({},$,{key:this.nextKey(),fallback:te,do24hrTime:de}));default:return V}},this.renderEmoji=X=>{let{name:J=""}=X;const{showTooltips:z,stopAnimations:te,emojiDisplayInfo:$,emojiSize:q=d.lw.MEDIUM,isEmojiInlineWithText:re,iconInTextMode:de,sourceTeamId:oe}=this.props;this.numCharactersUsed+=1;const{name:De=J,url:ae=void 0}=(0,f.H)(J,$);return t.createElement(d.Ay,{key:this.nextKey(),text:De,emojiSize:q,showTooltip:z,stopAnimations:te,iconInTextMode:de,sourceTeamId:oe,isEmojiInlineWithText:re,url:ae})},this.renderHardSpace=X=>this.props.customLineEnding?"\xA0":["\xA0",t.createElement("wbr",{key:this.nextKey()})],this.renderHex=X=>{let{color:J=""}=X;const{noHexColors:z}=this.props;return this.numCharactersUsed+=J.length,z?null:t.createElement("div",{key:this.nextKey(),className:"c-mrkdwn__hex",style:{background:J}})},this.renderHighlight=X=>t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__mention"},X),this.renderHighlightMarkers=X=>{let{contents:J}=X;return t.createElement("span",{className:"c-mrkdwn__highlight",key:this.nextKey()},this.renderMrkdwnFormatting(J))},this.renderHighlights=(X,J)=>{let{text:z=""}=X;const{highlightWords:te,noHighlights:$,maxCharacters:q}=this.props,{isLastItem:re}=J;if((0,n.A)(q)&&this.numCharactersUsed<q){const ae=q-this.numCharactersUsed;if(ae<z.length||ae===z.length&&!re){const Z=(0,r.A)((0,r.A)(z.slice(0,ae)),Y);return this.numCharactersUsed=q,[this.renderHighlights({text:Z},J),"\u2026"]}this.numCharactersUsed+=z.length}if(!z||!te||$)return(0,b.A)(z);const de=(0,y.Ay)(z,te),oe=[];let De=0;if(de.forEach(ae=>{let{index:Z,length:ie}=ae;const Ce=(0,b.A)(z.slice(De,Z));oe.push(Ce);const Re=(0,b.A)(z.substr(Z,ie));oe.push(this.renderHighlight(Re)),De=Z+ie}),De!==z.length){const ae=(0,b.A)(z.slice(De));oe.push(ae)}return oe},this.renderItalic=X=>{let{contents:J}=X;const z=(0,P.Yp)()==="ja-JP"?"\uFF3F":"_",te=(0,S.A)()?{"data-stringify-type":"italic"}:{"data-stringify-prefix":z,"data-stringify-suffix":z,"data-stringify-requires-siblings":!0};return t.createElement("i",F({key:this.nextKey()},te),this.renderMrkdwnFormatting(J))},this.renderJumbomoji=X=>{let{name:J}=X;const{showTooltips:z,stopAnimations:te,sourceTeamId:$}=this.props;return this.numCharactersUsed+=1,t.createElement(d.Ay,{key:this.nextKey(),text:J,emojiSize:d.lw.LARGE,showTooltip:z,stopAnimations:te,sourceTeamId:$})},this.renderLineBreak=()=>{const{customLineEnding:X}=this.props,J=t.createElement("br",{key:this.nextKey()});return this.numNewlinesUsed+=1,X?[t.createElement("span",{key:this.nextKey()},X),J]:J},this.onMaybeOpenSuspiciousLinkDialog=(X,J)=>{let{url:z="",contents:te=[]}=J;const{onOpenSuspiciousLinkDialog:$,suppressLinkWarningPref:q}=this.props;if(q)return;const re=m(ae=>ae!=null&&ae.text?ae.text:ae!=null&&ae.name?ae.name:ae!=null&&ae.contents?ae.contents.map(re):"","textFromContents"),de=te.map(re).join(""),oe=de.replace(/&amp;/g,"&"),De=z.replace(/&amp;/g,"&");(0,A.A)(de,z)&&($==null||$({text:oe,url:De}),X.preventDefault())},this.renderLink=X=>{let{url:J="",contents:z=[]}=X;const{doSlackActionLinks:te,noLinking:$,origin:q,memberId:re,clogLinkClick:de,explicitlyRenameBotLink:oe,isFromAppHome:De}=this.props;return t.createElement(c.Ay,{key:this.nextKey(),url:J,noLinking:$,doSlackActionLinks:te,origin:q,memberId:re,clogLinkClick:de,explicitlyRenameBotLink:oe,showTooltip:!0,maybeOpenSuspiciousLinkDialog:ae=>{this.onMaybeOpenSuspiciousLinkDialog(ae,{url:J,contents:z})},isFromAppHome:De},this.renderMrkdwnFormatting(z))},this.renderLongQuotePrefix=()=>(0,S.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">>>"),this.renderMember=X=>{let{id:J="",fallback:z}=X;const{noHighlights:te,noLinking:$,showTooltips:q,clogLinkClick:re,clientTheme:de,forceRealNames:oe,supressMentionAtSymbol:De}=this.props;return this.numCharactersUsed+=J.length,t.createElement(a.A,{key:this.nextKey(),forceRealNames:oe,id:J,fallback:z,showTooltip:q,noHighlights:te,noLinking:$,clogLinkClick:re,clientTheme:de,supressMentionAtSymbol:De})},this.renderMrkdwnFormatting=function(X){let J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{customFormatHandler:z}=le.props;return(0,u.A)(X,(te,$)=>{if(le.isTruncated())return!1;const q=te.type,re=q&&le.FORMAT_HANDLERS[q]||le.renderHighlights,de=m(()=>{const De=Boolean(J&&X&&$===X.length-1);return re(te,{index:$,isLastItem:De})},"getDefaultOutput");let oe;try{z?(oe=z({item:te,getDefaultOutput:de}),t.isValidElement(oe)&&(oe=t.cloneElement(oe,{key:le.nextKey()}))):oe=de()}catch(De){Ee.error(De)}return oe===V&&(oe=le.renderUnknownItem(te)),oe})},this.renderParagraphBreak=()=>{const{customLineEnding:X}=this.props;return X?this.renderLineBreak():(0,S.A)()?t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br","data-stringify-type":"paragraph-break"}):t.createElement("span",{key:this.nextKey(),className:"c-mrkdwn__br"},t.createElement("i",{className:"copy_only"},t.createElement("br",null)))},this.renderPre=(X,J)=>{let{contents:z}=X,{index:te}=J;if(this.props.noCode)return this.renderUnformattedBlock({contents:z,index:te});const $=(0,P.Yp)()==="ja-JP"?"\uFF40\uFF40\uFF40":"```",q=(0,S.A)()?{"data-stringify-type":"pre"}:{"data-stringify-prefix":$,"data-stringify-suffix":$,"data-stringify-requires-siblings":!0};return t.createElement(_.i,{blockType:"codeBlock"},t.createElement(_.m,null,t.createElement("pre",F({key:this.nextKey(),className:"c-mrkdwn__pre"},q),this.renderMrkdwnFormatting(z))))},this.renderQuote=(X,J)=>{let{contents:z}=X,{index:te}=J;if(this.props.noQuotes)return this.renderUnformattedBlock({contents:z,index:te});const $={};if((0,S.A)()&&!(0,i.A)(z)){const q=(z==null?void 0:z[0].type)==="long_quote_prefix"?"blockquote":"quote";$["data-stringify-type"]=q}return t.createElement("blockquote",F({key:this.nextKey(),className:"c-mrkdwn__quote"},$),this.renderMrkdwnFormatting(z))},this.renderQuotePrefix=()=>(0,S.A)()?null:t.createElement("span",{key:this.nextKey(),className:"copy_only"},">"),this.renderStrike=X=>{let{contents:J}=X;const z=(0,S.A)()?{"data-stringify-type":"strike"}:{"data-stringify-prefix":"~","data-stringify-suffix":"~","data-stringify-requires-siblings":!0};return t.createElement("strike",F({key:this.nextKey()},z),this.renderMrkdwnFormatting(J))},this.renderUnformattedBlock=X=>{let{contents:J,index:z}=X;const te=t.createElement("span",{key:this.nextKey()},this.renderMrkdwnFormatting(J));if(z===0)return te;const $=this.renderLineBreak();return this.isTruncated()?$:[$,te]},this.renderUnknownItem=X=>{let{token:J}=X;const{showTooltips:z}=this.props;return z?t.createElement(h.Ay,{key:this.nextKey(),tip:G.t("Sorry! This part didn\u2019t render correctly.")},t.createElement("code",{className:"sk_primary_foreground"},J)):t.createElement("code",{key:this.nextKey(),className:"sk_primary_foreground"},J)},this.FORMAT_HANDLERS={bold:this.renderBold,italic:this.renderItalic,strike:this.renderStrike,code:this.renderCode,pre:this.renderPre,quote:this.renderQuote,quote_prefix:this.renderQuotePrefix,long_quote_prefix:this.renderLongQuotePrefix,line_break:this.renderLineBreak,paragraph_break:this.renderParagraphBreak,space_hard:this.renderHardSpace,link:this.renderLink,command:this.renderCommand,member:this.renderMember,channel:this.renderChannel,emoji:this.renderEmoji,jumbomoji:this.renderJumbomoji,hex:this.renderHex,highlight:this.renderHighlightMarkers,unknown:this.renderUnknownItem}}},"BaseMrkdwn");ne.defaultProps={text:"",tsfMode:"NORMAL",emojiMode:"default",emojiDisplayInfo:{},emojiSize:void 0,isEmojiInlineWithText:!0,do24hrTime:!1,suppressLinkWarningPref:!1,noJumbomoji:!1,noLinking:!1,noSpecials:!1,noHighlights:!1,noEmojiText:!1,iconInTextMode:void 0,noHexColors:!1,noCode:!1,noQuotes:!1,preventCopyPaste:!1,transformMissingEmoji:!1,showIconForEmojiInAsTextMode:!1,stopAnimations:!1,customLineEnding:"",showTooltips:!0,doInlineImages:!1,doSlackActionLinks:!1,origin:void 0,memberId:void 0,sourceTeamId:void 0,customFormatHandler:void 0,customContentHandler:void 0,clogLinkClick:o.A,addDirectionAttr:!0,ariaAssertive:void 0,maxCharacters:1/0,maxNewlines:1/0,onRender:o.A,onMouseEnter:o.A,onMouseLeave:o.A,explicitlyRenameBotLink:!1,onUserGroupClick:o.A,onOpenSuspiciousLinkDialog:o.A,clientTheme:"light",refToForward:void 0,"data-qa":void 0,isExpandableStateKnown:!1,isExpanded:!1,experimentTsfSnitchGroupOn:!1,isFromAppHome:!1,forceRealNames:!1,supressMentionAtSymbol:!1,useUserNamePrefs:!1},ne.displayName="BaseMrkdwn";const se=m((Ie,Se)=>{const{emojiMode:le,noHexColors:X,noJumbomoji:J,useUserNamePrefs:z}=Se,te=le||(0,v.w)(Ie),$=(0,U.A)(Ie);return{emojiMode:te,noJumbomoji:J||!$,highlightWords:(0,R.A)(Ie),noHexColors:X||(0,x.ty)(Ie,"hide_hex_swatch"),do24hrTime:(0,x.ty)(Ie,"time24"),suppressLinkWarningPref:(0,x.ty)(Ie,"suppress_link_warning"),clientTheme:(0,K.to)(Ie),experimentTsfSnitchGroupOn:(0,N._Z)(Ie,"tsf_snitch")==="on",forceRealNames:z&&(0,B.E)(Ie)}},"mapStateToProps"),ce=m(Ie=>({onUserGroupClick:Se=>Ie((0,L.q)({groupId:Se})),onOpenSuspiciousLinkDialog:Se=>{let{text:le,url:X}=Se;return Ie((0,k.A)({text:le,url:X}))}}),"mapDispatchToProps"),ye=(0,O.N)(se,ce)(ne)},6423046221:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>I});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(4192943401),i=e(6839188756),o=e(2546018671),a=e(8739505998),_=e(3903956190),l=e(4096483543),p=e(9391594207),g=e(6652001255),c=e(3677514771),E=e(598369692),A=e(1835177371);function d(){return d=Object.assign||function(C){for(var D=1;D<arguments.length;D++){var M=arguments[D];for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(C[P]=M[P])}return C},d.apply(this,arguments)}m(d,"_extends");function v(C){let{id:D,className:M=void 0,fallback:P=void 0,handle:S=void 0,isUserInGroup:b=!1,onClick:O=r.A,noHighlights:L=!1,noLinking:k=!1,isNonExistent:K=!1,isUnknown:N=!1,isDeactivated:R=!1,team:U=void 0,showUserGroupDetailsProps:x,alwaysDisplayAsLink:B=!1,noTabbableContent:F=!1}=C;const V=(0,t.useCallback)(ce=>{x(D),ce.preventDefault(),O(ce,D)},[D,O,x]);if(N)return t.createElement(u.A,{type:"unknown"});if(K&&!P)return t.createElement(u.A,{type:"non-existent"});const Y=!k&&!K&&!R,w=(0,_.k)({userGroupHandle:S,fallbackHandle:P,isUnknown:N,isNonExistent:K}),G=w,Ee=b&&!L,ne=n()("c-mrkdwn__user_group",M,{"c-mrkdwn__user_group--link":B||Y,"c-mrkdwn__user_group--mention":Ee});if(!Y)return t.createElement("span",{"data-user-group-id":D,"data-qa-user-group-mrkdwn-is-linked":Y,"data-qa-user-group-mrkdwn-is-mention":Ee,className:ne},G);const se={};return(0,l.A)()?(se["data-stringify-type"]="mention",se["data-stringify-id"]=D,se["data-stringify-label"]=w):se["data-stringify-text"]=w,t.createElement(a.A,d({className:ne,"data-user-group-id":D,"data-qa-user-group-mrkdwn-is-linked":Y,"data-qa-user-group-mrkdwn-is-mention":Ee,href:`${(0,i.Zl)(U)}admin/user_groups`,onClick:V},F&&{tabIndex:-1},se),G)}m(v,"UserGroup"),v.displayName="UserGroup";const h=null;function f(C,D){let{id:M}=D;const P=(0,A.lJ)(C,M);let S;if(P){const O=(0,o.t8)(P),L=(0,o.QR)(P),k=!(0,o.V1)(P),K=P.handle||void 0;var b;S={handle:K,isUnknown:O,isNonExistent:L,isDeactivated:k,isUserInGroup:(0,E.nc)(C,P.id)&&!k,team:(b=(0,c.H7)(C))!==null&&b!==void 0?b:void 0}}else S={isNonExistent:!0};return S}m(f,"mapStateToProps");const y=m(C=>({showUserGroupDetailsProps:D=>C((0,g.q)({groupId:D}))}),"mapDispatchToProps"),I=(0,p.N)(f,y)(v)},9656781090:(W,T,e)=>{"use strict";e.d(T,{A:()=>v});var t=e(3134334389),s=e(7715417323),n=e(1607053586),r=e(2850141087);function u(){return u=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var y=arguments[f];for(var I in y)Object.prototype.hasOwnProperty.call(y,I)&&(h[I]=y[I])}return h},u.apply(this,arguments)}m(u,"_extends");const i=(0,t.memo)(h=>{let{addMemberToPresenceSubscription:f=s.A,memberId:y,removeMemberFromPresenceSubscription:I=s.A,renderDoublePresence:C=!1,firstElementExtraClassName:D="",...M}=h;return(0,r.A)(()=>(f(y),()=>I(y)),[y]),C?t.createElement(t.Fragment,null,t.createElement(n.Ay,u({},M,{className:`${M.className||""} ${D}`})),t.createElement(n.Ay,u({},M))):t.createElement(n.Ay,u({},M))});i.displayName="PresenceWithSubscriptions";const o=i;var a=e(7582939986),_=e(92812954),l=e(6045540917),p=e(9391594207),g=e(5241075893),c=e(5795074931),E=e(9290914927);const A=m((h,f)=>{const y=(0,E.gd)(h,f.memberId),I=(0,_.d)(h,f.memberId),C=(0,l.h)(h,f.memberId),D=(0,c.WR)(h)===f.memberId;return{...f,userType:I,isDnd:C,isSelf:D,isSlackbot:f.memberId===a.Q$,isActive:y==="active"}},"mapStateToProps"),d=m(h=>({addMemberToPresenceSubscription:f=>h((0,g.xz)({memberId:f})),removeMemberFromPresenceSubscription:f=>h((0,g.Fd)({memberId:f}))}),"mapDispatchToProps"),v=(0,p.N)(A,d)(o)},9283547879:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>n});var t=e(9656781090),s=e(1607053586);const n=t.A},1607053586:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>g});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2036354333),u=e(8683010724),i=e(8181621268),o=e(735940183);function a(){return a=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var d in A)Object.prototype.hasOwnProperty.call(A,d)&&(c[d]=A[d])}return c},a.apply(this,arguments)}m(a,"_extends");const _=new o.A("presence");function l(c,E){return c?E?_.t("Active, notifications snoozed"):_.t("Active"):E?_.t("Away, notifications snoozed"):_.t("Away")}m(l,"getPresenceText");const p=m(c=>{let{inheritIconSize:E=!1,inline:A=!0,isActive:d=!1,isDnd:v=!1,isSelf:h=!1,isSlackbot:f=!1,invert:y=!1,userType:I="member",focusable:C=!1,showText:D=!1,resetIA:M=!1,hasNoAccess:P=!1,className:S}=c,b=d?{name:"status-member",variation:"filled"}:{name:"status-member"};const O=n()(S,"c-presence",{"c-presence--active":d&&!y,"c-presence--resetIA":M,"c-presence--away":!d&&!y,"c-presence--inverted":y,"is-inline":A,block:!A}),L=l(d,v);P?b={name:"lock",variation:"filled"}:I==="member"?v?b=d?{name:"status-member-dnd",variation:"filled"}:{name:"status-member-dnd"}:f&&(b={name:"status-slackbot",variation:"filled"}):I==="ra"||I==="external"?v?b=d?{name:"status-guest-dnd",variation:"filled"}:{name:"status-guest-dnd"}:b=d?{name:"status-guest",variation:"filled"}:{name:"status-guest"}:I==="ura"&&(v?b=d?{name:"status-single-channel-guest-dnd",variation:"filled"}:{name:"status-single-channel-guest-dnd"}:b=d?{name:"status-single-channel-guest",variation:"filled"}:{name:"status-single-channel-guest"});const k=t.createElement("span",{className:O},t.createElement(u.A,a({},b,{title:L,"aria-label":L,"aria-hidden":"false",size:E?"inherit":"20",inline:A,"data-qa":"presence_indicator","data-qa-type":b.name,"data-qa-presence-self":h,"data-qa-presence-active":d,"data-qa-presence-dnd":v})));return C?t.createElement(t.Fragment,null,t.createElement(i.Ay,{tip:L},t.createElement(r.A,null,k)),D&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},L)):t.createElement(t.Fragment,null,k,D&&t.createElement("span",{className:"padding_left_50","aria-hidden":"true"},L))},"Presence");p.displayName="Presence";const g=t.memo(p)},9674520607:(W,T,e)=>{"use strict";e.d(T,{A:()=>J});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(307717037),i=e(2208015175),o=e(2664504268),a=e(4250078557),_=e(3207321841),l=e(5602423845),p=e(2850141087),g=e(7937864072),c=e(5204962244),E=e(6308822),A=e(1224315998),d=e(735940183),v=e(9506008067),h=e(2047021170);const f=new d.A("slack_kit_video"),I=(0,t.forwardRef)((z,te)=>{let{src:$,vtt:q,videoPoster:re,title:de,label:oe,autoPlay:De=!0,enableMediaCaptions:ae,onLoadedMetadata:Z,isLoading:ie,setIsLoading:Ce,isPlaying:Re,setIsPlaying:He,duration:be,setDuration:Ue,setElapsed:me,enableControls:ve=!1,controlsList:Fe,shiftCaptionsUp:Ke,setHasError:j,videoContainerClassName:ee}=z;const je=(0,g.A)(),Te=(0,l.A)(),Je=(0,t.useRef)(null),Ae=(0,c.d)(o.A),[Me,we]=(0,t.useState)(!1),Ge=(0,t.useRef)(),Qe=(0,t.useRef)(0),[fe,Ve]=(0,t.useState)(null),Be=(0,v.d4)(Pt=>(0,h.ty)(Pt,"media_muted"));var Ye;const et=(Ye=(0,v.d4)(Pt=>(0,h.ty)(Pt,"media_volume")))!==null&&Ye!==void 0?Ye:1,at=(0,v.d4)(Pt=>(0,h.ty)(Pt,"media_playback_speed")),gt=(0,t.useRef)({});(0,t.useEffect)(()=>{Je.current&&fe&&(gt.current={file_src:fe,media_type:"video",duration_ms:be*1e3,playback_session:Ae,title:de})},[Ae,fe,de,be]),(0,t.useEffect)(()=>{fetch($).then(Pt=>Pt.blob()).then(Pt=>{const Kt=URL.createObjectURL(Pt);Ve(Kt)}).catch(Pt=>{je.error(`Video player err: ${Pt}`),j(!0)})},[je,j,Ve,$]);const Mt=(0,t.useRef)(!1),Bt=(0,t.useCallback)(()=>{!Mt.current&&Me&&(Ge.current&&(Qe.current+=Date.now()-Ge.current,Ge.current=void 0),Te.track(A.EventId.SK_VIDEO_PLAYER,(0,u.A)({},gt.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_type:"video",element_name:"playback_finished"}}},closed_captions:ae?"on":"off",playback_speed:`${at??1}x`,duration_watched_ms:Qe.current})),Mt.current=!0,Qe.current=0)},[Te,Me,ae,at]),Ct=(0,t.useRef)(Bt);Ct.current=Bt,(0,p.A)(()=>()=>Ct.current(),[]);const Ft=(0,t.useCallback)(()=>{Bt()},[Bt]);(0,t.useEffect)(()=>{if(!Je.current)return;const Pt=m(()=>{Re&&He(!1),Ce(!0)},"onWaiting"),Kt=m(()=>{Ce(!1),He(!0),Te.track(A.EventId.SK_VIDEO_PLAYER,(0,u.A)({},gt.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"play"}}}})),Me||(we(!0),Te.track(A.EventId.SK_VIDEO_PLAYER,(0,u.A)({},gt.current,{contexts:{ui_context:{action:"impression",ui_properties:{element_name:"media"}}}}))),Ge.current=Date.now()},"onPlay"),dn=m(()=>{He(!1),Ce(!1),Te.track(A.EventId.MEDIA_PLAYER,(0,u.A)({},gt.current,{contexts:{ui_context:{action:"click",ui_properties:{element_type:"button",element_name:"pause"}}}})),Ge.current&&(Qe.current+=Date.now()-Ge.current,Ge.current=void 0)},"onPause"),sn=Je.current,H=m(()=>{if(!sn.buffered)return;const qe=sn.duration||0;Ue(qe)},"onProgress"),Ne=m(()=>{Ce(!1);const qe=sn.duration;Ue(qe),me(sn.currentTime)},"onTimeUpdate"),Pe=m(()=>{const qe=sn.playbackRate;_.Cv.includes(qe)&&(sn.playbackRate=qe)},"handleRateChange");return sn.addEventListener("waiting",Pt),sn.addEventListener("progress",H),sn.addEventListener("timeupdate",Ne),sn.addEventListener("play",Kt),sn.addEventListener("playing",Kt),sn.addEventListener("pause",dn),sn.addEventListener("ratechange",Pe),sn.addEventListener("ended",Ft),()=>{sn.addEventListener("waiting",Pt),sn.removeEventListener("progress",H),sn.removeEventListener("timeupdate",Ne),sn.removeEventListener("play",Kt),sn.removeEventListener("playing",Kt),sn.removeEventListener("pause",dn),sn.removeEventListener("ratechange",Pe),sn.removeEventListener("ended",Ft)}},[Je,ie,Re,Ue,Ce,me,He,Me,we,Ft,Te]),(0,t.useEffect)(()=>{var Pt;const Kt=(Pt=Je.current)===null||Pt===void 0?void 0:Pt.textTracks[0];Kt&&(Kt.mode=ae?"showing":"hidden")},[ae]),(0,t.useEffect)(()=>{if(ae){var Pt,Kt;const dn=(Pt=Je.current)===null||Pt===void 0?void 0:Pt.textTracks[0];if(!dn)return;const sn=((Kt=Je.current)===null||Kt===void 0?void 0:Kt.clientWidth)<500?50:80;dn.mode="hidden",Ke?(0,i.A)(dn==null?void 0:dn.cues,H=>{(H.text.match(/\n/g)||[]).length>=2||H.text.length>sn?H.line=-6:H.line=-5}):(0,i.A)(dn==null?void 0:dn.cues,H=>{H.line="auto"}),dn.mode="showing"}},[ae,Ke]);const kt=(0,t.useCallback)(function(Pt){let Kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;Je!=null&&Je.current&&(Je.current.currentTime=Pt,Kt&&Je.current.play())},[Je]),Et=(0,t.useCallback)(()=>{Je!=null&&Je.current&&(Je.current.paused?Je.current.play():Je.current.pause())},[Je]),mt=(0,t.useCallback)(()=>{var Pt;Je!=null&&Je.current&&((Pt=Je.current)===null||Pt===void 0||Pt.pause())},[Je]),Rt=(0,t.useCallback)(Pt=>{Je!=null&&Je.current&&(Je.current.muted=Pt)},[Je]),Ht=(0,t.useCallback)(Pt=>{Je!=null&&Je.current&&(Je.current.volume=Pt)},[Je]),ft=(0,t.useCallback)(Pt=>{Je!=null&&Je.current&&_.Cv.includes(Pt)&&(Je.current.playbackRate=Pt)},[Je]);(0,t.useImperativeHandle)(te,()=>({setCurrentTime:kt,togglePlayPause:Et,setMuted:Rt,setVolume:Ht,setPlaybackRate:ft,pause:mt})),(0,t.useEffect)(()=>{Be&&Rt(Be),et&&Ht(et),at&&!ve&&ft(at)});const Jt=(0,t.useCallback)(()=>{var Pt;const Kt=(Pt=Je.current)===null||Pt===void 0?void 0:Pt.error;Kt&&(j(!0),je.error(`error code: ${Kt.code}, msg: ${Kt.message}`))},[Je,je,j]),Zt=(0,t.useCallback)(()=>{Ce(!1)},[Ce]),Tt=n()("c-video_player-video-container",ee);return t.createElement("div",{className:Tt,"data-media-focus-container":!0,tabIndex:-1},ie&&t.createElement("div",{className:"c-video_player-video-container_spinner"},t.createElement(E.A,{color:"white"})),t.createElement("video",{preload:"auto",autoPlay:De,"aria-label":oe,className:"c-video_player-video",controls:ve&&!ie?!0:void 0,controlsList:ve?Fe:void 0,title:de,ref:Je,poster:re,disablePictureInPicture:!0,onLoadedMetadata:Z,onCanPlay:Zt,onError:Jt},fe&&t.createElement("source",{src:fe,type:"video/mp4"}),f.t("Your browser does not support the video tag"),q&&t.createElement(a.A,{vtt:q,enableMediaCaptions:ae})))});var C=e(6122756707),D=e(9362126998),M=e(2036354333),P=e(5946832122),S=e(8683010724),b=e(2312625946),O=e(387484329);const L=new d.A("video_player"),k=m(z=>{let{vtt:te,isInlinePlayer:$,className:q,backgroundStyle:re}=z;const de=(0,C.wA)(),oe=(0,v.d4)(Re=>(0,h.ty)(Re,"enable_media_captions")),De=(0,v.d4)(D.y0),ae=(0,t.useCallback)(()=>{de((0,O.AZ)({pref:"enable_media_captions",value:!oe}))},[de,oe]),Z=oe&&te?L.t("Turn off captions",{fallbackHash:"c344bd39683fc6566ab53b0d886e93230fd21cbf",fallbackHashNs:"stories_av"}):L.t("Turn on captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"}),ie=L.t("Display captions",{fallbackHash:"6761b8af97254fcb93590208ff4ee1f03481c900",fallbackHashNs:"stories_av"});if(!De)return null;const Ce=oe?t.createElement(S.A,{name:"closed-caption",variation:"filled",size:"inherit"}):t.createElement(S.A,{name:"closed-caption",size:"inherit"});return t.createElement(b.Ay,{tip:Z,position:"top",delay:b.n1,hideFromScreenReader:!0},$?t.createElement(M.A,{className:n()("c-video_controls_overlay__controls__button c-video_controls_overlay__controls__caption"),"aria-label":ie,"aria-pressed":oe,onClick:ae},Ce):t.createElement(P.A,{"aria-label":ie,"aria-pressed":oe,icon:oe?"cc-filled":"cc",onClick:ae,size:"medium",className:q,backgroundStyle:re},"CC"))},"VideoCaptionsButton");k.displayName="VideoCaptionsButton";const K=k;var N=e(5874162200),R=e(9446966957);function U(){return U=Object.assign||function(z){for(var te=1;te<arguments.length;te++){var $=arguments[te];for(var q in $)Object.prototype.hasOwnProperty.call($,q)&&(z[q]=$[q])}return z},U.apply(this,arguments)}m(U,"_extends");const x=new d.A("video_scrubber"),B=m(z=>{let{elapsed:te,duration:$,setTime:q}=z;const re=(0,t.useRef)(null);(0,t.useEffect)(()=>{var ae;(ae=re.current)===null||ae===void 0||ae.toggleAttribute("data-no-drag-on-mouse-move",!0)},[re]);const de=(0,t.useCallback)(ae=>t.createElement("div",U({className:"c-video_player_controls_scrubber c-video_player_controls_overlay__hover",ref:re},ae)),[]),oe=(0,t.useCallback)(ae=>t.createElement("div",U({className:"c-video_player_controls_scrubber__track"},ae)),[]),De=(0,t.useCallback)(ae=>t.createElement("div",U({className:"c-video_player_controls_scrubber__elapsed"},ae)),[]);return t.createElement(R.A,{value:te,max:$,onChange:q,renderContainer:de,renderTrack:oe,renderInner:De,"aria-label":x.t("Time scrubber",{currentTime:(0,N.A)(te),totalTime:(0,N.A)($),fallbackHash:"638b3954642581b284074f5e0f0f6dd701690df1",fallbackHashNs:"stories_av"}),"aria-valuetext":(0,N.A)(te)})},"VideoControlsScrubber");B.displayName="VideoControlsScrubber";const F=B;var V=e(5460331959),Y=e(3118200703),w=e(8371678613),G=e(3242899446),Ee=e(4916948857),ne=e(3749524846),se=e(6084388622),ce=e(5034080361);const pe=new d.A("slack_kit_video"),ye=m(z=>{let{onClickOverlay:te,showControls:$=!0,duration:q,elapsed:re,setTime:de,isPlaying:oe,isLoading:De,videoRef:ae,vtt:Z,setShiftCaptionsUp:ie=r.A,onFullscreenButtonClicked:Ce,isFullScreen:Re}=z;const He=(0,t.useContext)(ne.A),[be,Ue]=(0,t.useState)(!1),[me,ve]=(0,t.useState)(!1),Fe=(0,t.useRef)(null),Ke=(0,t.useRef)(null),j=oe?pe.t("Pause",{fallbackHash:"781961bc81c25697841ecce5d4d9dad9f6b261c6",fallbackHashNs:"stories_av"}):pe.t("Play",{fallbackHash:"5d12bd53552cafc41ca6146c04870df2e1574e13",fallbackHashNs:"stories_av"}),ee=(0,t.useCallback)(Ve=>{var Be,Ye;const et=Ve.target,at=!!(He&&(!((Be=Fe.current)===null||Be===void 0)&&Be.contains(et)||!((Ye=Ke.current)===null||Ye===void 0)&&Ye.contains(et)));ve(at)},[He]),je=(0,t.useCallback)(Ve=>{var Be,Ye;const et=Ve.relatedTarget,at=!!(He&&(!((Be=Fe.current)===null||Be===void 0)&&Be.contains(et)||!((Ye=Ke.current)===null||Ye===void 0)&&Ye.contains(et)));ve(at)},[He]),{mouseIsOverElement:Te,onMouseLeave:Je,onMouseEnter:Ae,onMouseMove:Me,onMouseOver:we}=(0,Ee.A)(),Ge=(0,t.useCallback)(()=>{Ae()},[Ae]);(0,t.useEffect)(()=>{ie(Te)},[Te,ie]);const Qe=(()=>re?(0,ce.A)(re*1e3):q?(0,ce.A)(q*1e3):pe.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"call_buttons"}))(),fe=De?t.createElement(E.A,{size:"medium",color:"white",className:"c-video_player_controls_overlay__controls__spinner",noMargin:!0}):t.createElement(S.A,{name:oe?"pause":"play",variation:"filled",inline:!0});return $?t.createElement(V.A,null,Ve=>{let{measureRef:Be,width:Ye}=Ve;const et=Ye||360,at=!!(et&&et<=330);return t.createElement("div",{className:n()("c-video_player_controls_overlay","c-video_player_controls_overlay--controls",{"c-video_player_controls_overlay--active":me,"p-video_player_controls_overlay--vertical_volume_active":be}),onFocus:ee,onBlur:je,onMouseEnter:Ge,onMouseLeave:Je,onMouseMove:Me,onMouseOver:we,"data-prevent-fade":"true",role:"group",ref:Be},t.createElement(se.Nm,{className:"c-video_player_controls_overlay__button",onClick:te,tabIndex:-1,"aria-hidden":"true"}),t.createElement("div",{className:"c-video_player_controls_overlay__controls_container",ref:Fe},t.createElement(F,{elapsed:re,duration:q,setTime:de}),t.createElement("div",{className:"c-video_player_controls_overlay--controls"},t.createElement(se.Nm,{className:n()("c-video_player_controls_overlay__controls__pill",{"c-video_player_controls_overlay__controls__pill--playing":oe}),"aria-label":j,"aria-pressed":oe,onClick:te},fe,t.createElement("div",{className:"c-video_player_controls_overlay__time"},Qe)),t.createElement(G.A,{className:"c-video_player_media_volume_slider",isInlinePlayer:!0,useVerticalVolume:at,setIsVerticalVolumeActive:Ue,videoRef:ae}),t.createElement("div",{className:"c-video_player_controls--right-controls"},t.createElement(w.A,{isInlinePlayer:!0,videoRef:ae}),Z&&t.createElement(K,{vtt:Z,isInlinePlayer:!0})))),t.createElement("div",{className:"c-video_player_controls_overlay__corner c-video_controls_overlay__hover",ref:Ke},!Re&&Ce&&t.createElement(Y.A,{classPrefix:"c-video_player",onClick:Ce})))}):null},"VideoOverlay");ye.displayName="VideoOverlay";const Ie=ye;var Se=e(4481313819);const le=new d.A("slack_kit_video"),X=m(z=>{let{className:te,styleProps:$,title:q,label:re,src:de,vtt:oe,enableMediaCaptions:De=!1,autoPlay:ae,videoPoster:Z,enableControls:ie=!1,controlsList:Ce,bubbleErrorOrLoadingStateToParent:Re=r.A,videoContainerClassName:He}=z;const be=(0,t.useRef)(null),[Ue,me]=(0,t.useState)(!1),[ve,Fe]=(0,t.useState)(!1),[Ke,j]=(0,t.useState)(!0),[ee,je]=(0,t.useState)(0),[Te,Je]=(0,t.useState)(0),[Ae,Me]=(0,t.useState)(!1),we=(0,v.d4)(Ve=>(0,h.ty)(Ve,"enable_media_captions"))||De;(0,t.useEffect)(()=>{Re&&Re({hasError:ve,isLoading:Ke})},[ve,Ke,Re]);const Ge=(0,t.useCallback)(Ve=>{if(be!=null&&be.current){var Be;(Be=be.current)===null||Be===void 0||Be.setCurrentTime(Ve,!1)}else je(Ve)},[be,je]),Qe=(0,t.useCallback)((Ve,Be)=>{Be&&Je(Be)},[]),fe=(0,t.useCallback)(Ve=>{var Be;Ve.stopPropagation(),(Be=be.current)===null||Be===void 0||Be.togglePlayPause()},[be]);return t.createElement(Se.A,{clogImpression:!0,eventId:A.EventId.SK_VIDEO_PLAYER},t.createElement("div",{className:n()("c-video_player",te),style:$},t.createElement(I,{title:q,label:re,src:de,vtt:oe,ref:be,autoPlay:ae,videoPoster:Z,enableControls:ie,controlsList:Ce,setIsLoading:j,isLoading:Ke,isPlaying:Ue,setIsPlaying:me,duration:Te,setDuration:Je,setElapsed:je,onLoadedMetadata:Qe,enableMediaCaptions:we,shiftCaptionsUp:Ae,setHasError:Fe,videoContainerClassName:He}),ve&&t.createElement("div",{className:"c-video_player__error_overlay"},t.createElement("p",null,le.t("Error loading video. Please try again later."))),t.createElement(Ie,{onClickOverlay:fe,elapsed:ee,duration:Te,showControls:!ie,setTime:Ge,isPlaying:Ue,isLoading:Ke,videoRef:be,vtt:oe,setShiftCaptionsUp:Me,onFullscreenButtonClicked:r.A,isFullScreen:!1})))},"VideoPlayer");X.displayName="VideoPlayer";const J=t.memo(X)},3227396439:(W,T,e)=>{"use strict";e.d(T,{$:()=>u,h:()=>r});var t=e(6769132732),s=e(7090824688),n=e(5185985254);const r=(0,t.A)(s.yW),u=(0,t.A)((0,n.A)(s.yW))},97626932:(W,T,e)=>{"use strict";e.d(T,{A:()=>u,u:()=>r});var t=e(6769132732),s=e(630868093),n=e(5185985254);const r=(0,t.A)(s.JJ),u=(0,t.A)((0,n.A)(s.JJ))},6769132732:(W,T,e)=>{"use strict";e.d(T,{A:()=>Ee});var t=e(3134334389),s=e(7715417323),n=e(166097325),r=e(9113979368),u=e(9524650809),i=e(235108050),o=e(362134992),a=e(2208015175),_=e(8086952004),l=e(4360875129),p=e(2394306156),g=e(9746734072),c=e(2101927269),E=e(8840779375),A=e(9268023148),d=e(5950652755),v=e(3297051565),h=e.n(v),f=e(1545824888),y=e(3924280006),I=e(145735569),C=e(3708320478),D=e(1507416e3),M=e(2753496765);function P(ne){return[...ne.filter(se=>!se.isError&&!se.isUnknown),...ne.filter(se=>!se.isError&&se.isUnknown),...ne.filter(se=>se.isError)]}m(P,"sortTokens");var S=e(9236644324),b=e(56548687),O=e(337319621),L=e(4413566926),k=e(8374895239),K=e(4327331459),N=e(7679173189),R=e(4862221402),U=e(9868740303),x=e(4342685672),B=e(4757466470),F=e(9391594207),V=e(8847766420);function Y(){return Y=Object.assign||function(ne){for(var se=1;se<arguments.length;se++){var ce=arguments[se];for(var pe in ce)Object.prototype.hasOwnProperty.call(ce,pe)&&(ne[pe]=ce[pe])}return ne},Y.apply(this,arguments)}m(Y,"_extends");const w=(0,O.Wo)(),G=new L.Ay("form_inputs");function Ee(ne){const se={searcherOptions:h().object.isRequired,selectId:h().string.isRequired,inputRef:h().object,isRequired:h().bool,selectedOptions:h().array,selectedOption:h().object,isExpanded:h().bool,isDisabled:h().bool,isInvalid:h().bool,focusOnMount:h().bool,searchOnPaste:h().bool,expandOnFocus:h().bool,expandOnClick:h().bool,searchBatchSize:h().number,debounceWaitPeriod:h().number,onFilterQueryPaste:h().func,onInputFocused:h().func,onSearch:h().func,onSearchError:h().func,onSearchResolved:h().func,onOptionsListClose:h().func,splitPastedQuery:h().func,processOptions:h().func,processSelectedOptions:h().func,clogger:h().object.isRequired,search:h().func.isRequired,teamId:h().string.isRequired,useSearcherSessions:h().bool,showConfirmDialog:h().func,restrictedSelectedTokenIndexes:h().array,disabledSelectedTokenIndexes:h().array,invalidSelectedTokenIndexes:h().array,useBulkSearch:h().bool,shouldRefocusInputAfterSelection:h().bool},ce={isRequired:!0,selectedOptions:null,selectedOption:null,inputRef:null,isExpanded:!1,isDisabled:!1,isInvalid:!1,focusOnMount:!1,searchOnPaste:!1,expandOnFocus:void 0,expandOnClick:void 0,searchBatchSize:1,debounceWaitPeriod:50,onFilterQueryPaste:s.A,onInputFocused:s.A,onSearch:s.A,onSearchError:s.A,onSearchResolved:s.A,onOptionsListClose:s.A,splitPastedQuery:M.I,processOptions:Se=>f.K.resolve(Se),processSelectedOptions:void 0,useSearcherSessions:!1,showConfirmDialog:void 0,restrictedSelectedTokenIndexes:[],disabledSelectedTokenIndexes:[],invalidSelectedTokenIndexes:[],useBulkSearch:!1,shouldRefocusInputAfterSelection:void 0};let pe=m(class extends t.Component{componentDidMount(){this.props.focusOnMount&&this.setState(()=>({isLoading:!0})),this.searchQuery(this.state.filterQuery)}componentDidUpdate(le,X){const{isDisabled:J,isInvalid:z,selectedOptions:te,selectedOption:$,searchOnPaste:q,expandOnFocus:re,expandOnClick:de,restrictedSelectedTokenIndexes:oe,disabledSelectedTokenIndexes:De,invalidSelectedTokenIndexes:ae}=this.props,Z={};if(le.isInvalid!==z&&(Z.isInvalid=z),le.isDisabled!==J&&(Z.isDisabled=J),(0,n.A)(le.selectedOptions,te)||(Z.selectedOptions=te),(0,n.A)(le.selectedOption,$)||(Z.selectedOption=$),(le.expandOnFocus&&!re||le.expandOnClick&&!de)&&(Z.isExpanded=!1),this.wasUnknownTokenResolved(this.state.selectedOptions,X.selectedOptions)){var Ce,Re;const Fe=this.getNextUnknownTokenIndex();Z.selectedTokenIndexes=[Fe],(Ce=this.inputRef)===null||Ce===void 0||(Re=Ce.current)===null||Re===void 0||Re.focus()}le.restrictedSelectedTokenIndexes!==oe&&(Z.restrictedSelectedTokenIndexes=oe),le.disabledSelectedTokenIndexes!==De&&(Z.disabledSelectedTokenIndexes=De),le.invalidSelectedTokenIndexes!==ae&&(Z.invalidSelectedTokenIndexes=ae);const{isLoading:He,pendingQueries:be,selectedOptions:Ue,pendingEscapeQueries:me,filterQuery:ve}=this.state;if(q&&!He){if(!(0,r.A)(be))Z.isLoading=!0,Z.loadInBackground=!0,this.searchQueryObjects(be);else if(X.isLoading){if(this.updateDisabled(!1),me.length>0&&ve===""){const Fe=(0,k.A)(me.map(Te=>Te.query),{noConj:!0}).join(""),Ke=me[0],{options:j}=Ke,ee=m(Te=>Te.map(Je=>{const{query:Ae,options:Me,...we}=Je,Ge=Me?{options:ee(Me)}:{};return{...we,...Ge,query:Fe}}),"getUpdatedOptions"),je={...Ke,options:ee(j),query:Fe};Z.pendingEscapeQueries=[],Z.options=je.options,Z.filterQuery=Fe,Z.isExpanded=!0,Z.isLoading=!1}if(Ue.length){const Fe=Ue.filter(j=>j.isError||j.isUnknown).length,Ke=Fe?G.t("Loading complete. There {count, plural, =1 {is # unknown entry} other {are # unknown entries}}.",{count:Fe}):G.t("Loading complete.");this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel(),this.updateAriaTextThrottled(Ke)}}}(0,r.A)(Z)||this.setSelectState(()=>Z)}componentWillUnmount(){this.updateAriaText.cancel&&this.updateAriaText.cancel(),this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),this._isMounted=!1}async onFilterQueryPaste(le){const{searchOnPaste:X,searcherOptions:J,splitPastedQuery:z,processOptions:te}=this.props;if(!X||!le&&!le.clipboardData)return;le.preventDefault();const $=le.clipboardData.getData("text/plain")?"text/plain":"Text",q=(0,S.i_)(le),re=q.text,de=z(re,{...J,fromMetadata:q.text!==le.clipboardData.getData($)});this.props.onFilterQueryPaste(de);const oe=[],De=[];await f.K.all(de.map(ae=>{const Z=this.getQueryId();return(0,K.A)(ae)||(0,R.A)(ae)||(0,N.Ay)(ae)?te([{key:Z,pasted:!0,fromMetadata:!0,value:ae,label:q.members?q.members[ae]:ae}]).then(ie=>(ie[0]&&De.push(ie[0]),f.K.resolve())):(oe.push({query:ae,queryId:Z,pasted:!0}),De.push({label:ae,queryId:Z,isLoading:!0,key:Z,pasted:!0}),f.K.resolve())})),this.setSelectState(ae=>({pendingQueries:ae.pendingQueries.concat(oe),selectedOptions:ae.selectedOptions.concat(De),filterQuery:""})),this.updateDisabled(!(0,r.A)(oe)),this.updateAriaTextThrottled.cancel&&this.updateAriaTextThrottled.cancel()}onInputFocused(){this.props.onInputFocused(),!(this.props.expandOnClick||this.shouldExpandOnFocus())&&this.setState(()=>({isExpanded:!1,options:[]}))}onOptionsListClose(le){const{isLoading:X,isExpanded:J,filterQuery:z}=this.state;!X&&J&&z.length>0&&this.clogSearcherResults(),this.props.onOptionsListClose(le)}async onTokenSelect(le){if(!(this.props.expandOnClick||this.shouldExpandOnFocus())){if(le&&!le.isUnknown)this.setState(()=>({isExpanded:!1,options:[]}));else if(le){const X=await this.props.processOptions(le.resultOptions.map(J=>({...J,fromUnknown:!0})),le.label);this.lastShownSearchDetails=le.searcher,this.setState(()=>({isExpanded:!0,options:X}))}}}getQueryId(){return(0,u.A)("query__")}async setSelectState(le,X){var J;const{processSelectedOptions:z}=this.props;let te=le(this.state);const{selectedOption:$,selectedOptions:q,shouldRefocusInputAfterSelection:re}=this.state;re&&(te.shouldRefocusInputAfterSelection=!0),te.filterQuery!==void 0&&te.filterQuery!==this.state.filterQuery&&(te.isLoading=!0,te.loadInBackground=!1,this.searchQuery(te.filterQuery));const{searchOnPaste:de}=this.props;if(de&&te.selectedOptions){const De=te.selectedOptions.map(Z=>{let{key:ie}=Z;return ie}),ae=(0,i.A)((0,o.A)(De.filter(Z=>De.indexOf(Z)!==De.lastIndexOf(Z))));(0,a.A)(ae,Z=>{const ie=(0,_.A)(te.selectedOptions,Re=>{let{key:He,isUnknown:be}=Re;return He===Z&&!be}),Ce=(0,o.A)(te.selectedOptions.map(Re=>Re.key===Z?Re.isUnknown?ie:null:Re));te.selectedOptions=Ce})}if(te.selectedOptions!==void 0&&!(0,n.A)(te.selectedOptions,q)){const De=te.selectedOptions.filter(Z=>{let{isLoading:ie,isUnknown:Ce}=Z;return!ie&&!Ce}),[ae]=(0,l.A)(De,q,"value");ae&&this.clogSearcherResults(ae)}te.selectedOption!==void 0&&te.selectedOption!==null&&((J=te.selectedOption)===null||J===void 0?void 0:J.value)!==($==null?void 0:$.value)&&this.clogSearcherResults(te.selectedOption);const oe=!!te.removalInitiator;if(te.selectedOptions&&!oe&&z){if(te=(0,p.A)(te),te.isLoading!==void 0){const De=te.isLoading;this.setState(()=>({isLoading:De})),delete te.isLoading}te.selectedOptions=await z(te.selectedOptions)}this.setState(()=>te,X)}getNextUnknownTokenIndex(){return this.state.selectedOptions.findIndex(le=>le.isUnknown&&le.queryId)}wasUnknownTokenResolved(le,X){const J=le.filter(te=>te.isUnknown).length,z=X.filter(te=>te.isUnknown).length;return J<z}shouldExpandOnFocus(){const{expandOnFocus:le}=this.props,{selectedOptions:X}=this.state,J=(0,D.A)(X);return le&&!J}clogSearcherResults(le){if(this.lastShownSearchDetails===null)return;const{clogger:X,selectId:J,useSearcherSessions:z,teamId:te}=this.props,{query:$,results:q}=this.lastShownSearchDetails,re={source:J,query:$,results:q};le?(re.selectedItemId=le.value,z?(0,U.A)({teamId:te,key:J}).clogSearcherAccept({clogger:X,data:re}):(0,y.DC)({clogger:X,data:re})):z?(0,U.A)({teamId:te,key:J}).clogSearcherReject({clogger:X,data:re}):(0,y.Yb)({clogger:X,data:re})}processSearchResults(le){const{searchOnPaste:X,onSearchResolved:J,searcherOptions:z}=this.props,{escapeHatchEnabled:te,escapeHatchKeys:$}=z,q=this.state.selectedOptions.slice(0);X&&le.forEach(re=>{let{queryId:de,options:oe,searcher:De}=re;const ae=q.findIndex(Ce=>Ce.queryId===de),Z=q[ae];let ie=null;if(Z){this.lastShownSearchDetails=De;let Ce;oe.length===1?(Ce=oe[0],te&&De&&De.results&&De.results.length===0&&De.pasted&&$&&$[Ce.key]&&this.setState(He=>({pendingEscapeQueries:[...He.pendingEscapeQueries,{query:De.query,options:[Ce]}]})),this.clogSearcherResults(Ce)):oe.length?Ce={isUnknown:!0}:(Ce={isError:!0},this.clogSearcherResults()),ie={...Z,...Ce,resultOptions:oe,searcher:De,isLoading:!1},q[ae]=ie}J({result:oe,selectedOption:ie})}),this.setState(re=>{if((0,B.Ay)(re.selectedOptions,q,2)){const{options:de,searcher:oe}=le[0];return this.lastShownSearchDetails=oe,re.loadInBackground?null:{options:de}}return{selectedOptions:P(q)}})}runBatchedSearch(le){const X=le.slice(0,this.props.searchBatchSize);if(le.length>1&&this.props.useBulkSearch){const z=X.some($=>!!$.pasted),te=X.some($=>!!$.initial);return this.runSingleSearch({query:X,pasted:z,initial:te})}const J=X.map(z=>{let{query:te,queryId:$,pasted:q,initial:re}=z;return this.runSingleSearch({query:te,queryId:$,pasted:q,initial:re})});return f.K.all(J)}runSingleSearch(le){let{query:X,queryId:J,pasted:z,initial:te}=le;const{onSearch:$,onSearchError:q,processOptions:re,searcherOptions:de,selectId:oe,useSearcherSessions:De,teamId:ae,useBulkSearch:Z}=this.props;let ie,Ce,Re=!1;const He=J||this.getQueryId(),be=new Map;if((0,g.A)(X)&&Z?(ie=X.map(me=>(be.set(me.queryId,me.query),{query:(0,M.t)(me.query,de),queryId:me.queryId})),Re=!0):Ce=(0,M.t)(X,de),Ce&&$(X)===!1)return re([],Ce).then(me=>({queryId:He,options:me,searcher:this.lastShownSearchDetails}));let Ue;return De&&(!z||Re)?Ue=(0,U.A)({teamId:ae,key:te?He:oe}).search({query:Re?ie:Ce,options:{...de,sort:{source:oe,...de.sort},returnMetadata:!0}}):Ue=this.props.search({query:Re?ie:Ce,options:{...de,sort:{source:oe,...de.sort},returnMetadata:!0}}),Ue.then(async me=>{this.lastShownSearchDetails={query:Re?ie:Ce,results:me};const ve=(me||[]).map((j,ee)=>{var je;return{key:Re?j.queryId:`${He}_${ee}`,value:j.item.id,label:j.name||((je=j.item)===null||je===void 0?void 0:je.name)||(Re?be.get(j.queryId):X),entity:j.item,matchData:j.subqueryScoresByMember}}),{selectedOption:Fe}=this.state;Ce===""&&Fe&&((0,_.A)(ve,["value",Fe.value])||ve.unshift(Fe));const Ke=await re(ve,X,{pasted:z});return{queryId:He,options:Ke,searcher:{...this.lastShownSearchDetails,pasted:z}}}).catch(me=>{w.error(`Error when searching for select id: ${oe}, error: ${me}`),q(me);const ve=[];return{queryId:He,options:ve,searcher:{query:Re?ie:Ce,results:ve,pasted:z,isError:!0}}})}searchQuery(le){this._isMounted&&this.searchQueryObjects([{query:le}])}searchQueryObjects(le){if((0,r.A)(le))return;if(this.searchPromise&&this.searchPromise.cancel&&this.searchPromise.cancel(),!this.props.searchOnPaste){const{query:J,queryId:z}=le[0];this.searchPromise=this.runSingleSearch({query:J,queryId:z}).then(te=>{let{options:$}=te;this.setSelectState(()=>({options:$})),this.setState(()=>({isLoading:!1}))});return}this.searchPromise=this.runBatchedSearch(le).then(J=>{let z=J;this.props.useBulkSearch&&(z=this.generateBulkSearchResultsArray(z)),this.processSearchResults(z);const te=z.map($=>{let{queryId:q}=$;return q});this.setState($=>({pendingQueries:$.pendingQueries.filter(re=>{let{queryId:de}=re;return!te.includes(de)}),isLoading:!1}))});const X=G.t("Loading {count, plural, =1 {# more entry} other {# more entries}}",{count:le.length});this.updateAriaTextThrottled(X)}updateAriaText(le){this.setState(X=>X.ariaText===le?null:{ariaText:le})}updateDisabled(le){this.setState(X=>X.isDisabled===le?null:{isDisabled:le})}generateBulkSearchResultsArray(le){var X;if(!(!(le==null||(X=le.options)===null||X===void 0)&&X.length))return le.splice(0);const{options:J,searcher:z}=le,{pasted:te,query:$,results:q}=z;return $.map(de=>({options:J.filter(oe=>oe.key===de.queryId),queryId:de.queryId,searcher:{pasted:te,query:de.query,results:q.filter(oe=>oe.queryId===de.queryId)}}))}render(){return t.createElement(t.Fragment,null,t.createElement(ne,Y({},this.props,{expandOnFocus:this.shouldExpandOnFocus(),inputRef:this.inputRef,selectState:this.state,setSelectState:this.setSelectState,onOptionsListClose:this.onOptionsListClose,onFilterQueryPaste:this.onFilterQueryPaste,onTokenSelect:this.onTokenSelect,onInputFocused:this.onInputFocused,isLoading:this.state.isLoading})),t.createElement(C.A,{message:this.state.ariaText}))}constructor(le){super(le),this.searchPromise=null,this.setSelectState=this.setSelectState.bind(this),this.onOptionsListClose=this.onOptionsListClose.bind(this),this.onFilterQueryPaste=this.onFilterQueryPaste.bind(this),this.onTokenSelect=this.onTokenSelect.bind(this),this.onInputFocused=this.onInputFocused.bind(this);const{selectedOptions:X,searchOnPaste:J}=le,z=(0,c.A)(X,$=>(0,I.iC)($));let te=[];J&&(te=(0,o.A)((0,E.A)(z,$=>!$.label||!$.queryId?null:{query:$.label,queryId:$.queryId,initial:!0}))),this.state={filterQuery:"",options:[],isExpanded:le.isExpanded,selectId:le.selectId,selectedOptions:le.selectedOptions||[],selectedOption:le.selectedOption||null,isRequired:le.isRequired,isLoading:!1,isDisabled:le.isDisabled,isInvalid:le.isInvalid,pendingQueries:te||[],loadInBackground:!1,ariaText:"",shouldRefocusInputAfterSelection:!!le.showConfirmDialog||le.shouldRefocusInputAfterSelection,pendingEscapeQueries:[],selectedTokenIndexes:[],restrictedSelectedTokenIndexes:le.restrictedSelectedTokenIndexes||[],disabledSelectedTokenIndexes:le.disabledSelectedTokenIndexes||[],invalidSelectedTokenIndexes:le.invalidSelectedTokenIndexes||[]},this.searchQuery=(0,A.A)(this.searchQuery,le.debounceWaitPeriod),this.updateAriaTextThrottled=(0,d.A)(this.updateAriaText,3e4),this.lastShownSearchDetails=null,this.inputRef=le.inputRef||t.createRef(),this._isMounted=!0}},"SearcherSelectWrapper");pe.displayName="SearcherSelectWrapper",pe.propTypes=se,pe.defaultProps=ce;const ye=m(Se=>({clogger:(0,b.e)({state:Se}),teamId:(0,V.JY)(Se),useSearcherSessions:(0,x.nK)(Se)}),"mapStateToProps"),Ie={search:function(){for(var Se=arguments.length,le=new Array(Se),X=0;X<Se;X++)le[X]=arguments[X];return(0,y.$P)(...le)}};return(0,F.N)(ye,Ie)(pe)}m(Ee,"withSearcher")},6226774595:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>s,Y$:()=>r,Z0:()=>n,nB:()=>u});var t=e(4761125736);function s(i){return(0,t._Z)(i,"tableau_unfurls")==="on"}m(s,"isTableauUnfurlsEnabled");function n(i){return(0,t._Z)(i,"tableau_work_object_unfurls")==="on"}m(n,"isTableauWorkObjectUnfurlsEnabled");function r(i){return(0,t._Z)(i,"tableau_unfurls_embed")==="on"}m(r,"isTableauUnfurlsEmbedEnabled");function u(i){return(0,t._Z)(i,"tableau_unfurls_embed_caching")==="on"}m(u,"isTableauUnfurlsEmbedCachingEnabled")},4121822481:(W,T,e)=>{"use strict";e.d(T,{D:()=>p,Y:()=>g});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5000515034),u=e(8683010724),i=e(6084388622),o=e(2217643974),a=e.n(o);function _(){return _=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var d in A)Object.prototype.hasOwnProperty.call(A,d)&&(c[d]=A[d])}return c},_.apply(this,arguments)}m(_,"_extends");function l(){return t.createElement(u.A,{name:"caret-right",size:"16"})}m(l,"Separator"),l.displayName="Separator";function p(c){let{crumb:E}=c;const{label:A,onClick:d,className:v,iconProps:h}=E;return t.createElement("div",{className:n()(a().record_breadcrumb,v)},h&&t.createElement(u.A,_({},h,{inline:!0})),!d&&t.createElement("span",{className:a().record_breadcrumb_label},A),d&&t.createElement(i.jV,{className:a().record_breadcrumb_label,onClick:d},A))}m(p,"RecordBreadcrumb"),p.displayName="RecordBreadcrumb";function g(c){let{className:E,crumbs:A,isLoading:d}=c;return!A.length&&!d?null:t.createElement("div",{className:n()(a().record_breadcrumbs,E)},d&&t.createElement(r.A,{dataQa:"record-breadcrumbs-missing-text",size:"large"}),!d&&A.map((v,h)=>t.createElement(t.Fragment,{key:v.label},t.createElement(p,{crumb:v}),!v.noSeparator&&h!==A.length-1&&t.createElement(l,null))))}m(g,"RecordBreadcrumbsLayout"),g.displayName="RecordBreadcrumbsLayout"},5083570322:(W,T,e)=>{"use strict";e.d(T,{r:()=>C});var t=e(3134334389),s=e(735940183),n=e(362134992),r=e(9392104102),u=e(9101533895),i=e(7045654828),o=e(5892132962),a=e(4158363050),_=e(2823938397),l=e(2463625947),p=e(5332109660),g=e(4121822481),c=e(9548888903),E=e(9506008067),A=e(2233365467),d=e(8096107629),v=e(6122756707);const h=new s.A("recordchannels");function f(D){let{className:M,recordId:P}=D;const S=(0,v.wA)(),b=(0,E.d4)(L=>(0,i.PQ)(L,P)),O=(0,t.useMemo)(()=>{if(!(0,d._s)(b))return r.Ml;const{org:L,parent:k}=b,K={name:(0,o.zJ)(k==null?void 0:k.object_api_name)},N={name:(0,o.zJ)(c.hM.Org)};return(0,n.A)([k&&{label:k.name,iconProps:K,onClick:()=>S((0,l.c)({recordId:k.id}))},L&&{label:L.name,iconProps:N}])},[S,b]);return t.createElement(g.Y,{className:M,crumbs:O,isLoading:(0,d.Eh)(b)})}m(f,"BaseRecordBreadcrumbs"),f.displayName="BaseRecordBreadcrumbs";function y(D){let{className:M,channelId:P,includePrefix:S}=D;const b=(0,v.wA)(),O=(0,E.d4)(B=>(0,u.OL)(B,P)),L=(0,A.iJ)(O),k=(0,A.dM)(O),K=(0,A.jT)(O),N=(0,E.d4)(B=>(0,i.PQ)(B,L)),R=N.parent,U=(0,E.d4)(B=>(0,a.kO)(B,(0,p.D)(L||"").salesforceOrgId)),x=(0,t.useMemo)(()=>{const B={name:(0,o.zJ)(k)},F={name:(0,o.zJ)(R==null?void 0:R.object_api_name)},V={name:(0,o.zJ)(c.hM.Org)};return(0,n.A)([S&&{label:h.t("{recordLabel} in",{recordLabel:K,recordType:K}),className:"margin_right_25",iconProps:B,noSeparator:!0},(R==null?void 0:R.name)&&{label:R.name,iconProps:F,onClick:()=>{R.id&&b((0,l.c)({recordId:R.id}))}},(0,_.uz)(U)&&{label:U.name,iconProps:V}])},[b,S,U,R,k,K]);return t.createElement(g.Y,{className:M,crumbs:x,isLoading:(0,_.mX)(U)||(0,_.mX)(O)||(0,d.Eh)(N)})}m(y,"BaseRecordChannelBreadcrumbs"),y.displayName="BaseRecordChannelBreadcrumbs";const I=null,C=t.memo(y)},5996639710:(W,T,e)=>{"use strict";e.d(T,{B:()=>n});var t=e(3009309149),s=e(4761125736);const n=(0,t.Ay)(u=>(0,s._Z)(u,"record_channel_related_conversations")==="on");n.meta={name:"createSelector",key:"createSelectorisRecordChannelRelatedConversationsEnabled",description:u=>(0,s._Z)(u,"record_channel_related_conversations")==="on"};const r=(0,t.Ay)(u=>(0,s._Z)(u,"salesforce_channel_retention_frontend")==="on");r.meta={name:"createSelector",key:"createSelectorisSalesforceChannelRetentionFrontendEnabled",description:u=>(0,s._Z)(u,"salesforce_channel_retention_frontend")==="on"}},2463625947:(W,T,e)=>{"use strict";e.d(T,{B:()=>p,c:()=>g});var t=e(6304789565),s=e(8040098042),n=e(9101533895),r=e(8847766420),u=e(1407713935),i=e(8096107629),o=e(4117634716),a=e(8822892075),_=e(9629572172),l=e(352142497);function p(c){return(c==null?void 0:c.type)==="messageUnfurl"}m(p,"isMessageUnfurlReferrer");const g=(0,t.Ay)("Navigate to a Record in the Flexpane",async(c,E,A,d)=>{let{listViewId:v,recordId:h,shouldPersistOnRecordChannel:f=!0,referrer:y}=A;const I=E(),C=(0,r.ZT)(I);C&&(0,i.D1)(C,[h]);let D;if(f){const{getPrimaryView:P}=d(_.U),S=P(I),b=S==null?void 0:S.id;D=b&&(S==null?void 0:S.viewType)===l.D.Channel&&(0,s.A)(b)&&(0,u.rI)((0,n.OL)(I,b,!1))?b:void 0}const M=(0,a.We)({listViewId:v,recordId:h});return c((0,o.o)({...M,params:{...M.params,parentTab:D,referrer:y}}))});g.meta={name:"createThunk",key:"createThunknavigateToRecord",description:"Navigate to a Record in the Flexpane"}},5892132962:(W,T,e)=>{"use strict";e.d(T,{sc:()=>o,zJ:()=>i});var t=e(9548888903),s=e(2233365467),n=e(1407713935);const r={[t.hM.Account]:"sf-account",[t.hM.Case]:"sf-case",[t.hM.Contact]:"sf-contact",[t.hM.Lead]:"sf-lead",[t.hM.Opportunity]:"sf-opportunity",[t.hM.Org]:"sf-cloud"},u={name:"headphones",variation:"filled"};function i(a){return a&&r[a]||"sf-record"}m(i,"getSalesforceObjectTypeIconName");function o(a){if(!(0,n.rI)(a))return null;const _=(0,s.LJ)(a);switch((0,s.fI)(_==null?void 0:_.record_id)){case t.B4.Huddle:return u;default:return null}}m(o,"getRecordChannelOverrideIconProps")},7244076749:(W,T,e)=>{"use strict";e.d(T,{b:()=>s});var t=e(2878685908);function s(){return(0,t.b3)()}m(s,"isSlackKitPlaygroundEnabled")},2615727366:(W,T,e)=>{"use strict";e.d(T,{u:()=>a});var t=e(3134334389),s=e(4939604634),n=e(5380741476),r=e(1335022929),u=e(5519146941),i=e(7937864072),o=e(9506008067);function a(){const _=(0,i.A)(),{getSiblingView:l}=(0,t.useContext)(u.A),p=(0,o.d4)(E=>(0,n.g)(E,{getSiblingView:l})),g=(0,t.useContext)(r.d).channelId,c=(0,o.d4)(E=>{if(g)return(0,s.b)(E,{channelId:g,currentTabId:p})});if(g)return c||_.error(new Error("No current channel tab selected.")),c}m(a,"useCurrentlySelectedTab")},5380741476:(W,T,e)=>{"use strict";e.d(T,{g:()=>n});var t=e(2384831516),s=e(3193155968);const n=(0,t.Mz)((r,u)=>{let{getSiblingView:i}=u;var o;const a=i(r,{container:s.mq.Primary});return a==null||(o=a.params)===null||o===void 0?void 0:o.tabId});n.meta={name:"createSelector",key:"createSelectorgetCurrentTabId",description:(r,u)=>{let{getSiblingView:i}=u;var o;const a=i(r,{container:s.mq.Primary});return a==null||(o=a.params)===null||o===void 0?void 0:o.tabId}}},1335022929:(W,T,e)=>{"use strict";e.d(T,{H:()=>r,d:()=>n});var t=e(3134334389),s=e(4427921758);const n=(0,t.createContext)({});function r(u){let{channelId:i,children:o}=u;const a=(0,t.useMemo)(()=>({channelId:i}),[i]);return t.createElement(n.Provider,{value:a},t.createElement(s.j.Provider,{value:a},o))}m(r,"TabbedChannelProvider"),r.displayName="TabbedChannelProvider"},6971099563:(W,T,e)=>{"use strict";e.d(T,{DZ:()=>_,MI:()=>a,TX:()=>l,jH:()=>r,nr:()=>i,t_:()=>o,yg:()=>u});var t=e(3037015781);const s=m((p,g)=>{var c;return p==null||(c=p.layouts)===null||c===void 0?void 0:c[g]},"getWorkObjectLayout"),n=m((p,g)=>{var c,E;return(c=s(p,g))===null||c===void 0||(E=c.title)===null||E===void 0?void 0:E.text},"getWorkObjectTitleByLayout"),r=m(p=>(p==null?void 0:p.type)==="entity_details_present","isEntityFromRTMEvent"),u=m(p=>{var g;return r(p)&&((g=p.ext_error)===null||g===void 0?void 0:g.status)==="user_not_authed"},"isExistingEntityAwaitingUserAuth"),i=m(p=>{if(!(0,t.GU)(p))return r(p)?p.entity_details:p.work_object},"getWorkObjectDetails"),o=m(p=>(0,t.GU)(p)?p.id:r(p)?p.entity_id:p.record_id,"getEntityId"),a=m((p,g)=>{const c=i(p);return c&&s(c,g)},"getEntityLayout"),_=m((p,g)=>{const c="title"in p?p.title:void 0,E=i(p);var A;return(A=E&&n(E,g))!==null&&A!==void 0?A:c},"getEntityTitleByLayout"),l=m(p=>{var g;const c="external_link"in p?p.external_link:void 0;var E;return(E=(g=i(p))===null||g===void 0?void 0:g.external_url)!==null&&E!==void 0?E:c},"getEntityUrl")},73855031:(W,T,e)=>{"use strict";e.d(T,{n:()=>p});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(2036354333),i=e(8683010724),o=e(6627147571),a=e.n(o);function _(){return _=Object.assign||function(g){for(var c=1;c<arguments.length;c++){var E=arguments[c];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A])}return g},_.apply(this,arguments)}m(_,"_extends");const l={item:"accordion-list-item",itemHeader:"accordion-list-item-header",itemDescription:"accordion-list-item-description",expandedIcon:"accordion-list-item-expanded-icon",imageCaret:"accordion-list-item-image-caret"};function p(g){let{accordionItems:c,className:E,showImageCaret:A,autoClogProps:d,showItemBorder:v=!0,itemClassName:h="",itemHeaderClassName:f="",itemHeaderButtonClassName:y="",itemDescriptionClassName:I="",expandedIconClassName:C="",collapsedIconClassName:D="",imageCaretClassName:M="",applyCustomAnimation:P=!1,expandOnHover:S=!1}=g;const[b,O]=(0,t.useState)(!1),[L,k]=(0,t.useState)(c.map((w,G)=>({...w,isExpanded:G===0}))),[K,N]=(0,t.useState)(""),R=(0,t.useRef)({}),U=(0,t.useCallback)((w,G)=>()=>{b||O(!0),!G.isExpanded&&(k(L.map((Ee,ne)=>({...Ee,isExpanded:ne===w}))),N(G.id),typeof G.onExpand=="function"&&G.onExpand())},[L,b]),x=(0,t.useCallback)(w=>G=>{R.current[w]=G},[]);(0,t.useEffect)(()=>{if(K&&R.current[K]){var w;(w=R.current[K])===null||w===void 0||w.focus()}},[K]);const B=m(w=>({...d,onClick:{enableClogAction:!w.isExpanded},elementValue:w.id}),"getAutoClogProps"),F=(0,t.useCallback)((w,G)=>t.createElement("h2",{className:n()(a().header,{[f]:!!f,[a().customItemTextAnimation]:P&&G&&b,[a().customItemText]:P&&G&&!b}),"data-qa":l.itemHeader},w),[P,f,b]),V=(0,t.useCallback)((w,G,Ee)=>{let ne=n()({[a().defaultShowDescriptionAnimation]:G&&b,[a().defaultShowDescription]:G&&!b});return P&&(ne=n()({[a().customItemTextAnimation]:P&&G&&b,[a().customItemText]:P&&G&&!b})),t.createElement("div",{className:ne},t.createElement("div",{className:a().description},t.createElement("div",{id:`description-${Ee}`,"aria-hidden":!G,"data-qa":l.itemDescription,className:n()({[I]:!!I})},w)))},[P,I,b]),Y=P?{[a().customItemTransition]:P}:{};return t.createElement("ul",{className:n()(a().accordion,E)},L.map((w,G)=>t.createElement("li",{key:w.id,"data-qa":l.item,className:n()(a().item,{[a().expanded]:w.isExpanded,[a().noBorder]:!v,...Y},h)},t.createElement(u.A,{"aria-expanded":w.isExpanded,"aria-controls":`description-${G}`,className:n()(a().itemHeader,{[y]:!!y}),onClick:U(G,w),autoClogProps:B(w),ref:x(w.id),"aria-label":typeof w.header=="string"?w.header:void 0,"aria-describedby":w.isExpanded?`description-${G}`:void 0,onMouseOver:S?U(G,w):r.A},t.createElement("div",{className:a().iconSpacer},w.isExpanded?t.createElement("span",{className:n()(a().expandedIcon,{[C]:!!C,[w.iconHighlightClassName||""]:!!w.iconHighlightClassName}),"data-qa":l.expandedIcon},w.iconProps?t.createElement(i.A,_({},w.iconProps)):t.createElement(i.A,{name:"check",variation:"filled"})):t.createElement("span",{className:n()({[D]:!!D,[w.iconHighlightClassName||""]:!!w.iconHighlightClassName})},w.collapsedIcon?t.createElement(i.A,_({},w.collapsedIcon)):t.createElement(i.A,{name:"caret-right",variation:"filled"}))),t.createElement("div",{className:"display_flex flex_direction_column"},F(w.header,w.isExpanded),V(w.description,w.isExpanded,G))),A&&w.isExpanded&&t.createElement("div",{className:n()(a().imageCaret,M),"data-qa":l.imageCaret}))))}m(p,"Accordion"),p.displayName="Accordion"},7156540029:(W,T,e)=>{"use strict";e.d(T,{K8:()=>n,Q1:()=>t});const t=20,s={FETCH:"activity_fetch",VIEW_LOAD:"activity_view_load",VIEW_UPDATED:"activity_view_updated"},n={PREF:"activity_view",PAGE:"page",FLEXPANE:"flexpane"}},4371795352:(W,T,e)=>{"use strict";e.d(T,{g:()=>n});var t=e(2384831516),s=e(5624319675);const n=(0,t.Mz)(r=>(0,s.mr)(r));n.meta={name:"createSelector",key:"createSelectorisAgentforceNewDmViewEnabled",description:r=>(0,s.mr)(r)}},9509635375:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(9506008067),s=e(4413566926),n=e(4844578989),r=e.n(n),u=e(3134334389),i=e(6271402872),o=e(5624319675);function a(){return a=Object.assign||function(g){for(var c=1;c<arguments.length;c++){var E=arguments[c];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A])}return g},a.apply(this,arguments)}m(a,"_extends");const _=new s.Ay("members");function l(g){let{className:c,inverse:E=!1,isWorkflow:A=!1,isLegacyWorkflow:d=!1,isAgent:v=!1,...h}=g;const f=(0,t.d4)(i.x$),y=(0,t.d4)(o.mr);let I=_.t("WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"});d&&f&&(I=_.t("LEGACY WORKFLOW",{fallbackHash:"aa16061e7815ca19a57c9db8f84c9601b739f570"})),y&&v?I=_.t("AGENTFORCE",{fallbackHash:"635643b67608c4426a4ad8287a8b687415bee6b5"}):A||(I=_.t("APP"));const C=r()(c,"c-app_badge",{"c-app_badge--inverse":E});return u.createElement("span",a({},h,{className:C,"data-stringify-suffix":" "}),I)}m(l,"AppBadge"),l.displayName="AppBadge";const p=(0,u.memo)(l)},5874162200:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(735940183);const s=new t.A("audio_player");function n(u){const i=Math.floor(u/3600),o=Math.floor((u-i*3600)/60),a=Math.floor(u-i*3600-o*60);return i>0?s.t("{hours} {hours, plural, =1 {hour} other {hours}}, {minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:a,minutes:o,hours:i}):o>0?s.t("{minutes} {minutes, plural, =1 {minute} other {minutes}}, {seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:a,minutes:o}):s.t("{seconds} {seconds, plural, =1 {second} other {seconds}}",{seconds:a})}m(n,"secondsToSpokenTime");const r=n},1191942715:(W,T,e)=>{"use strict";e.d(T,{A:()=>Y});var t=e(8289365785),s=e(362134992),n=e(3134334389),r=e(9391594207),u=e(2047021170),i=e(8847766420),o=e(1301184890),a=e(6795568989),_=e(3842747943),l=e(6533394955),p=e(7203178304);function g(w,G){if(!G||!w||!(0,a.d)(w))return"";const Ee=(0,l.$D)(G),ne=(0,_.O)(Ee);return(0,p.A)(ne)[w]}m(g,"getUnicodeNameFromEmojiString");var c=e(8389327410),E=e(297247517),A=e(7712314707),d=e(1843207890),v=e(475043867),h=e(6783791506),f=e(6659965705),y=e(9413477854),I=e(8212777283),C=e(7957086050),D=e(8983164438),M=e(1030162945),P=e(7048718168),S=e(6423046221),b=e(2836999160),O=e(3869429517),L=e(345646370),k=e(5014733736),K=e(694411468),N=e(3771536679),R=e(6122756707),U=e(9506008067),x=e(4841770661),B=e(8025887996);const F=m(w=>{let{richTextBlock:G,do24hrTime:Ee,emojiSize:ne,truncateLength:se,teamOrEnterpriseId:ce,withFormattingStyles:pe,withHighlights:ye,withSlackLinks:Ie,withHyperlinks:Se}=w;var le;const X=(0,R.wA)(),J=(0,U.d4)(ae=>(0,u.ty)(ae,"suppress_link_warning")),z=(0,n.useCallback)(ae=>{if(!J){const{href:Z,innerText:ie}=ae.target;X((0,x.A)({text:ie,url:Z})),ae.preventDefault()}},[X,J]);if(!(!(G==null||(le=G.elements)===null||le===void 0)&&le.length))return null;let te=0;const $=m(()=>(te+=1,te),"makeKey");let q=(0,t.A)((0,B.M)(G.elements)),re;if((0,D.C)(q)&&(q!=null&&q.style&&q.style===c.L1.ORDERED?re=n.createElement(n.Fragment,null,"1. "):re=n.createElement(n.Fragment,null,"\u2022 "),q=(0,t.A)(q.elements)),!q||!q.elements||!q.elements.length)return null;let de=!1,oe=0;const De=q.elements.map(ae=>{if(de)return null;let Z=null;if((0,h.E)(ae)){oe+=1;const ie=ae.name,Ce=ae.skin_tone,Re=ae.display_team_id,He=ae.display_alias,be=ae==null?void 0:ae.unicode,Ue=He??ie,me=(0,o.A)(Ue,ce);let ve=Ce?`:${Ue}::skin-tone-${Ce}:`:`:${Ue}:`;if(me&&be){const Ke=g(be,ce??"");Ke&&(ve=`:${Ke}:`)}const Fe=ae.display_url;Z=n.createElement(M.Ay,{key:$(),text:ve,emojiSize:ne||M.lw.MEDIUM,isEmojiInlineWithText:!0,showTooltip:!0,sourceTeamId:Re,url:Fe})}if((0,v.P)(ae)&&(ae!=null&&ae.channel_id)&&(oe+=ae.channel_id.length,Z=n.createElement(P.A,{key:$(),id:ae.channel_id,noLinking:!Ie})),(0,f.H)(ae)&&(ae!=null&&ae.user_id)&&(oe+=ae.user_id.length,Z=n.createElement(L.A,{key:$(),id:ae.user_id,noLinking:!Ie,noHighlights:!ye})),(0,y.G)(ae)&&(ae!=null&&ae.usergroup_id)&&(oe+=ae.usergroup_id.length,Z=n.createElement(S.Ay,{key:$(),id:ae.usergroup_id,noLinking:!Ie,noHighlights:!ye})),(0,A.V)(ae)&&(ae!=null&&ae.range)&&(oe+=ae.range.length,Z=n.createElement(b.A,{key:$(),type:ae.range,noLinking:!Ie,noHighlights:!ye})),(0,d.i)(ae)){const{timestamp:ie,format:Ce,fallback:Re}=ae;if(!ie||!Ce)return null;oe+=Re?Re.length:0,Z=n.createElement(O.A,{key:$(),ts:ie.toString(),format:Ce,fallback:Re,do24hrTime:Ee,noLinking:!Ie})}if((0,C._)(ae)){oe+=(ae.text||ae.url||"").length;let ie;if(Se){const Ce=ae.url||"",Re=ae.text||ae.url||"";(0,N.A)(Re,Ce)?ie=n.createElement(K.A,{key:$(),href:Ce,onClick:z},Re):ie=n.createElement(K.A,{key:$(),href:Ce},Re)}else ie=n.createElement(n.Fragment,{key:$()},ae.text||ae.url||"");Z=ie}if((0,I.f)(ae)&&(ae!=null&&ae.value)&&(oe+=ae.value.length,Z=n.createElement(n.Fragment,{key:$()},ae.value||"")),(0,E.P)(ae)&&ae.text){const ie=ae.text.split(/\n/);let Ce=(0,t.A)(ie);const Re=se?se-oe:oe;oe=Ce?oe+Ce.length:oe,ie.length>1&&(de=!0),Ce&&se&&Ce.length>Re&&(de=!0,Ce=Ce.substr(0,Re)),Z=n.createElement(n.Fragment,{key:$()},Ce||"")}return pe&&(Z=n.createElement(k.A,{key:$(),style:ae.style},Z)),Z||(se&&!de&&oe>se&&(de=!0),null)});return n.createElement(n.Fragment,null,re,(0,s.A)(De),de&&n.createElement(n.Fragment,null,"\u2026"))},"RichTextPreamble");F.displayName="RichTextPreamble";const V=m(w=>({do24hrTime:(0,u.ty)(w,"time24"),teamOrEnterpriseId:(0,i.JY)(w)||""}),"mapStateToProps"),Y=(0,r.N)(V)(F)},7999544567:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(297247517);function s(n){if((0,t.P)(n)){const r=n&&n.text&&n.text.trim();if(r)return r.length}return 0}m(s,"__WEBPACK_DEFAULT_EXPORT__")},8025887996:(W,T,e)=>{"use strict";e.d(T,{M:()=>n});var t=e(3495012415),s=e(498506970);function n(r){return(0,t.A)(r,u=>{const i=u&&u.elements;if(!(i!=null&&i.length))return u;const o=[],a=m(l=>l&&l.style&&l.style.code,"isCode");let _=null;return i.forEach(l=>{const p=a(l)?(0,s.A)(l):l;_&&(_!=null&&_.style)&&(p!=null&&p.style)&&a(_)&&a(p)&&(_.style.noRightCap=!0,p.style.noLeftCap=!0),o.push(p),_=p}),{...u,elements:o}})}m(n,"decorateInlineCode")},5577180258:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(45851552),s=e(5404505308),n=e(6783791506),r=e(297247517),u=e(8389327410),i=e(5305906809),o=e(7999544567);const{_EMOJI_GROUP:a}=u.Lv;function _(p,g,c,E,A,d,v){const h=p.slice(d,v),f=d+(0,t.A)(h,n.E),y=d+(0,s.A)(h,n.E)+1;p.splice(f,y-f,{type:a,name:g,size:c,displayAlias:E,skinTone:A,elements:p.slice(f,y)})}m(_,"insertEmojiGroup");function l(p){let g,c,E,A,d,v=p.length-1;for(;v>=-1;){const f=p[v];if(E=E??v,c=c??0,(0,n.E)(f))f.name===g&&f.displayAlias===A&&f.skinTone===d?c+=1:(c>=i.uz&&_(p,g,c,A,d,v+1,E+1),g=f.name,A=f.displayAlias,d=f.skinTone,E=v,c=1);else if(!(0,r.P)(f)||(0,o.A)(f)!==0){var h;c>=i.uz&&_(p,g,c,A,d,v+1,E+1),g=void 0,A=void 0,d=void 0,E=void 0,c=void 0,!((h=f)===null||h===void 0)&&h.elements&&l(f.elements)}v-=1}return p}m(l,"groupEmojis")},5014733736:(W,T,e)=>{"use strict";e.d(T,{A:()=>h});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3270738832),u=e(6122756707),i=e(8170244779),o=e(8739505998),a=e(2312625946),_=e(5082930587),l=e(82287009),p=e(9506008067),g=e(6082887833),c=e(2375333597);const E=m(f=>{const y=new Date(f),I=y.getMinutes(),C=I%15;return C<8?y.setMinutes(I-C):y.setMinutes(I+(15-C)),y.setSeconds(0),y.setMilliseconds(0),y.getTime()/1e3},"roundToNearest15Minutes");function A(f){let{children:y}=f;const I=(0,t.useContext)(i.A),C=(0,p.d4)(S=>I.ts?(0,g.S)(S,I.ts):void 0),D=(0,u.wA)(),M=(0,t.useCallback)(()=>{D((0,c.q)({element:(0,l.Qo)({channelId:I==null?void 0:I.channelId,appType:"gcal",threadTs:I==null?void 0:I.threadTs,isProfileAppView:!1})}))},[D,I==null?void 0:I.channelId,I==null?void 0:I.threadTs]),P=(0,t.useCallback)(()=>{if(C!=null&&C.contextType)switch(C==null?void 0:C.contextType){case"create_event":if(!(C!=null&&C.createEventPayload)){M();break}if(!(C!=null&&C.createEventPayload.start_date)){M();break}if(!(C!=null&&C.createEventPayload.title)){M();break}D((0,c.q)({element:(0,l.Qo)({channelId:I==null?void 0:I.channelId,appType:"gcal",threadTs:I==null?void 0:I.threadTs,presetDate:new Date(C==null?void 0:C.createEventPayload.start_date).toISOString().split("T")[0],presetStartTime:E(C==null?void 0:C.createEventPayload.start_date),presetTitle:C==null?void 0:C.createEventPayload.title,isProfileAppView:!1})}));break;case"view_schedule":if(!(C!=null&&C.viewSchedulePayload)||!(C!=null&&C.viewSchedulePayload.start_time)||!(C!=null&&C.viewSchedulePayload.date)){M();break}D((0,c.q)({element:(0,l.Qo)({channelId:I==null?void 0:I.channelId,appType:"gcal",threadTs:I==null?void 0:I.threadTs,presetDate:new Date(C==null?void 0:C.viewSchedulePayload.date).toISOString().split("T")[0],presetStartTime:E(C==null?void 0:C.viewSchedulePayload.start_time),isProfileAppView:!1})}));break;case"find_a_time":if(!(C!=null&&C.findATimePayload)){M();break}if(!(C!=null&&C.findATimePayload.duration)){M();break}break;case"describe_knowledgebase":break;default:(0,_.Kh)(C==null?void 0:C.contextType)}},[C,D,I==null?void 0:I.channelId,I==null?void 0:I.threadTs,M]);return t.createElement(a.Ay,{tip:C==null?void 0:C.debugPayload},t.createElement(o.A,{className:"p-assistant_thread_ambient_suggestion","data-qa":"assistant-thread-ambient-suggestion",onClick:P},y))}m(A,"AssistantThreadAmbientSuggestion"),A.displayName="AssistantThreadAmbientSuggestion";const d=t.memo(A),v=m(f=>{let{children:y,style:I}=f;if(!y)return null;const{bold:C,italic:D,strike:M,code:P,clientHighlight:S,subjectLine:b,noLeftCap:O,noRightCap:L}=I||{},{slackAssistantAmbientSuggestion:k,slackAssistantAmbientSuggestionKey:K}=I||{};let N=y;if(M&&(N=t.createElement("s",{"data-stringify-type":"strike"},N)),D&&(N=t.createElement("i",{"data-stringify-type":"italic"},N)),C&&!b&&(N=t.createElement("b",{"data-stringify-type":"bold"},N)),S&&(N=t.createElement("span",{className:"c-mrkdwn__highlight"},N)),k&&(N=t.createElement(d,{suggestion:K},N)),P){const R=n()("c-mrkdwn__code",{"c-mrkdwn__code--no_left_cap":O,"c-mrkdwn__code--no_right_cap":L});N=t.createElement(r.i,{blockType:"code"},t.createElement(r.m,null,t.createElement("code",{"data-stringify-type":"code",className:R},N)))}return t.createElement(t.Fragment,null,N)},"WithFormattingStyles");v.displayName="WithFormattingStyles";const h=v},897219217:(W,T,e)=>{"use strict";e.d(T,{n:()=>s});var t=e(8389327410);const s=m(n=>!n||n.length===0?!1:n[0].type===t.Lv.RICH_TEXT,"isFirstBlockRichText")},4541034515:(W,T,e)=>{"use strict";e.d(T,{A:()=>d});var t=e(3134334389),s=e(3297051565),n=e.n(s),r=e(9391594207),u=e(8677230210),i=e(8170643398),o=e(9509635375),a=e(4031325387),_=e(3244118357),l=e(4413566926);const p=new l.Ay("bot-name"),g={isWorkflow:n().bool.isRequired,className:n().string,name:n().string,badge:n().bool,isChannelFiles:n().bool,"data-qa":n().string},c={className:void 0,name:void 0,badge:!0,isChannelFiles:!1,"data-qa":void 0},E=m(v=>{let{className:h,name:f,badge:y,isWorkflow:I,isChannelFiles:C,"data-qa":D}=v;const M=C&&f?p.t("Shared by {name}",{name:f}):f;return t.createElement("span",{className:h,"data-qa":D},M||t.createElement(a.A,null)," ",y&&!C&&t.createElement(o.A,{isWorkflow:I}))},"BotName");E.displayName="BotName",E.propTypes=g,E.defaultProps=c;const A=m((v,h)=>{let{id:f}=h;const y=(0,u.AF)(v,f);return{name:(0,_.Hg)(y),isWorkflow:(0,i.v3)(y)}},"mapStateToProps"),d=(0,r.N)(A)(E)},7592430824:(W,T,e)=>{"use strict";e.d(T,{N:()=>r,u:()=>n});var t=e(3134334389),s=e(6152845331);const n=(0,s.Ay)("Embedded UI Provider",null),r=t.createContext({embeddedUIContainerElement:null,embeddedUiData:null,inChannelCanvas:!1,slackFileId:void 0,docEmbed:void 0})},7330763135:(W,T,e)=>{"use strict";e.d(T,{I1:()=>_,Jn:()=>v,N2:()=>p,OD:()=>M,RO:()=>P,Wg:()=>a,h$:()=>d,jY:()=>o,nH:()=>y,o8:()=>C,pg:()=>E,s3:()=>l,v_:()=>D,zd:()=>I});var t=e(3262078016),s=e(735940183),n=e(6946629059),r=e(5645915081),u=e(9084547259);const i=new s.A("slack_docs");var o;(function(S){S.START_THREAD="start-thread",S.OPEN_THREAD="open-thread",S.START_ASSISTANT_THREAD="start-assistant-thread",S.INSERT_VARIABLE="insert-variable",S.MAX_VARIABLE_LIMIT_REACHED="variable-limit-reached",S.SHARE="share",S.OPEN_IN_DETACHED_WINDOW="open-in-detached-window",S.VIEW_FULL_SCREEN="view-full-screen",S.VIEW_IN_SLACK="view-in-slack",S.OPEN_IN_NEW_WINDOW="open-in-new-window",S.SHARE_CHANNEL_CANVAS="channel-canvas-share",S.ADD_REACTION="add-reaction",S.OPEN_REACTION="open-reaction",S.AI_REFINE="refine",S.OVERFLOW="overflow"})(o||(o={}));const a="option-list-divider",_="quick-edits-header",l="content-based-header";var p;(function(S){S.SUGGEST_EDITS="canvas-suggest-edits",S.REWRITE="canvas-rewrite",S.CHAT="canvas-chat",S.EXPLAIN="canvas-explain",S.PROOFREAD="canvas-proofread",S.SIMPLIFY="canvas-simplify",S.ELABORATE="canvas-elaborate",S.CHANGE_TONE="canvas-change-tone",S.CHANGE_FORMATTING="canvas-change-formatting",S.TRANSLATE="canvas-translate",S.SUMMARIZE="canvas-summarize",S.ADD_ACTION_ITEMS="canvas-add-action-items",S.CONVERT_TO_TABLE="canvas-convert-to-table"})(p||(p={}));var g;(function(S){S.ENGLISH="en",S.SPANISH="es",S.GERMAN="de",S.FRENCH="fr",S.PORTUGUESE="pt",S.ITALIAN="it",S.JAPANESE="ja",S.KOREAN="ko",S.CHINESE_SIMPLIFIED="zh-CN",S.CHINESE_TRADITIONAL="zh-TW",S.PROFESSIONAL="professional",S.WITTY="witty",S.EMPATHETIC="empathetic",S.DIRECT="direct",S.PIRATE="pirate"})(g||(g={}));const c=[p.SUGGEST_EDITS,p.CHAT,p.EXPLAIN,p.CHANGE_FORMATTING],E=m((S,b)=>{if(!b)return"";switch(S){case g.PROFESSIONAL:return i.t("Professional",{fallbackHash:"6f719fb045c0b6fc89e44e33177ba6d4c3e21055",fallbackHashNs:"composer"});case g.WITTY:return i.t("Witty",{fallbackHash:"89d3e5e4e9788f9e7c9f15d5ba5d02ab6c4f6757",fallbackHashNs:"composer"});case g.EMPATHETIC:return i.t("Empathetic",{fallbackHash:"f8b682c6e9202623d369bea1073ed20ea4969fce",fallbackHashNs:"composer"});case g.DIRECT:return i.t("Direct",{fallbackHash:"bc81524a554d8a0ff1c122ddd69f8eeebdf76f02",fallbackHashNs:"composer"});case g.PIRATE:return i.t("Pirate",{fallbackHash:"4778a2e5249d620c6e3309e4f9cac43d5821da7e",fallbackHashNs:"composer"});case g.ENGLISH:return i.t("English");case g.SPANISH:return i.t("Spanish");case g.GERMAN:return i.t("German");case g.FRENCH:return i.t("French");case g.PORTUGUESE:return i.t("Portuguese");case g.ITALIAN:return i.t("Italian");case g.JAPANESE:return i.t("Japanese");case g.KOREAN:return i.t("Korean");case g.CHINESE_SIMPLIFIED:return i.t("Chinese");case g.CHINESE_TRADITIONAL:return i.t("Chinese (Traditional)");default:return""}},"getCanvasAiSubmenuItemLabel"),A=new Map([[p.CHANGE_TONE,[g.PROFESSIONAL,g.WITTY,g.EMPATHETIC,g.DIRECT,g.PIRATE]],[p.TRANSLATE,[g.ENGLISH,g.SPANISH,g.GERMAN,g.FRENCH,g.PORTUGUESE,g.ITALIAN,g.JAPANESE,g.KOREAN,g.CHINESE_SIMPLIFIED,g.CHINESE_TRADITIONAL]],[p.CHANGE_FORMATTING,[]]]),d=m(S=>A.get(S),"getCanvasAiSubmenuContent"),v=m(S=>!c.includes(S),"isCanvasAiSelectAndRefineActionSupported"),h=[p.PROOFREAD,p.SIMPLIFY,p.ELABORATE,p.CHANGE_TONE,p.CHANGE_FORMATTING,p.TRANSLATE],f=[p.SUMMARIZE,p.ADD_ACTION_ITEMS,p.CONVERT_TO_TABLE];function y(S){if(h.includes(S)||f.includes(S))return null;switch(S){case p.SUGGEST_EDITS:return{name:"glasses"};case p.REWRITE:return{name:"compose"};case p.CHAT:return{name:"direct-messages"};case p.EXPLAIN:return{name:"help"};default:return{name:"magic-wand"}}}m(y,"getCanvasAiIcons");const I=m((S,b,O)=>{if(!b)return;const L=S.actionId,k=S.contextId;switch(L){case p.PROOFREAD:return i.t("Proofread");case p.ELABORATE:return i.t("Elaborate");case p.SIMPLIFY:return i.t("Simplify");case p.REWRITE:return O?i.t("Describe your edit"):i.t("Rewrite");case p.CHANGE_TONE:{if(k){const K=k===g.PIRATE?i.t("like a pirate"):E(k,b).toLowerCase();return i.t("Change the content tone to sound {tone}.",{tone:K})}break}case p.TRANSLATE:{if(k){const K=E(k,b);return i.t("Translate the content to the following language: {language}.",{language:K})}break}case p.SUMMARIZE:return O?i.t("Add a summary",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"}):i.t("Summarize this");case p.ADD_ACTION_ITEMS:return O?i.t("Add action items",{fallbackHashNs:"assistant",fallbackHash:"1363e6593c6d58b63d976fd1607b3a26c84046e1"}):i.t("Generate action items");case p.CONVERT_TO_TABLE:return i.t("Convert to table",{fallbackHashNs:"slack_docs",fallbackHash:"c0794c144895e84308d76814fd04b93125d0f8b9"});default:return}},"getSelectionPresetPromptText"),C={...r.zF,...u.L},D={...C,...o,...p};function M(S,b){return Object.values(b).some(O=>O===S)}m(M,"isToolbarAction");const P=m(function(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:t.DocBlockStyle.PLAIN;const O=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:[]).map(L=>(0,u.B)(L)).filter(n.b);return S&&O.push((0,r.Zq)(S)||r.zF.PARAGRAPH),O},"getFormats")},5645915081:(W,T,e)=>{"use strict";e.d(T,{Zq:()=>i,zF:()=>s,zf:()=>o});var t=e(3262078016),s;(function(a){a.PARAGRAPH="paragraph",a.H1="h1",a.H2="h2",a.H3="h3",a.CHECK_LIST="check-list",a.CHECK_LIST_TOGGLE="check-list-toggle",a.ORDERED_LIST="ordered-list",a.BULLET_LIST="bullet-list",a.BLOCKQUOTE="blockquote",a.CODE_BLOCK="code-block"})(s||(s={}));const n=[[t.DocBlockStyle.PLAIN,s.PARAGRAPH],[t.DocBlockStyle.H1,s.H1],[t.DocBlockStyle.H2,s.H2],[t.DocBlockStyle.H3,s.H3],[t.DocBlockStyle.LIST_CHECKLIST,s.CHECK_LIST],[t.DocBlockStyle.LIST_NUMBERED,s.ORDERED_LIST],[t.DocBlockStyle.LIST_BULLET,s.BULLET_LIST],[t.DocBlockStyle.BLOCKQUOTE,s.BLOCKQUOTE],[t.DocBlockStyle.CODE,s.CODE_BLOCK]],r=new Map(n),u=new Map(n.map(a=>[a[1],a[0]]));function i(a){return r.get(a)}m(i,"blockStyleToFormat");function o(a){return u.get(a)}m(o,"formatToBlockStyle")},4843305308:(W,T,e)=>{"use strict";e.d(T,{P:()=>n});var t=e(7731278967),s=e(9084547259);const n=m(r=>{switch(r){case t.r.FILE:return{name:"attachment"};case t.r.IMAGE:return{name:"image"};case t.r.CHECK_LIST:return{name:"checkbox"};case t.r.CHECK_LIST_TOGGLE:return{name:"checkbox"};case t.r.BULLET_LIST:return{name:"bulleted-list"};case t.r.ORDERED_LIST:return{name:"numbered-list"};case t.r.VIDEO_CLIP:return{name:"video"};case t.r.AUDIO_CLIP:return{name:"microphone"};case t.r.DIVIDER:return{name:"divider"};case t.r.TABLE:return{name:"spreadsheet"};case t.r.LAYOUT_2_COLUMNS:return{name:"column-two"};case t.r.LAYOUT_3_COLUMNS:return{name:"column-three"};case t.r.PINS:return{name:"pin"};case t.r.SMART_SUMMARY:case t.r.RECENT_FILES:case t.r.ACTIVE_DISCUSSIONS:case t.r.CHANNEL_HUDDLES:return{name:"magic-wand"};case t.r.BLOCKQUOTE:return{name:"quote"};case t.r.CODE_BLOCK:return{name:"code-block"};case s.L.CODE:return{name:"code"};case t.r.PARAGRAPH:return{name:"paragraph"};case t.r.H1:return{name:"heading-1"};case t.r.H2:return{name:"heading-2"};case t.r.H3:return{name:"heading-3"};case t.r.CANVAS:return{name:"canvas"};case t.r.WORKFLOW:return{name:"play"};case t.r.SHARE_PROMPT:return{name:"ai-sparkle"};case t.r.LIST:return{name:"lists"};case t.r.WIDGET:return{name:"blocks"};case t.r.SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.USER_PROFILE_UNFURL:return{name:"user"};case t.r.PLACEHOLDER_CARD_SUBMENU:return{name:"add-placeholder"};case t.r.PLACEHOLDER_CARD_VIDEO:return{name:"video"};case t.r.PLACEHOLDER_CARD_PROFILE:return{name:"user"};case t.r.PLACEHOLDER_CARD_AUDIO:return{name:"microphone"};case t.r.PLACEHOLDER_CARD_WORKFLOW:return{name:"play"};case t.r.PLACEHOLDER_CARD_IMAGE:return{name:"image"};case t.r.PLACEHOLDER_CARD_CANVAS:return{name:"canvas"};case t.r.PLACEHOLDER_CARD_FILE:return{name:"attachment"};case t.r.PLACEHOLDER_CARD_LINK:return{name:"link"};case t.r.PLACEHOLDER_CARD_LIST:return{name:"lists"};case t.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return{name:"sf-cloud"};case t.r.DATE_MENTION:return{name:"calendar"};case t.r.AI_ASSISTANT:return{name:"ai-sparkle"};case t.r.AI_ASSISTANT_CANVAS_SUMMARY:return{name:"ai-summary"};case t.r.AI_ASSISTANT_CANVAS_ACTION_ITEMS:return{name:"ai-check"};case t.r.CALLOUT:return{name:"callout"};default:return{name:"help"}}},"getQuipButtonIcon")},8079225585:(W,T,e)=>{"use strict";e.d(T,{O:()=>u});var t=e(735940183),s=e(7731278967),n=e(9084547259);const r=new t.A("slack_docs"),u=m(function(i){let{experimentCanvasInsertWorkflowMenuGroupOn:o,experimentCanvasSmartCardsGroupOn:a,experimentWidgetsGroupOn:_,experimentShareablePromptEnabledGroupOn:l}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(i){case s.r.FILE:return r.t("File");case s.r.IMAGE:return r.t("Image");case s.r.CHECK_LIST:return r.t("Check list");case s.r.CHECK_LIST_TOGGLE:return r.t("Check list");case s.r.BULLET_LIST:return r.t("Bulleted list");case s.r.ORDERED_LIST:return r.t("Ordered list");case s.r.VIDEO_CLIP:return r.t("Record video clip");case s.r.AUDIO_CLIP:return r.t("Record audio clip");case s.r.DIVIDER:return r.t("Divider");case s.r.PINS:return r.t("Pins");case s.r.SMART_SUMMARY:return a?r.t("AI Channel Summary"):"";case s.r.RECENT_FILES:return a?r.t("Recent Files"):"";case s.r.ACTIVE_DISCUSSIONS:return a?r.t("Active Discussions"):"";case s.r.CHANNEL_HUDDLES:return a?r.t("Huddles"):"";case s.r.BLOCKQUOTE:return r.t("Blockquote");case s.r.CODE_BLOCK:return r.t("Code block");case s.r.PARAGRAPH:return r.t("Paragraph");case s.r.H1:return r.t("Big heading");case s.r.H2:return r.t("Medium heading");case s.r.H3:return r.t("Small heading");case s.r.CANVAS:return r.t("Canvas");case s.r.WORKFLOW:return o?r.t("Workflow"):"";case s.r.SHARE_PROMPT:return l?r.t("AI button"):"";case n.L.CODE:return r.t("Code");case s.r.TABLE:return r.t("Table");case s.r.LAYOUT_2_COLUMNS:return r.t("2 columns",{fallbackHash:"8d8f0f25822179c33b917613ec2d022ef593c340",fallbackHashNs:"quip_shortcut_handlers"});case s.r.LAYOUT_3_COLUMNS:return r.t("3 columns",{fallbackHash:"b505f5f09f70ff9d216f1c3cbb5c1a8a4e82179b",fallbackHashNs:"quip_shortcut_handlers"});case s.r.LIST:return r.t("List");case s.r.WIDGET:return _?r.t("Widget"):"Widget";case s.r.USER_PROFILE_UNFURL:return r.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case s.r.SALESFORCE_RECORD:return r.t("Salesforce record");case s.r.PLACEHOLDER_CARD_VIDEO:return r.t("Video",{fallbackHash:"bc17c1f0179a888f2a7e8389f67d4f2cf5cf4531",fallbackHashNs:"slack_kit_video"});case s.r.PLACEHOLDER_CARD_PROFILE:return r.t("Profile",{fallbackHash:"ff4fc0276e960c348647b647235f68200887c9d2",fallbackHashNs:"menu"});case s.r.PLACEHOLDER_CARD_AUDIO:return r.t("Audio",{fallbackHash:"acdac205f5e24cb75113c4b281a2c13f08b75159",fallbackHashNs:"files"});case s.r.PLACEHOLDER_CARD_WORKFLOW:return r.t("Workflow",{fallbackHash:"d7a484140f5f9f7f5427e1f2c44dbfc1d3ad9eea",fallbackHashNs:"slack_docs"});case s.r.PLACEHOLDER_CARD_IMAGE:return r.t("Image");case s.r.PLACEHOLDER_CARD_CANVAS:return r.t("Canvas");case s.r.PLACEHOLDER_CARD_FILE:return r.t("File");case s.r.PLACEHOLDER_CARD_LINK:return r.t("Link");case s.r.PLACEHOLDER_CARD_LIST:return r.t("List");case s.r.PLACEHOLDER_CARD_SALESFORCE_RECORD:return r.t("Salesforce record");case s.r.DATE_MENTION:return r.t("Date",{fallbackHash:"eb9a4bc1c0c153e4e4b042a79113b815b7e3021d",fallbackHashNs:"calendar"});case s.r.CALLOUT:return r.t("Callout",{fallbackHash:"f3e792e7d41d161d609362af9fd451593481fd5d"});case s.r.AI_ASSISTANT:return r.t("Write with AI",{fallbackHash:"5a98372d1f7b397565f7cb33560b8abe99f7acdc"});case s.r.AI_ASSISTANT_CANVAS_SUMMARY:return r.t("Summarize this canvas",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"});case s.r.AI_ASSISTANT_CANVAS_ACTION_ITEMS:return r.t("Generate action items",{fallbackHash:"955d21424ac706b11f1425f1189ba754d1cc93de"});default:return i}},"getQuipButtonLabel")},9084547259:(W,T,e)=>{"use strict";e.d(T,{B:()=>r,L:()=>s});var t=e(3262078016),s;(function(u){u.BOLD="bold",u.STRIKE="strike",u.ITALIC="italic",u.CODE="code",u.LINK="link",u.UNDERLINE="underline"})(s||(s={}));const n=new Map([[t.DocInlineStyle.BOLD,s.BOLD],[t.DocInlineStyle.STRIKETHROUGH,s.STRIKE],[t.DocInlineStyle.ITALIC,s.ITALIC],[t.DocInlineStyle.CODE,s.CODE],[t.DocInlineStyle.LINK,s.LINK]]);function r(u){return n.get(u)}m(r,"inlineStyleToFormat")},7731278967:(W,T,e)=>{"use strict";e.d(T,{r:()=>n});var t=e(5645915081),s;(function(r){r.UNKNOWN="unknown",r.TITLE="title",r.FILE="file",r.IMAGE="image",r.VIDEO_CLIP="video-clip",r.AUDIO_CLIP="audio-clip",r.DIVIDER="divider",r.TABLE="table",r.SHORTCUT="shortcut",r.MENU_SEPARATOR="menu-separator",r.PINS="pins",r.BOOKMARKS="bookmarks",r.USER_UNFURL="user-unfurl",r.CANVAS_UNFURL="canvas-unfurl",r.MESSAGE_UNFURL="message-unfurl",r.PUBLIC_LINK_UNFURL="public-link-unfurl",r.SHORTCUT_UNFURL="shortcut-unfurl",r.USER_PROFILE_UNFURL="user-profile-unfurl",r.UNFURL="unfurl",r.CANVAS="canvas",r.GENERIC="generic",r.WORKFLOW="workflow",r.FILE_UPLOAD_BLOCKED_MESSAGE_BANNER="file-upload-blocked-message-banner",r.SMART_SUMMARY="smart-summary",r.RECENT_FILES="recent-files",r.ACTIVE_DISCUSSIONS="active-discussions",r.CHANNEL_HUDDLES="channel-huddles",r.LIST="list",r.WIDGET="widget",r.LAYOUT_2_COLUMNS="layout-2-columns",r.LAYOUT_3_COLUMNS="layout-3-columns",r.PLACEHOLDER_CARD_SUBMENU="placeholder-card-submenu",r.PLACEHOLDER_CARD_VIDEO="placeholder-card-video",r.PLACEHOLDER_CARD_PROFILE="placeholder-card-profile",r.PLACEHOLDER_CARD_AUDIO="placeholder-card-audio",r.PLACEHOLDER_CARD_WORKFLOW="placeholder-card-workflow",r.PLACEHOLDER_CARD_IMAGE="placeholder-card-image",r.PLACEHOLDER_CARD_CANVAS="placeholder-card-canvas",r.PLACEHOLDER_CARD_FILE="placeholder-card-file",r.PLACEHOLDER_CARD_LINK="placeholder-card-link",r.PLACEHOLDER_CARD_LIST="placeholder-card-list",r.PLACEHOLDER_CARD_SALESFORCE_RECORD="placeholder-card-salesforce-record",r.SALESFORCE_RECORD="salesforce-record",r.DATE_MENTION="date-mention",r.CALLOUT="callout",r.AI_ASSISTANT="ai-assistant",r.SHARE_PROMPT="share-prompt",r.AI_ASSISTANT_CANVAS_SUMMARY="ai-assistant-canvas-summary",r.AI_ASSISTANT_CANVAS_ACTION_ITEMS="ai-assistant-canvas-action-items"})(s||(s={}));const n={...t.zF,...s}},1069376685:(W,T,e)=>{"use strict";e.d(T,{D:()=>t});var t;(function(s){s.SpecificMembers="add-specific-members",s.AllMembers="add-all-members"})(t||(t={}))},8414606991:(W,T,e)=>{"use strict";e.d(T,{v:()=>a});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(207659888),u=e(123281540),i=e(8683010724),o=e(1610251172);const a=m(_=>{let{type:l,spacing:p="medium"}=_;const g=n()("three_fourths_opacity",{margin_right_0:p==="none",margin_right_25:p==="small",margin_right_50:p==="medium"});return l===r.VZ.Channels||l===r.VZ.OrgChannels?t.createElement(o.A,{type:"channel",size:"inherit",className:g}):(0,u.m)(l)?t.createElement(o.A,{type:"dm",size:"inherit",className:g}):l===r.VZ.RecentApps?t.createElement(o.A,{type:"gn-menu",size:"inherit",className:g}):l===r.VZ.SlackConnect||l===r.VZ.SharedChannels?t.createElement(o.A,{type:"shared-channels-outline",size:"inherit",className:g}):l===r.VZ.Stars?t.createElement(o.A,{type:"star-o",size:"inherit",className:g}):l===r.VZ.UserGroup?t.createElement("div",{className:n()("c-icon","c-icon--inherit",g)},t.createElement(i.A,{variation:"filled",name:"user-groups"})):t.createElement(o.A,{type:"star-o",size:"inherit",className:g})},"InlineChannelSectionFallbackIcon");a.displayName="InlineChannelSectionFallbackIcon"},126225536:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(3134334389),s=e(6122756707),n=e(4844578989),r=e.n(n),u=e(1030162945),i=e(207659888),o=e(1033870301),a=e(8414606991);function _(p){let{channelSection:g,className:c,spacing:E="medium",showIcon:A=!0}=p;const v=(0,s.wA)()((0,o.i1)({channelSection:g})),h=v&&v.split(" "),f=h&&h[0],y=h&&(h.length>1?` ${h.slice(1).join(" ")}`:null),I=m(()=>{if(!A)return null;if(g.type===i.VZ.UserGroup)return t.createElement(a.v,{type:g.type,spacing:E});const C=r()({margin_right_0:E==="none",margin_right_25:E==="small",margin_right_50:E==="medium"});return g.emoji?t.createElement(u.Ay,{className:C,shouldFallbackOnLoadError:!0,text:g.emoji,stopAnimations:!0,emojiSize:u.lw.SMALL,forceDisplay:!0,isEmojiInlineWithText:!0,renderEmojiFallback:!0}):t.createElement(a.v,{type:g.type,spacing:E})},"getIcon");return I.displayName="getIcon",t.createElement("span",{className:r()("p-inline_channel_section",c)},t.createElement("span",{className:"p-inline_channel_section__lockup"},I(),f),y)}m(_,"InlineChannelSection"),_.displayName="InlineChannelSection";const l=_},9399618736:(W,T,e)=>{"use strict";e.d(T,{AV:()=>a,Cu:()=>g,Gu:()=>o,g4:()=>l,qn:()=>_});var t=e(2028988448),s=e(337319621),n=e(6188550760);let r=1,u=1;const i=(0,s.Wo)({label:"HISTORY-NAVIGATION"}),o=m(()=>{u!==r&&(i.info("Incrementing the users current position in the history stack"),u+=1)},"onNavigateForward"),a=m(()=>{u!==1&&(i.info("Decrementing the users current position in the history stack"),u-=1)},"onNavigateBack"),_=m(()=>u===1,"isBackDisabled"),l=m(()=>u===r,"isForwardDisabled");function p(){i.info("Adding route to the history stack"),u+=1,r=u}m(p,"incrementHistoryLength");function g(E){let{shouldReplaceState:A,reason:d}=E;A||d!==n.GB&&p()}m(g,"maybeIncrementHistoryLength"),(0,t.ul)("history",{getHistoryLength:()=>r,getHistoryIndex:()=>u});const c={maybeIncrementHistoryLength:g}},5670315214:(W,T,e)=>{"use strict";e.d(T,{Hu:()=>c,OJ:()=>M,q8:()=>C,vU:()=>D,wZ:()=>P});var t=e(6249041335),s=e(735940183),n=e(4813703725),r=e(5597672932),u=e(462591818),i=e(6565762531),o=e(1223723593),a=e(4178531214),_=e(3677514771),l=e(6470070112),p=e(6946629059),g=e(6790819894);const c={video:"video",audio:"audio",profileFieldOptions:"profile_field_options"},E=new s.A("huddles"),A=m((S,b)=>({video:[...S&&S.video?S.video:[]],audio:[...!b&&S&&S.audio?S.audio:[]],profile_field_options:[]}),"getInnerCallsAppsFromTeamPref"),d=m(S=>{const b=S.reduce((L,k)=>(Object.entries(k).forEach(K=>{let[N,R]=K;(N==="video"||N==="audio")&&(L[N]=L[N]?[...L[N],...R]:[...R])}),L),{}),O={video:[],audio:[]};return Object.entries(b).forEach(L=>{let[k,K]=L;(k==="video"||k==="audio")&&(O[k]=K.filter((N,R,U)=>R===U.findIndex(x=>x.id===N.id&&x.id!==void 0)))}),O},"combineCallApps"),v=m(S=>{const O=(0,_.FR)(S).map(k=>(0,r.xp)(S,"calls_apps",k.id)).filter(p.b);return d(O)},"retrieveCallsAppsForUnifiedOrg"),h=m(S=>(0,a.ss)(S)?v(S):(0,r.xp)(S,"calls_apps"),"retrieveCallsAppsFromPrefs"),f=m((S,b)=>{const O=h(S);if(b){var L;const k=O==null||(L=O.video)===null||L===void 0?void 0:L.findIndex(K=>K.id===u.rq);k>=0&&O.video.splice(k,1)}return O},"filterCallsAppsFromTeamPref"),y=(0,n.ik)((S,b)=>f(S,b),S=>A(S,!1)),I=(0,n.ik)((S,b)=>f(S,b),S=>A(S,!0)),C=m(function(S){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)?I(S,!0):y(S,!0)},"getCallsAppsFromTeamPref"),D=(0,g.F)(C,l.pt,(S,b)=>{const O={},L=S&&S.video?S.video:[],k=S&&S.audio?S.audio:[],K=E.t("Start a huddle"),N=b?[{id:"A01",name:K,image:"/marketing/img/homepage/icons/huddle-icon.png"}]:[];return[...L,...k,...N].forEach(R=>{let U;R.id===u.rq?U={id:R.id,name:R.name,image:R.image}:["A5GE9BMQC","A649AA069","A5W4BRDNX","ARQS1U88Y","ARUFE7YMU"].findIndex(x=>R.id===x)!==-1?U={id:R.id,name:R.name,image:"/marketing/img/homepage/icons/zoom-icon.png"}:U=R,O[U.id]=U}),O}),M=m(S=>{let{callsApp:b,memberPhoneNumber:O,hideVideoApps:L=!1}=S;const k=[];return b&&(!L&&b.video&&k.push(...b.video.map(K=>({...K,type:o.JG.Video}))),b.audio&&(0,i.A)((0,t.A)(O))&&k.push(...b.audio.map(K=>({...K,type:o.JG.Audio})))),k},"getCallAppList"),P=m(S=>{const b=f(S,!0),O=b&&b.video?b.video:[],L=b&&b.audio?b.audio:[];return[...O,...L]},"getFlattenTeamPrefCallsApps")},4980558152:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3134334389),s=e(4103274853),n=e(7715417323),r=e(9323322135),u=e(2664504268),i=e(3514831633),o=e(3588592544),a=e(2409900369);function _(){return _=Object.assign||function(g){for(var c=1;c<arguments.length;c++){var E=arguments[c];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A])}return g},_.apply(this,arguments)}m(_,"_extends");let l=m(class extends t.Component{onDesktopContextMenu(c){const{getTemplate:E,overrideDefaultMenu:A}=this.props,d=m(y=>({...y,id:(0,u.A)(),submenu:y.submenu&&y.submenu.map(d)}),"addIdsToItem"),v=E?E().map(d):[];if(!v.length)return;const{x:h,y:f}=(0,s.A)(this.getCoordinatesForContextMenu(c),y=>(0,r.xhB)()*y);(0,r.O0f)(v,{x:h,y:f,overrideDefaultMenu:A}),this.props.onClick&&this.props.onClick()}getCoordinatesForContextMenu(c){if(!this.props.hasKeyboardFocus||!c)return{};const{left:E,top:A,width:d,height:v}=c.currentTarget.getBoundingClientRect(),h=E+d/2,f=A+v/2;return{x:h,y:f}}renderMenuFromTemplate(c){const{getTemplate:E,width:A,showSlackKitContextMenuOnDesktop:d,menuAriaLabel:v}=this.props;function h(y){return y.replace(/&([\w&])/g,(I,C)=>C)}m(h,"removeKeyboardAccelerators");const f=E?E().map(y=>!y.label||d?y:{...y,label:h(y.label)}):[];return f.length?t.createElement(i.a,_({"aria-label":v,width:A},c,{template:f,isContextMenu:!0,stripTerminalSeparators:!0})):null}render(){if((0,r.g9M)()&&!this.props.showSlackKitContextMenuOnDesktop)return(0,a.A)(this.props.children,{onContextMenu:this.onDesktopContextMenu});const{forceOpen:c,onClick:E,onClose:A,isDisabled:d,renderMenu:v,preventScroll:h}=this.props;return this.props.desktopAppOnly?(0,a.A)(this.props.children):t.createElement(i.cQ,{isContextMenu:!0,position:"right-bottom",tryOppositePosition:!0,forceOpen:c,shouldFade:!1,renderMenu:v||this.renderMenuFromTemplate,onClick:E,onClose:A,isDisabled:d,preventScroll:h},this.props.children)}constructor(c){super(c),this.onDesktopContextMenu=this.onDesktopContextMenu.bind(this),this.renderMenuFromTemplate=this.renderMenuFromTemplate.bind(this)}},"ContextMenuTrigger");l.defaultProps={overrideDefaultMenu:!1,desktopAppOnly:!0,hasKeyboardFocus:!1,showSlackKitContextMenuOnDesktop:!1,onClick:n.A,onClose:n.A,isDisabled:!1,forceOpen:!1,stripTerminalSeparators:!1},l.displayName="ContextMenuTrigger";const p=(0,o.A)(l)},6388117406:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(9506008067),n=e(6122756707),r=e(2409900369),u=e(5795074931),i=e(4980558152),o=e(82287009);const a=m(l=>{let{id:p,children:g,forceOpen:c=!1,onClick:E,onClose:A,menuAriaLabel:d,sidebar:v,header:h,channelSection:f,onEnterEditModeClick:y,transitionFocusTo:I}=l;const C=(0,s.d4)(u.TZ),D=(0,n.wA)(),M=(0,t.useCallback)(()=>D((0,o.QO)({id:p,sidebar:v,header:h,channelSection:f,onEnterEditModeClick:y,transitionFocusTo:I})),[D,p,v,h,f,y,I]);return!C||!p?(0,r.A)(g):t.createElement(i.A,{menuAriaLabel:d,getTemplate:M,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,forceOpen:c,onClick:E,onClose:A,width:"auto"},g)},"ChannelContextMenu");a.displayName="ChannelContextMenu";const _=a},350738674:(W,T,e)=>{"use strict";e.d(T,{AB:()=>k,Jv:()=>K,TX:()=>D,WF:()=>O,n1:()=>P,s5:()=>b,s9:()=>M});var t=e(735940183),s=e(7715417323),n=e(6304789565),r=e(9506008067),u=e(3385422400),i=e(6122756707),o=e(8276911661),a=e(8170643398),_=e(9262712126),l=e(3534324375),p=e(9107158149),g=e(5761207079),c=e(613926746),E=e(9236644324),A=e(485355941),d=e(56548687),v=e(1224315998),h=e(6839188756),f=e(3677514771),y=e(8847766420);const I=new t.A("member_profile"),C=(0,u.Mz)((N,R)=>{let{memberId:U}=R;return(0,o.nv)(N,U)},(N,R)=>{let{memberId:U}=R;return(0,g.a)(N,U)},(N,R)=>{const U=(0,_.Gt)(N),x=(0,a.oy)(N),B=R?I.t("Copy display name"):I.t("Copy display name: @{displayName}",{displayName:U,__react:!0});return!x&&U?{key:"copy_display_name",dataQa:"copy_display_name",label:B,click:()=>{(0,E.x3)(U)},show:!0,disabled:(0,a.Zx)(N)}:null}),D=m(N=>{let{memberId:R}=N;return(0,r.d4)(U=>R?C(U,{memberId:R}):void 0)},"useGetMenuTemplateCopyDisplayName"),M=(0,n.Ay)("Gets the template for copy display name menu item",(N,R,U)=>C(R(),U));M.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyDisplayNameThunk",description:"Gets the template for copy display name menu item"};const P=(0,n.Ay)("Clog member context item click",(N,R,U)=>{(0,d.e)({getState:R}).track(v.EventId.CONTEXT_MENU_ACTION,{label:U,is_iap1:!0})});P.meta={name:"createThunk",key:"createThunkclogItemClick",description:"Clog member context item click"};const S=(0,n.Ay)("Gets the template for copy display name menu item",(N,R,U)=>{const{memberId:x,label:B}=U,F=(0,l.sE)(R(),(0,o.nv)(R(),x));return{label:I.t("Copy name"),click:()=>{N(P(B));try{(0,E.LJ)({"text/plain":F,"text/html":`<span data-stringify-id="${x}" data-stringify-label="${F}">${F}</span>`})}catch{(0,E.x3)(F)}}}});S.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyName",description:"Gets the template for copy display name menu item"};const b=(0,n.Ay)("Gets the template for copy name menu item",(N,R,U)=>N(S(U)));b.meta={name:"createThunk",key:"createThunkgetMenuTemplateCopyNameThunk",description:"Gets the template for copy name menu item"};const O=(0,n.Ay)("Copies link to member to clipboard",(N,R,U)=>{N(P(U.label));const x=R(),B=(0,f._J)(x,(0,y.ZT)(x)||"");(0,E.x3)((0,h.Zl)(B,`/team/${U.memberId}`))});O.meta={name:"createThunk",key:"createThunkcopyMemberLink",description:"Copies link to member to clipboard"};const L=(0,u.Mz)(N=>N,(N,R,U)=>{let{onClickCallback:x=s.A}=U;return x},(N,R,U)=>{let{isCanvasContext:x}=U;return x},(N,R,U)=>{let{memberId:x}=U;return(0,o.nv)(R,x)},(N,R,U)=>{let{memberId:x}=U;return(0,l.sE)(R,(0,o.nv)(R,x))},(N,R,U)=>{let{memberId:x}=U;return(0,p.zP)(R,x||"")},(N,R,U,x,B,F)=>{const V=(0,a.oy)(x);let Y=I.rt("Message {memberName}",{memberName:B})||"";return U&&(V?Y=I.t("View message history"):Y=I.t("Message")),!F||(0,a.po)(x)||U&&(0,a.fy)(x)?null:{key:"message",dataQa:"message",label:Y,click:w=>{N((0,c.Z)({memberId:x.id,shouldOpenInTile:(0,A.Cz)(w),reason:"member-context-menu"})).then(()=>R())},show:!!x,disabled:(0,a.Zx)(x)}}),k=m(N=>{let{memberId:R,isCanvasContext:U,onClickCallback:x}=N;const B=(0,i.wA)();return(0,r.d4)(F=>R?L(B,F,{memberId:R,isCanvasContext:U,onClickCallback:x}):void 0)},"useGetMenuTemplateMessage"),K=(0,n.Ay)("Gets the template for message menu item",(N,R,U)=>L(N,R(),U));K.meta={name:"createThunk",key:"createThunkgetMenuTemplateMessageThunk",description:"Gets the template for message menu item"}},306565116:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3134334389),s=e(9391594207),n=e(4980558152),r=e(5795074931),u=e(2409900369),i=e(7715417323),o=e(798776972);let a=m(class extends t.Component{getContextMenuTemplate(){return this.props.getMemberContextMenuTemplate({id:this.props.id})}render(){const{id:c,isClient:E}=this.props;return E?c?t.createElement(n.A,{getTemplate:this.getContextMenuTemplate,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",onClick:this.props.onClick},this.props.children):(0,u.A)(this.props.children):(0,u.A)(this.props.children)}constructor(c){super(c),this.getContextMenuTemplate=this.getContextMenuTemplate.bind(this)}},"MemberContextMenu");a.defaultProps={id:void 0,onClick:i.A},a.displayName="MemberContextMenu";function _(g){return{isClient:(0,r.TZ)(g)}}m(_,"mapStateToProps");const l=m(g=>({getMemberContextMenuTemplate:c=>g((0,o.nz)(c))}),"mapDispatchToProps"),p=(0,s.N)(_,l)(a)},798776972:(W,T,e)=>{"use strict";e.d(T,{i8:()=>f,nz:()=>y});var t=e(6304789565),s=e(735940183),n=e(350738674),r=e(4117634716),u=e(8822892075),i=e(2327059915),o=e(3078708518),a=e(7324846416),_=e(6795500641),l=e(2338429587),p=e(3106223098),g=e(8276911661),c=e(3534324375),E=e(8773153312);const A=new s.A("menu"),d={CALL_MEMBER:"call_member",MESSAGE_MEMBER:"message_member",VIEW_PROFILE:"view_profile",COPY_MEMBER_NAME:"copy_member_name",COPY_MEMBER_LINK:"copy_member_link",ADD_PRIORITY_USER:"add_priority_user",REMOVE_PRIORITY_USER:"remove_priority_user"},v=(0,t.Ay)("get the context menu item for actions",(I,C,D)=>{let{id:M}=D;const P=[];if((0,o.A)(C()))return P;const S=I((0,n.Jv)({memberId:M,onClickCallback:()=>(0,n.n1)(d.MESSAGE_MEMBER)}));return S&&P.push(S),P.length&&P.push({type:E.A.separator}),P});v.meta={name:"createThunk",key:"createThunkgetActionsTemplate",description:"get the context menu item for actions"};const h=(0,t.Ay)("get the context menu item for sharing a contact",(I,C,D)=>{let{id:M}=D;const P=C();return(0,a.VX)(P,M||"")&&!(0,o.A)(P)?[{label:A.t("Share contact"),click:()=>I((0,i.A)({contactUserId:M}))},{type:E.A.separator}]:[]});h.meta={name:"createThunk",key:"createThunkgetShareContactActionMaybe",description:"get the context menu item for sharing a contact"};const f=(0,t.Ay)("get the context menu item for adding to or removing from VIP",(I,C,D)=>{let{id:M}=D;const P=C(),S=(0,g.nv)(P,M),b=(0,p.GL)(P,S);if(!M)return[];if(!b)return[];const O=(0,_.mF)(P,M),L=(0,c.sE)(P,(0,g.nv)(P,M));return[{label:O?A.rt("Remove from VIP",{memberName:L}):A.rt("Add to VIP",{memberName:L}),click:()=>{const k=O?d.REMOVE_PRIORITY_USER:d.ADD_PRIORITY_USER;I((0,n.n1)(k)),I((0,l.C)(M))},autoClogProps:{label:O?d.REMOVE_PRIORITY_USER:d.ADD_PRIORITY_USER}},{type:E.A.separator}]});f.meta={name:"createThunk",key:"createThunkgetToggleVipActionMaybe",description:"get the context menu item for adding to or removing from VIP"};const y=(0,t.Ay)("get the context menu template when user clicks on a member",(I,C,D)=>{let{id:M}=D;return[{label:A.t("View profile"),click:()=>{I((0,n.n1)(d.VIEW_PROFILE)),I((0,r.o)((0,u.Fo)({memberId:M||""})))}},{type:E.A.separator},...I(v({id:M})),...I(f({id:M})),...I(h({id:M})),I((0,n.s5)({memberId:M,label:d.COPY_MEMBER_NAME})),I((0,n.s9)({memberId:M})),{label:A.t("Copy link"),click:()=>{I((0,n.WF)({memberId:M,label:d.COPY_MEMBER_LINK}))}}].filter(P=>!!P)});y.meta={name:"createThunk",key:"createThunkgetMemberContextMenuTemplate",description:"get the context menu template when user clicks on a member"}},2837660778:(W,T,e)=>{"use strict";e.d(T,{$g:()=>I,Mo:()=>v,rp:()=>y});var t=e(6217320234),s=e(7823346015),n=e(3385422400),r=e(3009309149),u=e(735940183),i=e(7679173189),o=e(6839188756),a=e(9950739645),_=e(6536982570),l=e(8276911661),p=e(3677514771),g=e(8847766420),c=e(241752795),E=e(5962670951),A=e(8180302442);const d=new u.A("create_channel_modal"),v=(0,r.Ay)(C=>{const D=(0,l.cA)(C),M=(0,_.HI)(D),P=(0,p.H7)(C);if(!P)return[];const S=(0,g.VO)(C)||[],b=[P.id,...M,...S],O=[...new Set(b)].filter(L=>!(0,i.JV)(L)).map(L=>(0,p._J)(C,L)).filter(L=>!!L&&!(0,o.Zx)(L));return(0,t.A)(O,L=>(0,o.F1)(L))});v.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaces",description:C=>{const D=(0,l.cA)(C),M=(0,_.HI)(D),P=(0,p.H7)(C);if(!P)return[];const S=(0,g.VO)(C)||[],b=[P.id,...M,...S],O=[...new Set(b)].filter(L=>!(0,i.JV)(L)).map(L=>(0,p._J)(C,L)).filter(L=>!!L&&!(0,o.Zx)(L));return(0,t.A)(O,L=>(0,o.F1)(L))}};const h=m((C,D)=>{const M=D==null?void 0:D.map(P=>P.id);return C.map(P=>{var S,b;return{label:(0,o.F1)(P),value:P,optgroup:P.enterprise_name,key:P.id,isDisabled:!!(M!==void 0&&M.includes(P.id)),displayReason:(b=(S=D==null?void 0:D.find(O=>O.id===P.id))===null||S===void 0?void 0:S.displayReason)!==null&&b!==void 0?b:""}})},"mapWorkspacesToSelectOptionItems"),f=m((C,D)=>{let{ineligibleWorkspaces:M,excludeExternalWorkspaces:P}=D;const[S,b]=(0,s.A)(C,L=>(0,a.N)(L)),O={value:void 0,label:"",type:"divider"};return[...h(b,M),...!P&&S.length>0?[O,...h(S,M)]:[]]},"mapInvitableWorkspacesToSelectOptions"),y=(0,r.Ay)(C=>{const D=(0,A.g)(C),M=(0,c.y5)(C),P=(0,E.S)(C),S=v(C),b=S.filter(O=>!M.includes(O.id)&&!P.includes(O.id)).map(O=>({id:O.id,displayReason:D?"":d.t("You don\u2019t have access to this")}));return f(S,{ineligibleWorkspaces:b})});y.meta={name:"createSelector",key:"createSelectorgetAllInvitableWorkspaceSelectOptions",description:C=>{const D=(0,A.g)(C),M=(0,c.y5)(C),P=(0,E.S)(C),S=v(C),b=S.filter(O=>!M.includes(O.id)&&!P.includes(O.id)).map(O=>({id:O.id,displayReason:D?"":d.t("You don\u2019t have access to this")}));return f(S,{ineligibleWorkspaces:b})}};const I=(0,n.Mz)(v,C=>C.length>1)},9364044512:(W,T,e)=>{"use strict";e.d(T,{D:()=>sn,A:()=>Ne});var t=e(3134334389),s=e(6122756707),n=e(4844578989),r=e.n(n),u=e(9003400431),i=e(980293773),o=e(2293211408);function a(Pe){return Pe&&Pe.id}m(a,"getEmojiCollectionId");var _=e(370406050);function l(Pe){return Pe&&Pe.author}m(l,"getEmojiCollectionAuthor");var p=e(6045879501);function g(Pe){return Pe&&Pe.localEmoji}m(g,"getEmojiCollectionLocalEmoji");var c=e(4413566926),E=e(9506008067),A=e(9113979368),d=e(2101927269),v=e(2141441167),h=e(6217320234),f=e(3783303734),y=e(4978843660),I=e(3004085654),C=e(7564917982);function D(Pe){return Pe&&Pe.date_create}m(D,"getEmojiCollectionDateCreate");var M=e(5071545805),P=e(2047021170),S=e(387484329),b=e(8840779375),O=e(5331686899),L=e(1610251172),k=e(7420598276),K=e(2036354333);const N=new c.Ay("custom_emoji_list"),R="emoji_packs_clicked_collection_cta",U=m(Pe=>{let{id:qe,name:At,author:xt,emoji:jt,installed:Xt,onClick:en}=Pe;const Qt=(0,s.wA)(),ht=(0,E.d4)(In=>(0,P.ty)(In,R)),Nt=(0,E.d4)(I.fl),on=(0,E.d4)(I._J);if(!jt)return null;const qt=a(on)===qe&&Nt&&!ht;function rn(){qt&&Qt((0,S.AZ)({pref:R,value:!0})),en()}m(rn,"handleOnClick");const vn=(0,b.A)(jt,(In,Nn)=>({name:Nn,url:In})),Rn=(0,y.A)(vn,4),Pn=N.t("by {author}",{author:xt});return t.createElement(K.A,{className:"p-emoji_pack_card p-emoji_pack_card--clickable",onClick:rn},t.createElement("div",{className:"display_flex align_items_center margin_bottom_100"},t.createElement("div",{className:"flex_one"},t.createElement("div",{className:"p-emoji_pack_card__header"},At,qt&&t.createElement("span",{className:"margin_left_25"},t.createElement(k.A,null,N.t("NEW")))),t.createElement("div",{className:"p-emoji_pack_card__subheader"},Pn)),Xt&&!qt&&t.createElement("div",{className:"flex_none"},t.createElement(L.A,{size:"inherit",type:"circle-checkbox-checked",className:"p-emoji_pack_card__checkmark"}))),t.createElement("div",{className:"p-emoji_pack_card_rows"},Rn.map(In=>t.createElement("div",{key:In.map(Nn=>`${Nn.name}-card-`).join(),className:"p-emoji_pack_card__row"},In.map(Nn=>t.createElement(O.Ay,{key:`emoji-pack-${Nn.name}`,showTooltip:!1,text:`:${Nn.name}:`,url:Nn.url,emojiSize:O.lw.LARGE})),[...new Array(4-In.length)].map((Nn,Jn)=>`emoji-pack-spacer-${Jn}`).map(Nn=>t.createElement("div",{key:Nn,className:"p-emoji_pack_card__spacer"}))))))},"EmojiPackCard");U.displayName="EmojiPackCard";const x=U,B=new c.Ay("custom_emoji_list"),F=m(()=>{const Pe=B.t("STAY TUNED"),qe=B.t("More emoji packs are on the way");return t.createElement("div",{className:"p-emoji_pack_card p-emoji_pack_coming_soon"},t.createElement(k.A,{className:"p-emoji_pack_coming_soon__pill"},Pe),t.createElement("div",{className:"p-emoji_pack_coming_soon__text"},qe),t.createElement("div",{className:"p-emoji_pack_coming_soon__illustrations"},t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("g",{clipPath:"url(#clip0)"},t.createElement("path",{d:"M22.7 30C35.2 30 45.3 19.9 45.3 7.3 45.3-5.2 35.2-15.3 22.7-15.3 10.1-15.3 0-5.2 0 7.3 0 19.9 10.1 30 22.7 30Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M24 20C25.5 20 26.7 18.5 26.7 16.7 26.7 14.8 25.5 13.3 24 13.3 22.5 13.3 21.3 14.8 21.3 16.7 21.3 18.5 22.5 20 24 20Z",fill:"#664500"}),t.createElement("path",{d:"M10.8 10.5C10.6 10.5 10.3 10.4 10.1 10.3 9.5 9.9 9.3 9.1 9.7 8.5 10.9 6.5 14.6 3.2 19.9 4.5 20.7 4.7 21.1 5.4 20.9 6.1 20.7 6.8 20 7.3 19.3 7.1 14.5 5.9 12 9.8 11.9 9.9 11.7 10.3 11.3 10.5 10.8 10.5V10.5ZM26.8 5.5C26.4 5.5 26 5.4 25.7 5 25.3 4.5 25.4 3.6 25.9 3.2 30.2-0.3 34.9 1.1 36.9 2.3 37.5 2.7 37.7 3.5 37.3 4.1 36.9 4.8 36.1 4.9 35.5 4.6 35.3 4.4 31.4 2.1 27.6 5.2 27.4 5.4 27.1 5.5 26.8 5.5Z",fill:"#664500"}),t.createElement("path",{d:"M17.8 23.7C17.7 23.7 17.6 23.7 17.5 23.7 17 23.5 16.7 23 16.8 22.4 17.4 20.4 17.2 18.4 16.2 17 15.5 16 14.6 15.5 13.6 15.4 13 15.4 12.6 14.9 12.7 14.3 12.7 13.8 13.2 13.3 13.7 13.4 15.3 13.5 16.8 14.4 17.8 15.8 19.2 17.7 19.5 20.3 18.8 23 18.6 23.4 18.2 23.7 17.8 23.7ZM32.5 19.6C32.3 19.6 32.1 19.6 32 19.5 30.4 18.4 29.5 16.6 29.6 14.5 29.6 12.3 30.7 10.3 32.2 9.4 32.7 9.1 33.3 9.2 33.6 9.7 33.9 10.2 33.7 10.8 33.3 11.1 32.3 11.7 31.6 13.1 31.6 14.6 31.5 16 32.1 17.1 33.1 17.8 33.5 18.1 33.6 18.7 33.3 19.2 33.2 19.5 32.8 19.6 32.5 19.6V19.6Z",fill:"#E2A62D"}),t.createElement("path",{d:"M22.9-14.4C22.8-14.4 22.8-14.5 22.7-14.5 22.7-14.5 1.4-18.5 0.5-17.7 -0.4-16.9 1 4.7 1 4.7 1 4.8 1 4.9 1.1 4.9 1.9 5.8 7.4 2.3 13.4-3.1 19.5-8.4 23.7-13.5 22.9-14.4V-14.4Z",fill:"#DD2E44"}),t.createElement("path",{d:"M0.5-17.6C0.4-17.6 0.4-17.5 0.4-17.5 0.6-15.6 2.7-0.6 4 4.1 5.9 3 7.8 1.6 10.1-0.2 8.2-3.8 1.5-17.8 0.5-17.6Z",fill:"#EA596E"}),t.createElement("path",{d:"M39.9 21L25.8 19.2C24.3 19.1 21.6 19.1 21.8 16.7 21.9 14.5 24.5 14.9 26.4 15.2L40.6 17.5 39.9 21V21Z",fill:"#3B88C3"}),t.createElement("path",{d:"M40.6 17.5L34.9 16.6C34.3 16.4 33.7 17.4 33.7 18.5 33.6 19.6 34 20.2 34.6 20.3L40.2 21 40.6 17.5V17.5Z",fill:"#88C9F9"}),t.createElement("path",{d:"M46.6 17.1L43.1 20.3 36.8 13.5 40.3 10.3C42.1 8.7 45 8.8 46.6 10.6L46.8 10.8C48.5 12.6 48.4 15.5 46.6 17.1Z",fill:"#3B88C3"}),t.createElement("path",{d:"M43.1 20.3C44.6 19 44.4 16.3 42.7 14.4 40.9 12.6 38.3 12.2 36.8 13.5 35.3 14.9 35.5 17.6 37.2 19.4 38.9 21.3 41.6 21.7 43.1 20.3Z",fill:"#88C9F9"}),t.createElement("path",{d:"M41.8 19C42.6 18.3 42.3 16.8 41.3 15.7 40.3 14.6 38.8 14.2 38.1 14.9 37.3 15.6 37.5 17.1 38.6 18.2 39.6 19.3 41.1 19.7 41.8 19Z",fill:"#269"}),t.createElement("path",{d:"M3.3 28.7C4.4 28.7 5.3 27.8 5.3 26.7 5.3 25.6 4.4 24.7 3.3 24.7 2.2 24.7 1.3 25.6 1.3 26.7 1.3 27.8 2.2 28.7 3.3 28.7Z",fill:"#55ACEE"}),t.createElement("path",{d:"M6.5 21L3.4 13.5 0.5 21.6 6.5 21ZM34.7-11.3L29.3-10 30.7-15.3 34.7-11.3Z",fill:"#EA596E"}))),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M123 6C123 19.3 112.3 30 99 30 85.7 30 75 19.3 75 6 75-7.3 85.7-18 99-18 112.3-18 123-7.3 123 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M99 11.3C94.2 11.3 91 10.8 87 10 86.1 9.8 84.3 10 84.3 12.7 84.3 18 90.5 24.7 99 24.7 107.5 24.7 113.7 18 113.7 12.7 113.7 10 111.9 9.8 111 10 107 10.8 103.8 11.3 99 11.3Z",fill:"#664500"}),t.createElement("path",{d:"M87 12.7C87 12.7 91 14 99 14 107 14 111 12.7 111 12.7 111 12.7 108.3 18 99 18 89.7 18 87 12.7 87 12.7Z",fill:"white"}),t.createElement("path",{d:"M115.8 6.3C115.6 6.2 113.2 4.4 109.6 3.1 109.6 3 109.7 2.8 109.7 2.7 109.7 2.2 109.5 1.7 109.2 1.4 111.6 0.7 113.6 0.7 113.7 0.7 114.4 0.7 115 0.1 115-0.7 115-1.4 114.4-2 113.7-2 113.4-2 106.4-1.9 102.1 2.4 101.7 2.8 101.6 3.3 101.8 3.8 102 4.3 102.5 4.7 103 4.7 109.1 4.7 114.2 8.4 114.2 8.4 114.4 8.6 114.7 8.7 115 8.7 115.4 8.7 115.8 8.5 116.1 8.1 116.5 7.5 116.4 6.7 115.8 6.3V6.3ZM95.9 2.4C91.6-1.9 84.6-2 84.3-2 83.6-2 83-1.4 83-0.7 83 0.1 83.6 0.7 84.3 0.7 84.4 0.7 86.4 0.7 88.8 1.4 88.5 1.7 88.3 2.2 88.3 2.7 88.3 2.8 88.4 3 88.4 3.1 84.8 4.4 82.4 6.2 82.2 6.3 81.6 6.7 81.5 7.5 81.9 8.1 82.2 8.5 82.6 8.7 83 8.7 83.3 8.7 83.6 8.6 83.8 8.4 83.8 8.4 88.8 4.7 95 4.7 95.5 4.7 96 4.3 96.2 3.8 96.4 3.3 96.3 2.8 95.9 2.4V2.4Z",fill:"#664500"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 6C198 19.3 187.3 30 174 30 160.7 30 150 19.3 150 6 150-7.3 160.7-18 174-18 187.3-18 198-7.3 198 6Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M188.7 19.3C192.3 19.3 195.3 16.3 195.3 12.7 195.3 9 192.3 6 188.7 6 185 6 182 9 182 12.7 182 16.3 185 19.3 188.7 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M159.3 19.3C163 19.3 166 16.3 166 12.7 166 9 163 6 159.3 6 155.7 6 152.7 9 152.7 12.7 152.7 16.3 155.7 19.3 159.3 19.3Z",fill:"#FF7892"}),t.createElement("path",{d:"M182.7 11.3C186.7 11.3 190 8.1 190 4 190-0.1 186.7-3.3 182.7-3.3 178.6-3.3 175.3-0.1 175.3 4 175.3 8.1 178.6 11.3 182.7 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 11.3C169.4 11.3 172.7 8.1 172.7 4 172.7-0.1 169.4-3.3 165.3-3.3 161.3-3.3 158-0.1 158 4 158 8.1 161.3 11.3 165.3 11.3Z",fill:"#F5F8FA"}),t.createElement("path",{d:"M165.3 7.3C167.2 7.3 168.7 5.8 168.7 4 168.7 2.2 167.2 0.7 165.3 0.7 163.5 0.7 162 2.2 162 4 162 5.8 163.5 7.3 165.3 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M182.7 7.3C184.5 7.3 186 5.8 186 4 186 2.2 184.5 0.7 182.7 0.7 180.8 0.7 179.3 2.2 179.3 4 179.3 5.8 180.8 7.3 182.7 7.3Z",fill:"#664500"}),t.createElement("path",{d:"M179.3 22H168.7C167.9 22 167.3 21.4 167.3 20.7 167.3 19.9 167.9 19.3 168.7 19.3H179.3C180.1 19.3 180.7 19.9 180.7 20.7 180.7 21.4 180.1 22 179.3 22ZM190-3.3C189.6-3.3 189.2-3.5 188.9-3.9 185.4-8.6 180.9-8.7 180.7-8.7 179.9-8.7 179.3-9.3 179.3-10 179.3-10.7 179.9-11.3 180.7-11.3 180.9-11.3 186.7-11.3 191.1-5.5 191.5-4.9 191.4-4 190.8-3.6 190.6-3.4 190.3-3.3 190-3.3V-3.3ZM158-3.3C157.7-3.3 157.4-3.4 157.2-3.6 156.6-4 156.5-4.9 156.9-5.5 161.3-11.3 167.1-11.3 167.3-11.3 168.1-11.3 168.7-10.7 168.7-10 168.7-9.3 168.1-8.7 167.3-8.7 167.1-8.7 162.6-8.6 159.1-3.9 158.8-3.5 158.4-3.3 158-3.3Z",fill:"#664500"})),t.createElement("defs",null,t.createElement("clipPath",null,t.createElement("rect",{y:"-18",width:"48",height:"48",fill:"white"})))),t.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"198",height:"30",viewBox:"0 0 198 30",fill:"none"},t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M48 24C48 37.3 37.3 48 24 48 10.7 48 0 37.3 0 24 0 10.7 10.7 0 24 0 37.3 0 48 10.7 48 24Z",fill:"#DA2F47"}),t.createElement("path",{d:"M34 39.8C33.9 39.6 32.4 34 24 34 15.6 34 14.1 39.6 14 39.8 13.9 40.1 14.1 40.4 14.3 40.6 14.6 40.7 14.9 40.7 15.1 40.5 15.2 40.4 17.7 38 24 38 30.3 38 32.8 40.4 32.9 40.5 33 40.6 33.2 40.7 33.3 40.7 33.4 40.7 33.6 40.6 33.7 40.6 33.9 40.4 34.1 40.1 34 39.8V39.8ZM20.9 23.1C16.6 18.7 9.6 18.7 9.3 18.7 8.6 18.7 8 19.3 8 20 8 20.7 8.6 21.3 9.3 21.3 9.4 21.3 11.9 21.4 14.6 22.3 13.9 23.2 13.3 24.5 13.3 26 13.3 28.6 14.8 30.7 16.7 30.7 18.5 30.7 20 28.6 20 26 20 25.8 20 25.5 20 25.3 20 25.3 20 25.3 20 25.3 20.3 25.3 20.7 25.2 20.9 24.9 21.5 24.4 21.5 23.6 20.9 23.1V23.1ZM38.7 18.7C38.4 18.7 31.4 18.7 27.1 23.1 26.5 23.6 26.5 24.4 27.1 24.9 27.3 25.2 27.7 25.3 28 25.3 28 25.3 28 25.3 28 25.3 28 25.5 28 25.8 28 26 28 28.6 29.5 30.7 31.3 30.7 33.2 30.7 34.7 28.6 34.7 26 34.7 24.5 34.1 23.2 33.4 22.3 36.1 21.4 38.6 21.3 38.7 21.3 39.4 21.3 40 20.7 40 20 40 19.3 39.4 18.7 38.7 18.7V18.7Z",fill:"#292F33"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M198 24C198 37.3 187.3 48 174 48 160.7 48 150 37.3 150 24 150 10.7 160.7 0 174 0 187.3 0 198 10.7 198 24Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M174 28C169.2 28 166 27.4 162 26.7 161.1 26.5 159.3 26.7 159.3 29.3 159.3 34.7 165.5 41.3 174 41.3 182.5 41.3 188.7 34.7 188.7 29.3 188.7 26.7 186.9 26.5 186 26.7 182 27.4 178.8 28 174 28Z",fill:"#664500"}),t.createElement("path",{d:"M162 29.3C162 29.3 166 30.7 174 30.7 182 30.7 186 29.3 186 29.3 186 29.3 183.3 34.7 174 34.7 164.7 34.7 162 29.3 162 29.3Z",fill:"white"}),t.createElement("path",{d:"M170.9 5.9L164.9 7 161.7 1.3C161.4 0.7 160.7 0.3 160 0.4 159.3 0.6 158.7 1.1 158.6 1.8L157.6 8.2 151.6 9.3C150.9 9.4 150.3 10 150.2 10.7 150.1 11.4 150.5 12.1 151.2 12.4L156.6 15 155.6 21.4C155.5 22.1 155.8 22.9 156.5 23.2 156.7 23.3 157 23.4 157.2 23.4 157.7 23.4 158.1 23.2 158.4 22.9L163.1 18.1 169.1 21C169.8 21.3 170.6 21.1 171.1 20.6 171.5 20.1 171.6 19.3 171.3 18.7L168.2 13 172.4 8.7C172.9 8.2 173 7.4 172.7 6.8 172.3 6.1 171.6 5.8 170.9 5.9V5.9ZM177.1 5.9L183.1 7 186.3 1.3C186.6 0.7 187.3 0.3 188 0.4 188.7 0.6 189.3 1.1 189.4 1.8L190.4 8.2 196.4 9.3C197.1 9.4 197.7 10 197.8 10.7 197.9 11.4 197.5 12.1 196.8 12.4L191.4 15 192.4 21.4C192.5 22.1 192.2 22.9 191.5 23.2 191.3 23.3 191 23.4 190.8 23.4 190.3 23.4 189.9 23.2 189.6 22.9L184.9 18.1 178.9 21C178.2 21.3 177.4 21.1 176.9 20.6 176.5 20.1 176.4 19.3 176.7 18.7L179.8 13 175.6 8.7C175.1 8.2 175 7.4 175.3 6.8 175.7 6.1 176.4 5.8 177.1 5.9V5.9Z",fill:"#E95F28"})),t.createElement("g",{opacity:"0.8"},t.createElement("path",{d:"M99 48C112.3 48 123 37.3 123 24 123 10.7 112.3 0 99 0 85.7 0 75 10.7 75 24 75 37.3 85.7 48 99 48Z",fill:"#FFCC4D"}),t.createElement("path",{d:"M98.1 22.1C97.8 22 97.5 22 97.3 22.1 97.3 22.1 95.6 23.3 92.3 23.3 89.1 23.3 87.4 22.1 87.4 22.1 87.2 22 86.8 22 86.6 22.1 86.3 22.3 86.3 22.7 86.4 22.9 86.5 23.1 88.4 27.3 92.3 27.3 96.3 27.3 98.2 23.1 98.3 22.9 98.4 22.7 98.3 22.3 98.1 22.1V22.1ZM111.4 22.1C111.2 22 110.8 22 110.6 22.1 110.6 22.1 108.9 23.3 105.7 23.3 102.4 23.3 100.7 22.1 100.7 22.1 100.5 22 100.2 22 99.9 22.1 99.7 22.3 99.6 22.7 99.7 22.9 99.8 23.1 101.7 27.3 105.7 27.3 109.6 27.3 111.5 23.1 111.6 22.9 111.7 22.7 111.7 22.3 111.4 22.1V22.1Z",fill:"#664500"}),t.createElement("path",{d:"M120.9 16.7C120.9 16.7 120.9 16.6 120.9 16.5 120.9 15.5 120.2 15 119.3 15H114.5L120.2 7C120.5 6.6 120.6 6.4 120.6 5.9 120.6 4.9 119.8 4.8 119.4 4.8H112.3L112.3 3.8C112.3 3.8 110.4 5 110.3 5 110.1 5.1 109.6 5.5 109.6 6.3 109.6 7.3 110.3 7.9 111.2 7.9H115.4L109.7 15.9C109.6 16.1 109.4 16.5 109.4 16.9 109.4 17.7 110.1 18.1 110.9 18.1H119.3C119.6 18.1 120 18 120.2 17.9L122.2 16.7H120.9V16.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M117.4 6.8H113.2C112.3 6.8 111.5 6.2 111.5 5.2 111.5 4.2 112.3 3.6 113.2 3.6H121.4C121.7 3.6 122.6 3.8 122.6 4.7 122.6 5.2 122.5 5.4 122.2 5.8L116.5 13.8H121.3C122.2 13.8 122.9 14.4 122.9 15.4 122.9 16.4 122.2 17 121.3 17H112.8C112 17 111.4 16.6 111.4 15.7 111.4 15.3 111.6 15 111.7 14.8L117.4 6.8V6.8Z",fill:"#2A6797"}),t.createElement("path",{d:"M108.2 10C108.2 9.9 108.2 9.9 108.2 9.9 108.2 9.1 107.7 8.7 107 8.7H103.4L107.7 2.7C107.9 2.4 108 2.2 108 1.9 108 1.1 107.3 1 107.1 1H101.7L101.7 0.3C101.7 0.3 100.3 1.2 100.2 1.2 100.1 1.3 99.7 1.6 99.7 2.2 99.7 3 100.2 3.4 100.9 3.4H104.1L99.8 9.4C99.7 9.5 99.6 9.8 99.6 10.1 99.6 10.7 100.1 11 100.7 11H107C107.2 11 107.5 11 107.7 10.9L109.2 10H108.2V10Z",fill:"#FFAC33"}),t.createElement("path",{d:"M105.5 2.5H102.4C101.7 2.5 101.2 2.1 101.2 1.4 101.2 0.6 101.7 0.2 102.4 0.2H108.5C108.8 0.2 109.4 0.3 109.4 1 109.4 1.4 109.3 1.5 109.1 1.8L104.9 7.8H108.4C109.1 7.8 109.7 8.2 109.7 9 109.7 9.7 109.1 10.2 108.4 10.2H102.1C101.5 10.2 101 9.9 101 9.3 101 9 101.2 8.7 101.3 8.5L105.5 2.5V2.5Z",fill:"#2A6797"}),t.createElement("path",{d:"M98.7 13.9C98.7 13.9 98.7 13.8 98.7 13.8 98.7 13.2 98.2 12.8 97.6 12.8H94.6L98.2 7.7C98.4 7.4 98.5 7.3 98.5 7 98.5 6.3 97.9 6.2 97.7 6.2H93.1L93.1 5.7 91.8 6.4C91.7 6.5 91.4 6.7 91.4 7.3 91.4 7.9 91.9 8.3 92.4 8.3H95.1L91.5 13.4C91.4 13.5 91.3 13.8 91.3 14 91.3 14.6 91.7 14.8 92.2 14.8H97.6C97.8 14.8 98.1 14.7 98.2 14.7L99.5 13.9H98.7Z",fill:"#FFAC33"}),t.createElement("path",{d:"M96.4 7.5H93.7C93.1 7.5 92.6 7.2 92.6 6.5 92.6 5.9 93.1 5.5 93.7 5.5H99C99.2 5.5 99.7 5.6 99.7 6.2 99.7 6.5 99.7 6.7 99.5 6.9L95.8 12H98.9C99.5 12 99.9 12.4 99.9 13.1 99.9 13.7 99.5 14.1 98.9 14.1H93.5C93 14.1 92.5 13.8 92.5 13.3 92.5 13 92.7 12.8 92.7 12.7L96.4 7.5V7.5Z",fill:"#2A6797"})))))},"EmojiPackComingSoon");F.displayName="EmojiPackComingSoon";const V=F,Y=new c.Ay("custom_emoji_list");function w(Pe){let{row:qe=[],className:At,onPackClick:xt}=Pe;return t.createElement("div",{key:qe.map(jt=>`${a(jt)}-row`).join(),className:At},qe.map(jt=>{if(jt.type==="coming_soon")return t.createElement(V,{key:"emoji-pack-coming-soon"});if(jt.type==="spacer")return t.createElement("div",{key:"emoji-pack-spacer",className:"p-emoji_pack__spacer"});const Xt=(0,M.j)(jt);return t.createElement(x,{key:`emoji-pack-${a(jt)}`,installed:Xt,id:a(jt)||void 0,name:(0,_.M)(jt),author:l(jt),emoji:(0,p.H)(jt),onClick:()=>xt(jt,{installed:Xt})})}))}m(w,"Row"),w.displayName="Row";function G(Pe){let{orgName:qe,onPackClick:At}=Pe;const xt=(0,s.wA)(),jt=(0,E.d4)(I.uI);if((0,t.useEffect)(()=>{xt((0,C.H)({reason:"emojiPack:dialog"}))},[xt]),(0,A.A)(jt))return null;const Xt=(0,d.A)(jt,Nt=>(0,M.j)(Nt)).length;let en=(0,v.A)(jt);en=(0,h.A)(en,Nt=>-1*D(Nt)),(0,f.A)(jt)<2&&en.push({type:"coming_soon"}),en.length%2!==0&&en.push({type:"spacer"});const Qt=(0,y.A)(en,2);let ht;return qe?ht=Y.rt("Emoji packs let you add a whole set new of emoji to every {orgName} workspace. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!).",{orgName:t.createElement("b",null,qe)}):ht=Y.t("Emoji packs let you add a whole set new of emoji for your team. They\u2019ll appear in the custom tab of the emoji picker (the one with the Slack icon!)."),t.createElement(i.$m,null,t.createElement(i.qf,null,t.createElement("div",null,Xt>0&&t.createElement("div",{className:"p-emoji_pack__header"},Y.t("Added"),t.createElement("div",{className:"p-emoji_pack__pill"},Xt)),t.createElement("div",{className:"p-emoji_pack__list"},Qt.map(Nt=>t.createElement(w,{key:Nt.map(on=>`${a(on)}-rp-`).join(),className:"p-emoji_pack__pack_row",row:Nt,onPackClick:At}))),t.createElement("div",{className:"p-emoji_pack__help"},ht))))}m(G,"AddEmojiPackDialogContent"),G.displayName="AddEmojiPackDialogContent";const Ee=G;var ne=e(9391594207),se=e(2003990933),ce=e(7715417323),pe=e(9268023148),ye=e(4426213732),Ie=e(56548687),Se=e(2219904496),le=e(1030162945),X=e(5733135148),J=e(581167618),z=e(6084388622),te=e(8181621268),$=e(5795074931),q=e(5060694341),re=e(3842747943),de=e(1224315998),oe=e(9746734072),De=e(7156798807),ae=e(3297051565),Z=e.n(ae),ie=e(6439846314),Ce=e(5257368278),Re=e(330221449),He=e(3009309149);const be=(0,He.Ay)(Pe=>!Pe||!Pe.customizeEmoji||!Pe.customizeEmoji.customEmojiData||!Pe.customizeEmoji.customEmojiData.length?[]:Pe.customizeEmoji.customEmojiData);be.meta={name:"createSelector",key:"createSelectorgetCustomEmojiData",description:Pe=>!Pe||!Pe.customizeEmoji||!Pe.customizeEmoji.customEmojiData||!Pe.customizeEmoji.customEmojiData.length?[]:Pe.customizeEmoji.customEmojiData};const Ue=(0,He.Ay)(Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.customEmojiTotalCount?Pe.customizeEmoji.customEmojiTotalCount:0);Ue.meta={name:"createSelector",key:"createSelectorgetCustomEmojiTotalCount",description:Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.customEmojiTotalCount?Pe.customizeEmoji.customEmojiTotalCount:0};const me=(0,He.Ay)(Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.currentPage?Pe.customizeEmoji.currentPage:0);me.meta={name:"createSelector",key:"createSelectorgetLastPageRetrieved",description:Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.currentPage?Pe.customizeEmoji.currentPage:0};const ve=(0,He.Ay)(Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.totalPages?Pe.customizeEmoji.totalPages:0);ve.meta={name:"createSelector",key:"createSelectorgetTotalPages",description:Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.totalPages?Pe.customizeEmoji.totalPages:0};const Fe=(0,He.Ay)(Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.isLoadingNewPage?Pe.customizeEmoji.isLoadingNewPage:!1);Fe.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewPage",description:Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.isLoadingNewPage?Pe.customizeEmoji.isLoadingNewPage:!1};const Ke=(0,He.Ay)(Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.isLoadingNewSearchQuery?Pe.customizeEmoji.isLoadingNewSearchQuery:!1);Ke.meta={name:"createSelector",key:"createSelectorgetIsLoadingNewSearchQuery",description:Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.isLoadingNewSearchQuery?Pe.customizeEmoji.isLoadingNewSearchQuery:!1};const j=(0,He.Ay)(Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.deletedEmojiList?Pe.customizeEmoji.deletedEmojiList:[]);j.meta={name:"createSelector",key:"createSelectorgetDeletedEmojiList",description:Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.deletedEmojiList?Pe.customizeEmoji.deletedEmojiList:[]};const ee=(0,He.Ay)(Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.disabledEmoji?Pe.customizeEmoji.disabledEmoji:{});ee.meta={name:"createSelector",key:"createSelectorgetDisabledEmoji",description:Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.disabledEmoji?Pe.customizeEmoji.disabledEmoji:{}};const je=(0,He.Ay)(Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.sortDir?Pe.customizeEmoji.sortDir:"asc");je.meta={name:"createSelector",key:"createSelectorgetSortDirection",description:Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.sortDir?Pe.customizeEmoji.sortDir:"asc"};const Te=(0,He.Ay)(Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.sortBy?Pe.customizeEmoji.sortBy:"name");Te.meta={name:"createSelector",key:"createSelectorgetSortBy",description:Pe=>Pe&&Pe.customizeEmoji&&Pe.customizeEmoji.sortBy?Pe.customizeEmoji.sortBy:"name"};const Je=(0,Ce.A)("Load the next page of custom emoji data",function(Pe,qe){let{count:At=100,queries:xt,userIds:jt,reason:Xt="customize-emoji-next-page"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const en=qe();Pe((0,Re.en)(!0));const ht={page:me(en)+1,count:At,sort_by:Te(en),sort_dir:je(en)};return xt&&(ht.queries=JSON.stringify(xt)),jt&&(ht.user_ids=JSON.stringify(jt)),Pe((0,ie.apiCall)({method:"emoji.adminList",reason:Xt,args:ht})).then(Nt=>{Pe((0,Re.en)(!1));const on=(0,oe.A)(Nt.disabled_emoji)?(0,De.A)(Nt.disabled_emoji,"name"):Nt.disabled_emoji;Pe((0,Re.X8)({newCustomEmojiData:Nt.emoji,disabledEmoji:on,customEmojiTotalCount:Nt.custom_emoji_total_count,customEmojiSearchCount:Nt.paging.total,currentPage:Nt.paging.page,totalPages:Nt.paging.pages}))}).catch(Nt=>{throw Nt})});Je.meta={name:"createFetcher",key:"createFetcherfetchCustomEmojiNextPage",description:"Load the next page of custom emoji data"},Je.propTypes={queries:Z().array,userIds:Z().array};const Ae=(0,Ce.A)("Load custom emoji data with a new search query",function(Pe,qe){let{queries:At,page:xt=1,count:jt=100,sortBy:Xt,sortDir:en,userIds:Qt,reason:ht="customize-emoji-new-query"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Pe((0,Re.d$)(!0));const Nt={page:xt,count:jt};return At&&(Nt.queries=JSON.stringify(At)),Qt&&(Nt.user_ids=JSON.stringify(Qt)),Xt&&en&&(Nt.sort_by=Xt,Nt.sort_dir=en),Pe((0,ie.apiCall)({method:"emoji.adminList",reason:ht,args:Nt})).then(on=>{Pe((0,Re.d$)(!1));const Vt=(0,oe.A)(on.disabled_emoji)?(0,De.A)(on.disabled_emoji,"name"):on.disabled_emoji;Pe((0,Re.Ot)({newCustomEmojiData:on.emoji,disabledEmoji:Vt,customEmojiTotalCount:on.custom_emoji_total_count,customEmojiSearchCount:on.paging.total,currentPage:on.paging.page,totalPages:on.paging.pages,sortBy:Xt,sortDir:en}))}).catch(on=>{throw on})});Ae.meta={name:"createFetcher",key:"createFetcherfetchResetCustomEmoji",description:"Load custom emoji data with a new search query"},Ae.propTypes={queries:Z().array,page:Z().number,count:Z().number,sortBy:Z().oneOf(["created","name"]),sortDir:Z().oneOf(["asc","desc"]),userIds:Z().array};const Me=(0,Ce.A)("Deletes the given custom emoji",function(Pe,qe){let{emojiName:At,isPrimaryEmoji:xt=!1,synonyms:jt=[],reason:Xt="customize-emoji-remove"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Pe((0,Re.gx)({emojiName:At,isPrimaryEmoji:xt,synonyms:jt})),Pe((0,ie.apiCall)({method:"emoji.remove",reason:Xt,args:{name:At}})).then(en=>en).then(()=>{(0,Ie.e)({state:qe()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"success"}}})}).catch(en=>{throw(0,Ie.e)({state:qe()}).track("PAGE_CUSTOMIZE_EMOJI",{contexts:{ui_context:{step:"delete",action:"remove",action_status:"fail"}}}),en})});Me.meta={name:"createFetcher",key:"createFetchersubmitRemoveCustomEmoji",description:"Deletes the given custom emoji"},Me.propTypes={emojiName:Z().string,isPrimaryEmoji:Z().bool,synonyms:Z().array};const we=(0,Ce.A)("Creates a new custom emoji or alias",function(Pe,qe){let{mode:At,name:xt,aliasFor:jt,image:Xt,searchArgs:en={},reason:Qt="customize-emoji-add"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Pe((0,ie.apiCall)({method:"emoji.add",reason:Qt,args:{mode:At,name:xt,alias_for:jt,image:Xt}})).then(ht=>ht).then(()=>{Pe(Ae(en))}).catch(ht=>{throw ht})});we.meta={name:"createFetcher",key:"createFetchersubmitAddCustomEmoji",description:"Creates a new custom emoji or alias"},we.propTypes={mode:Z().string,name:Z().string,aliasFor:Z().string,image:Z().object};const Ge=(0,Ce.A)("Gets the emoji data for a given emoji",function(Pe,qe){let{name:At,reason:xt="customize-emoji-get-info"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Pe((0,ie.apiCall)({method:"emoji.getInfo",reason:xt,args:{name:At}})).then(jt=>jt).catch(jt=>{throw jt})});Ge.meta={name:"createFetcher",key:"createFetchergetEmojiInfo",description:"Gets the emoji data for a given emoji"},Ge.propTypes={name:Z().string};const Qe=(0,Ce.A)("Renames the custom emoji with the new name",function(Pe,qe){let{oldName:At,newName:xt,reason:jt="customize-emoji-rename"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Pe((0,ie.apiCall)({method:"emoji.rename",reason:jt,args:{name:At,new_name:xt}})).then(Xt=>Xt).then(()=>{Pe(Ae()),Pe((0,Re.S9)(At))}).catch(Xt=>{throw Xt})});Qe.meta={name:"createFetcher",key:"createFetchersubmitRenameEmoji",description:"Renames the custom emoji with the new name"},Qe.propTypes={oldName:Z().string,newName:Z().string};var fe=e(3456937405);function Ve(Pe){return/^[a-zA-Z0-9\u00E0\u00E1\u00E2\u00E4\u00E3\u00E8\u00E9\u00EA\u00EB\u00ED\u00EE\u00EF\u00F3\u00F6\u00F4\u00F5\u0153\u00FA\u00F9\u00FB\u00FC\u00FF\u00E7\u00DF\u00F1\u00C0\u00C1\u00C2\u00C4\u00C3\u00C8\u00C9\u00CA\u00CB\u00CD\u00CE\u00CF\u00D3\u00D6\u00D4\u00D5\u0152\u00DA\u00D9\u00DB\u00DC\u0178\u00C7\u00D1\uFF41-\uFF5A\uFF10-\uFF19-_+'\uFF3F\uFF0B\u30FC\u3005\u3041-\u3096\u30A0-\u30FF\uFF61-\uFF9F\u3400-\u4DB5\u4E00-\u9FFF\u2E80-\u2FD5\u1100-\u11FF\uA960-\uA97F\uAC00-\uD7A3\uD7B0-\uD7FF\u3139-\u318F\uF900-\uFAFF\u0400-\u04FF\u0500-\u052F]*$/.test(Pe)}m(Ve,"isValidEmojiName");var Be=e(4348392507),Ye=e(6165267850);const et=new c.Ay("custom_emoji_list"),at={ADD_DIALOG_INPUT:"customize_emoji_add_dialog_input",ADD_DIALOG_ERROR:"customize_emoji_add_dialog_error",ADD_DIALOG_FILE_INPUT:"customize_emoji_add_dialog_file_input",ADD_DIALOG_FILE_INFO:"customize_emoji_add_dialog_file_info",ADD_DIALOG_IMAGE_PREVIEW:"customize_emoji_add_dialog_image_preview",ADD_DIALOG_IMAGE_PREVIEW_ERROR:"customize_emoji_add_dialog_image_preview_error",ADD_DIALOG_MESSAGE:"customize_emoji_add_dialog_message",ADD_DIALOG_UPLOAD:"customize_emoji_add_dialog_upload",ADD_DIALOG_UPLOAD_IMAGE_PROMPT:"customize_emoji_add_dialog_upload_image_prompt",ADD_DIALOG_UPLOAD_PREVIEW:"customize_emoji_add_dialog_upload_preview",ADD_DIALOG:"customize_emoji_add_dialog",ADD_DIALOG_DUPLICATE_PREVIEW:"customize_emoji_add_dialog_duplicate_preview"};let gt=m(class extends t.PureComponent{componentDidMount(){const{clogger:qe}=this.props;qe.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"impression",ui_component:"dialog",ui_properties:{element_type:"dialog",element_name:"add_custom_emoji_dialog"}}}}),this.maybeLoadEmojiPreviewFromUrl(),this.props.emojiNameSuggestion&&this.state.newEmojiName&&this.checkIfEmojiNameAlreadyExistsImmediate(this.props.emojiNameSuggestion)}shouldPreventSubmit(){const{newEmojiName:qe,uploadedImage:At,nameErrorText:xt}=this.state,{emojiUrl:jt}=this.props,Xt=qe.length>100;return!qe||Xt||!!xt||!jt&&!At}onDragOver(qe){qe.preventDefault(),qe.dataTransfer.dropEffect="copy"}onDrop(qe){qe.preventDefault();const At=qe.dataTransfer.files[0];if(At){const xt=At.name,jt=URL.createObjectURL(At);this.updateAfterUpload({uploadedImage:At,fileName:xt,previewImageUrl:jt})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}onEmojiNameChange(qe){const{standardEmojiData:At}=this.props;let xt="";this.setState(()=>({newEmojiName:qe})),/[A-Z]/.test(qe)||/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/.test(qe)?xt=et.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."):qe in At?xt=et.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name."):Ve(qe)?this.checkIfEmojiNameAlreadyExists(qe):xt=et.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation."),this.setState(()=>({nameErrorText:xt}))}onImagePreviewError(){this.setState(()=>({imagePreviewError:!0}))}onSubmit(qe){qe&&qe.preventDefault();const{newEmojiName:At,uploadedImage:xt}=this.state,{emojiUrl:jt}=this.props;if(this.shouldPreventSubmit())return;this.setState(()=>({goButtonIsPending:!0}));const en={...{reason:"add-custom-emoji-dialog-content",name:At},...jt?{mode:"url",url:jt}:{mode:"data",searchArgs:this.props.searchArgs,...xt?{image:xt}:{}}};this.props.addCustomEmoji(en).then(()=>{this.props.closeModal();const Qt=this.renderToastMessage();this.props.enqueueToast({element:Qt}),this.setState(()=>({goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:jt?"import_custom_emoji":"add_custom_emoji",action:jt?"import":"add",action_status:"success",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})}).catch(Qt=>{let ht;const Nt=(0,se.A)(Qt,"data.error");(Nt===fe.W.NoUrlProvided||Nt===fe.W.NoUrlImage)&&(ht=et.t("Something happened that prevented the image from being imported. Try again?")),Nt==="error_bad_upload"?ht=et.t("Something happened that prevented your file from being uploaded. Try again?"):Nt==="error_bad_format"?ht=et.t("Please make sure your file is a GIF, JPEG, PNG, or WEBP."):Nt==="resized_but_still_too_large"||Nt==="too_many_frames"?ht=et.t("This image is a bit too big, even after resizing. A smaller file might help?"):Nt==="error_too_big"?ht=et.t("Please choose an image smaller than 64KB."):Nt==="error_name_taken_i18n"?ht=et.rt("Unfortunately, the international emoji set already includes an emoji named <b>{newEmojiName}</b>. Mind trying a different name?",{newEmojiName:At}):Nt==="error_name_taken"?ht=et.rt("The name <b>{newEmojiName}</b> is already in use by another emoji.",{newEmojiName:At}):(Nt==="error_bad_name"||Nt==="error_bad_name_i18n")&&(ht=et.t("Names must be lowercase, and can\u2019t contain spaces, periods, or most punctuation.")),this.setState(()=>({apiErrorText:ht,goButtonIsPending:!1})),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"add",action_status:"fail",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"save"}}}})})}onTextBlur(){this.setState(()=>({placeholder:!0}))}onTextFocus(){this.setState(()=>({placeholder:!1}))}onUploadChange(){var qe,At;const xt=!((qe=this.fileInput)===null||qe===void 0||(At=qe.current)===null||At===void 0)&&At.files?this.fileInput.current.files[0]:null;if(xt){const jt=xt.name,Xt=URL.createObjectURL(xt);this.updateAfterUpload({uploadedImage:xt,fileName:jt,previewImageUrl:Xt})}else this.setState(()=>({uploadedImage:null,fileName:"",previewImageUrl:"",imagePreviewError:!1}))}maybeLoadEmojiPreviewFromUrl(){const{emojiUrl:qe}=this.props;qe&&this.setState(()=>({previewImageUrl:qe,imagePreviewError:!1}))}convertFileNameToEmojiName(qe){if(!qe)return null;const At=qe.lastIndexOf("."),xt=At>0?qe.substring(0,At):qe;return xt?xt.toLowerCase().replace(/\s/g,"-").replace(/[ .,;`\u2013~!@#$%^&*(){}=\\:"<>?|]/g,""):null}updateAfterUpload(qe){let{uploadedImage:At,fileName:xt,previewImageUrl:jt}=qe;const{newEmojiName:Xt,fileName:en}=this.state;let Qt=Xt;(!Xt||Xt===this.convertFileNameToEmojiName(en))&&(Qt=this.convertFileNameToEmojiName(xt)||Qt),this.setState(()=>({uploadedImage:At,fileName:xt,previewImageUrl:jt,imagePreviewError:!1}),()=>this.onEmojiNameChange(Qt))}fileUpload(){var qe;const At=(qe=this.props.windowRef.deref())===null||qe===void 0?void 0:qe.document.getElementById("emojiimg");At==null||At.click(),this.props.clogger.track(this.eventId,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_component:"dialog",ui_properties:{element_type:"button",element_name:"upload_image"}}}})}renderChooseNamePrompt(){const{newEmojiName:qe,nameErrorText:At}=this.state;return t.createElement("ol",{className:"black margin_bottom_0",start:2},t.createElement("li",{className:"margin_bottom_0"},t.createElement("div",null," ",et.t("Give it a name")," "),t.createElement("div",{className:"normal sk_foreground_max p-add_custom_emoji_dialog__choose_name_container"},et.t("This is also what you\u2019ll type to add this emoji to your messages.")),t.createElement("div",{className:"p_add_custom_emoji_dialog__name_input"},t.createElement(Se.A,{id:"emojiname",name:"name",value:qe,onChange:this.onEmojiNameChange,onFocus:this.onTextFocus,onBlur:this.onTextBlur,placeholder:this.renderPlaceholderText(),prefix:":",suffix:":",maxCharacterLimit:100,counterMinimumCharacters:101,errorText:At,"data-qa":at.ADD_DIALOG_INPUT,useInlineAlert:!0}))))}maybeRenderDuplicateNameErrorPreview(){const{newEmojiName:qe,nameErrorText:At}=this.state,xt=et.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.");return At===xt?t.createElement("div",{className:"inline_flex full_width","data-qa":at.ADD_DIALOG_DUPLICATE_PREVIEW},t.createElement(le.Ay,{text:qe,alt:qe,emojiSize:"larger",className:"flex_shrink_none"}),t.createElement("div",{className:"padding_left_50 overflow_hidden"},t.createElement("strong",null,et.t("Existing emoji")),t.createElement("span",{className:"block normal overflow_ellipsis"},":",qe,":"))):null}renderDialogMessage(){const{orgName:qe}=this.props;let At;return qe?At=et.rt("Your custom emoji will be available in every <b>{orgName}</b> workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)",{orgName:qe}):At=et.t("Your custom emoji will be available to everyone in your workspace. You\u2019ll find it in the custom tab of the emoji picker. (Hint: it\u2019s the one with the Slack icon!)"),t.createElement("div",{className:"p-add_custom_emoji_dialog","data-qa":at.ADD_DIALOG_MESSAGE},t.createElement("div",null,At),t.createElement("div",null,this.renderErrorMessage()),t.createElement("form",{className:"p-add_custom_emoji_dialog__form",onSubmit:this.onSubmit},this.renderUploadImagePrompt(),t.createElement("hr",null),this.renderChooseNamePrompt(),this.maybeRenderDuplicateNameErrorPreview()))}renderErrorMessage(){const{apiErrorText:qe}=this.state;return qe?t.createElement(J.Ay,{level:"error",className:"margin_top_50 margin_bottom_100","data-qa":at.ADD_DIALOG_ERROR},t.createElement("span",null," ",qe," ")):null}renderImagePreview(){const{previewImageUrl:qe}=this.state,At=t.createElement("img",{src:qe,alt:et.t("image preview"),className:"p-add_custom_emoji_dialog__image",onError:this.onImagePreviewError,draggable:!1}),{imagePreviewError:xt}=this.state;return xt?t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":at.ADD_DIALOG_IMAGE_PREVIEW_ERROR},t.createElement(te.Ay,{tip:et.t("We couldn\u2019t preview your image. Make sure it\u2019s a GIF, JPEG, or PNG."),zIndex:"above_fs"},t.createElement(L.A,{type:"exclamation-circle",size:"inherit",className:"p-add_custom_emoji_dialog__icon_broken block"}))):t.createElement("div",{className:"align_center p-add_custom_emoji_dialog__image_container","data-qa":at.ADD_DIALOG_IMAGE_PREVIEW},At)}renderPlaceholderText(){const{placeholder:qe}=this.state;let At;return qe?At=et.t("avocado"):At="",At}renderToastMessage(){const{newEmojiName:qe,previewImageUrl:At}=this.state,xt=t.createElement(le.Ay,{text:qe,url:At,emojiSize:le.lw.MEDIUM}),jt=et.rt("{emoji} :{newEmojiName}: has been added and is ready for use.",{emoji:xt,newEmojiName:qe});return t.createElement(X.Ay,{toastClasses:"p-customize_emoji_list__toast"},t.createElement("span",null,jt))}renderUploadImagePrompt(){const{emojiUrl:qe}=this.props,At=et.t("Square images under 128KB and with transparent backgrounds work best. If your image is too large, we\u2019ll try to resize it for you."),xt=t.createElement(t.Fragment,null,t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview rounded bordered"},this.renderUploadPreview()),t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_preview p-add_custom_emoji_dialog__upload_preview--dark rounded bordered margin_left_50"},this.renderUploadPreview())),jt=qe?et.t("Import external emoji"):et.t("Upload an image");return t.createElement("ol",{className:"black",onDragOver:this.onDragOver,onDrop:this.onDrop,"data-qa":at.ADD_DIALOG_UPLOAD_IMAGE_PROMPT},t.createElement("li",{className:"large_bottom_margin"},t.createElement("div",null," ",jt," "),!qe&&t.createElement("div",{className:"normal sk_foreground_max"},At),t.createElement("div",{className:"normal p-add_custom_emoji_dialog__upload_container"},xt,!qe&&t.createElement("div",{className:"p-add_custom_emoji_dialog__upload_button margin_left_100"},this.renderUploadedFileText(),t.createElement("input",{type:"file",className:"p-add_custom_emoji_dialog__upload_input",id:"emojiimg",name:"img",accept:"image/*;capture=camera",ref:this.fileInput,onChange:this.onUploadChange,"data-qa":at.ADD_DIALOG_FILE_INPUT}),t.createElement(z.Ay,{type:"outline",size:"medium",onClick:this.fileUpload,"data-qa":at.ADD_DIALOG_UPLOAD}," ",et.t("Upload Image")," ")))))}renderUploadPreview(){const{fileName:qe}=this.state,{emojiUrl:At}=this.props;let xt;return qe||At?xt=this.renderImagePreview():xt=t.createElement("div",{className:"p-add_custom_emoji_dialog__icon_container","data-qa":at.ADD_DIALOG_UPLOAD_PREVIEW},t.createElement(L.A,{type:"file-image",size:"inherit",className:"p-add_custom_emoji_dialog__icon block "})),xt}renderUploadedFileText(){const{fileName:qe}=this.state;let At;return qe?At=t.createElement("div",{className:"margin_bottom_25 p-add_custom_emoji_dialog__filename"}," ",qe," "):At=t.createElement("div",{className:"sk_foreground_max margin_bottom_25"}," ",et.t("Select an image")," "),At}render(){const{goButtonIsPending:qe}=this.state,At=this.shouldPreventSubmit();return t.createElement(t.Fragment,null,t.createElement(i.$m,null,t.createElement(i.qf,{"data-qa":`${at.ADD_DIALOG}_body`},this.renderDialogMessage())),t.createElement(i.jl,null,t.createElement(i.ox,null,t.createElement(i.s_,{type:"outline","aria-label":et.t("Cancel")},et.t("Cancel")),t.createElement(z.lV,{type:"primary",onClick:this.onSubmit,loading:qe,disabled:At,"data-qa":`${at.ADD_DIALOG}_go`,"aria-label":et.t("Save")},et.t("Save")))))}constructor(qe){super(qe),this.fileInput=t.createRef(),this.checkIfEmojiNameAlreadyExistsImmediate=At=>{this.props.getEmojiInfo({name:At}).then(()=>{this.state.newEmojiName===At&&this.setState(()=>({nameErrorText:et.t("An emoji with this name already exists. Check if the existing emoji is a duplicate, or try a different name.")}))}).catch(ce.A)},this.checkIfEmojiNameAlreadyExists=(0,pe.A)(this.checkIfEmojiNameAlreadyExistsImmediate,200),this.state={uploadedImage:null,newEmojiName:this.props.emojiNameSuggestion,fileName:"",previewImageUrl:this.props.emojiUrl||"",placeholder:!0,nameErrorText:"",apiErrorText:null,imagePreviewError:!1,goButtonIsPending:!1},this.fileInput=t.createRef(),this.eventId=qe.clientApp?de.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT:de.EventId.PAGE_CUSTOMIZE_EMOJI,(0,ye.v)(this,["onEmojiNameChange","onTextFocus","onTextBlur","onUploadChange","onImagePreviewError","onSubmit","renderUploadedFileText","renderUploadPreview","renderUploadImagePrompt","renderPlaceholderText","renderChooseNamePrompt","renderDialogMessage","renderToastMessage","renderErrorMessage","renderImagePreview","fileUpload","onDrop","onDragOver","maybeLoadEmojiPreviewFromUrl","maybeRenderDuplicateNameErrorPreview"])}},"AddCustomEmojiDialogContent");gt.defaultProps={standardEmojiData:{},addCustomEmoji:ce.A,enqueueToast:ce.A,clientApp:!1,closeModal:ce.A,getEmojiInfo:ce.A,searchArgs:{},emojiNameSuggestion:"",windowRef:(0,Ye.O)(window)},gt.displayName="AddCustomEmojiDialogContent";const Mt=m(Pe=>({addCustomEmoji:qe=>Pe((0,fe.l)(qe)),enqueueToast:function(){for(var qe=arguments.length,At=new Array(qe),xt=0;xt<qe;xt++)At[xt]=arguments[xt];return Pe((0,q.M)(...At))},closeModal:()=>Pe((0,u.O)()),getEmojiInfo:function(){for(var qe=arguments.length,At=new Array(qe),xt=0;xt<qe;xt++)At[xt]=arguments[xt];return Pe(Ge(...At))}}),"mapDispatchToProps"),Bt=m(Pe=>({standardEmojiData:(0,re.O)(Pe),clientApp:(0,$.TZ)(Pe),clogger:(0,Ie.e)({state:Pe})}),"mapStateToProps"),Ct=(0,ne.N)(Bt,Mt)((0,Be.A)(gt));var Ft=e(1194535350),kt=e(4318855015),Et=e(5510392579),mt=e(9236644324),Rt=e(6105929840),Ht=e(5305906809);const ft=new c.Ay("custom_emoji_list"),Jt=m(Pe=>{let{adding:qe,name:At}=Pe;const xt=(0,s.wA)();return t.createElement(X.Ay,{onCloseComplete:()=>{qe&&xt((0,kt.su)())}},t.createElement("span",{"data-qa":"emoji-pack-action"},qe&&ft.rt("The {name} emoji pack has been added to your workspace.",{name:t.createElement("b",null,At)}),!qe&&ft.rt("The {name} emoji pack has been removed from your workspace.",{name:t.createElement("b",null,At)})))},"InstallToast");Jt.displayName="InstallToast";const Zt=m(Pe=>{let{name:qe,url:At,index:xt,copyToClipboard:jt,onClose:Xt}=Pe;const en=(0,s.wA)(),Qt=t.createElement(O.Ay,{showTooltip:!0,text:qe,url:At,emojiSize:O.lw.LARGE});function ht(){(0,mt.x3)(qe),Xt&&Xt(),en((0,u.O)()),en((0,q.M)({element:t.createElement(X.Ay,null,t.createElement("span",null,ft.rt("Emoji copied to clipboard",{name:qe})))}))}return m(ht,"onClick"),ht.displayName="onClick",jt&&(0,mt.tD)()?t.createElement(K.A,{className:"p-emoji_pack_details__button","data-color-index":xt%Ht.dX,onClick:ht},Qt):Qt},"EmojiButton");Zt.displayName="EmojiButton";const Tt=m(Pe=>{let{collectionId:qe,name:At,author:xt,installed:jt,emoji:Xt,onCancelClick:en,onClose:Qt}=Pe;const ht=(0,s.wA)(),Nt=(0,E.d4)(Et.h3),[on,Vt]=(0,t.useState)(!1),qt=(0,t.useCallback)(()=>{Vt(!0),ht((0,Ft._J)({collectionId:qe,reason:"emojiPack:dialog"})).then(()=>{Vt(!1),Qt&&Qt(),ht((0,u.O)()),ht((0,q.M)({element:t.createElement(Jt,{adding:!0,name:At})}))})},[ht,qe,At,Qt]),[rn,vn]=(0,t.useState)(!1),Rn=(0,t.useCallback)(()=>{vn(!0),ht((0,Ft.zx)({collectionId:qe,reason:"emojiPack:dialog"})).then(()=>{vn(!1),Qt&&Qt(),ht((0,u.O)()),ht((0,q.M)({element:t.createElement(Jt,{adding:!1,name:At})}))})},[ht,qe,At,Qt]);if(!Xt)return null;const Pn=(0,b.A)(Xt,(bn,Ln)=>({name:Ln,url:bn})).map((bn,Ln)=>({...bn,index:Ln})),In=(0,y.A)(Pn,5),Nn=ft.t("{emojiCount, plural, =1 {# emoji} other {# emoji}}",{emojiCount:(0,f.A)(Xt)}),Jn=ft.t("by {author}",{author:xt}),ts=t.createElement(t.Fragment,null,t.createElement("span",{className:"p-emoji_pack_details__subtitle_author"},Jn),Nn),Un=t.createElement(Rt.A,{"aria-label":ft.t("Go back"),svgIconProps:{name:"caret-left-full"},onClick:()=>en()});return t.createElement(t.Fragment,null,t.createElement(i.rQ,null,t.createElement(i.Rc,{icon:Un,title:At,subtitle:ts})),t.createElement(i.$m,null,t.createElement(i.qf,null,In.map(bn=>t.createElement("div",{key:bn.map(Ln=>Ln.name).join("-details-"),className:"p-emoji_pack_details__emoji_row"},bn.map(Ln=>t.createElement(Zt,{key:`emoji-pack-details-${Ln.name}`,name:`:${Ln.name}:`,url:Ln.url,index:Ln.index,copyToClipboard:jt,onClose:Qt})),[...new Array(5-bn.length)].map((Ln,Gn)=>`emoji-pack-details-spacer-${Gn}`).map(Ln=>t.createElement("div",{key:Ln,className:"p-emoji_pack_details__emoji_spacer"})))))),t.createElement(i.jl,null,jt&&(0,mt.tD)()&&t.createElement("span",{className:"p-emoji_pack_details__tip"},ft.t("Click an emoji to copy to clipboard")),t.createElement(i.ox,null,jt&&Nt&&t.createElement(z.lV,{autoFocus:!0,type:"danger",loading:rn,onClick:Rn,"aria-label":ft.t("Remove pack")},ft.t("Remove pack")),!jt&&t.createElement(z.lV,{autoFocus:!0,loading:on,onClick:qt,"aria-label":ft.t("Add pack")},ft.t("Add pack")))))},"EmojiPackDetails");Tt.displayName="EmojiPackDetails";const Pt=Tt;var Kt=e(1655938719);const dn=new c.Ay("custom_emoji_list"),sn={CUSTOM:"custom",PACKS:"packs"},H=m(Pe=>{let{orgName:qe="",searchArgs:At={},showEmojiPacks:xt,initialTab:jt=sn.CUSTOM,emojiNameSuggestion:Xt="",emojiUrl:en,megaphoneEventOnClose:Qt}=Pe;const ht=(0,s.wA)(),[Nt,on]=(0,t.useState)(jt),[Vt,qt]=(0,t.useState)(!1),[rn,vn]=(0,t.useState)(null),Rn=en?dn.t("Add emoji to your organization"):void 0,Pn=xt?dn.t("Add emoji"):dn.t("Add custom emoji"),In=Rn??Pn,Nn=dn.t("Emoji packs"),Jn=dn.t("Custom emoji"),ts=(0,t.useMemo)(()=>[{title:Jn,id:sn.CUSTOM,onClick:()=>on(sn.CUSTOM),"data-qa":"add_emoji_dialog_tab_custom"},{title:Nn,id:sn.PACKS,onClick:()=>on(sn.PACKS),"data-qa":"add_emoji_dialog_tab_packs"}],[Jn,Nn]),Un=(0,t.useCallback)(()=>{Qt&&ht((0,Kt.iR)({event:{type:Qt}}))},[ht,Qt]),bn=(0,t.useCallback)(()=>{Un(),ht((0,u.O)())},[ht,Un]),Ln=xt&&Nt===sn.PACKS,Gn=xt?t.createElement(o.A,{tabs:ts,currentTabId:Nt,className:"p-add_custom_emoji_dialog__tabs",ariaLabel:In}):null,Zn=r()("p-add_emoji_dialog",{"p-add_emoji_dialog--without_tabs":!xt});return xt&&rn?t.createElement(i.dW,{closeModal:bn,isOpen:!0,className:Zn},t.createElement(Pt,{collectionId:a(rn),name:(0,_.M)(rn),author:l(rn),emoji:Vt?g(rn):(0,p.H)(rn),installed:Vt,onCancelClick:()=>{vn(null)},onClose:Un})):t.createElement(i.dW,{overlayClassName:"p-add_emoji_dialog_overlay",closeModal:bn,isOpen:!0,className:Zn},t.createElement(i.rQ,null,t.createElement(i.Rc,{title:In,className:"no_min_height padding_bottom_50"}),Gn),Ln&&t.createElement(Ee,{orgName:qe,onPackClick:(ns,is)=>{let{installed:Xn}=is;qt(Xn),vn(ns)}}),!Ln&&t.createElement(Ct,{orgName:qe,searchArgs:At,emojiNameSuggestion:Xt,emojiUrl:en}))},"AddEmojiDialog");H.displayName="AddEmojiDialog";const Ne=H},5331686899:(W,T,e)=>{"use strict";e.d(T,{lw:()=>k,Ay:()=>x});var t=e(7752974446),s=e.n(t),n=e(3134334389),r=e(9506008067),u=e(9391594207),i=e(4844578989),o=e.n(i),a=e(2047021170),_=e(8525228540),l=e(8847766420),p=e(3829348308),g=e(3043682041),c=e(9599231336),E=e(9907843289),A=e(8556787853),d=e(5799716058),v=e(4921059838),h=e(6795568989),f=e(3695531806),y=e(8181621268),I=e(1610251172),C=e(337319621);function D(){return D=Object.assign||function(B){for(var F=1;F<arguments.length;F++){var V=arguments[F];for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(B[Y]=V[Y])}return B},D.apply(this,arguments)}m(D,"_extends");function M(B){return class extends n.PureComponent{componentDidCatch(F,V){this.setState(()=>({hasError:!0})),(0,C.Wo)().error({label:"Error rendering emoji component",error:F,message:V})}render(){return this.state.hasError?n.createElement("span",{"data-qa":"missing_emoji",className:"c-emoji c-emoji__medium c-emoji--inline"},n.createElement("img",{src:s()})):n.createElement(B,D({},this.props))}constructor(F){super(F),this.state={hasError:!1}}}}m(M,"withEmojiErrorBoundary"),M.displayName="withEmojiErrorBoundary";const P=M;var S=e(7360333171),b=e(5371346921),O=e(9936232041);function L(){return L=Object.assign||function(B){for(var F=1;F<arguments.length;F++){var V=arguments[F];for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(B[Y]=V[Y])}return B},L.apply(this,arguments)}m(L,"emoji_extends");const k={SMALL:"small",MEDIUM:"medium",LARGE:"large",LARGER:"larger",XLARGE:"xlarge"},K=m(B=>{const F=(0,r.d4)(V=>{if(!B.isStandard)return B.url;var Y;const w=(Y=B.sourceTeamId)!==null&&Y!==void 0?Y:(0,l.ZT)(V);return B.isStandard?(0,p.Ez)(V,{text:B.text||"",teamId:w,emojiMode:(0,g.w)(V,{forceDisplay:!!B.forceDisplay}),emojiSize:k.XLARGE}):B.url});return n.createElement(N,{shouldFallbackOnLoadError:!0,renderAsText:!1,showTooltip:!1,emojiSize:k.LARGER,text:B.text,displayText:B.displayText,url:F||"",sourceTeamId:B.sourceTeamId,ariaLabel:B.ariaLabel,alt:B.alt,unicode:B.unicode,emojiNameFromText:B.emojiNameFromText,dispatch:B.dispatch,stopAnimations:B.stopAnimations,fallbackUrl:B.fallbackUrl,isStandard:B.isStandard})},"EmojiTooltipEmoji");K.displayName="EmojiTooltipEmoji";let N=m(class extends n.PureComponent{onLoadError(){this.setState(()=>({isLoadError:!0}))}renderIconFallback(){return n.createElement(I.A,{legacy:!0,className:"c-emoji__text_mode_icon",type:"info-circle",align:"top",inherit:!0})}isImportable(){const{isLoadError:F}=this.state,{isImportAllowed:V,isStandard:Y}=this.props;return V&&!Y&&!F}renderEmojiElement(){const{text:F,displayText:V,url:Y,emojiSize:w,isEmojiInlineWithText:G,className:Ee,shouldFallbackOnLoadError:ne,fallbackUrl:se,ariaLabel:ce,alt:pe}=this.props,{isLoadError:ye}=this.state,Ie=o()("c-emoji",`c-emoji__${w}`,Ee,{"c-emoji--inline":G}),Se=ce??(V&&(0,d.A)(V)),le={"data-stringify-type":"emoji","data-stringify-emoji":F},X=this.isImportable()?this.handleEmojiImport:void 0;return G?n.createElement("span",{className:Ie,"data-qa":(ye||!Y)&&ne?"emoji-fallback":"emoji"},n.createElement("img",L({src:(ye||!Y)&&ne?se:Y,onError:this.onLoadError,onContextMenu:X,"aria-label":Se,alt:V},le))):n.createElement("img",L({src:(ye||!Y)&&ne?se:Y,onError:this.onLoadError,"aria-label":Se,alt:pe??V,className:Ie,onContextMenu:X,"data-qa":(ye||!Y)&&ne?"emoji-fallback":"emoji"},le))}renderUnicodeAsEmoji(F){if(F&&(0,h.d)(F)){const{emojiSize:V}=this.props,Y=(0,f.z)({codePointLikeString:F});return n.createElement("span",{className:o()("c-emoji__unicode",{"c-emoji__unicode--large":V===k.LARGE})},Y)}}renderTooltip(){const{renderAsText:F,displayText:V,text:Y,isStandard:w,url:G,unicode:Ee,sourceTeamId:ne,ariaLabel:se,alt:ce,emojiNameFromText:pe,stopAnimations:ye,fallbackUrl:Ie,forceDisplay:Se}=this.props;if(F)return V;const le=w?void 0:G;return n.createElement(n.Fragment,null,n.createElement("div",{className:"c-emoji__emoji-tooltip"},n.createElement(K,{text:Y,displayText:V,url:le,sourceTeamId:ne,ariaLabel:se,alt:ce,unicode:Ee,emojiNameFromText:pe,dispatch:this.props.dispatch,stopAnimations:ye,fallbackUrl:Ie,isStandard:w,forceDisplay:Se})),V,this.isImportable()&&n.createElement(b.K,{emojiName:V,emojiUrl:G}))}render(){const{displayText:F,url:V,renderAsText:Y,showTooltip:w,iconInTextMode:G,renderEmojiFallback:Ee,unicode:ne,emojiNameFromText:se}=this.props;if(!V&&!F&&!ne)return null;if((Y||!V)&&!Ee&&!ne)return G?this.renderIconFallback():F;if(ne&&!se){var ce;return(ce=this.renderUnicodeAsEmoji(ne))!==null&&ce!==void 0?ce:F}return w?n.createElement(y.Ay,{tip:this.renderTooltip,delay:y.PK,zIndex:"above_fs"},this.renderEmojiElement()):this.renderEmojiElement()}constructor(F){super(F),this.handleEmojiImport=V=>{if(V!=null&&V.altKey)return;const{url:Y,dispatch:w,displayText:G}=this.props;w((0,S.a)({emojiName:G,emojiUrl:Y,event:V}))},this.onLoadError=this.onLoadError.bind(this),this.renderTooltip=this.renderTooltip.bind(this),this.state={isLoadError:!1}}},"Emoji");N.defaultProps={text:"",showTooltip:!1,className:void 0,stopAnimations:!1,iconInTextMode:!1,url:void 0,emojiSize:k.MEDIUM,isEmojiInlineWithText:!1,isImportAllowed:!1,displayText:"",sourceTeamId:void 0,shouldFallbackOnLoadError:!1,renderEmojiFallback:!1,ariaLabel:void 0,alt:void 0},N.displayName="Emoji";const R=m((B,F)=>{const{stopAnimations:V,forceDisplay:Y,emojiSize:w=k.MEDIUM,url:G,unicode:Ee}=F;let{text:ne}=F,se=(0,p.qJ)(B,Ee??"");se&&se.charAt(se.length-1)!==":"&&se.charAt(0)!==":"&&(se=`:${se}:`),ne=se||ne||"";let ce=G;const pe=(0,l.JY)(B)||"",ye=!(0,a.ty)(B,"a11y_animations"),Ie=V||ye,Se=(0,E.Yp)({teamOrEnterpriseId:pe,recalc:!1}),le=(0,_.bR)({state:B,locale:Se,name:ne}),X=!Y&&(0,c.P)(B),J=(0,O.A)(ne),z=(0,v.R)(B,J);if(!X&&!ce){const q=(0,g.w)(B,{forceDisplay:!!Y});var te;const re=(te=F.sourceTeamId)!==null&&te!==void 0?te:pe;ce=(0,p.Ez)(B,{text:ne,parsedEmoji:J,teamId:re,emojiMode:q,emojiSize:w===k.LARGER?k.XLARGE:w})||void 0}if(Ie&&!z){var $;ce=($=(0,A.Ay)(B,{url:ce,stopAnimations:Ie,isEmoji:!0}))!==null&&$!==void 0?$:void 0}return{text:ne,url:ce,renderAsText:X,emojiSize:w,displayText:le||"",stopAnimations:Ie,fallbackUrl:s(),isStandard:z,emojiNameFromText:se}},"mapStateToProps"),U={mapStateToProps:R},x=P((0,u.N)(R)(N))},1030162945:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>s,lw:()=>t.lw});var t=e(5331686899);const s=t.Ay},4899054948:(W,T,e)=>{"use strict";e.d(T,{A:()=>M});var t=e(3134334389),s=e(9391594207),n=e(4844578989),r=e.n(n),u=e(3879245650),i=e(3202757386),o=e(2878685908),a=e(4413566926),_=e(6084388622),l=e(8739505998),p=e(337319621),g=e(1318506593),c=e(7578434623),E=e(7171435821),A=e(7545496485);const v=m(P=>!!(0,A.w)(P).isWorkspace,"looksLikeWorkspaceState");var h=e(2229064554),f=e(8022922400),y=e(719020269);const I=new a.Ay("error_boundary"),C="REB";let D=m(class extends t.Component{componentDidUpdate(S){this.state.hasError&&S.id!==this.props.id&&this.resetHasError()}componentDidCatch(S,b){let O=null;try{O=`${C}${(0,u.B)((0,f.A)(S.message)).substr(0,9).toUpperCase()}`}catch{}if(this.setState(()=>({hasError:!0,errCode:O}),()=>{var k,K;return(K=(k=this.props).onError)===null||K===void 0?void 0:K.call(k,S)}),!(0,o.Cu)()){var L;const k=b==null||(L=b.componentStack)===null||L===void 0?void 0:L.split(`
`).slice(0,Error.stackTraceLimit).join(`
`);this.props.logger.error("ERROR-BOUNDARY",S,O,k,{subtype:this.props.subtype||"component_error_boundary"})}}onClickReloadButton(S){S.preventDefault();let b=window.location.href;this.props.telemeter.count("react_error_boundary_reload_click"),(0,i.A)()?(b=(0,g.M6)(window.location.href,"force_cold_boot",1),this.props.logger.info("GANTRY",`Reloading at ${b} after hitting ErrorBoundary`),(0,y.Lz)().finally(()=>{window.location.href=b})):(this.props.logger.info("LEGACY",`Reloading at ${b} after hitting ErrorBoundary`),window.location.href=b)}resetHasError(){this.setState(()=>({hasError:!1,errCode:null}))}renderReloadLinkMsg(){const S=m(b=>{let{text:O,key:L}=b;return t.createElement(l.A,{href:`https://${(0,E.qF)()}/help/contact`,rel:"noopener noreferrer",key:L},O)},"renderLink");return this.state.errCode==="REBD7A8C1099"?I.rt("This particular hiccup is something we know about and are working to fix. Please reload and things should be cleared up. If this issue persists, please <a>drop us a line.</a>",{fallbackHash:"e429542887f26442dba7a085bd05bea15803edd9",fallbackHashNs:"error_boundary"},S):I.rt("Reloading Slack might clear things up. If it doesn\u2019t, <a>drop us a line.</a>",null,S)}render(){if(this.state.hasError){if(this.props.telemeter.count("react_error_boundary_rendered"),this.props.renderError)return this.props.renderError({errCode:this.state.errCode});const S=r()("p-error_boundary",this.props.className,{"p-error_boundary--short":this.props.variant==="short"});return t.createElement("div",{className:S},t.createElement("div",{className:"p-error_boundary__content"},t.createElement("div",{className:"p-error_boundary__message"},t.createElement("h1",{className:"p-error_boundary__heading"},t.createElement("span",null,I.t("Something went wrong")),t.createElement("span",{className:"p-error_boundary__icon p-error_boundary__icon--turtle",role:"img","aria-label":I.t("Something went wrong")},"\u{1F422}")),t.createElement("p",{className:"p-error_boundary__contact_msg"},this.renderReloadLinkMsg())),this.state.errCode&&t.createElement(h.A,{errCode:this.state.errCode}),t.createElement(_.Ay,{type:"primary",className:"margin_right_50",onClick:this.onClickReloadButton,"data-qa":"error_reload"},I.t("Reload"))))}return this.props.children}constructor(S){super(S),this.state={hasError:!1,errCode:null},this.onClickReloadButton=this.onClickReloadButton.bind(this)}},"ErrorBoundary");D.displayName="ErrorBoundary";const M=(0,s.N)(P=>({logger:v(P)?(0,p.Ay)({state:P}):(0,p.Wo)(),telemeter:v(P)?(0,c.Cy)({state:P}):(0,c.rh)()}))(D)},2229064554:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3134334389),s=e(4413566926);const n=new s.Ay("error_boundary");function r(u){let{errCode:i}=u;return t.createElement("p",{className:"p-error_boundary__error_code_container"},t.createElement("span",{className:"p-error_boundary__error_code","data-qa":"error_code"},n.t("Error: "),i))}m(r,"ErrorCode")},3837503631:(W,T,e)=>{"use strict";e.d(T,{H:()=>i,A:()=>o});var t=e(4899054948),s=e(3134334389);function n(){return n=Object.assign||function(a){for(var _=1;_<arguments.length;_++){var l=arguments[_];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(a[p]=l[p])}return a},n.apply(this,arguments)}m(n,"_extends");const r=m(()=>null,"renderError"),i=m(a=>s.createElement(t.A,n({renderError:r},a)),"QuietErrorBoundary"),o=t.A},8022922400:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});const t=/\bA[A-Z0-9]{8,}\b/g,s=/\bB[A-Z0-9]{8,}\b/g,n=/\b(C|G|D)[A-Z0-9]{8,}\b/g,r=/\bF[A-Z0-9]{8,}\b/g,u=/\b(U|W)[A-Z0-9]{8,}\b/g,i=/\b[\d]{10}\.[\d]{6}\b/g,o=/\bS[A-Z0-9]{8,}\b/g,a=/\bT[A-Z0-9]{8,}\b/g;function _(l){return String(l).replace(t,"[APP_ID]").replace(s,"[BOT_ID]").replace(n,"[CHANNEL_ID]").replace(r,"[FILE_ID]").replace(u,"[MEMBER_ID]").replace(i,"[MESSAGE_TS]").replace(o,"[USER_GROUP_ID]").replace(a,"[TEAM_ID]")}m(_,"normalizeError")},5858219536:(W,T,e)=>{"use strict";e.d(T,{c:()=>n,w:()=>s});var t=e(4761125736);function s(r){return(0,t._Z)(r,"a11y_explorer_results_labels_i18n")==="on"}m(s,"isA11yExplorerResultsLabelsEnabled");const n=m(r=>(0,t._Z)(r,"browse_3p_files")==="on","isBrowse3PFilesEnabled")},3216205233:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(3134334389),s=e(2375333597),n=e(6304789565),r=e(6122756707),u=e(9003400431),i=e(980293773),o=e(735940183);const a=new o.A("request_access_done"),_=m(()=>{const c=(0,r.wA)(),E=(0,t.useCallback)(()=>{c((0,u.O)())},[c]),A=a.t("Request sent"),d=a.t("You\u2019ll be notified once it\u2019s been shared with you"),v=a.t("Done");return t.createElement(i.dW,{closeModal:E,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(i.rQ,null,t.createElement(i.Rc,null,t.createElement("h2",null,A))),t.createElement(i.$m,null,t.createElement(i.qf,null,d)),t.createElement(i.jl,null,t.createElement(i.ox,null,t.createElement(i.s_,{type:"primary",onClick:E,"aria-label":v},v))))},"RequestAccessDoneModal");_.displayName="RequestAccessDoneModal";const l=_,p=(0,n.Ay)("Opens the Request Access Done confirmation modal in client",(c,E)=>{c((0,s.q)({element:t.createElement(l,null)}))});p.meta={name:"createThunk",key:"createThunkopenRequestAccessDoneModal",description:"Opens the Request Access Done confirmation modal in client"};const g=p},4492997969:(W,T,e)=>{"use strict";e.d(T,{A:()=>E});var t=e(3134334389),s=e(2375333597),n=e(6304789565),r=e(6122756707),u=e(9003400431),i=e(8739505998),o=e(735940183),a=e(7171435821),_=e(980293773);const l=new o.A("request_access_error"),p=m(()=>{const A=(0,r.wA)(),d=(0,t.useCallback)(()=>{A((0,u.O)())},[A]),v=l.rt("Something\u2019s gone wrong. If the problem persists, <a>let us know</a>.",null,h=>{let{tag:f,text:y}=h;return t.createElement(i.A,{key:f,target:"_blank",href:`https://${(0,a.qF)()}/help/requests/new`},y)});return t.createElement(_.dW,{closeModal:d,centered:!0,shouldCloseOnOverlayClick:!0},t.createElement(_.rQ,null,t.createElement(_.Rc,null,t.createElement("h2",null,l.t("Error")))),t.createElement(_.$m,null,t.createElement(_.qf,null,v)),t.createElement(_.jl,null,t.createElement(_.ox,null,t.createElement(_.s_,{type:"danger",onClick:d,"aria-label":l.t("Close")},l.t("Close")))))},"RequestAccessErrorModal");p.displayName="RequestAccessErrorModal";const g=p,c=(0,n.Ay)("Opens the Request Access Done confirmation modal in client",(A,d)=>{A((0,s.q)({element:t.createElement(g,null)}))});c.meta={name:"createThunk",key:"createThunkopenRequestAccessErrorModal",description:"Opens the Request Access Done confirmation modal in client"};const E=c},5604079762:(W,T,e)=>{"use strict";e.d(T,{A:()=>M});var t=e(6304789565),s=e(6801073238),n=e(9899967630),r=e(3134334389),u=e(2375333597),i=e(6122756707),o=e(9003400431),a=e(980293773),_=e(4481313819),l=e(1224315998),p=e(735940183),g=e(6084388622),c=e(3216205233),E=e(4492997969);const A=new p.A("request_access_done"),d={uiComponentName:l.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_close",elementName:"quip_permissions_request_button_close",onClick:{enableClogAction:!0}},v={uiComponentName:l.UiComponentName.QUIP_PERMISSIONS_REQUEST_MODAL,uiComponentVariant:"request_send",elementName:"quip_permissions_request_button_send",onClick:{enableClogAction:!0}},h=m(P=>{let{fileId:S}=P;const[b,O]=(0,r.useState)(!1),[L,k]=(0,r.useState)(!1),K=(0,i.wA)(),N=(0,r.useCallback)(()=>(K((0,o.O)()),!1),[K]),R=(0,r.useCallback)(()=>{k(!1),K((0,s.x)({fileId:S,requestType:"access",reason:"CustomizedRequestAccessModal"})).then(()=>K((0,c.A)())).catch(()=>{K((0,E.A)())}),O(!0)},[K,S]),U=A.t("You don\u2019t have access"),x=A.t("Collaborators can grant you access"),B=A.t("Cancel"),F=A.t("Request access");return r.createElement(_.A,{eventId:l.EventId.QUIP_PERMISSIONS_REQUEST,elementType:l.ElementType.MODAL},r.createElement(a.dW,{closeModal:N,"data-qa":"canvas_customized_request_access_modal",centered:!0,shouldCloseOnOverlayClick:!0},r.createElement(a.rQ,null,r.createElement(a.Rc,null,r.createElement("h2",null,U))),r.createElement(a.$m,null,r.createElement(a.qf,null,x)),r.createElement(a.jl,null,r.createElement(a.ox,null,r.createElement(a.s_,{type:"outline",onClick:N,"data-qa":"canvas_request_cancel_button",autoClogProps:d,"aria-label":B},B),r.createElement(g.lV,{type:"primary",onClick:R,loading:L,"data-qa":"canvas_request_access_button",disabled:b,autoClogProps:v,"aria-label":F},F)))))},"CustomizedRequestAccessModal");h.displayName="CustomizedRequestAccessModal";const f=h,y=(0,t.Ay)("Opens the Request Access Done confirmation modal in client",(P,S,b)=>{let{fileId:O}=b;P((0,u.q)({element:r.createElement(f,{fileId:O})}))});y.meta={name:"createThunk",key:"createThunkopenCustomizedRequestAccessModal",description:"Opens the Request Access Done confirmation modal in client"};const I=y;var C=e(8257102208);const D=(0,t.Ay)('Opens the "Request Access" modal',async(P,S,b)=>{let{fileId:O,url:L,skipConfirmation:k,skipDoneDialog:K}=b,N;if(!O&&L){const R=(0,n.cR)(S(),L),U=(0,C.$q)(S(),L);R!==null&&(N=R),U!==null&&(N=U)}else O&&(N=O);N&&(k?P((0,s.x)({fileId:N,requestType:"access",reason:"DirectRequestAccessModal"})).then(()=>{K||P((0,c.A)())}).catch(()=>{P((0,E.A)())}):P(I({fileId:N})))});D.meta={name:"createThunk",key:"createThunkrequestAccessModalThunk",description:'Opens the "Request Access" modal'};const M=D},5141066605:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(735940183),s=e(5549390246),n=e(4761125736);const r=new t.A("files");function u(i,o){if(!i.is_external)return null;if((0,n._Z)(o,"file_consistency")==="treatment"){let _="File";switch(i.external_type){case"gdrive":switch(i.filetype){case"gsheet":_=r.t("Google Sheet");break;case"gdoc":_=r.t("Google Doc");break;case"gpres":_=r.t("Google Slide");break;case"gdraw":_=r.t("Google Drawing");break;default:_=r.t("Google {fileType}",{fileType:i.pretty_type})}break;case"dropbox":case"box":case"onedrive":case"app":_=r.t("{fileType}",{fileType:i.pretty_type});break;default:_=r.t("File")}return _}switch(i.external_type){case"gdrive":switch(i.filetype){case"gsheet":return r.t("Spreadsheet from Google Drive");case"gdoc":return r.t("Document from Google Drive");case"gpres":return r.t("Presentation from Google Drive");case"gdraw":return r.t("Drawing from Google Drive");default:return r.t("{fileType} from Google Drive",{fileType:i.pretty_type})}case"dropbox":return r.t("{fileType} from Dropbox",{fileType:i.pretty_type});case"box":return r.t("{fileType} from Box",{fileType:i.pretty_type});case"onedrive":return r.t("{fileType} from OneDrive",{fileType:i.pretty_type});case"app":return r.t("{fileType} from {appName}",{fileType:i.pretty_type,appName:(0,s.Y)(o,i)||""});default:return r.t("File")}}m(u,"getExternalFiletypeDescription")},8642919232:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(8950789382),s=e(6304789565),n=e(8677230210);const r=(0,s.Ay)("Opens a member profile in a tile",async(i,o,a)=>{(0,n.wC)(o(),a)&&i((0,t.s)({viewId:"rimeto_profile",params:{memberId:a}}))});r.meta={name:"createThunk",key:"createThunkopenProfileInWindow",description:"Opens a member profile in a tile"};const u=r},6565762531:(W,T,e)=>{"use strict";e.d(T,{A:()=>t});function t(s){return!!(s&&s!=="-")}m(t,"isValidFieldValue")},7969928607:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(3134334389),s=e(5734673180),n=e(8509961938),r=e(1030162945),u=e(6818330210);function i(a){let{text:_="",inputIsEscaped:l=!1,emojiSize:p=r.lw.SMALL,showTooltips:g=!0,stopAnimations:c=!1,emojiDisplayInfo:E={}}=a;const A=[];let d=0;const v=l?(0,s.A)(_??""):_??"";if(v.replace((0,n.A)(),(h,f,y)=>{if(y>d){const D=v.slice(d,y);A.push(t.createElement(t.Fragment,{key:`${y}-${D}`},D))}const{name:I=h,url:C=void 0}=(0,u.H)(h,E);return A.push(t.createElement(r.Ay,{text:I,emojiSize:p,key:`${y}-${I}`,showTooltip:g,stopAnimations:c,isEmojiInlineWithText:!0,url:C})),d=y+h.length,""}),!A.length)return t.createElement(t.Fragment,null,v);if(d<v.length){const h=v.substr(d);A.push(t.createElement(t.Fragment,{key:`last-${h}`},h))}return t.createElement(t.Fragment,null,A)}m(i,"FormatTextWithEmoji"),i.displayName="FormatTextWithEmoji";const o=t.memo(i)},6159136815:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(5734673180),n=e(7969928607);const r=/\ue000([^\ue001]*)\ue001/g;function u(o){let{text:a="",inputIsEscaped:_=!1,showTooltips:l=!0,stopAnimations:p=!1}=o;const g=[];let c=0;const E=_?(0,s.A)(a??""):a??"";if(E.replace(r,(A,d,v)=>{if(v>c){const h=E.slice(c,v);g.push(t.createElement(n.A,{key:`${v}-${h}`,text:h,showTooltips:l,inputIsEscaped:_,stopAnimations:p}))}g.push(t.createElement("span",{className:"c-mrkdwn__highlight",key:`${v}-${d}`},t.createElement(n.A,{text:d,showTooltips:l,inputIsEscaped:_,stopAnimations:p}))),c=v+A.length}),!g.length&&a)return t.createElement(t.Fragment,null,t.createElement(n.A,{text:a,showTooltips:l,inputIsEscaped:_,stopAnimations:p}));if(a&&c<a.length){const A=E.substr(c);g.push(t.createElement(n.A,{key:`last-${A}`,text:A,showTooltips:l,inputIsEscaped:_,stopAnimations:p}))}return t.createElement(t.Fragment,null,g)}m(u,"FormatTextWithHighlightMarkers"),u.displayName="FormatTextWithHighlightMarkers";const i=t.memo(u)},7881522262:(W,T,e)=>{"use strict";e.d(T,{F:()=>l});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5931392972),u=e(3801841745),i=e(2036354333),o=e(8683010724),a=e(7722580674),_=e.n(a);const l=m(p=>{let{cards:g}=p;const[c,E]=(0,t.useState)(0),A=(0,t.useCallback)(v=>()=>{E(v)},[]),d=m(v=>{const h={position:"absolute",transition:"all 300ms ease-in-out, box-shadow 100ms ease-in-out",willChange:"transform, left, box-shadow",boxShadow:"0 10px 20px rgba(0, 0, 0, 0.1)"},f=120;if(v===c)return{...h,zIndex:4,left:"50%",transformOrigin:"center",transform:"translateX(-50%) scale(1)",boxShadow:"0 20px 40px rgba(0, 0, 0, 0.2)"};let y="translateX(-50%) scale(0.8)",I=3;return(v===c+2||v===c-2)&&(y="translateX(-50%) scale(0.7)",I=2),(v===c+3||v===c-3)&&(y="translateX(-50%) scale(0.6)",I=1),{...h,transform:y,zIndex:I,left:`calc(50% + ${f*(v-c)}px)`}},"getCardStyle");return t.createElement(u.A,{flexDirection:"column",justifyContent:"center",alignItems:"center",gap:24},t.createElement("div",{className:_().cardsContainer},g.map((v,h)=>t.createElement("div",{key:v.key,className:_().cardContainer,style:d(h)},t.createElement("img",{className:_().cardContainerImg,src:v.imgSrc,alt:""}),t.createElement(u.A,{flexDirection:"column"},t.createElement(r.DZ,{level:"2",weight:"black",size:"title"},v.title),t.createElement(r.EY,{weight:"base"},v.subtitle))))),t.createElement(u.A,{alignItems:"center",justifyContent:"center",gap:16},g.map((v,h)=>t.createElement(i.A,{"data-qa":"trials-carousel-nav-dot",key:v.key,onClick:A(h),className:n()(_().dot,{[_().selectedDot]:c===h})},t.createElement(o.A,{name:"status-member",size:"24",variation:"filled"})))))},"Carousel");l.displayName="Carousel"},1471093810:(W,T,e)=>{"use strict";e.d(T,{m:()=>p});var t=e(3134334389),s=e(6000244203),n=e(7881522262),r=e(3801841745),u=e(5931392972),i=e(6084388622),o=e(980293773),a=e(2657634112),_=e(1655662782),l=e.n(_);const p=m(g=>{let{title:c,subtitle:E,secondaryCTA:A,secondaryCTAOnClick:d,primaryCTA:v,features:h,autoClogProps:f}=g;return t.createElement(o.aF,{maxWidth:840,autoClogProps:f},t.createElement(a.A,null,t.createElement("div",{className:l().container},t.createElement(r.A,{flexDirection:"column",gap:24},t.createElement("div",{className:l().topContainer},t.createElement(u.DZ,{level:"1",weight:"black",size:"headline"},c),t.createElement("div",{className:l().subtitle},E)),t.createElement(n.F,{cards:h}),t.createElement(s.A,null,t.createElement(i.Ay,{autoClogProps:f,type:"outline",size:"large",onClick:d},A),v&&(v.url?t.createElement(i.z9,{size:"large",href:v.url},v.text):v.onClick&&t.createElement(i.Ay,{size:"large",onClick:v.onClick},v.text)))))))},"EntryPointModal");p.displayName="EntryPointModal"},2657634112:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(9506008067),u=e(3328068409),i=e(5097962808),o=e.n(i);const a=m(_=>{let{children:l}=_;const g=(0,r.d4)(u.to)==="dark";return t.createElement("div",{className:n()(o().container,{[o().containerDarkMode]:g})},l)},"ScoopContainer");a.displayName="ScoopContainer"},5931392972:(W,T,e)=>{"use strict";e.d(T,{DZ:()=>E,EY:()=>p,LE:()=>a,Xm:()=>l,_g:()=>o});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(6035312900),u=e.n(r);const i=["headline","title","subtitle","base","caption","micro"],o=["base","semibold","bold","black"],a=["Core/Content/Primary","Core/Content/Secondary","Core/Content/Tertiary","Theme/Content/Inverse primary","Core/Content/Important","Core/Content/Highlight 1","Core/Content/Highlight 2","Core/Content/Highlight 3","Palettes/Sunflower/60"],_=m(A=>{let{children:d,as:v="span",size:h="base",weight:f="base",color:y="Core/Content/Primary",isItalic:I}=A;return t.createElement(v,{className:n()(u().text,{[u().fontSizeMicro]:h==="micro",[u().fontSizeCaption]:h==="caption",[u().fontSizeBase]:h==="base",[u().fontSizeSubtitle]:h==="subtitle",[u().fontSizeTitle]:h==="title",[u().fontSizeHeadline]:h==="headline",[u().fontWeightBase]:f==="base",[u().fontWeightSemibold]:f==="semibold",[u().fontWeightBold]:f==="bold",[u().fontWeightBlack]:f==="black",[u().colorPrimary]:y==="Core/Content/Primary",[u().colorSecondary]:y==="Core/Content/Secondary",[u().colorTertiary]:y==="Core/Content/Tertiary",[u().colorThemeInversePrimary]:y==="Theme/Content/Inverse primary",[u().colorCoreContentHighlight1]:y==="Core/Content/Highlight 1",[u().colorCoreContentHighlight2]:y==="Core/Content/Highlight 2",[u().colorCoreContentHighlight3]:y==="Core/Content/Highlight 3",[u().colorCoreContentImportant]:y==="Core/Content/Important",[u().colorPalettesSunflower60]:y==="Palettes/Sunflower/60",italic:I})},d)},"TextBase");_.displayName="TextBase";const l=["micro","caption","base","subtitle"].filter(A=>i.includes(A)),p=m(A=>{let{children:d,as:v,size:h,weight:f,color:y,isItalic:I}=A;return t.createElement(_,{as:v,size:h,weight:f,color:y,isItalic:I},d)},"Text");p.displayName="Text";const g=["headline","title","subtitle"].filter(A=>i.includes(A)),c={1:"h1",2:"h2",3:"h3"},E=m(A=>{let{level:d,size:v,weight:h="black",children:f}=A;return t.createElement(_,{size:v,as:c[d],color:"Core/Content/Primary",weight:h},f)},"Heading");E.displayName="Heading"},1743656885:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(8951118047);const s=t.A},8808892924:(W,T,e)=>{"use strict";e.d(T,{i:()=>S});var t=e(3134334389),s=e(9338147070),n=e(4844578989),r=e.n(n),u=e(3391133100),i=e(9506008067),o=e(8847766420),a=e(3288846409),_=e(6533394955),l=e(6470070112),p=e(3150724727),g=e(8181621268),c=e(5286203919),E=e(1766818988),A=e(9548972574),d=e(8683010724),v=e(543174729);const h=t.memo(b=>{let{id:O}=b;return t.createElement("svg",{className:"sr-only"},t.createElement("clipPath",{id:O,clipPathUnits:"objectBoundingBox"},t.createElement("path",{d:"M0.03,1 h0.742 a0.258,0.2,0,0,0,0.258,-0.2 V0.2 a0.258,0.2,0,0,0,-0.258,-0.2 H0.03 a0.385,0.299,0,0,1,0.098,0.2 v0.6 A0.385,0.299,0,0,1,0.03,1"})))});var f=e(1407713935),y=e(9101533895),I=e(337319621);function C(){return C=Object.assign||function(b){for(var O=1;O<arguments.length;O++){var L=arguments[O];for(var k in L)Object.prototype.hasOwnProperty.call(L,k)&&(b[k]=L[k])}return b},C.apply(this,arguments)}m(C,"_extends");const D=2;function M(b){let{channelId:O,withTooltip:L,className:k,excludeIcon:K,excludeMemberOverflowCount:N,maxMembers:R=D,avatarSize:U=p.RG.verySmall,includeChannelNameInTooltip:x=!1,excludeSelf:B=!1}=b;const F=(0,t.useMemo)(()=>`huddles-mask-${(0,u.r9)()}`,[]),V=(0,t.useMemo)(()=>({"--huddles-mask":`url(#${F})`,"--huddles-avatar-size":`${U}px`}),[F,U]),Y=(0,i.d4)(te=>(0,l.pt)(te)||(0,E.s)(te)),w=(0,i.d4)(te=>(0,y.OL)(te,O)),G=(0,a.cw)(c.hc),Ee=(0,a.cw)(c.vO),se=G===O&&(0,l.pZ)(Ee),ce=(0,i.Z2)(te=>(0,A.A7)(te,O,B)),pe=ce.length,ye=pe>R,Ie=ye?pe-2:0,Se=ye?ce.slice(0,R):ce,le=(0,t.useMemo)(()=>{const te=x&&!(0,f.cb)(w),$=t.createElement(v.A,{channelId:O,includeChannelName:te});return $||(0,I.Wo)().info("HUDDLE-FACEPILE",`channelId: ${O}, includeChannelName: ${te}`),$},[O,x,w]),X=(0,t.useCallback)(()=>null,[]);if(!Y||!pe)return null;const J=t.createElement("div",{className:r()("p-huddle_avatar_stack",k),"data-qa":"huddle_avatar_stack__avatars_container",style:V},t.createElement(h,{id:F}),!K&&t.createElement("div",{className:"p-huddle_avatar_stack__icon_container"},t.createElement(d.A,{name:"headphones",size:"18"})),Se.map((te,$)=>t.createElement(p.Ay,{key:te,"data-qa":"huddle_avatar_stack__member",className:r()("p-huddle_avatar_stack__avatar",{"p-huddle_avatar_stack__avatar--first":$===0}),userId:te,size:U,renderCustomBadge:X,isInteractive:!1})),!N&&ye&&t.createElement("div",{className:"p-huddle_avatar_stack__plus-member-count","data-qa":"huddle_avatar_stack__plus_member_count"},`+${Ie}`)),z=L&&le?t.createElement(g.Ay,{tip:le},J):J;return se?null:z}m(M,"HuddleAvatarStackContent"),M.displayName="HuddleAvatarStackContent";const P=t.memo(M),S=t.memo(b=>{const{channelId:O}=b,L=(0,i.d4)(R=>(0,A.LY)(R,O)),k=(0,a.cw)(c.l4),K=(0,a.cw)(c.hc),N=(0,i.d4)(o.ZT);if(!L)return null;if(K===O){const R=(0,_.oK)(k||N);return t.createElement(s.Kq,{store:R},t.createElement(P,C({},b)))}return t.createElement(P,C({},b))})},1465889885:(W,T,e)=>{"use strict";e.d(T,{A:()=>C});var t=e(4844578989),s=e.n(t),n=e(3134334389),r=e(735940183),u=e(9195837907),i=e(5075331445),o=e(9506008067),a=e(7384121809),_=e(3288846409),l=e(6251210828),p=e(5286203919),g=e(4250409994),c=e(1610251172),E=e(2036354333),A=e(2312625946),d=e(3496486794);const v=new r.A("huddles"),h=65,f=80,y=100,I=m(D=>{let{updatePreview:M,onEffectSelected:P,isSmallLayout:S=!1}=D;const b=(0,d.A)(),O=(0,_.cw)(p.E9),L=(0,o.d4)(Y=>(0,l.pj)(Y,{huddleId:O})),[k,K]=(0,n.useState)("NONE"),N=(0,n.useCallback)(Y=>()=>{Y==="NONE"?((0,a.dispatchForClientStore)((0,g.Rb)({effect:void 0,effectBgKey:void 0})),P==null||P({backgroundType:void 0,effectBgKey:void 0})):Y==="BLUR"?((0,a.dispatchForClientStore)((0,g.Rb)({effect:u.t.Blur})),P==null||P({backgroundType:u.t.Blur,backgroundKey:void 0})):((0,a.dispatchForClientStore)((0,g.Rb)({effect:u.t.Background,effectBgKey:Y})),P==null||P({backgroundType:u.t.Background,backgroundKey:Y})),M!==void 0&&M(),K(Y)},[P,M]),R=(0,i.i)(),U=b.find(Y=>Y.key===R.backgroundEffectBgKey);(0,n.useEffect)(()=>{R.blurEffectIsEnabled?K("BLUR"):R.backgroundEffectBgKey===void 0?K("NONE"):U===void 0?(K("NONE"),N("NONE")()):K(R.backgroundEffectBgKey)},[K,U,N,R.backgroundEffectBgKey,R.blurEffectIsEnabled]);const{imgHeight:x,imgWidth:B}=(0,n.useMemo)(()=>S?{imgHeight:h,imgWidth:h}:L?{imgHeight:f,imgWidth:f}:{imgHeight:y,imgWidth:y},[L,S]),V=(0,n.useCallback)(()=>{const Y=b.map(w=>{const G=k===w.key,Ee=m(()=>n.createElement(n.Fragment,null,w.name,w.description?n.createElement("div",{className:"c-tooltip__subtitle normal"},w.description):null),"tooltipGetLabel");return Ee.displayName="tooltipGetLabel",n.createElement(A.Ay,{tip:Ee(),position:"top",key:w.key},n.createElement(E.A,{key:w.key,onClick:N(w.key)},n.createElement("div",{className:"p-huddle_video_background_menu__image_and_checkbox_container"},G&&w.key!=="NONE"&&n.createElement(n.Fragment,null,n.createElement(c.A,{className:"p-huddle_video_background_menu__checkbox_icon p-huddle_video_background_menu__checkbox_icon_background",type:"real-checkbox-checked-o"}),n.createElement(c.A,{className:"p-huddle_video_background_menu__checkbox_icon",type:"real-checkbox-checked"})),w.key==="NONE"&&n.createElement("div",{style:{height:x,width:B},className:s()("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_none",{"p-huddle_video_background_menu__category_preview_image_none--selected":G,"p-huddle_video_background_menu__category_preview_image--selected":G,"p-huddle_video_background_menu__category_preview_image--compact_mode":L})},v.rt("<strong>None</strong>",{fallbackHash:"0dfae2820b8c3e724ad95bfde6a9b4539a58d6fb",fallbackHashNs:"canvas"})),w.key==="BLUR"&&n.createElement("div",{style:{height:x,width:B},className:s()("p-huddle_video_background_menu__category_preview_image","p-huddle_video_background_menu__category_preview_image_blur",{"p-huddle_video_background_menu__category_preview_image_blur--selected":G,"p-huddle_video_background_menu__category_preview_image--selected":G,"p-huddle_video_background_menu__category_preview_image--compact_mode":L})},w.key==="BLUR"&&v.rt("<strong>Blur</strong>",{fallbackHash:"7d5c2a9cc6a1684caefb5c90e47bcfd22356902e",fallbackHashNs:"canvas"})),w.key!=="NONE"&&w.key!=="BLUR"&&n.createElement("img",{className:s()("p-huddle_video_background_menu__category_preview_image",{"p-huddle_video_background_menu__category_preview_image--selected":G,"p-huddle_video_background_menu__category_preview_image--compact_mode":L}),alt:w.name,src:w.preview,height:x,width:B}))))});return n.createElement("div",{className:s()("p-huddle_video_background_menu__category_previews","p-huddle_video_background_menu__category_previews--has_video_preview",{"p-huddle_video_background_menu__category_previews--compact_mode":L,"p-huddle_video_background_menu__category_previews--small_layout":S})},Y)},[b,L,S,k,N,x,B])();return n.createElement(n.Fragment,null,V)},"HuddleVideoBackgroundMenu");I.displayName="HuddleVideoBackgroundMenu";const C=n.memo(I)},3496486794:(W,T,e)=>{"use strict";e.d(T,{A:()=>B,g:()=>U});var t=e(3134334389),s=e(735940183),n=e(9679390338),r=e.n(n),u=e(4553218033),i=e.n(u),o=e(5475210953),a=e.n(o),_=e(7485089530),l=e.n(_),p=e(3342291988),g=e.n(p),c=e(9631995895),E=e.n(c),A=e(5908540923),d=e.n(A),v=e(553949882),h=e.n(v),f=e(7000154057),y=e.n(f),I=e(1672115571),C=e.n(I),D=e(7234375712),M=e.n(D),P=e(4136357865),S=e.n(P),b=e(8514307482),O=e.n(b),L=e(5738074488),k=e.n(L),K=e(3607863955),N=e.n(K);const R=new s.A("huddles"),U=[{key:"NONE",preview:d()},{key:"BLUR",preview:d()},{key:"LIVING_ROOM",url:k(),preview:N()},{key:"REMOTE_WORK",url:S(),preview:O()},{key:"TOKYO_SIGHT",url:C(),preview:M()},{key:"GYM",url:h(),preview:y()},{key:"HOME",url:g(),preview:E()},{key:"OFFICE",url:a(),preview:l()},{key:"BEACH",url:r(),preview:i()}],B=m(()=>(0,t.useMemo)(()=>U.map(V=>{let Y,w;switch(V.key){case"NONE":Y=R.t("No Background",{fallbackHash:"e47fc484f6e2f4bb4d93eff83f6dd16ed8da67a6",fallbackHashNs:"canvas"});break;case"BLUR":Y=R.t("Blur",{fallbackHash:"900aa998d3550d438fc20a414d3938fc3a1630ab",fallbackHashNs:"canvas"});break;case"LIVING_ROOM":Y=R.t("Living Room",{fallbackHash:"c7b60f3edf3318e80575d5e28c1ce24aa99a9025",fallbackHashNs:"canvas"}),w=R.t("Art by Haley Tippmann",{fallbackHash:"e81e1f67d7c01d9dd464871bece52a2c87443190",fallbackHashNs:"canvas"});break;case"REMOTE_WORK":Y=R.t("Remote Work",{fallbackHash:"42a38f6c51f22fed5086c12e2e747c90b17a2201",fallbackHashNs:"canvas"}),w=R.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"TOKYO_SIGHT":Y=R.t("Tokyo Sight",{fallbackHash:"eccff2285de126d6179c36b1fbc60c06b039a6e0",fallbackHashNs:"canvas"}),w=R.t("Art by Luis Mendo",{fallbackHash:"4c1b393549c87100c23c7fe3e258fb7380736dfa",fallbackHashNs:"canvas"});break;case"GYM":Y=R.t("Gym",{fallbackHash:"bc4359231d615dc65e372bac1bb5e0f2bf37639f",fallbackHashNs:"canvas"}),w=R.t("Art by Hudson Christie",{fallbackHash:"4f5fdc61766b987aced4c5fc5854a0401f8e44ea",fallbackHashNs:"canvas"});break;case"HOME":Y=R.t("Home",{fallbackHash:"70f8bb9a8a5393ef080507a89e4b98d139000d65",fallbackHashNs:"canvas"});break;case"OFFICE":Y=R.t("Office",{fallbackHash:"6c3a72eaf6235dfa967f2bba4dfc3e431c3e1180",fallbackHashNs:"canvas"});break;case"BEACH":Y=R.t("Beach",{fallbackHash:"911fbb65335023a0800e5bf4a2dcc3ff13b2f9e3",fallbackHashNs:"canvas"});break;default:Y="NO_NAME",w="NO_DESCRIPTION"}return{...V,name:Y,description:w}}),[]),"useGetVideoBackgrounds")},5203103513:(W,T,e)=>{"use strict";e.d(T,{Mz:()=>n,NY:()=>r,VW:()=>s,_q:()=>t,aI:()=>i,xX:()=>u});const t="huddles_play_music_when_last",s="huddles_play_music_timeout",n="huddles_music_player_song_key",r="calendar_huddles_default_access_policy",u="calendar_huddles_default_auto_start_summary",i="huddles_show_join_preview"},3622858354:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3134334389),s=e(7969928607),n=e(1030162945);const r=m(i=>{let{text:o,emojiSize:a=n.lw.SMALL}=i;return t.createElement(t.Fragment,null,t.createElement(s.A,{text:o,emojiSize:a}))},"FormattedHuddleTopic");r.displayName="FormattedHuddleTopic";const u=r},7723800688:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>p,Hi:()=>_,uV:()=>l});var t=e(3134334389),s=e(6122756707),n=e(9506008067),r=e(3288846409),u=e(6251210828),i=e(8239363237),o=e(5286203919),a=e(6470070112),_;(function(g){g.CANVAS_OPEN="canvas_open",g.CANVAS_JOIN="canvas_join",g.CANVAS_LEAVE="canvas_leave",g.CANVAS_TOOLBAR="canvas_toolbar",g.EMOJI_PICKER_OPEN="emoji_picker_open",g.EMOJI_SENT="emoji_sent",g.LINK_OPEN="link_open",g.FOCUS_OPEN="focus_open",g.FOCUS_CLOSE="focus_close",g.MINI_PLAYER_THREAD_BUTTON="mini_player_thread_button",g.MINI_PLAYER_OPEN_WINDOW_BUTTON="mini_player_open_window_button",g.MINI_PLAYER_VIEW_START="mini_player_view_start",g.MINI_PLAYER_VIEW_END="mini_player_view_end",g.SCREENSHARE_START="screenshare_start",g.SCREENSHARE_END="screenshare_end",g.THREAD_FLEXPANE_VIEW_START="thread_flexpane_view_start",g.THREAD_FLEXPANE_VIEW_END="thread_flexpane_view_end",g.THREAD_WINDOW_VIEW_START="thread_window_view_start",g.THREAD_WINDOW_VIEW_END="thread_window_view_end",g.THREAD_OPEN="thread_open",g.THREAD_CLOSE="thread_close",g.SELF_VIDEO="self_video",g.WINDOW_COMPACT_VIEW_START="window_compact_view_start",g.WINDOW_COMPACT_VIEW_END="window_compact_view_end",g.WINDOW_FULL_VIEW_START="window_full_view_start",g.WINDOW_FULL_VIEW_END="window_full_view_end",g.WINDOW_RESIZE_BUTTON="window_resize_button",g.BACKGROUND_CHANGED="background_changed",g.JUKEBOX_SONG_SELECTED="huddles_jukebox_song_selected",g.JUKEBOX_STOP_MUSIC="huddles_jukebox_stop_music",g.CAPTIONS_START="huddles_captions_start",g.CAPTIONS_STOP="huddles_captions_stop",g.INVITATION_SENT="invitation_sent",g.MUSIC_PLAYER_STARTED="huddles_music_player_start_music",g.MUSIC_PLAYER_SONG_SELECTED="huddles_music_player_song_selected",g.MUSIC_PLAYER_STOP="huddles_music_player_stop_music",g.NOTES_OPEN="notes_open",g.NOTES_CLOSE="notes_close",g.CHANNEL_SPACE_OPEN="channel_space_open",g.CHANNEL_SPACE_CLOSE="channel_space_close",g.CHANNEL_SPACE_AUTO_OPEN="channel_space_auto_open"})(_||(_={}));var l;(function(g){g.HUDDLE_MINI_PLAYER_BADGE_ICON="huddle_mini_player_badge_icon",g.HUDDLE_MINI_PLAYER_SCREENSHARE="huddle_mini_player_screenshare",g.HUDDLE_MINI_PLAYER_PEER_TILES="huddle_mini_player_peer_tiles",g.HUDDLE_MINI_PLAYER_OVERFLOW_BUTTON="huddle_mini_player_overflow_button",g.HUDDLE_MINI_PLAYER_OPEN_WINDOW_BUTTON="huddle_mini_player_open_window_button",g.HUDDLE_MINI_PLAYER_THREAD_BUTTON="huddle_mini_player_thread_button",g.CANVAS_WINDOW="canvas_window",g.LEAVE_CALL="leave_call",g.CLOSE_MODAL="close_modal",g.EMOJI_PICKER="emoji_picker",g.JUKEBOX_MENU="jukebox_menu",g.JUKEBOX_MUSIC_BANNER="jukebox_menu_banner",g.REACTION_BUBBLE="reaction_bubble",g.CHANGE_BACKGROUND_DIALOG="change_background_dialog",g.CONNECT_WITH_HUDDLES_CANVAS_EDUCATION="connect_with_huddles_canvas_education",g.HUDDLE_MINI_PLAYER_MUSIC_PLAYER="huddle_music_player",g.HUDDLE_WINDOW_MUSIC_PLAYER="huddle_window_music_player"})(l||(l={}));function p(){const g=(0,r.cw)(o.E9),c=(0,n.Z2)(f=>(0,a.$t)(f,{huddleId:g})),E=(0,r.cw)(a.kn,s.bN),A=(0,r.cw)(a.UE,s.bN),d=(0,n.d4)(f=>(0,u.Ec)(f,{huddleId:g})),v=(0,n.d4)(i.Tk);return(0,t.useMemo)(()=>({canvasThreadChannelId:c.canvas_thread_channel_id,canvasThreadId:c.canvas_thread_id,canvasHuddleSessionId:E.canvas_huddle_session_id,callsRoomId:A.room_id,callsChannelId:A.channel_id,uiPage:d?d.toString():null,fileId:v}),[c.canvas_thread_channel_id,c.canvas_thread_id,E.canvas_huddle_session_id,A.room_id,A.channel_id,d,v])}m(p,"useHuddleClogContext")},4233000497:(W,T,e)=>{"use strict";e.d(T,{A:()=>u,H:()=>r});var t=e(3134334389),s=e(9506008067),n=e(6470070112),r;(function(i){i.HUDDLES_SCHEDULED_ADD="huddles_scheduled_add",i.HUDDLES_SCHEDULED_NUX="huddles_scheduled_nux",i.HUDDLES_SCHEDULED_CANCEL="huddles_scheduled_cancel"})(r||(r={}));function u(i){const o=(0,s.Z2)(a=>i?(0,n.w1)(a,i):{});return(0,t.useMemo)(()=>({callsChannelId:o.channel_id,callsChannelType:o.channel_type,callsNumParticipants:o.num_participants,callsRoomId:o.room_id}),[o.channel_id,o.channel_type,o.num_participants,o.room_id])}m(u,"useHuddlesClogContext")},5169680368:(W,T,e)=>{"use strict";e.d(T,{k:()=>o});var t=e(9506008067),s=e(387328355),n=e(735940183),r=e(9365970888),u=e(8736071954);const i=new n.A("huddles"),o=m(()=>{const a=(0,t.d4)(E=>!!(0,s.WQ)(E,"isMicrophoneEnabled")),_=(0,t.Z2)(E=>(0,r.ql)(E,u.lW.Microphone)),l=a?i.t("Mute mic"):i.t("Unmute mic"),p=i.t("Mute microphone");let g=_==null?void 0:_.label;if((_==null?void 0:_.id)!=="default"){var c;g=(_==null||(c=_.label)===null||c===void 0?void 0:c.replace(/ *?\([^)]*?\) *?/g,""))||void 0}return{microphoneLabel:l,isMicrophoneEnabled:a,deviceLabel:g,ariaLabel:p}},"useMicrophoneOnOff")},1638377365:(W,T,e)=>{"use strict";e.d(T,{z:()=>a});var t=e(9506008067),s=e(387328355),n=e(735940183),r=e(9365970888),u=e(8736071954),i=e(416787925);const o=new n.A("huddles"),a=m(()=>{const _=(0,t.d4)(v=>!!(0,s.WQ)(v,"isHidingSelf")),l=!!(0,t.d4)(v=>(0,s.WQ)(v,"isCameraEnabled"))||!1,p=(0,t.Z2)(v=>(0,r.ql)(v,u.lW.Camera));let g;p!=null&&p.label&&(g=(0,i.On)(p.label));const c=o.t("Turn on video"),E=o.t("Turn off video"),A=l?E:c,d=o.t("Enable video",{fallbackHash:"3007beee8017f0f6378579cbb4d3dc70a5745024",fallbackHashNs:"call_buttons"});return{videoLabel:A,isCameraEnabled:l,isHidingSelf:_,deviceLabel:g,ariaLabel:d}},"useVideoOnOff")},4385664584:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3134334389),s=e(9338147070),n=e(5950652755);const r=m(i=>{let{store:o,children:a}=i;const _=(0,t.useMemo)(()=>({...o,subscribe:l=>o.subscribeImmediate((0,n.A)(l,16))}),[o]);return t.createElement(s.Kq,{store:_}," ",a," ")},"BackgroundableProvider");r.displayName="BackgroundableProvider";const u=r},7280065019:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(3134334389),s=e(4844578989),n=e.n(s);const r=m(a=>{let{className:_,wasCameraEverEnabled:l}=a;return t.createElement("div",{className:n()("p-huddle_camera_icon","p-huddle_camera_icon__container",_),"data-qa":"huddle_video_icon_camera_off"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M14.6694 6.44613L13.0988 8.21302C13.1635 8.32628 13.2578 8.42265 13.3746 8.4902C13.6064 8.62424 13.8922 8.62449 14.1242 8.49088L17.5 6.54725V13.4528L14.1242 11.5091C13.8922 11.3755 13.6064 11.3758 13.3746 11.5098C13.1428 11.6438 13 11.8913 13 12.1591V14.75C13 15.1642 12.6642 15.5 12.25 15.5H6.62151L5.28818 17H12.25C13.4926 17 14.5 15.9926 14.5 14.75V13.4563L17.1263 14.9684C17.9596 15.4482 19 14.8468 19 13.8852V6.11483C19 5.15324 17.9596 4.55176 17.1263 5.03155L14.6694 6.44613ZM1.5 14.4883V5.25C1.5 4.00736 2.50736 3 3.75 3H11.7118L10.3785 4.5H3.75C3.33579 4.5 3 4.83579 3 5.25V12.8008L1.5 14.4883Z",fill:"currentColor"}),t.createElement("path",{className:n()({"p-huddle_camera_icon--slash_animated":l}),d:"M2 17.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))},"renderCameraOff");r.displayName="renderCameraOff";const u=m(a=>{let{className:_}=a;return t.createElement("div",{className:n()("p-huddle_camera_icon","p-huddle_camera_icon__container",_),"data-qa":"huddle_video_icon_camera_on"},t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3.75 3.75C2.92157 3.75 2.25 4.42157 2.25 5.25V14.75C2.25 15.5784 2.92157 16.25 3.75 16.25H12.25C13.0784 16.25 13.75 15.5784 13.75 14.75V12.1591L17.5005 14.3185C17.8339 14.5104 18.25 14.2698 18.25 13.8852V6.11483C18.25 5.7302 17.8338 5.4896 17.5005 5.68152L13.75 7.84091V5.25C13.75 4.42157 13.0784 3.75 12.25 3.75H3.75Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinejoin:"round"}),t.createElement("circle",{className:"p-huddle_camera_icon--dot",cx:"8",cy:"10",r:"2.5",fill:"currentColor"})))},"renderCameraOn");u.displayName="renderCameraOn";const i=m(a=>{let{isCameraEnabled:_,className:l}=a;const[p,g]=(0,t.useState)(_);return(0,t.useEffect)(()=>{_&&g(!0)},[_]),_?u({className:l}):r({className:l,wasCameraEverEnabled:p})},"HuddleCameraIcon"),o=t.memo(i)},543174729:(W,T,e)=>{"use strict";e.d(T,{A:()=>I,z:()=>y});var t=e(3134334389),s=e(9506008067),n=e(5135324409),r=e(9548972574),u=e(1766818988),i=e(4742719639),o=e(5795074931),a=e(3150724727),_=e(3622858354),l=e(6470070112),p=e(3534324375),g=e(3502457281),c=e(4413566926),E=e(9101533895),A=e(8920264989),d=e(337319621);const v=new c.Ay("huddles"),h=5,f=8,y=m(C=>{let{channelId:D}=C;const M=(0,s.Z2)(O=>(0,r.A7)(O,D,!1)),P=M.length,S=P>h,b=S?M.slice(0,h):M;return P===0?null:t.createElement("div",{className:"p-huddle_channel_tooltip__avatar_stack"},b.map((O,L)=>{const k=L===b.length-1;return t.createElement("div",{key:O,className:"p-huddle_channel_tooltip__avatar_container",style:{width:k?"auto":a.RG.medium-f}},t.createElement(a.Ay,{className:"p-huddle_channel_tooltip__avatar",userId:O,size:a.RG.medium,renderCustomBadge:n.Q,isInteractive:!1,additionalOverlay:S&&k?P-b.length+1:void 0}))}))},"HuddleTooltipAvatarStack");y.displayName="HuddleTooltipAvatarStack";function I(C){let{channelId:D,includeChannelName:M=!1}=C;const P=(0,s.d4)(V=>(0,E.OL)(V,D)),S=(0,s.d4)(V=>{const Y=(0,l.Bn)(V,P),w=(0,u.s)(V),G=Y||w;return G||(0,d.Wo)().info("HUDDLE-FACEPILE",`isHuddlesEnabled: ${G}, doesChannelSupportHuddles: ${Y}, isHuddlesEnabledForSponsoredTeam: ${w}`),G}),b=(0,s.d4)(o.WR),O=(0,s.Z2)(V=>(0,r.ft)(V,D)),L=(0,s.d4)(l.df),k=(0,A.Mn)(P),K=O.length,R=K>h?O.slice(0,h):O,U=(0,s.Z2)(V=>R.map(Y=>({id:Y.id,name:Y.id===b?v.t("you"):(0,p.sE)(V,Y)})).sort((Y,w)=>Y.id===b?1:w.id===b?-1:(0,g.Ay)(Y.name,w.name)).map(Y=>{let{name:w}=Y;return w})),x=(0,s.d4)(V=>(0,i.o)(V,D)),B=(0,t.useMemo)(()=>M?U.length===1?O[0].id===b?v.rt("Just you in the huddle #{channelName}",{channelName:k}):v.rt("{name} is in the huddle #{channelName}",{name:U[0],channelName:k}):v.rt("{memberCount} people in the huddle #{channelName}",{memberCount:K,channelName:k}):U.length===1?O[0].id===b?v.rt("Just you in the huddle"):v.rt("{name} is in the huddle",{name:U[0]}):v.rt("{memberCount} people in the huddle",{memberCount:K}),[M,U,K,k,O,b]);let F=x!=null&&x.trim()?t.createElement(_.A,{text:x}):null;return O.length>=L&&(F=v.t("Only {maxParticipants} people can join a huddle",{maxParticipants:L})),S?t.createElement("div",{className:"p-huddle_channel_tooltip"},t.createElement(y,{channelId:D}),t.createElement("div",{className:"margin_bottom_25","data-qa":"tooltip_action_text"},F),t.createElement("div",{className:"c-tooltip__subtitle","data-qa":"tooltip_member_text"},B)):null}m(I,"HuddleChannelTooltip")},9477894139:(W,T,e)=>{"use strict";e.d(T,{A:()=>_,g:()=>a});var t=e(3134334389),s=e(6122756707),n=e(5253428843),r=e(9712681361),u=e(3837503631),i=e(2825968873);const o=(0,i.tZ)("HUDDLE-ERROR");var a;(function(l){l.Huddles="huddles",l.Sidebar="huddles_pro_max-sidebar",l.Flexpane="huddles_pro_max-flexpane",l.CompactWindow="huddles_pro_max-compact_window",l.LargeWindow="huddles_pro_max-large_window",l.WindowFooter="huddles_pro_max-window_footer",l.AlertBanner="huddles_pro_max-alert_banner",l.InviteWindow="huddles_invite_window",l.ControlStripButton="huddles_control_strip_button",l.ChannelHeader="huddles_channel_header",l.Composer="huddles_composer",l.HuddleSpecialReactions="huddle_special_reactions"})(a||(a={}));function _(l){let{children:p,onError:g,isQuiet:c=!0,shouldStopHuddle:E=!1,subtype:A=a.Huddles}=l;const d=(0,s.wA)(),v=(0,t.useCallback)(()=>{E&&d((0,n.A)({terminalState:r.M6.ClientUIError}))},[d,E]),h=(0,t.useCallback)(y=>{o.error(`${A} ${y}`),g?g():v()},[v,g,A]),f=c?u.H:u.A;return t.createElement(f,{subtype:A,onError:h},p)}m(_,"HuddleErrorBoundary")},2084347232:(W,T,e)=>{"use strict";e.d(T,{A:()=>N});var t=e(3134334389),s=e(6122756707),n=e(462591818),r=e(9506008067),u=e(825587348),i=e(8739505998),o=e(6470070112),a=e(9712681361),_=e(4413566926),l=e(5363983309),p=e(9101533895),g=e(8920264989),c=e(5881236351),E=e(5286203919),A=e(3037015781),d=e(2350349607),v=e(3288846409),h=e(5332875232),f=e(3677514771),y=e(6839188756),I=e(6323355797),C=e(7914553163),D=e(7345807809),M=e(8847766420);const P=new _.Ay("huddles");function S(R){let{closeModal:U}=R;const x=I.zG.Vhq,B=(0,C.Ay)({promoSubtype:x}),F=(0,r.d4)(M.ZT)||"",V=(0,t.useMemo)(()=>(0,D.e)(B,x,F),[B,x,F]),Y=(0,t.useCallback)(()=>{V==null||V.onClick(),U==null||U()},[V,U]);return!V||B!==C.MX.TrialEligible&&B!==C.MX.TrialIneligible&&B!==C.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement(u.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:U,onCancel:U,onSubmit:Y,showCancelButton:!0,cancelButtonText:P.t("Dismiss"),showSubmitButton:!0,title:P.t("Your huddle has ended"),submitButtonText:V.text},P.t("On the free version of Slack, your huddles are limited to {min} minutes. You may restart the huddle if you\u2019d like.",{min:30}))}m(S,"HuddleTimeLimitReachedModal"),S.displayName="HuddleTimeLimitReachedModal";const b=new _.Ay("huddles");function O(R){let{errorCode:U,isJoinError:x,closeModal:B}=R;var F;const V=(0,s.wA)(),Y=(F=(0,v.cw)(E.Qn))===null||F===void 0?void 0:F.channelId,w=(0,r.d4)(h.TM),G=(0,r.d4)(te=>(0,p.OL)(te,Y)),Ee=(0,r.d4)(te=>(0,A.uz)(G)?(0,g.SB)(te,G,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0),ne=(0,r.d4)(o.df),se=b.rt("This huddle already has {maxAmount} people, which is the maximum allowed.",{maxAmount:ne}),ce=(0,t.useCallback)(()=>{V((0,c.RX)())},[V]),pe=(0,t.useCallback)(()=>{V((0,c.e$)())},[V]),ye=(0,d.V)(G),Ie=(0,r.d4)(f.H7),Se=m(te=>t.createElement(i.A,{target:"_blank",href:`${(0,y.Zl)(Ie)}help/requests/new`},te),"renderContactUsLink");if(!(0,r.d4)(o.pl)&&!w)return null;if(U===a.M6.FreemiumMaxParticipants)return ce(),null;const X=(()=>{switch(U){case a.M6.MaxParticipants:return se;case a.M6.AudioJoinedFromAnotherDevice:return b.rt("To keep things nice and neat, you\u2019re no longer in the huddle here.");case a.M6.ChimeMeetingEnded:return x?b.rt("The Huddle has ended."):ye?b.rt("We ended the huddle since you were the only one there for a bit."):b.rt("We ended your huddle since you were the only one there for a bit.");case a.M6.PermissionDenied:return w?b.rt("You are unable to join the Huddle as you do not have permission to join Huddles."):null;case n.uZ.CallEnded:return b.rt("The Huddle has ended.");case a.M6.DeviceLocked:return b.rt("When your computer locks, you automatically leave any huddle you\u2019re in. You can change this in <a>Preferences</a>.",null,te=>{let{text:$,tag:q}=te;return q==="a"?t.createElement(i.A,{onClick:pe},$):null});case a.M6.FailedStartingRecording:case a.M6.FailedResumingRecording:return b.rt("We\u2019re not sure what went wrong, but try giving it another go in a few minutes.");case a.M6.FailedStartingRecordingUser:case a.M6.FailedResumingRecordingUser:return b.rt("It looks like not everyone on this huddle has access to this feature just yet.");case a.M6.FailedPausingRecording:return b.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try deleting the notes, or <a>contact us</a> for support.",null,te=>{let{text:$,tag:q}=te;return q==="a"?Se($):null});case a.M6.FailedDeletingRecording:return b.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, you can try ending the huddle and deleting the canvas once it\u2019s ready, or <a>contact us</a> for support.",null,te=>{let{text:$,tag:q}=te;return q==="a"?Se($):null});case a.M6.GenericSomethingWentWrong:return b.rt("We\u2019re not sure what went wrong, but please give it another go. If this continues to be an issue, <a>contact us</a> for support.",{fallbackHash:"6be9dfc888970247d0d066ebf95e5ad9ff5caa58"},te=>{let{text:$,tag:q}=te;return q==="a"?Se($):null});default:return b.rt("You\u2019ll have to go back and give it another try.")}})(),J=(()=>x?b.t("Can\u2019t join the huddle"):U===a.M6.AudioJoinedFromAnotherDevice?b.t("You\u2019ve joined the huddle on a different device"):U===a.M6.ChimeMeetingEnded&&!x?ye?b.t("You\u2019re no longer in a huddle in #{channelDisplayName}",{channelDisplayName:Ee}):b.t("You\u2019re no longer in a huddle"):U===a.M6.DeviceLocked?b.t("You\u2019re no longer in a huddle"):U===a.M6.FailedStartingRecording||U===a.M6.FailedStartingRecordingUser?b.rt("Couldn\u2019t start Slack AI notes"):U===a.M6.FailedResumingRecording||U===a.M6.FailedResumingRecordingUser?b.rt("Couldn\u2019t resume Slack AI notes"):U===a.M6.FailedPausingRecording?b.rt("Couldn\u2019t stop Slack AI notes"):U===a.M6.FailedDeletingRecording?b.rt("Couldn\u2019t delete Slack AI notes"):b.t("Something went wrong with your huddle"))(),z=(()=>U===a.M6.AudioInputStreamEnded||U===a.M6.MaxParticipants||U===a.M6.ChimeMeetingEnded&&!x?b.t("Got It"):b.t("OK"))();return t.createElement(u.A,{overlayClassName:"p-huddle_error_modal__overlay",onClose:B,onSubmit:B,showCancelButton:!1,showSubmitButton:!0,title:J,submitButtonText:z},X)}m(O,"HuddleErrorModal"),O.displayName="HuddleErrorModal";const L={HuddleErrorModal:O},k="huddle_error_modal";function K(R){switch(R.errorCode){case a.M6.ChimeMeetingEndedFromTimeLimit:return S(R);default:return O(R)}}m(K,"HuddleErrorModalManager");const N=(0,l.A)(K,{modalName:k,allowMultiple:!1,isStackable:!0})},5933621899:(W,T,e)=>{"use strict";e.d(T,{Wx:()=>x,YM:()=>k});var t=e(2003990933),s=e(3134334389),n=e(6122756707),r=e(4413566926),u=e(9506008067),i=e(825587348),o=e(5363983309),a=e(1407713935),_=e(9101533895),l=e(6818173548),p=e(8286248123),g=e(1779488764),c=e.n(g),E=e(7268021173),A=e(3677514771),d=e(6839188756),v=e(8871937520),h=e(1224315998),f=e(4481313819),y=e(7003004874),I=e(6259241484),C=e(4902318931),D=e(2938177083),M=e(1273480023),P=e(3810478625);function S(){return S=Object.assign||function(B){for(var F=1;F<arguments.length;F++){var V=arguments[F];for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(B[Y]=V[Y])}return B},S.apply(this,arguments)}m(S,"_extends");const b=new r.Ay("huddles"),O={elementName:"cancel",onClick:{enableClogAction:!0}},L={elementName:"start-huddle",onClick:{enableClogAction:!0}},k=m(B=>{let{channelId:F,channelType:V,channelMembersCount:Y,isTeamOnTrial:w,isFreeTeam:G,trialExpirationTS:Ee,handleOnSubmit:ne,closeModal:se,UNSAFE_parentSelector:ce,isCurrentTeamSponsoredInSlackConnectChannel:pe=!1}=B;const ye=(0,u.d4)(P.g),Ie=b.t("Continue this conversation in a huddle",{fallbackHash:"e5dda045c4edc7e85d1a347f7051533c494e1904"}),Se=s.createElement(l.A,{channelId:F});let le,X;switch(w&&!pe?X=h.UiComponentVariant.TRIAL_TEAM:G&&!pe?X=h.UiComponentVariant.FREE_TEAM:X=h.UiComponentVariant.PAID_TEAM,V){case a.Cu.mpim:{const J=m(()=>b.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of this conversation will be able to join.",{channelMembersCount:Y}),"genericCopy");ye?le=J():w?le=b.rt("Use this message as a jumping off point for a huddle with anyone in this conversation. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{trialEndDate:(0,v.Pd)(Ee),fallbackHash:"2955534d96227983f0f85447fb8f3f044131c94f"}):G?le=b.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from the conversation will be able to join."):le=J();break}case a.Cu.im:le=b.t("Use this message as a jumping off point for a huddle.",{fallbackHash:"563c2f46cf094d773cfedd52e582a385faea3753"});break;default:{const J=m(()=>b.rt("Use this message as a jumping off point for a huddle. All <strong>{channelMembersCount}</strong> members of <strong>{channelName}</strong> will be able to join.",{channelMembersCount:Y,channelName:Se}),"genericCopy");ye||pe?le=J():w?le=b.rt("Use this message as a jumping off point for a huddle with anyone in <strong>{channelName}</strong>. Huddles with more than 2 people are a paid feature, available with your free trial through {trialEndDate}.",{channelName:Se,trialEndDate:(0,v.Pd)(Ee)}):G?le=b.rt("Use this message as a jumping off point for a huddle. On the free version of Slack, one other person from <strong>{channelName}</strong> will be able to join.",{channelName:Se}):le=J()}}return s.createElement(f.A,{uiComponentName:h.UiComponentName.HUDDLES_IN_THREAD_SPEEDBUMP,eventId:h.EventId.CANVAS_EVENT,uiComponentVariant:X},s.createElement(i.A,{onClose:se,"data-qa":"huddle_in_thread_speed_bump_modal",submitButtonText:b.t("Start Huddle",{fallbackHash:"d9a37dbb2c259a1534d34ec9a94d2e9013f7b445"}),title:Ie,onSubmit:ne,submitAutoClogProps:L,onCancel:se,cancelAutoClogProps:O,headerImageSrc:c(),className:"p-huddle_in_thread_speed_bump_modal",headerImageAlt:b.t("Brainstorm, make decisions or have a lightweight catch-up with whoever\u2019s online."),UNSAFE_parentSelector:ce},s.createElement("p",{className:"p-huddle_in_thread_speed_bump_modal__body_text",id:"huddle-in-thread-speed-bump-modal-body-text"},le)))},"BaseHuddleInThreadSpeedBumpModalBase");k.displayName="BaseHuddleInThreadSpeedBumpModalBase";const K=m(B=>{let{channelId:F,onConfirm:V,closeModal:Y}=B;const w=(0,n.wA)(),G=(0,u.d4)(le=>(0,_.OL)(le,F)),Ee=(0,a.mz)(G),ne=(0,u.d4)(le=>(0,p.q8)(le,F)),se=(0,t.A)(ne,"counts.member_count")||0,ce=(0,d.tc)((0,u.d4)(A.H7)),pe=(0,u.d4)(E.iH),ye=(0,u.d4)(E.Sk),Ie=(0,u.d4)(le=>(0,M.u)(le,G));(0,s.useEffect)(()=>(w((0,y.A)({notificationName:I.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL,action:I.hw.IMPRESSION})),()=>{w((0,D.Ay)({spaceName:I.xu.LAUNCH_MODAL,action:I.hw.DISMISS}))}),[w]);const Se=(0,s.useCallback)(()=>{V(),Y==null||Y()},[Y,V]);return s.createElement(k,{channelType:Ee,channelMembersCount:se,isFreeTeam:ce,isTeamOnTrial:pe,trialExpirationTS:ye,handleOnSubmit:Se,channelId:F,onConfirm:V,closeModal:Y,isCurrentTeamSponsoredInSlackConnectChannel:Ie})},"HuddleInThreadSpeedBumpModalBase");K.displayName="HuddleInThreadSpeedBumpModalBase";const N={spaceName:I.xu.LAUNCH_MODAL,notifications:{[I.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL]:{component:K}}},R=m(B=>{let{channelId:F,onConfirm:V,closeModal:Y}=B;return s.createElement(C.Ay,S({},N,{channelId:F,onConfirm:V,closeModal:Y}))},"HuddleInThreadSpeedBumpModal");R.displayName="HuddleInThreadSpeedBumpModal";var U=null;const x=(0,o.A)(R)},7843142872:(W,T,e)=>{"use strict";e.d(T,{D7:()=>p,Lk:()=>E,Vp:()=>A,g6:()=>c});var t=e(3134334389),s=e(6304789565),n=e(6533394955),r=e(2028988448),u=e(6122756707),i=e(9506008067),o=e(5492559860),a=e(9719951405),_=e(2832209848);let l=1;const p=m((d,v)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:h=!1,component:f=_.G7.HuddleCallNudgesBanner}=v;if(!h||!(0,a.kI)(d,f,_.X8.Click)&&!(0,a.kI)(d,f,_.X8.Dismiss))return!1;var y;const I=(y=(0,a.ky)(d,f,_.X8.Click))!==null&&y!==void 0?y:0;var C;const D=(C=(0,a.ky)(d,f,_.X8.Dismiss))!==null&&C!==void 0?C:0;return!(I>=l||D>=l)},"shouldShowHuddleDiscoveryBanner"),g=m(function(){let{experimentHuddlesDiscoveryCallsGroupTreatment:d=!1,component:v=UiComponent.HuddleCallNudgesBanner}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{experimentHuddlesDiscoveryCallsGroupTreatment:!1,component:UiComponent.HuddleCallNudgesBanner};const h=useDispatch();useEffect(()=>{d&&h(loadUserInteractions({interactions:[{component:v,type:InteractionType.Click},{component:v,type:InteractionType.Dismiss}],useCache:!0,cacheFilter:hasLoadedInteraction,reason:"huddle-discovery-calls"}))},[h,d,v])},"useHuddleDiscoveryCallsUserInteractions"),c=(0,s.Ay)("Send interaction to dismiss nudge",(d,v,h)=>{let{experimentHuddlesDiscoveryCallsGroupTreatment:f,interactionType:y}=h;if(!f)return;const I=v();(0,a.ky)(I,_.G7.HuddleCallNudgesBanner,y)>l||d((0,o.z)({component:_.G7.HuddleCallNudgesBanner,type:y,reason:"huddle-discovery-calls"}))});c.meta={name:"createThunk",key:"createThunkincrementUserInteractionCount",description:"Send interaction to dismiss nudge"};const E=m(d=>{let{component:v,type:h}=d;const f=(0,u.wA)();return(0,t.useEffect)(()=>{f((0,o.b)({interactions:[{component:v,type:h}],reason:v}))},[f,v,h]),(0,i.d4)(y=>(0,a.kI)(y,v,h)?(0,a.PU)(y,v):null)},"useTrialProBannerInteraction"),A=(0,s.Ay)("Record trial pro banner interaction",(d,v,h)=>{let{component:f,type:y}=h;return d((0,o.z)({component:f,type:y,reason:f}))});A.meta={name:"createThunk",key:"createThunkrecordTrialProBannerInteraction",description:"Record trial pro banner interaction"},(0,r.ul)("huddleInteractionUtils",{addOneMoreThanClickCount:d=>{const v=(0,n.$D)(d);l=(0,a.ky)(v,_.G7.HuddleCallNudgesBanner,_.X8.Click)+1},addOneMoreThanDismissCount:d=>{const v=(0,n.$D)(d);l=(0,a.ky)(v,_.G7.HuddleCallNudgesBanner,_.X8.Dismiss)+1}})},8330768070:(W,T,e)=>{"use strict";e.d(T,{G$:()=>b,Oe:()=>K,Y6:()=>L});var t=e(3134334389),s=e(6122756707),n=e(3037015781),r=e(9506008067),u=e(6818173548),i=e(6496493732),o=e(7138682671),a=e(3989454579),_=e(4481313819),l=e(1407713935),p=e(5363983309),g=e(5795074931),c=e(9101533895),E=e(8286248123),A=e(3929724715),d=e(8798294025),v=e(8921478798),h=e(1224315998),f=e(4413566926),y=e(8374895239),I=e(387484329),C=e(2047021170);function D(){return D=Object.assign||function(N){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var x in U)Object.prototype.hasOwnProperty.call(U,x)&&(N[x]=U[x])}return N},D.apply(this,arguments)}m(D,"_extends");const M=new f.Ay("huddles"),P={elementName:"huddles_confirmation_dialog_ok",eventId:h.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}},S={elementName:"huddles_confirmation_dialog_cancel",eventId:h.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},b=m(N=>{let{children:R,closeModal:U,onConfirm:x,uiComponentName:B,...F}=N;const V=(0,t.useCallback)(()=>{x(),U==null||U()},[U,x]);return t.createElement(_.A,{uiComponentName:B,eventId:h.EventId.HUDDLES_CONFIRM_DIALOG_SHOWN,clogImpression:!0},t.createElement(i.A,D({overlayClassName:"p-huddle_join_modal__overlay","data-qa":"huddle_join_modal",onCancel:U,onClose:U,onSubmit:V,submitButtonText:M.t("OK"),submitAutoClogProps:P,cancelAutoClogProps:S},F),R))},"HuddleJoinModal");b.displayName="HuddleJoinModal";const O=m(N=>{let{prevChannelId:R,nextChannelId:U,onConfirm:x,closeModal:B}=N;const F=(0,r.d4)(ne=>(0,c.OL)(ne,R)),V=(0,r.Z2)(ne=>{if(!F)return[];let se=[];if((0,l.LI)(F))se=[(0,d.e)(F)];else if((0,l.yz)(F)){const ce=(0,A.Ug)(F);if(ce&&ce.length){const pe=(0,g.WR)(ne);se=ce.filter(ye=>ye!==pe)}}return se.map(ce=>(0,v.I)(ne,ce))}),Y=(0,r.d4)(ne=>(0,c.OL)(ne,U)),w=(0,r.Z2)(ne=>{if(!Y)return[];let se=[];if((0,l.LI)(Y))se=[(0,d.e)(Y)];else if((0,l.yz)(Y)){const ce=(0,A.Ug)(Y);if(ce&&ce.length){const pe=(0,g.WR)(ne);se=ce.filter(ye=>ye!==pe)}}return se.map(ce=>(0,v.I)(ne,ce))});let G=M.rt("You\u2019re already in a huddle.");V.length?G=M.rt("You\u2019re already in a huddle with {listOfPersons}.",{listOfPersons:(0,y.A)(V).join("")}):F&&(0,n.uz)(F)&&(G=M.rt("You\u2019re already in a huddle in {channel}.",{channel:t.createElement(u.A,{channel:F,channelId:R})}));let Ee=M.rt("Would you like to leave it and join this one instead?");return w.length?Ee=M.rt("Would you like to leave it and join a huddle with {listOfPersons} instead?",{listOfPersons:t.createElement("strong",null,(0,y.A)(w).join(""))}):Y&&(0,n.uz)(Y)&&(Ee=M.rt("Would you like to leave it and join a huddle in {channel} instead?",{channel:t.createElement("strong",null,t.createElement(u.A,{channel:Y,channelId:U}))})),t.createElement(b,{uiComponentName:h.UiComponentName.HUDDLES_CONFIRMATION_DIALOG,title:M.t("Switch to this huddle?"),onConfirm:x,closeModal:B},t.createElement("p",null,G," ",Ee))},"HuddleSwitchModal");O.displayName="HuddleSwitchModal";const L=(0,p.A)(O),k=m(N=>{let{channelId:R,onConfirm:U,closeModal:x}=N;const B=(0,r.d4)(ce=>(0,c.OL)(ce,R)),F=(0,r.d4)(ce=>{const pe=(0,E.q8)(ce,R);return"counts"in pe?pe.counts.member_count:0}),V=(0,r.d4)(ce=>(0,C.ty)(ce,"huddles_show_shouty_rooster")),[Y,w]=(0,t.useState)(V),G=(0,s.wA)(),Ee=B&&(0,n.uz)(B)&&t.createElement("strong",null,t.createElement(u.A,{channelId:R,channel:B})),ne=F>1?M.rt("You\u2019ll be starting a huddle that all {count} members of {channel} can join.",{count:t.createElement("strong",null,F),channel:Ee}):M.rt("You\u2019ll be starting a huddle that every member of {channel} can join.",{channel:Ee}),se=(0,t.useCallback)(()=>{const ce=!Y;w(ce),G((0,I.AZ)({pref:"huddles_show_shouty_rooster",value:ce}))},[Y,G]);return t.createElement(b,{uiComponentName:h.UiComponentName.HUDDLES_SHOUTY_ROOSTER_DIALOG,title:M.t("Start a huddle in this channel?"),onConfirm:U,closeModal:x},t.createElement("p",null,ne),t.createElement(o.A,{text:M.t("Don\u2019t show this message again."),type:"inline",cursor:"pointer"},t.createElement(a.A,{name:"ns",checked:!Y,onChange:se,"data-qa":"huddle_join_modal_show_checkbox"})))},"HuddleShoutyRoosterModal");k.displayName="HuddleShoutyRoosterModal";const K=(0,p.A)(k)},3143500799:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2047021170),u=e(9506008067),i=e(3677363342),o=e.n(i);const a=t.memo(g=>{let{className:c,iconClassName:E,allowMuteAnimation:A,wasMicEverEnabled:d,isMicStrikethroughRed:v}=g;return t.createElement("div",{className:n()("p-huddle_mic_icon p-huddle_mic_icon__container",c),"data-qa":"huddle_mic_icon_unmute"},t.createElement("svg",{className:E,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{d:"M5.35086 10.3436C5.12445 9.77312 5 9.15109 5 8.5V8.25C5 7.83579 4.66421 7.5 4.25 7.5C3.83579 7.5 3.5 7.83579 3.5 8.25V8.5C3.5 9.60794 3.7772 10.6511 4.26603 11.564L5.35086 10.3436ZM7.62904 14.554C8.36362 14.8419 9.16335 15 10 15C13.5899 15 16.5 12.0899 16.5 8.5V8.25C16.5 7.83579 16.1642 7.5 15.75 7.5C15.3358 7.5 15 7.83579 15 8.25V8.5C15 11.2614 12.7614 13.5 10 13.5C9.55549 13.5 9.12453 13.442 8.71427 13.3331L7.62904 14.554Z",fill:"currentColor"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.1271 2.72031C11.5376 2.2685 10.8001 2 10 2C8.067 2 6.5 3.567 6.5 5.5V8.5C6.5 8.67302 6.51255 8.84311 6.5368 9.0094L8 7.3633V5.5C8 4.39543 8.89543 3.5 10 3.5C10.4175 3.5 10.8051 3.62793 11.1258 3.84674L12.1271 2.72031ZM9.90052 11.9986C9.93357 11.9995 9.96673 12 10 12C11.933 12 13.5 10.433 13.5 8.5V7.9492L9.90052 11.9986Z",fill:"currentColor"}),t.createElement("path",{className:n()({"p-huddle_mic_icon__microphone--slash_animated":A&&d,"p-huddle_mic_icon__microphone--slash":v}),d:"M4 15.25L15.5 2.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})))}),_=t.memo(g=>{let{volumeLevel:c=0,className:E,iconClassName:A,allowUnmutedAnimation:d}=g;const[v,h]=(0,t.useState)(0);(0,t.useEffect)(()=>{if(c!=="auto"){h(Math.min(1,c||0));return}const I=setInterval(()=>{const C=(Math.floor(Math.random()*100)+1)/100;h(C)},100);return()=>{clearInterval(I)}},[c]);const f=(0,u.d4)(I=>!(0,r.ty)(I,"a11y_animations")),y=(0,t.useMemo)(()=>d?f?t.createElement("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},t.createElement("path",{d:"M3 8.9V11M5.8 6.1V13.8M8.6 4V16.6M11.4 7.5V12.4M14.2 5.4V14.5M17 8.9V11",stroke:"#178F65",strokeWidth:"1.4",strokeLinecap:"round",strokeLinejoin:"round"})):t.createElement("img",{className:"p-huddle_mic_icon__img",src:o(),alt:""}):t.createElement("svg",{className:A,xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},t.createElement("path",{className:"p-huddle_mic_icon__microphone--input_level",style:{transform:`scaleY(${v})`},d:"M10 11V3",stroke:"currentColor",strokeWidth:"4"}),t.createElement("path",{d:"M7.25 5.5C7.25 3.98122 8.48122 2.75 10 2.75V2.75C11.5188 2.75 12.75 3.98122 12.75 5.5V8.5C12.75 10.0188 11.5188 11.25 10 11.25V11.25C8.48122 11.25 7.25 10.0188 7.25 8.5V5.5Z",stroke:"currentColor",strokeWidth:"1.5"}),t.createElement("path",{d:"M4.25 8.25V8.5C4.25 11.6756 6.82436 14.25 10 14.25V14.25C13.1756 14.25 15.75 11.6756 15.75 8.5V8.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M10 14.25V17",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"}),t.createElement("path",{d:"M12.25 17.25L7.75 17.25",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round"})),[d,A,v,f]);return t.createElement("div",{className:n()("p-huddle_mic_icon p-huddle_mic_icon__container",E),"data-qa":"huddle_mic_icon_mute"},y)}),l=m(g=>{let{type:c,volumeLevel:E,className:A,iconClassName:d,allowMuteAnimation:v=!1,isMicStrikethroughRed:h=!1,allowUnmutedAnimation:f=!1}=g;const[y,I]=(0,t.useState)(c==="unmuted");return(0,t.useEffect)(()=>{c==="unmuted"&&I(!0)},[c]),c==="unmuted"?t.createElement(_,{className:A,iconClassName:d,volumeLevel:E,allowUnmutedAnimation:f}):t.createElement(a,{className:A,iconClassName:d,allowMuteAnimation:v,wasMicEverEnabled:y,isMicStrikethroughRed:h})},"HuddleMicIcon");l.displayName="HuddleMicIcon";const p=t.memo(l)},5043394918:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(7715417323),n=e(1829947126),r=e(1337358413),u=e(3143500799);function i(o){let{peerId:a,isMicrophoneEnabled:_,className:l,allowMuteIconAnimation:p=!1,isMicStrikethroughRed:g=!1}=o;const[c,E]=(0,t.useState)(0);return(0,t.useEffect)(()=>{if(!_)return s.A;const A=m(d=>{const v=(0,r.Ft)(d);E(v)},"onLevelUpdated");return n.A.subscribe(a,A),()=>{n.A.unsubscribe(a,A)}},[a,_]),t.createElement(u.A,{type:_?"unmuted":"muted",volumeLevel:c,className:l||"",allowMuteAnimation:p,isMicStrikethroughRed:g})}m(i,"HuddleMicVolumeIndicator")},438845125:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3134334389),s=e(506098956);function n(u){let{slackId:i,displayName:o}=u;return!i&&!o?null:i?t.createElement(s.A,{isBold:!1,id:i}):t.createElement("span",null,o)}m(n,"HuddleMsgTextUser"),n.displayName="HuddleMsgTextUser";const r=n},1051015021:(W,T,e)=>{"use strict";e.d(T,{V:()=>v});var t=e(3134334389),s=e(7433432223),n=e(9548972574),r=e(9506008067),u=e(4413566926),i=e(4844578989),o=e.n(i),a=e(7914553163),_=e(6005700845),l=e(6323355797),p=e(7949425452),g=e(3810478625),c=e(5431290584),E=e(7573583373),A=e.n(E);const d=new u.Ay("huddles");function v(h){let{showProBadge:f,className:y}=h;const I=(0,r.d4)(n.qr),C=(0,r.d4)(g.g),D=l.zG.Vhq,M=(0,a.Ay)({promoSubtype:D}),P=(0,t.useMemo)(()=>t.createElement(_.A,{useLink:!0,variant:M,promoSubtype:l.zG.Vhq,ctaClassName:A().cta}),[M]);return!I||!C||M!==a.MX.TrialEligible&&M!==a.MX.TrialIneligible&&M!==a.MX.TrialIneligibleUserCannotUpgrade?null:t.createElement("div",{className:o()(A().container,y)},t.createElement(s.A,null,t.createElement("div",{className:A().alertBanner},f&&t.createElement(p.J,{size:c.vj.Medium,className:A().proBadge}),t.createElement("span",null,d.t("On the free version of Slack, your huddles are limited to {min} minutes.",{min:30}),"\xA0",P))))}m(v,"HuddleTimeLimitUpgradeAlert"),v.displayName="HuddleTimeLimitUpgradeAlert"},4745917661:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3134334389),s=e(4413566926);const n=new s.Ay("huddles");function r(i){let{actionLabel:o,deviceLabel:a,audioOnlyModeEnabledWarning:_}=i;if(_){const l=n.t("Audio only mode will be disabled if you turn on your camera",{fallbackHash:"27892acc411157e52b1022f480b10c11e51b2350"});return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},l))}return t.createElement("div",{className:"p-huddle_tooltip_device_content"},t.createElement("div",{className:"p-huddle_tooltip_action_label"},o),a&&t.createElement("div",{className:"p-huddle_tooltip_device_label"},a))}m(r,"HuddlesToolTipDeviceContent"),r.displayName="HuddlesToolTipDeviceContent";const u=r},8320929653:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>X,e3:()=>ye,lc:()=>Ie});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(6122756707),u=e(9506008067),i=e(3288846409),o=e(1149563359),a=e(3037015781),_=e(9012396182),l=e(1289024643),p=e(5795074931),g=e(9101533895),c=e(5286203919),E=e(8746998952),A=e(9712681361),d=e(4742719639),v=e(5332875232),h=e(6251210828),f=e(4481313819),y=e(3622858354),I=e(4233000497),C=e(6749400491),D=e(9373230523),M=e(1407713935),P=e(8798294025),S=e(3929724715),b=e(6470070112),O=e(8683010724),L=e(3708320478),k=e(3150724727),K=e(2683115972),N=e(3165300465),R=e(6818173548),U=e(2527782504),x=e(4275787242),B=e(735940183),F=e(1224315998),V=e(8374895239),Y=e(5519146941),w=e(3193155968),G=e(7429662208);function Ee(){return Ee=Object.assign||function(J){for(var z=1;z<arguments.length;z++){var te=arguments[z];for(var $ in te)Object.prototype.hasOwnProperty.call(te,$)&&(J[$]=te[$])}return J},Ee.apply(this,arguments)}m(Ee,"_extends");const ne=new B.A("huddles"),se={elementName:"huddles_invite_decline",eventId:F.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ce={elementName:"huddles_invite_joining_soon",eventId:F.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},pe={elementName:"huddles_invite_join",eventId:F.EventId.CANVAS_EVENT,onClick:{enableClogAction:!0}},ye=m(J=>{let{topic:z,formattedTopic:te,channel:$,channelName:q,otherMemberNamesString:re,imMemberName:de,experimentHuddlesLaterGroupOn:oe}=J;if(!oe)return t.createElement(t.Fragment,null);let De=z?ne.rt("Join the scheduled huddle about {topic}",{topic:te}):ne.rt("Join the scheduled huddle");return(0,M.LI)($)&&de?De=z?ne.rt("Join the scheduled huddle with {imMemberName} about {topic}",{topic:te,imMemberName:de}):ne.rt("Join the scheduled huddle with {imMemberName}",{imMemberName:de}):(0,M.yz)($)?De=z?ne.rt("Join the scheduled huddle about {topic} with {otherMemberNamesString}",{topic:te,otherMemberNamesString:re}):ne.rt("Join the scheduled huddle with {otherMemberNamesString}",{otherMemberNamesString:re}):(0,a.uz)($)&&!(0,M.LI)($)&&(De=z?ne.rt("Join the scheduled huddle in {channelName} about {topic}",{topic:te,channelName:q}):ne.rt("Join the scheduled huddle in {channelName}",{channelName:q})),De},"getScheduledHuddleInviteCopy");function Ie(J){let{channelId:z,senderUserId:te,callId:$,teamId:q,isInviter:re}=J;const de=(0,r.wA)(),{activeTab:oe}=(0,t.useContext)(Y.A),De=(0,u.d4)(v.MJ),ae=(0,u.d4)(p.WR),Z=(0,u.d4)(at=>(0,D.A)(at,te)),ie=(0,u.d4)(at=>(0,g.OL)(at,z)),Ce=(0,u.d4)(at=>{if(!ie||!De||!(0,M.LI)(ie))return;const gt=(0,P.e)(ie);if(gt)return(0,D.A)(at,gt)}),Re=(0,u.Z2)(at=>(0,M.yz)(ie)?((0,S.Ug)(ie)||[]).filter(Mt=>Mt!==te&&Mt!==ae).map(Mt=>(0,D.A)(at,Mt)).filter(Mt=>Mt):[]),He=(0,i.cw)(c.vO),be=(0,b.eu)(He),me=(0,u.d4)(at=>(0,l.Ck)(at,$,ae))==="joining_soon",ve=(0,u.d4)(at=>(0,l.H6)(at,$));var Fe;const Ke=(Fe=ve==null?void 0:ve.isScheduled)!==null&&Fe!==void 0?Fe:!1,j=(0,u.d4)(at=>{var gt;return(gt=(0,G.F8)(at,{tab:oe,container:w.mq.Primary}))===null||gt===void 0?void 0:gt.id}),ee=(0,i.cw)(_.getFocusedWorkspace),je=z===j&&ee&&q&&ee===q,Te=(0,t.useCallback)(()=>{de((0,C.A)({callId:$,channelId:z,inviteResponse:C.J.DECLINE}))},[$,z,de]),[Je,Ae]=(0,t.useState)(!1),[Me,we]=(0,t.useState)(!1),Ge=(0,t.useCallback)(()=>{m(async()=>{we(!0),Ae(!1);const gt=de((0,C.A)({callId:$,channelId:z,inviteResponse:C.J.JOINING_SOON}));if(gt)try{await gt}catch{Ae(!0)}finally{we(!1)}else we(!1)},"respondToInvite")()},[$,z,de]),Qe=(0,t.useCallback)(()=>{de((0,E.A)({channelId:z,callId:$,entryPoint:A.su.SIDEBAR_HUDDLE_INVITE}))},[z,$,de]),fe=(0,u.d4)(at=>z&&(0,d.o)(at,z))||"",Ve=fe?t.createElement("span",{className:"p-huddle_invite__topic"},t.createElement(y.A,{text:fe})):null,Be=t.createElement("span",{className:"p-huddle_invite__sender_name"},Z);let Ye;if(Ke){const at=t.createElement(R.A,{channelId:z,boldIcon:!0});Ye=ye({topic:fe,formattedTopic:Ve,channel:ie,channelName:at,experimentHuddlesLaterGroupOn:!0})}else if((0,M.LI)(ie))re?Ye=ye({topic:fe,formattedTopic:Ve,channel:ie,imMemberName:Ce,experimentHuddlesLaterGroupOn:De}):Ye=ne.rt("Join huddle with {senderName}",{senderName:Be});else if((0,M.yz)(ie)){const at=(0,V.A)(Re,{react:!0}).join("");if(re)Ye=ye({topic:fe,formattedTopic:Ve,channel:ie,otherMemberNamesString:at,experimentHuddlesLaterGroupOn:De});else{const gt=(0,V.A)([Z].concat(Re),{react:!0}).join(""),Mt=t.createElement("span",{className:"p-huddle_invite__all_member_names"},gt);Ye=ne.rt("Join huddle with {allMemberNames}",{allMemberNames:Mt})}}else{const at=t.createElement(R.A,{channelId:z,boldIcon:!0});re?Ye=ye({topic:fe,formattedTopic:Ve,channel:ie,channelName:at,experimentHuddlesLaterGroupOn:De}):je?Ye=ne.rt("{senderName} is inviting you to a huddle in this channel",{senderName:Be}):Ye=ne.rt("{senderName} is inviting you to a huddle in {channelName}",{senderName:Be,channelName:at})}return{avatarOverflowBadgeCount:(0,M.yz)(ie)?Re.length+1:0,didRespondingToInviteFail:Je,formattedTopic:Ve,handleDecline:Te,handleJoiningSoon:Ge,handleJoin:Qe,inviteText:Ye,isCurrentUserJoiningSoon:me,isJoiningSoonResponsePending:Me,isLoading:be}}m(Ie,"useHuddleInviteProps"),Ie.displayName="useHuddleInviteProps";const Se={name:"warning"},le=m(J=>{let{channelId:z,senderUserId:te,callId:$,teamId:q}=J;const re=(0,u.d4)(v.MJ),de=(0,u.d4)(p.WR),oe=re&&de===te,De=(0,I.A)(z),{avatarOverflowBadgeCount:ae,didRespondingToInviteFail:Z,formattedTopic:ie,handleDecline:Ce,handleJoiningSoon:Re,handleJoin:He,inviteText:be,isCurrentUserJoiningSoon:Ue,isJoiningSoonResponsePending:me,isLoading:ve}=Ie({channelId:z,senderUserId:te,callId:$,teamId:q,isInviter:oe}),Fe=(0,t.useRef)(null),Ke=(0,t.useCallback)(()=>{var Qe;(Qe=Fe.current)===null||Qe===void 0||Qe.focus()},[]);(0,o.A)(U.Ay.HUDDLE_INVITE_JOIN,Ke);const j="huddle-invite-text",ee=t.createElement(K.Ay,{type:"outline",className:"p-huddle_invite__button",onClick:Ce,"data-qa":"huddle_invite_declined",disabled:ve,autoClogProps:se},t.createElement("span",{className:"p-huddle_invite__label"},ne.t("Decline"))),je=t.createElement(N.A,{type:"outline",className:"p-huddle_invite__button p-huddle_invite__button--joining_soon",loading:me,onClick:Re,disabled:ve,autoClogProps:ce,"aria-label":ne.t("Be there soon")},t.createElement("span",{className:"p-huddle_invite__label"},ne.t("Be there soon"))),[Te,Je]=(0,t.useState)(!1);(0,t.useEffect)(()=>{let Qe=0;return Ue&&(Je(!0),Qe=window.setTimeout(()=>{Je(!1)},6e3)),()=>{Qe&&clearTimeout(Qe)}},[Ue]);const Ae=Te?t.createElement("div",{className:"p-huddle_invite__header_notif"},t.createElement("div",{className:"p-huddle_invite__header_notif_content"},t.createElement(O.A,{name:"clock",size:"20"}),t.createElement("span",{className:"margin_left_50"},ne.t("Join when you\u2019re ready!")))):null,Me=t.createElement(N.A,{ref:Fe,type:"primary",className:"p-huddle_invite__button p-huddle_invite__button--accept",loading:ve,onClick:He,"data-qa":"huddle_invite_join",autoClogProps:pe,"aria-label":ne.t("Join")},t.createElement("span",{className:"p-huddle_invite__label p-huddle_invite__label--join"},ne.t("Join"))),we=(0,u.d4)(h.jI),Ge=we?{width:we}:null;return t.createElement(f.A,Ee({eventId:F.EventId.CANVAS_EVENT,uiComponentName:F.UiComponentName.HUDDLES_INVITE,clogImpression:!0},De),t.createElement("div",Ee({className:n()("p-huddle_invite",{"p-huddle_invite--with_header":!!ie})},Ge&&{style:Ge}),t.createElement("div",{className:"p-huddle_invite__content"},Ae,ie&&t.createElement("div",{className:"p-huddle_invite__message_header"},ie),t.createElement("div",{className:"p-huddle_invite__message"},!oe&&t.createElement("div",{className:n()("p-huddle_invite__avatar_container",{"p-huddle_invite__avatar_container--with_overflow":!!ae})},t.createElement(k.Ay,{key:te,className:"p-huddle_invite__avatar",size:ae?14:20,userId:te,isInteractive:!1}),!!ae&&t.createElement("div",{className:"p-huddle_invite__avatar_overflow_overlay"},ae)),t.createElement(L.z,null,t.createElement("div",{className:"p-huddle_invite__text",id:j},be,t.createElement("span",{className:"offscreen"},ne.rt("Press {key} to join",{key:(0,b.$z)()}))))),t.createElement("div",{className:"p-huddle_invite__buttons",role:"group","aria-labelledby":j},Me,!Ue&&je,ee)),Z&&t.createElement(x.A,{svgIconProps:Se},ne.t("Something went wrong responding to the invite."))))},"HuddleInvite");le.displayName="HuddleInvite";const X=le},6749400491:(W,T,e)=>{"use strict";e.d(T,{A:()=>_,J:()=>o});var t=e(6304789565),s=e(7384121809),n=e(4250409994),r=e(1070786785),u=e(5319025363),i=e(5170073955),o;(function(l){l.ACCEPT="accept",l.DECLINE="decline",l.JOINING_SOON="joining_soon"})(o||(o={}));const a=(0,t.Ay)("Respond to an invitation to a huddle",(l,p,g)=>{let{channelId:c,inviteResponse:E,callId:A}=g;l((0,u.z)());let d;return E!==o.ACCEPT&&(d=l((0,i.Q)({response:E,channelId:c,roomId:A,reason:"respond-to-huddle-invite"}))),E===o.DECLINE&&((0,s.dispatchForClientStore)((0,n.u8)(c)),l((0,r.V3)(c))),d});a.meta={name:"createThunk",key:"createThunkrespondToHuddleInvite",description:"Respond to an invitation to a huddle"};const _=a},4983989341:(W,T,e)=>{"use strict";e.d(T,{x:()=>o});var t=e(1545824888),s=e(6304789565),n=e(1070786785),r=e(5613673538),u=e(9712681361),i=e(7631186994);const o=(0,s.Ay)("Creates a new huddle in mpim where all huddle participants are channel members",(a,_,l)=>{let{channelId:p,memberIds:g}=l;return a((0,i.r)({memberIds:g})).then(c=>{a((0,n.Ay)(p)),a((0,r.A)({channelId:c.id,entryPoint:u.su.CREATE_NEW_MPIM}))}).catch(c=>t.S.reject(c))});o.meta={name:"createThunk",key:"createThunkcreateNewHuddleInMpimWithUsers",description:"Creates a new huddle in mpim where all huddle participants are channel members"}},5907086961:(W,T,e)=>{"use strict";e.d(T,{A:()=>k});var t=e(3134334389),s=e(6084388622),n=e(6122756707),r=e(9003400431),u=e(9506008067),i=e(2527994834),o=e(4761125736),a=e(3288846409),_=e(5585462770),l=e(581167618),p=e(980293773),g=e(9101533895),c=e(5286203919),E=e(735940183),A=e(4446301238),d=e(6818173548),v=e(5363983309),h=e(7868634217),f=e(4061200313),y=e(9183417278),I=e(1612857492),C=e(6690263587),D=e(8847766420);const M=new E.A("huddles"),P=m(K=>{let{numOfExternalMembers:N,members:R}=K;const U=(0,u.d4)(D.Kc),x=(0,a.cw)(c.hc)||"",B=(0,u.d4)(z=>(0,g.OL)(z,x)),F=(0,u.d4)(z=>(0,o._Z)(z,"invite_to_channel_permission")==="on"),V=(0,u.d4)(z=>(0,y.Q)(z,B)),Y=(0,u.d4)(z=>(0,I.q)(z,B)),w=N===R.length,G=N>0,Ee=!N,ne=R.length-N>0,se=!(R.length-N),ce=M.rt("They can join the huddle, but since you are not allowed to invite external people to this channel, they won\u2019t be able to see messages or reply to the thread."),pe=t.createElement(t.Fragment,null,t.createElement("p",null,M.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,M.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(C.A,{id:U}),channelName:t.createElement(d.A,{className:"bold",channel:B})})),t.createElement("p",null,M.t("You don\u2019t have permission to add external people to this channel."))),ye=t.createElement(t.Fragment,null,t.createElement("p",null,M.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,M.rt("You can add people from {org} to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(C.A,{id:U}),channelName:t.createElement(d.A,{className:"bold",channel:B})}))),Ie=M.rt("They can join the huddle, but since you are not allowed to invite people from {org} to this channel, they won\u2019t be able to see messages or reply to the thread.",{org:t.createElement(C.A,{id:U})}),Se=t.createElement(t.Fragment,null,t.createElement("p",null,M.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,M.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(C.A,{id:U}),channelName:t.createElement(d.A,{className:"bold",channel:B})})),t.createElement("p",null,M.t("You don\u2019t have permission to add internal people to this channel."))),le=t.createElement(t.Fragment,null,t.createElement("p",null,M.t("Everyone you\u2019ve added can join the huddle but won\u2019t be able to see messages or reply to the thread.")),t.createElement("p",null,M.rt("You can add external people (not from {org}) to {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{org:t.createElement(C.A,{id:U}),channelName:t.createElement(d.A,{className:"bold",channel:B})}))),X=M.rt("They can join the huddle, but since you are not allowed to invite people to this channel, they won\u2019t be able to see messages or reply to the thread."),J=M.rt("They can join the huddle but won\u2019t be able to see messages or reply to the thread unless they are members of {channelName}. New members will be able to see all of the channel\u2019s history, including any files that have been shared in the channel.",{channelName:t.createElement(d.A,{className:"bold",channel:B})});switch(!0){case(!F&&!Y&&w):return ce;case(!F&&!Y&&G):return pe;case(!F&&!Y&&Ee):return ye;case(!F&&Y):return J;case(F&&V&&!Y&&w):return ce;case(F&&V&&!Y&&G):return pe;case(F&&V&&!Y&&Ee):return ye;case(F&&!V&&Y&&Ee):return Ie;case(F&&!V&&Y&&ne):return Se;case(F&&!V&&Y&&se):return le;case(F&&!V&&!Y):return X;default:return J}},"DisallowedHuddleInviteSubtitle");P.displayName="DisallowedHuddleInviteSubtitle";const S=P,b=new E.A("huddles");function O(K){let{members:N}=K;const R=(0,n.wA)(),[U,x]=(0,t.useState)(null),[B,F]=(0,t.useState)([]),[V,Y]=(0,t.useState)(!1),w=(0,a.cw)(c.hc)||"",G=(0,u.d4)(ae=>(0,g.OL)(ae,w)),Ee=(0,t.useCallback)(()=>R((0,r.O)()),[R]),ne=(0,t.useCallback)(()=>R((0,r.O)({closeAll:!0})),[R]),se=(0,t.useCallback)(ae=>{x(ae),R((0,A.Cw)({channelId:w,users:ae})).then(()=>{B.push(ae),F(B),x(null)}).catch(()=>{x(null),Y(!0)})},[w,R,B]),ce=(0,u.d4)(ae=>(0,o._Z)(ae,"invite_to_channel_permission")==="on"),pe=(0,u.d4)(ae=>(0,o._Z)(ae,"shared_channel_invite_requested_event_ga")==="on"),ye=(0,u.d4)(ae=>(0,i.Q)(ae,"shared_channel_invite_requested",G.id)&&pe),Ie=(0,u.d4)(ae=>(0,h.Z)(ae,N)),Se=(0,t.useMemo)(()=>({addedToChannel:b.t("Added to channel"),notInChannel:b.t("Not in channel"),inviteRequestPending:pe?b.t("Invitation request pending approval"):"",added:b.t("Added"),pending:pe?b.t("Pending"):"",inviteToChannel:b.t("Invite to channel"),cantBeInvitedToChannel:b.t("Can\u2019t be invited to channel")}),[pe]),le=(0,u.d4)(ae=>(0,y.Q)(ae,G)),X=(0,u.d4)(ae=>(0,I.q)(ae,G)),J=(0,u.Z2)(ae=>N.filter(Z=>(0,f.i)(ae,Z))),z=J.length,te=!ce&&!X,$=ce&&le&&!X,q=z===N.length,re=!z,de=(0,t.useMemo)(()=>b.rt("{count, plural, =1 {This person is not a member} other {These people are not members}} of {channelName}",{count:N.length,channelName:t.createElement(d.A,{channel:G})}),[G,N]),oe=(0,t.useCallback)(ae=>ae&&ye?Se.inviteRequestPending:ae?Se.addedToChannel:Se.notInChannel,[ye,Se.addedToChannel,Se.inviteRequestPending,Se.notInChannel]),De=(0,t.useCallback)((ae,Z)=>{let ie;switch(Z&&ye?ie=Se.pending:ie=Z?Se.added:Se.inviteToChannel,!0){case((te||$)&&q):return null;case((te||$)&&J.includes(ae)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},Se.cantBeInvitedToChannel);case(ce&&!le&&X&&re):return null;case(ce&&!le&&X&&!J.includes(ae)):return t.createElement("span",{className:"p-huddle_invite_add_to_channel__user_list_no_invite_text"},Se.cantBeInvitedToChannel);case(ce&&!le&&!X):return null;default:return t.createElement(s.lV,{type:"outline",size:"small",disabled:Z,loading:U===ae,onClick:()=>se(ae),"aria-label":ie},ie)}},[ye,Se.pending,Se.added,Se.inviteToChannel,Se.cantBeInvitedToChannel,te,$,q,J,ce,le,X,re,U,se]);return t.createElement(p.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Ee,contentLabel:de,shouldReturnFocusAfterClose:!0},t.createElement(p.rQ,null,t.createElement(p.Rc,{title:de}),t.createElement("div",{className:"p-huddle_invite_add_to_channel__subtitle"},t.createElement(S,{numOfExternalMembers:z,members:N}))),t.createElement(p.$m,null,t.createElement(p.qf,null,V&&t.createElement(l.Ay,{className:"margin_bottom_150",level:l.A_.error,type:l.QE.inline},b.t("Oops, something went wrong. Please try again.",{fallbackHash:"92c404bc05c04cc6c63491f463f0ec39688f741a",fallbackHashNs:"client"})),Ie.map(ae=>{const Z=B.includes(ae);return t.createElement("div",{className:"p-huddle_invite_add_to_channel__user_list",key:ae},t.createElement(_.Ay,{id:ae,useShortMode:!0,showPresence:!0,showStatus:!0,showSubtext:!0,subtext:t.createElement("small",{className:"sk_dark_gray"},oe(Z))}),De(ae,Z))}))),t.createElement(p.jl,null,t.createElement(p.ox,null,t.createElement(s.Ay,{onClick:ne,type:"primary"},ce&&!le||!X?b.t("OK"):b.t("Done")))))}m(O,"HuddleInviteAddToChannel"),O.displayName="HuddleInviteAddToChannel";const L={HuddleInviteAddToChannel:O},k=(0,v.A)(O,{isStackable:!0})},5911067953:(W,T,e)=>{"use strict";e.d(T,{A:()=>Ve});var t=e(3134334389),s=e(6122756707),n=e(235108050),r=e(3150724727),u=e(6084388622),i=e(581167618),o=e(506098956),a=e(8181621268),_=e(9506008067),l=e(7937864072),p=e(9392104102),g=e(980293773),c=e(7582939986),E=e(5795074931),A=e(5332875232),d=e(6470070112),v=e(7631186994),h=e(4413566926),f=e(8374895239),y=e(3730613858),I=e(666760496),C=e(1407713935),D=e(8746998952),M=e(9712681361),P=e(4481313819),S=e(1224315998),b=e(7268021173),O=e(3677514771),L=e(6839188756),k=e(9548972574),K=e(716227588),N=e(1743656885),R=e(6259241484),U=e(9953252450),x=e(3288846409),B=e(9101533895),F=e(5286203919),V=e(6818173548),Y=e(3534324375),w=e(8276911661),G=e(4031325387),Ee=e(2823938397);function ne(Be){let{memberId:Ye}=Be;const et=(0,_.d4)(gt=>(0,w.nv)(gt,Ye)),at=(0,_.d4)(gt=>(0,Y.sE)(gt,et,!1,!1));return(0,Ee.mX)(et)?t.createElement(G.A,{type:"unknown"}):(0,Ee.lv)(et)?t.createElement(G.A,{type:"non-existent"}):t.createElement("span",null,at)}m(ne,"DeprecatedHuddleName"),ne.displayName="DeprecatedHuddleName";const se=new h.Ay("huddles");function ce(Be){let{unknownMemberIds:Ye}=Be;const et=(0,x.cw)(F.hc),at=(0,_.d4)(Bt=>(0,B.OL)(Bt,et)),gt=(0,t.useMemo)(()=>et?Ye:[],[et,Ye]);let Mt;if(gt.length===1)Mt=se.rt("{name1} is not a member of {channel}.",{name1:t.createElement(ne,{memberId:gt[0]}),channel:t.createElement(V.A,{channel:at})});else if(gt.length===2)Mt=se.rt("{name1} and {name2} are not a member of {channel}.",{name1:t.createElement(ne,{memberId:gt[0]}),name2:t.createElement(ne,{memberId:gt[1]}),channel:t.createElement(V.A,{channel:at})});else if(gt.length===3)Mt=se.rt("{name1}, {name2}, and {name3} are not a member of {channel}.",{name1:t.createElement(ne,{memberId:gt[0]}),name2:t.createElement(ne,{memberId:gt[1]}),name3:t.createElement(ne,{memberId:gt[2]}),channel:t.createElement(V.A,{channel:at})});else if(gt.length>3){const[Bt,Ct,Ft,...kt]=gt,Et=kt.map(mt=>t.createElement(ne,{key:mt,memberId:mt}));Mt=se.rt("{name1}, {name2}, {name3} and {numOthers} more are not a member of {channel}.",{name1:t.createElement(ne,{memberId:Bt}),name2:t.createElement(ne,{memberId:Ct}),name3:t.createElement(ne,{memberId:Ft}),channel:t.createElement(V.A,{channel:at}),numOthers:gt.length-3},mt=>{let{text:Rt}=mt;return t.createElement(a.Ay,{tip:(0,f.A)(Et,{noEscape:!0})},t.createElement("span",null,Rt))})}return t.createElement("small",null,Mt)}m(ce,"HuddleInviteNotAMember"),ce.displayName="HuddleInviteNotAMember";const pe=ce;var ye=e(5907086961),Ie=e(7396657731),Se=e(9236164662),le=e(9645800439),X=e(6011052675),J=e(3109955471),z=e(5103024697),te=e(5506656361),$=e(8099711795),q=e(2293211408),re=e(7889060196),de=e(6007206761),oe=e(8170643398),De=e(4562579337),ae=e(735940183),Z=e(8040098042),ie=e(181849556);const Ce=5,Re=new ae.A("huddles");var He;(function(Be){Be.CHANNEL="channel",Be.PEOPLE="people"})(He||(He={}));const be=m(Be=>{let{isFreeTeam:Ye,onSuggestedChannelSelected:et,onSuggestedUserSelected:at,selectedChannelId:gt,selectedMemberIds:Mt}=Be;const Bt=(0,_.d4)(E.WR),Ct=(0,_.wz)(ie.b5),Ft=(0,_.wz)(Ne=>(0,ie.Fl)(Ne,Ce)),kt=(0,_.wz)(Ne=>{if(!Ct)return[];if(Mt.length)return[];const Pe=[];return Ct.forEach(qe=>{if(qe.id===gt)return;const At=(0,B.OL)(Ne,qe.id);(0,de.F)(At)||Pe.push(qe)}),Pe}),Et=(0,t.useMemo)(()=>kt.map(Ne=>Ne.id),[kt]),mt=(0,_.wz)(Ne=>{if(!Ft)return[];if(gt)return[];const Pe=[];return Ft.forEach(qe=>{if(qe.id===Bt||Mt.includes(qe.id))return;const At=(0,w.nv)(Ne,qe.id);(0,De.A)(At)||(0,oe.oy)(At)||Pe.push(qe)}),Pe}),Rt=(0,t.useMemo)(()=>mt.map(Ne=>Ne.id),[mt]),Ht=(0,t.useMemo)(()=>{const qe=Rt.length*60,At=32,xt=Et.length*At;return Math.min(Math.max(qe,xt),240)},[Et,Rt]),ft=(0,t.useCallback)(Ne=>{if(!Ne.id)return;(0,Z.A)(Ne.id)?et(Ne.id):at(Ne.id)},[et,at]),Jt=(0,t.useCallback)(Ne=>{const Pe=kt[Ne];if(Pe)return t.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},t.createElement($.A,{channelId:Pe.id}))},[kt]),Zt=(0,t.useCallback)(()=>t.createElement(z.A,{disableHeight:!0},Ne=>{let{width:Pe}=Ne;return t.createElement(re.A,{"aria-label":Re.t("Channel"),keys:Et,rowRenderer:Jt,onItemClick:ft,width:Pe,height:Ht})}),[ft,Jt,Et,Ht]),Tt=(0,t.useCallback)(Ne=>{const Pe=mt[Ne];if(Pe)return t.createElement("div",{className:"p-huddle_start_suggestion_tabs__menu_item_button__list_entity"},t.createElement(te.A,{id:Pe.id}))},[mt]),Pt=(0,t.useCallback)(()=>t.createElement(z.A,{disableHeight:!0},Ne=>{let{width:Pe}=Ne;return t.createElement(re.A,{"aria-label":Re.t("People"),keys:Rt,rowRenderer:Tt,onItemClick:ft,width:Pe,height:Ht})}),[ft,Tt,Rt,Ht]),[Kt,dn]=(0,t.useState)(He.PEOPLE),sn=(0,t.useCallback)(Ne=>{dn(Ne)},[]);(0,t.useEffect)(()=>{Kt===He.PEOPLE&&gt?dn(He.CHANNEL):Kt===He.CHANNEL&&Mt.length&&dn(He.PEOPLE)},[Kt,gt,Mt]);const H=(0,t.useMemo)(()=>{const Ne=[];return Rt.length&&Ne.push({title:Re.t("People"),id:He.PEOPLE,content:Pt()}),Et.length&&Ne.push({title:Re.t("Channels",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),id:He.CHANNEL,content:Zt()}),Ne},[Et,Rt,Zt,Pt]);return Ye?null:t.createElement("div",{className:"p-huddle_start_suggestion_tabs"},t.createElement(q.A,{fullHeight:!0,tabs:H,currentTabId:Kt,onTabChange:sn,tabMenuClassnames:"p-huddle_start_suggestion_tabs__tab_menu"}))},"HuddleStartSuggestionTabs");be.displayName="HuddleStartSuggestionTabs";const Ue=t.memo(be);var me=e(8808892924),ve=e(1794107122),Fe=e(5142752606);const Ke=new ae.A("huddles"),j=t.memo(Be=>{let{error:Ye}=Be;const et=(0,_.d4)(Bt=>(0,w.nv)(Bt,Ye.invitedMemberId)),at=(0,_.d4)(Bt=>(0,Y.sE)(Bt,et));if(!(0,_.d4)(A.TM))return null;let Mt=Ke.t("{userName} could not be invited to the Huddle.",{userName:at});return Ye.inviteRejectionReason===Fe.g.RecipientHuddlesDisabled&&(Mt=Ke.t("{userName} could not be invited as Huddles is not enabled for them.",{userName:at})),t.createElement(i.Ay,{level:"error"},Mt)});var ee=e(9623497342),je=e(4844578989),Te=e.n(je),Je=e(1051015021),Ae=e(952756744);function Me(){return Me=Object.assign||function(Be){for(var Ye=1;Ye<arguments.length;Ye++){var et=arguments[Ye];for(var at in et)Object.prototype.hasOwnProperty.call(et,at)&&(Be[at]=et[at])}return Be},Me.apply(this,arguments)}m(Me,"_extends");var we;(function(Be){Be.COMPOSER="composer",Be.PUBLIC_CHANNEL="public_channel",Be.PRIVATE_CHANNEL="private_channel"})(we||(we={}));function Ge(Be){let{channel:Ye}=Be;return Ye?Ye&&(0,C.Zp)(Ye)?we.PRIVATE_CHANNEL:we.PUBLIC_CHANNEL:we.COMPOSER}m(Ge,"getModalContext");const Qe=new h.Ay("huddles");function fe(Be){let{closeModal:Ye,callId:et,channel:at,channelSuggestion:gt,memberSuggestionId:Mt,selectedMemberIds:Bt=p.Ml}=Be;const Ct=(0,s.wA)(),Ft=(0,l.A)(),kt=Ge({channel:at}),Et=kt===we.PRIVATE_CHANNEL&&!(0,C.cb)(at),mt=kt===we.COMPOSER,[Rt,Ht]=(0,t.useState)(Bt),[ft,Jt]=(0,t.useState)(),[Zt,Tt]=(0,t.useState)(!1),[Pt,Kt]=(0,t.useState)(!1),dn=(0,_.d4)(A.TM),[sn,H]=(0,t.useState)(void 0),Ne=(0,_.d4)(E.WR),Pe=(0,_.d4)(O.H7),qe=(0,L.tc)(Pe),At=(0,_.d4)(b.iH),xt=(0,_.d4)(un=>(0,ve.$)(un,(at==null?void 0:at.id)||"")),jt=(0,_.d4)(A.Si),Xt=(0,_.d4)(k.qr),en=(0,_.d4)(ee.$J),ht=(0,_.d4)(un=>(0,K.Hp)(un,R.xu.HUDDLE_INVITE_MODAL))===R.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,Nt=(0,_.Z2)(un=>(0,k.ft)(un,at==null?void 0:at.id).filter(Fn=>Fn.id!==Ne).map(Fn=>Fn.id)),on=(0,_.d4)(d.pl),Vt=(0,_.Z2)(un=>Et?Rt.filter(Fn=>{const Gt=at&&(0,y.Sv)(un,at.id,Fn);return Gt&&Gt.isKnown&&!(Gt!=null&&Gt.isMember)}):[]);(0,t.useEffect)(()=>{gt&&Jt({id:gt.id,isCurrentSuggestedChannel:!0})},[gt]),(0,t.useEffect)(()=>{Mt&&Ht([Mt])},[Mt]);const qt=(0,t.useCallback)(un=>Ht(un),[]),rn=(0,t.useCallback)(un=>{if(un===(ft==null?void 0:ft.id)&&(ft!=null&&ft.isCurrentSuggestedChannel)){Jt({id:un,isCurrentSuggestedChannel:!0});return}Jt({id:un,isCurrentSuggestedChannel:!1})},[ft==null?void 0:ft.id,ft==null?void 0:ft.isCurrentSuggestedChannel]),vn=(0,t.useCallback)(un=>{Ht(Rt.concat(un))},[Rt]),Rn=(0,t.useCallback)(()=>{Jt({id:at==null?void 0:at.id,isCurrentSuggestedChannel:!0})},[at==null?void 0:at.id]),Pn=(0,t.useCallback)(()=>{ft!=null&&ft.id&&(Ct((0,D.A)({channelId:ft.id,entryPoint:M.su.COMPOSER_HUDDLE_START})),Ye())},[ft,Ct,Ye]),In=(0,t.useCallback)(async()=>{Tt(!0),await Ct((0,v.r)({memberIds:Rt})).then(un=>{Ct((0,D.A)({channelId:un.id,entryPoint:M.su.COMPOSER_HUDDLE_START})),Ye(),Tt(!1),Kt(!1)}).catch(un=>{Ft.error(un),Tt(!1);const{message:Fn}=un;(Fn==null?void 0:Fn.indexOf(c.O3.INVALID_USER_COMBINATION))!==-1&&Kt(!0)})},[Rt,Ct,Ft,Ye]),Nn=(0,t.useCallback)(async()=>{if(!at)return;Tt(!0);let un=Rt;(ft==null?void 0:ft.id)===at.id&&(ft!=null&&ft.isCurrentSuggestedChannel)&&(un=(0,n.A)([...Rt,...xt])),await Ct((0,I.A)({channelId:at.id,userIds:un})).then(()=>{Tt(!1),Vt&&Vt.length>0&&Et?Ct((0,ye.A)({members:Vt})):Ye()}).catch(Fn=>{Ft.error(Fn),Tt(!1),dn&&H(Fn)})},[at,xt,Ye,Ct,dn,Et,Ft,ft==null?void 0:ft.id,ft==null?void 0:ft.isCurrentSuggestedChannel,Rt,Vt]),Jn=(0,t.useMemo)(()=>kt===we.COMPOSER?ft!=null&&ft.id?Pn:In:Nn,[Nn,In,kt,ft,Pn]),ts={[we.COMPOSER]:{eventId:S.EventId.HUDDLES_COMPOSER_HEADER_CLICKED,uiStep:S.UiStep.HUDDLE_COMPOSER_INVITES_SENT,elementName:"huddle_composer_dialog",entryPoint:"composer"},[we.PUBLIC_CHANNEL]:{eventId:S.EventId.HUDDLES_PUBLIC_CHANNEL_INVITE,elementName:"huddle_public_channel_invite"},[we.PRIVATE_CHANNEL]:{eventId:S.EventId.HUDDLES_PRIVATE_CHANNEL_INVITE,elementName:"huddle_private_channel_invite"}},Un=m(()=>qe&&!jt&&!Xt?t.createElement(Ie.A,null):At&&!ht?t.createElement(U.A,{v2ClassName:Te()({"p-huddle_invite_modal_banner":en})}):null,"maybeRenderBanner");Un.displayName="maybeRenderBanner";const bn=ts[kt],Ln=(0,t.useMemo)(()=>mt?Qe.t("Start a Huddle"):Rt.length>1?Qe.t("Send Invites"):Qe.t("Send Invite"),[mt,Rt]);if(!on)return null;const Gn=Qe.t("You can invite people from outside this private conversation, but they may have restricted access to messages."),Zn=m(un=>t.createElement(N.A,{articleId:4402059015315,ariaLabel:Qe.t("Learn more about Huddles"),forceOpenInBrowser:!0},un),"renderLearnMoreLink");let ns,is,Xn,vs;const as=m(un=>{const Fn=un.map(Gt=>t.createElement(o.A,{key:Gt,isBold:!1,id:Gt}));return Fn&&(0,f.A)(Fn)},"listifiedOverflowMembers");if(as.displayName="listifiedOverflowMembers",qe&&jt&&!Xt)is=Qe.t("Invite someone to your huddle"),ns=Et?Qe.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. You can invite anyone until someone joins \u2014 they won\u2019t be added to {channelName}. <a>Learn more</a>",{channelName:t.createElement(V.A,{channel:at}),"<a>":un=>{let{text:Fn}=un;return Zn(Fn)}}):Qe.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. They\u2019ll receive a notification to join. <a>Learn more</a>",{"<a>":un=>{let{text:Fn}=un;return Zn(Fn)}});else if(mt?(is=Qe.t("Start a Huddle"),Xn=en?Qe.t("You can invite whomever you\u2019d like to the huddle, they\u2019ll receive a notification in Slack to join."):Qe.t("Find a person or channel to huddle with")):(is=Qe.t("Invite people to your huddle"),Xn=Et?Gn:Qe.t("You can invite whomever you\u2019d like to the huddle, and they\u2019ll receive a notification to join.")),at!=null&&at.id&&Nt.length){const un=Qe.rt("{participants, plural, =0 {{firstParticipant} and <b>you</b> are} =1 {{firstParticipant}, {secondParticipant}, and <b>you</b> are} other {{firstParticipant}, {secondParticipant}, <a>and # others</a> are}} in this huddle.",{participants:Nt.length-1,firstParticipant:t.createElement(o.A,{isBold:!0,id:Nt[0]}),secondParticipant:t.createElement(o.A,{isBold:!0,id:Nt[1]}),"<a>":Fn=>{let{text:Gt}=Fn;return t.createElement(a.Ay,{zIndex:"above_fs",tip:as(Nt.slice(2))},t.createElement("span",null,Gt))}});vs=t.createElement("div",{className:"p-huddle_invite_channel_or_start__active_members_container"},t.createElement(me.i,{channelId:at.id,className:"p-huddle_invite_channel_or_start__avatar_stack",avatarSize:r.RG.tiny,excludeIcon:!0,excludeMemberOverflowCount:!0,maxMembers:3}),t.createElement("div",null,un))}const qn=dn&&sn!==void 0,ls="huddle-invite-description";return t.createElement(g.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:Ye,contentLabel:is,describedby:ls,shouldReturnFocusAfterClose:!0,dataQa:"huddle_invite_channel_modal"},t.createElement(g.rQ,null,t.createElement(g.Rc,{title:is,subtitle:Xn})),t.createElement(g.$m,null,t.createElement(g.qf,null,vs,ns&&t.createElement("p",{id:ls},ns),t.createElement(le.A,{isFreeTeam:qe&&!Xt,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:jt,channel:at,otherMembersInHuddle:Nt,onSelectedMembersChange:qt,onSelectedChannelChange:rn,selectedMemberIds:Rt,selectedChannel:ft}),Et&&Vt&&Vt.length>0&&t.createElement(pe,{unknownMemberIds:Vt}),Pt&&t.createElement(i.Ay,{"data-qa":"huddle-invite-invalid-user-combo-alert",level:"error"},Qe.t("All external people must already be in at least one channel together to send this invitation.")),qn&&t.createElement(j,{error:sn})),Un(),t.createElement(Ae.s,null),Xt&&qe&&!ht&&t.createElement(Je.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),et&&t.createElement(J.A,{activeHuddleCallId:et,channel:at,isFreeTeam:qe&&!Xt,onSuggestedUserSelected:vn,otherMembersInHuddle:Nt,selectedMemberIds:Rt,onChannelSelected:Rn,channelSuggestionOptionSelected:ft==null?void 0:ft.isCurrentSuggestedChannel}),!et&&t.createElement(Ue,{isFreeTeam:qe&&!Xt,onSuggestedChannelSelected:rn,onSuggestedUserSelected:vn,selectedChannelId:ft==null?void 0:ft.id,selectedMemberIds:Rt})),t.createElement(g.jl,null,t.createElement(g.ox,{className:"p-huddle_invite_channel_or_start_footer_actions"},t.createElement(X.A,{channelId:at==null?void 0:at.id}),t.createElement(g.s_,{type:"outline",className:"p-huddle_invite_channel_or_start_footer_actions_close","aria-label":Qe.t("Cancel")},Qe.t("Cancel")),t.createElement(P.A,Me({},bn,{clogImpression:!0}),t.createElement(u.lV,{"data-qa":"send_invite_button",loading:Zt,onClick:Jn,type:"primary",disabled:!Rt.length&&!(ft!=null&&ft.id),"aria-label":Ln},Ln)))),jt&&qe&&!Xt&&t.createElement(Se.A,{selectedMemberIds:Rt}))}m(fe,"HuddleInviteChannelOrStart"),fe.displayName="HuddleInviteChannelOrStart";const Ve=fe},6011052675:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(6122756707),n=e(735940183),r=e(6084388622),u=e(5904726069);const i=new n.A("huddles"),o=m(_=>{let{channelId:l}=_;const p=(0,s.wA)(),g=(0,t.useCallback)(()=>{p((0,u.r)({channelId:l}))},[p,l]);return l?t.createElement(r.Ay,{onClick:g,type:"outline",className:"p-huddle_invite_link_button__copy_link"},i.t("Copy Huddle Link")):null},"HuddleInviteLinkButton");o.displayName="HuddleInviteLinkButton";const a=o},9236164662:(W,T,e)=>{"use strict";e.d(T,{A:()=>P});var t=e(4481313819),s=e(1224315998),n=e(9392104102),r=e(735940183),u=e(3134334389),i=e(9506008067),o=e(8739505998),a=e(6323355797),_=e(6122756707),l=e(1267040415),p=e(4220141877),g=e(5641442783),c=e(3994181705),E=e(5332875232),A=e(5881236351),d=e(7268021173),v=e(1384076438),h=e(2607644860),f=e(8112788848),y=e(8214116048);const I=new r.A("trials_highlight_paid_features"),C={onClick:{enableClogAction:!0},elementName:"start_trial"},D={elementName:"upgrade_link",onClick:{enableClogAction:!0}},M=m(S=>{let{selectedMemberIds:b=n.Ml}=S;const O=(0,_.wA)(),L=a.ZO.PaidFeatureTrial,k=a.zG.Vhq,K=(0,i.d4)(F=>(0,d.hq)(F,L,k)),N=(0,i.d4)(F=>(0,d.bp)(F,L,k)),R=(0,i.d4)(E.Si),U=(0,u.useCallback)(()=>{O((0,A.Ov)(b))},[O,b]),x=(0,u.useCallback)(()=>{O((0,p.A)({uiComponentVariant:s.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,onSpeedbumpContinue:U}))},[O,U]);if((0,u.useEffect)(()=>{O((0,v.A)({campaignType:L,campaignSubType:k,reason:"huddle_invite_modal",context:h.y.huddleInviteModal}))},[O,L,k]),!R||N)return null;const B=K?I.rt("To use huddles with more people, <a>start a free trial.</a>",{"<a>":F=>{let{text:V}=F;return u.createElement(o.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",onClick:x,autoClogProps:C},V)}}):I.rt("To use huddles with more people, <a>see upgrade options.</a>",{"<a>":F=>{let{text:V}=F;return u.createElement(l.A,{"data-qa":"huddle_invite_modal_footer_banner_cta",autoClogProps:D,useLink:!0},V)}});return u.createElement(t.A,{eventId:s.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:s.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},u.createElement("div",{className:"p-huddle_invite_modal_footer_banner"},u.createElement(g.A,{variant:c.G.HuddlesFreemiumDeprecated,promoType:L,promoSubtype:k,uiComponentVariant:s.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:f.m.AboveFullScreen,toolTipPosition:y.yX.Bottom}),u.createElement("span",{className:"margin_left_50"},B)))},"HuddleInviteModalFooterBanner");M.displayName="HuddleInviteModalFooterBanner";const P=M},7396657731:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3134334389),s=e(735940183),n=e(1224315998),r=e(4481313819),u=e(1743656885),i=e(3328083357),o=e(5712872315);const a=new s.A("trials_highlight_paid_features"),_=m(g=>{let{text:c}=g;return t.createElement(u.A,{articleId:4402059015315,ariaLabel:a.t("Learn more about Huddles")},c)},"AlertBannerHelpLink"),p=m(()=>t.createElement(r.A,{eventId:n.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,uiComponentName:n.UiComponentName.HUDDLE_INVITE_MODAL_FREE_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(i.A,{theme:o.B.NONE,"data-qa":"huddle_invite_modal_free_banner"},a.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. <a>Learn more</a>",{"<a>":_})))),"HuddleInviteModalFreeBanner")},9645800439:(W,T,e)=>{"use strict";e.d(T,{A:()=>D});var t=e(3134334389),s=e(9506008067),n=e(735940183),r=e(8099711795),u=e(5727180841),i=e(1407713935),o=e(3730613858),a=e(1289024643),_=e(8040098042),l=e(4327331459);const p=new n.A("huddles");var g;(function(M){M.CHANNEL="channel",M.MEMBER="member"})(g||(g={}));function c(M){let{id:P,entity:S,channel:b,huddleId:O}=M,L;(0,_.A)(P)?L=g.CHANNEL:(0,l.A)(P)&&(L=g.MEMBER);const k=(0,s.d4)(F=>b&&(0,o.Sv)(F,b.id,P)),K=k&&k.isKnown&&(k==null?void 0:k.isMember),N=b&&(0,i.JM)(b),R=(0,s.d4)(F=>(0,a.Ck)(F,O,P)),U=!!R&&R==="joining_soon";let x=null;if(R?x=U?p.t("Joining soon"):p.t("Invited"):b&&N&&!K?x=p.t("Not in conversation"):b&&!N&&!K&&(x=p.t("Not in channel")),!L)return null;let B;return L===g.CHANNEL?B=t.createElement(r.A,{channelId:P,channel:S}):L===g.MEMBER&&(B=t.createElement(u.A,{id:P,member:S,showPresence:!0,secondaryContent:x})),t.createElement("div",{className:"display_flex"},B)}m(c,"HuddleInviteMultiSelectRenderOption"),c.displayName="HuddleInviteMultiSelectRenderOption";const E=(0,t.memo)(c);var A=e(3227396439),d=e(97626932),v=e(3288846409),h=e(5286203919),f=e(9392104102);function y(){return y=Object.assign||function(M){for(var P=1;P<arguments.length;P++){var S=arguments[P];for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(M[b]=S[b])}return M},y.apply(this,arguments)}m(y,"_extends");const I=new n.A("huddles"),C=m(M=>{let{isFreeTeam:P,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:S,channel:b,otherMembersInHuddle:O,onSelectedMembersChange:L,onSelectedChannelChange:k,selectedMemberIds:K=f.Ml,selectedChannel:N}=M;const R=(0,v.cw)(h.E9),U=(0,t.useMemo)(()=>k&&!b&&!P&&!(K!=null&&K.length),[b,P,k,K]),x=(0,t.useMemo)(()=>N!=null&&N.id&&N.isCurrentSuggestedChannel?!0:!(N!=null&&N.id),[N]),B=(0,t.useMemo)(()=>({entities:{...U&&{channels:{canPost:!0,includeArchived:!1}},...x&&{members:{includeSelf:!1,includeSlackbot:!1,includeSecurityBot:!1,includeBots:!1},userGroups:!1}},sort:{frecency:!0,preferChannelMembers:!0,preferChannelsUserBelongsTo:!0,currentChannel:b},allowEmptyQuery:!0,filter:ne=>!O.includes(ne.id)}),[U,x,b,O]),F=(0,t.useCallback)(ne=>{k&&(0,_.A)(ne.value)?k(ne.value):L([ne.value])},[k,L]),V=(0,t.useCallback)(ne=>{const se=[];let ce;ne.forEach(pe=>{(0,_.A)(pe.value)?(!ce||pe.value!==(N==null?void 0:N.id))&&(ce=pe.value):se.push(pe.value)}),k==null||k(ce),L(se)},[k,L,N]),Y=(0,t.useCallback)(ne=>{let{value:se,entity:ce}=ne;return t.createElement(E,{channel:b,id:se,entity:ce,huddleId:R})},[b,R]),w=(0,t.useCallback)(ne=>{let{value:se}=ne;return(0,_.A)(se)?t.createElement(r.A,{channelId:se}):t.createElement(u.A,{id:se,showAvatar:!0})},[]),G=(0,t.useMemo)(()=>({className:"padding_top_50 padding_bottom_50",searcherOptions:B,renderOption:Y,selectId:"invite_participants",size:"medium",width:"100%",expandOnFocus:P,focusOnMount:!0}),[B,Y,P]),Ee=(0,t.useMemo)(()=>{const ne=K.map(se=>({value:se}));return N!=null&&N.id&&ne.push({value:N.id}),ne},[N,K]);return P&&S?t.createElement(d.u,y({},G,{onOptionSelected:F,placeholderText:I.t("Find someone to invite\u2026"),renderSelectedOption:w,selectedOption:Ee[0]})):t.createElement(A.h,y({},G,{onSelectedItemsChange:V,selectedOptions:Ee,placeholderText:I.t("Search by name")}))},"HuddleInviteModalSelect");C.displayName="HuddleInviteModalSelect";const D=C},605594140:(W,T,e)=>{"use strict";e.d(T,{A:()=>de});var t=e(3134334389),s=e(9506008067),n=e(3288846409),r=e(7715417323),u=e(9392104102),i=e(5363983309),o=e(9101533895),a=e(5286203919),_=e(6470070112),l=e(1407713935),p=e(5911067953),g=e(4075246222),c=e(6122756707),E=e(6084388622),A=e(7937864072),d=e(3730613858),v=e(666760496),h=e(8181621268),f=e(506098956),y=e(980293773),I=e(9548972574),C=e(5795074931),D=e(5332875232),M=e(4413566926),P=e(8374895239),S=e(3929724715),b=e(581167618),O=e(3534324375),L=e(8276911661),k=e(8739505998),K=e(438845125);const N=new M.Ay("huddles");function R(oe){let{members:De,createNewMpim:ae}=oe;var Z,ie,Ce;const Re=(0,s.Z2)(Ue=>De.map(me=>(0,O.sE)(Ue,(0,L.nv)(Ue,me.slackId))));if(!De)return null;const He=Re&&Re.slice(3),be=N.rt("{unknownMembers, plural, =1 {<strong>{name1}</strong>} =2 {<strong>{name1}</strong> and <strong>{name2}</strong>} =3 {<strong>{name1}</strong>, <strong>{name2}</strong>, and <strong>{name3}</strong>} other {<strong>{name1}</strong>, <strong>{name2}</strong>, <strong>{name3}</strong> and <strong>{numOthers}</strong> more}} won\u2019t be able to see messages sent in thread because this huddle began in a direct message. You can <a>start a new huddle</a> instead.",{unknownMembers:De.length,name1:t.createElement(K.A,{slackId:(Z=De[0])===null||Z===void 0?void 0:Z.slackId}),name2:t.createElement(K.A,{slackId:(ie=De[1])===null||ie===void 0?void 0:ie.slackId}),name3:t.createElement(K.A,{slackId:(Ce=De[2])===null||Ce===void 0?void 0:Ce.slackId}),numOthers:t.createElement(h.Ay,{zIndex:"above_fs",position:"top",tip:(0,P.A)(He)},t.createElement("span",null,De.length-3))},Ue=>{let{text:me,tag:ve}=Ue;return ve==="a"?t.createElement(k.A,{onClick:ae},me):null});return t.createElement(b.Ay,{level:b.A_.info,type:b.QE.custom},be)}m(R,"HuddleInviteMpimAlert"),R.displayName="HuddleInviteMpimAlert";const U=R;var x=e(7268021173),B=e(3677514771),F=e(6839188756),V=e(4983989341),Y=e(4481313819),w=e(1224315998),G=e(1743656885),Ee=e(9953252450),ne=e(7396657731),se=e(9236164662),ce=e(9645800439),pe=e(6011052675),ye=e(3109955471),Ie=e(9623497342),Se=e(1051015021),le=e(952756744),X=e(716227588),J=e(6259241484);const z=new M.Ay("huddles"),te={elementName:"learn_more",onClick:{enableClogAction:!0}};function $(oe){let{closeModal:De,callId:ae,channelId:Z,selectedMemberIds:ie=u.Ml}=oe;const Ce=(0,c.wA)(),Re=(0,A.A)(),He=(0,s.d4)(C.WR),be=(0,s.d4)(_.pl),Ue=(0,s.d4)(mt=>(0,o.OL)(mt,Z)),me=(0,s.d4)(I.qr),ve=(0,s.d4)(D.Si),Fe=(0,s.d4)(Ie.$J),Ke=(0,s.Z2)(mt=>(0,I.ft)(mt,Z).filter(Rt=>Rt.id!==He).map(Rt=>Rt.id)),ee=(0,s.d4)(mt=>(0,X.Hp)(mt,J.xu.HUDDLE_INVITE_MODAL))===J.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER,[je,Te]=(0,t.useState)(ie),[Je,Ae]=(0,t.useState)(!1),Me=(0,s.Z2)(mt=>!Z||!(je!=null&&je.length)?[]:je.filter(Ht=>{const ft=(0,d.Sv)(mt,Z,Ht);return ft&&ft.isKnown&&!(ft!=null&&ft.isMember)?Ht:!1})),we=(0,s.d4)(B.H7),Ge=(0,F.tc)(we),Qe=(0,s.d4)(x.iH),fe=(0,t.useCallback)(mt=>{Te(mt)},[]),Ve=(0,t.useCallback)(mt=>{Te(je.concat(mt))},[je]),Be=(0,t.useMemo)(()=>{const mt=(0,S.Hd)(Ue);return Array.isArray(mt)?mt:[]},[Ue]),Ye=Be.filter(mt=>mt!==He),et=(0,t.useCallback)(async()=>{if(!Z)return;let mt=je.concat(Ke);return Be&&(mt=(0,g.A)(mt,Be)),Ce((0,V.x)({channelId:Z,memberIds:mt})).then(()=>{De()}).catch(Rt=>{Re.error(Rt),Ae(!1)})},[Z,je,Ke,Be,Ce,De,Re]),at=(0,t.useCallback)(async()=>{if(!Z)return;Ae(!0);const mt=je.concat(Ke);return Ce((0,v.A)({channelId:Z,userIds:mt})).then(()=>{De()}).catch(Rt=>{Re.error(Rt),Ae(!1)})},[Z,De,Ce,Re,Ke,je]),gt=m(()=>Ge&&!ve&&!me?t.createElement(ne.A,null):Qe&&!me&&!Fe?t.createElement(Ee.A,null):null,"maybeRenderBanner");gt.displayName="maybeRenderBanner";let Mt,Bt,Ct,Ft;const kt=m(mt=>{const Rt=mt.map(Ht=>t.createElement(f.A,{key:Ht,isBold:!1,id:Ht}));return Rt&&(0,P.A)(Rt)},"listifiedOverflowMembers");kt.displayName="listifiedOverflowMembers",Ge&&ve&&!me?(Mt=z.t("Invite someone else to your huddle"),Ct=z.rt("{participants, plural, =0 {<b>{firstParticipant}</b> is} =1 {<b>{firstParticipant}</b> and <b>{secondParticipant}</b> were} other {<b>{firstParticipant}</b> <a>and # others</a> were}} already invited, but {participants, plural, =0 {hasn\u2019t} =1 {haven\u2019t} other {haven\u2019t}} joined. ",{participants:(Ye==null?void 0:Ye.length)-1,firstParticipant:t.createElement(f.A,{isBold:!1,id:Ye[0]}),secondParticipant:t.createElement(f.A,{isBold:!1,id:Ye[1]}),"<a>":mt=>{let{text:Rt}=mt;return t.createElement(h.Ay,{zIndex:"above_fs",tip:kt(Ye==null?void 0:Ye.slice(1))},t.createElement("span",null,Rt))},"<b>":mt=>{let{text:Rt}=mt;return t.createElement("b",null,Rt)}}),Ft=z.rt("You\u2019re on the free version of Slack, so only one other person can join you in a huddle. Invite anyone until someone joins. <a>Learn more</a>",{"<a>":mt=>{let{text:Rt}=mt;return t.createElement(G.A,{articleId:4402059015315,ariaLabel:z.t("Learn more about Huddles"),forceOpenInBrowser:!0,autoClogProps:te},Rt)},fallbackHash:"53e44c4bd8bcf67461de7b54ef1ec275b05f4829"})):(Mt=z.t("Invite people to your huddle"),Bt=z.t("You can invite people from outside this private conversation, but they may have restricted access to messages."));const Et=(0,t.useMemo)(()=>je.length>1?z.t("Send Invites"):z.t("Send Invite"),[je]);return!be||!Z?null:t.createElement(y.dW,{overlayClassName:"p-huddle_invite_modal_shared_styles__overlay",closeModal:De,contentLabel:Mt,shouldReturnFocusAfterClose:!0},t.createElement(y.rQ,null,t.createElement(y.Rc,{title:Mt,subtitle:Bt})),t.createElement(y.$m,null,t.createElement(y.qf,null,(Ct||Ft)&&t.createElement("p",null,Ct,Ft),t.createElement(ce.A,{isFreeTeam:Ge&&!me,experimentHuddlesInviteModalFreemiumImprovementsGroupOn:ve,channel:Ue,otherMembersInHuddle:Ke,onSelectedMembersChange:fe,selectedMemberIds:je}),(Me==null?void 0:Me.length)>0&&t.createElement(U,{members:Me.map(mt=>({slackId:mt})),createNewMpim:et})),gt(),Fe&&t.createElement(le.s,null),me&&Ge&&!ee&&t.createElement(Se.V,{showProBadge:!0,className:"p-huddle_invite_channel_or_start__upgrade_alert"}),t.createElement(ye.A,{activeHuddleCallId:ae,channel:Ue,isFreeTeam:Ge&&!me,onSuggestedUserSelected:Ve,otherMembersInHuddle:Ke,selectedMemberIds:je})),t.createElement(y.jl,null,t.createElement(pe.A,{channelId:Z}),t.createElement(y.ox,null,t.createElement(y.s_,{type:"outline","aria-label":z.t("Cancel")},z.t("Cancel")),t.createElement(Y.A,{clogImpression:!0,eventId:w.EventId.HUDDLES_MPIM_INVITE},t.createElement(E.lV,{loading:Je,onClick:at,type:"primary",disabled:!je.length,"aria-label":Et},Et)))),ve&&Ge&&!me&&t.createElement(se.A,{selectedMemberIds:je}))}m($,"HuddleInviteMpim"),$.displayName="HuddleInviteMpim";const q=$;function re(oe){let{closeModal:De=r.A,selectedMemberIds:ae=u.Ml}=oe;const Z=(0,s.d4)(_.pl),ie=(0,n.cw)(a.E9),Ce=(0,n.cw)(a.hc),Re=(0,s.d4)(He=>(0,o.OL)(He,Ce));return Z?(0,l.JM)(Re)?t.createElement(q,{callId:ie,channelId:Ce,closeModal:De,selectedMemberIds:ae}):t.createElement(p.A,{callId:ie,channel:Re,closeModal:De,selectedMemberIds:ae}):null}m(re,"HuddleInviteOrStartModal"),re.displayName="HuddleInviteOrStartModal";const de=(0,i.A)(re,{isStackable:!0})},3109955471:(W,T,e)=>{"use strict";e.d(T,{A:()=>w});var t=e(3134334389),s=e(2003990933),n=e(7156798807),r=e(5103024697),u=e(9506008067),i=e(5795074931),o=e(3730613858),a=e(8276911661),_=e(1289024643),l=e(5506656361),p=e(2293211408),g=e(7889060196),c=e(8683010724),E=e(3929724715),A=e(1407713935),d=e(8798294025),v=e(4562579337),h=e(8170643398),f=e(863407566),y=e(181849556),I=e(735940183),C=e(2828836153),D=e(3877384923);const M=new I.A("huddles");var P;(function(G){G[G.Channel=0]="Channel",G[G.Here=1]="Here"})(P||(P={}));const S=m(G=>{let{variation:Ee}=G;const ne=(0,t.useMemo)(()=>{const se=Ee===P.Channel?M.t("@channel",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}):M.t("@here",{fallbackHash:"879f0b1bef59eeebf78cfd3a22f6f8077810cecf"}),ce=Ee===P.Channel?M.t("Invite every member in this channel",{fallbackHash:"356143f00ea36746c3a9c41765b940644ca651cf",fallbackHashNs:"broadcast_keywords"}):M.t("Invite every online member in this channel",{fallbackHash:"d6f32ea27e0fd9186b386de54a63fc72a17a2075",fallbackHashNs:"broadcast_keywords"});return t.createElement("div",{className:"p-huddle_invite_channel_list_entity"},t.createElement("div",{className:"p-huddle_invite_channel_list_entity__icon_container"},t.createElement(c.A,{name:"mentions",size:"24"})),t.createElement("div",{className:"p-huddle_invite_channel_list_entity_text_container"},t.createElement("span",{className:"c-base_entity__text p-huddle_invite_channel_list_entity__title"},se),t.createElement("span",{className:"c-base_entity__subtext"},ce)))},[Ee]);return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(C.A,{size:D.ny.medium,padding:D.FK.normal,primaryContent:ne}))},"HuddleInviteChannelListEntity");S.displayName="HuddleInviteChannelListEntity";const b=S;var O=e(8286248123),L=e(9548972574),k=e(9392104102),K=e(9680914051),N=e(6470070112);const R=new I.A("huddles");var U;(function(G){G.SUGGESTIONS="suggestions",G.INVITED="invited"})(U||(U={}));function x(G,Ee,ne,se,ce,pe,ye){return!(!G||Ee||ne||G===se||ce.includes(G)||pe.includes(G)||ye.includes(G))}m(x,"shouldSuggestMember");const B="channelEntityId",F="channelHereEntityId",V=5,Y=m(G=>{let{activeHuddleCallId:Ee,channel:ne,isFreeTeam:se,onSuggestedUserSelected:ce,onChannelSelected:pe,onChannelHereSelected:ye,otherMembersInHuddle:Ie,selectedMemberIds:Se,channelSuggestionOptionSelected:le=!1}=G;const X=(0,u.d4)(i.WR),J=(0,u.d4)(Ge=>(0,O.q8)(Ge,ne==null?void 0:ne.id)),z=(0,u.d4)(N.df),te=(0,s.A)(J,"counts.member_count")||void 0,$=(0,A.JM)(ne),q=(0,u.d4)(L.Sx),re=(0,u.d4)(Ge=>(0,_.k9)(Ge,Ee)),de=(0,u.d4)(Ge=>(0,_.I1)(Ge,Ee)),De=q+1+re+de,ae=(0,u.Z2)(Ge=>(0,_.Kx)(Ge,Ee)),Z=(0,t.useMemo)(()=>ae?Object.keys(ae):[],[ae]),ie=Z.length,Ce=25,Re=(0,u.Z2)(Ge=>(0,f.A)(Ge,(ne==null?void 0:ne.id)||"",Ce,Ce,!0).map(fe=>fe.id));let He=[];if((0,A.LI)(ne)){const Ge=(0,d.e)(ne);Ge&&He.push(Ge)}else if((0,A.yz)(ne)){const Ge=(0,E.Ug)(ne);Ge&&Ge.length&&(He=[...Ge])}else He=Re;const be=(0,u.wz)(Ge=>{if(le||!He||!He.length)return k.Ml;const Qe=[];return He.forEach(fe=>{const Ve=(0,a.nv)(Ge,fe);x(fe,(0,v.A)(Ve),(0,h.oy)(Ve),X,Ie,Z,Se)&&Qe.push({id:fe,isMemberOfChannel:!0})}),Qe}),Ue=(0,u.wz)(Ge=>(0,y.Fl)(Ge,V)),me=(0,u.wz)(Ge=>{if(!Ue||!Ue.length)return k.Ml;const Qe=[];return Ue.forEach(fe=>{const Ve=(0,a.nv)(Ge,fe.id);if(!x(fe.id,(0,v.A)(Ve),(0,h.oy)(Ve),X,Ie,Z,Se)||He.includes(fe.id))return;const Be=ne&&(0,o.Sv)(Ge,ne.id,fe.id),Ye=Be&&Be.isKnown&&Be.isMember;Qe.push({id:fe.id,isMemberOfChannel:Ye})}),Qe}),ve=(0,t.useMemo)(()=>!pe||(0,A.cb)(ne)?!1:te<=K.XG&&De+te<=z&&!le,[te,le,De,z,pe,ne]),Fe=(0,t.useMemo)(()=>be.length>=Ce?be.slice(0,Ce):[...be,...me].slice(0,Ce),[be,me]),Ke=(0,t.useMemo)(()=>Fe.map(Ge=>Ge.id),[Fe]),j=(0,t.useMemo)(()=>(0,n.A)(Fe,"id"),[Fe]),ee=(0,t.useMemo)(()=>Math.min(60*Math.max(ie,Ke.length),240),[Ke,ie]),je=(0,t.useCallback)((Ge,Qe)=>{if(Qe.key===B)return t.createElement(b,{variation:P.Channel});if(Qe.key===F)return t.createElement(b,{variation:P.Here});const fe=j[Qe.key];if(!fe)return;let Ve=null;return fe.isMemberOfChannel===!1&&($||(0,A.cb)(ne)?Ve=R.t("Not in conversation"):Ve=R.t("Not in channel")),t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item_button__list_entity"},t.createElement(l.A,{id:fe.id,secondaryContent:Ve}))},[$,j,ne]),Te=(0,t.useCallback)(Ge=>{if(Ge.id){if(Ge.id===B){pe&&pe();return}if(Ge.id===F){ye&&ye();return}ce(Ge.id)}},[ye,pe,ce]),Je=(0,t.useCallback)(()=>{let Ge=Ke;return ve&&(Ge=[B,...Ke]),t.createElement(r.A,{disableHeight:!0},Qe=>{let{width:fe}=Qe;return t.createElement(g.A,{"aria-label":R.t("Suggested"),keys:Ge,rowRenderer:je,onItemClick:Te,width:fe,height:ee})})},[ve,je,Ke,Te,ee]),Ae=(0,t.useCallback)(Ge=>{const Qe=Z[Ge],fe=ae==null?void 0:ae[Qe];if(!fe)return null;const Ve=fe==="joining_soon",Be=t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__pending_status_container"},t.createElement(c.A,{name:Ve?"clock":"paper-plane",size:"20"}),t.createElement("span",null,Ve?R.t("Joining soon"):R.t("Invited")));return t.createElement("div",{className:"p-huddle_invite_suggestion_tabs__menu_item__list_entity"},t.createElement(l.A,{id:Qe,secondaryContent:Be}))},[Z,ae]),Me=(0,t.useCallback)(()=>t.createElement(r.A,{disableHeight:!0},Ge=>{let{width:Qe}=Ge;return t.createElement(g.A,{"aria-label":R.t("Invited"),keys:Z,rowRenderer:Ae,width:Qe,height:ee})}),[Z,Ae,ee]),we=(0,t.useMemo)(()=>{const Ge=[];return Ke.length&&Ge.push({title:R.t("Suggested"),id:U.SUGGESTIONS,content:Je()}),Ge.push({title:R.t("Invited"),id:U.INVITED,titleCount:ie,content:Me()}),Ge},[Ke,ie,Me,Je]);return!Ee||se?null:t.createElement("div",{className:"p-huddle_invite_suggestion_tabs"},t.createElement(p.A,{fullHeight:!0,tabs:we,tabMenuClassnames:"p-huddle_invite_suggestion_tabs__tab_menu"}))},"HuddleInviteSuggestionTabs");Y.displayName="HuddleInviteSuggestionTabs";const w=t.memo(Y)},3015351052:(W,T,e)=>{"use strict";e.d(T,{s:()=>Xt,_:()=>en});var t=e(3134334389),s=e(825587348),n=e(5363983309),r=e(4844578989),u=e.n(r),i=e(1593595278),o=e(8801078943),a=e(9948866681),_=e(7396150282),l=e(2850141087),p=e(462591818),g=e(8736071954),c=e(7149946954);function E(Qt){let{microphoneDeviceId:ht,handleMicrophoneStreamError:Nt}=Qt;const[on,Vt]=(0,t.useState)(!1),qt=(0,t.useRef)(null),rn=(0,t.useRef)(null),[vn,Rn]=(0,t.useState)(void 0),Pn=(0,t.useCallback)(async function(){let Un=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(on&&!Un)return;const bn=c.Ay.canAccessMediaResource(p.mT.MICROPHONE);if(bn.status===g.eJ.Denied){Nt==null||Nt();return}if(!((!ht||qt.current)&&bn.status!==g.eJ.Prompt))try{const Ln=await navigator.mediaDevices.getUserMedia({audio:{deviceId:ht}});qt.current=Ln,rn.current=new _.x,rn.current.setPreviewStream(Ln),Vt(!0),Rn(ht)}catch{Nt==null||Nt()}},[Nt,on,ht]),In=(0,t.useCallback)(()=>{rn.current&&(rn.current.cleanup(),rn.current=null),qt.current&&(qt.current.getTracks().forEach(Un=>Un.stop()),qt.current=null),Vt(!1)},[]),Nn=(0,t.useCallback)(Un=>{Un!==vn&&(In(),Pn({isMicSwitch:!0}),Rn(Un))},[Pn,vn,In]);(0,l.A)(()=>(Pn(),()=>{In()}),[]),(0,t.useEffect)(()=>{ht&&ht!==vn&&vn!==void 0&&Nn(ht)},[ht,vn,Nn]);const Jn=(0,t.useCallback)(()=>{Pn()},[Pn]),ts=(0,t.useCallback)(()=>{In()},[In]);return{turnOn:Jn,turnOff:ts}}m(E,"useGetHuddleJoinPreviewMicLevels");var A=e(9506008067),d=e(9365970888),v=e(387328355),h=e(5597672932),f=e(1535211300),y=e.n(f);const I=t.memo(Qt=>{let{handleMicrophonePermissionsError:ht,microphonePermissionDenied:Nt,cameraPermissionDenied:on}=Qt;const Vt=(0,A.Z2)(d.oG),qt=(0,A.d4)(In=>!!(0,v.WQ)(In,"isMicrophoneEnabled")),rn=(0,A.d4)(In=>(0,h.xp)(In,"allow_huddles_video")),vn=(0,t.useCallback)(()=>{ht==null||ht()},[ht]),Rn=(0,t.useMemo)(()=>Vt.microphone.filter(In=>!!In.id).map(In=>({label:In.label,value:In.id})),[Vt.microphone]),Pn=Rn==null?void 0:Rn[0];return E({microphoneDeviceId:Pn==null?void 0:Pn.value,handleMicrophoneStreamError:vn}),t.createElement("div",{className:y().container},t.createElement(i.A,{className:y().device,audioMeterLayout:i.Y.Inline,selectSize:"medium",isEnabled:qt,microphonePermissionDenied:Nt,widthStyle:"default"}),t.createElement(a.A,{className:u()(y().device,y().speaker),selectSize:"medium",showTestSpeaker:!0,microphonePermissionDenied:Nt,widthStyle:"default"}),rn&&t.createElement(o.A,{className:y().device,selectSize:"medium",cameraPermissionDenied:on,widthStyle:"default"}))});var C=e(5011231008),D=e(4745917661),M=e(1638377365),P=e(2312625946),S=e(735940183),b=e(7280065019),O=e(6084388622),L=e(8683010724),k=e(2688127376),K=e.n(k);const N=new S.A("huddles"),R=t.memo(Qt=>{let{turnOffCameraHandler:ht,turnOnCameraHandler:Nt,cameraIsOn:on,cameraPermissionDenied:Vt,microphonePermissionDenied:qt,microphoneNoDevices:rn,cameraNoDevices:vn,scaleOffset:Rn=1}=Qt;const{videoLabel:Pn,deviceLabel:In}=(0,M.z)(),Nn=(0,A.d4)(bn=>(0,h.xp)(bn,"allow_huddles_video")),Jn=(0,A.d4)(bn=>!!(0,v.WQ)(bn,"isMicrophoneEnabled")&&!qt),ts=(0,t.useCallback)(()=>{if(on){ht==null||ht();return}Nt==null||Nt()},[ht,Nt,on]),Un=(0,t.useMemo)(()=>Vt||vn?N.t("Camera permission denied",{fallbackHash:"3bca281bb714e2057db7a3b764b3502a1915a27a",fallbackHashNs:"huddles_audio_video_prefs"}):t.createElement(D.A,{actionLabel:Pn,deviceLabel:In,audioOnlyModeEnabledWarning:!1}),[In,Vt,Pn,vn]);return t.createElement("div",{className:K().container,style:{transform:`scale(${Rn})`}},t.createElement(C.A,{className:u()(K().toolbarButton,{[K().activeButton]:Jn}),microphonePermissionDenied:qt||rn,displayShortcutTooltip:!1}),Nn&&t.createElement(P.Ay,{tip:Un},t.createElement(O.Nm,{htmlType:"button",onClick:ts,role:"switch","aria-label":N.t("Video"),"aria-checked":on,"data-qa":"huddle_camera_huddle_toolbar",className:u()(K().toolbarButton,{[K().cameraDisabled]:Vt||vn,[K().activeButton]:on}),"aria-disabled":Vt||vn},t.createElement(b.A,{isCameraEnabled:on,className:"p-huddle_toolbar__video_button"}),(Vt||vn)&&t.createElement("div",{className:K().warningBadgeContainer},t.createElement("div",{className:K().warningBadge},t.createElement(L.A,{name:"warning",variation:"filled"}))))))});var U=e(8419239240),x=e(9632269965),B=e.n(x);const F=t.memo(Qt=>{let{channelId:ht}=Qt;const Nt=(0,U.I)({channelId:ht});return t.createElement("div",{className:B().container},Nt)});var V=e(6122756707),Y=e(3150724727),w=e(5795074931),G=e(6251210828),Ee=e(7434063642),ne=e(581167618),se=e(8739505998),ce=e(9289216704),pe=e(5332875232),ye=e(1224315998),Ie=e(5602423845);const Se=new S.A("huddles"),le=t.memo(Qt=>{let{cameraPermissionDenied:ht,microphonePermissionDenied:Nt,microphoneNoDevices:on,cameraNoDevices:Vt}=Qt;const qt=(0,Ie.A)(),rn=(0,A.d4)(pe.Rk);(0,t.useEffect)(()=>{(ht||Nt||on||Vt)&&(ht&&qt.track(ye.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:ye.UiAction.IMPRESSION,elementType:ye.ElementType.ALERT,ui_properties:{element_name:"camera_permission_denied_alert"}}}}),Vt&&qt.track(ye.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:ye.UiAction.IMPRESSION,elementType:ye.ElementType.ALERT,ui_properties:{element_name:"camera_no_devices_alert"}}}}),Nt&&qt.track(ye.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:ye.UiAction.IMPRESSION,elementType:ye.ElementType.ALERT,ui_properties:{element_name:"microphone_permission_denied_alert"}}}}),on&&qt.track(ye.EventId.HUDDLES_JOIN_PREVIEW,{contexts:{ui_context:{action:ye.UiAction.IMPRESSION,elementType:ye.ElementType.ALERT,ui_properties:{element_name:"microphone_no_devices_alert"}}}}))},[qt,ht,Nt,on,Vt]);const vn=(0,t.useMemo)(()=>{if(!(Nt||on))return null;const In=rn?Se.rt("Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant microphone access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let Nn=null;return ce.mt&&(Nn=t.createElement(se.A,{href:ce.mt},rn?Se.t("Open system preferences"):"Open system preferences")),t.createElement(ne.Ay,{type:ne.QE.boxed,level:ne.A_.error,icon:"info-circle",align:ne.AO.left,heading:rn?Se.rt("Allow microphone access"):"Allow microphone access"},In,t.createElement("br",null),t.createElement("br",null),Nn)},[rn,Nt,on]),Rn=(0,t.useMemo)(()=>{if(!(ht||Vt))return null;const In=rn?Se.rt("Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack."):"Open your device\u2019s system preferences and grant camera access to Slack. If you\u2019ve already done so, quit and reopen Slack.";let Nn=null;return ce.Oi&&(Nn=t.createElement(se.A,{href:ce.Oi},rn?Se.t("Open system preferences"):"Open system preferences"," ")),t.createElement(ne.Ay,{type:ne.QE.boxed,level:ne.A_.warning,icon:"info-circle",align:ne.AO.left,heading:rn?Se.rt("Slack doesn\u2019t have camera access"):"Slack doesn\u2019t have camera access"},In,t.createElement("br",null),t.createElement("br",null),Nn)},[ht,rn,Vt]);return!(vn!==null||Rn!==null)||!rn?null:t.createElement("div",{className:"margin_bottom_100"},vn,t.createElement("br",null),Rn)});var X=e(5946832122),J=e(4413566926),z=e(2375333597),te=e(1473609332),$=e(9195837907),q=e(1465889885),re=e(7384121809),de=e(4250409994),oe=e(9003400431),De=e(980293773),ae=e(5526670257),Z=e.n(ae);const ie=new S.A("huddles"),Ce=m(()=>{const Qt=(0,V.wA)(),ht=(0,t.useCallback)(on=>{let{backgroundType:Vt,backgroundKey:qt}=on;const rn=(0,te.Bh)();rn.video.effect=Vt,rn.video.effectBgKey=qt,(0,te.i4)(rn),(0,re.dispatchForClientStore)((0,de.yW)({backgroundEffectBgKey:qt,blurEffectIsEnabled:Vt===$.t.Blur}))},[]),Nt=(0,t.useCallback)(()=>Qt((0,oe.O)()),[Qt]);return t.createElement(De.dW,{closeModal:Nt,showCloseButton:!0,shouldCloseOnOverlayClick:!0,className:Z().modal,overlayClassName:Z().overlay},t.createElement(De.rQ,null,t.createElement(De.Rc,{title:ie.t("Video background")})),t.createElement(De.$m,null,t.createElement(De.qf,null,t.createElement(q.A,{onEffectSelected:ht,isSmallLayout:!0}))))},"HuddleJoinPreviewBackgroundModal");Ce.displayName="HuddleJoinPreviewBackgroundModal";var Re=e(7059233720),He=e.n(Re);const be=new J.Ay("huddles"),Ue=t.memo(()=>{const Qt=(0,V.wA)(),ht=(0,t.useCallback)(()=>{Qt((0,z.q)({element:t.createElement(Ce,null),isStackable:!0}))},[Qt]),Nt=(0,t.useMemo)(()=>({name:"image"}),[]),on=be.t("Video background");return t.createElement("div",{className:He().container},t.createElement(P.Ay,{tip:on},t.createElement(X.A,{className:He().button,onClick:ht,"aria-label":on,svgIconProps:Nt})))});var me=e(2457673737),ve=e(6664301844),Fe=e(3036243650),Ke=e(63202349),j=e(5075331445),ee=e(3496486794),je=e(3288846409),Te=e(5286203919);const Je="medium",Ae=new Ke.k("HUDDLE-JOIN-PREVIEW"),Me=m(Qt=>{let{videoRef:ht,preferredCameraId:Nt,startOnMount:on=!0,isVideoElementReady:Vt=!0,handleCameraStreamError:qt}=Qt;const rn=(0,t.useRef)(null),vn=(0,t.useRef)(!0),[Rn,Pn]=(0,t.useState)(void 0),[In,Nn]=(0,t.useState)(!1),[Jn,ts]=(0,t.useState)(void 0),Un=(0,je.cw)(Te.aU),bn=(0,je.cw)(Te.d4),Ln=(0,ee.A)();(0,l.A)(()=>{const as=(0,ve.zg)(),qn=new as(Ae);Pn(qn);const ls=(0,j.i)();return(0,re.dispatchForClientStore)((0,de.yW)({backgroundEffectBgKey:ls.backgroundEffectBgKey,blurEffectIsEnabled:ls.blurEffectIsEnabled})),()=>{Rn==null||Rn.stopVideoInput(),qn.destroy()}},[]);const Gn=(0,t.useMemo)(()=>({backgroundEffectBgKey:Un,blurEffectIsEnabled:bn}),[bn,Un]),Zn=(0,t.useCallback)(()=>{ht.current&&ve.xc.disconnectVideoStreamFromVideoElement(ht.current,!1),Rn==null||Rn.stopVideoInput(),ts(void 0),Nn(!1)},[Rn,ht]);(0,t.useMemo)(async()=>{if((rn==null?void 0:rn.current)===void 0||(rn==null?void 0:rn.current)===null)return;const as=rn.current,qn=Ln.find(un=>un.key===Gn.backgroundEffectBgKey),ls={backgroundBlur:{isEnabled:Gn.blurEffectIsEnabled,strength:Je},backgroundReplacement:{isEnabled:Gn.backgroundEffectBgKey!==void 0,backgroundImageURL:qn==null?void 0:qn.url,defaultColor:void 0}};try{await as.setEffectConfig(ls)}catch{}},[Ln,Gn.backgroundEffectBgKey,Gn.blurEffectIsEnabled]);const ns=(0,t.useCallback)(async function(){let as=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const qn=ht.current,ls=c.Ay.canAccessMediaResource(p.mT.CAMERA);if(ls.status===g.eJ.Denied){qt==null||qt();return}if(ls.status!==g.eJ.Prompt&&(!Vt||!qn||!Nt||In&&!as))return;const un=await navigator.mediaDevices.getUserMedia({video:{deviceId:Nt,width:me.hX,height:me.Qs,frameRate:me.LD},audio:!1});Nn(!0),ts(Nt);const Fn=[];if(await ve.Ws.isSupported()){const ge=await ve.Ws.create();ge!==void 0&&Fn.push(ge)}const Gt=Ln.find(ge=>ge.key===Gn.backgroundEffectBgKey),Ut={backgroundBlur:{isEnabled:Gn.blurEffectIsEnabled,strength:Je},backgroundReplacement:{isEnabled:Gn.backgroundEffectBgKey!==void 0,backgroundImageURL:Gt==null?void 0:Gt.url,defaultColor:void 0}};let ze;try{ze=await ve.i3.create(Ae,Ut)}catch{return}rn.current=ze;const Q=new ve.Ze(Ae,un,[ze]);if(Rn===void 0)return;const ue=await Rn.startVideoInput(Q);vn.current||Zn(),!(ht.current===void 0||ht.current===null)&&ue!==void 0&&qn!==null&&(qn.srcObject=ue,qn.autoplay=!0,qn.playsInline=!0)},[ht,Vt,Nt,In,Gn,Ln,Rn,qt,Zn]),is=(0,t.useCallback)(as=>{(0,Fe.cT)(as,g.lW.Camera),(0,re.dispatchForClientStore)((0,de.WM)({setVideoEnabled:!0}))},[]);(0,t.useEffect)(()=>{Jn!==Nt&&Nt!==void 0&&Jn!==void 0&&Vt&&(Zn(),ns(!0))},[Nt,ns,Zn,Vt,Jn]),(0,l.A)(()=>(on&&ns(),()=>{vn.current=!1,Zn()}),[]),(0,t.useEffect)(()=>{Vt&&!In&&!on&&ns()},[Vt,In,ns,on]);const Xn=(0,t.useCallback)(()=>{const as=ht.current;as&&((0,re.dispatchForClientStore)((0,de.yi)({videoElement:as})),Zn())},[Zn,ht]),vs=(0,t.useCallback)(()=>{const as=ht.current;Vt&&(!as||!Nt||ns())},[Vt,Nt,ns,ht]);return{turnOnCamera:is,turnOffCameraPreview:Xn,turnOnCameraPreview:vs,previewCameraIsOn:In}},"useJoinPreviewCamera");var we=e(6308822),Ge=e(2047021170),Qe=e(1049642794),fe=e(4803841689),Ve=e(2843556239),Be=e(4481313819),Ye=e(9295473340),et=e.n(Ye);const at=320,gt=600,Mt=500,Bt=.6,Ct=50,Ft=t.memo(Qt=>{let{channelId:ht}=Qt;var Nt,on;const Vt=(0,V.wA)(),{windowRef:qt}=(0,t.useContext)(Ve._0),rn=(0,t.useRef)(null),vn=(0,A.d4)(_n=>(0,G.gW)(_n,{channelId:ht})),Rn=(0,A.d4)(_n=>(0,G.zK)(_n,{channelId:ht})),Pn=(0,A.d4)(_n=>(0,Ge.ty)(_n,"huddles_mute_by_default")),In=(0,fe.A)(),Nn=(0,A.Z2)(d.oG),Jn=(0,A.d4)(w.WR),ts=(0,A.d4)(_n=>!!(0,v.WQ)(_n,"isMicrophoneEnabled")),Un=(0,t.useMemo)(()=>Nn.camera.filter(_n=>!!_n.id).map(_n=>({label:_n.label,value:_n.id})),[Nn.camera]),bn=(0,t.useMemo)(()=>Nn.microphone.filter(_n=>!!_n.id).map(_n=>({label:_n.label,value:_n.id})),[Nn.microphone]),[Ln,Gn]=(0,t.useState)({width:(Nt=qt.deref())===null||Nt===void 0?void 0:Nt.innerWidth,height:(on=qt.deref())===null||on===void 0?void 0:on.innerHeight}),[Zn,ns]=(0,t.useState)(0),[is,Xn]=(0,t.useState)(1),[vs,as]=(0,t.useState)(!1),[qn,ls]=(0,t.useState)(!1),[un,Fn]=(0,t.useState)(!1),[Gt,Ut]=(0,t.useState)(Un!=null&&Un.length?Un[0]:void 0),[ze,Q]=(0,t.useState)(bn!=null&&bn.length?bn[0]:void 0),[ue,ge]=(0,t.useState)(!1),[ke,Xe]=(0,t.useState)(!1),[nt,pt]=(0,t.useState)(!0),_e=Un.length===0,Le=bn.length===0,We=(0,t.useCallback)(()=>{ge(!0)},[]),Ze=(0,t.useCallback)(()=>{Xe(!0)},[]),{turnOffCameraPreview:st,previewCameraIsOn:ut}=Me({videoRef:rn,preferredCameraId:Gt==null?void 0:Gt.value,isVideoElementReady:qn,startOnMount:!1,handleCameraStreamError:We});(0,t.useEffect)(()=>()=>{st()},[st]),(0,t.useEffect)(()=>{!ut&&!nt&&pt(!0)},[ut,nt]);const Lt=(0,t.useCallback)(()=>{st(),un&&(ls(!1),Fn(!1))},[un,st]),tn=(0,t.useCallback)(()=>{un||(ls(!1),Fn(!0))},[un]),En=(0,t.useCallback)(()=>{var _n,rs;Gn({width:(_n=qt.deref())===null||_n===void 0?void 0:_n.innerWidth,height:(rs=qt.deref())===null||rs===void 0?void 0:rs.innerHeight})},[qt]);(0,t.useEffect)(()=>{var _n;return(_n=qt.deref())===null||_n===void 0||_n.addEventListener("resize",En),m(function(){var hs;(hs=qt.deref())===null||hs===void 0||hs.removeEventListener("resize",En)},"cleanup")},[En,qt]);const Dn=(0,t.useCallback)(_n=>{if((_n==null?void 0:_n.value)===(Gt==null?void 0:Gt.value))return;const rs=un;Lt(),Ut(_n),rs&&(Fn(!0),tn())},[Gt==null?void 0:Gt.value,un,Lt,tn]);(0,t.useEffect)(()=>{if(Un.length>0){const _n=Un[0];(_n==null?void 0:_n.value)!==(Gt==null?void 0:Gt.value)&&Dn(_n)}},[Un,Gt,Dn]),(0,t.useEffect)(()=>{if(bn.length>0){const _n=bn[0];(_n==null?void 0:_n.value)!==(ze==null?void 0:ze.value)&&Q(_n)}},[Un,bn,Gt,ze==null?void 0:ze.value,Dn]);const Bn=(0,t.useCallback)(_n=>{_n!=null&&_n.value&&Ut(_n)},[Ut]);(0,t.useEffect)(()=>{Un.length!==0&&vs&&(Bn(Un[0]),as(!1))},[Un,vs,Bn]);const On=(0,t.useCallback)(_n=>{rn.current!==_n&&(!_n&&qn&&rn!==void 0&&ut&&st(),!(!_n&&!qn)&&(rn.current=_n,ls(!0)))},[qn,st,ut]),Wn=(0,t.useCallback)(()=>{pt(!1)},[]),os=(0,t.useMemo)(()=>(ut||un)&&!ue?t.createElement(t.Fragment,null,nt&&t.createElement("div",{className:et().loading},t.createElement(we.A,{color:"blue",size:"jumbo"})),t.createElement("video",{className:et().videoPreview,ref:On,onCanPlay:Wn}),t.createElement(Ue,null)):t.createElement(Y.Ay,{size:at,userId:Jn,isInteractive:!1,className:et().videoAvatar}),[ut,un,ue,Jn,nt,On,Wn]);(0,l.A)(()=>{Lt(),Pn&&(Vt((0,Ee.fP)({channelId:ht,cameraEnabled:ut,microphoneEnabled:!1})),Vt((0,Qe.A)(!1)))},[]),(0,t.useEffect)(()=>{if(Ln.height===void 0)return;const _n=gt*In,rs=Mt*In;if(Ln.height>_n&&is!==1){Xn(1),ns(0);return}if(Ln.height<=_n&&Ln.height>=rs){const hs=1-(_n-Ln.height)/100*(1-Bt);Xn(hs);const Qn=-((_n-Ln.height)/100)*Ct;ns(Qn);return}Ln.height<rs&&is!==Bt&&(Xn(Bt),ns(-Ct))},[is,Ln.height,In]),(0,t.useEffect)(()=>{(ut!==vn||Rn!==ts)&&Vt((0,Ee.fP)({channelId:ht,cameraEnabled:ut,microphoneEnabled:ts}))},[Vt,ut,ht,ts,vn,Rn]);const Tn=1+(1-is);return t.createElement(Be.A,{eventId:ye.EventId.HUDDLES_JOIN_PREVIEW,elementType:ye.ElementType.MODAL,uiComponentName:ye.UiComponentName.HUDDLES_JOIN_PREVIEW_MODAL},t.createElement("div",null,t.createElement(le,{cameraPermissionDenied:ue,microphonePermissionDenied:ke,microphoneNoDevices:Le,cameraNoDevices:_e}),t.createElement(F,{channelId:ht}),t.createElement("div",{className:et().videoAndDevicesContainer},t.createElement("div",{className:et().videoContainer,style:{transform:`scale(${is}) translateY(${Zn}px)`}},t.createElement("div",{className:et().videoInnerContainer},os),t.createElement(R,{turnOffCameraHandler:Lt,turnOnCameraHandler:tn,cameraIsOn:ut,microphonePermissionDenied:ke,cameraPermissionDenied:ue,scaleOffset:Tn,microphoneNoDevices:Le,cameraNoDevices:_e})),t.createElement(I,{handleMicrophonePermissionsError:Ze,microphonePermissionDenied:ke,cameraPermissionDenied:ue}))))});var kt=e(1973246490),Et=e(3288567831),mt=e(2164739987),Rt=e(9101533895),Ht=e(8920264989);const ft=new S.A("huddles");function Jt(Qt){let{channelId:ht,isHost:Nt}=Qt;const on=(0,A.d4)(Pn=>(0,Rt.OL)(Pn,ht)),{memberCount:Vt}=(0,kt.W)({channelId:ht}),qt=Vt>0,rn=(0,mt.f)(on),vn=(0,A.d4)(Pn=>(0,Ht.SB)(Pn,on,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}));return(0,t.useMemo)(()=>Nt?rn&&!qt?ft.t("Ready to start {displayName}?",{displayName:(0,Et.A)(vn)}):!rn&&!qt?ft.t("Ready to start the huddle?",{displayName:vn}):rn?ft.t("Ready to join {displayName}?",{displayName:(0,Et.A)(vn)}):ft.t("Ready to join the huddle?",{displayName:(0,Et.A)(vn)}):rn?ft.t("Ready to join {displayName}?",{displayName:(0,Et.A)(vn)}):ft.t("Ready to join the huddle?",{displayName:(0,Et.A)(vn)}),[Nt,rn,vn,qt])}m(Jt,"useGetHuddleJoinPreviewTitle");var Zt=e(3929724715),Tt=e(1407713935),Pt=e(3052395304),Kt=e(3989454579),dn=e(7138682671),sn=e(387484329),H=e(5203103513);const Ne=new S.A("huddles"),Pe=t.memo(()=>{const Qt=(0,V.wA)(),ht=(0,A.d4)(pe.Rk),Nt=!(0,A.d4)(Vt=>(0,Ge.ty)(Vt,H.aI)||!1),on=(0,t.useCallback)(()=>{Qt((0,sn.AZ)({pref:H.aI,value:Nt}))},[Qt,Nt]);return ht?t.createElement("div",null,t.createElement(dn.A,{text:Ne.t("Don\u2019t show this preview again"),type:"inline",cursor:"pointer"},t.createElement(Kt.A,{name:"agc",checked:Nt,onChange:on}))):null});var qe=e(2458754542),At=e.n(qe);const xt=new S.A("huddles"),jt={eventId:ye.EventId.HUDDLES_JOIN_PREVIEW,elementName:"join-button",onClick:{enableClogAction:!0},isPrimaryCTA:!0},Xt=t.memo(Qt=>{let{channelId:ht,closeModal:Nt,handleJoin:on}=Qt;const Vt=(0,A.d4)(w.WR),qt=(0,A.d4)(Xn=>(0,Rt.OL)(Xn,ht)),rn=(0,Tt.cb)(qt),vn=(0,A.d4)(Xn=>(0,G.Ln)(Xn,{channelId:ht})),Rn=(0,A.d4)(pe.Rk),{memberCount:Pn}=(0,kt.W)({channelId:ht}),In=rn||vn,Nn=(0,Pt.q)(ht),{windowId:Jn,windowRef:ts}=(0,t.useContext)(Ve._0),Un=Nn===Jn;let bn=!0;In&&(bn=(0,Zt.Wb)(qt)===Vt);const Ln=Jt({isHost:bn,channelId:ht}),Gn=(0,t.useCallback)(()=>{if(Nt==null||Nt(),Un){var Xn;(Xn=ts.deref())===null||Xn===void 0||Xn.close()}},[Nt,ts,Un]),Zn=(0,t.useCallback)(()=>{Nt==null||Nt()},[Nt]),ns=(0,t.useCallback)(()=>{(0,re.dispatchForClientStore)((0,de._o)({channelId:ht})),on==null||on(),Nt==null||Nt()},[Nt,on,ht]),is=(0,t.useMemo)(()=>Pn===0?xt.t("Start huddle"):xt.t("Join huddle"),[Pn]);return Rn?t.createElement(s.A,{onClose:Zn,title:Ln,onSubmit:ns,onCancel:Gn,showCancelButton:!0,submitButtonText:is,className:At().modal,footerText:t.createElement(Pe,null),overlayClassName:At().overlay,submitAutoClogProps:jt},t.createElement(Ft,{channelId:ht})):null}),en=(0,n.A)(Xt)},4869203191:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>d,Gr:()=>A,Lv:()=>_,jc:()=>c,z2:()=>E});var t=e(735940183),s=e(2778217221),n=e(8664881451),r=e(2854284421),u=e(2047021170),i=e(5203103513),o=e(3036243650);const a=new t.A("huddles"),_="LOUNGE_MUSIC_PLAYER",l=[r.N3,r._4,r.j1,r._V,r.PM,r.tn,r.uu,r.jc];var p;(function(v){v.WaitingRoom="waiting",v.Subway="subway",v.Whistle="whistle",v.Jazz="jazz",v.Focus="focus",v.DiscoParty="disco",v.Zen="zen",v.Nature="nature"})(p||(p={}));const g=p.Jazz,c=m(v=>v?!!Object.values(p).includes(v):!1,"isValidSongKey"),E=m(v=>(0,u.ty)(v,i.Mz)||g,"getSongKeyFromUserPref"),A=m(()=>({[p.WaitingRoom]:{key:p.WaitingRoom,urlName:"waitingRoom",url:r.tn,displayName:a.t("Waiting Room")},[p.Subway]:{key:p.Subway,urlName:"subwayMusic",url:r.PM,displayName:a.t("Subway Music")},[p.Whistle]:{key:p.Whistle,urlName:"whistleTune",url:r.jc,displayName:a.t("Whistle Tune")},[p.Jazz]:{key:p.Jazz,urlName:"waitingMuzak",url:r.uu,displayName:a.t("Smooth Jazz")},[p.Focus]:{key:p.Focus,urlName:"focusBeats",url:r._4,displayName:a.t("Focus Beats")},[p.DiscoParty]:{key:p.DiscoParty,urlName:"discoParty",url:r.N3,displayName:a.t("Happy Bass")},[p.Zen]:{key:p.Zen,urlName:"momentOfZen",url:r.j1,displayName:a.t("Sound Bath")},[p.Nature]:{key:p.Nature,urlName:"natureMeditation",url:r._V,displayName:a.t("Nature Meditation")}}),"getSongsMetadata");let d=m(class pa{static getInstance(){return pa.instance||(pa.instance=new pa),pa.instance}constructor(){var h=this;this.getCurrentTrackDisplayName=()=>{const f=l[this.activeTrackIndex],y=A(),I=Object.values(y).find(C=>C.url===f);return I==null?void 0:I.displayName},this.playMusic=async function(){let{songKey:f,registerOnEndedCallback:y,logger:I,fromFirstTrack:C,loopSong:D}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{registerOnEndedCallback:!1,fromFirstTrack:!0,loopSong:!1};C&&(h.activeTrackIndex=0),y&&l.forEach(O=>{(0,n.TQ)(O,{ended:h.playNextTrack})});let M=l[h.activeTrackIndex];const P=(0,n.Dd)(M);if(f){var S;P&&(0,n.ds)(M);const L=(S=A()[f])===null||S===void 0?void 0:S.url,k=L?l.findIndex(K=>K===L):-1;k>-1&&(M=L,h.activeTrackIndex=k)}const b=(0,o._o)();if(b&&P)try{await P.setSinkId(b),I==null||I.info(s.o7,`setSinkId success for lounge music on deviceID: ${b}`)}catch{I==null||I.info(s.o7,`setSinkId failed for lounge music on deviceID: ${b}`)}(0,n.ZH)(M,{loop:!!D,useSlackPreferredSink:!0})},this.stopMusic=f=>{let{clearOnEndedCallback:y,logger:I,logContext:C}=f;y&&l.forEach(D=>{(0,n.Rj)(D,"ended",this.playNextTrack)}),(0,n.ds)(l[this.activeTrackIndex],{logFailure:!1}),I.info(s.o7,`stopped lounge music [${C}]`)},this.incrementActiveTrackIndex=()=>{this.activeTrackIndex<l.length-1?this.activeTrackIndex+=1:this.activeTrackIndex=0},this.playNextTrack=()=>{(0,n.ds)(l[this.activeTrackIndex]),this.incrementActiveTrackIndex(),(0,n.ZH)(l[this.activeTrackIndex],{loop:!1,useSlackPreferredSink:!0})},this.activeTrackIndex=0}},"HuddleLoungeMusicManager")},8419239240:(W,T,e)=>{"use strict";e.d(T,{I:()=>u});var t=e(3134334389),s=e(1973246490),n=e(735940183);const r=new n.A("huddles");function u(i){let{channelId:o}=i;const{firstMemberName:a,secondMemberName:_,memberCount:l}=(0,s.W)({channelId:o});return(0,t.useMemo)(()=>l===0?r.t("No one is in the huddle yet.",{fallbackHash:"84a5772a945fb7be09c48235d3fbb096591da4c6"}):l===1?r.rt("{firstMemberName} is currently in the huddle.",{firstMemberName:a}):l===2?r.rt("{firstMemberName} and {secondMemberName} are currently in the huddle.",{firstMemberName:a,secondMemberName:_}):r.rt("{firstMemberName}, {secondMemberName}, and {memberCount, plural, =0 {} =1 {1 other} other {# others}} are currently in the huddle.",{fallbackHash:"e851e92374eb17ce86e7497a3ce9a691b8515b61",firstMemberName:a,secondMemberName:_,memberCount:l-2}),[a,_,l])}m(u,"useGetCopyForMembersInHuddle")},1973246490:(W,T,e)=>{"use strict";e.d(T,{W:()=>r});var t=e(9506008067),s=e(9548972574),n=e(3534324375);function r(u){let{channelId:i}=u;const o=(0,t.d4)(p=>(0,s.ft)(p,i)),a=o?o.length:0,_=(0,t.d4)(p=>!o||o.length<1?null:(0,n.sE)(p,o[0])),l=(0,t.d4)(p=>!o||o.length<2?null:(0,n.sE)(p,o[1]));return{firstMemberName:_,secondMemberName:l,memberCount:a}}m(r,"useGetMembersInHuddle")},2164739987:(W,T,e)=>{"use strict";e.d(T,{f:()=>t});function t(s){var n,r;return!(((n=s.topic)===null||n===void 0?void 0:n.value)===""||(s==null||(r=s.topic)===null||r===void 0?void 0:r.value)===void 0)}m(t,"huddleChannelHasTopic")},5011231008:(W,T,e)=>{"use strict";e.d(T,{A:()=>M});var t=e(3134334389),s=e(6122756707),n=e(4844578989),r=e.n(n),u=e(9506008067),i=e(387328355),o=e(1224315998),a=e(735940183),_=e(8181621268),l=e(9194155027),p=e(440635146),g=e(6084388622),c=e(1049642794),E=e(5043394918),A=e(6251210828),d=e(4745917661),v=e(5169680368),h=e(7723800688),f=e(8683010724),y=e(4094753332);const I=new a.A("huddles"),C=[p.tc.CmdOrCtrl,"Shift"],D=m(P=>{let{className:S,microphonePermissionDenied:b=!1,displayShortcutTooltip:O=!0}=P;const L=(0,s.wA)(),k=(0,u.d4)(Ee=>!!(0,i.WQ)(Ee,"isMicrophoneEnabled")&&!b),K=(0,h.Ay)(),N=(0,u.d4)(Ee=>(0,A.U7)(Ee,{key:h.Hi.CANVAS_OPEN})),{microphoneLabel:R,deviceLabel:U,ariaLabel:x}=(0,v.k)(),B=(0,t.useCallback)(()=>{b||L((0,c.A)(!k))},[L,k,b]),F=(0,t.useMemo)(()=>({elementName:h.Hi.CANVAS_TOOLBAR,eventId:k?o.EventId.HUDDLES_MUTE:o.EventId.HUDDLES_UNMUTE,onClick:{enableClogAction:!0},interactionId:N,...K}),[K,N,k]),V=(0,y.cX)()?"Meta":"Control",Y=t.createElement(g.Nm,{className:r()("c-icon_button","c-icon_button--size_medium","p-huddle_toolbar__button",S,{"p-huddle_toolbar__button--toggled_on":k,"p-huddle_toolbar__mic--disabled":b}),htmlType:"button",onClick:B,autoClogProps:F,"aria-label":x,"aria-describedby":"microphone-info","aria-keyshortcuts":`Space+${V}+Shift`,"aria-pressed":!k,"data-qa":"huddle_video_modal_footer",tabIndex:-1,"aria-disabled":b},t.createElement(E.A,{className:"p-huddle_toolbar__mic_volume_indicator",peerId:"self",isMicrophoneEnabled:k,allowMuteIconAnimation:!0}),b&&t.createElement("div",{className:"p-huddle_toolbar__mic_alert_container"},t.createElement("div",{className:"p-huddle_toolbar__mic_alert"},t.createElement(f.A,{name:"warning",variation:"filled"}))),t.createElement("div",{hidden:!0,id:"microphone-info"},U)),w=(0,t.useMemo)(()=>{if(b)return I.t("Microphone permission denied",{fallbackHash:"fb28c69013a2f5cff9d5ad4f7c2ca97cb1d14d4a",fallbackHashNs:"huddles_audio_video_prefs"});const Ee=t.createElement(d.A,{actionLabel:R,deviceLabel:U});return O?t.createElement(l.A,{title:Ee,mainKey:"Space",modifiers:C}):Ee},[U,R,b,O]);return t.createElement(_.Ay,{tip:w},Y)},"HuddleToolbarMuteButton");D.displayName="HuddleToolbarMuteButton";const M=t.memo(D)},3674485380:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(3134334389),s=e(735940183),n=e(8736071954),r=e(9365970888),u=e(5536692738),i=e(3036243650),o=e(9506008067);const a=new s.A("huddles"),_=390,l=278,p=m(c=>{let{deviceType:E,isBlocked:A,widthStyle:d,size:v}=c;const h=(0,t.useMemo)(()=>({[n.lW.Microphone]:a.t("Microphone devices"),[n.lW.Camera]:a.t("Camera devices"),[n.Q4]:a.t("Audio output devices")}),[]),y=(0,o.d4)(r.oG)[E],I=(0,t.useMemo)(()=>A?[{label:a.t("Permission not yet granted"),value:"no_access",type:E}]:y.map(S=>({label:A||!S.label?a.t("Permission not yet granted"):S.label,value:S.id,type:E})),[y,E,A]),C=(0,t.useCallback)(S=>{(0,i.cT)(S.value,E)},[E]);if(!h)return null;const D=I[0],M=h[E];let P;switch(d){case"inline":P=`${_}px`;break;case"default":P=`${l}px`;break;case"stretch":P="100%";break;default:throw new Error(`unhandled type ${d}`)}return t.createElement(u.Ay,{isDisabled:A,ariaLabel:M,selectId:E,options:I,selectedOption:D,width:P,onOptionSelected:C,className:"p-huddle_troubleshooting_panel__device-selector",size:v})},"DeviceSelector");p.displayName="DeviceSelector";const g=p},8801078943:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(2465464861),n=e(3674485380),r=e(735940183),u=e(9506008067),i=e(8736071954);const o=new r.A("huddles"),a=m(l=>{let{className:p,selectSize:g="small",cameraPermissionDenied:c=!1,widthStyle:E="stretch"}=l;const{isCameraBlocked:A}=(0,u.Z2)(s.FP)||{};return t.createElement("div",{className:p},t.createElement("div",{className:"audio-section"},t.createElement("span",{className:"p-device-label"},o.t("Camera"))),t.createElement(n.A,{deviceType:i.lW.Camera,isBlocked:A||c,widthStyle:E,size:g}))},"Camera");a.displayName="Camera";const _=a},1593595278:(W,T,e)=>{"use strict";e.d(T,{A:()=>A,Y:()=>c});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2465464861),u=e(3674485380),i=e(735940183),o=e(9506008067),a=e(8736071954),_=e(1337358413),l=e(5671227444),p=e.n(l);const g=new i.A("huddles");var c;(function(d){d[d.Default=0]="Default",d[d.Inline=1]="Inline",d[d.Hidden=2]="Hidden"})(c||(c={}));const E=m(d=>{let{className:v,audioMeterLayout:h=c.Default,selectSize:f="small",isEnabled:y=!0,microphonePermissionDenied:I=!1,widthStyle:C="stretch"}=d;const{isMicrophoneBluetooth:D}=(0,o.Z2)(r.h)||{},{isMicrophoneBlocked:M}=(0,o.Z2)(r.FP)||{},P=h===c.Default||h===c.Inline;return t.createElement("div",{className:v},t.createElement("div",{className:n()("audio-section",{[p().inlineAudioMeterContainer]:h===c.Inline})},t.createElement("span",{className:"p-device-label"},g.t("Microphone")),P&&t.createElement(_.Ay,{initNumBubbles:9,containerClassName:n()("p-audio-levels-container",{[p().inlineAudioMeter]:h===c.Inline}),bubbleClassname:"p-audio-bubble",ariaLabel:g.t("Input Level"),isEnabled:y})),t.createElement(u.A,{deviceType:a.lW.Microphone,isBlocked:M||I,widthStyle:C,size:f}),D&&t.createElement("div",{className:"bluetooth-warning"},g.t("Bluetooth can degrade audio quality")))},"Microphone");E.displayName="Microphone";const A=E},9948866681:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(3134334389),s=e(2465464861),n=e(3674485380),r=e(735940183),u=e(9506008067),i=e(8736071954),o=e(2854284421),a=e(3036243650),_=e(8739505998),l=e(4094753332);const p=new r.A("huddles"),g=m(E=>{let{className:A,selectSize:d="small",showTestSpeaker:v=!1,microphonePermissionDenied:h=!1,widthStyle:f="stretch"}=E;const{isSpeakerBluetooth:y}=(0,u.Z2)(s.h)||{},I=(0,t.useRef)(null),C=(0,t.useCallback)(async()=>{if(I.current){const M=(0,a._o)();await I.current.setSinkId(M),I.current.play()}},[]);(0,t.useEffect)(()=>(I.current=new Audio(o.pW),()=>{I.current&&(I.current=null)}),[]);const D=h&&!(0,l.y3)();return t.createElement("div",{className:A},t.createElement("div",{className:"audio-section"},t.createElement("span",{className:"p-device-label"},p.t("Speakers")),v&&t.createElement(_.A,{onClick:C},p.t("Test Speaker",{fallbackHash:"d890e6d8efa58744e75a0a5e0017242b538d3aa2",fallbackHashNs:"huddles_audio_video_prefs"}))),t.createElement(n.A,{deviceType:i.Q4,widthStyle:f,size:d,isBlocked:D}),y&&t.createElement("div",{className:"bluetooth-warning"},p.t("Bluetooth can degrade audio quality")))},"Speaker");g.displayName="Speaker";const c=g},5152651193:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(3134334389),s=e(5918772940),n=e.n(s),r=e(4121690455),u=e.n(r),i=e(2440739180),o=e.n(i),a=e(1894681178);const _=m(p=>{let{headerInfo:g,isUnlinked:c=!1}=p;const E=(0,a.A)(g,56);return t.createElement("div",{className:"p-identity_transfer_modal__logo"},t.createElement("div",{className:"p-identity_transfer_modal__logo--left"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:n()})),t.createElement("div",{className:"p-identity_transfer_modal__logo__arrows"},t.createElement("img",{alt:"",src:c?o():u()})),t.createElement("div",{className:"p-identity_transfer_modal__logo--right"},t.createElement("img",{alt:"",className:"p-identity_transfer_modal__logo__app-icon",src:E})))},"IdentityTransferModalLogo");_.displayName="IdentityTransferModalLogo";const l=_},7008286275:(W,T,e)=>{"use strict";e.d(T,{A:()=>be});var t=e(3134334389),s=e(6122756707),n=e(9506008067),r=e(4844578989),u=e.n(r),i=e(4481313819),o=e(6439846314),a=e(2927826522),_=e(5257368278),l=e(4433296946);const p=(0,_.A)("Get SIWS interstital blocks",(Ue,me,ve)=>{let{appId:Fe,url:Ke,channelId:j}=ve;return Ue((0,o.apiCall)({args:{app_id:Fe,uri:Ke,channel_id:j},method:"links.getInterstitialFields",reason:"siws-get-interstital-fields"})).then(ee=>({...(0,a.t)(ee,1)})).catch(ee=>{var je;throw((je=ee.data)===null||je===void 0?void 0:je.error)==="invalid_client_cache"&&Ue((0,l._)()),ee})});p.meta={name:"createFetcher",key:"createFetchergetInterstitialFields",description:"Get SIWS interstital blocks"};const g=p;var c=e(97319433),E=e(7937864072),A=e(8369079536),d=e(9003400431),v=e(6304789565),h=e(387484329),f=e(337319621),y=e(2239896522),I=e(7763971809);const C=(0,v.Ay)("Set completed transfer pref of identity links prefs",(Ue,me,ve)=>{let{appId:Fe,completedTransfer:Ke}=ve;const j=(0,y.IC)(me());let ee="{}";try{ee=JSON.stringify({...j,[Fe]:{completed_transfer:Ke,date_completed_transfer:Number(Date.now())}})}catch(je){(0,f.Ay)({getState:me}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",je)}return Ue((0,h.AZ)({pref:I.V,value:ee}))});C.meta={name:"createThunk",key:"createThunksetCompletedTransfer",description:"Set completed transfer pref of identity links prefs"};var D=e(5973312896),M=e(980293773),P=e(1224315998),S=e(2768056446),b=e(4645337865),O=e(2683115972),L=e(3165300465),k=e(7138682671),K=e(4413566926),N=e(9907843289),R=e(441565466),U=e(5152651193);const x=new K.Ay("app-config"),B=m(Ue=>{let{url:me}=Ue;return me?t.createElement("div",{className:"p-identity_transfer_modal__redirect"},t.createElement("span",{className:"overflow_ellipsis"},x.t("Link to: "),me)):null},"IdentityTransferModalLink");B.displayName="IdentityTransferModalLink";const F=B;var V=e(2276214198),Y=e(555314707);const w=new K.Ay("app-config"),G=m(Ue=>{let{appId:me,domain:ve,email:Fe,headerInfo:Ke,logger:j,setIdentityTransferStep:ee,setLinkClickedPrefs:je,url:Te,hideLink:Je=!1,reverifyEmail:Ae=!1,autoClogProps:Me}=Ue;const we=(0,s.wA)(),Ge=(0,A.A)(),Qe=(0,R.A)(),[fe,Ve]=(0,t.useState)(S.lS.Empty),[Be,Ye]=(0,t.useState)(!1),[et,at]=(0,t.useState)(!1),gt=(0,t.useCallback)(async()=>{try{await we((0,Y.i)({reason:"identity-transfer-modal",confirmationType:"code",email:Fe,intent:"identity_links",locale:(0,N.Yp)()}))}catch(Rt){j.error("error in sending confirm email",Rt)}},[we,Fe,j]);(0,t.useEffect)(()=>{Ge.current&&gt()},[Ge,gt]);const Mt=(0,t.useCallback)(()=>{ee(Ae?"reverifyEmail":"permissions")},[Ae,ee]),Bt=(0,t.useCallback)(()=>{Ve(S.lS.Empty),at(!1)},[]),Ct=(0,t.useCallback)(()=>{gt()},[gt]),Ft=(0,t.useCallback)(async Rt=>{try{Ve(S.lS.Processing),Ye(!0),await we((0,V.b)({reason:"identity-transfer-modal-email-verification",code:Rt,email:Fe,intent:"identity_links"})),await je(!0),Ge.current&&(Ve(S.lS.Success),Ye(!1),at(!1))}catch(Ht){if(Ge.current){switch(Ht.name){case"expired":Ve(S.lS.Expired),at(!1),gt();break;case"failed":Ve(S.lS.Error),at(!1);break;case"ratelimited":Ve(S.lS.Ratelimited),at(!1);break;default:Ve(S.lS.Unknown),at(!0);break}Ye(!1)}}},[we,Fe,Ge,gt,je]),kt=(0,t.useCallback)(Rt=>{Rt.preventDefault()},[]),Et=(0,t.useMemo)(()=>({eventId:P.EventId.IDL_EMAIL_VERIFICATION_BACK,idlAppId:me,idlDomain:ve,idlEventId:P.EventId[P.EventId.IDL_EMAIL_VERIFICATION_BACK].toLowerCase(),onClick:{enableClogAction:!0},...Me}),[me,Me,ve]),mt=fe===S.lS.Expired||fe===S.lS.Error||fe===S.lS.Unknown;return t.createElement(t.Fragment,null,t.createElement(M.$m,null,t.createElement(U.A,{headerInfo:Ke}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},w.t("Please verify your email address")),t.createElement(M.qf,null,t.createElement("p",null,w.t("This is just a quick security check. A confirmation code has been sent to {email} \u2014 it expires in 15 minutes. Please keep this window open, while you check your email.",{email:Fe})),t.createElement("div",{className:"margin_bottom_50"},t.createElement("strong",null,w.t("Enter the code below:"))),t.createElement("form",{onSubmit:kt},t.createElement("fieldset",{className:"no_margin no_padding no_border"},t.createElement("legend",{className:"offscreen"},w.t("Enter one number or letter into each input. The focus will automatically move to the next input after each entry. When you complete the form, a new window will open at {domain}.",{domain:ve,fallbackHash:"e87145104256693bd48398d7ff5b3414272bd92f",fallbackHashNs:"team_creation"})),t.createElement(b.A,{isCheckError:!1,isNumbersOnly:!1,onChange:Bt,onFillCode:Ft,isInvalid:mt,ariaDescribedBy:Qe}))),t.createElement(S.UU,{status:fe,id:Qe}),et&&t.createElement("div",{className:"p-identity_transfer_modal__resend_verification"},t.createElement(k.A,{htmlFor:"resend_verification_email",text:w.t("Get a new verification code.")}),t.createElement(O.Ay,{id:"resend_verification_email",onClick:Ct},w.t("Send Verification",{fallbackHash:"1e426f0e8ba0178a706f197235672b3aa19fd1a1"}))))),t.createElement(M.jl,null,!Je&&t.createElement(F,{url:Te}),t.createElement(M.ox,null,t.createElement(L.A,{"aria-label":w.t("Back"),autoClogProps:Et,"data-qa":"siws_email_verification_back",loading:Be,onClick:Mt,type:"outline"},w.t("Back")))))},"IdentityTransferModalEmailVerification");G.displayName="IdentityTransferModalEmailVerification";const Ee=G;var ne=e(3150724727),se=e(1610251172),ce=e(6084388622);const pe=new K.Ay("app-config"),ye=m(Ue=>{let{email:me,name:ve,userId:Fe,workspaceDomain:Ke}=Ue;const j=(0,R.A)(),[ee,je]=(0,t.useState)(!1);return t.createElement("div",{className:"p-identity_transfer_modal__member_card"},t.createElement("div",{className:"p-identity_transfer_modal__member_card__info",id:j},t.createElement(ne.Ay,{isInteractive:!1,"aria-label":"",className:"p-identity_transfer_modal__member_card__info__avatar",size:48,userId:Fe}),t.createElement("div",null,t.createElement("p",{className:"bold"},ve),t.createElement("p",null,me),t.createElement(ce.Nm,{"data-qa":"expand_to_see_user_details","aria-controls":j,"aria-expanded":ee,"aria-label":ee?pe.t("Fewer User Details",{fallbackHash:"9cf188d3a6779d63b36b10275b0228ae22ec97d6",fallbackHashNs:"file"}):pe.t("More User Details",{fallbackHash:"9869e506c38f643f1fe985347c015deace6baa22",fallbackHashNs:"file"}),className:"p-identity_transfer_modal__member_card__expand",onClick:()=>je(!ee)},t.createElement(se.A,{type:ee?"chevron-large-up":"chevron-large-down"})),ee&&t.createElement(t.Fragment,null,t.createElement("p",null,pe.t("Workspace ID: {workspaceDomain}",{workspaceDomain:Ke})),t.createElement("p",null,pe.t("User ID: { userId }",{userId:Fe}))))))},"IdentityTransferModalMemberCard");ye.displayName="IdentityTransferModalMemberCard";const Ie=ye,Se=new K.Ay("app-config"),le=m(Ue=>{let{icon:me,text:ve}=Ue;return t.createElement("div",{className:"p-identity_transfer_modal__description_item"},t.createElement(se.A,{"aria-label":Se.t("{icon} icon",{icon:me}),className:"p-identity_transfer_modal__description_icon",type:me}),t.createElement("p",null,ve))},"IdentityTransferModalDescriptionItem");le.displayName="IdentityTransferModalDescriptionItem";const X=le;var J=e(8739505998),z=e(2899237032);const te=new K.Ay("app-config"),$=m(Ue=>{let{appName:me,privacyPolicyUrl:ve,tosUrl:Fe}=Ue;return t.createElement("div",{className:"p-identity_transfer_modal__legal"},te.rt("Slack will securely share your name, email address, profile image, user ID, and team ID with {appName}. View Slack\u2019s <a3>privacy policy</a3>. By agreeing to allow Slack to share your identity, you are also agreeing to {appName}\u2019s <a2>privacy agreement</a2> and <a1>terms of service</a1>.",{appName:me,fallbackHash:"134b5a808f103f39a428de3a5b72088dc38327d4"},Ke=>{let{tag:j,text:ee}=Ke;switch(j){case"a1":return t.createElement(J.A,{href:Fe},ee);case"a2":return t.createElement(J.A,{href:ve},ee);case"a3":return t.createElement(J.A,{href:(0,z.v)("/privacy-policy")},ee);default:return null}}))},"IdentityTransferModalLegal");$.displayName="IdentityTransferModalLegal";const q=$,re=new K.Ay("app-config"),de=m(Ue=>{let{appId:me,domain:ve,isUnskippable:Fe=!1,hideLink:Ke=!1,headerInfo:j,isLoading:ee,legalInfo:je,setIdentityTransferStep:Te,setLinkClickedPrefs:Je,url:Ae,userInfo:Me,autoClogProps:we}=Ue;const Ge=(0,A.A)(),[Qe,fe]=(0,t.useState)(!0),[Ve,Be]=(0,t.useState)(!1),[Ye,et]=(0,t.useState)(!0),[at,gt]=(0,t.useState)(!1);(0,t.useEffect)(()=>{fe(ee),et(ee)},[ee]);const Mt=m(async Et=>{Et?(Be(!0),et(!0)):(fe(!0),gt(!0)),await Je(Et),Ge.current&&(Et?(Be(!1),et(!1)):(fe(!1),gt(!1)))},"setLoadingAndLinkClickedPrefs"),Bt=m(()=>{Me.isEmailVerified?Mt(!0):Te("emailVerification")},"handleAcceptClicked"),Ct=m(()=>{Mt(!1)},"handleSkipClicked"),Ft=m(()=>{Mt(!1)},"handleCancelClicked"),{appName:kt}=j;return t.createElement(t.Fragment,null,t.createElement(M.$m,null,t.createElement(U.A,{headerInfo:j}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},Fe?re.t("Connect {appName} with Slack",{appName:kt}):re.t("Continue to {appName} with Slack",{appName:kt})),t.createElement(M.qf,{className:"p-identity_transfer_modal__member_section"},t.createElement(Ie,{email:Me.email,name:Me.name,userId:Me.userId,workspaceDomain:Me.workspaceDomain})),t.createElement(M.qf,null,t.createElement("div",{className:"p-identity_transfer_modal__info_box"},t.createElement("b",null,t.createElement("p",null,re.t("Your account details will be used to:",{fallbackHash:"aed3835c40e50f109d9a3e5c3643965d9b62d05d"}))),t.createElement(X,{icon:"plug",text:re.t("Establish a verified connection between an existing {appName} account and Slack. You\u2019ll sign in automatically.",{appName:kt})}),t.createElement(X,{icon:"user",text:re.t("Help you create a new {appName} account, if you don\u2019t already have one.",{appName:kt})}),t.createElement(X,{icon:"sparkles",text:re.t("Unlock {appName} features in Slack, like configurable notifications, rich link previews, and quick actions.",{appName:kt})})),t.createElement(q,{appName:kt,privacyPolicyUrl:je.privacyPolicyUrl,tosUrl:je.tosUrl}))),t.createElement(M.jl,null,!Ke&&t.createElement(F,{url:Ae}),t.createElement(M.ox,null,!Fe&&t.createElement(L.A,{autoClogProps:{eventId:P.EventId.IDL_INTERSTITIAL_SKIPPED,idlAppId:me,idlDomain:ve,idlEventId:P.EventId[P.EventId.IDL_INTERSTITIAL_SKIPPED].toLowerCase(),onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip",disabled:Ye,loading:at,onClick:Ct,type:"outline","aria-label":re.t("Skip")},re.t("Skip")),Fe&&t.createElement(O.Ay,{type:"outline",onClick:Ft,autoClogProps:{eventId:P.EventId.IDL_INTERSTITIAL_CLOSED,idlAppId:me,idlDomain:ve,idlEventId:P.EventId[P.EventId.IDL_INTERSTITIAL_CLOSED].toLowerCase(),onClick:{enableClogAction:!0},...we}},re.t("Cancel")),t.createElement(L.A,{autoClogProps:{eventId:P.EventId.IDL_INTERSTITIAL_ACCEPTED,idlAppId:me,idlDomain:ve,idlEventId:P.EventId[P.EventId.IDL_INTERSTITIAL_ACCEPTED].toLowerCase(),onClick:{enableClogAction:!0},...we},"data-qa":"siws_auth_modal_accept",disabled:Qe,loading:Ve,onClick:Bt,type:"primary","aria-label":re.t("Accept")},re.t("Accept")))))},"SiwsIdentityTransfer");de.displayName="SiwsIdentityTransfer";const oe=de,De=new K.Ay("app-config"),ae=m(Ue=>{let{appId:me,domain:ve,headerInfo:Fe,url:Ke,setIdentityTransferStep:j}=Ue;const ee=(0,s.wA)(),je=(0,n.d4)(Ae=>(0,y.LG)(Ae,me)),Te=m(()=>{j("permissions")},"handleBackClicked"),Je=m(()=>{ee((0,D.J)({appId:me,dateOptedOut:Date.now(),numSkipped:je+1})),window.open(Ke,"_blank","noopener,noreferrer"),ee((0,d.O)())},"handleProceedClicked");return t.createElement(t.Fragment,null,t.createElement(M.$m,null,t.createElement(U.A,{headerInfo:Fe}),t.createElement("h1",{className:"p-identity_transfer_modal__title p-identity_transfer_modal__title--skip"},De.t("You\u2019ve skipped a few times and we hear you")),t.createElement(M.qf,null,t.createElement("div",null,De.rt("We won\u2019t show this connection prompt again to encourage you to link your Slack and {appName}. Click \u2018Proceed\u2019 to continue to: {link}.",{appName:Fe.appName,link:t.createElement(J.A,{href:Ke},Ke)})))),t.createElement(M.jl,null,t.createElement(M.ox,null,t.createElement(ce.Ay,{"aria-label":De.t("Back"),autoClogProps:{idlAppId:me,idlDomain:ve,eventId:P.EventId.IDL_USER_OPT_OUT_BACK,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_back",onClick:Te,type:"outline"},De.t("Back")),t.createElement(ce.Ay,{"aria-label":De.t("Proceed"),autoClogProps:{idlAppId:me,idlDomain:ve,eventId:P.EventId.IDL_USER_OPT_OUT_PROCEED,onClick:{enableClogAction:!0}},"data-qa":"siws_auth_modal_skip_proceed",onClick:Je},De.t("Proceed")))))},"IdentityTransferModalSkip");ae.displayName="IdentityTransferModalSkip";const Z=ae,ie=new K.Ay("app-config"),Ce=m(Ue=>{let{email:me,headerInfo:ve,setIdentityTransferStep:Fe}=Ue;const Ke=(0,s.wA)(),j=m(()=>{Fe("emailVerification")},"handleVerifyClicked"),ee=(0,t.useCallback)(()=>{Ke((0,d.O)())},[Ke]);return t.createElement(t.Fragment,null,t.createElement(M.$m,null,t.createElement(U.A,{headerInfo:ve}),t.createElement("h1",{className:"p-identity_transfer_modal__title"},ie.t("Verify your account to continue with {appName}",{appName:ve==null?void 0:ve.appName})),t.createElement(M.qf,null,t.createElement("div",{className:"p-identity_transfer_modal__info_box"},t.createElement("b",null,t.createElement("p",null,ie.t("Verification Required"))),t.createElement("ul",null,t.createElement("li",null,ie.t("You are trying to connect to {appName} on a device we don\u2019t recognize, or with a new email address.",{appName:ve==null?void 0:ve.appName})),t.createElement("li",null,ie.rt("To keep your account secure, we\u2019ll send a confirmation code to {email} to verify your identity before proceeding to the link.",{email:t.createElement("b",null,t.createElement("span",null,me))}))),t.createElement("p",null,ie.t("Once you\u2019ve confirmed your identity, we\u2019ll remember this device for next time."))))),t.createElement(M.jl,null,t.createElement(M.ox,null,t.createElement(O.Ay,{type:"outline",onClick:ee},ie.t("Cancel")),t.createElement(O.Ay,{onClick:j},ie.t("Verify")))))},"IdentityTransferReverificationModal");Ce.displayName="IdentityTransferReverificationModal";const Re=Ce,He=m(Ue=>{let{appId:me,domain:ve,clientMsgId:Fe,isUnfurl:Ke=!1,isUserPrefs:j=!1,url:ee,channelId:je,reverifyEmail:Te=!1}=Ue;const Je=(0,s.wA)(),Ae=(0,E.A)(),Me=(0,A.A)(),[we,Ge]=(0,t.useState)(null),[Qe,fe]=(0,t.useState)({appName:"",icons:{}}),[Ve,Be]=(0,t.useState)({tosUrl:"",privacyPolicyUrl:""}),[Ye,et]=(0,t.useState)({email:"",isEmailVerified:!1,name:"",userId:"",workspaceDomain:"",workspaceId:""}),[at,gt]=(0,t.useState)(!0),[Mt,Bt]=(0,t.useState)(Te?"reverifyEmail":"permissions"),Ct=(0,n.d4)(Ht=>Ke?0:(0,y.LG)(Ht,me));(0,t.useEffect)(()=>{m(async()=>{try{const{header:ft,legal:Jt,user:Zt}=await Je(g({appId:me,url:ee,channelId:!j&&!Ke?je:void 0}));Me.current&&(fe(ft),Be(Jt),et(Zt),gt(!1))}catch(ft){!Ke&&!j&&window.open(ee,"_blank","noopener,noreferrer"),Je((0,d.O)()),Ae.error(`app-id - ${me}`,"error in getting interstitial blocks for link with given appid",ft)}},"getAuthModalData")()},[me,Je,Ae,Me,ee,Ke,j,je]);const Ft=(0,t.useCallback)(async Ht=>{try{Ht?(!j&&ee&&await Je((0,c.Ap)({appId:me,url:ee,clientMsgId:Fe,domain:ve,shouldCloseWindowOnCompletion:Ke})),Je(C({appId:me,completedTransfer:!0})),Je((0,d.O)())):!Ke&&!j&&Ct<2?(Je((0,D.J)({appId:me,dateLastSkipped:Date.now(),numSkipped:Ct+1})),Je((0,d.O)()),window.open(ee,"_blank","noopener,noreferrer")):!Ke&&!j&&Ct===2?Bt("skip"):(Je((0,d.O)()),!Ke&&!j&&window.open(ee,"_blank","noopener,noreferrer"))}catch(ft){Ae.error(`app-id - ${me}`,"error in setting prefs with given appid",ft)}},[me,Je,ve,Fe,Ae,Ct,ee,Ke,j]),kt=(0,t.useCallback)(()=>{const Ht={permissions:P.EventId.IDL_INTERSTITIAL_CLOSED,emailVerification:P.EventId.IDL_EMAIL_VERIFICATION_CLOSED,skip:P.EventId.IDL_USER_OPT_OUT_CLOSED,reverifyEmail:P.EventId.IDL_EMAIL_VERIFICATION_CLOSED},ft=Ht==null?void 0:Ht[Mt];if(we==null||we.track({eventId:ft,entryPoint:"USER_PREFS",idlAppId:me,idlDomain:ve,idlEventId:P.EventId[ft].toLowerCase()}),Ke||j||Te){Je((0,d.O)());return}Mt==="skip"?(Je((0,D.J)({appId:me,dateOptedOut:Date.now(),numSkipped:Ct+1})),window.open(ee,"_blank","noopener,noreferrer")):Ct<2?(Je((0,D.J)({appId:me,dateLastSkipped:Date.now(),numSkipped:Ct+1})),window.open(ee,"_blank","noopener,noreferrer")):Ct===2&&Bt("skip"),Mt!=="skip"&&Ct===2||Je((0,d.O)())},[me,we,Je,ve,Mt,Ct,ee,Ke,j,Te]);let Et;const mt={entryPoint:j?"USER_PREFS":void 0};switch(Mt){case"reverifyEmail":Et=t.createElement(Re,{email:Ye.email,headerInfo:Qe,setIdentityTransferStep:Bt});break;case"emailVerification":Et=t.createElement(Ee,{hideLink:j||Ke,appId:me,domain:ve,email:Ye.email,headerInfo:Qe,logger:Ae,setIdentityTransferStep:Bt,setLinkClickedPrefs:Ft,url:ee,reverifyEmail:Te,autoClogProps:mt});break;case"skip":Et=t.createElement(Z,{appId:me,domain:ve,headerInfo:Qe,setIdentityTransferStep:Bt,url:ee});break;default:Et=t.createElement(oe,{isUnskippable:Ke||j,hideLink:Ke||j,appId:me,domain:ve,headerInfo:Qe,isLoading:at,legalInfo:Ve,setIdentityTransferStep:Bt,setLinkClickedPrefs:Ft,userInfo:Ye,url:ee,autoClogProps:mt})}const Rt=u()("p-identity_transfer_modal",{"p-identity_transfer_modal--skip":Mt==="skip"});return t.createElement(i.A,{trackClogRef:Ht=>{Ge({track:Ht})}},t.createElement(M.dW,{className:Rt,closeModal:kt,shouldCloseOnOverlayClick:!1},Et))},"IdentityTransferModal");He.displayName="IdentityTransferModal";const be=He},1650415028:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3134334389),s=e(6122756707),n=e(9506008067),r=e(8170244779),u=e(1224315998),i=e(1469799399),o=e(8262898118),a=e(4481313819),_=e(2239896522);const l=m(g=>{let{children:c,url:E}=g;const A=(0,s.wA)(),d=(0,t.useContext)(r.A).channelId,v=(0,n.d4)(C=>(0,o.ND)(C,E)),h=(0,n.d4)(C=>(0,o.pF)(C,E)),f=(0,n.d4)(C=>(0,_.Xe)(C,v??"")!==null),y=(0,t.useCallback)(C=>{C.shiftKey||C.metaKey||C.ctrlKey||(C.preventDefault(),A((0,i.C)({url:E,channelId:d})))},[A,E,d]),I=(0,t.useMemo)(()=>({onClick:{enableClogAction:!f}}),[f]);return t.createElement(a.A,{eventId:u.EventId.IDL_CLICKED,idlAppId:v,idlDomain:h,idlEventId:u.EventId[u.EventId.IDL_CLICKED].toLowerCase()},typeof c=="function"?c(y,I):c)},"IdentityTransferTrigger");l.displayName="IdentityTransferTrigger";const p=l},5165209241:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(9391594207),n=e(4979382452),r=e(4636370173),u=e(2465132699),i=e(6308822),o=e(9003400431);function a(l){return t.createElement(n.A,{className:l.className,closeModal:l.closeModal},t.createElement(r.A,null,t.createElement(u.A,null,t.createElement("div",{className:"c-lazy_modal"},t.createElement(i.A,null)))))}m(a,"LoadingModal"),a.displayName="LoadingModal";const _=(0,s.N)(null,l=>({closeModal:()=>l((0,o.O)())}))(a)},79199995:(W,T,e)=>{"use strict";e.d(T,{WJ:()=>_,eW:()=>a,fJ:()=>c,g2:()=>g,kY:()=>l,oE:()=>o});var t=e(4418517660),s=e.n(t),n=e(583204418),r=e(735940183),u=e(6471801899);const i=new r.A("lists");var o;(function(E){E.Today="today",E.Yesterday="yesterday",E.Tomorrow="tomorrow",E.ThisWeek="this_week",E.NextWeek="next_week",E.LastWeek="last_week",E.Upcoming="upcoming",E.Overdue="overdue",E.Later="later",E.SinceILastViewed="since_i_last_viewed"})(o||(o={}));const a=m(E=>!E.options||E.options.dateFormat===n.cf.Default?u.Wl:E.options.dateFormat,"getDateFormat"),_=m(E=>Object.values(o).includes(E),"isDateFilterOption"),l=m(E=>{switch(E){case o.Today:return i.t("Today");case o.Yesterday:return i.t("Yesterday");case o.Tomorrow:return i.t("Tomorrow");case o.ThisWeek:return i.t("This week");case o.NextWeek:return i.t("Next week");case o.LastWeek:return i.t("Last week");case o.Upcoming:return i.t("Upcoming");case o.Overdue:return i.t("Overdue",{fallbackHash:"8bc375841102af370703640e4f8c68240fd6c1f7"});case o.SinceILastViewed:return i.t("Since last time you viewed");default:return E}},"formatDateForMenu"),p=m(E=>{const A=s()(E).startOf("isoWeek"),d=s()(E).endOf("isoWeek"),v=[];let h=A;for(;h<=d;)v.push(h),h=h.clone().add(1,"days");return v},"getWeekdays"),g=m(E=>{let A;switch(E){case o.Today:A=s()().format(u.DX);break;case o.Yesterday:A=s()().subtract(1,"days").format(u.DX);break;case o.Tomorrow:A=s()().add(1,"days").format(u.DX);break;case o.ThisWeek:A=p(s()()).map(d=>d.format(u.DX));break;case o.NextWeek:A=p(s()().add(1,"weeks")).map(d=>d.format(u.DX));break;case o.LastWeek:A=p(s()().subtract(1,"weeks")).map(d=>d.format(u.DX));break;case o.Upcoming:A=s()().add(2,"days").format(u.DX);break;case o.SinceILastViewed:A=s()().format(u.DX);break;default:A=E}return A},"getStaticDateValue"),c=s()().format(u.DX)},3001769570:(W,T,e)=>{"use strict";e.d(T,{Mu:()=>g,OQ:()=>f,PL:()=>a,R8:()=>D,U3:()=>E,UE:()=>v,Ui:()=>h,Z4:()=>c,aI:()=>d,aN:()=>y,bV:()=>A,lx:()=>I,nM:()=>C,rD:()=>l});var t=e(1649982175),s=e(166097325),n=e(7682358855),r=e(8191156954),u=e(4097827290),i=e(735940183);const o=new i.A("lists"),a=m((M,P)=>M.indexOf(P)===-1?[...M,P]:M.filter(b=>b!==P),"toggleValueInFilterValues"),_=m(M=>{if(!M.length)return M;const P=M==null?void 0:M.flatMap(b=>b.split("|"));return[...new Set(P)]},"parseUserIdsAndRemoveDupes"),l=m((M,P)=>{const S=[];return Object.values(M??{}).forEach(O=>{if(O.fields&&O.fields[P]){const L=O.fields[P];S.push(L.trim())}}),[n._4,..._(S)]},"getUserIdsInUserColumns"),p=m(M=>{try{return JSON.stringify(M)}catch{return"[]"}},"safeStringify"),g=m((M,P)=>{var S;const b=m(k=>k.map(K=>({...(0,t.A)(K,["columnId"]),ascending:(S=K.ascending)!==null&&S!==void 0?S:!1})),"normalizeSorts"),O=b(M),L=b(P);return(0,s.A)(O,L)},"isLocalAndServerSortEqual"),c=m((M,P)=>{const S=m(L=>L.map(k=>({operator:k.operator,key:k.key})),"normalizeCalculations"),b=S(M),O=S(P);return(0,s.A)(b,O)},"isLocalAndServerCalculationEqual"),E=m((M,P)=>{const S=m(L=>L.map(k=>({...(0,t.A)(k,["columnId"]),values:p(k.values||[]),typedValues:p(k.typedValues||[])})),"normalizeFilters"),b=S(M),O=S(P);return(0,s.A)(b,O)},"isLocalAndServerFilterEqual"),A=m((M,P)=>{var S;const b=P.get((S=M.key)!==null&&S!==void 0?S:"");return b?!(0,s.A)(b.operator,M.operator)||!(0,s.A)(new Set(b.values),new Set(M.values)):!0},"isFilterUnsavedOrModified"),d=m(M=>{let P=M;return Boolean(P.find(b=>b.type===r.$.CreatedTime))||(P=[...P,{id:r.$.CreatedTime,name:"Created time",key:r.$.CreatedTime,type:r.$.CreatedTime,isPrimaryColumn:!1}]),P},"appendCreatedTimeDataColumn"),v=m(M=>{switch(M.type){case r.$.Checkbox:case r.$.Completed:case r.$.Message:case r.$.Link:case r.$.TodoCompleted:return[u.t.IsEmpty,u.t.IsNotEmpty];case r.$.Assignee:case r.$.CreatedBy:case r.$.LastEditedBy:case r.$.Rating:case r.$.Select:case r.$.User:case r.$.Text:case r.$.TodoAssignee:return[u.t.Contains,u.t.DoesNotContain,u.t.IsEmpty,u.t.IsNotEmpty];case r.$.Currency:case r.$.Number:case r.$.Date:case r.$.TodoDueDate:return[u.t.Equal,u.t.NotEqual,u.t.LessThan,u.t.GreaterThan,u.t.IsEmpty,u.t.IsNotEmpty];default:return[u.t.Equal,u.t.NotEqual,u.t.IsEmpty,u.t.IsNotEmpty]}},"getOperatorsFromColumn"),h=m(M=>M.type===r.$.Checkbox,"isCheckboxFilter"),f=m(M=>M.type===r.$.Completed||M.type===r.$.TodoCompleted,"isCompletedFilter"),y=m(M=>M===u.t.IsEmpty||M===u.t.IsNotEmpty,"isEmptyOperator"),I=m(M=>M===u.t.IsMe||M===u.t.IsNotMe,"isMeOperator"),C=m(M=>M.type===r.$.Date||M.type===r.$.DueDate||M.type===r.$.CreatedTime||M.type===r.$.LastEditedTime||M.type===r.$.TodoDueDate,"isDateFilter"),D=m((M,P)=>{switch(M){case u.t.IsEmpty:return h(P)?o.t("is not checked"):f(P)?o.t("Not completed"):o.t("is empty");case u.t.IsNotEmpty:return h(P)?o.t("is checked"):f(P)?o.t("Completed"):o.t("is not empty");case u.t.Equal:return C(P)?o.t("is"):o.t("is equal to");case u.t.NotEqual:return C(P)?o.t("is not"):o.t("is not equal to");case u.t.GreaterThan:return C(P)?o.t("is after"):o.t("is greater than");case u.t.LessThan:return C(P)?o.t("is before"):o.t("is less than");case u.t.GreaterThanOrEqual:return o.t("is greater than or equal to");case u.t.LessThanOrEqual:return o.t("is less than or equal to");case u.t.Contains:return o.t("includes");case u.t.DoesNotContain:return o.t("does not include");case u.t.IsMe:return o.t("is me");case u.t.IsNotMe:return o.t("is not me");default:return""}},"getFilterOperatorLabel")},9216332371:(W,T,e)=>{"use strict";e.d(T,{AO:()=>te,Hs:()=>ae,Jn:()=>O,L:()=>ne,M1:()=>re,Nh:()=>z,Po:()=>Ee,Q6:()=>ce,RO:()=>ie,Rw:()=>Z,Sb:()=>q,be:()=>S,c$:()=>oe,dT:()=>b,g2:()=>De,iT:()=>de,kv:()=>ye,ps:()=>Re,rE:()=>Ce,u1:()=>$,us:()=>X,vx:()=>He,x4:()=>se});var t=e(3783723764),s=e(1703559452),n=e(2240330919),r=e(2101927269),u=e(4418517660),i=e.n(u),o=e(352142497),a=e(7682358855),_=e(2909199380),l=e(79199995),p=e(5139044823),g=e(8191156954),c=e(4097827290),E=e(8822892075),A=e(2647703359),d=e(7334104107),v=e(4919145213),h=e(583204418),f=e(5045557812),y=e(3342113153),I=e(3802883493),C=e(8088280230),D=e(6471801899),M=e(7606781622),P=e(3193155968);const S=m(be=>{let{columnType:Ue}=be;return Ue?Ue===g.$.TodoCompleted||Ue===g.$.TodoAssignee||Ue===g.$.TodoDueDate:!1},"isTodoListColumn"),b=m(be=>be?be===_.tT.COMPLETED||be===_.tT.ASSIGNEE||be===_.tT.DUEDATE:!1,"isTaskListColumnId"),O=m(be=>{let{record:Ue,colKey:me}=be;var ve,Fe,Ke,j,ee;if(!(Ue==null||(ve=Ue.fallback)===null||ve===void 0)&&ve[me])return Ue.fallback[me];if(!(Ue==null||(Fe=Ue.fields)===null||Fe===void 0||(Ke=Fe.fallback)===null||Ke===void 0)&&Ke[me])return Ue==null||(j=Ue.fields)===null||j===void 0||(ee=j.fallback)===null||ee===void 0?void 0:ee[me];if(Ue[me]){if((0,f.A)(Ue[me])){var je,Te,Je,Ae,Me;return(Me=(Ae=(Je=(je=Ue[me])===null||je===void 0||(Te=je[0])===null||Te===void 0?void 0:Te.elements[0])===null||Je===void 0?void 0:Je.elements[0])===null||Ae===void 0?void 0:Ae.text)!==null&&Me!==void 0?Me:""}return Ue[me].toString()}return""},"getStringValue"),L=m(be=>{const Ue=i()(be).startOf("isoWeek"),me=i()(be).endOf("isoWeek"),ve=[];let Fe=Ue;for(;Fe<=me;)ve.push(Fe),Fe=Fe.clone().add(1,"days");return ve},"getWeekdays"),k=m((be,Ue)=>{const me="YYYY-MM-DD";let ve;switch(be){case l.oE.Today:ve=i()().format(me);break;case l.oE.Yesterday:ve=i()().subtract(1,"days").format(me);break;case l.oE.Tomorrow:ve=i()().add(1,"days").format(me);break;case l.oE.ThisWeek:ve=L(i()()).map(Ke=>Ke.format(me));break;case l.oE.NextWeek:ve=L(i()().add(1,"weeks")).map(Ke=>Ke.format(me));break;case l.oE.LastWeek:ve=L(i()().subtract(1,"weeks")).map(Ke=>Ke.format(me));break;case l.oE.Upcoming:ve=i()().add(2,"days").format(me);break;case l.oE.Later:ve=p.ye.Later;break;case l.oE.Overdue:return i()();case l.oE.SinceILastViewed:return ve=i().unix(Ue),ve;default:ve=i()(be,me).format(me)}return Array.isArray(ve)?ve.map(Ke=>i()(Ke,me)):i()(ve,me)},"convertDynamicDateToStatic"),K=m(be=>be.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),"normalizeText"),N=m(be=>{let{operator:Ue,recordValue:me}=be;return Ue===c.t.NotEqual||Ue===c.t.DoesNotContain?me!==p.ye.Later:Ue===c.t.Equal||Ue===c.t.Contains?me===p.ye.Later:!1},"matchesLaterFilterValue"),R=m(be=>{let{filterMoment:Ue,valueMoment:me,operator:ve}=be;if(!Ue||!me||Array.isArray(Ue))return!1;const Fe=Ue.clone().startOf("day"),Ke=me.clone().startOf("day");return ve===c.t.NotEqual||ve===c.t.DoesNotContain?Ke==null?void 0:Ke.isBefore(Fe):ve===c.t.Equal||ve===c.t.Contains?Ke==null?void 0:Ke.isAfter(Fe):!1},"matchesUpcomingFilterValue"),U=m(be=>{let{filterMoment:Ue,valueMoment:me,recordValue:ve,operator:Fe}=be;return!Ue||!me||ve===p.ye.Later||Array.isArray(Ue)?!1:Fe===c.t.NotEqual||Fe===c.t.DoesNotContain?me==null?void 0:me.isAfter(Ue):Fe===c.t.Equal||Fe===c.t.Contains?me==null?void 0:me.isBefore(Ue):!1},"matchesOverdueFilterValue"),x=m(function(be,Ue,me){let ve=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const Fe=ve?Ue:Ue==null?void 0:Ue.clone().startOf("day"),Ke=ve?me:me==null?void 0:me.clone().startOf("day");switch(be){case c.t.NotEqual:return!(Fe!=null&&Fe.isSame(Ke));case c.t.GreaterThan:return Fe==null?void 0:Fe.isBefore(Ke);case c.t.GreaterThanOrEqual:return Fe==null?void 0:Fe.isSameOrBefore(Ke);case c.t.LessThan:return Fe==null?void 0:Fe.isAfter(Ke);case c.t.LessThanOrEqual:return Fe==null?void 0:Fe.isSameOrAfter(Ke);case c.t.Equal:default:return Fe==null?void 0:Fe.isSame(Ke)}},"multiDateOperatorFilterValueCheck"),B=m((be,Ue,me,ve,Fe)=>{if(!Ue.values[0])return be;let Ke=me;const j=Ue.values[0]===l.oE.SinceILastViewed;return j&&(Ke=c.t.GreaterThan),be.filter(ee=>{if(Fe!=null&&Fe.has(ee.id))return!0;const je=ee[Ue.key];let Te=je&&je!==p.ye.Later?i()(je).startOf("day"):void 0;return je==null?!1:(isNaN(je)||(Te=i().unix(je)),Ue.values.some(Je=>{if(!Je)return!1;if(Je.toString()===l.oE.Later)return N({operator:Ke,recordValue:je});const Ae=k(Je.toString(),ve);return Je.toString()===l.oE.Upcoming?R({filterMoment:Ae,valueMoment:Te,operator:Ke}):Je.toString()===l.oE.Overdue?U({filterMoment:Ae,valueMoment:Te,operator:Ke,recordValue:je}):Array.isArray(Ae)?Ke===c.t.NotEqual?!Ae.some(Me=>Me&&Te?Me.clone().startOf("day").isSame(Te):!1):Ae.some(Me=>Me&&Te?x(Ke,Me,Te):!1):Ae&&Te?x(Ke,Ae,Te,j):!1}))})},"multiDateFilter"),F=m((be,Ue,me,ve)=>{const Fe=Ue.values[0]||"";return be.filter(Ke=>{if(ve!=null&&ve.has(Ke.id))return!0;const j=Ke[Ue.key]||"";switch(me){case c.t.DoesNotContain:return!j.toLowerCase().includes(Fe.toString().toLowerCase());case c.t.Contains:default:return j.toLowerCase().includes(Fe.toString().toLowerCase())}})},"textFilter"),V=m((be,Ue,me,ve)=>{const Fe=Ue.values[0]||"";return be.filter(Ke=>{if(ve!=null&&ve.has(Ke.id))return!0;const j=O({record:Ke,colKey:Ue.key});switch(me){case c.t.DoesNotContain:return!j.toLowerCase().includes(Fe.toString().toLowerCase());case c.t.Contains:default:return j.toLowerCase().includes(Fe.toString().toLowerCase())}})},"richTextFilter"),Y=m((be,Ue,me,ve)=>{if(!Ue.values.length)return be;var Fe;const Ke=Number((Fe=Ue.values[0])!==null&&Fe!==void 0?Fe:"");return be.filter(j=>{if(ve!=null&&ve.has(j.id))return!0;const ee=j[Ue.key],je=Number(ee??"");if(ee!=null)switch(me){case c.t.NotEqual:return je!==Ke;case c.t.GreaterThan:return je>Ke;case c.t.GreaterThanOrEqual:return je>=Ke;case c.t.LessThan:return je<Ke;case c.t.LessThanOrEqual:return je<=Ke;case c.t.Equal:default:return je===Ke}})},"numberFilter"),w=m((be,Ue,me,ve)=>{const Fe=new Set(Ue.values);return Fe.size?be.filter(Ke=>{if(ve!=null&&ve.has(Ke.id))return!0;var j;const ee=String((j=Ke[Ue.key])!==null&&j!==void 0?j:"");switch(me){case c.t.Contains:return Fe.has(ee);case c.t.DoesNotContain:return!Fe.has(ee);case c.t.IsEmpty:return ee===null;case c.t.IsNotEmpty:return ee!==null;default:return!0}}):be},"multiRatingFilter"),G=m((be,Ue,me,ve,Fe,Ke)=>{const j=Ue.values.map(je=>je===a._4&&Ke?Ke:je),ee=new Set(j);return ee.size?be.filter(je=>{if(Fe!=null&&Fe.has(je.id))return!0;const Te=je[Ue.key],Je=(Te??"").split(a.eY).filter(Boolean);let Ae=!1;for(const Me of Je){if(ee.has(Me)){Ae=!0;break}if(!ve)break}return me===c.t.Equal?Ae:me===c.t.NotEqual?!Ae:me===c.t.Contains?Ae:me===c.t.DoesNotContain?!Ae:!0}):be},"multiOptionFilter");function Ee(be){return be===0?!1:!be||Array.isArray(be)&&be.length===0}m(Ee,"isEmptyValue");const ne=m((be,Ue,me,ve,Fe,Ke,j)=>{let ee=be;return Ue.forEach(je=>{const Te=me.find(we=>we.key===je.key);if(!Te||!j&&S({columnType:Te.type}))return;const Je=je.operator;if(Je===c.t.IsEmpty){ee=ee.filter(we=>Ke!=null&&Ke.has(we.id)?!0:Ee(we[je.key]));return}if(Je===c.t.IsNotEmpty){ee=ee.filter(we=>Ke!=null&&Ke.has(we.id)?!0:!Ee(we[je.key]));return}switch(Te.type){case g.$.Text:ee=V(ee,je,Je,Ke);break;case g.$.Email:case g.$.Phone:ee=F(ee,je,Je,Ke);break;case g.$.Number:case g.$.Currency:ee=Y(ee,je,Je,Ke);break;case g.$.Rating:ee=w(ee,je,Je,Ke);break;case g.$.Date:case g.$.DueDate:case g.$.TodoDueDate:case g.$.CreatedTime:case g.$.LastEditedTime:ee=B(ee,je,Je,Fe,Ke);break;case g.$.Checkbox:case g.$.Completed:case g.$.TodoCompleted:case g.$.Link:return;case g.$.Select:var Ae;ee=G(ee,je,Je,((Ae=Te.options)===null||Ae===void 0?void 0:Ae.format)===h.YP.MultiSelect,Ke);break;case g.$.Channel:case g.$.Canvas:case g.$.User:case g.$.Assignee:case g.$.TodoAssignee:case g.$.CreatedBy:case g.$.LastEditedBy:switch(Je){case c.t.IsMe:ee=ee.filter(we=>{var Ge;return Ke!=null&&Ke.has(we.id)?!0:(Ge=we[je.key])===null||Ge===void 0?void 0:Ge.includes(ve)});break;case c.t.IsNotMe:ee=ee.filter(we=>{var Ge;return Ke!=null&&Ke.has(we.id)?!0:!(!((Ge=we[je.key])===null||Ge===void 0)&&Ge.includes(ve))});break;default:var Me;ee=G(ee,je,Je,((Me=Te.options)===null||Me===void 0?void 0:Me.format)===h.hx.MultiEntity,Ke,ve)}break;default:ee=F(ee,je,Je,Ke);break}}),ee},"applyFiltersToRecords"),se=m((be,Ue)=>Object.fromEntries(Object.entries(be??{}).filter(me=>{let[ve,Fe]=me;return Ue.every(Ke=>Fe[Ke.key]===Ke.value)})),"applyListRecordFilters"),ce=new Map([[g.$.Text,""],[g.$.Email,""],[g.$.Date,""],[g.$.TodoDueDate,""],[g.$.Checkbox,!1],[g.$.Completed,!1],[g.$.TodoCompleted,!1],[g.$.Number,0],[g.$.Rating,0],[g.$.CreatedTime,0],[g.$.LastEditedTime,0],[g.$.Channel,""],[g.$.User,""],[g.$.TodoAssignee,""],[g.$.CreatedBy,""],[g.$.LastEditedBy,""]]);function pe(be){if(!Array.isArray(be)||be.length===0)return"";const Ue=m(me=>{for(const ve of me){if(ve.type==="text"&&ve.text)return ve.text;if(ve.elements&&Array.isArray(ve.elements)){const Fe=Ue(ve.elements);if(Fe)return Fe}}return""},"findTextRecursively");for(const me of be)if(me.elements&&Array.isArray(me.elements)){const ve=Ue(me.elements);if(ve)return ve}return""}m(pe,"extractFirstTextElement");const ye=m((be,Ue,me,ve,Fe,Ke)=>{const j=Ue.map(Je=>Je.ascending?"asc":"desc"),ee=new Map;for(const Je of me)if(Je.type===g.$.Select){var je;const Ae=((je=Je.options)===null||je===void 0?void 0:je.choices)||[];for(let Me=0;Me<Ae.length;Me++){const we=Ae[Me],Ge=`${Je.key}:${we.value}`;ee.set(Ge,Me)}}const Te=Ue.map(Je=>Ae=>{const Me=me.find(Ye=>Ye.key===Je.key),we=Je.ascending;if(!Me)return"";if(!Ke&&S({columnType:Me.type}))return;const Ge=Ae[Je.key];let Qe=Ge??ce.get(Me.type||g.$.Text);if(Qe==null&&(Qe=we?Number.MAX_SAFE_INTEGER:-1/0),Me.type===g.$.Select){var fe;const Ye=(((fe=Me.options)===null||fe===void 0?void 0:fe.choices)||[]).length,et=(Ge??"").split(a.eY).filter(Boolean);if(Ye===0||et.length===0)Qe=we?Number.MAX_SAFE_INTEGER:-1/0;else{let at=Ye;for(const gt of et){const Mt=`${Me.key}:${gt}`;var Ve;const Bt=(Ve=ee.get(Mt))!==null&&Ve!==void 0?Ve:Ye;at=Math.min(at,Bt)}at<Ye?Qe=at:Qe=we?Number.MAX_SAFE_INTEGER:-1/0}}if((Me.type===g.$.User||Me.type===g.$.TodoAssignee)&&ve&&(Ge==null||Ge===""?Qe=we?"zzzzzzzz":"":ve[Ge]?Qe=ve[Ge].toLowerCase():Qe=we?"zzzzzzzz":""),Me.type===g.$.Text&&(Ge==null||Ge===""||Array.isArray(Ge)&&Ge.length===0?Qe=we?"zzzzzzzz":"":typeof Ge=="string"?Qe=Ge.toLowerCase():Qe=pe(Ge).toLowerCase()),Me.type===g.$.Vote){const Ye=(Ge??"").split(a.eY).filter(Boolean);Ye.length>0?Qe=Ye.length:we?Qe=Number.MAX_SAFE_INTEGER:Qe=-1/0}if((Me.type===g.$.Number||Me.type===g.$.Currency||Me.type===g.$.Rating)&&(Ge==null||Ge===""?Qe=we?Number.MAX_SAFE_INTEGER:-1/0:Qe=Number(Ge)),Me.type===g.$.Date||Me.type===g.$.DueDate||Me.type===g.$.TodoDueDate||Me.type===g.$.CreatedTime||Me.type===g.$.LastEditedTime){const Ye=new Date(Ge);Ge==null||Ge===""?Qe=we?Number.MAX_SAFE_INTEGER:-1/0:Ge===p.ye.Later?Qe=we?Number.MAX_SAFE_INTEGER-1:0:isNaN(Ye.getTime())||(Qe=Ye.getTime())}if(Me.type===g.$.Channel&&Fe)if(Ge==null||Ge==="")Qe=we?"zzzzzzzz":"";else{const Ye=Ge.split("|")[0];var Be;Qe=((Be=Fe[Ye])!==null&&Be!==void 0?Be:"").toLowerCase()}return Qe});return(0,t.A)(be,Te,j)},"applySortToRecords"),Ie=new Set([g.$.Text,g.$.Email,g.$.Phone,g.$.Number,g.$.Rating,g.$.Select,g.$.User,g.$.Channel,g.$.Vote]),Se=m((be,Ue,me,ve,Fe)=>{const Ke=Ue.filter(Je=>Ie.has(Je.type)),j=new Map;for(const Je of Ke)if(Je.type===g.$.Select){var ee,je;const Ae=(je=(ee=Je.options)===null||ee===void 0?void 0:ee.choices)!==null&&je!==void 0?je:[];for(const{value:Me,label:we}of Ae){const Ge=`${Je.key}:${Me}`;j.set(Ge,we)}}const Te=me.toLowerCase();return be.filter(Je=>(0,s.A)(Ke,Ae=>{const Me=O({record:Je,colKey:Ae.key});if(Ae.type===g.$.Select){var we;let Be=Me.split(a.eY).filter(Boolean);((we=Ae.options)===null||we===void 0?void 0:we.format)===h.YP.MultiSelect||(Be=Be.slice(0,1));for(const et of Be){const at=`${Ae.key}:${et}`;var Ge;if(((Ge=j.get(at))!==null&&Ge!==void 0?Ge:Me).toLowerCase().includes(Te))return!0}}if(Ae.type===g.$.Channel&&Fe){var Qe;const Be=(Qe=Fe[Me])!==null&&Qe!==void 0?Qe:"";return Be&&K(Be).includes(Te)}if(Ae.type===g.$.User&&ve){var fe;const Be=(fe=ve[Me])!==null&&fe!==void 0?fe:"";return Be&&Be.toLowerCase().includes(Te)}if(Ae.type===g.$.Vote){const Be=Je[Ae.key],Ye=typeof Be=="string"?Be:void 0;var Ve;return`${(Ve=Ye==null?void 0:Ye.split("|").length)!==null&&Ve!==void 0?Ve:0}`.includes(Te)}return K(Me).includes(Te)}))},"applySearchStringToRecords"),le=m(be=>{let{listRecords:Ue,records:me}=be;return me.map(ve=>{const Fe=Ue==null?void 0:Ue[ve.id];return{...ve,highlightAsNew:Fe==null?void 0:Fe.highlightAsNew,isOpenInFlexpane:Fe==null?void 0:Fe.isOpenInFlexpane,parentRecordId:Fe==null?void 0:Fe.parentRecordId}})},"applyListRecordsModifiers"),X=m(be=>{let{listRecords:Ue,records:me,schema:ve,filterObj:Fe,sorts:Ke,searchString:j,lastReadTimestamp:ee,bottomRecordIds:je,userNames:Te,channelNames:Je,isTodoMode:Ae}=be,Me=me;if(Fe){const{filters:we,currentUserId:Ge}=Fe;Me=ne(Me,we,ve,Ge,ee,je,Ae)}return Ke&&(Me=ye(Me,Ke,ve,Te,Je,Ae)),j&&(Me=Se(Me,ve,j,Te,Je)),Me=le({listRecords:Ue,records:Me}),Me},"applyModifiersToRecords");function J(be,Ue,me){const ve=(0,M.Ld)(be,Ue,me);return ve&&!(0,v.A)(ve)&&!(0,d.aw)(ve)&&!(0,d.aH)(ve)}m(J,"isValidMarkedMessageForListThread");function z(be,Ue,me){return(0,n.A)((0,r.A)(me,ve=>J(be,Ue,ve)))}m(z,"maxRealTsForListThread");function te(be,Ue,me,ve){const Fe=(0,D.Dv)(ve,Object.values(me)),Ke=Fe.get(be==null?void 0:be.id),j=Fe.get(Ue==null?void 0:Ue.id);let ee=null,je=null;if(be&&Ue){if(Ke)ee=Ke;else{var Te,Je;ee=!((Te=me[be.id])===null||Te===void 0)&&Te.position?`${(Je=me[be.id])===null||Je===void 0?void 0:Je.position}`:null}if(j)je=j;else{var Ae,Me;je=!((Ae=me[Ue.id])===null||Ae===void 0)&&Ae.position?`${(Me=me[Ue.id])===null||Me===void 0?void 0:Me.position}`:null}}else if(be)if(Ke)ee=Ke;else{var we,Ge;ee=!((we=me[be.id])===null||we===void 0)&&we.position?`${(Ge=me[be.id])===null||Ge===void 0?void 0:Ge.position}`:null}else if(Ue)if(j)je=j;else{var Qe,fe;je=!((Qe=me[Ue.id])===null||Qe===void 0)&&Qe.position?`${(fe=me[Ue.id])===null||fe===void 0?void 0:fe.position}`:null}return(0,I.TU)(ee,je)}m(te,"calculateFractionalRecordPosition");const $=m(be=>{var Ue;const me=(0,C.A)({input:be});return me&&me[0]&&me[0].offset===0&&((Ue=me[0].url)===null||Ue===void 0?void 0:Ue.length)===(be==null?void 0:be.length)?[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"link",url:me[0].url||""}]}]}]:[{type:"rich_text",elements:[{type:"rich_text_section",elements:[{type:"text",text:be||""}]}]}]},"convertStringToBlocks"),q=m(be=>{if(be instanceof HTMLElement){if(be instanceof HTMLInputElement&&["checkbox","radio"].includes(be.type))return!0;if(["input","textarea","select"].includes(be.tagName.toLowerCase())||be.isContentEditable)return!1}return!0},"shouldHandleUndoFrom"),re=m((be,Ue)=>{const me=[];var ve;const Fe=(ve=(0,A.Df)(be))!==null&&ve!==void 0?ve:[],Ke=(0,A.Jq)(be).length||(0,A.Si)(be);return Ue.forEach((j,ee)=>{const je=Fe.some(Ge=>(Ge==null?void 0:Ge.user_id)===(j==null?void 0:j.id));var Te;const Je=(Te=j==null?void 0:j.is_profile_only_user)!==null&&Te!==void 0?Te:!1;var Ae;const Me=(Ae=j==null?void 0:j.is_self)!==null&&Ae!==void 0?Ae:!1;!Je&&!Me&&!je&&!Ke&&me.push(ee)}),me},"getRestrictedSelectedTokenIndexes"),de=m(be=>["created_time","created_by","last_edited_time","last_edited_by"].includes(be.type),"isMetaColumn"),oe=m((be,Ue)=>{if(!be)return"";const me=O({record:be,colKey:"name"});if(!me)return"";let ve=(0,y.Kx)(me==null?void 0:me.toLowerCase().split(/[ :/-]/).filter(Boolean).join("-"));return ve=ve.split("-").filter(Boolean).join("-"),Ue&&!ve.startsWith(Ue)&&(ve=`${Ue}${ve}`),ve.slice(0,(0,y.zU)())},"generateChannelNameFromRecordName"),De=m((be,Ue)=>((Ue==null?void 0:Ue.editors)||[]).filter(me=>me!==be),"getListRecordChannelInitialInvitedMemberIds"),ae=m((be,Ue)=>{var me,ve;return be?Ue&&(Ue.type===g.$.MultiSelect||Ue.type===g.$.Select&&(Ue==null||(me=Ue.options)===null||me===void 0?void 0:me.format)===h.YP.MultiSelect||(Ue.type===g.$.User||Ue.type===g.$.TodoAssignee||Ue.type===g.$.Channel||Ue.type===g.$.Canvas)&&(Ue==null||(ve=Ue.options)===null||ve===void 0?void 0:ve.format)===h.hx.MultiEntity)?new Set(be.split(a.eY).filter(Boolean)):new Set([be]):new Set},"splitMultiValueField"),Z=m(be=>be==null?void 0:be.includes("/lists/"),"isListLink"),ie=m(be=>({key:be.key,operator:be.operator,values:be.values,columnId:be.columnId}),"convertListViewFilterToViewFilter"),Ce=m(be=>({operator:be.operator,columnId:be.columnId}),"convertListViewCalculationToViewCalculation"),Re=m(be=>{let{experimentTodosGroupOn:Ue,experimentUnifiedFilesExplorerGroupOn:me}=be,ve,Fe;return Ue?(ve={[P.mq.Primary]:(0,E.Wh)()},Fe=P.k6.Todos):me?(ve={[P.mq.Sidebar]:(0,E.AQ)(),[P.mq.Primary]:(0,E.Wh)()},Fe=P.k6.UnifiedFiles):(ve={[P.mq.Sidebar]:{id:o.D.MoreListsSidebar,viewType:o.D.MoreListsSidebar},[P.mq.Primary]:(0,E.Wh)()},Fe=P.k6.Lists),{viewSet:ve,tab:Fe}},"getAssignedToYouNavigationParams"),He=m((be,Ue,me)=>{const ve=be.findIndex(Te=>Te.key===Ue);let Fe;ve>-1&&(Fe=be[ve]);const Ke=Fe==null?void 0:Fe.operator,j=Fe==null?void 0:Fe.values,ee=j==null?void 0:j.includes(me);return ee&&(Ke===c.t.Equal||Ke===c.t.Contains)||!ee&&(Ke===c.t.NotEqual||Ke===c.t.DoesNotContain)},"getFiltersAllowShowingGroup")},2670882607:(W,T,e)=>{"use strict";e.d(T,{e:()=>o});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(9506008067),u=e(1545824888),i=e(2047021170);const o=t.memo(t.forwardRef((a,_)=>{let{getAnimationImport:l,className:p,minHeight:g,svgClassName:c,loadingClassName:E,errorClassName:A,description:d,loop:v=!1,autoplay:h=!1,renderLoading:f,renderError:y,preserveAspectRatio:I}=a;const C=(0,r.d4)(K=>(0,i.ty)(K,"a11y_animations")),[D,M]=(0,t.useState)(!0),[P,S]=(0,t.useState)(!1),b=(0,t.useRef)(null),O=(0,t.useRef)(null),L=(0,t.useRef)(null);L.current||(L.current=u.S.all([e.e("gantry-v2-async-lottie-web").then(e.t.bind(e,221124150,23)),l()]).then(K=>{let[N,R]=K;if(!b.current)throw new Error("Lottie animation missing container");return M(!1),O.current=N.loadAnimation({container:b.current,renderer:"svg",loop:v,autoplay:!!(C&&h),animationData:R,rendererSettings:{className:n()("p-lottie__svg",c),description:d,preserveAspectRatio:I}}),u.S.resolve(O.current)}).catch(K=>(S(!0),u.S.reject(K)))),(0,t.useEffect)(()=>()=>{L.current&&L.current.cancel(),O.current&&O.current.destroy()},[L,O]),(0,t.useImperativeHandle)(_,()=>L.current,[L]);const k=(0,t.useMemo)(()=>D&&f?f():P&&y?y():null,[f,y,D,P]);return t.createElement("div",{ref:b,style:g!==void 0?{minHeight:g}:void 0,className:n()("p-lottie",p,D&&E,P&&A)},k)}))},5460331959:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(7715417323),n=e(4978843660),r=e(166097325),u=e(6696292586),i=e(6650208157);const o=4;function a(l){let{children:p,fallbackWidth:g=void 0,onResize:c=s.A}=l;const[E,A]=(0,t.useState)({width:0,height:0}),[d,v]=(0,t.useState)(!1),h=(0,t.useRef)([]);function f(I){let{width:C}=I;if(h.current.unshift(C),h.current.length<o)return!1;h.current.length>o&&(h.current.length=o);const D=(0,n.A)(h.current,2);return D.slice(1).every(M=>(0,r.A)(M,D[0]))}m(f,"looksLikeResizeLoop");const y=(0,t.useCallback)(I=>{c(I),A(I.bounds),(0,u.A)(g)&&!d&&v(f(I.bounds))},[g,c,d]);return t.createElement(i.A,{bounds:!0,onResize:y},I=>{let{measureRef:C}=I;return p({...E,width:d&&g?g:E.width,measureRef:C})})}m(a,"Measure"),a.displayName="Measure";const _=a},9446966957:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(3134334389),s=e(2843556239),n=e(8646591923),r=e(7592430824),u=e(3262078016);const o=m(a=>{let{value:_,max:l,tick:p,jump:g,onChange:c,renderContainer:E,renderTrack:A,renderInner:d,onMouseDown:v,onMouseUp:h,"aria-label":f,"aria-valuetext":y,vertical:I,autoFocus:C}=a;const D=(0,t.useRef)(null),{embeddedUiData:M}=(0,t.useContext)(r.N),{windowRef:P}=(0,t.useContext)(s._0),S=(0,t.useCallback)(x=>{let{pageX:B,pageY:F}=x;const V=D.current;if(!V)return;const Y=V.getBoundingClientRect(),w=I?Y.y:Y.x,G=Math.max(0,(I?F:B)-w),Ee=I?Y.height:Y.width,se=(I?1-Math.min(1,G/Ee):Math.min(1,G/Ee))*l;c(se)},[l,c,I]),b=(0,t.useCallback)(x=>{S(x)},[S]),O=(0,t.useCallback)(x=>{var B,F;(B=P.deref())===null||B===void 0||B.document.removeEventListener("mousemove",b),(F=P.deref())===null||F===void 0||F.document.removeEventListener("mouseup",O),h==null||h(x)},[b,h,P]),L=(0,t.useCallback)(x=>{var B,F;x.button!==0||x.ctrlKey||(S(x),x.preventDefault(),(B=P.deref())===null||B===void 0||B.document.addEventListener("mousemove",b),(F=P.deref())===null||F===void 0||F.document.addEventListener("mouseup",O),v==null||v(x))},[b,O,S,v,P]),k=(0,t.useCallback)(x=>{switch(x.which){case n.LE:case n.i7:c(_+(p??1));break;case n.UQ:case n.n6:c(_-(p??1));break;case n.w_:c(_+(g??l*.1));break;case n.dB:c(_-(g??l*.1));break;case n.yZ:c(0);break;case n.Kp:c(l);break;default:return}x.preventDefault()},[_,l,p,g,c]);(0,t.useEffect)(()=>{var x;return D==null||(x=D.current)===null||x===void 0||x.toggleAttribute(u.EmbeddedUIAttributes.NO_DRAG_ON_MOUSE_MOVE,!!M),()=>{var B,F;(B=P.deref())===null||B===void 0||B.document.removeEventListener("mousemove",b),(F=P.deref())===null||F===void 0||F.document.removeEventListener("mouseup",O)}},[M,b,O,P]),(0,t.useEffect)(()=>{C&&D.current&&D.current.focus()},[C]);const K=`${((l>0?_/l:0)*100).toFixed(2)}%`,N=d({style:I?{height:K}:{width:K}}),R=A({children:N,tabIndex:0,role:"slider","aria-label":f,"aria-valuemin":0,"aria-valuemax":l,"aria-valuenow":Math.floor(_),"aria-valuetext":y,onKeyDown:k,ref:D});return E({children:R,onMouseDown:L})},"CustomizableSlider")},3118200703:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(3134334389),s=e(735940183),n=e(2312625946),r=e(6105929840),u=e(7592430824),i=e(1224315998);const o=new s.A("stories_av"),a={eventId:i.EventId.BK_USER_INTERACTION,interactionElement:i.InteractionElement.VIDEO,onClick:{enableClogAction:!0,interaction:i.Interaction.EXPAND}};function _(p){let{onClick:g,size:c,classPrefix:E}=p;const{embeddedUiData:A}=(0,t.useContext)(u.N),v=!!A?o.t("View full screen",{fallbackHash:"de8414755b5ff3c3e9f07661b8a127f5e5f57865",fallbackHashNs:"file"}):o.t("Expand",{fallbackHash:"5de840011e47d74fc17266744fc23d99a5f90716"});return t.createElement(n.Ay,{tip:v,position:"top"},t.createElement(r.A,{className:`${E}__controls_overlay_fullscreen`,onClick:g,"aria-label":v,backgroundStyle:"dark",size:c,autoClogProps:a,svgIconProps:{name:"expand-diagonal"}}))}m(_,"FullscreenButton"),_.displayName="FullscreenButton";const l=_},1942976385:(W,T,e)=>{"use strict";e.d(T,{A:()=>v});var t=e(3134334389),s=e(6122756707),n=e(4844578989),r=e.n(n),u=e(2664504268),i=e(735940183),o=e(2602118042),a=e(3391133100),_=e(9506008067),l=e(2047021170),p=e(387484329),g=e(5204962244),c=e(3207321841),E=e(7592430824);const A=new i.A("stories_av"),d=m(h=>{let{onSpeedChange:f,isInlinePlayer:y,onMouseEnter:I,onMouseLeave:C,className:D}=h;const M=(0,s.wA)(),[P]=(0,t.useState)({}),S=(0,_.d4)(U=>(0,l.ty)(U,"media_playback_speed")),[b,O]=(0,t.useState)(S||1),{embeddedUiData:L}=(0,t.useContext)(E.N),k=(0,g.d)(()=>`playback-speed-${(0,a.r9)()}`);(0,t.useEffect)(()=>{S&&Object.keys(P).length===0&&S!==b&&O(S)},[P,S,b]);const K=(0,t.useCallback)(U=>{const x=U.value,B=b;O(x);const F=(0,u.A)();P[F]=!0,M((0,p.AZ)({pref:"media_playback_speed",value:x})).finally(()=>{delete P[F]}),f==null||f(x,B)},[M,P,b,f]),N=(0,t.useMemo)(()=>[{label:A.t("Playback speed"),options:c.Cv.map(U=>({label:A.t("{speed}x",{speed:U,fallbackHash:"399e68d4ef7e131fd1ddd396dfb6bcf815269ef4"}),value:U}))}],[]),R=(0,t.useMemo)(()=>{var U;if(!((U=N[0])===null||U===void 0)&&U.options){for(const x of N[0].options)if(x.value===b)return x}return null},[b,N]);return t.createElement(o.A,{options:N,className:r()("p-media_controls__control--playback-speed",D,{"p-video_controls_overlay__controls__speed":y}),size:"small",minOptionsListWidth:140,selectedOption:R,onOptionSelected:K,ariaLabel:A.t("Set playback speed: currently {mediaPlaybackSpeed}\xD7",{mediaPlaybackSpeed:b}),onMouseEnter:I,onMouseLeave:C,selectId:k,preventScroll:!!L})},"MediaPlaybackSpeedControl");d.displayName="MediaPlaybackSpeedControl";const v=d},8371678613:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3134334389),s=e(9506008067),n=e(5602423845),r=e(1224315998),u=e(735940183),i=e(2047021170),o=e(1942976385),a=e(2312625946);const _=new u.A("stories_av");function l(g){let{isInlinePlayer:c,videoRef:E,sharedClogProps:A={},className:d}=g;const v=(0,n.A)(),h=(0,s.d4)(y=>(0,i.ty)(y,"media_playback_speed"));(0,t.useEffect)(()=>{var y;E==null||(y=E.current)===null||y===void 0||y.setPlaybackRate(h)},[h,E]);const f=(0,t.useCallback)((y,I)=>{v.track(r.EventId.MEDIA_PLAYER,{...A,contexts:{...A.contexts,ui_context:{ui_step:c?"embedded":"fullscreen",action:"click",ui_properties:{element_type:"button",element_name:"playback_speed"}}},from:`${I??1}x`,to:`${y??1}x`})},[v,A,c]);return t.createElement(a.Ay,{tip:_.t("Playback speed"),position:"top",delay:a.n1},t.createElement(o.A,{onSpeedChange:f,isInlinePlayer:c,className:d}))}m(l,"PlaybackSpeedButton"),l.displayName="PlaybackSpeedButton";const p=l},3242899446:(W,T,e)=>{"use strict";e.d(T,{A:()=>D});var t=e(3134334389),s=e(6122756707),n=e(9506008067),r=e(2047021170),u=e(387484329),i=e(735940183),o=e(5946832122),a=e(2036354333),_=e(1610251172),l=e(2312625946),p=e(9194155027),g=e(4844578989),c=e.n(g),E=e(3749524846),A=e(9446966957);function d(){return d=Object.assign||function(M){for(var P=1;P<arguments.length;P++){var S=arguments[P];for(var b in S)Object.prototype.hasOwnProperty.call(S,b)&&(M[b]=S[b])}return M},d.apply(this,arguments)}m(d,"_extends");const v=new i.A("stories_av");var h;(function(M){M.Normal="normal",M.Popover="popover",M.Vertical="vertical"})(h||(h={}));const f=m(M=>{let{children:P,volume:S,onChange:b,onMouseDown:O,onMouseUp:L,mode:k=h.Normal,setIsVerticalVolumeActive:K}=M;const N=(0,t.useContext)(E.A),R=(0,t.useCallback)(G=>{b(Math.round(G)/100)},[b]),U=(0,t.useCallback)(()=>{K==null||K(!0)},[K]),x=(0,t.useCallback)(()=>{K==null||K(!1)},[K]),B=Math.floor(S*100),F=(0,t.useCallback)(G=>t.createElement("div",d({className:"p-media_volume_slider__slider"},G)),[]),V=(0,t.useCallback)(G=>t.createElement("div",d({className:"p-media_volume_slider__track"},G)),[]),Y=(0,t.useCallback)(G=>t.createElement("div",d({className:"p-media_volume_slider__fill"},G)),[]),w=t.createElement(A.A,{value:B,max:100,onChange:R,renderContainer:F,renderTrack:V,renderInner:Y,onMouseDown:O,onMouseUp:L,"aria-label":v.t("Volume"),"aria-valuetext":`${B}%`,vertical:k===h.Vertical});return t.createElement("div",{className:c()("p-media_volume_slider",{"p-media_volume_slider--keyboard_focus":N,[`p-media_volume_slider--${k}`]:k}),onMouseEnter:k===h.Vertical?U:void 0,onMouseLeave:k===h.Vertical?x:void 0,onFocus:k===h.Vertical?U:void 0,onBlur:k===h.Vertical?x:void 0},t.createElement("div",{className:"p-media_volume_slider__children"},P),t.createElement("div",{className:"p-media_volume_slider__slider_container"},w))},"MediaVolumeSlider");f.displayName="MediaVolumeSlider";const y=f,I=new i.A("stories_av");function C(M){let{isInlinePlayer:P,useVerticalVolume:S,videoRef:b,className:O,backgroundStyle:L,setIsVerticalVolumeActive:k}=M;const K=(0,s.wA)(),N=(0,n.d4)(Se=>(0,r.ty)(Se,"media_muted"));var R;const U=(R=(0,n.d4)(Se=>(0,r.ty)(Se,"media_volume")))!==null&&R!==void 0?R:1,[x,B]=(0,t.useState)(U),F=(0,t.useRef)(!1);(0,t.useEffect)(()=>{var Se;b==null||(Se=b.current)===null||Se===void 0||Se.setMuted(N)},[N,b]),(0,t.useEffect)(()=>{var Se;b==null||(Se=b.current)===null||Se===void 0||Se.setVolume(x)},[b,x]);const V=(0,t.useCallback)(()=>{K((0,u.AZ)({pref:"media_muted",value:!N})),N&&B(U)},[K,N,U]),Y=(0,t.useCallback)(function(){let Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:x;Se===0?N||K((0,u.AZ)({pref:"media_muted",value:!0})):(N&&K((0,u.AZ)({pref:"media_muted",value:!1})),!F.current&&Se!==U&&K((0,u.AZ)({pref:"media_volume",value:Se})))},[K,x,N,U]),w=(0,t.useRef)(Y);w.current=Y;const G=(0,t.useCallback)(Se=>{B(Se),w.current(Se)},[]),Ee=(0,t.useCallback)(()=>{F.current=!0},[]),ne=(0,t.useCallback)(()=>{F.current=!1,w.current()},[]);(0,t.useEffect)(()=>{F.current||B(U)},[U]);const se=N?I.t("Unmute"):I.t("Mute"),ce=I.t("Mute");let pe="volume-off-alt";N||(x>=.6?pe="volume-up":x>=.3?pe="volume-medium":pe="volume-down");const ye=(0,t.useMemo)(()=>t.createElement(p.A,{title:se,mainKey:I.t("M")}),[se]);if(P){const Se=t.createElement(l.Ay,{tip:se,position:S?"bottom":"top",delay:l.n1,hideFromScreenReader:!0},t.createElement(a.A,{className:"p-video_controls_overlay__controls__button p-video_controls_overlay__controls__button--mute","aria-label":ce,"aria-pressed":N,onClick:V},t.createElement(_.A,{type:pe,size:"inherit"})));return t.createElement(y,{volume:N?0:x,onChange:G,onMouseDown:Ee,onMouseUp:ne,setIsVerticalVolumeActive:k,mode:S?h.Vertical:h.Popover},Se)}const Ie=t.createElement(l.Ay,{tip:ye,position:"top",delay:l.PK,hideFromScreenReader:!0},t.createElement(o.A,{onClick:V,"aria-label":ce,"aria-pressed":N,icon:pe,size:"medium",className:O,backgroundStyle:L||"light"}));return t.createElement(y,{volume:N?0:x,onChange:G,onMouseDown:Ee,onMouseUp:ne},Ie)}m(C,"ToggleMute"),C.displayName="ToggleMute";const D=C},4250078557:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(3134334389),s=e(735940183),n=e(1545824888),r=e(7937864072);const u="MEDIA-PLAYER";function i(p){const g=(0,r.A)(),[c,E]=(0,t.useState)(!0),[A,d]=(0,t.useState)(),[v,h]=(0,t.useState)();return(0,t.useEffect)(()=>{if(d(void 0),h(void 0),!p){E(!1);return}E(!0);let f;const y=new n.S((I,C,D)=>{const M=new XMLHttpRequest;let P=!1;M.addEventListener("load",()=>{g.info(u,"vtt loaded"),E(!1);const S=M.response;f=URL.createObjectURL(S),d(f),I(M.response),S.text().then(b=>{P||h(b)})}),M.addEventListener("error",()=>{g.warn(u,"error fetching vtt"),E(!1),C(new Error(`VTT load request failed with status ${M.status}`))}),D&&D(()=>{M.abort(),P=!0}),M.responseType="blob",M.withCredentials=!0,M.open("GET",p),M.send(),g.info(u,"fetching vtt")});return()=>{y.isPending()&&y.cancel(),f&&URL.revokeObjectURL(f)}},[g,p]),{vttLoading:c,vttSrc:A,vttText:v}}m(i,"useVtt");const o=i,a=new s.A("stories_av");function _(p){let{vtt:g,enableMediaCaptions:c}=p;const{vttSrc:E}=o(g);return!g||!E?null:t.createElement("track",{label:a.t("Captions"),kind:"captions",src:E,default:c})}m(_,"TextTrack"),_.displayName="TextTrack";const l=_},4916948857:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3134334389),s=e(8800777280);function n(){const[u,i]=(0,t.useState)(!1),o=(0,t.useRef)(),a=(0,t.useRef)(!1),_=(0,t.useRef)(!1),l=(0,t.useCallback)(()=>{clearTimeout(o.current),o.current=setTimeout(()=>{a.current||i(!1)},1300)},[]),p=(0,t.useCallback)(()=>{i(!1),_.current=!1},[]),g=(0,t.useCallback)(()=>{i(!0),_.current=!0,l()},[l]),c=(0,t.useCallback)(()=>{_.current&&(i(!0),l())},[l]),E=(0,t.useCallback)(A=>{const d=(0,s.A)(A.target,v=>(v==null?void 0:v.dataset.preventFade)==="true");a.current=d},[]);return(0,t.useEffect)(()=>()=>clearTimeout(o.current),[]),{mouseIsOverElement:u,onMouseLeave:p,onMouseEnter:g,onMouseMove:c,onMouseOver:E}}m(n,"useDetectMouseOverElement");const r=n},9758574739:(W,T,e)=>{"use strict";e.d(T,{e:()=>I});var t=e(3134334389),s=e(6122756707),n=e(4481313819),r=e(581167618),u=e(2683115972),i=e(7138682671),o=e(5375115868),a=e(8452232783),_=e(4967176632),l=e(7953077036),p=e(8739505998),g=e(1224315998),c=e(2432967967),E=e(3603672985),A=e(6259241484),d=e(3416652175),v=e.n(d);const h={elementName:"dispatch",onClick:{enableClogAction:!0}},f=(0,l.Wz)({notificationName:[l.mw]}),y={picked:"",notificationName:""},I=m(C=>{let{initialValues:D=y,validate:M=f,onCloseModal:P,megaphoneSpaceName:S,notificationList:b,channelScopedId:O}=C;const[L,k]=(0,t.useState)(""),[K,N]=(0,t.useState)(!1),[R,U]=(0,t.useState)(!1),x=(0,s.wA)(),[B,F]=(0,t.useState)(""),V=(0,t.useCallback)(G=>F(G),[]),Y=(0,t.useCallback)(()=>{if(!L){N(!0);return}let G={};if(B.length)try{G=JSON.parse(B)}catch{U(!0);return}P==null||P(),x((0,E.G0)({spaceName:S,notificationName:L,notificationData:G,channelId:O})),S===A.xu.LAUNCH_MODAL&&x((0,c.A)())},[L,B,P,x,S,O]),w=(0,t.useCallback)((G,Ee)=>{k(G),Ee("picked",G),N(!1),U(!1)},[]);return t.createElement(n.A,{eventId:g.EventId.ANALYTICS_EVENT,uiComponentName:g.UiComponentName.MEGAPHONE_DISPATCHER,megaphoneSpaceName:S,clogImpression:!0},t.createElement(_.A,{initialValues:D,validate:M,onSubmit:Y},G=>{let{isSubmitting:Ee,values:ne,setFieldValue:se}=G;return t.createElement(t.Fragment,null,t.createElement("h2",null,"\u{1F4E3} Megaphone Dispatcher"),"Click the Dispatch button below to instantly render Megaphone Notifications on the UI.",t.createElement("div",{className:v().spaceNameContainer},"Space Name",t.createElement("div",{className:v().spaceName},S)),t.createElement("div",{className:v().notificationName},"Notification Name"),t.createElement("div",{className:v().notificationList},Object.keys(b).sort().map((ce,pe)=>t.createElement(i.A,{text:ce,htmlFor:`field-radio-${pe}`,type:"inline",cursor:"pointer",key:ce},t.createElement(o.A,{id:`field-radio-${pe}`,name:"picked",value:ce,checked:ne.picked===ce,onChange:()=>w(ce,se)})))),t.createElement(i.A,{text:"Notification Data",optional:!0},t.createElement(a.A,{name:"notification_data",id:"notification_data",placeholder:'Ex: { "Field Name": "<String Value>", "Field Name": <Numeric Value> }',onChange:V,value:B,className:v().textArea})),t.createElement("div",{className:v().alert},t.createElement(r.Ay,{type:"boxed",level:"warning",icon:"warning",align:"left"},t.createElement("span",{className:v().alertText},t.createElement("b",null,"Some Megaphone notifications may not be dispatched due to various reasons, such as but not limited to:"),t.createElement("li",null," Missing notification data "),t.createElement("li",null,"The notification being part of an experiment "),"For questions or further assistance, reach out to us at"," ",t.createElement("b",null,t.createElement(p.A,{href:"https://app.slack.com/client/E12KS1G65/C0765PUTPDL",target:"_blank"},"#proj-megaphone-dispatcher")),"."))),K&&t.createElement("div",{className:v().formError},"Please select a notification."),R&&t.createElement("div",{className:v().formError},"There was an error parsing Notification Data, please try again."),t.createElement(u.Ay,{autoClogProps:h,onClick:Y,disabled:Ee},"Dispatch"))}))},"DispatcherForm");I.displayName="DispatcherForm"},4445888975:(W,T,e)=>{"use strict";e.d(T,{R:()=>o,h:()=>a});var t=e(3134334389),s=e(6122756707),n=e(2878685908),r=e(9506008067),u=e(3603672985),i=e(716227588);const o=m(()=>{const _=!(0,n.KV)()||(0,n.b3)(),l=(0,s.wA)(),p=(0,r.d4)(i.y$);return(0,t.useEffect)(()=>{const g=m(c=>{_&&c.ctrlKey&&c.shiftKey&&c.key==="M"&&l((0,u.cv)(!p))},"handleKeydown");return window.addEventListener("keydown",g),()=>{window.removeEventListener("keydown",g)}},[_,l,p]),{shouldShowDispatcherViewer:p}},"useDispatcherToggleShortcut"),a=m(function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;const[l,p]=(0,t.useState)(_),g=(0,t.useCallback)(c=>{p(c)},[]);return{isModalOpen:l,toggleModal:g}},"useModal")},5062503310:(W,T,e)=>{"use strict";e.d(T,{A:()=>t});const t={content:{top:"50%",left:"50%",right:"auto",bottom:"auto",transform:"translate(-50%, -50%)",border:0,padding:0,background:"transparent"},overlay:{backgroundColor:"rgba(208, 208, 208, 0.4)",zIndex:1e4}}},4902318931:(W,T,e)=>{"use strict";e.d(T,{$W:()=>N,sl:()=>U,Ay:()=>x});var t=e(3134334389),s=e(6122756707),n=e(4481313819),r=e(4445888975),u=e(9758574739),i=e(5062503310),o=e(6258289677),a=e(4348392507),_=e(2312625946),l=e(397939223),p=e.n(l);const g=m(B=>{let{megaphoneSpaceName:F,notificationList:V,channelScopedId:Y}=B;const{isModalOpen:w,toggleModal:G}=(0,r.h)(!1);return t.createElement("div",{className:p().container},t.createElement(_.Ay,{tip:F,position:"top",zIndex:"menu_above_fs"},t.createElement("span",{className:p().dispatcherViewerIcon,role:"button",tabIndex:0,"aria-label":"Open Viewer Modal",onClick:()=>G(!0)})),t.createElement(o.A,{isOpen:w,onRequestClose:()=>G(!1),style:i.A},t.createElement("div",{className:p().dispatcherViewerDetails},t.createElement(u.e,{megaphoneSpaceName:F,notificationList:V,onCloseModal:()=>G(!1),channelScopedId:Y}))))},"DispatcherViewer");g.displayName="DispatcherViewer";const c=(0,a.A)(g),E=m(B=>{let{children:F,megaphoneSpaceName:V,notificationList:Y,channelScopedId:w}=B;const{shouldShowDispatcherViewer:G}=(0,r.R)();return t.createElement(t.Fragment,null,G&&t.createElement("div",{className:p().dispatcherViewer},t.createElement(c,{megaphoneSpaceName:V,notificationList:Y,channelScopedId:w})),F)},"DispatcherToggle");E.displayName="DispatcherToggle";const A=(0,a.A)(E);var d=e(4003148341),v=e(8851980998),h=e(1963690015),f=e(9881565722),y=e(9506008067),I=e(4761125736),C=e(3603672985),D=e(716227588),M=e(1655938719),P=e(2938177083),S=e(7003004874),b=e(6259241484),O=e(7487228876),L=e(2567914105);const k={isInMegaphoneContainerContext:!0},K={isInMegaphoneContainerContext:!1},N=(0,t.createContext)(K),R=m(B=>{let{fetchDataOnMount:F,notifications:V,spaceName:Y,children:w,shouldAlwaysRenderChildren:G,shouldPassPropsToChildren:Ee,channelScopedId:ne,componentClassName:se,...ce}=B;var pe;const ye=(0,s.wA)(),Ie=(0,d.x)(),Se=(0,y.d4)(L.oY),le=(0,y.d4)(D.up),X=(0,y.d4)(ie=>(0,I._Z)(ie,"megaphone_coachmark_suppression")==="on"),J=(0,y.d4)(ie=>(0,I._Z)(ie,"megaphone_eligible_notifications")==="on"),{isInsideModal:z}=(0,f.k)(),te=(0,y.d4)(ie=>(0,D.Hp)(ie,Y,ne)),$=(0,y.d4)(ie=>(0,D.OL)(ie,Y,ne)),q=(0,t.useMemo)(()=>{if(!J)return;const{eligibleNotifications:ie}=$;if(ie!=null&&ie.length)return ie},[J,$]),re=(0,t.useCallback)(()=>{ye((0,S.A)({notificationName:te,action:b.hw.IMPRESSION}))},[ye,te]),de=(0,t.useCallback)(()=>{ye((0,P.Ay)({spaceName:Y,action:b.hw.DISMISS}))},[ye,Y]),oe=(0,t.useCallback)(()=>{ye((0,M.iR)({event:{type:b.jo.REQUEST_SPACES,spaces:[Y]}}))},[ye,Y]),De=m(()=>G?Ee&&t.isValidElement(w)?t.cloneElement(w,{...ce}):t.createElement(A,{channelScopedId:ne,megaphoneSpaceName:Y,notificationList:V},w):t.createElement(A,{channelScopedId:ne,megaphoneSpaceName:Y,notificationList:V},null),"maybeRenderChildren");De.displayName="maybeRenderChildren",(0,t.useEffect)(()=>{Y&&F&&oe()},[F,Y,oe]);const ae=V==null||(pe=V[te])===null||pe===void 0?void 0:pe.component,Z=X&&ae&&!z&&Se&&Y===b.xu.IN_PRODUCT_COACHMARK;if(Z&&!le){ye((0,C.co)(!0));const ie=Ie.createMetricsTrace({label:"megaphone",samplingOptions:{sampleType:v.tS.SESSION,sampleRate:.1}}),Ce=ie.count({name:"megaphone_coachmark_suppress"});Ce.addTags({notification:te}),Ce.close(),Ie.reportTrace(ie)}return!Y||!te||X&&Y===b.xu.IN_PRODUCT_COACHMARK&&le||Z?De():ae?t.createElement(n.A,{megaphoneSpaceName:Y,megaphoneNotificationName:te,megaphoneEligibleNotifications:q},t.createElement(N.Provider,{value:k},t.createElement(A,{megaphoneSpaceName:Y,notificationList:V,channelScopedId:ne},null),t.createElement(t.Suspense,{fallback:null},t.createElement(ae,{...$,recordNotificationEventImpression:re,dismissAndClearNotification:de,notificationName:te,className:se,channelScopedId:ne,...ce},w)))):(V||(0,O.h)({spaceName:Y,notificationName:te}),De())},"MegaphoneContainer");R.displayName="MegaphoneContainer";const U=(0,h.Ay)(R),x=R},3656161791:(W,T,e)=>{"use strict";e.d(T,{C:()=>t});const t={showStrangerProfile:!1,hideRestriction:!0,maybeShowPresenceIndicator:!1,maybeShowTitle:!1,maybeShowVerifiedFooter:!0,maybeShowEmailField:{showLabel:!1,showValue:!0},showFullProfileLink:!1,showOrganizationField:{showLabel:!0,showValue:!0},showProfilePicture:!0,showMemberProfileFields:!1,showMemberProfileButtons:!1}},8170244779:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(3134334389);const s=t.createContext({});s.displayName="MessageContext";const n=s},6658490498:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(3534324375),s=e(8677230210);function n(r){let{userId:u,botId:i,username:o,botProfile:a}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{member:_,bot:l}=(0,s.Od)(r,{userId:u,botId:i,botProfile:a});return _?(0,t.sE)(r,_):i&&o?o:l?l.name||"":!i&&!l&&o?o:""}m(n,"getMessageSenderNameFromState")},8950789382:(W,T,e)=>{"use strict";e.d(T,{s:()=>d});var t=e(6304789565),s=e(352142497),n=e(82287009),r=e(8999545852),u=e(3193155968),i=e(9938554271),o=e(3110884894),a=e(6514066170),_=e(755982243),l=e(337319621),p=e(485355941),g=e(6695353875),c=e(9932860381),E=e(7176966205),A=e(9629572172);const d=(0,t.Ay)("Opens a view in a new child window",async(v,h,f,y)=>{let{viewId:I,params:C,clogParams:D}=f;if(!(0,p.M2)())return;const M=h(),{isMainWindow:P}=y(A.U);if((0,g.yZ)(M)&&P&&(0,c.Xy)(I)){v((0,E.$)({viewId:I,params:C}));return}let S=!1;if((0,a.A)(M,I)){let b,O={[u.mq.Primary]:{id:I,params:C,viewType:(0,i.A)(I)}};O=v((0,r.VO)({viewSet:O,windowId:u.N2}));const L=(0,_.w)(I),k=L;if(I==="thread"&&(C!=null&&C.threadId)){const K=(0,o.Sb)(C==null?void 0:C.threadId).channelId;S=!0,O={[u.mq.Primary]:{id:K||(C==null?void 0:C.entityId),params:void 0,viewType:s.D.Channel},[u.mq.Secondary]:{id:I,params:C,viewType:s.D.Thread}},b=u.mq.Secondary}I==="channel_canvas"&&(O={[u.mq.Primary]:{id:C==null?void 0:C.channelId,params:void 0,viewType:s.D.Channel},[u.mq.Secondary]:{id:"channel_canvas",params:C,viewType:s.D.ChannelCanvas}}),v((0,n.Bb)({viewSet:O,shouldNavigateInContext:L,shouldShowSearch:k,...b&&{containerOrigin:b},clogParams:D??{uiComponentName:origin,entryPoint:"cmd_click"},forceSingleColumnMode:S}))}else(0,l.Ay)({getState:h}).action("CHILD-WINDOWS","skipped opening a Conversation View because the ID is not supported:",I)});d.meta={name:"createThunk",key:"createThunkmaybeOpenInWindow",description:"Opens a view in a new child window"}},3652828077:(W,T,e)=>{"use strict";e.d(T,{O:()=>_});var t=e(3134334389),s=e(2844658640),n=e.n(s),r=e(2843556239),u=e(2233780559);function i(){return i=Object.assign||function(l){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var c in g)Object.prototype.hasOwnProperty.call(g,c)&&(l[c]=g[c])}return l},i.apply(this,arguments)}m(i,"_extends");const o=(0,u.eF)(u.vt.REACT_VIRTUALIZED,l=>n()(l));function a(l){let{refToForward:p,...g}=l;const{windowRef:c}=(0,t.useContext)(r._0),E=o(c.deref()).List;return t.createElement(E,i({ref:p},g))}m(a,"PortableReactVirtualizedList"),a.displayName="PortableReactVirtualizedList";const _=t.forwardRef((l,p)=>t.createElement(a,i({refToForward:p},l)))},7439773700:(W,T,e)=>{"use strict";e.d(T,{C_:()=>l,MH:()=>g,Zj:()=>E,ik:()=>A,kh:()=>i,tl:()=>_,tw:()=>p,vu:()=>c,xu:()=>d});var t=e(3564619745),s=e(7729538251),n=e(735940183);const r=new n.A("prefs"),u=m(function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,s.JK)();return t.nW[v]},"getLocaleSpecificDefaults"),i=m(function(){let v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:(0,s.JK)();return{default:!0,fontFamily:u(v),label:t.qH,value:"lato"}},"getDefaultFontOption"),o=m(()=>{const v=r.t("{font} (Default)",{font:"Lato"}),h=r.t("{font} (System)",{font:t.qL}),f=t.qL?{label:h,value:"system-font",fontFamily:t.fd}:void 0,y=[{...i(),label:v},t.xw,t.ew,t.Ig,t.k7,t.zZ,t.Z2,t.qS];return f?y.concat([f]):y},"getSupportedFontOptions"),a={default:!1,label:"Custom Font",value:"custom-font"},_=m(v=>{let{includeCustomFont:h}=v;const f=o();return h?f.concat([a]):f},"getAllFontOptions"),l=m(v=>{let{customFont:h,locale:f}=v;const y=f||(0,s.JK)(),I=u(y);return{...a,fontFamily:`${h} , ${I}`}},"getCustomFontOption"),p=m(v=>v.slice().sort((h,f)=>{var y,I;return((y=h==null?void 0:h.label)!==null&&y!==void 0?y:"")<((I=f==null?void 0:f.label)!==null&&I!==void 0?I:"")?-1:1}),"sortFonts"),g=m(v=>Object.values(t.xo).some(h=>h.includes(v.toLowerCase())),"isSupportedFont"),c=m(v=>v.default===!0,"isDefaultFont"),E=m(v=>Object.keys(t.xo).find(h=>t.xo[h].includes(v.toLowerCase())),"getSupportedFontValue"),A=m(v=>{let{fontValue:h,includeCustomFont:f}=v;var y;return(y=_({includeCustomFont:f}).find(I=>I.value===h))!==null&&y!==void 0?y:void 0},"getFontOptionForFontValue"),d=m(v=>!t.hb.includes(v),"isCustomTypefaceSupportedLocale")},4116177835:(W,T,e)=>{"use strict";e.d(T,{A:()=>Y});var t=e(3134334389),s=e(3297051565),n=e.n(s),r=e(9391594207),u=e(3514831633),i=e(9506008067),o=e(4980558152),a=e(2891736215),_=e(5795074931),l=e(613926746),p=e(1002129445),g=e(9236644324),c=e(2409900369),E=e(3170230049),A=e(1224315998),d=e(5644445851),v=e(6122756707),h=e(8276911661),f=e(6916052175),y=e(9456841042),I=e(6952523491),C=e(2762206868),D=e(4413566926),M=e(8677230210),P;(function(w){w.GO_TO_APP="go_to_app",w.VIEW_DIRECTORY="view_directory",w.COPY_APP_NAME="copy_app_name",w.COPY_APP_LINK="copy_app_link",w.REMOVE_FROM_CHANNEL="remove_from_channel",w.VIEW_PROFILE="view_profile"})(P||(P={}));const S=new D.Ay("menu"),b=m(w=>{var G;const{memberId:Ee,serviceId:ne,homeWorkspaceId:se,children:ce,appId:pe,includeRemoveFromChannelAction:ye,channelId:Ie}=w,Se=(0,i.d4)(I.J),le=(0,i.d4)(j=>(0,M.AF)(j,ne)),X=(0,i.d4)(j=>(0,h.nv)(j,Ee)),J=(0,f.uG)(X),z=le?le.app_id:void 0,te=(0,i.d4)(j=>Se?(0,C.sO)(j,{appId:pe||z,memberId:Ee,serviceId:ne}):(0,a.G2)(j,{appId:pe||z,serviceId:ne,homeWorkspaceId:se,memberId:Ee})),$=Ee||(te==null||(G=te.app_user)===null||G===void 0?void 0:G.id),q=(0,v.wA)(),re=(0,p.fj)(te),de=(0,i.d4)(j=>(0,p.vu)(j,te)),oe=(0,i.d4)(j=>(0,p.FN)(j,te)),De=(0,i.d4)(j=>(0,p.i1)(j,te)),ae=de&&oe||De,Z=(0,i.d4)(j=>(0,p.iV)(j,te)),ie=(0,i.d4)(_.TZ),Ce=(0,i.d4)(E.e),Re=(0,t.useCallback)(j=>{Ce.track(A.EventId.CONTEXT_MENU_ACTION,{label:j,is_iap1:!0})},[Ce]),He=(0,t.useCallback)(()=>{Re(P.VIEW_DIRECTORY)},[Re]),be=(0,t.useCallback)(()=>{Re(P.GO_TO_APP),(0,l.Z)({memberId:$})},[Re,$]),Ue=(0,t.useCallback)(()=>{Re(P.COPY_APP_NAME),(0,g.x3)(re)},[Re,re]),me=(0,t.useCallback)(()=>{Re(P.COPY_APP_LINK),(0,g.x3)(ae)},[Re,ae]),ve=(0,t.useCallback)(()=>{Re(P.REMOVE_FROM_CHANNEL),Ie&&q((0,d.A)({memberId:Ee,channelId:Ie}))},[Ie,Re,q,Ee]),Fe=(0,t.useCallback)(()=>{Re(P.VIEW_PROFILE),q((0,y.b)({memberId:Ee}))},[Re,q,Ee]),Ke=(0,t.useCallback)(()=>{const j=[];return ae&&!J&&(j.push({label:S.t("View in Slack Marketplace"),href:ae,click:He,dataQa:"bot_context_menu_app_directory"}),j.push({type:"separator"})),$&&Z&&!J&&(j.push({label:S.t("Go to app"),click:be}),j.push({type:"separator"})),J&&j.push({label:S.t("View profile"),click:Fe}),j.push({label:S.t("Copy name"),click:Ue}),ae&&!J&&j.push({label:S.t("Copy link"),click:me}),ye&&Ie&&(j.push({type:"separator"}),j.push({label:S.t("Remove from channel"),click:ve,danger:!0})),j},[ae,J,$,Z,Ue,ye,Ie,He,be,Fe,me,ve]);return!ie||!ne?(0,c.A)(ce):t.createElement(o.A,{getTemplate:Ke,overrideDefaultMenu:!0,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0},ce)},"BotContextMenu");b.displayName="BotContextMenu";const O=b;var L=e(306565116),k=e(8847766420),K=e(3244118357),N=e(82287009);function R(){return R=Object.assign||function(w){for(var G=1;G<arguments.length;G++){var Ee=arguments[G];for(var ne in Ee)Object.prototype.hasOwnProperty.call(Ee,ne)&&(w[ne]=Ee[ne])}return w},R.apply(this,arguments)}m(R,"_extends");const U={children:n().oneOfType([n().element.isRequired,n().func.isRequired]).isRequired,menuProps:n().object,serviceId:n().string,memberId:n().string,homeWorkspaceId:n().string,memberIsHuman:n().bool,includeRemoveFromChannelAction:n().bool,profileCardProps:n().object,appId:n().string,channelId:n().string},x={serviceId:void 0,memberId:void 0,homeWorkspaceId:void 0,menuProps:void 0,memberIsHuman:!1,includeRemoveFromChannelAction:!1,profileCardProps:void 0,appId:void 0,channelId:void 0};let B=m(class extends t.Component{render(){const{serviceId:G,memberId:Ee,homeWorkspaceId:ne,memberIsHuman:se,appId:ce,channelId:pe,includeRemoveFromChannelAction:ye}=this.props;return Ee&&se?t.createElement(L.A,{id:Ee},Ie=>this.renderTrigger(Ie)):G&&!se?t.createElement(O,{appId:ce,serviceId:G,memberId:Ee,homeWorkspaceId:ne,channelId:pe,includeRemoveFromChannelAction:ye},Ie=>this.renderTrigger(Ie)):this.renderTrigger()}constructor(...G){var Ee;super(...G),Ee=this,this.renderProfileCard=ne=>{const{serviceId:se,memberId:ce,homeWorkspaceId:pe,memberIsHuman:ye,includeRemoveFromChannelAction:Ie,appId:Se}=this.props;return(0,N.E9)({menuProps:ne,serviceId:se,memberId:ce,homeWorkspaceId:pe,memberIsHuman:ye,includeRemoveFromChannelAction:Ie,appId:Se})},this.renderTrigger=function(){let ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{children:se,serviceId:ce,memberId:pe,homeWorkspaceId:ye,memberIsHuman:Ie,includeRemoveFromChannelAction:Se,...le}=Ee.props;return t.createElement(u.cQ,R({renderMenu:Ee.renderProfileCard,position:"right-bottom",allowanceY:24,offsetX:8},le),X=>(0,c.A)(se,X,ne))}}},"ProfileCardTrigger");B.displayName="ProfileCardTrigger",B.propTypes=U,B.defaultProps=x;const F=m((w,G)=>{const{userId:Ee,botId:ne,botProfile:se,serviceId:ce}=G,{member:pe,bot:ye,memberIsHuman:Ie}=(0,M.Od)(w,{userId:Ee,botId:ne||ce,botProfile:se});let Se=null;if(!Ie||ce){const X=(0,k.ZT)(w);Se=(0,K.AW)({member:pe,bot:ye,botProfile:se,currentTeamId:X})}var le;return{serviceId:ye&&ye.id||ce,memberId:pe&&pe.id,homeWorkspaceId:Se,memberIsHuman:Ie,appId:(le=G.appId)!==null&&le!==void 0?le:ye==null?void 0:ye.app_id}},"mapStateToProps"),Y=(0,r.N)(F)(B)},5513050121:(W,T,e)=>{"use strict";e.d(T,{$R:()=>x,EA:()=>C,IB:()=>b,J7:()=>w,KQ:()=>I,KW:()=>D,LF:()=>y,L_:()=>O,NS:()=>L,NV:()=>c,OP:()=>V,S1:()=>M,WA:()=>S,Ym:()=>B,_f:()=>F,_p:()=>N,a6:()=>f,b1:()=>K,b7:()=>E,cw:()=>U,ew:()=>h,g5:()=>R,hk:()=>P,m4:()=>k,sD:()=>v,tw:()=>d,us:()=>Y,v8:()=>p,yU:()=>A,zL:()=>g});var t=e(9087248458),s=e(352142497),n=e(7193040700),r=e(735940183),u=e(304127728),i=e(8720400207),o=e(8538260492),a=e(832411022),_=e(3193155968);const l=new r.A("search");var p;(function(G){G.SHARED_WITH_ME="sharedWithMe",G.OWNED_BY_ME="ownedByMe",G.CREATED_BY_ME="createdByMe",G.REPOS="repos",G.PULL_REQUESTS_TYPE="pullRequestsType"})(p||(p={}));var g;(function(G){G.BOX="A015275FGF4",G.GOOGLE_DRIVE="A014ZSD2F7D",G.GITHUB_CLOUD="A014L1PHXAP",G.GITHUB_ENTERPRISE_SERVER="A014MFY3L59",G.MICROSOFT="A016XM37HK4",G.ZENDESK="A0158BZSJ59",G.ASANA="A014WCA5EUS",G.JIRA_CLOUD="A014FRYEXUK"})(g||(g={}));var c;(function(G){G.BOX="A05QNBAB4UA",G.GOOGLE_DRIVE="A05PUR1R7NH",G.GITHUB_CLOUD="A050QFW22F5",G.GITHUB_ENTERPRISE_SERVER="A0516LWJMFE",G.MICROSOFT="A07RM2PHB2Q",G.ZENDESK="A0660D0LBV3",G.ASANA="A05KUFPF86S",G.JIRA_CLOUD="A04T6GE3LEB"})(c||(c={}));const E=m(()=>({[a.Dx.all]:l.t("Any account type"),[a.Dx.owners]:l.t("Owners"),[a.Dx.admins]:l.t("Admins"),[a.Dx.full]:l.t("Regular members"),[a.Dx.guests]:l.t("Guests"),[a.Dx.deactivated]:l.t("Deactivated"),[a.Dx.profile_only]:l.t("Not on Slack"),[o.Qg.WORKSPACE_OWNERS]:l.t("Workspace owners"),[o.Qg.WORKSPACE_ADMINS]:l.t("Workspace admins"),[o.Qg.ORG_OWNERS]:l.t("Org owners"),[o.Qg.ORG_ADMINS]:l.t("Org admins")}),"getAccountTypeLabels"),A=m(function(){let{showEnterpriseOptions:G=!1,orgDisplayName:Ee=""}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ne=E(),se=[{label:ne[a.Dx.all],value:a.Dx.all},{label:G?ne[o.Qg.WORKSPACE_OWNERS]:ne[a.Dx.owners],value:G?o.Qg.WORKSPACE_OWNERS:a.Dx.owners},{label:G?ne[o.Qg.WORKSPACE_ADMINS]:ne[a.Dx.admins],value:G?o.Qg.WORKSPACE_ADMINS:a.Dx.admins},{label:ne[a.Dx.full],value:a.Dx.full},{label:ne[a.Dx.guests],value:a.Dx.guests},{label:ne[a.Dx.deactivated],value:a.Dx.deactivated},{label:ne[a.Dx.profile_only],value:a.Dx.profile_only}];return G&&se.push({label:Ee,value:"",options:[{label:ne[o.Qg.ORG_OWNERS],value:o.Qg.ORG_OWNERS},{label:ne[o.Qg.ORG_ADMINS],value:o.Qg.ORG_ADMINS}]}),se},"getAccountTypeSelectOptions"),d=m(()=>({[a.xV.all]:l.t("Any channel type"),[a.xV.public]:l.t("Public"),[a.xV.private]:l.t("Private"),[a.xV.archived]:l.t("Archived"),[a.xV.shared]:l.t("External",{ns:"member_profile"})}),"getChannelTypeLabels"),v=m(function(){let{shouldDisablePrivateChannelOption:G=!1,shouldDisableExternalChannelOption:Ee=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ne=d(),se=[];return se.push({label:ne[a.xV.all],value:a.xV.all},{label:ne[a.xV.public],value:a.xV.public},{label:ne[a.xV.private],value:a.xV.private,isDisabled:G},{label:ne[a.xV.archived],value:a.xV.archived},{label:ne[a.xV.shared],value:a.xV.shared,isDisabled:Ee}),se},"getChannelTypeSelectOptions"),h=m(function(){let{recordTypeOptionsList:G=[],experimentRecordChannelFiltersGroupOn:Ee=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ne=[];ne.push({label:Ee?l.t("All channels"):"",value:a.Ny.all}),ne.push({label:Ee?l.t("Linked channels only"):"",value:a.Ny.any_salesforce});for(let se=0;se<G.length;se++)ne.push({label:G[se].id,value:G[se].id});return ne},"getRecordTypeSelectOptions"),f=m(function(){let{shouldDisableOtherChannelsOption:G=!1,experimentChannelFiltersCopyChangeI18NGroupOn:Ee=!1,experimentChannelBrowserRecentlyLeftFilterGroupOn:ne=!1,experimentChannelBrowserRecentlyJoinedFilterGroupOn:se=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ce=[{label:l.t("All channels"),value:a.FP.all_channels},{label:Ee?l.t("Channels you\u2019ve joined"):l.t("My channels"),value:a.FP.my_channels},{label:l.t("Other channels",{ns:"slack_connect_hub_next"}),value:a.FP.other_channels,isDisabled:G}];return ne&&ce.push({label:l.t("Recently Left Channels"),value:a.FP.recently_left_channels}),se&&ce.push({label:l.t("Recently Joined Channels"),value:a.FP.recently_joined_channels}),ce},"getAllChannelsSelectOptions"),y=m(function(){let{experimentUnifiedSearchI18NGroupOn:G=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{[a.K_.all_pull_requests]:G?l.t("All pull requests"):"All pull requests",[a.K_.my_pull_requests]:G?l.t("Your pull requests"):"Your pull requests",[a.K_.assigned_to_me]:G?l.t("Everything assigned to you"):"Everything assigned to you",[a.K_.mentions_me]:G?l.t("Everything mentioning you"):"Everything mentioning you"}},"getPullRequestsLabels"),I=m(function(){let{experimentUnifiedSearchI18NGroupOn:G=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return[{label:G?l.t("All pull requests"):"All pull requests",value:a.K_.all_pull_requests},{label:G?l.t("Your pull requests"):"Your pull requests",value:a.K_.my_pull_requests},{label:G?l.t("Everything assigned to you"):"Everything assigned to you",value:a.K_.assigned_to_me},{label:G?l.t("Everything mentioning you"):"Everything mentioning you",value:a.K_.mentions_me}]},"getPullRequestsOptions"),C=m(G=>{let{subFilters:Ee}=G;return Ee==null?void 0:Ee.map(se=>({label:se.display_name,value:se.name,type:se==null?void 0:se.filter_type,isDefault:(se==null?void 0:se.default)||!1}))},"getDropdownFilterOptions"),D=m(G=>{let{subFilters:Ee}=G;const ne=Ee.find(se=>se&&(se==null?void 0:se.default));return{label:(ne==null?void 0:ne.display_name)||"",value:(ne==null?void 0:ne.name)||"",type:ne==null?void 0:ne.filter_type,isDefault:(ne==null?void 0:ne.default)||!1}},"getDropdownFilterDefaultOption"),M=m(()=>({[a.$Z.ALL]:l.t("Any file type"),[a.$Z.POSTS]:l.t("Posts",{fallbackHash:"a0ca0c3198947ded7419101f3e83d48a9cb41f2a",fallbackHashNs:"files"}),[a.$Z.SNIPPETS]:l.t("Snippets",{fallbackHash:"ae05fb5b1e39e29b396e03c2efe053196e3b9456",fallbackHashNs:"files"}),[a.$Z.EMAILS]:l.t("Emails",{fallbackHash:"473558393914486d8e60b9968e5443e40be433e0",fallbackHashNs:"files"}),[a.$Z.IMAGES]:l.t("Images",{fallbackHash:"09e871c98fef3b901a775def173e4126aaf73b42",fallbackHashNs:"files"}),[a.$Z.AUDIO]:l.t("Audio",{fallbackHash:"acdac205f5e24cb75113c4b281a2c13f08b75159",fallbackHashNs:"files"}),[a.$Z.VIDEOS]:l.t("Videos",{fallbackHash:"56b71e89fb1079caaadefd0889e9a22e8b0560e3",fallbackHashNs:"files"}),[a.$Z.PDFS]:l.t("PDFs",{fallbackHash:"8c85c119d1cd8e0acfc82505e49fce77f2339f5f",fallbackHashNs:"files"}),[a.$Z.SPREADSHEETS]:l.t("Spreadsheets",{fallbackHash:"e8a0fe95bcd9c07d210920e52baa1560871c11ad",fallbackHashNs:"files"}),[a.$Z.PRESENTATIONS]:l.t("Presentations",{fallbackHash:"25c4116b66b152694c7300d8d3f73ff01eb60a35",fallbackHashNs:"files"}),[a.$Z.DOCUMENTS]:l.t("Documents",{fallbackHash:"687c82861c956e47456186f6522cfc8dbadb8ef6",fallbackHashNs:"files"}),[a.$Z.CANVASES]:l.t("Canvases & Posts",{fallbackHash:"bed57030ff198b7ddbfea8aa7cca4ed3eea40d86",fallbackHashNs:"files"}),[a.$Z.LISTS]:l.t("Lists"),[a.$Z.QUIP]:l.t(""),[a.$Z.CANVAS_TEMPLATE]:l.t("Canvas templates",{fallbackHash:"98cc6bfe44a2e1e23c7b12db56b5e93706f00655",fallbackHashNs:"files"})}),"getFileTypeLabels"),P=m(G=>{let{hasCanvasAccess:Ee,isListsEnabled:ne,fileTypes:se}=G;const ce=M(),pe=m(()=>Ee?{label:ce[a.$Z.CANVASES],value:a.$Z.CANVASES}:{label:ce[a.$Z.POSTS],value:a.$Z.POSTS},"getPostsOrCanvasesOption"),ye=[];return ye.push(pe(),{label:ce[a.$Z.DOCUMENTS],value:a.$Z.DOCUMENTS},{label:ce[a.$Z.EMAILS],value:a.$Z.EMAILS},{label:ce[a.$Z.IMAGES],value:a.$Z.IMAGES},{label:ce[a.$Z.PDFS],value:a.$Z.PDFS},{label:ce[a.$Z.PRESENTATIONS],value:a.$Z.PRESENTATIONS},{label:ce[a.$Z.SNIPPETS],value:a.$Z.SNIPPETS},{label:ce[a.$Z.SPREADSHEETS],value:a.$Z.SPREADSHEETS},{label:ce[a.$Z.AUDIO],value:a.$Z.AUDIO},{label:ce[a.$Z.VIDEOS],value:a.$Z.VIDEOS}),ne&&ye.unshift({label:ce[a.$Z.LISTS],value:a.$Z.LISTS}),se.length&&se.length>1&&ye.push({label:l.t("Clear all"),value:n.yk}),ye},"getFileTypeSelectOptions"),S=m(()=>{const G=M(),Ee=[];return Ee.push({name:G[a.$Z.DOCUMENTS],value:a.$Z.DOCUMENTS},{name:G[a.$Z.SPREADSHEETS],value:a.$Z.SPREADSHEETS},{name:G[a.$Z.PRESENTATIONS],value:a.$Z.PRESENTATIONS},{name:G[a.$Z.IMAGES],value:a.$Z.IMAGES},{name:G[a.$Z.PDFS],value:a.$Z.PDFS},{name:G[a.$Z.VIDEOS],value:a.$Z.VIDEOS}),Ee},"getExternalFileTypeOptions"),b=m(G=>{let{fileTypes:Ee}=G;const ne=M(),se=[];return se.push({label:ne[a.$Z.DOCUMENTS],value:a.$Z.DOCUMENTS},{label:ne[a.$Z.SPREADSHEETS],value:a.$Z.SPREADSHEETS},{label:ne[a.$Z.PRESENTATIONS],value:a.$Z.PRESENTATIONS},{label:ne[a.$Z.IMAGES],value:a.$Z.IMAGES},{label:ne[a.$Z.PDFS],value:a.$Z.PDFS},{label:ne[a.$Z.VIDEOS],value:a.$Z.VIDEOS}),Ee.length&&Ee.length>1&&se.push({label:l.t("Clear all"),value:n.yk}),se},"getExternalFileTypeSelectOptions"),O=m(function(){let G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return{[a.hv.FROM]:l.t("From"),[a.hv.IN]:l.t("In"),[a.hv.DATE]:l.t("Date"),[a.hv.FILE_TYPE]:l.t("File type"),[a.hv.CHANNEL_TYPE]:l.t("Channel type"),[a.hv.ACCOUNT_TYPE]:l.t("Account type"),[a.hv.ORG]:l.t("Organizations"),[a.hv.WORKSPACE]:l.t("Workspaces"),[a.hv.ONLY_MY_CHANNELS]:l.t("Only include channels I\u2019m in"),[a.hv.EXCLUDE_BOTS]:l.t("Exclude apps, bots, and workflows"),[a.hv.HIDE_MY_CHANNELS]:l.t("Exclude channels I\u2019m in"),[a.hv.HIDE_DEACTIVATED_USERS]:l.t("Exclude deactivated accounts"),[a.hv.HAS_FILE]:l.t("Has file"),[a.hv.HAS_LINK]:l.t("Has link"),[a.hv.HAS_ACTION]:l.t("Has action"),[a.hv.HAS_PIN]:l.t("Has pin"),[a.hv.IS_SAVED]:l.t("Is saved"),[a.hv.REACTION]:G?l.t("Reaction"):l.t("Reaction filter"),[a.hv.WITH]:l.t("With"),[a.hv.ALL_FILES]:l.t("All files"),[a.hv.ALL_CHANNELS]:l.t("All channels"),[a.hv.CREATOR]:l.t("Created by"),[a.hv.LOCATION]:l.t("Location"),[a.hv.DEPARTMENT]:l.t("Department"),[a.hv.TITLE]:l.t("Title"),[a.hv.DIVISION]:l.t("Division"),[a.hv.CELEBRATION]:l.t("Celebration",{fallbackHash:"b09768b17521ec1c8eff268544192ccc055706e7",fallbackHashNs:"advanced-search"}),[a.hv.SALESFORCE_RECORD_TYPE]:l.t("Records")}},"getFilterAriaLabels"),L=m(()=>({[a.hv.FROM]:l.t("Search people"),[a.hv.IN]:l.t("Search conversations"),[a.hv.ORG]:l.t("Search organizations"),[a.hv.WORKSPACE]:l.t("Search workspaces"),[a.hv.WITH]:l.t("Search people"),[a.hv.SALESFORCE_RECORD_TYPE]:l.t("Search records")}),"getFilterInputAriaLabels"),k=m(G=>`${G}-label`,"getTriggerLabelId"),K=m(G=>{let{filter:Ee,isOpen:ne,isActive:se,isToggle:ce}=G;const pe={};return pe["aria-labelledby"]=se&&!ce?`${k(Ee)} ${Ee}`:void 0,ce&&(pe["aria-pressed"]=se.toString()),ce||(pe["aria-expanded"]=ne),pe},"getAriaPropsForTrigger"),N=m((G,Ee)=>{let{experimentCreatorModifierSearchGroupOn:ne=!1,experimentPeopleFilterExtensionGroupOn:se=!1,unifiedSearchEnabled:ce=!1,experimentUnifiedFilesExplorerGroupOn:pe=!1,teamHasDepartment:ye=!1,teamHasDivision:Ie=!1,isRecordTypeFilterActive:Se=!1,isRecordChannelFilterActive:le=!1,isSalesforceOrgIdFilterActive:X=!1,showSourceFilter:J=!1,showEnterpriseOptions:z=!1,externalFiltersForApp:te=[]}=Ee,$=[];Se?$=[a.hv.ALL_CHANNELS,a.hv.CHANNEL_TYPE,a.hv.RECORD_TYPE]:le?$=[a.hv.ALL_CHANNELS,a.hv.CHANNEL_TYPE,a.hv.ONLY_RECORD_CHANNELS]:$=[a.hv.ALL_CHANNELS,a.hv.CHANNEL_TYPE,a.hv.WORKSPACE,a.hv.ORG];const q={mixedResults:ce?[a.hv.FROM,a.hv.IN,a.hv.ONLY_MY_CHANNELS,a.hv.DATE,a.hv.EXCLUDE_BOTS]:[a.hv.FROM,a.hv.IN,a.hv.ONLY_MY_CHANNELS,a.hv.DATE],messages:[a.hv.FROM,a.hv.IN,a.hv.ONLY_MY_CHANNELS,a.hv.EXCLUDE_BOTS],files:pe?[a.hv.FROM,a.hv.IN,a.hv.FILE_TYPE,a.hv.DATE,a.hv.ONLY_MY_CHANNELS]:[a.hv.FROM,a.hv.IN,a.hv.FILE_TYPE,a.hv.DATE],"external-workspace-channels":[a.hv.ALL_CHANNELS],channels:$,external_workspace_people:[a.hv.ORG],people:se?[a.hv.TITLE,a.hv.LOCATION,a.hv.WORKSPACE,a.hv.DEPARTMENT]:[a.hv.ACCOUNT_TYPE,a.hv.WORKSPACE,a.hv.ORG],canvases:ne?[a.hv.CREATOR,a.hv.FROM,a.hv.IN,a.hv.DATE]:[a.hv.FROM,a.hv.IN,a.hv.DATE],user_groups:[a.hv.WORKSPACE,a.hv.HIDE_DEACTIVATED_USERS],triggers:[],lists:[a.hv.CREATOR,a.hv.FROM,a.hv.IN,a.hv.DATE],listRecords:[a.hv.CREATOR,a.hv.FROM,a.hv.IN,a.hv.DATE],salesforce:X?[a.hv.SALESFORCE_CREATED_BY_ME,a.hv.SALESFORCE_RECORD_TYPE,a.hv.SALESFORCE_ORG_ID]:[a.hv.SALESFORCE_CREATED_BY_ME,a.hv.SALESFORCE_RECORD_TYPE]};var re;const de=(re=q[G])!==null&&re!==void 0?re:[];(0,i.Kz)(G)&&te&&de.push(...te),J&&de.unshift(a.hv.SOURCES);var oe;const De=(oe=x(G,{experimentCreatorModifierSearchGroupOn:ne,experimentPeopleFilterExtensionGroupOn:se,unifiedSearchEnabled:ce,teamHasDepartment:ye,teamHasDivision:Ie,isRecordTypeFilterActive:Se,isRecordChannelFilterActive:le,isSalesforceOrgIdFilterActive:X,showEnterpriseOptions:z,showSourceFilter:J,externalFiltersForApp:te}))!==null&&oe!==void 0?oe:[];return(0,t.A)(de,De)},"getVisibleSearchFilters"),R=[s.D.BrowseApps,s.D.BrowseShortcuts,s.D.BrowseCanvases,s.D.BrowseChannels,s.D.BrowseFiles,s.D.BrowseLists,s.D.BrowsePeople,s.D.BrowseUserGroups,s.D.OrgDirectory,s.D.RecentFiles,s.D.FilesCreatedByYou,s.D.FilesSharedWithYou,s.D.ExternalOrganizations,s.D.SlackConnectInvitations,s.D.RecentPlatform,s.D.SlackConnect,s.D.RecentCanvases,s.D.CanvasesSharedWithYou,s.D.CanvasesCreatedByYou,s.D.BBMMain],U=[_.k6.Home,_.k6.DMs,_.k6.Activity,_.k6.ActivityInbox,_.k6.Agents,_.k6.SalesHome,_.k6.Later,_.k6.Files,_.k6.UnifiedFiles,_.k6.Channels,_.k6.People,_.k6.Platform,_.k6.Canvases,_.k6.Huddles,_.k6.Assistant];function x(G,Ee){let{experimentCreatorModifierSearchGroupOn:ne,experimentPeopleFilterExtensionGroupOn:se,unifiedSearchEnabled:ce,teamHasDepartment:pe,teamHasDivision:ye,isRecordTypeFilterActive:Ie,isRecordChannelFilterActive:Se,isSalesforceOrgIdFilterActive:le,showSourceFilter:X,showEnterpriseOptions:J,externalFiltersForApp:z=[]}=Ee;const te=[];if(X&&te.push(a.hv.SOURCES),G==="mixedResults"){const $=[...te,a.hv.FROM,a.hv.IN,a.hv.WITH,a.hv.DATE,a.hv.FILE_TYPE,a.hv.ONLY_MY_CHANNELS];return ce&&$.push(a.hv.EXCLUDE_BOTS),$}if(G==="messages")return[...te,a.hv.FROM,a.hv.IN,a.hv.WITH,a.hv.DATE,a.hv.FILE_TYPE,a.hv.ONLY_MY_CHANNELS,a.hv.EXCLUDE_BOTS,a.hv.REACTION,a.hv.HAS_FILE,a.hv.HAS_ACTION,a.hv.HAS_LINK,a.hv.IS_DM,a.hv.IS_SAVED,a.hv.IS_THREAD,a.hv.HAS_PIN];if(G==="files")return[...te,a.hv.FROM,a.hv.IN,a.hv.WITH,a.hv.DATE,a.hv.FILE_TYPE,a.hv.ONLY_MY_CHANNELS];if(G==="canvases")return ne?[...te,a.hv.FROM,a.hv.IN,a.hv.WITH,a.hv.DATE,a.hv.CREATOR]:[...te,a.hv.FROM,a.hv.IN,a.hv.WITH,a.hv.DATE];if(G==="external-workspace-channels")return[...te,a.hv.ALL_CHANNELS];if(G==="channels")return Ie?[...te,a.hv.ALL_CHANNELS,a.hv.CHANNEL_TYPE,a.hv.RECORD_TYPE]:Se?[...te,a.hv.ALL_CHANNELS,a.hv.CHANNEL_TYPE,a.hv.ONLY_RECORD_CHANNELS]:[...te,a.hv.ALL_CHANNELS,a.hv.CHANNEL_TYPE,a.hv.WORKSPACE,a.hv.ORG];if(G==="external_workspace_people")return[...te,a.hv.ORG];if(G==="people"){if(se){const $=[...te,a.hv.ACCOUNT_TYPE,a.hv.ORG,a.hv.LOCATION,a.hv.TITLE,a.hv.CELEBRATION];return J&&$.splice($.indexOf(a.hv.ACCOUNT_TYPE)+1,0,a.hv.WORKSPACE),ye&&$.push(a.hv.DIVISION),pe&&$.push(a.hv.DEPARTMENT),$}return[...te,a.hv.ACCOUNT_TYPE,a.hv.WORKSPACE,a.hv.ORG]}return G==="user_groups"?[...te,a.hv.WORKSPACE,a.hv.HIDE_DEACTIVATED_USERS]:G==="lists"||G==="listRecords"?[...te,a.hv.CREATOR,a.hv.FROM,a.hv.IN,a.hv.DATE]:G==="salesforce"?le?[...te,a.hv.SALESFORCE_CREATED_BY_ME,a.hv.SALESFORCE_RECORD_TYPE,a.hv.SALESFORCE_ORG_ID]:[...te,a.hv.SALESFORCE_CREATED_BY_ME,a.hv.SALESFORCE_RECORD_TYPE]:(0,i.Kz)(G)?[...te,...z]:[...te]}m(x,"getDefaultFiltersByEntity");const B=m(G=>{let{maybeRenderString:Ee,isActive:ne}=G;return ne?Ee(l.t("Any channel type")):l.t("Any channel type")},"getChannelTypeFilterLabel"),F=m(G=>{let{maybeRenderString:Ee,isActive:ne,experimentRecordChannelFiltersGroupOn:se}=G;return ne?Ee(se?l.t("Any record type"):""):se?l.t("Any record type"):""},"getRecordTypeFilterLabel"),V=m(G=>{let{maybeRenderString:Ee,isActive:ne}=G;return ne?Ee(l.t("Any account type")):l.t("Account type")},"getAccountTypeFilterLabel"),Y=m(function(G){let Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const ne={[a.rs.NEW_HIRE]:Ee?l.t("New hire"):"",[a.rs.ANNIVERSARY]:Ee?l.t("Work anniversary"):""};var se;return(se=ne[G])!==null&&se!==void 0?se:""},"getCelebrationLabel"),w=m(G=>{switch(G){case u.Qt.TOP_RESULTS:return l.t("Top Results");case u.Qt.MIXED_RESULTS:return l.t("Slack");case u.Qt.SALESFORCE:return l.t("Salesforce");case u.Qt.MESSAGES:return l.t("Messages");case u.Qt.FILES:return l.t("Files");case u.Qt.PEOPLE:return l.t("People");case u.Qt.CHANNELS:return l.t("Channels");case u.Qt.CANVASES:return l.t("Canvases");default:return""}},"getLabelForSource")},3405119017:(W,T,e)=>{"use strict";e.d(T,{An:()=>u,Bp:()=>E,Ez:()=>a,MT:()=>_,Mm:()=>l,NR:()=>o,S9:()=>n,VC:()=>d,Wg:()=>y,_o:()=>p,b5:()=>g,eq:()=>v,ie:()=>c,ne:()=>f,r:()=>h,wy:()=>I});var t=e(1224315998);const s="landing_page_trials_treatment",n=m(C=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"comparePlansLink",onClick:{enableClogAction:!0},stepVariant:C}),"getStpComparePlansAutoClogProp"),r={eventId:t.EventId.NEWXP_TEAM_CREATE,action:t.UiAction.CLICK,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,onClick:{enableClogAction:!0}},u={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"pro-forward-accordion"},i={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SIDEBAR_MENU_STRAIGHT_TO_PAID_UPGRADE_PRO_BUTTON,elementName:"sidebar_menu_straight_to_paid_upgrade_pro_button",onClick:{enableClogAction:!0}};function o(C){return{...i,stepVariant:C}}m(o,"getStraightToPaidSidebarMenuOfferButtonAutoClogProps");const a={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_PRIMARY_TIME_LIMIT,elementName:"straight_to_paid_workspace_menu_primary_time_limit",clogImpression:!0},_={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_SECONDARY_UPGRADE_CTA,elementName:"straight_to_paid_workspace_menu_secondary_upgrade_cta",clogImpression:!0},l={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.STRAIGHT_TO_PAID_WORKSPACE_MENU_SECONDARY_UPGRADE_CTA,elementName:"straight_to_paid_workspace_menu_secondary_upgrade_button",onClick:{enableClogAction:!0}},p=m(C=>{let{isProVariant:D,stepVariant:M}=C;return{...r,elementName:`plans_lite_modal_start_${D?"pro":"free"}_button`,stepVariant:M}},"getModalButtonAutoClogProps"),g=m(C=>{let{isProVariant:D,stepVariant:M}=C;return{...r,elementName:D?"start_pro_button":"start_free_button",stepVariant:M}},"getStpCardsFreeOrProButtonAutoClogProps"),c=m(()=>({uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,stepVariant:"plans_lite_modal"}),"getStraightToPaidPlansLiteModalAutoclogProp"),E=m(()=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"plans_lite_modal_compare_plans_link",onClick:{enableClogAction:!0}}),"getSTPCheckoutLiteModalComparePlansAutoclogProp"),A={eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,elementName:"checkout_compare_plans_open_modal_link",onClick:{enableClogAction:!0}};function d(){return{contexts:{ui_context:{action:t.UiAction.COMPLETE,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"complete_checkout",element_type:t.ElementType.BUTTON}}}}}m(d,"getStraightToPaidCheckoutComplete");const v=m(C=>({eventId:t.EventId.NEWXP_TEAM_CREATE,uiStep:t.UiStep.SIDEBAR_MENU_HEADER_STRAIGHT_TO_PAID_OFFER,elementName:"sidebar_menu_header_straight_to_paid_offer",stepVariant:C}),"getStpSidebarMenuOfferAutoClogProp");function h(C){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.SKIP,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"ineligible_for_straight_to_paid"},...C&&{entry_point:C}}}}}m(h,"getStraightToPaidSkippedClog");function f(C,D){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,step_variant:C,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_properties:{element_name:"plans_step"},...D&&{entry_point:D}}}}}m(f,"getProForwardImpressionClog");const y={eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,ui_step:t.UiStep.SETUP_STRAIGHT_TO_PAID_PLANS,ui_component_variant:`${s}_content`}}};function I(C){return{eventId:t.EventId.NEWXP_TEAM_CREATE,contexts:{ui_context:{action:t.UiAction.IMPRESSION,ui_properties:{element_name:"guided_trial_sidebar_peek_view_stp_cta"},step_variant:C}}}}m(I,"getStraightToPaidTrialsPeekCTAImpressionClog")},8142308213:(W,T,e)=>{"use strict";e.d(T,{C6:()=>_,Q5:()=>c,Q8:()=>g,eA:()=>E});var t=e(8856751930),s=e(4518410378),n=e(7883982244),r=e(4094753332),u=e(1318506593),i=e(3009309149),o=e(4761125736),a=e(4226799436);const _={ADMIN:"admin",WORKSPACES:"workspaces",WORKSPACE_SWITCHER:"workspace_switcher",TAB_RAIL:"tab_rail",OS_MENU:"os_menu",SIGNIN_HEADER:"signin_header",SIGNIN_CREATE_WORKSPACE_ALERT:"signin_create_workspace_alert",WORKSPACE_SIGNIN:"workspace_signin",PROMO_SUCCESS:"promo_success",PROMO_FAILED:"promo_failed",FAQS:"faqs",LANDING_CHANGE_EMAIL:"landing_change_email",LANDING_SYSTEM_ERROR:"landing_system_error",LANDING_DIFFERENT_EMAIL:"landing_different_email",LANDING_WORKSPACE_NOT_FOUND:"landing_workspace_not_found",SSB_LANDING:"ssb_landing",SHARED_INVITE_LANDING:"shared_invite_landing",NO_WORKSPACE:"no_workspace",FIND_WORKSPACE:"find_workspace",HEADER:"header",SLACK_CONNECT:"slack_connect",PRIVACY:"privacy_visibility"},l={"salesforce.com":"salesforce","google.com":"google"},p=m(A=>A?decodeURIComponent(A).trim():"","sanitizeParam"),g=(0,i.Ay)(A=>{var d;if(!((0,o._Z)(A,"add_team_creation_flow_segmentation")==="on"))return;const{entry_point:h,utm_source:f,source:y,lpt:I}=(0,u.qN)(s.J.location.href),C=(0,n.W)(),D=(0,a.JK)(A),M=(0,t.fo)(),P=p((d=s.J.document)===null||d===void 0?void 0:d.referrer),S=I==="1"?"landing_page_trials":"",b=p(y),O=p(h),L=p(f);var k;const K=(k=l[L])!==null&&k!==void 0?k:L;return C?"remote_promo":D||M||O||S||K||b||P||"unknown"});g.meta={name:"createSelector",key:"createSelectorgetEntrypointFromURL",description:A=>{var d;if(!((0,o._Z)(A,"add_team_creation_flow_segmentation")==="on"))return;const{entry_point:h,utm_source:f,source:y,lpt:I}=(0,u.qN)(s.J.location.href),C=(0,n.W)(),D=(0,a.JK)(A),M=(0,t.fo)(),P=p((d=s.J.document)===null||d===void 0?void 0:d.referrer),S=I==="1"?"landing_page_trials":"",b=p(y),O=p(h),L=p(f);var k;const K=(k=l[L])!==null&&k!==void 0?k:L;return C?"remote_promo":D||M||O||S||K||b||P||"unknown"}};const c=(0,i.Ay)(function(A,d){let{skipExperimentCheck:v=!1,getOnlyValue:h=!1,skipUrlCheck:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const y=!v&&(0,o._Z)(A,"add_team_creation_flow_segmentation")==="on";if(!v&&!y)return;const{entry_point:I}=(0,u.qN)(s.J.location.href);if(!f&&I)return;let C=d;return(0,r.y3)()&&(C=`${d}_ssb`),h?C:`entry_point=${C}`});c.meta={name:"createSelector",key:"createSelectorgetEntrypointString",description:function(A,d){let{skipExperimentCheck:v=!1,getOnlyValue:h=!1,skipUrlCheck:f=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const y=!v&&(0,o._Z)(A,"add_team_creation_flow_segmentation")==="on";if(!v&&!y)return;const{entry_point:I}=(0,u.qN)(s.J.location.href);if(!f&&I)return;let C=d;return(0,r.y3)()&&(C=`${d}_ssb`),h?C:`entry_point=${C}`}};const E=m(()=>s.J.location.search?`${s.J.location.search}&`:"?","getQueryString")},4173072539:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(3134334389),s=e(6690263587),n=e(6839188756),r=e(2312625946),u=e(7171435821);const i=m(a=>{let{invitingTeam:_}=a;const l=_.domain&&`${(0,n.k7)(_.id,_.domain)}.${(0,u.Xk)()}`,p=t.createElement(s.A,{id:_.id,team:_,shouldMaybeOpenOrgCard:!0,shouldMaybeShowVerified:!0,bold:!0,tabIndex:l?0:void 0});return l?t.createElement(r.Ay,{tip:l},t.createElement("span",null,p)):p},"InvitingTeamName");i.displayName="InvitingTeamName";const o=i},3694049677:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3134334389),s=e(2805783620),n=e(2312625946);const r=m(i=>{let{invitingUser:o,showEmailTooltip:a=!0}=i;var _;const l=o==null||(_=o.profile)===null||_===void 0?void 0:_.email,p=a&&l,g=t.createElement(s.A,{member:o,skipPrefCompliance:!0,tabIndex:p?0:void 0});return p?t.createElement(n.Ay,{tip:l},g):g},"InvitingUserName");r.displayName="InvitingUserName";const u=r},2408732225:(W,T,e)=>{"use strict";e.d(T,{n:()=>_});var t=e(3134334389),s=e(3150724727),n=e(5622140641),r=e(3656161791),u=e(6415587347);let i=null;const a=m(()=>(i===null&&(i=document&&document.documentElement&&document.documentElement.hasAttribute("data-primer")),i),"isPrimer");class _ extends t.PureComponent{render(){var p,g;const{className:c,team:E,user:A,size:d,allowDefaultProfileImage:v,fallbackUserIcon:h,fallbackUserIcon2x:f,isInteractive:y,hideUserIcon:I}=this.props,C=!!(!((p=A.profile)===null||p===void 0)&&p.is_custom_image),D=!!h||!!f,M=!(!((g=E.icon)===null||g===void 0)&&g.image_default),{imageUrl:P,imageUrl2x:S}=this.getProfileImages();if((C||v||D)&&!I){const b=A.profile.real_name;return t.createElement(s.f1,{className:c,imageUrl:C||v?P:h,imageUrl2x:C||v?S:f,memberOrBotName:b,size:d,teamId:E.id,team:E,isInteractive:y&&!a()&&!!A.id,renderCustomBadge:this.renderTeamBadge,showCard:!0,userId:A.id,profileCardProps:{allowOutsideOfSonic:!0,maybeAllowInteract:!1,...r.C}})}return M?t.createElement(n.U,{teamName:E.name,icon:E.icon,size:d,className:c}):null}constructor(p){super(p),this.renderTeamBadge=()=>null,this.getProfileImages=()=>{var d;const{team:v,user:h,size:f}=this.props,y=(0,u.Ay)({size:f,teamOrEnterpriseId:v.id,memberId:h.id,avatarHash:(d=h.profile)===null||d===void 0?void 0:d.avatar_hash}),I=(y==null?void 0:y.imageUrl)||"",C=y!=null&&y.imageUrl2x?`${y.imageUrl2x} 2x`:"";return{imageUrl:I,imageUrl2x:C}};const{team:g,allowTeamInitials:c,shouldRenderTeamBadge:E,teamIconSize:A}=p;E&&(this.renderTeamBadge=(0,s.fp)({isExternal:!0,team:g,teamId:g.id,allowTeamInitials:c,teamIconSize:A}))}}m(_,"UserIcon"),_.defaultProps={shouldRenderTeamBadge:!1,allowTeamInitials:!1,allowDefaultProfileImage:!1,className:"p-shared_channel_invite_header__avatar",isInteractive:!0,hideUserIcon:!1},_.displayName="UserIcon"},7599421656:(W,T,e)=>{"use strict";e.d(T,{B:()=>n});var t=e(2384831516),s=e(4761125736);const n=(0,t.Mz)(r=>(0,s._Z)(r,"shortcuts_workspace_picker")==="on");n.meta={name:"createSelector",key:"createSelectorshouldShowShortcutsSpeedbump",description:r=>(0,s._Z)(r,"shortcuts_workspace_picker")==="on"}},6174202672:(W,T,e)=>{"use strict";e.d(T,{NE:()=>a,bg:()=>o,i2:()=>r,jA:()=>u,ox:()=>n,vH:()=>_,x:()=>i});var t=e(7274827479),s=e(4761125736);const n=m(l=>(0,s._Z)(l,"ai_search_handoff")==="on"&&(0,t.Sl)(l),"isAiSearchHandoffEnabled"),r=m(l=>(0,s._Z)(l,"slackbot_canvas_ai_fe")==="on"&&(0,t.OT)(l),"isSlackbotCanvasAiFeEnabled"),u=m(l=>(0,s._Z)(l,"slack_ai_huddles_automatic_notes")==="on","isSlackAiHuddlesAutomaticNotesEnabled"),i=m(l=>(0,s._Z)(l,"ai_message_analysis")==="on"&&(0,t.OT)(l),"isAiMessageAnalysisEnabled"),o=m(l=>(0,s._Z)(l,"ai_analyze_message_action")==="on"&&(0,t.OT)(l),"isAiAnalyzeMessageActionEnabled"),a=m(l=>(0,s._Z)(l,"native_ai_profile_summary")==="on"&&(0,t.OT)(l),"isAiProfileSummaryEnabled"),_=m(l=>(0,s._Z)(l,"ai_profile_summaries_i18n")==="on","isAiProfileSummariesI18nEnabled")},9874616273:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3134334389),s=e(8214116048);const n=m(u=>{let{width:i=20,height:o=20,className:a="",theme:_}=u;const l=_===s.Sx.Dark?"/img/slack_logo_white_text.svg":"/img/slack_logo.svg";return t.createElement("div",{role:"banner"},t.createElement("img",{className:a,src:l,alt:"Slack",width:i,height:o}))},"SlackLogo");n.displayName="SlackLogo";const r=n},7105906370:(W,T,e)=>{"use strict";e.d(T,{Uk:()=>s,We:()=>n,ab:()=>r,pP:()=>u});var t=e(4761125736);function s(i){return(0,t._Z)(i,"workflow_composer_ga_wishlist")==="on"}m(s,"isWorkflowComposerGAWishlistEnabled");const n=m(i=>(0,t._Z)(i,"ask_slack_view")==="on","isAskSlackViewEnabled"),r=m(i=>(0,t._Z)(i,"slackbot_ai_memories")==="on","isSlackbotAiMemoriesEnabled"),u=m(i=>(0,t._Z)(i,"slackbot_ai")==="on","isSlackbotAiEnabled")},7101754232:(W,T,e)=>{"use strict";e.d(T,{R:()=>s});const t=/^St[A-Z0-9]{7,}$/;function s(n){return t.test(n)}m(s,"looksLikeCustomSolutionTemplateId")},5144644376:(W,T,e)=>{"use strict";e.d(T,{n:()=>n});var t=e(8180302442),s=e(5597672932);const n=m(r=>!(!(0,t.g)(r)||!(0,s.xp)(r,"allow_custom_solution_templates")),"isCustomSolutionsEnabledForUser")},6989432693:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(3134334389),s=e(9506008067),n=e(8276911661),r=e(8921478798),u=e(8170643398),i=e(735940183),o=e(4031325387);const a=new i.A("channel_token"),_=m(p=>{let{userId:g,isFirst:c,isSelf:E}=p;var A;const d=(A=(0,s.d4)(h=>(0,n.nv)(h,g)))!==null&&A!==void 0?A:void 0;let v=(0,s.d4)(h=>(0,r.I)(h,g));return(0,u.t8)(d)?t.createElement(o.A,{type:"unknown",subtler:!0}):(0,u.QR)(d)?t.createElement(o.A,{type:"non-existent",subtler:!0}):(E&&(v=c?a.t("You"):a.t("you")),t.createElement(t.Fragment,null,v))},"TooltipMemberName");_.displayName="TooltipMemberName";const l=t.memo(_)},5139044823:(W,T,e)=>{"use strict";e.d(T,{Ab:()=>n,Ce:()=>u,Rk:()=>s,T6:()=>t,Uy:()=>r,Xl:()=>i,ye:()=>o});var t;(function(a){a.ListItem="list_item",a.SuggestedListItem="suggested_list_item",a.NewTask="new_task",a.CompletedHeader="completed_header",a.AiSuggestedHeader="ai_suggested_header",a.MyTodosHeader="my_todos_header",a.GroupHeader="group_header",a.RefineHeader="refine_header",a.CreateTodosHeader="create_todos_header",a.CreateTodosItem="create_todos_item",a.TodosHeroBanner="todos_hero_banner"})(t||(t={}));var s;(function(a){a.ListItem="list_item",a.CompletedHeader="completed_header",a.RefineHeader="refine_header",a.EmptyState="empty_state",a.Loading="loading"})(s||(s={}));var n;(function(a){a.All="all",a.Open="open",a.Completed="completed"})(n||(n={}));var r;(function(a){a.Reminder="reminder",a.RecentlyAssigned="recently_assigned",a.DueDate="due_date",a.RecentlyUpdated="recently_updated"})(r||(r={}));var u;(function(a){a.Overdue="overdue",a.Today="today",a.Tomorrow="tomorrow",a.Upcoming="upcoming",a.Later="later",a.None="--todos-empty-key--"})(u||(u={}));const i=m((a,_)=>Object.values(a).includes(_),"isEnumValue");var o;(function(a){a[a.Later=0]="Later",a.Clear="",a[a.NotSet=-1]="NotSet"})(o||(o={}))},2806459763:(W,T,e)=>{"use strict";e.d(T,{HY:()=>p,J9:()=>k,No:()=>a,SI:()=>E,VF:()=>L,Vc:()=>b,Vr:()=>C,Y6:()=>M,Z2:()=>d,cp:()=>D,dN:()=>v,dg:()=>l,fw:()=>_,gk:()=>I,iB:()=>g,nr:()=>P,oT:()=>K,qC:()=>f,sD:()=>y,sc:()=>c,u5:()=>O,uo:()=>A,zm:()=>h});var t=e(5139044823),s=e(8191156954),n=e(583204418),r=e(2735807628);const u="tag",i="created_time",o=[s.$.TodoDueDate,u,i],a=m(N=>!!N&&"message"in N,"isMessageReference"),_=m(N=>!!N&&"message"in N,"isMessageReferenceApi"),l=m(N=>!!N&&"listRecord"in N,"isListRecordReference"),p=m(N=>!!N&&"list_record"in N,"isListRecordReferenceApi"),g=m(N=>!!N&&"sfdcRecord"in N,"isSfdcReference"),c=m(N=>!!N&&"sfdc_record"in N,"isSfdcReferenceApi"),E=m(N=>!!N&&"file"in N,"isFileReference"),A=m(N=>!!N&&"file"in N,"isFileReferenceApi"),d=m(N=>!!N&&"canvasSection"in N,"isCanvasSectionReference"),v=m(N=>!!N&&"canvas_section"in N,"isCanvasSectionReferenceApi"),h=m(N=>{var R;return N.type===s.$.Select&&((R=N.options)===null||R===void 0?void 0:R.format)!==n.YP.MultiSelect},"isSingleSelectField"),f=m(N=>{if(a(N)){const R=N.message;return`message-${R.channelId}-${R.ts}`}if(l(N)){const R=N.listRecord;return`list_record-${R.listId}-${R.rowId}`}return g(N)?`sfdc_record-${N.sfdcRecord.id}`:E(N)?`file-${N.file.fileId}`:""},"makeReferenceTrackerStoreKey"),y=m(N=>{if(_(N)){const R=N.message;return`message-${R.channel_id}-${R.ts}`}if(p(N)){const R=N.list_record;return`list_record-${R.list_id}-${R.row_id}`}if(c(N))return`sfdc_record-${N.sfdc_record.id}`;if(A(N))return`file-${N.file.file_id}`;if(v(N)){const R=N.canvas_section;return`canvas_section-${R.file_id}-${R.section_id}`}return""},"makeReferenceApiTrackerStoreKey"),I=m(N=>{var R;return!!(!(N==null||(R=N.fields)===null||R===void 0)&&R.todo_completed)},"isMyTaskItemCompleted"),C=m(N=>_(N)?{message:{channelId:N.message.channel_id,ts:N.message.ts}}:p(N)?{listRecord:{listId:N.list_record.list_id,rowId:N.list_record.row_id}}:A(N)?{file:{fileId:N.file.file_id}}:v(N)?{canvasSection:{fileId:N.canvas_section.file_id,sectionId:N.canvas_section.section_id}}:{sfdcRecord:{id:N.sfdc_record.id,relatedRecordId:N.sfdc_record.related_record_id,relatedRecordObjectName:N.sfdc_record.related_record_object_name,status:N.sfdc_record.status,comments:N.sfdc_record.comments,assignedToId:N.sfdc_record.assigned_to_id}},"convertReferenceApiToReference"),D=m(N=>{let{rowId:R}=N;return R===t.T6.NewTask||R.endsWith(`---${t.T6.NewTask}`)},"isNewTaskRow"),M=m(N=>{let{prefixId:R}=N;return`${R}---editing-id`},"createEditingId"),P=m(N=>{let{groupKey:R}=N;return`${R}---${t.T6.NewTask}`},"createNewTaskRowId"),S=m(N=>{switch(N.itemType){case ItemTypes.message:return{message:{channelId:N.itemId,ts:N.ts}};case ItemTypes.list_record:return{listRecord:{listId:N.itemId,rowId:N.recordId}};case ItemTypes.file:return{file:{fileId:N.itemId}};case ItemTypes.canvas_section:return{canvasSection:{fileId:N.itemId,sectionId:N.sectionId}};default:}return null},"makeReferenceFromSavedLaterItem"),b=m(N=>{const R=N.itemType;switch(R){case r.ll.message:return`${R}-${N.itemId}-${N.ts}`;case r.ll.list_record:return`${R}-${N.itemId}-${N.recordId}`;case r.ll.list_record_field:return`${R}-${N.itemId}-${N.recordId}`;case r.ll.file:return`${R}-${N.itemId}`;case r.ll.reminder:return`${R}-${N.itemId}`;case r.ll.canvas_section:return`${R}-${N.itemId}-${N.sectionId}`;default:return""}},"makeLaterItemId"),O=m(N=>N.type===s.$.TodoAssignee,"isAssigneeField"),L=m(N=>N.type===s.$.TodoDueDate,"isDueDateField"),k=m(N=>N.type===s.$.TodoCompleted,"isDoneField"),K=m(N=>o.findIndex(R=>R===N.key)>-1||N.type===s.$.Reference,"shouldHideDeleteOption")},924300050:(W,T,e)=>{"use strict";e.d(T,{A:()=>Fe});var t=e(3134334389),s=e(2664504268),n=e(9674520607),r=e(5220162857),u=e(7949425452),i=e(5431290584),o=e(1388835426),a=e(2683115972),_=e(980293773),l=e(7626894131),p=e.n(l),g=e(29804293),c=e.n(g),E=e(7749140866),A=e.n(E),d=e(5913806097),v=e.n(d),h=e(6636363964),f=e.n(h),y=e(9916635837),I=e.n(y),C=e(5760619139),D=e.n(C),M=e(668694090),P=e.n(M),S=e(555040584),b=e.n(S),O=e(6820844347),L=e.n(O),k=e(1347747715),K=e.n(k),N=e(8187362417),R=e.n(N),U=e(2005200212),x=e.n(U),B=e(2563333228),F=e.n(B),V=e(6754250580),Y=e.n(V),w=e(1714394002),G=e.n(w),Ee=e(6435768457),ne=e.n(Ee),se=e(7417918922),ce=e.n(se),pe=e(6869712815),ye=e.n(pe),Ie=e(8089589194),Se=e.n(Ie),le=e(5748605292),X=e.n(le),J=e(4071181961),z=e.n(J),te=e(8071475775),$=e.n(te),q=e(9733499682),re=e.n(q),de=e(6050136004),oe=e.n(de),De=e(5006029593),ae=e.n(De),Z=e(9753292423),ie=e.n(Z),Ce=e(3289703835),Re=e.n(Ce),He=e(9598582073),be=e.n(He);function Ue(){return Ue=Object.assign||function(Ke){for(var j=1;j<arguments.length;j++){var ee=arguments[j];for(var je in ee)Object.prototype.hasOwnProperty.call(ee,je)&&(Ke[je]=ee[je])}return Ke},Ue.apply(this,arguments)}m(Ue,"_extends");const me={elementName:"explore_pro_features_btn",onClick:{enableClogAction:!0}},ve=m(Ke=>{let{featureList:j,modalTitle:ee,modalSubtitle:je,buttonText:Te,onCTAClick:Je,customFooter:Ae,maxWidth:Me,onRequestClose:we,UNSAFE_parentSelector:Ge,videoTitle:Qe,experimentPnpGoGroupTreatment:fe}=Ke;const Ve=m(()=>t.createElement(r.Ay,{listItems:j}),"renderFeatureList"),Be={closeModal:we,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:Me,UNSAFE_parentSelector:Ge},{translation:Ye,enableMediaCaptions:et}=(0,o.S)({"de-DE":fe?p():Y(),"en-GB":fe?c():G(),"en-US":fe?A():ne(),"es-ES":fe?v():ce(),"es-LA":fe?f():ye(),"fr-FR":fe?I():Se(),"it-IT":fe?D():X(),"ja-JP":fe?P():z(),"ko-KR":fe?b():$(),"pt-BR":fe?R():re(),"zh-CN":fe?x():ie(),"zh-TW":fe?F():Re()}),at=(0,s.A)(),gt=(0,s.A)(),Mt=[at,gt].join(" "),Bt=(0,t.useMemo)(()=>{let Ct=ae(),Ft=oe();return fe&&(Ct=L(),Ft=K()),{video:Ct,videoPoster:Ft}},[fe]);return t.createElement(_.dW,Ue({closeButtonTone:"dark",className:be().modalBackground,labelledby:Mt},Be),t.createElement(_.$m,{className:be().modalBackground},t.createElement("div",{className:be().bodyContainer},t.createElement("div",{className:be().listContainer},t.createElement(u.J,{ariaHidden:!0,className:be().proBadge,size:i.vj.Large}),t.createElement("h1",{id:at,className:be().title},ee),t.createElement("h2",{id:gt,className:be().subtitle},je),Ve(),Ae||t.createElement(a.Ay,{size:"medium",onClick:Je,className:be().ctaButton,autoClogProps:me},Te)),t.createElement("div",{className:be().videoContainer},t.createElement("div",{className:be().videoPlayer},t.createElement(n.A,{src:Bt.video,vtt:Ye,enableMediaCaptions:et,videoPoster:Bt.videoPoster,enableControls:!0,autoPlay:!1,title:Qe}))))))},"Modal");ve.displayName="Modal";const Fe=ve},5220162857:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>F,CQ:()=>R,L_:()=>U,XC:()=>S,wj:()=>O});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7260399618),u=e.n(r),i=e(3555024406),o=e.n(i),a=e(6362113145),_=e.n(a),l=e(5612399517),p=e.n(l),g=e(9754713110),c=e.n(g),E=e(8644018899),A=e.n(E),d=e(8720577475),v=e.n(d),h=e(3801841745),f=e(7729538251),y=e(8683010724),I=e(9392104102),C=e(735940183),D=e(6696573656),M=e.n(D);const P=new C.A("trial_expiration_modals"),S={history:c(),headphones:_(),canvas:o(),buildings:A(),bolt:u(),play:u(),tools:v(),lists:p(),"shared-channel":A()},b=m(()=>{switch((0,f.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-de-DE").then(e.t.bind(e,6800060962,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-en-GB").then(e.t.bind(e,5190658834,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-fr-FR").then(e.t.bind(e,647591414,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-slack-connect-ja-JP").then(e.t.bind(e,9297924654,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-slack-connect").then(e.t.bind(e,6342268209,23))}},"getSlackConnectAnimation"),O={history:()=>{switch((0,f.JK)()){case"de-DE":return e.e("gantry-v2-async-lottie-trial-modal-messages-de-DE").then(e.t.bind(e,3828726715,23));case"en-GB":return e.e("gantry-v2-async-lottie-trial-modal-messages-en-GB").then(e.t.bind(e,4311997919,23));case"fr-FR":return e.e("gantry-v2-async-lottie-trial-modal-messages-fr-FR").then(e.t.bind(e,8274489555,23));case"ja-JP":return e.e("gantry-v2-async-lottie-trial-modal-messages-ja-JP").then(e.t.bind(e,1968927099,23));case"en-US":default:return e.e("gantry-v2-async-lottie-trial-modal-messages-en-US").then(e.t.bind(e,4244940908,23))}},headphones:()=>e.e("gantry-v2-async-lottie-trial-modal-huddles.json").then(e.t.bind(e,3020879619,23)),canvas:()=>e.e("gantry-v2-async-lottie-trial-modal-canvas.json").then(e.t.bind(e,5417726912,23)),buildings:b,play:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),bolt:()=>e.e("gantry-v2-async-lottie-trial-modal-apps.json").then(e.t.bind(e,9702269844,23)),tools:()=>e.e("gantry-v2-async-lottie-trial-modal-templates.json").then(e.t.bind(e,8131963541,23)),"shared-channel":b,lists:()=>e.e("gantry-v2-async-lottie-trial-modal-lists.json").then(e.t.bind(e,1734664547,23))},L={"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-en-GB.json").then(e.t.bind(e,2450338219,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-fr-FR.json").then(e.t.bind(e,8873227255,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-ja-JP.json").then(e.t.bind(e,8007093194,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-slack-connect-de-DE.json").then(e.t.bind(e,2760408041,23))},k={history:{"en-GB":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-en-GB.json").then(e.t.bind(e,9570554074,23)),"fr-FR":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-fr-FR.json").then(e.t.bind(e,7096086790,23)),"ja-JP":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-ja-JP.json").then(e.t.bind(e,3015913705,23)),"de-DE":()=>e.e("gantry-v2-async-lottie-trial-modal-messages-de-DE.json").then(e.t.bind(e,3095723524,23))},buildings:L,"shared-channel":L},K=m(V=>V in k,"isLocalizedIconName"),N=m((V,Y)=>Y in V,"isLocale"),R=m((V,Y)=>{if(!K(V))return;const w=k[V];return N(w,Y)?w[Y]:void 0},"getIconToAnimationMapLocalized"),U=m(function(){let{experimentPnpGoGroupTreatment:V=!1,newCopyVariant:Y=!1,trialAwarenessModalVariant:w=!1}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},G={history:{iconName:"history",title:P.t("Unlimited message and file history"),text:P.t("Keep and find answers in your team\u2019s archive")},huddles:{iconName:"headphones",title:P.t("Group huddles"),text:P.t("Voice and video conversations with your team")},files:{iconName:"canvas",title:P.t("Canvases and lists"),text:P.t("Share and track work in Slack")},slackConnect:{iconName:"buildings",title:P.t("Slack Connect channels"),text:P.t("Work with people from other organizations")},workflows:{iconName:"bolt",title:P.t("More apps and unlimited workflows"),text:P.t("Connect tools to Slack and build no-code automations")}};return Y&&(G={...G,history:{...G.history,title:P.t("Unlimited message history"),text:P.t("Search and view all of your team\u2019s public messages and files, which are stored indefinitely on a paid plan.")},huddles:{...G.huddles,text:P.t("Talk things out live with audio and video huddles. Share your screen, annotate and enable live captions.")},tools:{iconName:"tools",title:P.t("Premium productivity tools and templates"),text:P.t("Share, track and manage work with canvases, lists, workflows and more.")},slackConnect:{...G.slackConnect,title:P.t("Work with people at other organizations"),text:P.t("Make collaborating with outside partners and clients as fast and simple as working with in-house teams.")},workflows:{...G.workflows,iconName:"play",title:P.t("More connected apps"),text:P.t("Schedule meetings, file tickets, track tasks, and more, by bringing tools your team already uses into Slack.")}}),V&&(G={...G,files:{...G.files,iconName:"tools",title:P.t("Premium productivity tools and templates"),text:P.t("Track and share work with lists and unlimited canvases")},slackConnect:{...G.slackConnect,iconName:"shared-channel",title:P.t("Slack Connect channels"),text:P.t("Work with people from other organizations")},huddles:{...G.huddles,title:P.t("Group voice and video huddles"),text:P.t("Instantly connect with screen sharing and more")},workflows:{...G.workflows,title:P.t("Unlimited apps and workflows"),text:P.t("Access tools you use everyday and automate tasks")}},w&&(G={...G,files:{...G.files,text:P.t("Share, track and manage work with canvases and lists")},slackConnect:{...G.slackConnect,title:P.t("Slack Connect")},huddles:{...G.huddles,title:P.t("Group huddles"),text:P.t("Talk it out on a video call with screen sharing")},workflows:{...G.workflows,title:P.t("Unlimited apps and workflows"),text:P.t("Access tools you use everyday and automate tasks")}})),[G.history,G.huddles,...G.tools?[G.tools]:I.Ml,...Y?I.Ml:[G.files],G.slackConnect,G.workflows]},"getFeatureList"),x=m(V=>{let{iconClassName:Y,iconName:w,title:G,text:Ee}=V;return t.createElement(h.A,{alignItems:"flex-start"},t.createElement("div",{className:n()(M().icon,Y)},t.createElement(y.A,{name:w,size:"20","aria-describedby":w,role:"img","data-qa":`icon-${w}`})),t.createElement(h.A,{flexDirection:"column"},t.createElement("div",{className:M().title},G),t.createElement("div",{className:M().text},Ee)))},"FeaturesListItem");x.displayName="FeaturesListItem";const F=m(V=>{let{className:Y,iconClassName:w,listItems:G}=V;return t.createElement(h.A,{gap:12,flexDirection:"column",className:n()(M().featuresListContainer,Y)},G.map(Ee=>t.createElement(x,{key:Ee.title,iconClassName:w,iconName:Ee.iconName,title:Ee.title,text:Ee.text})))},"FeaturesList")},6318661545:(W,T,e)=>{"use strict";e.d(T,{jY:()=>n,pm:()=>u,z6:()=>r});var t=e(1224315998);const s=t.EventId.UPGRDEXP_BENEFITS,n=m(()=>({eventId:s,uiComponentName:t.UiComponentName.PRO_TO_BIZ_PLUS_BOOST_MODAL}),"getProToBizPlusUpgradeModalAutoClogProps"),r=m(()=>({eventId:s,uiStep:t.UiStep.ADMIN_MENU,elementName:"pro_to_biz_plus_modal_compare_plans_link",onClick:{enableClogAction:!0}}),"getProToBizPlusUpgradeModalComparePlansAutoclogProp"),u=m(()=>({eventId:s,uiStep:t.UiStep.ADMIN_MENU,elementName:"pro_to_biz_plus_modal_inquire_with_sales_link",onClick:{enableClogAction:!0}}),"getProToBizPlusUpgradeModalInquireWithSalesAutoclogProp")},1267040415:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(3134334389),s=e(4481313819),n=e(2683115972),r=e(8739505998),u=e(2312625946),i=e(1224315998),o=e(735940183),a=e(6323355797),_=e(9506008067);function l(){return l=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var d=arguments[A];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(E[v]=d[v])}return E},l.apply(this,arguments)}m(l,"_extends");const p=new o.A("plan_change"),g=m(E=>{let{children:A,planLevel:d,entryPoint:v,feature:h,hash:f,action:y,useLink:I,refToForward:C,productId:D,productLevel:M,tooltipProps:P,...S}=E;const b=(0,_.d4)(k=>(0,a.m6)(k,{entryPoint:v,productId:D,productLevel:M,action:y,feature:h,hash:f,planLevel:d})),O=I?r.A:n.Ay,L=t.createElement(O,l({ref:C},S,{href:b}),A);return t.createElement(s.A,{eventId:i.EventId.UPGRDEXP_UPSELL_PROMPTS,clogImpression:!0},P?t.createElement(u.Ay,l({tip:p.t("Upgrade")},P),L):L)},"PlansPageCTABase");g.displayName="PlansPageCTABase";const c=t.forwardRef((E,A)=>t.createElement(g,l({},E,{refToForward:A})))},4177200783:(W,T,e)=>{"use strict";e.d(T,{A:()=>f});var t=e(3134334389),s=e(6122756707),n=e(4481313819),r=e(1743656885),u=e(5712872315),i=e(8719380546),o=e(1224315998),a=e(735940183),_=e(9506008067),l=e(4761125736),p=e(9003400431);const g=new a.A("msg_input"),c={elementName:"learn_more",onClick:{enableClogAction:!0}},E=m(y=>{let{isScheduledMessage:I}=y;const C=(0,s.wA)(),D=(0,t.useCallback)(()=>{C((0,p.O)())},[C]);if(!(0,_.d4)(b=>(0,l._Z)(b,"upgrd_5684")==="on"))return null;const P=I?g.t("Message not scheduled"):g.t("Message not sent"),S=g.rt("Your team isn\u2019t able to send messages right now. Review any apps or webhooks that may be sending a high-volume of messages. <learnMoreLink>Learn more</learnMoreLink> about message limits.",{fallbackHash:"a15c5b3859af53dcefc79016b421009c7adc9bf6","<learnMoreLink>":b=>{let{text:O}=b;return t.createElement(r.A,{"data-qa":"Message-limit-error-modal-learn-more-link",articleId:115002422943,hash:"message-and-file-visibility-limit",autoClogProps:c,forceOpenInBrowser:!0},O)}});return t.createElement(n.A,{eventId:o.EventId.UPGRDEXP_HIGHLIGHT_PAID_FEATURES,clogImpression:!0,uiComponentName:o.UiComponentName.MESSAGE_LIMIT_ERROR_MODAL},t.createElement(i.A,{"data-qa":"message-limit-error-modal",title:P,titleIcon:"warning",bodyContent:S,onRequestClose:D,theme:u.B.ERROR}))},"MessageLimitErrorModal");E.displayName="MessageLimitErrorModal";const A=E;var d=e(6304789565),v=e(2375333597);const h=(0,d.Ay)("Open modal when a message send fails due to team having hit the message limit",function(y,I){let C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return y((0,v.q)({element:t.createElement(A,C)}))});h.meta={name:"createThunk",key:"createThunkopenMessageLimitErrorModal",description:"Open modal when a message send fails due to team having hit the message limit"};const f=h},6518038516:(W,T,e)=>{"use strict";e.d(T,{A:()=>b});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(6839188756),u=e(6084388622),i=e(8739505998),o=e(8683010724),a=e(735940183),_=e(6323355797),l=e(9022734571),p=e(7994296598),g=e(1318506593),c=e(9391594207),E=e(3559164431),A=e(8368515877),d=e(2222994823),v=e(4761125736),h=e(3554387543),f=e(3192808693),y=e(1803124141),I=e(3677514771);function C(){return C=Object.assign||function(O){for(var L=1;L<arguments.length;L++){var k=arguments[L];for(var K in k)Object.prototype.hasOwnProperty.call(k,K)&&(O[K]=k[K])}return O},C.apply(this,arguments)}m(C,"_extends");const D=new a.A("page_pricing");let M=m(class extends t.Component{getElementName(){const{isSmallFeaturesColumnButton:L,planLevel:k,activePlanLevel:K,isTeamOnTrial:N,isInvoiceCustomer:R,includeFreePlan:U}=this.props;let x;return k===_.i6.enterprise.name?x=`${k}_plan_contact_us`:R?x=`${k}_plan_contact_accounts`:!k&&U?x="free_plan_upgrade":L&&K===k&&!N?x=`${k}_get_slack_ai`:x=`${k}_plan_upgrade`,x}getHref(L){let k=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const K=L+(0,l.iU)({...this.parsedUrlQueryParams,...k});return(0,r.Zl)(this.props.team,K)}async navigateToCheckoutFlow(L){const{isSlackAiToggleSelected:k,isTeamOnTrial:K,activePlanLevel:N,experimentPnpTwoGoGroupOn:R}=this.props;this.setState(()=>({isCTALoading:!0}));try{await this.props.fetchConfigurationData({productId:L})}catch(F){var U;(F==null||(U=F.data)===null||U===void 0?void 0:U.error)==="invalid_request"?(0,p.A)(`/account/request?entry_point=${this.props.entryPoint}`):(0,p.A)("/admin/billing");return}if(this.props.redirectUrl&&(0,d.I)(this.props.redirectUrl)){this.props.redirectUrl&&(0,p.A)(this.props.redirectUrl);return}const x=!K&&N==="",B=(0,_.Qn)({team:this.props.team,entryPoint:this.props.entryPoint,productId:L,addonTypes:!R&&x&&k?[_.wi.SlackAI]:void 0});(0,p.A)(B)}handleClick(){const{team:L,planLevel:k,activePlanLevel:K,isSmallFeaturesColumnButton:N,productId:R,slackAIAddonId:U,isTeamOnTrial:x,isSlackAiToggleSelected:B,experimentPnpTwoGoGroupOn:F}=this.props;if(N&&K===k&&!x){const Y=B?[_.wi.SlackAI]:void 0,w=(0,_.Qn)({team:L,entryPoint:"plans_page",addon:F?void 0:U,addonTypes:F?void 0:Y});(0,p.A)(w)}else R&&this.navigateToCheckoutFlow(R)}renderPlanCTA(){const{activePlanLevel:L,planLevel:k,productId:K,activeProductId:N,"data-qa":R,isInvoiceCustomer:U,clogStepId:x,useLink:B,buttonType:F,openInNewTab:V,entryPoint:Y,isSmallFeaturesColumnButton:w,isSalesforceFeaturesColumnButton:G,isTeamOnTrial:Ee,discountPromoType:ne,discountPromoSubtype:se,discountPercent:ce,experimentPnpDiscountsGroupOn:pe,experimentPnpTwoGoGroupOn:ye,experimentSfEmbedGrowthToggleGroupOn:Ie,className:Se}=this.props;let le="outline",X="",J;const z=V?"_blank":"_self";if(k===_.i6.enterprise.name)X=D.t("Contact Sales"),J=this.getHref("/contact-sales",{from_plans:1,campaign:"7013y000002UvizAAC"}),le="primary";else if(U)X=D.t("Contact Accounts"),J=this.getHref("/help/requests/new");else{if(k===_.i6.free.name)return null;if(le="primary",w)!ye&&L===k&&!Ee?X=D.t("Get Slack AI"):ne===_.k2.PricingAndPackagingPromo?X=(0,_.$K)({discountPromoSubtype:se,activePlanLevel:L,discountPercent:ce,planLevel:k,experimentPnpDiscountsGroupOn:pe}):X=D.t("Upgrade");else if(Ie&&G)if(B)X=D.t("Buy Now"),J=this.getHref(`/${_.nc}`,{p:K,entry_point:Y,product_level:k});else{const q=(0,_._N)(_.i6[k].name);X=D.t("Upgrade to {planName}",{planName:q})}else{X=D.t("Upgrade Now");const q=N?2:1;J=this.getHref(`/${_.nc}`,{s:q,entry_point:Y})}}const te={className:n()("p-upgrade_cta plan_page",Se),type:F||le,"data-qa":R,autoClogProps:{elementName:this.getElementName(),isPrimaryCTA:F==="primary",onClick:{enableClogAction:!0},clogStepId:x,productId:K}};let $=t.createElement(u.z9,C({href:J,target:z},te),X);return k!==_.i6.enterprise.name&&!U&&K&&!B?$=t.createElement(u.lV,C({onClick:this.handleClick,loading:this.state.isCTALoading},te,{"aria-label":X}),X):B&&($=t.createElement(i.A,C({href:J,target:z},te,{className:`p-upgrade_cta--link ${te.className}`}),X,t.createElement("span",{className:"margin_left_25"},t.createElement(o.A,{name:"arrow-right"})))),$}render(){return this.renderPlanCTA()}constructor(L){super(L),this.state={isCTALoading:!1},this.handleClick=this.handleClick.bind(this),this.parsedUrlQueryParams=(0,g.qN)(window.location.href)||{}}},"UpgradeCta");M.defaultProps={"data-qa":"plans_page_upgrade_cta",clogStepId:"",entryPoint:"plans_page"},M.displayName="UpgradeCta";const P=m((O,L)=>{const k=(0,h.EV)(O),K=(0,I.H7)(O),N=(0,h.$f)(O);return{team:K,productId:(0,h.UO)(O,L.planLevel,k),slackAIAddonId:(0,h.Zg)(O,N,k),activeProductId:(0,h.xU)(O),activePlanLevel:N,isTeamOnTrial:(0,h.yQ)(O),isInvoiceCustomer:(0,h.Nd)(O),redirectUrl:(0,E.oy)(O),nextPlanLevel:(0,h.Jf)(O),isSlackAiToggleSelected:(0,h.qK)(O),discountPercent:(0,h.WG)(O),discountPromoType:(0,h.ZQ)(O),discountPromoSubtype:(0,h.$3)(O),experimentPnpDiscountsGroupOn:(0,v._Z)(O,"pnp_discounts")==="on",experimentPnpTwoGoGroupOn:(0,y.k)(O),experimentSfEmbedGrowthToggleGroupOn:(0,f.hB)(O)}},"mapStateToProps"),S=m(O=>({fetchConfigurationData:L=>O((0,A.l)(L))}),"mapDispatchToProps"),b=(0,c.N)(P,S)(M)},6852088830:(W,T,e)=>{"use strict";e.d(T,{B:()=>h});var t=e(3134334389),s=e(6122756707),n=e(2843556239),r=e(4819212603),u=e(5498730041),i=e(677609895),o=e(735940183),a=e(6323355797),_=e(9506008067),l=e(9003400431),p=e(7268021173),g=e(3192808693),c=e(3193155968);const E=new o.A("trial_banners"),A={elementName:"expore_trial",onClick:{enableClogAction:!0}},d={elementName:"compare_plans",onClick:{enableClogAction:!0}},v={elementName:"upgrade_cta",onClick:{enableClogAction:!0}};function h(f){let{midTrialTitle:y,trialEndTitle:I,entryPoint:C="salesforce_plus_trial_awareness_banner",showHourglassIcon:D=!1}=f;const M=(0,s.wA)(),P=(0,_.d4)(g.lL),S=(0,_.d4)(i.X),O=((0,_.d4)(p.zk)||0)>7,L=P?E.t("Explore your trial"):"",k=P?E.t("Upgrade Now"):"",K=P?E.t("Compare Plans"):"",N=(0,_.d4)(Y=>(0,a.m6)(Y,{action:"plans",entryPoint:C})),{windowId:R}=(0,t.useContext)(n._0),U=!R||R===c.N2,x=(0,t.useMemo)(()=>({text:L,onClick:()=>{U&&M((0,l.O)()),M((0,r.z7)({}))},autoClogProps:A}),[M,L,U]),B=(0,t.useMemo)(()=>({text:k,href:N,autoClogProps:v}),[N,k]),F=(0,t.useMemo)(()=>({text:K,href:N,autoClogProps:d}),[K,N]);let V=x;return O||(V=S?B:F),t.createElement(u.N,{title:O?y:I,primaryCta:V,badgeVariant:"paid",showHourglassIcon:D})}m(h,"SalesforcePlusTrialAwarenessBanner"),h.displayName="SalesforcePlusTrialAwarenessBanner"},4819212603:(W,T,e)=>{"use strict";e.d(T,{V$:()=>i,sB:()=>o,z7:()=>a});var t=e(4117634716),s=e(8822892075),n=e(7940058138),r=e(6304789565),u=e(3193155968),i;(function(_){_.CRITICAL_APPS="critical_apps",_.SLACK_AI="slack_ai",_.CUSTOMER_RELATIONSHIPS="customer_relationships",_.FULL_CONTEXT="full_context"})(i||(i={}));const o=[i.CRITICAL_APPS,i.SLACK_AI,i.CUSTOMER_RELATIONSHIPS,i.FULL_CONTEXT],a=(0,r.Ay)("Navigate to the paid features page or a specific tab in the page",async(_,l,p)=>{_((0,t.o)({...(0,s.ZF)(n.c.ExplorePaidFeatures),params:{targetTab:p==null?void 0:p.tab},options:{forceTab:u.k6.Home}}))});a.meta={name:"createThunk",key:"createThunknavigateToPaidFeaturesPage",description:"Navigate to the paid features page or a specific tab in the page"}},8576613356:(W,T,e)=>{"use strict";e.d(T,{C:()=>C});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(73855031),u=e(6518038516),i=e(2670882607);const o=(0,t.memo)(D=>{let{onLoad:M}=D;return(0,t.useEffect)(()=>()=>{M()},[M]),null});var a=e(9506008067),_=e(2047021170),l=e(5577296129),p=e.n(l);const g=(0,t.memo)(D=>{let{alt:M,className:P,getAnimationImport:S,index:b,onLoad:O,src:L,autoplay:k=!0,loop:K=!0}=D;const N=(0,t.useCallback)(()=>O(b),[b,O]),R=(0,t.useCallback)(()=>t.createElement(o,{onLoad:N}),[N]);return(0,a.d4)(x=>(0,_.ty)(x,"a11y_animations"))&&S?t.createElement(i.e,{autoplay:k,className:n()(p().featureImage,P),description:M,getAnimationImport:S,loop:K,renderLoading:R}):t.createElement("img",{alt:M,className:n()(p().featureImage,P),key:L,onLoad:N,src:L,"aria-hidden":"true","data-qa":"feature_image_static"})});var c=e(5641442783),E=e(6308822),A=e(6044196829),d=e(980293773),v=e(1224315998),h=e(6323355797),f=e(8985946788),y=e.n(f);const I={subtitle:"accordion-feature-list-modal-subtitle",imageContainer:"accordion-feature-list-modal-image-container",textContent:"accordion-feature-list-modal-text-content"},C=m(D=>{let{accordionClassNames:M={},className:P="",customFooter:S,customHeaderIcon:b,autoClogProps:O,closeModal:L,entryPoint:k,featureListItems:K,featureImageClassName:N="",hideProBadge:R,imageContainerBackground:U="horchata",linkButtonText:x,linkButtonAutoClogProps:B,listContainerClassName:F="",onClickLink:V,subtitle:Y,subtitleClassName:w="",title:G,ariaLabel:Ee="",UNSAFE_parentSelector:ne}=D;const[se,ce]=(0,t.useState)(0),pe=(0,t.useCallback)(X=>{ce(X)},[]),ye=(0,t.useMemo)(()=>K.map((X,J)=>({...X,onExpand:()=>{var z;pe(J),(z=X.onExpand)===null||z===void 0||z.call(X)}})),[K,pe]),Ie=(0,t.useRef)(new Array(ye.length).fill(!0)),Se=(0,t.useCallback)(X=>{Ie.current=[...Ie.current.slice(0,X),!1,...Ie.current.slice(X+1)]},[]),le="accordion-feature-list-modal-description";return t.createElement(d.dW,{autoClogProps:O,centered:!0,className:n()(y().accordionFeatureListModal,P),closeModal:L,maxWidth:900,UNSAFE_parentSelector:ne,contentLabel:Ee,describedby:le},t.createElement("div",{className:n()(y().bodyContainer,{[y().horchataBg]:U==="horchata",[y().aubergineBg]:U==="aubergine"})},t.createElement("div",{className:n()(y().listContainer,F),"data-qa":I.textContent},t.createElement("div",{className:y().header},!R&&(b??t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(c.A,{uiComponentVariant:v.UiComponentVariant.SOLUTIONS_GALLERY_UPGRADE_MODAL,"aria-hidden":!0}))),t.createElement("h1",{id:le,className:y().title},G),t.createElement("h2",{className:n()(y().subtitle,w),"data-qa":I.subtitle},Y)),t.createElement("div",{className:n()(y().accordionListContainer,M==null?void 0:M.listContainerClassName)},t.createElement(r.n,{accordionItems:ye,className:M==null?void 0:M.className,showImageCaret:!0,showItemBorder:!1,itemClassName:y().accordionItem,itemHeaderClassName:n()(y().accordionItemHeader,M==null?void 0:M.itemHeaderClassName),itemHeaderButtonClassName:n()(y().accordionItemHeaderButton,M==null?void 0:M.itemHeaderButtonClassName),itemDescriptionClassName:n()(y().accordionItemDescription,M==null?void 0:M.itemDescriptionClassName),expandedIconClassName:n()(y().accordionExpandedIcon,M==null?void 0:M.expandedIconClassName),collapsedIconClassName:n()(y().accordionCollapsedIcon,M==null?void 0:M.collapsedIconClassName),imageCaretClassName:n()({[y().horchataCaret]:U==="horchata",[y().aubergineCaret]:U==="aubergine"}),applyCustomAnimation:!0})),S??t.createElement("div",{className:y().footer},t.createElement(u.A,{"button-type":"primary",className:y().upgradeCta,entryPoint:k,openInNewTab:!0,planLevel:h.i6.standard.name}),x&&t.createElement(A.A,{className:"margin_top_100",onClick:V,autoClogProps:B},t.createElement("span",null,x)))),t.createElement("div",{className:n()(y().imageContainer),"data-qa":I.imageContainer},Ie.current[se]&&t.createElement(E.A,{className:y().spinner,size:"large"}),ye.map((X,J)=>{let{getAnimationImport:z,getLocalizedAnimationImport:te,imageAlt:$,imageSrc:q}=X;return t.createElement(g,{key:`${q}-${se}`,getAnimationImport:te??z,index:J,src:q,alt:$,autoplay:se===J,loop:!1,className:n()(y().featureImage,{flex:se===J,align_items_center:se===J,display_none:se!==J},N),onLoad:Se})}))))},"AccordionFeatureListModal");C.displayName="AccordionFeatureListModal"},7241534324:(W,T,e)=>{"use strict";e.d(T,{AH:()=>I,DN:()=>i,DX:()=>S,F5:()=>p,Fq:()=>g,HM:()=>E,KH:()=>L,Kq:()=>C,Rk:()=>O,Sr:()=>a,TJ:()=>P,Xh:()=>u,j:()=>b,ko:()=>l,lD:()=>M,tC:()=>c,tt:()=>_,wV:()=>D});var t=e(1224315998);const s="autocharge_feature_trial";function n(k,K){const N=k??"",R=K?`-${K}`:"";return`${N}${R}`}m(n,"getCombinedPromoTypeStr");function r(k){return k?"discount":"regular"}m(r,"getDiscountStr");function u(k,K,N){return{clogImpression:!0,elementName:`${s}_modal`,stepVariant:n(K,N),elementType:t.ElementType.MODAL,eventId:t.EventId.NEWXP_TEAM_CREATE,uiComponentName:r(k)}}m(u,"getAutoChargeFeatureTrialModalAutoClogProps");function i(k){return{elementName:`${s}_try_slack_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK,uiComponentName:r(k)}}m(i,"getTrySlackProLinkButtonAutoClogProps");const o={elementName:`${s}_view_all_paid_features`,elementType:t.ElementType.LINK,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},a={...o,isPrimaryCTA:!0},_={elementName:`${s}_upgrade_to_pro`,elementType:t.ElementType.LINK,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},l=o,p=s,g={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${s}_start_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},c={contexts:{ui_context:{action:t.UiAction.CLICK,ui_properties:{element_name:`${s}_upgrade_button`,element_type:t.ElementType.BUTTON},is_primary_cta:!0}}},E=s,A="autocharge_feature_trial_admin_overview",d={uiComponentName:`${s}_cancel_pro_plan_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},v={uiComponentName:`${s}_change_plan_details_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},h={clogImpression:!0,uiComponentName:`${s}_cancel_confirmation_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.ADMIN_TEAM_BILLING},f={uiComponentName:`${s}_confirm_cancel_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},y={uiComponentName:`${s}_back_confirmation_modal_button`,elementType:t.ElementType.BUTTON,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},I={elementName:`${s}_payment_section_reveal`,elementType:t.ElementType.COMPONENT,action:t.UiAction.COMPLETE},C={elementName:`${s}_all_features_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},D={clogImpression:!0,uiComponentName:`${s}_comparison_modal`,elementType:t.ElementType.MODAL,eventId:t.EventId.BILLING_CHECKOUT_V2},M={elementName:`${s}_compare_plans_link`,onClick:{enableClogAction:!0}},P={elementName:`${s}_checkout_next_button`,elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,onClick:{enableClogAction:!0},action:t.UiAction.CLICK},S={clogImpression:!0,uiComponentVariant:`${s}_review_step`,action:t.UiAction.IMPRESSION},b={elementName:"purchase_order",elementType:t.ElementType.BUTTON,isPrimaryCTA:!0,action:t.UiAction.CLICK,onClick:{enableClogAction:!0},stepVariant:s},O={elementName:`${s}_checkout_back_billing_info_button`,elementType:t.ElementType.BUTTON,action:t.UiAction.CLICK,onClick:{enableClogAction:!0}};function L(k,K){return{action:t.UiAction.COMPLETE,element_name:`${s}_complete_checkout`,element_value:n(k,K)}}m(L,"getSubmitCompleteAutoChargeTrialStartProp")},5270990260:(W,T,e)=>{"use strict";e.d(T,{J:()=>R});var t=e(3134334389),s=e(6122756707),n=e(1030162945),r=e(5220162857),u=e(8576613356),i=e(7241534324),o=e(4117634716),a=e(8822892075),_=e(5562796568),l=e(7729538251),p=e(7940058138),g=e(6839188756),c=e(677609895),E=e(6084388622),A=e(8739505998),d=e(9196706215),v=e(4094753332),h=e(735940183),f=e(9907843289),y=e(4452574402),I=e(6323355797),C=e(9506008067),D=e(4761125736),M=e(9003400431),P=e(3554387543),S=e(4005238080),b=e(9623497342),O=e(3677514771),L=e(3366751172),k=e.n(L);const K=new h.A("trials");function N(U,x,B,F){return U?x:F?K.rt("{price} per person/month after trial. ",{price:B}):""}m(N,"getFooterText");function R(U){let{onCloseModal:x,entryPoint:B,isEligibleForTrial:F,promoType:V,promoSubtype:Y,trialEndDate:w}=U;const G=(0,s.wA)(),Ee=(0,t.useCallback)(()=>G((0,M.O)()),[G]),ne=(0,C.d4)(O.H7),se=(0,g.F1)(ne),ce=(0,g.tc)(ne),pe=(0,C.d4)(b.$J),ye=(0,C.d4)(P.Pr),Ie=(0,C.d4)(je=>(0,D._Z)(je,"paid_feature_trial_auto_charge_translation",!1)==="on"),Se=(0,C.d4)(P.nc),le=(0,C.d4)(je=>(0,P.MO)(je,I.i6.standard.name,I.ck.monthly)),X=(0,C.d4)(je=>(0,P.UO)(je,I.i6.standard.name,I.ck.monthly)),J=(0,C.d4)(c.X),z=(0,C.d4)(je=>(0,P.iR)(je,I.i6.standard.name,I.ck.monthly)),te=(0,C.d4)(je=>(0,P.h$)(je,I.i6.standard.name,I.ck.monthly)),$=(0,C.d4)(je=>(0,P.Tm)(je,I.i6.standard.name,I.ck.monthly)),q=Boolean(z),re=(0,d.Ay)(w).format("MMMM Do"),de=le?(0,y.ZV)(le,(0,f.Yp)(),{style:"currency",currency:Se,currencyDisplay:"symbol"}):void 0,oe=Ie?K.rt("Free {featureTrialLength} day trial, then a {discountPercent}% off for {discountDuration, plural, =1 {month} other {# months}}, then {monthlyPrice} per person/month. ",{featureTrialLength:I.ew.PAID_FEATURE_TRIAL,monthlyPrice:de,discountPercent:te,discountDuration:$}):"",De=(0,I.tc)({team:ne,promoType:V,promoSubtype:Y,entryPoint:B}),ae=(0,I.Qn)({team:ne,productId:X,excludeDomain:!0,entryPoint:V}),Z=(0,I.hZ)({planLevel:ce?void 0:I.i6.standard.id,entryPoint:V}),ie=N(q,oe,de,ye),Ce=(0,t.useCallback)(()=>{window.open(De,(0,v.y3)()?"_blank":"_self")},[De]),Re=(0,t.useCallback)(()=>{G((0,o.o)((0,a.ZF)(p.c.PaidBenefits))),Ee()},[G,Ee]),He=(0,t.useCallback)(()=>{const je=(0,l.JK)();return(0,r.L_)({experimentPnpGoGroupTreatment:pe}).map(Ae=>({id:Ae.iconName,header:Ae.title,description:Ae.text,iconProps:{name:Ae.iconName},imageAlt:Ae.title,imageSrc:r.XC[Ae.iconName],getAnimationImport:r.wj[Ae.iconName],getLocalizedAnimationImport:(0,r.CQ)(Ae.iconName,je)}))},[pe]),be=(0,i.Xh)(q,V,Y),Ue=(0,i.DN)(q);(0,_.A)(()=>{G((0,b.E5)()),ye||G((0,S.A)())});const me=(0,t.useMemo)(()=>J?t.createElement(t.Fragment,null,t.createElement(E.z9,{autoClogProps:i.tt,href:ae,type:"primary",className:k().cta},K.t("Upgrade to Pro")),t.createElement(A.A,{autoClogProps:i.ko,href:Z,className:k().link},K.t("View all paid features"))):t.createElement(E.z9,{autoClogProps:i.Sr,href:Z,className:k().cta},K.t("View all paid features")),[J,Z,ae]),ve=(0,t.useMemo)(()=>t.createElement("div",{className:k().footer},F&&J?t.createElement(t.Fragment,null,t.createElement(E.z9,{autoClogProps:Ue,onClick:Ce,type:"primary",className:k().cta},K.rt("Try Slack Pro <span>Free for 30 days</span>",null,je=>{let{text:Te}=je;return t.createElement("span",{className:k().light},Te)})),t.createElement("p",{className:k().disclaimer},ie,K.t("Cancel anytime."))):me),[me,F,J,ie,Ce,Ue]),Fe=(0,t.useMemo)(()=>t.createElement("div",{className:k().footer},t.createElement(E.z9,{onClick:Re,className:k().cta},K.t("View all Pro Benefits"))),[Re]),Ke=(0,t.useMemo)(()=>t.createElement("div",{className:"display_flex full_width justify_content_center margin_bottom_50"},t.createElement(n.Ay,{text:"tada",emojiSize:n.lw.LARGE})),[]);let j=K.rt("Explore the premium features of our most popular plan with a free {trialLength}-day trial.",{trialLength:I.ew.PAID_FEATURE_TRIAL});(!F||!J)&&(j=K.rt("Get access to the premium features of our most popular plan."));let ee=K.t("Do even more with Slack Pro");return ce||(ee=K.t("{teamName} now on Slack Pro",{teamName:se}),j=K.rt("Your team now has access to all the goodness of Slack\u2019s Pro plan for free until <strong>{trialEndDate}</strong>",{trialEndDate:re})),t.createElement(u.C,{autoClogProps:be,closeModal:x||Ee,customFooter:ce?ve:Fe,entryPoint:B,featureListItems:He(),subtitle:j,title:ee,customHeaderIcon:ce?void 0:Ke})}m(R,"AutoChargeTrialEntryModal"),R.displayName="AutoChargeTrialEntryModal"},7345807809:(W,T,e)=>{"use strict";e.d(T,{e:()=>l});var t=e(2279207117),s=e(7914553163),n=e(6839188756),r=e(5082930587),u=e(4096483543),i=e(6323355797),o=e(6533394955),a=e(4761125736),_=e(3677514771);function l(p,g,c,E){const A=(0,o.oK)(c);if(!A)return null;const d=(0,u.A)(),v=(0,a._Z)(A.getState(),"pnp_two_go")==="on";if(!p||p===s.MX.TrialFetching)return null;const h=(0,t.FK)(p,v),f=t.np[p];switch(p){case s.MX.TrialIneligible:return{text:h,onClick:()=>{(0,n.gC)((0,_.H7)(A.getState()),"/plans")},autoClogProps:f};case s.MX.TrialEligible:return{text:h,onClick:(0,t.w9)(A.dispatch,g,p),autoClogProps:f};case s.MX.TrialIneligibleUserCannotUpgrade:return{text:h,onClick:()=>{(0,n.gC)((0,_.H7)(A.getState()),"/plans")},autoClogProps:f};case s.MX.TrialTeam:return{text:h,onClick:()=>{if(d){(0,t.uY)(A.dispatch)();return}(0,n.gC)((0,_.H7)(A.getState()),"/help/articles/115003205446-Slack-plans-and-features")},autoClogProps:f};case s.MX.TrialExpiry:return{text:h,onClick:()=>{(0,n.gC)((0,_.H7)(A.getState()),(0,i.Qn)({team:(0,_.H7)(A.getState()),excludeDomain:!0,entryPoint:E}))},autoClogProps:f};default:(0,r.Kh)(p)}}m(l,"freemiumPrimaryCtaAttributes")},2279207117:(W,T,e)=>{"use strict";e.d(T,{FK:()=>f,aD:()=>h,np:()=>v,uY:()=>I,w9:()=>y});var t=e(9392104102),s=e(509725077),n=e(7914553163),r=e(4117634716),u=e(8822892075),i=e(7940058138),o=e(5082930587),a=e(7171435821),_=e(735940183),l=e(6323355797);const p=new _.A("trials_highlight_paid_features"),g={elementName:"try_slack_pro",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},c={elementName:"learn_more_usage_limits",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},E={elementName:"compare_plans",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},A={isPrimaryCTA:!0,elementName:"upgrade_link",onClick:{enableClogAction:!0}},d={isPrimaryCTA:!0,elementName:"upgrade_now",onClick:{enableClogAction:!0}},v={[n.MX.TrialFetching]:t.t0,[n.MX.TrialIneligible]:A,[n.MX.TrialEligible]:g,[n.MX.TrialIneligibleUserCannotUpgrade]:E,[n.MX.TrialTeam]:c,[n.MX.TrialExpiry]:d};function h(C,D){switch(C){case n.MX.TrialTeam:return`https://${(0,a.Xk)()}/help/articles/115003205446-Slack-plans-and-features`;case n.MX.TrialIneligibleUserCannotUpgrade:return(0,l.hZ)({entryPoint:D});default:(0,o.Kh)(C)}}m(h,"getHref");function f(C){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(C){case void 0:case null:case n.MX.TrialFetching:return"";case n.MX.TrialIneligible:return D?p.t("Upgrade to Pro"):p.t("See Upgrade Options");case n.MX.TrialEligible:return D?p.t("Try Slack Pro"):p.t("Start Free Trial");case n.MX.TrialIneligibleUserCannotUpgrade:case n.MX.TrialTeam:return D?p.t("Compare Plans"):p.t("Learn More");case n.MX.TrialExpiry:return p.t("Upgrade Now");default:(0,o.Kh)(C)}}m(f,"getDefaultCopy");function y(C,D,M,P){return()=>{C((0,s.A)({uiComponentVariant:P,promoSubtype:D,freemiumVariant:M}))}}m(y,"getTrialEligibleHandler");function I(C){return()=>C((0,r.o)((0,u.ZF)(i.c.PaidBenefits)))}m(I,"getTrialTeamHandler")},6005700845:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(3134334389),s=e(6122756707),n=e(1267040415),r=e(2279207117),u=e(7914553163),i=e(6084388622),o=e(8739505998),a=e(5082930587),_=e(4096483543),l=e(9506008067),p=e(3810478625);const g=m(E=>{let{variant:A,children:d,promoSubtype:v,modalVariant:h,useLink:f=!1,ctaClassName:y,entryPoint:I}=E;const C=(0,s.wA)(),D=(0,l.d4)(p.g),M=(0,_.A)();if(!A||A===u.MX.TrialFetching)return null;const P=f?o.A:i.z9,S=(0,r.FK)(A,D),b=r.np[A];switch(A){case u.MX.TrialIneligible:return t.createElement(n.A,{useLink:f,autoClogProps:b,className:y},d??S);case u.MX.TrialEligible:return t.createElement(P,{onClick:(0,r.w9)(C,v,A,h),autoClogProps:b,className:y},d??S);case u.MX.TrialIneligibleUserCannotUpgrade:return t.createElement(P,{href:(0,r.aD)(A,I),autoClogProps:b,className:y},d??S);case u.MX.TrialTeam:return t.createElement(P,{href:M?void 0:(0,r.aD)(A,I),autoClogProps:b,onClick:M?(0,r.uY)(C):void 0,className:y},d??S);case u.MX.TrialExpiry:return t.createElement(n.A,{useLink:f,action:"checkout",autoClogProps:b},d??S);default:(0,a.Kh)(A)}},"FreemiumPrimaryCTA");g.displayName="FreemiumPrimaryCTA";const c=g},509725077:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(8300630630),s=e(6323355797),n=e(6304789565),r=e(962959561),u=e(7859253282),i=e(398781533);const o=(0,n.Ay)("Open freemium trial offer modal",async(_,l,p)=>{const g=s.ZO.PaidFeatureTrial,{promoSubtype:c}=p;return _((0,i.Q)({entryPoint:"open_trial_offer_modal",campaignType:g,campaignSubType:c,reason:"freemium_all_features_modal"})),await _((0,t.A)({campaignType:g,campaignSubType:c,reason:c})),(0,r.L9)(l())?_((0,u.r)({promoType:g,promoSubtype:c,entryPoint:"freemium_all_auto_charge_trial_entry_point"})):Promise.resolve()});o.meta={name:"createThunk",key:"createThunkopenFreemiumTrialOfferModal",description:"Open freemium trial offer modal"};const a=o},7914553163:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>A,MX:()=>p});var t=e(3134334389),s=e(6122756707),n=e(6839188756),r=e(677609895),u=e(6323355797),i=e(9506008067),o=e(8871937520),a=e(7268021173),_=e(1384076438),l=e(3677514771);const p={TrialFetching:"trial_fetching",TrialTeam:"trial_team",TrialExpiry:"trial_expiry",TrialEligible:"trial_eligible",TrialIneligible:"trial_ineligible",TrialIneligibleUserCannotUpgrade:"trial_ineligible_user_cannot_upgrade"},g=m(d=>d===p.TrialFetching||d===p.TrialEligible||d===p.TrialIneligible||d===p.TrialIneligibleUserCannotUpgrade,"isFreeVariant"),c=m(d=>d===p.TrialTeam||d===p.TrialExpiry,"isTrialVariant"),A=m(d=>{let{promoType:v=u.ZO.PaidFeatureTrial,promoSubtype:h,context:f,reason:y,isEligibleForTrial:I,trialEndDate:C,isEnabled:D=!0,isPurchaser:M}=d;const P=(0,s.wA)(),S=(0,i.d4)(x=>(0,n.tc)((0,l.H7)(x))),b=(0,i.d4)(a.iH),O=(0,i.d4)(r.X),L=M??O,k=(0,i.d4)(x=>(0,a.hq)(x,v,h)),[K,N]=(0,t.useState)(S);if((0,t.useEffect)(()=>{D&&S&&P((0,_.A)({campaignType:v,campaignSubType:h,context:f,reason:y})).then(()=>{N(!1)})},[P,S,v,h,f,y,k,D]),!D||!(S||b))return null;const R=I!=null;if(K&&!R)return p.TrialFetching;if(b){const B=(0,o.qe)(C);return C!==void 0&&B<=7?p.TrialExpiry:p.TrialTeam}const U=R&&K?I:k;return!U&&!L?p.TrialIneligibleUserCannotUpgrade:U?p.TrialEligible:p.TrialIneligible},"useFreemium")},315153763:(W,T,e)=>{"use strict";e.d(T,{A:()=>Me});var t=e(3134334389),s=e(6122756707),n=e(4844578989),r=e.n(n),u=e(5000515034),i=e(4481313819),o=e(3405119017),a=e(6318661545),_=e(1267040415),l=e(1743656885),p=e(924300050),g=e(5220162857),c=e(2934784510),E=e(4117634716),A=e(8822892075),d=e(5562796568),v=e(7940058138),h=e(6839188756),f=e(6084388622),y=e(1224315998),I=e(735940183),C=e(9506008067),D=e(8871937520),M=e(9003400431),P=e(5512605238),S=e(9623497342),b=e(3677514771),O=e(4970458e3),L=e.n(O);const k=new I.A("trials"),K={elementName:"view_all_paid_benefits_primary_cta",onClick:{enableClogAction:!0}},N=m(we=>{let{trialExpirationDate:Ge,uiStep:Qe}=we;const fe=(0,s.wA)(),Ve=(0,t.useCallback)(()=>{fe((0,M.O)())},[fe]),Be=(0,t.useCallback)(()=>{fe((0,M.O)()),fe((0,E.o)((0,A.ZF)(v.c.PaidBenefits)))},[fe]),Ye=(0,C.d4)(Bt=>(0,h.F1)((0,b.H7)(Bt))),et=(0,C.d4)(P.F),at=(0,C.d4)(S.$J);(0,d.A)(()=>{fe((0,S.E5)())});const gt=(0,t.useMemo)(()=>({...K,uiStep:Qe}),[Qe]),Mt=m(()=>t.createElement(f.Ay,{"aria-label":k.t("Paid benefits link"),autoClogProps:gt,className:L().primaryCta,onClick:Be},k.rt("Explore All Pro Features")),"getCustomFooter");return t.createElement(i.A,{eventId:y.EventId.UPGRDEXP_TRIAL,uiComponentName:y.UiComponentName.TRIAL_START_SHOWCASE_ALL_FEATURES_MODAL,uiStep:Qe},t.createElement(p.A,{featureList:(0,g.L_)({experimentPnpGoGroupTreatment:at}),modalTitle:k.rt("{teamName} is on a free trial \u{1F389}",{teamName:Ye}),modalSubtitle:k.rt("Explore all the premium features of our most popular plan, Slack Pro, through {trialExpirationDate}.",{trialExpirationDate:t.createElement("strong",null,(0,D.Pd)(Ge))}),customFooter:Mt(),onRequestClose:Ve,maxWidth:832,videoTitle:k.t("Comparison of free vs. paid Slack Video for users on free teams")}),t.createElement(c.A,{shouldShow:et}))},"TrialStartAllFeaturesModal");N.displayName="TrialStartAllFeaturesModal";const R=N;var U=e(6304789565),x=e(2375333597);const B=(0,U.Ay)("Open global trial start all features modal",async(we,Ge,Qe)=>{let{trialExpirationDate:fe}=Qe;return we((0,x.q)({element:t.createElement(R,{trialExpirationDate:fe,uiStep:y.UiStep.GLOBAL_TRIAL_START_MODAL})}))});B.meta={name:"createThunk",key:"createThunkopenTrialStartAllFeaturesModal",description:"Open global trial start all features modal"};const F=B;var V=e(2551341535),Y=e(3226207882),w=e(5641442783),G=e(4963725897),Ee=e(8739505998),ne=e(8683010724),se=e(9702400417),ce=e(9907843289),pe=e(4452574402),ye=e(6323355797),Ie=e(6259241484),Se=e(3554387543),le=e(3009309149),X=e(6209625934),J=e(4761125736);const z=(0,le.Ay)(we=>(0,J._Z)(we,"promote_plan_visibility_v2",!1));z.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2GetAssignment",description:we=>(0,J._Z)(we,"promote_plan_visibility_v2",!1)};const te=(0,le.Ay)(we=>(0,J._Z)(we,"promote_plan_visibility_v2",!1)==="control");te.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsControl",description:we=>(0,J._Z)(we,"promote_plan_visibility_v2",!1)==="control"};const $=(0,le.Ay)(we=>(0,J._Z)(we,"promote_plan_visibility_v2",!1)==="treatment");$.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsTreatment",description:we=>(0,J._Z)(we,"promote_plan_visibility_v2",!1)==="treatment"};const q=(0,le.Ay)(we=>{var Ge;return["treatment"].includes((Ge=(0,J._Z)(we,"promote_plan_visibility_v2",!1))!==null&&Ge!==void 0?Ge:"")});q.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsAnyTreatment",description:we=>{var Ge;return["treatment"].includes((Ge=(0,J._Z)(we,"promote_plan_visibility_v2",!1))!==null&&Ge!==void 0?Ge:"")}};const re=(0,le.Ay)(we=>te(we)||q(we));re.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsExposed",description:we=>te(we)||q(we)};const de=(0,le.Ay)(we=>{var Ge;return["aa_control","aa_treatment"].includes((Ge=(0,J._Z)(we,"promote_plan_visibility_v2",!1))!==null&&Ge!==void 0?Ge:"")});de.meta={name:"createSelector",key:"createSelectorpromotePlanVisibilityV2IsAAExposed",description:we=>{var Ge;return["aa_control","aa_treatment"].includes((Ge=(0,J._Z)(we,"promote_plan_visibility_v2",!1))!==null&&Ge!==void 0?Ge:"")}};const oe=m(we=>{const Ge=(0,J.KK)(we,"promote_plan_visibility_v2");Ge&&Ge.log_exposures&&(0,X.K)("promote_plan_visibility_v2",Ge,we)},"promotePlanVisibilityV2LogExposure"),De=(0,U.Ay)("Log exposure for the promote_plan_visibility_v2 experiment if it is exposed",(we,Ge)=>{const Qe=Ge();(re(Qe)||de(Qe))&&oe(Qe)});De.meta={name:"createThunk",key:"createThunkpromotePlanVisibilityV2MaybeLogExposure",description:"Log exposure for the promote_plan_visibility_v2 experiment if it is exposed"};var ae=e(9377084484),Z=e.n(ae);const ie=0,Ce=new I.A("promote_plan_visibility");function Re(we){let{canUserPurchase:Ge=!1,isTrialEligible:Qe=!1,hideLastRow:fe=!1}=we;const Ve=(0,s.wA)(),Be=(0,C.d4)($),Ye=(0,C.d4)(S.$J);(0,d.A)(()=>{Ve((0,S.E5)())});const et=(0,C.d4)(Pe=>(0,Se.MO)(Pe,ye.i6.standard.name,ye.ck.monthly)),at=(0,C.d4)(Pe=>(0,Se.C8)(Pe,ye.i6.standard.name,ye.ck.monthly)),gt=(0,C.d4)(Pe=>(0,Se.MO)(Pe,ye.i6.plus.name,ye.ck.monthly)),Mt=(0,C.d4)(Pe=>(0,Se.C8)(Pe,ye.i6.plus.name,ye.ck.monthly)),Bt=(0,C.d4)(Se.nc),Ct=(0,C.d4)(Se.Pr),Ft=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":Ce.t("Feature available"),className:"p-icon_container p-check_icon_container"},t.createElement(ne.A,{name:"check",variation:"filled"})),[]),kt=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":Ce.t("Feature unavailable"),className:"p-icon_container"},t.createElement(ne.A,{name:"minus",variation:"filled"})),[]),Et=(0,t.useMemo)(()=>[Ie.xu.CLIENT_HEADER_RIGHT,Ie.xu.SIDEBAR_FOOTER,Ie.xu.SIDEBAR_MENU_HEADER],[]),mt=(0,t.useMemo)(()=>t.createElement("div",{className:Z().missingText},t.createElement(u.A,{size:"large"}),t.createElement(u.A,{size:"large"})),[]),Rt=(0,t.useMemo)(()=>{if(Ct){const Pe=(0,se.A)(et,Bt),qe=at?(0,se.A)(at,Bt):null,At=t.createElement(t.Fragment,null,t.createElement("div",{className:Z().costLabel,"data-qa":"plans-cost-label"},Pe),t.createElement("div",{className:Z().costLabelSubtitle},Ce.t("per person/month"))),xt=t.createElement(t.Fragment,null,t.createElement("div",{className:Z().costLabel,"data-qa":"plans-cost-label"},t.createElement("span",{className:Z().discountedPrice},qe),t.createElement("span",{className:Z().typicalPriceWithStrikethrough},Pe)),t.createElement("div",{className:Z().costLabelSubtitle},Ce.t("per person/month")));return at?xt:At}return mt},[Ct,et,Bt,at,mt]),Ht=(0,t.useMemo)(()=>{if(Ct){const Pe=(0,se.A)(gt,Bt),qe=Mt?(0,se.A)(Mt,Bt):null,At=t.createElement(t.Fragment,null,t.createElement("div",{className:Z().costLabel,"data-qa":"plans-cost-label"},Pe),t.createElement("div",{className:Z().costLabelSubtitle},Ye?Ce.t("per person/month"):"")),xt=t.createElement(t.Fragment,null,t.createElement("div",{className:Z().costLabel,"data-qa":"plans-cost-label"},t.createElement("span",{className:Z().discountedPrice},qe),t.createElement("span",{className:Z().typicalPriceWithStrikethrough},Pe)),t.createElement("div",{className:Z().costLabelSubtitle},Ye?Ce.t("per person/month"):""));return Mt?xt:At}return mt},[Ct,gt,Bt,Mt,Ye,mt]),ft=(0,t.useMemo)(()=>{const Pe=m(()=>{if(Ct){const qe=(0,pe.ZV)(ie,(0,ce.Yp)(),{style:"currency",currency:Bt,currencyDisplay:"symbol",maximumFractionDigits:0});return t.createElement("span",{className:Z().costLabel},qe)}return mt},"getFreePrice");return Pe.displayName="getFreePrice",t.createElement(t.Fragment,null,t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("div",{className:Z().planHeaderContainer},t.createElement("span",{className:r()(Z().planLabel,Z().freeLabel)},Ce.t("Free")),t.createElement("div",{className:"p-cost_label_container"},Pe())))},[Ct,Bt,mt]),Jt=t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro"}),t.createElement("div",{className:Z().planHeaderContainer},t.createElement("span",{className:r()(Z().planLabel,Z().proLabel)},Ce.t("Slack Pro"),t.createElement("div",{className:Z().trialProBadge},t.createElement(w.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:y.UiComponentVariant.PLANS_AT_GLANCE}))),Rt)),Zt=t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:Z().planHeaderContainer},t.createElement("span",{className:r()(Z().planLabel,Z().bizPlusLabel)},Ye?Ce.t("Business+"):""),Ht)),Tt=(0,t.useCallback)(()=>{const Pe=Ye?(0,Y.dQ)(Ye):(0,Y.QH)();return Pe.map((qe,At)=>{const{key:xt,description:jt,freeDesc:Xt,descriptionToolTip:en,title:Qt,paidDesc:ht,descriptionClassName:Nt,bizPlusDesc:on}=qe;let Vt;const qt=fe&&Pe.length-1===At;Xt==="included"?Vt=Ft:Xt==="-"?Vt=kt:Vt=Xt;let rn=ht||Ft;rn==="-"&&(rn=kt);const vn=on||Ft;return Qt?t.createElement("div",{key:xt,className:"p-grid_item p-first_column p-feature_heading"},Qt):t.createElement(V.A,{key:xt,description:jt,freeDesc:Vt,paidDescription:rn,descriptionToolTip:en,descriptionClassName:Nt,isExperimentPromotePlanVisibilityGroupTreatment:Be,bizPlusDescription:vn,lastItem:qt})})},[Ft,Ye,Be,kt,fe]),Pt=(0,C.d4)(Pe=>(0,ye.m6)(Pe,{action:"checkout",productLevel:ye.i6.standard.id,entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),Kt=(0,C.d4)(Pe=>(0,ye.m6)(Pe,{action:"checkout",productLevel:ye.i6.plus.id,entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),dn=(0,t.useCallback)(Pe=>{let{trialExpirationDate:qe}=Pe;Ve(F({trialExpirationDate:qe}))},[Ve]),sn=(0,t.useMemo)(()=>Ge||Qe?t.createElement(f.z9,{href:Kt,autoClogProps:Y.m2,disabled:!Ct,type:"outline",className:Z().bizPlusUpgradeButton},Ye?Ce.t("Upgrade Now"):""):null,[Ge,Qe,Ye,Ct,Kt]),H=(0,t.useMemo)(()=>{switch(!0){case(Ge&&!Qe||Be&&Ge):return t.createElement(f.z9,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",href:Pt,autoClogProps:Y.m2,disabled:!Ct},t.createElement("span",{className:Z().upgradeRocketIcon},t.createElement(ne.A,{name:"rocket"})),Ce.t("Upgrade Now"));case(!Be&&Qe):return t.createElement("div",{className:Z().trialEligibleCellContainer},t.createElement(G.A,{"data-qa":"plans-at-glance-trial-start-btn",reason:"plan_visibility_plans_at_glance_modal",className:Z().trialStartCta,megaphoneSpacesToRefresh:Et,onRequestComplete:dn,promoType:ye.ZO.GlobalEntrypointTrial,autoClogProps:Y.Go,disabled:!Ct},Ce.t("Start Free Trial")),t.createElement(Ee.A,{"data-qa":"plans-at-glance-trial-eligible-upgrade-now-link-btn",href:Pt,className:Z().upgradeLink,autoClogProps:Y.m2,disabled:!Ct},Ce.t("Upgrade Now")));default:return Ce.rt("Contact your team admin to upgrade. Learn more about <a>Slack plans and features</a>",{},Pe=>{let{text:qe}=Pe;return t.createElement(l.A,{className:"bold",articleId:115003205446},qe)})}},[Ge,Pt,Be,Ct,Qe,Et,dn]),Ne=(0,t.useCallback)(()=>t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:"p-grid_item p-mid_column p-last_row "},t.createElement(f.Ay,{type:"outline",className:r()([Z().disabledCurrentPlanButton],{[Z().trialEligibleCurrentPlanBtn]:!Be&&Qe}),disabled:!0},Ce.t("Current Plan"))),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom_right_ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,H))),Ye?t.createElement("div",{className:"p-grid_item p-last_row p-bottom_right_ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,sn))):null),[Qe,Be,H,Ye,sn]);return t.createElement("div",{"data-qa":"plan_visibility_plans_at_glance_table",className:r()("p-plans_at_glance_table_container",{"p-plans_at_glance_table_container--with_biz_plus":Ye})},t.createElement("div",{className:"p-grid_item p-first_column p-top_left_ele"}),t.createElement("div",{className:"p-grid_item p-free_heading"},ft),t.createElement("div",{className:r()("p-grid_item p-last_column p-pro_heading",{"p-top_right_ele":!Ye})},Jt),Ye?t.createElement("div",{className:"p-grid_item p-top_right_ele p-biz_plus_heading"},Zt):null,Tt(),!fe&&Ne())}m(Re,"PlanVisibilityPlansTable");var He=e(7241534324),be=e(1022447908),Ue=e(980293773),me=e(3328068409),ve=e(4005238080),Fe=e(3474336343),Ke=e(8942756594),j=e(4658834077),ee=e(5512849639),je=e.n(ee);function Te(){return Te=Object.assign||function(we){for(var Ge=1;Ge<arguments.length;Ge++){var Qe=arguments[Ge];for(var fe in Qe)Object.prototype.hasOwnProperty.call(Qe,fe)&&(we[fe]=Qe[fe])}return we},Te.apply(this,arguments)}m(Te,"_extends");const Je=new I.A("guided_trials"),Ae=m(we=>{let{onComplete:Ge,canUserPurchase:Qe=!1,onFreeButtonClick:fe,onProButtonClick:Ve,from:Be,isProFirst:Ye=!1,trialEligible:et,discountExpirationDate:at,maxWidth:gt=1e3}=we;const Mt=(0,s.wA)(),Bt=(0,C.d4)(me.to),Ct=Be===Y.FM.setup,Ft=Be===Y.zX.reverseTrial,kt=Be===Y.Cx.trialCheckout,Et=(0,C.d4)(j.j9),mt=(0,C.d4)($),Rt=(0,C.d4)(Fe.BI),Ht=(0,C.d4)(S.$J);(0,d.A)(()=>{Mt((0,S.E5)())});const Jt=(0,C.d4)(Ke.RN)&&Be===Y.$X.proUpgradeToBizPlus,Zt=(0,C.d4)(Se.Pr),Tt=(0,C.d4)(en=>(0,Se.h$)(en,ye.i6.standard.name,ye.ck.monthly)),Pt=(0,C.d4)(Se.Ik),Kt=(0,C.d4)(en=>(0,Se.ZQ)(en)===ye.k2.Local);(0,t.useEffect)(()=>{Zt||Mt((0,ve.A)())},[Zt,Mt]);const dn=(0,t.useCallback)(()=>t.createElement(be.A,{from:Be,canUserPurchase:Qe,onProButtonClick:Ve,onFreeButtonClick:fe,isProFirst:Ye}),[Be,Qe,Ve,fe,Ye]),sn=(0,t.useCallback)(()=>t.createElement(Re,{canUserPurchase:Qe,isTrialEligible:et,hideLastRow:kt}),[Qe,et,kt]),H=Je.t("More analytics, data exports, control and access."),Ne=(0,t.useCallback)(()=>Jt?H:Zt?Tt?Ct||Rt?Rt?null:Kt?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle"},Je.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span>",{discountPercentage:Tt,fallbackHash:"e4c0c7472086c149005d84f24f81835ab3afb6d8"},en=>{let{text:Qt,key:ht}=en;return t.createElement("span",{key:ht,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Qt,"*")})):t.createElement("div",{className:"p-plans_at_glance_modal_subtitle"},Je.rt("Pro plan includes <span>{discountPercentage}% off discount</span> on your first {discountDuration} months",{discountPercentage:Tt,discountDuration:Pt},en=>{let{text:Qt,key:ht}=en;return t.createElement("span",{key:ht,className:"p-plans_at_glance_modal_subtitle--highlight"},Qt)})):Ft?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle p-plans_at_glance_modal_subtitle--reverse_trial"},Je.rt("Upgrade to Pro before {discountExpirationDate} and get <span>{discountPercentage}% off</span> your first {discountDuration} months.",{discountDuration:Pt,discountExpirationDate:at,discountPercentage:Tt},en=>{let{text:Qt,key:ht}=en;return t.createElement("span",{key:ht,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Qt)})):Ht?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle_ppv"},Pt?Je.rt("All plan prices include a <span>{discountPercentage}% off discount</span> on your first {discountDuration} months.",{discountPercentage:Tt,discountDuration:Pt},en=>{let{text:Qt,key:ht}=en;return t.createElement("span",{key:ht,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Qt)}):Je.rt("All plan prices include a <span>{discountPercentage}% off discount</span>.",{discountPercentage:Tt},en=>{let{text:Qt,key:ht}=en;return t.createElement("span",{key:ht,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Qt)})):mt?t.createElement("div",{className:"p-plans_at_glance_modal_subtitle_ppv"},Pt?Je.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span> on your first {discountDuration} months.",{discountPercentage:Tt,discountDuration:Pt},en=>{let{text:Qt,key:ht}=en;return t.createElement("span",{key:ht,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Qt)}):Je.rt("Pro plan price includes a <span>{discountPercentage}% off discount</span>.",{discountPercentage:Tt},en=>{let{text:Qt,key:ht}=en;return t.createElement("span",{key:ht,className:"p-plans_at_glance_modal_subtitle_ppv--highlight"},Qt)})):null:null:t.createElement(u.A,{className:"p-plans_at_glance_subtitle--loader",size:"large"}),[Zt,Tt,Ct,Ft,Ht,mt,Kt,Pt,at,Rt,Jt,H]);let Pe=Ct?(0,o.ie)():{};Ct?Pe=(0,o.ie)():kt?Pe=He.wV:Jt&&(Pe=(0,a.jY)());let qe;Ct?qe=(0,o.Bp)():mt?qe={elementName:"compare_plans_link",onClick:{enableClogAction:!0}}:kt?qe=He.lD:Jt?qe=(0,a.z6)():qe={};const At=Je.t("Compare all plans and features",{fallbackHash:"25b4512cd1e5f60c2b12b4403aad6efb7bf1f559"}),xt=(0,t.useCallback)(()=>{let en="",Qt=Je.t("Compare all plans");return Qe&&!mt?en="guided_trials_plans_at_glance_compare_plans_cta":mt&&(en="plan_visibility_plans_at_glance_compare_plans_cta"),Ct&&(en="straight_to_paid_plans_modal_cta"),kt&&(en="auto_charge_feature_trial_modal_cta"),Jt&&(en="pro_to_biz_plus_upgrade_boost",Qt=At),t.createElement(_.A,{"data-qa":"plans-at-glance-compare-plans-btn",className:r()({"p-plans_at_glance_compare_plans_cta":Qe&&!mt,"p-plans_at_glance_compare_plans_cta_ppv":mt}),useLink:!0,entryPoint:en,autoClogProps:qe},Qt,t.createElement("div",{className:"margin_left_25 p-plans_at_glance_new_window_icon_color"},t.createElement(ne.A,{name:"new-window"})))},[Qe,qe,mt,kt,Jt,Ct,At]),jt=Je.t("Do more with Business+"),Xt=(0,t.useMemo)(()=>Ht?Je.t("Choose the plan that\u2019s right for you"):Jt?jt:Je.t("Compare Free and Slack Pro Plans"),[Ht,Jt,jt]);return t.createElement(i.A,Te({uiComponentName:mt?y.UiComponentName.PPV_PLANS_AT_GLANCE_MODAL:y.UiComponentName.GUIDED_TRIAL_PLANS_AT_GLANCE_MODAL},Pe,{clogImpression:!0}),t.createElement(Ue.aF,{maxWidth:gt,centered:!0,isOpen:!0,labelledby:"trials_plans_at_glance_modal",className:r()("p-plans_at_glance_modal",`p-plans_at_glance_modal--${Bt}`,{"p-plans_at_glance_modal--pro_to_biz_plus_upgrade":Jt}),onClose:Ge,closeButtonTone:Jt?"dark":void 0},t.createElement(Ue.rQ,null,t.createElement(Ue.Rc,{"data-qa":"plans_at_glance_heading",title:Xt,subtitle:Ne(),className:r()({"p-plans_at_glance_modal_title":!mt,"p-plans_at_glance_modal_title--reverse_trial":!mt&&Et,"p-plans_at_glance_modal_title_ppv":mt,"p-plans_at_glance_modal_title_ppv--reverse_trial":mt&&Et}),titleTextClassName:r()({"p-plans_at_glance_modal_title--discount":Ct,"p-plans_at_glance_modal_title_bar--reverse_trial":Et,"p-plans_at_glance_modal_title_ppv--discount":mt&&Tt})},Jt?t.createElement("img",{className:"p-plans_at_glance_modal_header_img",src:je(),alt:""}):null)),t.createElement(Ue.$m,{className:r()({"p-plans_at_glance_modal_content":!mt,"p-plans_at_glance_modal_content_ppv":mt||kt})},t.createElement(Ue.qf,{className:mt?"p-plans_at_glance_modal_section_ppv":"p-plans_at_glance_modal_section"},mt&&!Ct||kt?sn():dn()),t.createElement(Ue.qf,{className:r()("p-plans_at_glance_compare_plans_section",{"p-plans_at_glance_modal_section_ppv":mt,"p-plans_at_glance_modal_section":!mt})},Kt&&t.createElement("div",{className:"p-plans_at_glance_modal_offer_disclaimer"},"*Limited-time offer subject to change at Slack\u2019s discretion."),(Qe||mt)&&xt()))))},"PlansAtGlance");Ae.displayName="PlansAtGlance";const Me=Ae},2551341535:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(8739505998),u=e(2312625946),i=e(9506008067),o=e(9623497342);function a(l){let{description:p,freeDesc:g,paidDescription:c,descriptionToolTip:E,descriptionClassName:A,isExperimentPromotePlanVisibilityGroupTreatment:d,isProFirst:v=!1,showBizPlus:h=!0,bizPlusDescription:f,isProToBizPlusUpgrade:y=!1,lastItem:I=!1}=l;const C=(0,i.d4)(o.$J),D=E?t.createElement(u.Ay,{tip:E,tipClassName:n()({"p-plans_at_glance_tooltip_ppv":d}),position:"top"},t.createElement(r.A,{className:n()("p-grid_item__description--tooltip",{"p-grid_item__description--tooltip-ppv":d})},t.createElement("span",{className:n()({[`${A}`]:!!A})},p))):p;if(C&&h)return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column"},D),t.createElement("div",{className:"p-grid_item p-mid_column"},g),t.createElement("div",{className:"p-grid_item p-last_column"},c),t.createElement("div",{className:"p-grid_item p-mid_column"},f));const M=m(()=>y?t.createElement(t.Fragment,null,t.createElement("div",{className:n()("p-grid_item p-mid_column",{"p-last_row":I})},c),t.createElement("div",{className:n()("p-grid_item p-last_column",{"p-last_row":I,"p-bottom-right-ele":I})},f)):v?t.createElement(t.Fragment,null,t.createElement("div",{className:n()("p-grid_item p-last_column",{"p-last_row":I})},c),t.createElement("div",{className:n()("p-grid_item p-mid_column",{"p-last_row":I,"p-bottom-right-ele":I})},g)):t.createElement(t.Fragment,null,t.createElement("div",{className:n()("p-grid_item p-mid_column",{"p-last_row":I})},g),t.createElement("div",{className:n()("p-grid_item p-last_column",{"p-last_row":I,"p-bottom-right-ele":I})},c)),"getRowItems");return M.displayName="getRowItems",t.createElement(t.Fragment,null,t.createElement("div",{className:n()("p-grid_item p-first_column",{"p-last_row":I,"p-bottom_left_row_ele":I})},D),M())}m(a,"RowItem"),a.displayName="RowItem";const _=a},1022447908:(W,T,e)=>{"use strict";e.d(T,{A:()=>K});var t=e(3134334389),s=e(6122756707),n=e(4844578989),r=e.n(n),u=e(5000515034),i=e(6318661545),o=e(1267040415),a=e(2551341535),_=e(3226207882),l=e(7949425452),p=e(5641442783),g=e(5562796568),c=e(6839188756),E=e(6084388622),A=e(8739505998),d=e(8683010724),v=e(2312625946),h=e(1224315998),f=e(9702400417),y=e(735940183),I=e(9907843289),C=e(4452574402),D=e(6323355797),M=e(9506008067),P=e(3554387543),S=e(3474336343),b=e(8942756594),O=e(9623497342),L=e(3677514771);const k=new y.A("guided_trials");function K(N){let{from:R,canUserPurchase:U=!1,onProButtonClick:x,onFreeButtonClick:B,isProFirst:F=!1}=N;const[V,Y]=(0,t.useState)(!1),w=(0,s.wA)(),G=(0,M.d4)(O.$J),Ee=(0,M.d4)(S.BI);(0,g.A)(()=>{w((0,O.E5)())});const ne=R===_.FM.setup,se=(0,M.d4)(fe=>(0,P.MO)(fe,D.i6.standard.name,D.ck.monthly)),ce=(0,M.d4)(fe=>(0,P.MO)(fe,D.i6.plus.name,D.ck.monthly)),pe=(0,M.d4)(fe=>(0,P.MO)(fe,D.i6.plus.name,D.ck.yearly)),ye=(0,M.d4)(P.nc),Ie=(0,M.d4)(P.Pr),Se=(0,M.d4)(fe=>(0,P.C8)(fe,D.i6.standard.name,D.ck.monthly)),le=(0,M.d4)(fe=>(0,P.C8)(fe,D.i6.plus.name,D.ck.monthly)),X=(0,M.d4)(fe=>(0,P.C8)(fe,D.i6.standard.name,D.ck.monthly)),J=(0,M.d4)(fe=>(0,P.MO)(fe,D.i6.standard.name,D.ck.monthly)),z=(0,M.d4)(fe=>(0,P.MO)(fe,D.i6.standard.name,D.ck.yearly)),$=(0,M.d4)(b.RN)&&R===_.$X.proUpgradeToBizPlus,q=(0,M.d4)(P.EV),re=(0,M.d4)(L.H7),de=R&&R===_.eX.proDowngradeToFree,oe=R&&R===_.eX.bizPlusDowngradeToPro,De=R&&R===_.eX.bizPlusDowngradeToFree,ae=de||oe||De,Z=(0,t.useMemo)(()=>t.createElement("div",{className:"p-check_icon_container"},$?t.createElement(d.A,{name:"check-circle",variation:"filled",size:"20"}):t.createElement(d.A,{name:"check",variation:"filled"})),[$]),ie=(0,t.useMemo)(()=>t.createElement("div",{"aria-label":G?k.t("Feature unavailable"):"",className:"p-icon_container"},t.createElement(d.A,{name:"minus",variation:"filled"})),[G]),Ce=(0,t.useCallback)(()=>{if(de){const fe=(0,_.H0)().filter(Ye=>!Ye.isHidden),Ve=V?fe:[],Be=[...(0,_.KJ)(de)];return Be.splice(5,1),[...Be,...Ve]}return oe?V?(0,_.NQ)():(0,_.Qv)():De?V?(0,_.qD)():(0,_.Rq)():G?(0,_.dQ)(G):ne?(0,_.VK)():$?(0,_.G)():(0,_.KJ)()},[G,ne,de,V,oe,De,$]),Re=(0,t.useCallback)(()=>Ce().map(Ve=>{const{key:Be,description:Ye,freeDesc:et,descriptionToolTip:at,title:gt,paidDesc:Mt,descriptionClassName:Bt,bizPlusDesc:Ct}=Ve;let Ft,kt=Mt||Z;const Et=Ct||Z;return et==="included"?Ft=Z:G&&et==="-"?Ft=ie:Ft=et,G&&kt==="-"&&(kt=ie),gt?t.createElement("div",{key:Be,className:"p-grid_item p-first_column p-feature_heading"},gt):t.createElement(a.A,{key:Be,description:Ye,freeDesc:Ft,paidDescription:kt,descriptionToolTip:at,descriptionClassName:Bt,isProFirst:F,bizPlusDescription:Et,showBizPlus:!ne&&!ae,isProToBizPlusUpgrade:$})}),[Ce,Z,G,F,ne,ie,ae,$]),He=k.t("Recommended",{fallbackHash:"9ef937556efe782b8e9bf8ef16e540c185c5bf00",fallbackHashNs:"slack_connect"}),be=(0,t.useMemo)(()=>t.createElement(t.Fragment,null,t.createElement("div",null)," ",t.createElement("div",null)," ",t.createElement("div",{className:"p-business_plus_recommended_label"},He)),[He]),Ue=k.t("per person/month"),me=(0,t.useMemo)(()=>{if(Ie){const fe=le??ce,Ve=(0,f.A)(ce,ye)||"",Be=(0,f.A)(pe,ye)||"",Ye=(0,f.A)(fe,ye)||"";return $?t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},t.createElement("div",{className:"p-plans_at_glance_price_label"},Be),t.createElement(v.Ay,{tip:k.rt(`{yearlyPrice} per person/month when billed yearly.
{monthlyPrice}\xA0per person/month when billed monthly`,{monthlyPrice:Ve,yearlyPrice:Be}),position:"top"},t.createElement("div",{className:r()("p-grid_item__description--tooltip","p-plans_at_glance_per_person_label")},Ue))):t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},G?k.rt("<strong>{price}</strong> per person/month",{price:Ye}):"")}return t.createElement(u.A,{size:"large"})},[G,Ie,ce,pe,le,ye,$,Ue]),ve=(0,t.useMemo)(()=>{if(Ie){const fe=Se??se,Ve=(0,f.A)(J,ye)||"",Be=(0,f.A)(z,ye)||"",Ye=(0,f.A)(fe,ye)||"",et=t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},k.rt("<strong>{price}</strong> per person/month",{price:Ye,fallbackHash:"df455fb3e5435ee03f306fa03ca5327f0047c2c9"}));return $?t.createElement("span",{className:"p-plans_at_glance_cost_label","data-qa":"plans-cost-label"},t.createElement("div",{className:"p-plans_at_glance_price_label"},Be),t.createElement(v.Ay,{tip:k.rt(`{yearlyPrice} per person/month when billed yearly.
{monthlyPrice} per person/month when billed monthly`,{monthlyPrice:Ve,yearlyPrice:Be}),position:"top"},t.createElement("div",{className:r()("p-grid_item__description--tooltip","p-plans_at_glance_per_person_label")},Ue))):Ee&&ne?t.createElement("div",{className:"p-plans_at_glance_cost-label-container"},t.createElement("span",{className:"p-plans_at_glance_discount-label-lpt margin_top_25"},k.rt("Free 30-day trial, then {price} per person/month. Cancel anytime.",{price:(0,C.ZV)(J,(0,I.Yp)(),{style:"currency",currency:ye,currencyDisplay:"symbol"})||""}))):ne||X?t.createElement("div",{className:"p-plans_at_glance_cost-label-container"},t.createElement("span",{className:"p-plans_at_glance_original-label","data-qa":"plans-cost-full"},k.rt("<s>{price} per person/month</s>",{price:(0,C.ZV)(J,(0,I.Yp)(),{style:"currency",currency:ye,currencyDisplay:"symbol"})||""})),t.createElement("span",{className:"p-plans_at_glance_discount-label","data-qa":"plans-cost-discount"},X&&k.rt("<strong>{price}</strong> per person/month",{price:(0,C.ZV)(X,(0,I.Yp)(),{style:"currency",currency:ye,currencyDisplay:"symbol"})||""}))):et}return t.createElement(u.A,{size:"large"})},[Ie,Se,se,J,z,ye,ne,X,Ee,$,Ue]),Fe=k.t("Current"),Ke=k.t("Pro",{fallbackHash:"7d5ab95fe223d2b150ac40f07e16ec06ad8a87d8"}),j=(0,t.useCallback)(()=>$?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-mid_column p-first_row"},t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},t.createElement("div",{className:"p-plans_at_glance_table_heading_with_badge_container"},Ke,t.createElement("div",{className:"p-plans_at_glance_table_current_plan_badge"},Fe)),t.createElement("div",{className:"p-cost_label_container"},ve))),t.createElement("div",{className:"p-grid_item p-top_right_ele p-last_column p-first_row"},t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},k.t("Business+"),t.createElement("div",{className:"p-cost_label_container"},me)))):F?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-last_column"},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},k.t("Slack Pro",{fallbackHash:"7d5ab95fe223d2b150ac40f07e16ec06ad8a87d8"})),t.createElement(p.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:h.UiComponentVariant.PLANS_AT_GLANCE}),de&&t.createElement(l.J,{autoClogProps:_.t8}))),t.createElement("div",{className:"p-grid_item p-free_heading p-top_right_ele"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},k.t("Free")))):t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-free_heading"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},oe?k.t("Slack Pro"):k.t("Free"))),t.createElement("div",{className:r()("p-grid_item p-last_column p-pro_heading",{"p-top_right_ele":!G&&!ne})},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_pro "}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},oe||De?k.t("Business+"):k.t("Slack Pro")),t.createElement(p.A,{hideTooltip:!0,className:"margin_left_50 p-plans_at_glance_trial_badge",uiComponentVariant:h.UiComponentVariant.PLANS_AT_GLANCE}),de&&t.createElement(l.J,{autoClogProps:_.t8})))),[G,De,oe,de,me,ve,F,$,ne,Fe,Ke]),ee=(0,M.d4)(fe=>(0,D.m6)(fe,{action:"checkout",productLevel:D.i6.standard.id,entryPoint:"guided_trials_plans_at_glance_upgrade_cta"})),je=(0,M.d4)(fe=>(0,D.m6)(fe,{action:"checkout",productId:q===D.ck.yearly?"plus_y":"plus_m",entryPoint:"plan_visibility_plans_at_glance_upgrade_cta"})),Te=k.t("Learn More"),Je=(0,t.useMemo)(()=>U?t.createElement(E.z9,{href:je,autoClogProps:_.m2,type:$?"primary":"outline",className:"p-plans_at_glance_upgrade_now_btn--biz_plus"},k.t("Upgrade Now")):$?t.createElement(E.z9,{className:"p-plans_at_glance_upgrade_now_btn--biz_plus",href:"plans/plus",target:"_blank",type:"primary",autoClogProps:_.j3},Te):t.createElement(o.A,{entryPoint:"guided_trials_plans_at_glance_compare_plans_cta",autoClogProps:_.lp,type:"outline",className:"p-plans_at_glance_upgrade_now_btn--biz_plus"},k.t("See Upgrade Options")),[U,je,$,Te]),Ae=(0,t.useMemo)(()=>t.createElement(E.Ay,{type:"outline",className:"full_width",onClick:B},k.t("Start with Free",{fallbackHashNs:"setup_straight_to_paid"})),[B]),Me=(0,t.useMemo)(()=>ne?t.createElement(E.Ay,{onClick:x,type:"primary",className:"p-plans_at_glance__pro-button"},Ee?k.t("Try Slack Pro"):k.t("Start with Pro",{fallbackHash:"20ffc4d58d6601a4d03afbbd32bf1b5e680b9343",fallbackHashNs:"setup_straight_to_paid"})):U?t.createElement(E.z9,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",href:ee,autoClogProps:_.m2},t.createElement("span",{className:"margin_right_50"},t.createElement(d.A,{name:"rocket"})),k.t("Upgrade Now")):t.createElement(o.A,{"data-qa":"plans-at-glance-upgrade-now-btn",className:"p-plans_at_glance_upgrade_now_btn",entryPoint:"guided_trials_plans_at_glance_compare_plans_cta",autoClogProps:_.lp},k.t("See Upgrade Options")),[U,ee,ne,x,Ee]),we=(0,t.useCallback)(()=>{Y(fe=>!fe)},[]),Ge=k.rt("Inquire with Sales"),Qe=(0,t.useCallback)(()=>{if(de||oe||De){let fe=k.t("See full comparison");return V&&(fe=k.t("Collapse list",{fallbackHash:"80fe50971f0c695e4969c425ce5607fcd5805a60"})),t.createElement("div",{className:"p-grid_item p-last-row-expander"},t.createElement(E.jV,{autoClogProps:_.Dp,onClick:we,"data-qa":"p-plans_table_extend_list_cta"},fe))}return F&&ne?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:"p-grid_item p-last_column p-last_row"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},ve),t.createElement("div",{className:"margin_top_50"},Me))),t.createElement("div",{className:"p-grid_item p-mid_column p-last_row p-bottom-right-ele p-free-btn"},Ae)):Ee&&ne?t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:r()("p-grid_item  p-mid_column p-last_row")},Ae),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",null,Me),t.createElement("div",{className:"p-cost_label_container"},ve)))):$?t.createElement(t.Fragment,null,t.createElement("div",{className:r()("p-grid_item","p-first_colum","p-last_row","p-bottom_left_ele")}),t.createElement("div",{className:r()("p-grid_item  p-mid_column p-last_row")}),t.createElement("div",{className:"p-grid_item p-last_row p-bottom-right-ele p-last_column"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"margin_top_50"},Je),t.createElement(A.A,{className:"p-plans_at_glance_inquire_with_sales_label",href:(0,c.Zl)(re,"/contact-sales?campaign=7013y000002UvizAAC"),autoClogProps:(0,i.pm)()},t.createElement(d.A,{name:"message",size:"16"}),Ge)))):t.createElement(t.Fragment,null,t.createElement("div",{className:"p-grid_item p-first_column p-last_row p-bottom_left_ele"}),t.createElement("div",{className:r()("p-grid_item  p-mid_column p-last_row",{"p-free-btn":ne})},ne&&t.createElement(t.Fragment,null,Ae)),t.createElement("div",{className:"p-grid_item p-last_column p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},ve),t.createElement("div",{className:"margin_top_50"},Me))),!ne&&G?t.createElement("div",{className:"p-grid_item p-last_row p-bottom-right-ele"},t.createElement("div",{className:"full_width"},t.createElement("div",{className:"p-cost_label_container"},me),t.createElement("div",{className:"margin_top_50"},Je))):null)},[de,F,ne,ve,Ae,Me,G,me,Je,V,we,oe,De,$,re,Ee,Ge]);return t.createElement("div",{"data-qa":"plans_at_glance_table",className:r()("p-plans_at_glance_table_container",{"p-plans_at_glance_table_downgrade_container":ae,"p-plans_at_glance_table_container--with_biz_plus":G&&!ne&&!ae,"p-plans_at_glance_table_container--pro_to_biz_plus_upgrade":$}),key:"plans-at-glance-table"},$?be:null,t.createElement("div",{className:r()("p-grid_item  p-first_column p-top_left_ele",{"p-first_column_heading":de||oe||De})},de?k.t("Compare features across plans"):"",(oe||De)&&k.t("Compare impacted features"),$?"Plan Features":""),j(),!ne&&G&&!ae&&!$?t.createElement("div",{className:"p-grid_item p-top_right_ele p-free_heading"},t.createElement("div",{className:"p-plans_pro_category_container"},t.createElement("div",{className:"p-color_top_bar_free"}),t.createElement("strong",{className:"p-plans_at_glance_table_heading_label"},G?k.t("Business+"):""))):null,Re(),Qe())}m(K,"PlansTable")},7109376014:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(315153763),n=e(6304789565),r=e(2375333597);const u=(0,n.Ay)("Opens the plans at glance modal",function(o,a){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{onComplete:l,canUserPurchase:p=!1,onProButtonClick:g,onFreeButtonClick:c,from:E,isProFirst:A=!1,trialEligible:d,discountExpirationDate:v}=_;return o((0,r.q)({element:t.createElement(s.A,{onComplete:l,canUserPurchase:p,onProButtonClick:g,onFreeButtonClick:c,from:E,isProFirst:A,trialEligible:d,discountExpirationDate:v}),isStackable:!1}))});u.meta={name:"createThunk",key:"createThunkopenPlansAtGlanceModal",description:"Opens the plans at glance modal"};const i=u},3226207882:(W,T,e)=>{"use strict";e.d(T,{$X:()=>i,Cx:()=>_,Dp:()=>v,FM:()=>o,G:()=>b,Go:()=>c,H0:()=>y,KJ:()=>h,NQ:()=>D,QH:()=>I,Qv:()=>M,Rq:()=>S,VK:()=>f,dQ:()=>C,eX:()=>u,j3:()=>A,lp:()=>E,m2:()=>g,qD:()=>P,t8:()=>d,zX:()=>a});var t=e(1224315998),s=e(735940183),n=e(6323355797);const r=new s.A("guided_trials");var u;(function(O){O.proDowngradeToFree="proDowngradeToFree",O.bizPlusDowngradeToPro="bizPlusDowngradeToPro",O.bizPlusDowngradeToFree="bizPlusDowngradeToFree"})(u||(u={}));var i;(function(O){O.proUpgradeToBizPlus="proUpgradeToBizPlus"})(i||(i={}));var o;(function(O){O.setup="setup"})(o||(o={}));var a;(function(O){O.reverseTrial="reverseTrial"})(a||(a={}));var _;(function(O){O.trialCheckout="trialCheckout"})(_||(_={}));var l;(function(O){O.MESSAGES_AND_HISTORY="messages_and_history",O.PRODUCTIVITY_AND_COLLABORATION="productivity_and_collaboration",O.CONNECT_WITH_EXTERNAL_PEOPLE="connect_with_external_people",O.HUDDLE_WITH_SCREEN_SHARE="huddles_with_screen_share",O.CANVASES_FEATURE="canvases_feature",O.AV_CLIPS="av_clips",O.APPS_AND_AUTOMATION="apps_and_automation",O.SIDE_BAR_ORGANIZATION="side_bar_organization",O.APPS="apps",O.WORKFLOWS="workflows",O.CUSTOMER_SUPPORT="customer_support",O.SLACK_AI="slack_ai",O.AUTOMATION_TOLLS_TITLE="automation_tolls",O.INTEGRATION_WITH_OTHER_APPS="integratins_with_other_apps",O.WORKFLOW_BUILDER="workflow_builder",O.CUSTOM_WORKFLOW_STEP="custom_workflow_step",O.DEPLOY_APPS_TO_SLACK="deploy_apps_to_slack",O.AUTOMATION_USAGE_TITLE="automation_usage",O.PUBLISH_WORKFLOWS="published_workflows",O.STANDARD_WORKFLOWS="standard_workflows",O.PREMIUM_WORKFLOWS="premium_workflows",O.SECURITY_TITLE="security",O.DATA_ENCRYPTION="data_encryption",O.TWO_FACTOR_AUTH="two_factor_auth",O.SSO="sso",O.COMPLIANCE_TITLE="compliance",O.CUSTOMER_RETENTION="customer_retention",O.ADMINSTRATION_TITLE="adminstration",O.WORKSPACES="workspaces",O.CHANNEL_PERMISSION="channel_permission",O.CUSTOM_USER_GROUP="custom_user_group",O.ADMIN_ANALYTICS_DASHBOARD="admin_analytics_dashboard",O.SUPPORT_TITLE="support",O.ACCESS_CUSTOMER_SUPPORT="access_customer_support",O.HUDDLES="huddles",O.LISTS="lists",O.SLACK_CONNECT="slack_connect",O.DATA_STORAGE_AND_RETENTION="data_storage_and_retention",O.MESSAGE_ACTIVITY_ANALYTICS="message_activity_analytics",O.ADMIN_ANALYTICS_API="adming_analytics_api",O.SCIM_MEMBER_MANAGEMENT="scim_member_management",O.DATA_EXPORT_MESSAGES="messaging_data_exports"})(l||(l={}));var p;(function(O){O.SEE_UPGRADE_OPTIONS="see_upgrade_options_cta",O.UPGRADE_NOW="upgrade_now_cta",O.COMPARE_ALL_PLANS="compare_all_plans",O.SEE_MORE_COLLAPSE="see_more_collapse",O.START_FREE_TRIAL="start_free_trial_cta",O.LEARN_MORE="learn_more"})(p||(p={}));const g={elementName:p.UPGRADE_NOW,onClick:{enableClogAction:!0}},c={elementName:p.START_FREE_TRIAL,onClick:{enableClogAction:!0}},E={elementName:p.SEE_UPGRADE_OPTIONS,onClick:{enableClogAction:!0}},A={elementName:p.LEARN_MORE,onClick:{enableClogAction:!0}},d={uiComponentVariant:t.UiComponentVariant.PLANS_AT_GLANCE},v={elementName:p.SEE_MORE_COLLAPSE,onClick:{enableClogAction:!0}},h=m(O=>[{key:`row_${l.MESSAGES_AND_HISTORY}`,description:r.t("Unlimited messages & file history",{fallbackHash:"421d66c33a203dc2a8dcc5fda8347b70d524f861"}),freeDesc:r.t("Limited to past 90 days"),descriptionToolTip:O?r.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files."):""},{key:`row_${l.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:r.t("Work with external people in channels"),freeDesc:r.t("1:1 direct messages only"),descriptionToolTip:O?r.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts."):""},{key:`row_${l.HUDDLE_WITH_SCREEN_SHARE}`,description:r.t("Group audio and video huddles",{fallbackHash:"b6fc01ca6e8a1923b17f6dc4b78da6fc6f42a547"}),freeDesc:r.t("1:1 only"),descriptionToolTip:O?r.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch."):""},{key:`row_${l.CANVASES_FEATURE}`,description:r.t("Unlimited canvases to share knowledge"),freeDesc:r.t("Channel canvases only"),descriptionToolTip:O?r.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!"):""},{key:`row_${l.AV_CLIPS}`,description:r.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:O?r.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like."):""},{key:`row_${l.APPS_AND_AUTOMATION}`,description:r.t("Unlimited apps and automations",{fallbackHash:"9f6fa375212340bd63e527e5e65739884747f4af"}),freeDesc:r.t("Limited to 10")},{key:`row_${l.SIDE_BAR_ORGANIZATION}`,description:r.t("Custom sidebar organization"),freeDesc:"-",descriptionToolTip:O?r.t("Keep your projects, teams, and priorities straight, by organizing your channels and conversations into custom, collapsible sections in your sidebar."):""}],"getRowsData"),f=m(()=>[{key:`row_${l.MESSAGES_AND_HISTORY}`,description:r.t("Unlimited messages & file history",{fallbackHash:"421d66c33a203dc2a8dcc5fda8347b70d524f861"}),freeDesc:r.t("Limited to past 90 days"),descriptionToolTip:r.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{key:`row_${l.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:r.t("Work with external people in channels"),freeDesc:r.t("1:1 direct messages only"),descriptionToolTip:r.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{key:`row_${l.HUDDLE_WITH_SCREEN_SHARE}`,description:r.t("Group audio and video conversations",{fallbackHash:"b6fc01ca6e8a1923b17f6dc4b78da6fc6f42a547"}),freeDesc:r.t("1:1 only"),descriptionToolTip:r.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2013 all at the flip of a switch.")},{key:`row_${l.CANVASES_FEATURE}`,description:r.t("Unlimited canvases to share knowledge"),freeDesc:r.t("Channel canvases only"),descriptionToolTip:r.t("Getting your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more.")},{key:`row_${l.AV_CLIPS}`,description:r.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:r.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like.")},{key:`row_${l.APPS}`,description:r.t("Unlimited apps"),freeDesc:r.t("Limited to 10"),descriptionToolTip:r.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{key:`row_${l.WORKFLOWS}`,description:r.t("Unlimited workflows"),freeDesc:"-",descriptionToolTip:r.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{key:`row_${l.SLACK_AI}`,description:r.t("Slack AI",{fallbackHash:"0cb57686c4f132f9b2e12f5c6a41d645fb6f1a98",fallbackHashNs:"billing_add_ons"}),freeDesc:"-",descriptionToolTip:r.t("Work smarter with AI search, conversation summaries and daily AI recaps.",{fallbackHash:"35731ab880aa4f9602a05a6583da8a64a8c6e768",fallbackHashNs:"setup_straight_to_paid"}),descriptionClassName:"p-plans_at_glance__ai_item",paidDesc:r.t("Add-on available")}],"getStpRowsData"),y=m(()=>[{title:r.t("Automation tools"),key:l.AUTOMATION_TOLLS_TITLE,freeDesc:"",description:""},{title:"",key:l.INTEGRATION_WITH_OTHER_APPS,description:r.t("Integrations with other apps"),freeDesc:"",descriptionToolTip:r.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:l.WORKFLOW_BUILDER,description:r.t("Workflow Builder"),freeDesc:"included",descriptionToolTip:r.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:l.CUSTOM_WORKFLOW_STEP,description:r.t("Custom workflow steps"),freeDesc:"-",descriptionToolTip:r.t("Custom workflow steps allow you to bring systems and business logic unique to your organization into a workflow. They are built by developers using Slack APIs.")},{title:"",key:l.DEPLOY_APPS_TO_SLACK,description:r.t("Deploy apps to Slack infrastructure"),freeDesc:"-",descriptionToolTip:r.t("Developers can deploy custom functions to Slack\u2019s secure, managed infrastructure at no additional cost.")},{title:r.t("Automation usage"),key:l.AUTOMATION_USAGE_TITLE,freeDesc:"",description:""},{title:"",key:l.PUBLISH_WORKFLOWS,description:r.t("Total published workflows or integrations with other apps"),freeDesc:r.t("10"),paidDesc:r.t("Unlimited"),descriptionToolTip:r.t("Published workflows are created in Workflow Builder and made available to use in your workspace. Published integrations are installed from the App Directory and made available to use in your workspace. ")},{title:"",key:`row_${l.WORKFLOWS}`,description:r.t("Workflows"),freeDesc:"-",paidDesc:r.t("No code"),descriptionToolTip:r.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:r.t("Security"),key:l.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:l.DATA_ENCRYPTION,description:r.t("Data encryption at rest and in transit"),freeDesc:"-",descriptionToolTip:r.t("By default, Slack encrypts data at rest and data in transit as part of our foundational security controls.")},{title:"",key:l.TWO_FACTOR_AUTH,description:r.t("Two-factor authentication"),freeDesc:"-",descriptionToolTip:r.t("If your password is compromised or stolen, you\u2019ll have peace of mind knowing that only you can sign in.")},{title:"",key:l.SSO,description:r.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:r.t("Using Google for OAuth makes it possible for your team to securely and easily sign in to Slack using their Google accounts \u2014 that\u2019s one less password to remember.")},{title:r.t("Compliances"),key:l.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_RETENTION,description:r.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:r.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:r.t("Administration"),key:l.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKSPACES,description:r.t("Workspaces"),freeDesc:r.t("1"),paidDesc:r.t("1"),descriptionToolTip:r.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:l.CHANNEL_PERMISSION,description:r.t("Manage channel posting permissions"),freeDesc:r.t("Limited to #general channel only"),paidDesc:r.t("Limited to #general channel only"),descriptionToolTip:r.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.CUSTOM_USER_GROUP,description:r.t("Custom User Groups"),freeDesc:"-",descriptionToolTip:r.t("Make it easier to send notifications and communicate with entire teams, departments, or groups.")},{title:"",key:l.ADMIN_ANALYTICS_DASHBOARD,description:r.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:r.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:r.t("Support"),key:l.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_SUPPORT,description:r.t("Access to customer support"),freeDesc:r.t("Standard support"),paidDesc:r.t("24/7 support"),descriptionToolTip:r.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getExtendedRowsData"),I=m(()=>[{key:`row_${l.MESSAGES_AND_HISTORY}`,description:r.t("Search all messages & file history"),freeDesc:r.t("Limited to past {messageLimit} days",{messageLimit:n.RF}),descriptionToolTip:r.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{key:`row_${l.CONNECT_WITH_EXTERNAL_PEOPLE}`,description:r.t("Work with external people in channels"),freeDesc:r.t("1:1 direct messages only"),descriptionToolTip:r.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{key:`row_${l.HUDDLE_WITH_SCREEN_SHARE}`,description:r.t("Voice/video huddles with screen share"),freeDesc:r.t("1:1 only"),descriptionToolTip:r.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch.")},{key:`row_${l.CANVASES_FEATURE}`,description:r.t("Unlimited canvases to share knowledge"),freeDesc:r.t("Channel canvases only"),descriptionToolTip:r.t("Getting your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more.")},{key:`row_${l.AV_CLIPS}`,description:r.t("Audio and video clips"),freeDesc:"included",descriptionToolTip:r.t("Use audio and video to bring your work to life. Record a quick idea with an audio clip, or share your screen in a video clip, all without leaving Slack. Coworkers can respond whenever they\u2019d like.")},{key:`row_${l.APPS}`,description:r.t("Unlimited apps"),freeDesc:r.t("Limited to 10"),descriptionToolTip:r.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{key:`row_${l.WORKFLOWS}`,description:r.t("Workflows"),freeDesc:"-",descriptionToolTip:r.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{key:`row_${l.SLACK_AI}`,description:r.t("Slack AI"),freeDesc:"-",descriptionToolTip:r.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",paidDesc:r.t("Add-on available")}],"getPlanVisibilityRowData"),C=m(O=>[{title:"",key:`row_${l.MESSAGES_AND_HISTORY}`,description:r.t("Message and file access"),freeDesc:r.t("Limited to {messageLimit} days",{messageLimit:n.RF}),descriptionToolTip:r.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{title:"",key:`row_${l.SLACK_CONNECT}`,description:r.t("Slack Connect"),freeDesc:r.t("1:1 only"),descriptionToolTip:r.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{title:"",key:`row_${l.HUDDLES}`,description:r.t("Huddles"),freeDesc:r.t("1:1 only"),descriptionToolTip:r.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2013 all at the flip of a switch.")},{title:"",key:`row_${l.CANVASES_FEATURE}`,description:O?r.t("Slack canvases"):"",freeDesc:O?r.t("Channels and DMs only"):"",descriptionToolTip:r.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!")},{title:"",key:`row_${l.LISTS}`,description:O?r.t("Slack lists"):"",freeDesc:"-",descriptionToolTip:O?r.t("Lists bring work management to where teams are already collaborating. You can visualize and organize tasks from your conversations so you can track cross-functional projects, requests, approvals, and more."):""},{title:"",key:`row_${l.APPS}`,description:r.t("Apps connected to Slack"),freeDesc:r.t("10"),descriptionToolTip:r.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:`row_${l.WORKFLOWS}`,description:r.t("Workflows"),freeDesc:"-",descriptionToolTip:r.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:`row_${l.DATA_STORAGE_AND_RETENTION}`,description:O?r.t("Data storage and retention"):"",freeDesc:r.t("Up to 1 year"),descriptionToolTip:r.t("Retain access to your entire message and file history. On the free version of Slack, your data will be deleted after one year.")},{title:"",key:l.SSO,description:O?r.t("SAML-based single sign-on (SSO)"):"",freeDesc:"-",descriptionToolTip:O?r.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta."):"",paidDesc:r.t("-")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:O?r.t("User provisioning (SCIM)"):"",freeDesc:"-",descriptionToolTip:O?r.t("Slack supports member provisioning with the System for Cross-domain Identity Management (SCIM) standard. To set up provisioning, you\u2019ll need to use a connector app alongside a supported identity provider."):"",paidDesc:r.t("-")},{title:"",key:l.DATA_EXPORT_MESSAGES,description:O?r.t("Data exports for all messages"):"",freeDesc:"-",descriptionToolTip:O?r.t("Workspace owners and admins can export data from all channels and conversations, including private channels and direct messages, as needed and permitted by law."):"",paidDesc:r.t("-")},{title:"",key:`row_${l.SLACK_AI}`,description:r.t("Slack AI"),freeDesc:"-",paidDesc:r.t("Add-on available"),descriptionToolTip:r.t("Work smarter with AI search, conversation summaries and daily AI recaps."),descriptionClassName:"p-plans_at_glance__ai_item",bizPlusDesc:r.t("Add-on available")}],"getPricingAndPackagingRowData"),D=m(()=>[{title:r.t("Security"),key:l.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:l.SSO,description:r.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:r.t("Using Google for OAuth makes it possible for your team to securely and easily sign in to Slack using their Google accounts \u2014 that\u2019s one less password to remember.")},{title:r.t("Compliances"),key:l.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_RETENTION,description:r.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:r.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:r.t("Administration"),key:l.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKSPACES,description:r.t("Workspaces"),freeDesc:r.t("1"),paidDesc:r.t("Unlimited"),descriptionToolTip:r.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:l.CHANNEL_PERMISSION,description:r.t("Manage channel posting permissions"),freeDesc:r.t("Limited to #general channel only"),paidDesc:r.t("Unlimited"),descriptionToolTip:r.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.ADMIN_ANALYTICS_API,description:r.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:r.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:l.ADMIN_ANALYTICS_DASHBOARD,description:r.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:r.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:r.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:r.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")},{title:r.t("Support"),key:l.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_SUPPORT,description:r.t("Access to customer support"),freeDesc:r.t("24/7 support"),paidDesc:r.t("24/7 support with four-hour first response time"),descriptionToolTip:r.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getBizPlusDowngradeToProAllRowsData"),M=m(()=>[{title:"",key:l.SSO,description:r.t("SAML single sign on (SSO)"),freeDesc:"-",descriptionToolTip:r.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:l.CHANNEL_PERMISSION,description:r.t("Unlimited channel posting permissions"),freeDesc:r.t("#general only"),descriptionToolTip:r.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:r.t("SCIM member management"),freeDesc:"-",descriptionToolTip:r.t("Slack supports member provisioning with this standard to allow Workpace Owners and Admins to manage members more efficiently.")},{title:"",key:l.ADMIN_ANALYTICS_API,description:r.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:r.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:r.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:r.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")}],"getBizPlusDowngradeToProRowsData"),P=m(()=>[{title:r.t("Productivity & collaboration"),key:l.PRODUCTIVITY_AND_COLLABORATION,freeDesc:"",description:""},{title:"",key:l.MESSAGES_AND_HISTORY,description:r.t("Search all messages & file history"),freeDesc:r.t("Limited to past {messageLimit} days",{messageLimit:n.RF}),descriptionToolTip:r.t("Find context from past decisions and get new team members up to speed faster by searching across people, channels and files.")},{title:"",key:l.CONNECT_WITH_EXTERNAL_PEOPLE,description:r.t("Work with external people in channels"),freeDesc:r.t("1:1 direct messages only"),descriptionToolTip:r.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect channels or guest accounts.")},{title:"",key:l.CANVASES_FEATURE,description:r.t("Unlimited canvases to share knowledge"),freeDesc:r.t("Channel canvases only"),descriptionToolTip:r.t("Get your whole team on the same page with canvases, the collaborative surface for organizing your most important documentation for a channel, direct message or project. Create action item checklists, channel FAQs, onboarding guides and more. You can even embed workflows right into a canvas!")},{title:"",key:l.APPS_AND_AUTOMATION,description:r.t("Apps and automations"),freeDesc:r.t("Limited to 10"),descriptionToolTip:r.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2014 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:l.HUDDLE_WITH_SCREEN_SHARE,description:r.t("Slack huddles"),freeDesc:r.t("1:1 only"),descriptionToolTip:r.t("Replace the impromptu meetings from your office, with live, voice-first conversations in a channel or direct message. Brainstorm, review work over screen share or just catch up \u2014 all at the flip of a switch.")},{title:"",key:l.SIDE_BAR_ORGANIZATION,description:r.t("Custom sidebar organization"),freeDesc:"-",descriptionToolTip:r.t("Keep your projects, teams, and priorities straight, by organizing your channels and conversations into custom, collapsible sections in your sidebar.")},{title:r.t("Automation tools"),key:l.AUTOMATION_TOLLS_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKFLOW_BUILDER,description:r.t("Workflow Builder"),freeDesc:"-",descriptionToolTip:r.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:l.CUSTOM_WORKFLOW_STEP,description:r.t("Custom workflow steps"),freeDesc:"-",descriptionToolTip:r.t("Custom workflow steps allow you to bring systems and business logic unique to your organization into a workflow. They are built by developers using Slack APIs.")},{title:"",key:l.DEPLOY_APPS_TO_SLACK,description:r.t("Deploy apps to Slack infrastructure"),freeDesc:"-",descriptionToolTip:r.t("Developers can deploy custom functions to Slack\u2019s secure, managed infrastructure at no additional cost.")},{title:r.t("Automation usage"),key:l.AUTOMATION_USAGE_TITLE,freeDesc:"",description:""},{title:"",key:l.PUBLISH_WORKFLOWS,description:r.t("Total published workflows or integrations with other apps"),freeDesc:r.t("10"),paidDesc:r.t("Unlimited"),descriptionToolTip:r.t("Published workflows are created in Workflow Builder and made available to use in your workspace. Published integrations are installed from the App Directory and made available to use in your workspace. ")},{title:"",key:l.STANDARD_WORKFLOWS,description:r.t("Standard workflows"),freeDesc:"-"},{title:"",key:l.PREMIUM_WORKFLOWS,description:r.t("Premium workflows"),freeDesc:"-",paidDesc:r.t("2000 runs/month")},{title:r.t("Security"),key:l.SECURITY_TITLE,freeDesc:"",description:""},{title:"",key:l.SSO,description:r.t("Single Sign-On"),freeDesc:"-",descriptionToolTip:r.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:r.t("Compliances"),key:l.COMPLIANCE_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_RETENTION,description:r.t("Custom retention policies for messages and files"),freeDesc:"-",descriptionToolTip:r.t("Custom policies let workspace owners choose a time frame to keep messages and files, and whether to retain all versions of an edited or deleted message.")},{title:r.t("Administration"),key:l.ADMINSTRATION_TITLE,freeDesc:"",description:""},{title:"",key:l.WORKSPACES,description:r.t("Workspaces"),freeDesc:r.t("1"),paidDesc:r.t("Unlimited"),descriptionToolTip:r.t("With Slack, collaboration happens in workspaces \u2014 kind of like a virtual office. Complex organizations use multiple workspaces to map with how they\u2019re organized, or keep work focused.")},{title:"",key:l.CHANNEL_PERMISSION,description:r.t("Manage channel posting permissions"),freeDesc:r.t("Limited to #general channel only"),paidDesc:r.t("Unlimited"),descriptionToolTip:r.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.CUSTOM_USER_GROUP,description:r.t("Custom User Groups"),freeDesc:"-",descriptionToolTip:r.t("Make it easier to send notifications and communicate with entire teams, departments, or groups.")},{title:"",key:l.ADMIN_ANALYTICS_DASHBOARD,description:r.t("Admin analytics dashboards"),freeDesc:"-",descriptionToolTip:r.t("The Slack analytics dashboard grants you insight into how your organization uses Slack. Easily find and sort information to understand more about the messages, channels, and members in your workspace or Enterprise Grid organization.")},{title:r.t("Support"),key:l.SUPPORT_TITLE,freeDesc:"",description:""},{title:"",key:l.CUSTOMER_SUPPORT,description:r.t("Access to customer support"),freeDesc:r.t("Standard support"),paidDesc:r.t("24/7 support within 4 hours"),descriptionToolTip:r.t("We\u2019re here to help you get the most out of Slack with support for your team, every step of the way.")}],"getBizPlusDowngradeToFreeAllRowsData"),S=m(()=>[{title:"",key:l.WORKFLOWS,description:r.t("Workflows"),freeDesc:"-",descriptionToolTip:r.t("Automate routine tasks and processes right in Slack, no code needed. Workflows can be as simple or as complex as you\u2019d like, and can even be connected to other apps and tools you use to get work done.")},{title:"",key:l.APPS_AND_AUTOMATION,description:r.t("Unlimited apps connected to slack"),freeDesc:"-",descriptionToolTip:r.t("Choose from over 2,600 apps in the Slack App Directory to support whatever work you do \u2013 from Salesforce, Jira, Google Drive, ChatGPT, and more.")},{title:"",key:l.SSO,description:r.t("SAML single sign on (SSO)"),freeDesc:"-",descriptionToolTip:r.t("SAML-based single sign-on (SSO) gives members access to Slack through an identity provider (IDP) of your choice. Some of the providers we work with include OneLogin, Ping, Microsoft Azure and Okta.")},{title:"",key:l.CHANNEL_PERMISSION,description:r.t("Unlimited channel posting permissions"),freeDesc:"-",descriptionToolTip:r.t("You can adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction free.")},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:r.t("SCIM member management"),freeDesc:"-",descriptionToolTip:r.t("Slack supports member provisioning with this standard to allow Workpace Owners and Admins to manage members more efficiently.")},{title:"",key:l.ADMIN_ANALYTICS_API,description:r.t("Admin analytics API"),freeDesc:"-",descriptionToolTip:r.t("Retrieve analytics data for a given date, presented as a compressed JSON file.")},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:r.t("Message activity analytics"),freeDesc:"-",descriptionToolTip:r.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization.")}],"getBizPlusDowngradeToFreeRowsData"),b=m(()=>[{title:"",key:l.CONNECT_WITH_EXTERNAL_PEOPLE,description:r.t("Work with external people",{fallbackHash:"2f4b8680f3651c292f2147cde444b15e61cdcf43"}),descriptionToolTip:r.t("Collaborate seamlessly and securely with vendors, customers and other organizations using Slack Connect.",{fallbackHash:"8d36399f534bfe82736d0b5b506090da33980f81"})},{title:"",key:l.HUDDLES,description:r.t("Huddles"),descriptionToolTip:r.t("Work together in real time with up to 50 people through audio and video meetings (including screen sharing) using Slack huddles.",{fallbackHash:"6e2c906df5e98e930623318af292790f6d8fd492"})},{title:"",key:l.CANVASES_FEATURE,description:r.t("Unlimited lists and canvases",{fallbackHash:"c1c9cfe2d347417c467c17788b9bbb087634c832"}),descriptionToolTip:r.t("Document key resources and track projects without ever leaving Slack.",{fallbackHash:"6be2ed780d65d406345f7254c500e3826f3efaf0"})},{title:"",key:l.WORKFLOWS,description:r.t("Apps and workflows",{fallbackHash:"1f470b27fe9ef469f4429582724168acad9f3a93"}),descriptionToolTip:r.t("App integrations are installed apps you can access from within Slack (like Google Drive or Office 365). And workflows allows you to automate routine tasks and processes right in Slack, no code needed. They can even be connected to apps you use to get work done.",{fallbackHash:"fab361e34d1e24e35c0b5a5db1ff9b0d54ffbfd9"})},{title:"",key:l.SSO,description:r.t("Single sign-on (SSO)",{fallbackHash:"a2b4412206750bd423d20c900adf369e4adc58c3"}),paidDesc:r.t("Limited to Google",{fallbackHash:"3bc15c8aae3e4124dd409035f32ea2fd6835efc9"}),descriptionToolTip:r.t("Set up single sign-on with Google OAuth or choose from one of up to 12 SAML-based SSO configurations, including OneLogin, Ping, Microsoft Azure and Okta.",{fallbackHash:"62dd99f3669b74d496242d9cd8072d1a120f085e"})},{title:"",key:l.SCIM_MEMBER_MANAGEMENT,description:r.t("User management with SCIM",{fallbackHash:"1eca4c4061830a32e2b855614c8370d525da7449"}),descriptionToolTip:r.t("Slack supports member provisioning with the System for Cross-domain Identity Management (SCIM) standard. To set up provisioning, you\u2019ll need to use a connector app alongside a supported identity provider."),paidDesc:r.t("\u2014",{fallbackHash:"3bc15c8aae3e4124dd409035f32ea2fd6835efc9"})},{title:"",key:l.DATA_EXPORT_MESSAGES,description:r.t("Data exports for all messages"),descriptionToolTip:r.t("Workspace owners and admins can export data from all channels and conversations, including private channels and direct messages, as needed and permitted by law."),paidDesc:r.t("\u2014",{fallbackHash:"3bc15c8aae3e4124dd409035f32ea2fd6835efc9"})},{title:"",key:l.CHANNEL_PERMISSION,description:r.t("Advanced channel permissions",{fallbackHash:"a5069d06d8db078a96d122566b0fad0f2dce085f"}),descriptionToolTip:r.t("Adjust who\u2019s allowed to post to channels or use mentions that notify all channel members. This helps keep large channels, like those used for announcements, distraction-free.",{fallbackHash:"c42963e215df779df8031ac33fa2a9dcbcd712a4"}),paidDesc:r.t("\u2014",{fallbackHash:"3bc15c8aae3e4124dd409035f32ea2fd6835efc9"})},{title:"",key:l.ADMIN_ANALYTICS_API,description:r.t("Admin Analytics API",{fallbackHash:"9d80d0c2966fcb9b67b9325cc3e9d3a68d09a41b"}),descriptionToolTip:r.t("Retrieve analytics data for a given date, presented as a compressed JSON file."),paidDesc:r.t("\u2014",{fallbackHash:"3bc15c8aae3e4124dd409035f32ea2fd6835efc9"})},{title:"",key:l.MESSAGE_ACTIVITY_ANALYTICS,description:r.t("Message activity analytics"),descriptionToolTip:r.t("With message activity, owners, admins, and members with permission can see how many people have interacted with a given message in Slack. You can use message activity to measure the impact of announcements and internal communications campaigns for your organization."),paidDesc:r.t("\u2014",{fallbackHash:"3bc15c8aae3e4124dd409035f32ea2fd6835efc9"})}],"getBoostBusPlusRowData")},952756744:(W,T,e)=>{"use strict";e.d(T,{s:()=>u});var t=e(3134334389),s=e(4902318931),n=e(6259241484);const r={[n.ze.SUPPORT_UPGRADE_DECISION_TRIAL_EXPIRING_SOON_HUDDLES_BANNER]:{component:t.lazy(()=>Promise.resolve().then(e.bind(e,8240993983)))}},u=m(()=>t.createElement(s.Ay,{spaceName:n.xu.HUDDLE_INVITE_MODAL,notifications:r}),"HuddleInviteModalTrialBannerV2MegaphoneWrapper");u.displayName="HuddleInviteModalTrialBannerV2MegaphoneWrapper"},8240993983:(W,T,e)=>{"use strict";e.r(T),e.d(T,{HuddleInviteModalTrialBannerV2:()=>f,default:()=>y});var t=e(3134334389),s=e(6122756707),n=e(4481313819),r=e(1267040415),u=e(5641442783),i=e(7433432223),o=e(5562796568),a=e(6084388622),_=e(8112788848),l=e(1224315998),p=e(735940183),g=e(6323355797),c=e(9506008067),E=e(8871937520),A=e(9623497342);const d=new p.A("guided_trials"),v={elementName:"upgrade_now_cta",onClick:{enableClogAction:!0}},h={elementName:"see_upgrade_options_cta",onClick:{enableClogAction:!0}},f=m(I=>{let{trialEndDate:C,canUserPurchase:D}=I;const M=(0,s.wA)(),P=(0,c.d4)(A.$J),S=(0,c.d4)(O=>(0,g.m6)(O,{action:"checkout",productLevel:g.i6.standard.id,entryPoint:"guided_trials_peek_upgrade_cta"}));(0,o.A)(()=>{M((0,A.E5)())});const b=m(()=>D?t.createElement(a.z9,{autoClogProps:v,href:S,className:"p-huddle_invite_modal__cta_upgrade",size:"small","data-qa":"huddle-invite-modal-upgrade-cta"},P?d.t("Upgrade to Pro"):d.t("Upgrade Now")):t.createElement(r.A,{feature:g.c4.SLACK_HUDDLES,autoClogProps:h,size:"small",type:P?"primary":"outline"},P?d.t("Compare plans"):d.t("See Upgrade Options")),"getCTA");return b.displayName="getCTA",t.createElement(n.A,{eventId:l.EventId.UPGRDEXP_TRIAL,uiComponentName:l.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement(i.A,{className:"p-huddle_invite_modal_trial_banner_v2__container","data-qa":"huddle_invite_modal_trial_banner",primaryCTA:b(),withMargins:!0},t.createElement("div",null,P?d.rt("<strong>Huddles will soon be limited to two people</strong>"):d.rt("<strong>Group huddles aren\u2019t available for much longer</strong>"),t.createElement(u.A,{className:"p-huddle_invite_modal_trial_banner_v2__pro_tooltip",uiComponentVariant:l.UiComponentVariant.HUDDLES_INVITE_MODAL_FOOTER,toolTipZIndex:_.m.MenuAboveFullScreen})),P?d.rt("Upgrade to continue using group huddles with your team."):d.rt("If you choose not to upgrade by {trialEndDate}, your team won\u2019t be able to huddle with more than one other person.",{trialEndDate:(0,E.Pd)(C),fallbackHash:"e680e704766e6c0c74ca66a78c581927a4b36bdf"})))},"HuddleInviteModalTrialBannerV2");f.displayName="HuddleInviteModalTrialBannerV2";const y=f},9953252450:(W,T,e)=>{"use strict";e.d(T,{A:()=>C,x:()=>y});var t=e(3134334389),s=e(6122756707),n=e(4481313819),r=e(6852088830),u=e(2481088989),i=e(7433432223),o=e(3328083357),a=e(5562796568),_=e(8739505998),l=e(1224315998),p=e(735940183),g=e(6323355797),c=e(9506008067),E=e(8871937520),A=e(7268021173),d=e(3192808693),v=e(9623497342);const h=new p.A("trials_highlight_paid_features"),f={elementName:"view_all_pro_features",onClick:{enableClogAction:!0}},y=m(D=>{let{trialEndTs:M,experimentPnpGoGroupTreatment:P,viewAllProFeaturesLink:S,v2ClassName:b,isSalesforcePlusTrial:O,experimentPnpSfEmbedGrowthGroupOn:L}=D;if(O){const k=L?h.rt("Huddles with more than two people is a paid feature, available with your free trial though <strong>{trialEndDate}</strong>.",{trialEndDate:(0,E.Pd)(M)}):"",K=L?h.rt("<strong>Huddles will soon be limited to two people</strong><br></br>Upgrade to continue using group huddles with your team."):"";return t.createElement(n.A,{eventId:l.EventId.UPGRDEXP_TRIAL,uiComponentName:l.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(r.B,{midTrialTitle:k,trialEndTitle:K,entryPoint:"huddles_invite_modal_salesforce_plus_trial_banner"})))}return P?t.createElement(n.A,{eventId:l.EventId.UPGRDEXP_TRIAL,uiComponentName:l.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:b},t.createElement(i.A,{className:"padding_left_125"},(0,u.A)(h.rt("Huddles with more than two people is a paid feature, available with your free trial through <strong>{trialExpirationDate}. <viewAllProFeaturesLink>View all Pro features</viewAllProFeaturesLink></strong>",{trialExpirationDate:(0,E.Pd)(M),"<viewAllProFeaturesLink>":S}),{position:u.D.LEFT_ALIGNED})))):t.createElement(n.A,{eventId:l.EventId.UPGRDEXP_TRIAL,uiComponentName:l.UiComponentName.HUDDLE_INVITE_MODAL_TRIAL_BANNER,clogImpression:!0},t.createElement("div",{className:"p-huddle_invite_modal_banner"},t.createElement(o.A,{iconType:"clock-o","data-qa":"huddle_invite_modal_trial_banner"},h.rt("<strong>Huddles with more than two people is a paid feature,</strong> available with your free trial through {trialExpirationDate}.",{trialExpirationDate:(0,E.Pd)(M)}))))},"HuddleInviteModalTrialBanner");y.displayName="HuddleInviteModalTrialBanner";const I=m(D=>{let{v2ClassName:M}=D;const P=(0,s.wA)();(0,a.A)(()=>{P((0,v.E5)())});const S=(0,c.d4)(v.$J),b=(0,c.d4)(A.Sk),O=(0,c.d4)(d.s_),L=(0,c.d4)(d.lL),k=(0,t.useCallback)(K=>{let{text:N}=K;return t.createElement(_.A,{href:(0,g.hZ)({entryPoint:"huddle_invite_modal_trial_banner"}),autoClogProps:f},N)},[]);return t.createElement(y,{trialEndTs:b,experimentPnpGoGroupTreatment:S,viewAllProFeaturesLink:k,v2ClassName:M,isSalesforcePlusTrial:O,experimentPnpSfEmbedGrowthGroupOn:L})},"ConnectedHuddleInviteModalTrialBanner");I.displayName="ConnectedHuddleInviteModalTrialBanner";const C=I},4220141877:(W,T,e)=>{"use strict";e.d(T,{A:()=>I});var t=e(3134334389),s=e(2670882607),n=e(1267040415),r=e(5791262841),u=e(266169032),i=e(735940183),o=e(6323355797);const a=new i.A("huddles"),_=o.ew.PAID_FEATURE_TRIAL,l=m(C=>{let{startTrialContext:D=u.M.huddlesTrialEntryPointModal,uiComponentVariant:M,onSpeedbumpContinue:P,promoType:S,promoSubtype:b,isEligibleForTrial:O}=C;const L=m(B=>{let{text:F}=B;return t.createElement(n.A,{"data-qa":"huddles_trial_entry_point-plans_page_link",useLink:!0},F)},"renderPlansPageLink"),k=a.t("Try huddles with more people"),K=O?a.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> with a free, {trialLength}-day trial of Slack Pro.",{trialLength:_,"<plansPageLink>":L}):a.rt("Get access to huddles with more than two people, and other <plansPageLink>premium collaboration tools</plansPageLink> when you upgrade to a paid plan.",{"<plansPageLink>":L}),N=a.t("With more people, you can:"),R=(0,t.useCallback)(()=>[a.t("Host a team brainstorm from anywhere"),a.t("Get the group\u2019s feedback with a live screenshare"),a.t("Touch base on the go, without all the typing")],[]),U=(0,t.useCallback)(()=>e.e("gantry-v2-async-lottie-huddles-trial").then(e.t.bind(e,7378585700,23)),[]),x=(0,t.useMemo)(()=>t.createElement(s.e,{getAnimationImport:U,autoplay:!0,loop:!0}),[U]);return t.createElement(r.A,{modalTitle:k,modalSubtitle:K,modalLottieAnimation:x,modalBannerBackgroundColor:"#fdd37f",modalChecklistHeading:N,modalChecklistItems:R(),promoType:S,promoSubtype:b,startTrialContext:D,uiComponentVariant:M,onSpeedbumpContinue:P,isEligibleForTrial:O})},"HuddleTrialEntryPointModal");l.displayName="HuddleTrialEntryPointModal";const p=l;var g=e(8300630630),c=e(6304789565),E=e(2375333597),A=e(7268021173),d=e(962959561),v=e(7859253282),h=e(398781533);function f(){return f=Object.assign||function(C){for(var D=1;D<arguments.length;D++){var M=arguments[D];for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(C[P]=M[P])}return C},f.apply(this,arguments)}m(f,"_extends");const y=(0,c.Ay)("Open huddles trial entry point modal",async(C,D,M)=>{const P=o.ZO.PaidFeatureTrial,S=o.zG.Vhq;C((0,h.Q)({entryPoint:"open_huddle_trial_entry_point_modal",campaignType:P,campaignSubType:S,reason:"huddle_trial_entry_point_modal"})),await C((0,g.A)({campaignType:P,campaignSubType:S,reason:"huddle_trial_entry_point_modal"}));const b=(0,A.hq)(D(),P,S);return(0,d.L9)(D())?C((0,v.r)({promoType:P,promoSubtype:S,entryPoint:"slack_connect_auto_charge_trial_entry_point"})):C((0,E.q)({element:t.createElement(p,f({},M,{promoType:P,promoSubtype:S,isEligibleForTrial:b}))}))});y.meta={name:"createThunk",key:"createThunkopenHuddlesTrialEntryPointModal",description:"Open huddles trial entry point modal"};const I=y},8300630630:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(3134334389),s=e(5165209241),n=e(6304789565),r=e(2375333597),u=e(1384076438);const i=(0,n.Ay)("Display loading modal and fetch data for trial entry point modal",async(a,_,l)=>(a((0,r.q)({element:t.createElement(s.A,{className:"p-trial_entry_point_modal__loading_modal"})})),a((0,u.A)(l))));i.meta={name:"createThunk",key:"createThunkopenTrialLoadingModal",description:"Display loading modal and fetch data for trial entry point modal"};const o=i},6455962125:(W,T,e)=>{"use strict";e.d(T,{y:()=>a});var t=e(3134334389),s=e(5431290584),n=e(735940183),r=e(9506008067),u=e(3192808693);const i=new n.A("trials"),o={name:"slack-logo",size:"inherit"},a=m(_=>{let{ariaHidden:l,className:p,autoClogProps:g,badgeTheme:c,size:E}=_;const A=(0,r.d4)(u.lL);return t.createElement(s.rg,{ariaHidden:l,ariaLabel:A?i.t("Paid feature"):"",badgeText:A?i.t("Paid"):"",badgeTheme:c,className:p,autoClogProps:g,size:E,"data-qa":"paid-badge",icon:o})},"PaidBadge");a.displayName="PaidBadge"},7949425452:(W,T,e)=>{"use strict";e.d(T,{J:()=>u});var t=e(3134334389),s=e(5431290584),n=e(735940183);const r=new n.A("trials"),u=m(i=>{let{ariaHidden:o,className:a,autoClogProps:_,badgeTheme:l,size:p}=i;return t.createElement(s.rg,{ariaHidden:o,ariaLabel:r.t("Pro feature"),badgeText:r.t("PRO"),badgeTheme:l,className:a,autoClogProps:_,size:p,"data-qa":"pro-badge"})},"ProBadge")},5641442783:(W,T,e)=>{"use strict";e.d(T,{A:()=>d});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7949425452),u=e(5431290584),i=e(9371668729),o=e(6839188756),a=e(735940183),_=e(6323355797),l=e(9506008067),p=e(7268021173),g=e(3677514771);function c(){return c=Object.assign||function(v){for(var h=1;h<arguments.length;h++){var f=arguments[h];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(v[y]=f[y])}return v},c.apply(this,arguments)}m(c,"_extends");const E=new a.A("trials"),A=m(v=>{let{badgeTheme:h=u.Vu.Purple,badgeSize:f=u.vj.Medium,className:y,hideTooltip:I,uiComponentVariant:C,...D}=v;const M=(0,l.d4)(O=>(0,o.tc)((0,g.H7)(O))),P=(0,l.d4)(O=>(0,p.tu)(O)===_.i6.standard.id),S=(0,t.useMemo)(()=>({uiComponentVariant:C}),[C]);if(!(M||P))return null;const b=E.t("PRO");return I?t.createElement(r.J,{autoClogProps:S,badgeTheme:h,className:y,size:f}):t.createElement(i.A,c({ariaLabel:b,uiComponentVariant:C},D),t.createElement("span",{className:n()("p-trial_pro_badge",y),"data-qa":"trial_pro_badge"},t.createElement(r.J,{autoClogProps:S,badgeTheme:h,size:f})))},"TrialProBadge");A.displayName="TrialProBadge";const d=A},5431290584:(W,T,e)=>{"use strict";e.d(T,{Vu:()=>_,rg:()=>g,vj:()=>l});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(9113979368),u=e(4481313819),i=e(8683010724),o=e(1224315998);function a(){return a=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var d in A)Object.prototype.hasOwnProperty.call(A,d)&&(c[d]=A[d])}return c},a.apply(this,arguments)}m(a,"_extends");const _={Purple:"purple",White:"white"},l={Medium:"medium",Large:"large"},p={eventId:o.EventId.UPGRDEXP_TRIAL,uiComponentName:o.UiComponentName.TRIAL_PRO_BADGE,clogImpression:!0},g=m(c=>{let{ariaHidden:E=!1,ariaLabel:A,badgeText:d,className:v,autoClogProps:h,badgeTheme:f=_.Purple,size:y=l.Medium,icon:I}=c;const C=E?{"aria-hidden":!0}:{"aria-label":A,role:"img"},D=t.createElement("div",a({className:n()("p-pro_badge",`p-pro_badge--${f}`,`p-pro_badge--${y}`,v),"data-qa":"pro_badge"},C),I?t.createElement("div",{className:"p-pro_badge-with-icon"},t.createElement(i.A,{name:I.name})," ",d):t.createElement("span",null,d));return(0,r.A)(h)?D:t.createElement(u.A,a({},p,h),D)},"UpgradesBadge");g.displayName="UpgradesBadge"},3994181705:(W,T,e)=>{"use strict";e.d(T,{A:()=>c,G:()=>l});var t=e(3134334389),s=e(6122756707),n=e(735940183),r=e(6323355797),u=e(9506008067),i=e(3810478625),o=e(7268021173),a=e(1384076438);const _=new n.A("trials");var l;(function(E){E.HuddlesFreemiumDeprecated="huddles_freemium"})(l||(l={}));const p=r.ew.PAID_FEATURE_TRIAL,c=m(E=>{let{isFreemium:A,tooltipText:d,promoType:v,promoSubtype:h,variant:f}=E;const y=(0,s.wA)(),I=(0,u.d4)(i.g),C=(0,u.d4)(o.iH);(0,t.useEffect)(()=>{v&&y((0,a.A)({campaignType:v,campaignSubType:h,reason:"trial_tooltip"}))},[y,v,h]);const D=(0,u.d4)(O=>v?(0,o.bp)(O,v,h):!1),M=(0,u.d4)(O=>v?(0,o.hq)(O,v,h):!1),P=m(()=>{if(C)switch(f){case l.HuddlesFreemiumDeprecated:return I?void 0:_.t("Huddles with more than two people are a paid feature, available with your free trial");default:return _.t("This is a paid feature, available with your free trial")}if(M)switch(f){case l.HuddlesFreemiumDeprecated:return I?void 0:_.t("Huddles with more than two people are a paid feature, available with a free, {trialLength}-day trial",{trialLength:p});default:return _.t("This is a paid feature, available with a free, {trialLength}-day trial",{trialLength:p})}switch(f){case l.HuddlesFreemiumDeprecated:return I?void 0:_.t("Huddles with more than two people are a paid feature, available with an upgrade");default:return _.t("This is a paid feature, available with an upgrade")}},"getTooltipText"),S=m(()=>C?_.t("This feature is unlimited with your free trial"):M?_.t("This feature is unlimited with a free trial, {trialLength}-day trial",{trialLength:p}):_.t("This feature is unlimited with an upgrade"),"getFreemiumTooltipText");if(D)return{};const b=A?S():P();return d?{tooltipTitle:d,tooltipBody:b}:{tooltipTitle:b}},"useTrialProBadgeTooltipText")},2481088989:(W,T,e)=>{"use strict";e.d(T,{A:()=>a,D:()=>i});var t=e(3134334389),s=e(6455962125),n=e(7949425452),r=e(5641442783),u=e(5431290584);const i={RIGHT_ALIGNED:"right_aligned",LEFT_ALIGNED:"left_aligned"};function o(_){let{position:l=i.RIGHT_ALIGNED,isTrialVariant:p,isPaidVariant:g,uiComponentVariant:c,size:E}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{position:i.RIGHT_ALIGNED,isTrialVariant:!1,isPaidVariant:!1,uiComponentVariant:void 0,size:u.vj.Medium};const A=t.createElement("span",{className:`p-with_pro_badge__text--${l}`},_);let d=t.createElement(n.J,{className:"p-with_pro_badge__badge",size:E});g?d=t.createElement(s.y,{className:"p-with_pro_badge__badge p-with_pro_badge__paid-badge",size:E}):p&&(d=t.createElement(r.A,{className:"p-with_pro_badge__badge",uiComponentVariant:c,badgeSize:E}));let v;return l===i.RIGHT_ALIGNED?v=t.createElement(t.Fragment,null,A,d):v=t.createElement(t.Fragment,null,d,A),t.createElement("div",{className:"p-with_pro_badge"},v)}m(o,"WithProBadge"),o.displayName="WithProBadge";const a=o},5498730041:(W,T,e)=>{"use strict";e.d(T,{N:()=>E});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(4481313819),u=e(2481088989),i=e(3801841745),o=e(2645587768),a=e(8739505998),_=e(8683010724),l=e(1224315998),p=e(8312761259),g=e.n(p);function c(){return c=Object.assign||function(A){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var h in v)Object.prototype.hasOwnProperty.call(v,h)&&(A[h]=v[h])}return A},c.apply(this,arguments)}m(c,"_extends");const E=m(A=>{let{className:d,autoClogProps:v,title:h,showHourglassIcon:f,primaryCta:y,badgeVariant:I}=A;const C=(0,t.useMemo)(()=>t.createElement(t.Fragment,null,h,y&&t.createElement(a.A,{className:g().link,renderAsSpan:y.onClick?!0:void 0,autoClogProps:y.autoClogProps,href:y.href,onClick:y.onClick},y.text)),[h,y]);return t.createElement(r.A,c({eventId:l.EventId.UPGRDEXP_TRIAL,clogImpression:!0},v),t.createElement(o.Ay,{type:"neutral",showCloseButton:!1,isFixedPosition:!1,className:n()(g().banner,d),"data-qa":"trial-awareness-banner-sm"},t.createElement(i.A,null,I&&!f&&(0,u.A)(C,{position:u.D.LEFT_ALIGNED,isPaidVariant:I==="paid"}),f&&t.createElement(t.Fragment,null,t.createElement("span",{className:g().icon},t.createElement(_.A,{name:"hourglass",size:"20"})),t.createElement("div",null,C)),!I&&!f&&C)))},"SmallTrialAwarenessBanner");E.displayName="SmallTrialAwarenessBanner"},5791262841:(W,T,e)=>{"use strict";e.d(T,{A:()=>L});var t=e(3134334389),s=e(6122756707),n=e(4481313819),r=e(1267040415),u=e(2934784510),i=e(4963725897),o=e(267465465),a=e(280819219),_=e(8719380546),l=e(8683010724);const g=m(k=>{let{checklistItems:K,checklistHeading:N}=k;return t.createElement("div",{className:"p-modal_content_checklist__checklist"},t.createElement("div",{className:"p-modal_content_checklist__heading"},N),K.map(R=>t.createElement("div",{key:R,className:"p-modal_content_checklist__checklist_item"},t.createElement("div",{className:"p-modal_content_checklist__checklist_check"},t.createElement(l.A,{name:"check",size:"16",variation:"filled"})),t.createElement("div",null,R))))},"ModalContentChecklist");var c=e(4117634716),E=e(8822892075),A=e(7940058138),d=e(980293773),v=e(1224315998),h=e(9392104102),f=e(735940183),y=e(9506008067),I=e(6259241484),C=e(8871937520),D=e(9003400431),M=e(5512605238);const P=new f.A("trials"),S={elementName:"start_trial",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},b={elementName:"upgrade_link",isPrimaryCTA:!0,onClick:{enableClogAction:!0}},O=m(k=>{let{modalClassName:K,modalCloseButtonTheme:N,modalSubtitle:R,modalTitle:U,modalType:x=o.H.VERTICAL_BANNER,modalVideoClassName:B,modalVideoFileName:F,modalLottieAnimation:V,modalVideoPosterExtension:Y="",modalBannerBackgroundColor:w="",modalChecklistHeading:G="",modalChecklistItems:Ee=h.Ml,promoType:ne,promoSubtype:se,imgSrc:ce,isEligibleForTrial:pe,startTrialContext:ye,uiPage:Ie,uiComponentVariant:Se,uiStep:le,onSpeedbumpContinue:X,onSpeedbumpContinueLabel:J,onTrialStart:z,skipSpeedbump:te,"data-qa":$,omitSecondaryCTA:q=!1}=k;const re=(0,s.wA)(),de=(0,y.d4)(M.F),[oe,De]=(0,t.useState)(!1),ae=(0,t.useRef)(""),Z=(0,t.useCallback)(()=>{re((0,D.O)())},[re]),ie=(0,t.useCallback)(async function(){let{trialExpirationDate:je}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};je&&(ae.current=je,z==null||z(),te?Z():De(!0))},[Z,z,te]),Ce=(0,t.useCallback)(()=>{Z(),re((0,c.o)((0,E.ZF)(A.c.PaidBenefits)))},[re,Z]),Re=(0,t.useCallback)(()=>{Z(),X==null||X()},[Z,X]),He=t.createElement(g,{checklistHeading:G,checklistItems:Ee}),be=(0,t.useMemo)(()=>[I.xu.SIDEBAR_MENU_HEADER],[]),Ue=t.createElement(i.A,{"data-qa":"trial_entry_point_modal_start_trial_button",autoClogProps:S,reason:"start_trial_from_trial_entry_point_modal",context:ye,promoType:ne,promoSubtype:se,onRequestComplete:ie,megaphoneSpacesToRefresh:be},P.t("Start Free Trial")),me=t.createElement(r.A,{"data-qa":"trial_entry_point_modal_plans_page_button",type:"primary",autoClogProps:b,onClick:Z},P.t("See Upgrade Options")),ve=pe?Ue:me,Fe=o.H.HORIZONTAL_BANNER?"800px":"586px",Ke=m(()=>{if(!ae.current)return null;const je=t.createElement("div",{className:"display_flex"},t.createElement(a.A,{className:"p-trial_entry_point_modal__speedbump_icon",type:"sparkles-filled"}),P.t("Ta-da! Your team\u2019s on a free trial")),Te=t.createElement("div",{className:"p-trial_entry_point_modal__speedbump_description"},P.rt("You\u2019re on the most popular premium plan, Slack Pro \u2014 with features designed to help teams work better, together \u2014 through {trialExpirationDate}, absolutely free.",{trialExpirationDate:(0,C.Pd)(ae.current)})),Ae=m(()=>J||(X?P.t("Continue"):P.t("Find Out More")),"getContinueButtonLabel")();let Me=P.t("Dismiss"),we=Ce,Ge=Z,Qe="speedbump_learn_more",fe="speedbump_dismiss";return X&&(Me=P.t("Learn More"),we=Re,Ge=Ce,Qe="speedbump_continue",fe="speedbump_learn_more"),t.createElement(d.ty,{className:"p-trial_entry_point_modal__speedbump","data-qa":"trial_entry_point_modal_speedbump",heading:je,description:Te,continueButtonLabel:Ae,cancelButtonLabel:Me,onCancel:q?void 0:Ge,onContinue:we,continueButtonType:"primary",autoFocusContinueButton:!0,autoClogProps:{continueButton:{elementName:Qe,onClick:{enableClogAction:!0}},cancelButton:{elementName:fe,onClick:{enableClogAction:!0}}}})},"renderSpeedbump");Ke.displayName="renderSpeedbump";const j=t.createElement("div",{className:"p-trial_entry_point_modal__footer_text","data-qa":"trial_entry_point_modal_footer_text"},P.t("No credit card required.")),ee=t.createElement("div",{className:"p-trial_entry_point_modal__footer"},ve,pe&&j,pe&&t.createElement(u.A,{shouldShow:de}),oe&&Ke());return t.createElement(n.A,{eventId:v.EventId.UPGRDEXP_TRIAL,clogImpression:!0,uiComponentName:v.UiComponentName.TRIAL_ENTRY_POINT_MODAL,uiComponentVariant:Se,uiStep:le,uiPage:Ie},t.createElement(_.A,{bannerBackgroundColor:w,"data-qa":$,imgSrc:ce,title:U,subtitle:R,bodyContent:He,footerContent:ee,onRequestClose:Z,maxWidth:Fe,className:K,closeButtonTheme:N,type:x,videoFilename:F,videoPosterExtension:Y,videoClassName:B,lottieAnimation:V}))},"TrialEntryPointModal");O.displayName="TrialEntryPointModal";const L=O},2934784510:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(6122756707),n=e(2670882607),r=e(9506008067),u=e(2047021170),i=e(1939990292);const a=t.memo(_=>{let{shouldShow:l=!1}=_;const p=(0,s.wA)(),[g,c]=(0,t.useState)(),[E,A]=(0,t.useState)(!1),d=(0,t.useCallback)(f=>{f&&f.then(y=>c(y))},[c]),v=(0,r.d4)(f=>!(0,u.ty)(f,"a11y_animations")),h=(0,t.useCallback)(()=>e.e("trial-celebration-confetti.json").then(e.t.bind(e,4831955131,23)),[]);return!l||v||E?null:(g&&g._cbs&&g.addEventListener("complete",()=>{p((0,i.DJ)(!1)),A(!0)}),t.createElement(n.e,{autoplay:!0,className:"p-trial_start_confetti",getAnimationImport:h,ref:d}))})},4963725897:(W,T,e)=>{"use strict";e.d(T,{A:()=>k});var t=e(3134334389),s=e(6122756707),n=e(7715417323),r=e(4481313819),u=e(7241534324),i=e(4585652590),o=e(6084388622),a=e(8739505998),_=e(5733135148),l=e(1224315998),p=e(735940183),g=e(9506008067),c=e(1655938719),E=e(1939990292),A=e(962959561),d=e(398781533),v=e(6304789565),h=e(1384076438),f=e(677609895),y=e(6323355797),I=e(3677514771),C=e(56548687);const D=(0,v.Ay)("Open trial checkout or plans page if user can purchase",async(K,N,R)=>{let{campaignType:U,campaignSubType:x,entryPoint:B}=R;const F=N(),V=(0,I.H7)(F),Y=(0,y.tc)({team:V,promoType:U,promoSubtype:x,entryPoint:B}),w=(0,y.hZ)({entryPoint:U,team:V}),G=(0,C.e)({state:F}),{isEligible:Ee}=await K((0,h.A)({campaignType:U,campaignSubType:x,reason:"auto_charge_trial_start_cta"}));Ee&&(0,A.L9)(N())&&(0,f.X)(N())?(G.track(l.EventId.NEWXP_TEAM_CREATE,u.Fq),window.open(Y,"_blank")):(G.track(l.EventId.NEWXP_TEAM_CREATE,u.tC),window.open(w,"_blank"))});D.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeOpenTrialCheckout",description:"Open trial checkout or plans page if user can purchase"};var M=e(5773584938);function P(){return P=Object.assign||function(K){for(var N=1;N<arguments.length;N++){var R=arguments[N];for(var U in R)Object.prototype.hasOwnProperty.call(R,U)&&(K[U]=R[U])}return K},P.apply(this,arguments)}m(P,"_extends");const S=new p.A("trials"),b={name:"warning"},O=m(K=>{let{children:N,reason:R,context:U,megaphoneSpacesToRefresh:x,promoType:B,promoSubtype:F,onClick:V,onRequestComplete:Y=n.A,onRequestError:w=n.A,useLink:G,refToForward:Ee,...ne}=K;const se=(0,s.wA)(),ce=(0,g.d4)(M.Ii),pe=(0,A.aJ)({campaignType:B,campaignSubType:F}),[ye,Ie]=(0,t.useState)(!1),[Se,le]=(0,t.useState)(!1),X=(0,t.useCallback)(()=>{Ie(!0),le(!1),w()},[w]),J=(0,t.useCallback)(()=>{Se||(le(!0),Ie(!1),se((0,i.a)({reason:R,campaignType:B,campaignSubType:F,context:U})).then($=>{let{trial_expiration_date:q}=$;se((0,E.DJ)(!0)),Y({trialExpirationDate:q}),se((0,c.yJ)({additionalSpaces:x,megaphoneReason:"trial_start_request_complete"})),q||X()}).catch(X))},[Se,se,R,B,F,U,X,Y,x]),z=(0,t.useCallback)(()=>{const $="trial_start_cta";se((0,d.Q)({entryPoint:$,campaignType:B,campaignSubType:F,reason:"auto_charge_trial_check"})),ce&&pe?se(D({campaignType:B,campaignSubType:F,entryPoint:$})):J(),V==null||V()},[V,J,se,B,F,ce,pe]),te=G?t.createElement(a.A,P({ref:Ee},ne,{onClick:z}),N):t.createElement(o.lV,P({ref:Ee},ne,{onClick:z,loading:Se,"aria-label":void 0}),N);return t.createElement(r.A,{eventId:l.EventId.UPGRDEXP_TRIAL_START,clogImpression:!0,stepVariant:ce&&pe?u.F5:void 0},te,ye&&t.createElement(_.Ay,{svgIconProps:b,svgIconClassName:"align_self_start",shouldAutoFade:!1},S.t("Something went wrong. Try again later.",{fallbackHash:"248cbe7878bb83237a17ae6abe635e6251a6517a",fallbackHashNs:"channel_modal"})))},"TrialStartCTABase");O.displayName="TrialStartCTABase";const k=t.forwardRef((K,N)=>t.createElement(O,P({},K,{refToForward:N})))},1388835426:(W,T,e)=>{"use strict";e.d(T,{S:()=>s});var t=e(9907843289);const s=m(n=>{switch((0,t.Yp)()){case"de-DE":return{translation:n["de-DE"],enableMediaCaptions:!0};case"en-GB":return{translation:n["en-GB"],enableMediaCaptions:!1};case"en-US":return{translation:n["en-US"],enableMediaCaptions:!1};case"es-ES":return{translation:n["es-ES"],enableMediaCaptions:!0};case"es-LA":return{translation:n["es-LA"],enableMediaCaptions:!0};case"fr-FR":return{translation:n["fr-FR"],enableMediaCaptions:!0};case"it-IT":return{translation:n["it-IT"],enableMediaCaptions:!0};case"ja-JP":return{translation:n["ja-JP"],enableMediaCaptions:!0};case"ko-KR":return{translation:n["ko-KR"],enableMediaCaptions:!0};case"pt-BR":return{translation:n["pt-BR"],enableMediaCaptions:!0};case"zh-CN":return{translation:n["zh-CN"],enableMediaCaptions:!0};case"zh-TW":return{translation:n["zh-TW"],enableMediaCaptions:!0};default:return{translation:n["en-US"],enableMediaCaptions:!0}}},"useVideoTranslation")},5712872315:(W,T,e)=>{"use strict";e.d(T,{B:()=>s,D:()=>t});var t;(function(n){n.SMALL="small",n.MEDIUM="medium",n.LARGE="large"})(t||(t={}));var s;(function(n){n.NONE="none",n.PURPLE="purple",n.LIGHT_PURPLE="light_purple",n.BLUE="blue",n.ERROR="error",n.HORCHATA="horchata",n.SUNFLOWER="sunflower",n.GRADIENT="gradient"})(s||(s={}))},3328083357:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5712872315),u=e(280819219),i=e(581167618),o=e(6105929840),a=e(1224315998),_=e(735940183);const l=new _.A("upgrades_kit"),p={action:a.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:a.ElementType.X},g=m(E=>{let{className:A,iconType:d,customIcon:v,image:h,heading:f,children:y,onDismiss:I,useRoundedCorners:C=!0,showBorder:D=!0,size:M=r.D.MEDIUM,theme:P=r.B.PURPLE,"data-qa":S="",primaryCTA:b,secondaryCTA:O}=E;const L=m(()=>{let U;const x="p-upgrades_alert_banner__icon";return v?U=t.createElement("div",{className:x},v):h?U=t.createElement("div",{className:n()(x,"p-upgrades_alert_banner__icon--image")},h):d&&(U=t.createElement(u.A,{className:x,size:M,theme:P,type:d})),U},"renderIcon");L.displayName="renderIcon";const k=m(()=>t.createElement(o.A,{className:"p-upgrades_alert_banner__close_icon","data-qa":"alert_banner_close_button",icon:"times",size:"small","aria-label":l.t("Dismiss"),onClick:I,autoClogProps:p}),"renderCloseIcon");k.displayName="renderCloseIcon";const K=m(()=>!b&&!O?null:t.createElement("div",{className:"p-upgrades_alert_banner__button_container"},b,O),"renderButtons");K.displayName="renderButtons";const N=L(),R=n()("p-upgrades_alert_banner",`p-upgrades_alert_banner--${M}`,`p-upgrades_alert_banner--${P}`,A,{"p-upgrades_alert_banner--with_close_icon":!!I,"p-upgrades_alert_banner--rounded_corners":C,"p-upgrades_alert_banner--no_border":!D,"p-upgrades_alert_banner--with_image":!!h});return t.createElement("div",{className:"full_width"},t.createElement(i.Ay,{className:R,"data-qa":S,customIcon:N,heading:f,type:N?i.QE.boxed:i.QE.custom},t.createElement("div",{className:"p-upgrades_alert_banner__body"},y),K(),I&&k()))},"AlertBanner");g.displayName="AlertBanner";const c=g},7433432223:(W,T,e)=>{"use strict";e.d(T,{A:()=>f});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5712872315),u=e(6755588906),i=e(581167618),o=e(6084388622),a=e(6308822),_=e(6105929840),l=e(8683010724),p=e(1224315998),g=e(735940183);function c(){return c=Object.assign||function(y){for(var I=1;I<arguments.length;I++){var C=arguments[I];for(var D in C)Object.prototype.hasOwnProperty.call(C,D)&&(y[D]=C[D])}return y},c.apply(this,arguments)}m(c,"_extends");const E=new g.A("upgrades_kit"),A=425,d={action:p.UiAction.CLOSE,onClick:{enableClogAction:!0},elementName:"close",elementType:p.ElementType.X},v=m(y=>{let{className:I,image:C,heading:D,isLoading:M,children:P,onDismiss:S,useRoundedCorners:b=!0,showBorder:O=!0,size:L=r.D.MEDIUM,theme:k=r.B.HORCHATA,primaryCTA:K,secondaryCTA:N,withMargins:R,iconProps:U,"data-qa":x,columnWidth:B=0}=y;const F=m(()=>t.createElement(_.A,{className:"p-upgrades_alert_banner_v2__close_icon",icon:"times",size:"small","aria-label":E.t("Dismiss"),onClick:S,autoClogProps:d}),"renderCloseIcon"),V=m(()=>{const Ee=t.createElement("div",null,t.createElement("div",{className:"p-upgrades_alert_banner_v2__heading"},D),t.createElement("div",{className:"p-upgrades_alert_banner_v2__body"},P));if(U){const ne={inline:!0,size:"20",...U};return t.createElement("div",{className:"display_flex"},t.createElement("span",{className:`margin_right_50 p-upgrades_alert_banner_v2__icon--${k}`},t.createElement(l.A,c({},ne))),t.createElement("div",{className:"display_flex flex_direction_column"},Ee))}return Ee},"renderContent");V.displayName="renderContent";const Y=m(()=>!K&&!N?null:t.createElement("div",{className:"p-upgrades_alert_banner_v2__button_container"},M?t.createElement(o.lV,{loading:!0,"aria-label":void 0}):t.createElement(t.Fragment,null,K,N)),"renderButtons");Y.displayName="renderButtons";const w=B<A,G=n()("p-upgrades_alert_banner_v2",`p-upgrades_alert_banner_v2--${L}`,`p-upgrades_alert_banner_v2--${k}`,I,{"p-upgrades_alert_banner_v2--with_close_icon":!!S,"p-upgrades_alert_banner_v2--rounded_corners":b,"p-upgrades_alert_banner_v2--no_border":!O,"p-upgrades_alert_banner_v2--with_image":!!C,"p-upgrades_alert_banner_v2--with_margins":R,"p-upgrades_alert_banner_v2--narrow":w});return t.createElement("div",{className:"full_width"},t.createElement(i.Ay,{className:G,type:i.QE.inline,"data-qa":x},t.createElement("div",{className:"p-upgrades_alert_banner_v2__content"},M?t.createElement(a.A,{color:"white",inline:!0}):V(),Y(),S&&F())))},"AlertBanner");v.displayName="AlertBanner";const f=(0,u.tu)(v)},267465465:(W,T,e)=>{"use strict";e.d(T,{H:()=>t});var t;(function(s){s.MULTI_PANE="multi_pane",s.SINGLE_PANE="single_pane",s.VERTICAL_BANNER="vertical_banner",s.HORIZONTAL_BANNER="horizontal_banner"})(t||(t={}))},280819219:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5712872315);const i=t.memo(p=>{let{animationDelay:g,size:c="large"}=p;const E=48,A=E-(c==="large"?48:36),d=E*2,v="#1D9BD1",h="#F2C744",f="#007A5A",y="#E01E5A",I={animationDelay:`${g||0}s`},C=m((S,b)=>t.createElement("path",{d:"M2 10.3L6 10.39C8.2 10.4 10 8.6 10 6.3C10 4 8.2 2.1 6 2C3.79 2 2 3.85 2 6.15L2 10.3Z",fill:b,className:S,style:I}),"renderDrop"),D=m((S,b)=>t.createElement("circle",{r:"4",fill:b,className:S,style:I}),"renderCircle"),M=m((S,b)=>t.createElement("path",{d:"M6.47 1.27C6.3 0.83 5.69 0.83 5.53 1.27L4.46 4.16C4.4 4.3 4.3 4.41 4.16 4.46L1.27 5.53C0.83 5.69 0.831 6.3 1.27 6.47L4.16 7.5C4.3 7.59 4.41 7.7 4.46 7.84L5.53 10.73C5.69 11.17 6.31 11.17 6.47 10.73L7.54 7.84C7.59 7.7 7.7 7.59 7.84 7.54L10.73 6.47C11.17 6.31 11.17 5.69 10.73 5.53L7.84 4.46C7.7 4.41 7.59 4.3 7.54 4.16L6.47 1.27Z",fill:b,className:S,style:I}),"renderStar"),P=m((S,b)=>t.createElement("path",{d:"M1 5.5C1 4.12 2.12 3 3.5 3H8.5C9.88 3 11 4.12 11 5.5V5.5C11 6.88 9.88 8 8.5 8H3.5C2.12 8 1 6.88 1 5.5V5.5Z",fill:b,className:S,style:I}),"renderSprinkle");return t.createElement("svg",{className:n()("position_absolute",`p-upgrades_icon_celebration_animation--${c}`),style:{top:`-${E/2+A/2}px`,left:`-${E/2+A/2}px`},width:d,height:d,viewBox:`0 0 ${d} ${d}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"},C("p-upgrades_icon_celebration_animation__drop_top_right",v),D("p-upgrades_icon_celebration_animation__circle_top_right",h),D("p-upgrades_icon_celebration_animation__circle_right",f),M("p-upgrades_icon_celebration_animation__star_bottom_right",h),D("p-upgrades_icon_celebration_animation__circle_bottom_right",h),P("p-upgrades_icon_celebration_animation__sprinkle_bottom_left",y),C("p-upgrades_icon_celebration_animation__drop_left",h),D("p-upgrades_icon_celebration_animation__circle_top_left",v),M("p-upgrades_icon_celebration_animation__star_top_left",f),P("p-upgrades_icon_celebration_animation__sprinkle_top_left",y))});var o=e(1610251172);function a(){return a=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var c=arguments[g];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(p[E]=c[E])}return p},a.apply(this,arguments)}m(a,"_extends");const _=m(p=>{let{className:g,animationProps:c,hasBorder:E,type:A,size:d=r.D.MEDIUM,theme:v=r.B.PURPLE,showAnimation:h}=p;const f=n()(`p-upgrades_icon--${d}`,`p-upgrades_icon--${v}`,g),y=t.createElement(o.A,{className:f,size:"inherit",type:A});if(!E)return y;const I=n()("p-upgrades_icon_container",`p-upgrades_icon_container--${d}`,`p-upgrades_icon_container--${v}`,{"p-upgrades_icon_container--with_animation":h});return t.createElement("div",{className:I},y,h&&t.createElement(i,a({size:d},c)))},"UpgradesIcon");_.displayName="UpgradesIcon";const l=_},5207331754:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(980293773);const i=m(o=>{let{children:a,className:_}=o;return t.createElement(r.qf,{className:n()("p-upgrades_modal__content_section",_)},a)},"ModalBody")},9240394198:(W,T,e)=>{"use strict";e.d(T,{N:()=>f,A:()=>I});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(267465465),u=e(7949425452),i=e(5207331754),o=e(6000244203),a=e(3357053101),_=e(1935364562),l=e(3801841745),p=e(581167618),g=e(980293773);const E=m(C=>{let{banner:D,bodyContent:M,footerContent:P,showProBadge:S=!0,subtitle:b,title:O,error:L}=C;return t.createElement(t.Fragment,null,t.createElement("div",{className:"p-upgrades_modal_with_banner_horizontal__left_panel"},t.createElement(l.A,{flexDirection:"column",gap:20},L&&t.createElement(p.Ay,{icon:"warning",level:"error",className:"p-upgrades_modal_with_banner_horizontal__error_alert"},L),t.createElement(a.A,{headerClassName:"p-upgrades_modal_with_banner_horizontal__header",titleClassName:"padding_top_0",title:O},S&&t.createElement(u.J,{className:"p-upgrades_modal_with_banner_horizontal__pro_badge"}))),t.createElement(g.$m,null,b&&t.createElement(_.A,{className:"p-upgrades_modal_with_banner_horizontal__subtitle",subtitle:b}),t.createElement(i.A,{className:"p-upgrades_modal_with_banner_horizontal__body"},M)),t.createElement(o.A,{className:"p-upgrades_modal_with_banner_horizontal__footer"},P)),D)},"ModalContentHorizontalBanner"),A=m(C=>{let{banner:D,bodyContent:M,footerContent:P,showProBadge:S=!0,subtitle:b,title:O}=C;const L=t.createElement(t.Fragment,null,O,S&&t.createElement(u.J,{className:"p-upgrades_modal_with_banner_vertical__pro_badge"}));return t.createElement(t.Fragment,null,t.createElement(a.A,{titleClassName:"p-upgrades_modal_with_banner_vertical__title",title:L},D),t.createElement(g.$m,null,b&&t.createElement(_.A,{className:"p-upgrades_modal_with_banner_vertical__subtitle",subtitle:b}),t.createElement(i.A,{className:"p-upgrades_modal_with_banner_vertical__body"},M)),t.createElement(o.A,null,P))},"ModalContentVerticalBanner");A.displayName="ModalContentVerticalBanner";const d=A;var v=e(7729538251);function h(){return h=Object.assign||function(C){for(var D=1;D<arguments.length;D++){var M=arguments[D];for(var P in M)Object.prototype.hasOwnProperty.call(M,P)&&(C[P]=M[P])}return C},h.apply(this,arguments)}m(h,"_extends");var f;(function(C){C.LIGHT="light",C.DARK="dark",C.GOLD="gold",C.GRAY="gray",C.DARK_GRAY="dark_gray"})(f||(f={}));const y=m(C=>{let{bannerBackgroundColor:D,bodyContent:M,centered:P,className:S,closeButtonTheme:b=f.DARK,closeModal:O,dataQa:L,footerContent:k,hero:K,imgSrc:N,imgSrcSet:R,maxWidth:U,shouldCloseOnOverlayClick:x,showProBadge:B=!0,subtitle:F,title:V,error:Y,type:w,videoFilename:G,videoPosterExtension:Ee="png",videoClassName:ne,lottieAnimation:se,...ce}=C;const pe=(0,v.JK)(),ye=`${G}${pe==="en-US"?"":`.${pe}`}`,Ie=`p-upgrades_modal_with_banner__banner--${w}`,Se=m(()=>K?t.createElement("div",{className:Ie},K):R?t.createElement("img",{className:Ie,alt:"",srcSet:R}):N?t.createElement("img",{className:Ie,alt:"",src:N}):G?t.createElement("video",{playsInline:!0,autoPlay:!0,muted:!0,className:n()(Ie,ne),poster:`${ye}.${Ee}`},t.createElement("source",{type:"video/mp4",src:`${ye}.mp4`}),t.createElement("source",{type:"video/webm",src:`${ye}.webm`})):se?t.createElement("div",{className:"p-upgrades_modal__lottie_container"},se):null,"getModalBanner");Se.displayName="getModalBanner";const le=t.createElement("div",{style:{backgroundColor:D},className:`p-upgrades_modal_with_banner__banner_container--${w}`},Se());return t.createElement(g.dW,h({className:n()("p-upgrades_modal_with_banner",`p-upgrades_modal_with_banner__base_modal--${w}`,`p-upgrades_modal_with_banner--close_button_${b}`,"p-upgrades_modal_with_banner--close_button",S),centered:P,closeModal:O,dataQa:L,maxWidth:U,shouldCloseOnOverlayClick:x},ce),w===r.H.VERTICAL_BANNER?t.createElement(d,{banner:le,bodyContent:M,footerContent:k,showProBadge:B,subtitle:F,title:V}):t.createElement(E,{banner:le,bodyContent:M,footerContent:k,showProBadge:B,subtitle:F,title:V,error:Y}))},"ModalContentWithBanner");y.displayName="ModalContentWithBanner";const I=y},6000244203:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(980293773);const i=m(o=>{let{children:a,className:_}=o;return t.createElement(r.jl,{className:"p-upgrades_modal__footer"},t.createElement(r.ox,{className:n()("p-upgrades_modal__footer_actions",_)},a))},"ModalFooter")},3357053101:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(980293773);const i=m(o=>{let{headerClassName:a,titleClassName:_,children:l,title:p}=o;return t.createElement(r.rQ,{className:n()("p-upgrades_modal__header",a)},l,t.createElement(r.Rc,{className:n()("p-upgrades_modal__title",_),title:p}))},"ModalHeader")},1935364562:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3134334389),s=e(4844578989),n=e.n(s);const u=m(i=>{let{className:o,subtitle:a}=i;return t.createElement("div",{className:n()("p-upgrades_modal__subtitle",o)},a)},"ModalSubtitle")},8719380546:(W,T,e)=>{"use strict";e.d(T,{A:()=>h});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(267465465),u=e(5712872315),i=e(280819219),o=e(5207331754),a=e(6000244203),_=e(3357053101),l=e(1935364562),p=e(980293773);const c=m(f=>{let{subtitle:y,bodyContent:I,footerContent:C,title:D,titleImage:M,titleVideo:P,titleVideoClassName:S,titleIcon:b,showTitleIconAnimation:O,headerClassName:L,footerActionsClassName:k,theme:K}=f;return t.createElement(t.Fragment,null,t.createElement(_.A,{headerClassName:n()(L,{"p-upgrades_modal__header--with_animation":O}),title:D},M,P&&t.createElement("div",{className:n()(S)},P),b&&t.createElement("div",{className:"p-upgrades_modal__icon"},t.createElement(i.A,{hasBorder:!0,size:u.D.LARGE,type:b,showAnimation:!!O,theme:K}))),y&&t.createElement(l.A,{subtitle:y}),I&&t.createElement(p.$m,null,t.createElement(o.A,null,I)),t.createElement(a.A,{className:k},C))},"ModalContent");var E=e(9240394198),A=e(4376397139);function d(){return d=Object.assign||function(f){for(var y=1;y<arguments.length;y++){var I=arguments[y];for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(f[C]=I[C])}return f},d.apply(this,arguments)}m(d,"_extends");const v=m(f=>{const{className:y,maxWidth:I,onRequestClose:C,type:D,"data-qa":M,UNSAFE_parentSelector:P}=f,b={className:n()("p-upgrades_modal__container",y),closeModal:C,shouldCloseOnOverlayClick:!0,centered:!0,maxWidth:I,dataQa:M,UNSAFE_parentSelector:P};return D===r.H.MULTI_PANE?t.createElement(A.A,d({},f,b)):D===r.H.VERTICAL_BANNER||D===r.H.HORIZONTAL_BANNER?t.createElement(E.A,d({},f,b)):t.createElement(p.dW,d({},b),t.createElement(c,d({},f)))},"Modal");v.displayName="Modal";const h=v},9371668729:(W,T,e)=>{"use strict";e.d(T,{A:()=>E});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(4481313819),u=e(7949425452),i=e(5431290584),o=e(3994181705),a=e(2312625946),_=e(1224315998),l=e(9506008067),p=e(7268021173);function g(){return g=Object.assign||function(A){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var h in v)Object.prototype.hasOwnProperty.call(v,h)&&(A[h]=v[h])}return A},g.apply(this,arguments)}m(g,"_extends");const c=m(A=>{let{ariaLabel:d,tooltipText:v,children:h,onClick:f,isFreemium:y,promoType:I,promoSubtype:C,showProBadge:D,tooltipClassName:M,uiComponentVariant:P,variant:S,toolTipZIndex:b,toolTipPosition:O,...L}=A;const{tooltipTitle:k,tooltipBody:K}=(0,o.A)({isFreemium:y,tooltipText:v,promoType:I,promoSubtype:C,variant:S}),N=(0,l.d4)(x=>(0,p.bp)(x,I,C)),R=K?`${k} - ${K}`:k;if(N)return h;const U=t.createElement(r.A,{clogImpression:!0,eventId:_.EventId.UPGRDEXP_TRIAL,uiComponentName:_.UiComponentName.TRIAL_FEATURE_TOOLTIP,uiComponentVariant:P},t.createElement("div",{className:"p-trial_feature_tooltip"},t.createElement("span",{className:"p-trial_feature_tooltip__title"},D&&t.createElement(u.J,{badgeTheme:i.Vu.White,className:"p-trial_feature_tooltip__pro_badge"}),t.createElement("div",{className:"p-trial_feature_tooltip__title_text"},k)),t.createElement("div",{className:"p-trial_feature_tooltip__body"},K)));return t.createElement(a.Ay,g({tipClassName:n()("p-trial_feature_tooltip__container",M),tip:U,onClick:f,zIndex:b,position:O,"aria-label":d?`${d}: ${R}`:`${R}`},L),h)},"TrialFeatureTooltip");c.displayName="TrialFeatureTooltip";const E=c},4874502712:(W,T,e)=>{"use strict";e.d(T,{y:()=>n});var t=e(2384831516),s=e(4761125736);const n=(0,t.Mz)(r=>(0,s._Z)(r,"improved_workflows_to_channel",!1)==="on");n.meta={name:"createSelector",key:"createSelectorisImprovedWorkflowsToChannelEnabled",description:r=>(0,s._Z)(r,"improved_workflows_to_channel",!1)==="on"}},6066192332:(W,T,e)=>{"use strict";e.d(T,{D:()=>d});var t=e(3134334389),s=e(2428912116),n=e(3255440563),r=e(2843556239),u=e(9323322135),i=e(7937864072),o=e(9506008067),a=e(7067820909),_=e(4761125736);const l="IMG-ANIM-MGR",p=m(v=>{v.src=v.src},"resetImageAnimation"),g=m(v=>{Array.from(v.querySelectorAll("img[src]")).forEach(p)},"resetAllImageAnimations"),c=m((v,h)=>{const f=(0,i.A)(),y=(0,o.d4)(C=>{var D;const M=(0,a.u_)(C,h);var P;return(P=M==null||(D=M.frame)===null||D===void 0?void 0:D.isFocused)!==null&&P!==void 0?P:!0}),I=(0,o.d4)(C=>(0,_._Z)(C,"desktop_toggle_image_animation_policy")==="on");(0,t.useEffect)(()=>{if(h&&!(typeof y>"u")&&I&&u.K6K.isAvailable()){const C=y?"animate":"noAnimation";f.info(l,"Applying image animation policy on focus change",{windowToken:h,imageAnimationPolicy:C}),(0,u.K6K)(h,C).then(()=>{var D;const M=(D=v.deref())===null||D===void 0?void 0:D.document;M&&g(M)})}},[y,v,h,f,I])},"useImageAnimationManager");var E=e(4588514760),A=e(4094753332);const d=m(v=>{let{children:h,windowRef:f,shouldNavigateInContextContainerRules:y}=v;const I=(0,i.A)({label:"window-context"}),C=(0,t.useMemo)(()=>{var M;const P=f.deref();if(!P)return I.warn("Window ref no longer exists"),r.Jh;const S=P===window.self,b=!S,O=S?void 0:(0,E.f5)(P),L=S?(0,u.Xgz)():(M=P)===null||M===void 0?void 0:M.browserWindowId;return typeof L!="number"&&(0,A.y3)()&&I.error(new Error("Window is missing windowToken")),b&&!O&&I.error(new Error("Child window is missing windowId")),{windowRef:f,windowId:O,windowToken:L}},[I,f]),D=(0,t.useMemo)(()=>({shouldNavigateInContextContainerRules:y}),[y]);return c(C.windowRef,C.windowToken),t.createElement(r._0.Provider,{value:C},t.createElement(n.C.Provider,{value:C},t.createElement(s.v.Provider,{value:D},h)))},"WindowContextProvider");d.displayName="WindowContextProvider"},4387298515:(W,T,e)=>{"use strict";e.d(T,{$m:()=>n,AH:()=>A,Ac:()=>u,D0:()=>p,Mh:()=>c,VR:()=>_,th:()=>o});var t=e(6045824189);const s=(0,t.Nh)(["callsScreenshare","createBorderWindow"]),n=m(async(d,v)=>{s.isAvailable()&&s(d,v)},"createBorderWindow"),r=(0,t.Nh)(["callsScreenshare","showBorder"]),u=m(async()=>{r.isAvailable()&&r()},"showBorder"),i=(0,t.Nh)(["callsScreenshare","hideBorder"]),o=m(async()=>{i.isAvailable()&&i()},"hideBorder"),a=(0,t.Nh)(["callsScreenshare","setWindowOrScreenId"]),_=m(async d=>{a.isAvailable()&&a(d)},"setWindowOrScreenId"),l=(0,t.Nh)(["callsScreenshare","setWindowBorderWidth"]),p=m(async d=>{l.isAvailable()&&l(d)},"setWindowBorderWidth"),g=(0,t.Nh)(["callsScreenshare","setWindowBorderColor"]),c=m(async(d,v,h,f)=>{g.isAvailable()&&g(d,v,h,f)},"setWindowBorderColor"),E=(0,t.Nh)(["callsScreenshare","getWindowPositionAndDimensions"]),A=m(async()=>{if(E.isAvailable())return E()},"getWindowPositionAndDimensions")},9289216704:(W,T,e)=>{"use strict";e.d(T,{Oi:()=>n,XC:()=>s,aH:()=>u,mt:()=>r});var t=e(4094753332);const s=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_ScreenCapture":(0,t.uF)()?"ms-settings:privacy":null,n=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Camera":(0,t.uF)()?"ms-settings:privacy-webcam":null,r=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.security?Privacy_Microphone":(0,t.uF)()?"ms-settings:privacy-microphone":null,u=(0,t.cX)()?"x-apple.systempreferences:com.apple.preference.Sound.prefPane":(0,t.uF)()?"ms-settings:sound":null},1583163054:(W,T,e)=>{"use strict";e.d(T,{Ce:()=>p,Pe:()=>_,fI:()=>g,zS:()=>u});var t=e(9323322135),s=e(4094753332),n=e(735940183);const r=new n.A("prefs"),u=(0,t.g9M)()&&t.MD7.isAvailable()?(0,t.MD7)():"nightly",i={PROD:"prod",BETA:"beta",DOGFOOD:u},o=[i.PROD,i.BETA],a=[i.PROD,i.BETA,i.DOGFOOD];function _(c){return(c?a:o).map(A=>({value:A,label:l(A)}))}m(_,"getReleaseChannelOptions");function l(c){switch(c){case i.PROD:return r.t("Production");case i.BETA:return r.t("Beta");case i.DOGFOOD:return r.t("Dogfood",{fallbackHash:"c9e429b1798d0142b8b31e82c1f9da5d8e0c9420"});default:return r.t("Unknown")}}m(l,"getReleaseChannelDisplayName");function p(){return(0,t.g9M)()&&!(0,t.Z9F)()&&!(0,s.j9)()}m(p,"canSeeReleaseChannel");function g(){return p()&&["MSI","SlackSonic","SlackPilot"].every(c=>!navigator.userAgent.includes(c))}m(g,"canModifyReleaseChannel")},4923013394:(W,T,e)=>{"use strict";e.d(T,{Jd:()=>l,X6:()=>p,bO:()=>i,c6:()=>a,fD:()=>A,lJ:()=>E,ve:()=>o,zb:()=>_});var t=e(3398586081),s=e(9323322135),n=e(3259512346),r=e(4094753332);const u="sunroof_init",i="fullscreen-ui",o=(0,t.A)(()=>!1),a=(0,t.A)(()=>(0,n.s)("25.1.1")),_=(0,t.A)(()=>(0,s.Z9F)()?(0,r.dY)("38.0.0"):!0),l=(0,t.A)(()=>{if(!(0,r.y3)())return!1;const{titleBarStyle:d}=(0,s.oQe)("environment")||{},{debugFeatures:v}=(0,s.oQe)("settings")||{};return d==="custom-extension"||(v==null?void 0:v.includes("window-chrome"))}),p=(0,t.A)(()=>(0,r.WB)()&&(0,r.dY)("4.33.90")),g=m(()=>{if(!p())return!1;const{useHwAcceleration:d,windowVibrancy:v}=(0,s.oQe)("settings")||{};return d&&v},"shouldEnableWindowSunroof"),c=(0,t.A)(()=>!(0,r.dY)("4.35.97")),E=m(()=>g()?(0,r.cX)()?{transparent:c(),vibrancy:i,backgroundColor:null}:{}:{},"maybeGetSunroofWindowOptions");function A(d){const{windowVibrancy:v}=(0,s.oQe)("settings")||{};if(typeof v>"u")return;if(v&&(!d.experimentDesktopIa4SunroofEnabled||!g())){(0,s.cGU)({name:"windowVibrancy",value:!1});try{localStorage.removeItem(u)}catch{}return}const h=!!localStorage.getItem(u);if(d.experimentDesktopIa4SunroofEnabled&&!h&&!v&&p()){(0,s.cGU)({name:"windowVibrancy",value:!0});try{localStorage.setItem(u,"1")}catch{}}}m(A,"maybeToggleSunroof")},4979734995:(W,T,e)=>{"use strict";e.d(T,{d:()=>i,j:()=>u});var t=e(1545824888),s=e(2878685908),n=e(337319621),r=e(4096483543);function u(o,a,_){const l="noversion",p=Date.now()/1e3,g=`/api/${o}?_x_id=${l}-${p}`,c=new XMLHttpRequest;c.onreadystatechange=()=>{if(c.readyState===4){c.onreadystatechange=null;let v;if(c.status===200||c.status===429)try{v=JSON.parse(c.responseText)}catch{(0,n.Wo)().warn("API","Unable to do anything with api response")}v=v||{ok:!1},_?_(v.ok,v,a):(0,s.Cu)()&&((0,n.Wo)().warn("API","No callback provided. Printing response"),(0,n.Wo)().warn("API",v.ok,v,a))}};const E=!0;c.open("POST",g,E);const A=new FormData;let d=!1;a?Object.keys(a).forEach(v=>{v[0]!=="_"&&(A.append(v,a[v]),d=!0)}):(0,s.Cu)()&&(0,n.Wo)().warn("API","No args provided. Bold, very bold."),d?c.send(A):c.send()}m(u,"callSlackApiUnauthed");const i=m((o,a)=>new t.S(_=>{u(o,a,(l,p)=>{_(p)})}),"callSlackApiUnauthedAsync");(0,r.A)()||(window.callSlackAPIUnauthed=(o,a,_)=>{(0,n.Wo)().warn("API","Don't use me directly! Please import callSlackApiUnauthed from api-unauthed.ts"),u(o,a,_)})},4540171876:(W,T,e)=>{"use strict";e.d(T,{Db:()=>_,O3:()=>l,OB:()=>p,TE:()=>c,xB:()=>g});var t=e(2101927269),s=e(1545824888),n=e(6439846314),r=e(8935621861),u=e(462591818),i=e(337319621),o=e(4525554634),a=e(2384831516);const _=(0,a.C6)("Get call info from callId",(E,A,d)=>{let{callIds:v,reason:h}=d;const f=(0,i.Ay)({getState:A});return v.length>3&&f.warn(`fetchCallByIds being called for unexpectedly many calls at once: ${v.length}`),s.S.map(v,y=>E((0,n.apiCall)({method:"screenhero.rooms.info",args:{room:y},reason:h||"huddles-call-info"})).then(I=>{let{room:C}=I;return(0,o.Q)(C)}).catch(I=>(f.error(I,`Error while fetching call: ${y}`),null))).then(t.A)});_.meta={name:"createFetcher",key:"createFetcherfetchCallsByIds",description:"Get call info from callId"};const l=(0,a.C6)("Join a calls / huddle room",(E,A,d)=>{let{channelId:v,roomId:h,threadTs:f,shouldFetchRegion:y,teamId:I,traceId:C,parentSpanId:D,reason:M,isMultiDevice:P=!1}=d;return(y?r.A.getInstance().getNearestChimeMediaRegion(I):s.S.resolve("")).then(S=>E((0,n.apiCall)({method:"rooms.join",args:{...h&&{id:h},...v&&{channel_id:v},...f&&{thread_ts:f},regions:S,multidevice:P},traceId:C,parentSpanId:D,reason:M||"calls-api/joinRoom"})).then(b=>{var O;return{server:(0,u.YY)(b.call),roomId:b.call.call_id,regions:"",inviteResponses:void 0,virtualRoomId:h,channelId:(O=b.huddle)===null||O===void 0?void 0:O.channels[0],...b.canvas&&b.canvas.root_thread_ts&&{rootThreadTs:b.canvas.root_thread_ts},...b.canvas&&b.canvas.canvas_file_id&&{canvasFileId:b.canvas.canvas_file_id}}}))});l.meta={name:"createFetcher",key:"createFetcherjoinRoom",description:"Join a calls / huddle room"};const p=(0,a.C6)("Notify member to join huddle",(E,A,d)=>{let{reason:v,channelId:h,userId:f}=d;return E((0,n.apiCall)({method:"rooms.notifyMember",args:{channel_id:h,user_id:f},reason:v}))});p.meta={name:"createFetcher",key:"createFetchernotifyMember",description:"Notify member to join huddle"};const g=(0,a.C6)("Set a huddle topic / rename the call",(E,A,d)=>{let{roomId:v,name:h}=d;return E((0,n.apiCall)({method:"screenhero.rooms.rename",reason:"huddles-topic",args:{room:v,room_name:h}}))});g.meta={name:"createFetcher",key:"createFetcherrenameCall",description:"Set a huddle topic / rename the call"};const c=(0,a.C6)("Get a link to a huddle",(E,A,d)=>{let{reason:v,channelId:h}=d;return E((0,n.apiCall)({method:"rooms.getLink",reason:v,args:{channel_id:h}}))});c.meta={name:"createFetcher",key:"createFetchergetLink",description:"Get a link to a huddle"}},6580433553:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3297051565),s=e.n(t),n=e(1545824888),r=e(1874577777),u=e(6439846314),i=e(6932877194),o=e(2028988448),a=e(5257368278);let _=!1;const l=(0,a.A)("Sends a message",function(c,E){let{message:A,traceId:d,parentSpanId:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const h={...A},f=E();return A.blocks&&typeof A.blocks=="object"&&(h.blocks=JSON.stringify(A.blocks)),A.unfurl&&typeof A.unfurl=="object"&&(h.unfurl=JSON.stringify(A.unfurl)),_?new n.K((y,I)=>{setTimeout(()=>{I(new Error({data:{error:"testing"},message:"testing"}))},2e3)}):(0,r.A)(f)?c((0,i.apiCallPersisted)({method:"chat.postMessage",args:h,reason:"webapp_message_send_offline",EXPEDITED:!0,traceId:d,parentSpanId:v})):c((0,u.apiCall)({method:"chat.postMessage",args:h,reason:"webapp_message_send",EXPEDITED:!0,traceId:d,parentSpanId:v}))});l.meta={name:"createFetcher",key:"createFetcherchatPostMessage",description:"Sends a message"},l.propTypes={message:s().shape({channel:s().string.isRequired,client_msg_id:s().string}).isRequired,traceId:s().string,parentSpanId:s().string};const p=l,g=m(c=>{_=!!c},"setForceMessageFailure");(0,o.ul)("setForceMessageFailure",g)},9694536345:(W,T,e)=>{"use strict";e.d(T,{O:()=>g});var t=e(8840779375),s=e(3297051565),n=e.n(s),r=e(6439846314),u=e(6642124196),i=e(28129577),o=e(337319621),a=e(5257368278),_=e(212572833),l=e(5795074931),p=e(3683482182);const g=(0,a.A)("Calls client.counts endpoint",function(c,E){let{reason:A="client-counts-api/fetchClientCounts"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const d={thread_counts_by_channel:!0,org_wide_aware:!0,include_file_channels:!0},v=(0,_.t)(E()),h=(0,p.Cc)(E());return h&&(v?d.counts_last_fetched=h:d.dry_run_last_fetched=h),c((0,r.apiCall)({method:"client.counts",args:d,reason:A})).then(f=>{if(!f||!f.ok)return{};try{const k=["U0620EL8G","WFKHTCZ29","WKLQEGRRB"],K=(0,l.WR)(E());if(k.indexOf(K)>-1){const N=(0,t.A)(f.ims,U=>({id:U.id})),R=(0,t.A)(f.mpims,U=>({id:U.id}));(0,o.Ay)({getState:E}).error("guest_to_guest_visibility",{type:"client_counts_api_results",im_list:N,mpim_list:R})}}catch(k){(0,o.Ay)({getState:E}).error("guest_to_guest_visibility",{type:"client_counts_api_results",error:k})}const{activity:y={},channels:I=[],ims:C=[],mpims:D=[],threads:M={},file_channels:P={has_unreads:!1,mention_count:0},channel_badges:S={},alerts:b=null,counts_last_fetched:O=null}=f,L={activity:y,channels:I,ims:C.map(k=>({...k,is_im:!0})),mpims:D.map(k=>({...k,is_mpim:!0})),threads:M,alerts:b,fileChannels:P,channelBadges:S,countsLastFetched:O};return f.saved&&(L.saved=(0,i.XK)(f.saved)),(0,u.isTodosRemindersEnabled)(E())&&f.todos&&(L.todos=(0,i.XK)(f.todos)),L})});g.meta={name:"createFetcher",key:"createFetcherfetchClientCounts",description:"Calls client.counts endpoint"},g.propTypes={reason:n().string}},1194535350:(W,T,e)=>{"use strict";e.d(T,{KO:()=>i,_J:()=>o,zx:()=>a});var t=e(3297051565),s=e.n(t),n=e(6439846314),r=e(5257368278),u=e(4318855015);const i=(0,r.A)("Fetch all available and installed emoji collections from the API",function(_,l){let{reason:p}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return _((0,n.apiCall)({method:"emoji.collections.list",reason:p,args:{installed_only:"0"}}))});i.meta={name:"createFetcher",key:"createFetcherfetchEmojiCollections",description:"Fetch all available and installed emoji collections from the API"},i.propTypes={reason:s().string.isRequired};const o=(0,r.A)("Add an emoji collection",(_,l,p)=>{let{collectionId:g,reason:c}=p;return _((0,n.apiCall)({method:"emoji.addCollection",args:{collection_id:g},reason:c})).catch(E=>{if(E.name!=="already_installed")throw E})});o.meta={name:"createFetcher",key:"createFetcheraddEmojiCollection",description:"Add an emoji collection"},o.propTypes={collectionId:s().string.isRequired,reason:s().string.isRequired};const a=(0,r.A)("Remove an emoji collection",(_,l,p)=>{let{collectionId:g,reason:c}=p;return _((0,u.$x)({collectionId:g})),_((0,n.apiCall)({method:"emoji.removeCollection",reason:c,args:{collection_id:g}}))});a.meta={name:"createFetcher",key:"createFetcherremoveEmojiCollection",description:"Remove an emoji collection"},a.propTypes={collectionId:s().string.isRequired,reason:s().string.isRequired}},490494914:(W,T,e)=>{"use strict";e.d(T,{Cl:()=>o,Is:()=>a,af:()=>i});var t=e(2121833688),s=e(2149300053),n=e(5257368278),r=e(8847766420),u=e(6892115804);const i=(0,n.A)("Queries Flannel for a list of external connected orgs/teams",(_,l,p)=>{let{count:g,filter:c,marker:E}=p;return(0,s.P)((0,r.JY)(l()),{method:s.J8.EXTERNAL_TEAMS_LIST,args:{count:g,filter:c,marker:E}})});i.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsList",description:"Queries Flannel for a list of external connected orgs/teams"};const o=(0,n.A)("Queries Flannel for channel counts of external connected orgs/teams",(_,l,p)=>{let{teamIds:g,count:c,marker:E}=p;return(0,s.P)((0,r.JY)(l()),{method:s.J8.EXTERNAL_TEAMS_COUNTS,args:{team_ids:g,count:c,marker:E}}).then(A=>A)});o.meta={name:"createFetcher",key:"createFetcherfetchExternalTeamsCounts",description:"Queries Flannel for channel counts of external connected orgs/teams"};const a=(0,n.A)("Fetches and upserts external teams that match a query",(_,l,p)=>{const g=(0,r.JY)(l());return(0,t.Cj)(g,p).then(c=>{let{objects:E,next_marker:A}=c;return _((0,u.OU)({teams:E})),{externalTeams:E,nextMarker:A}})});a.meta={name:"createFetcher",key:"createFetcherfetchAndUpsertExternalTeamsWithQuery",description:"Fetches and upserts external teams that match a query"}},165535451:(W,T,e)=>{"use strict";e.d(T,{iV:()=>v,ib:()=>y,oP:()=>g,oQ:()=>f,uV:()=>h});var t=e(6439846314),s=e(28129577),n=e(2927826522),r=e(3246555800),u=e(337319621),i=e(6323355797),o=e(5257368278),a=e(3559164431),_=e(3554387543);const l=m(C=>{let{taxName:D,isVat:M,effectiveTaxPercentage:P=0,salesTaxAmt:S,taxPercentage:b}=C,O=i.Zt.sales_tax;D?O=i.Zt[D.toString().toLowerCase()]||i.Zt.sales_tax:M&&(O=i.Zt.vat);const L=P>0?P:null;return{value:S||0,type:O,percentage:L||b||0}},"formatTaxData"),p=m(C=>{const D=C.tax;return l({taxName:D==null?void 0:D.tax_name,isVat:D==null?void 0:D.is_vat,effectiveTaxPercentage:D==null?void 0:D.effective_tax_percentage,salesTaxAmt:D==null?void 0:D.sales_tax_amt,taxPercentage:D==null?void 0:D.tax_percentage})},"getTaxData"),g=m(C=>l(C),"getAddonTaxData"),c=m(C=>{var D;const M=C.term==="12m"?i.ck.yearly:i.ck.monthly,P=C.term==="12m"?i.OY.yearly:i.OY.monthly,S=(D=C.available_addons)===null||D===void 0?void 0:D.map(b=>({id:b.addon_id,addonType:b.addon_type,upfrontUnitCostPerM:b.upfront_unit_cost_per_m,upfrontUnitCostPerTerm:b.upfront_unit_cost_per_term}));return{id:C.product_id,term:M,currency:C.currency,level:C.level,lengthOfTermInMonths:P,costPerMonth:C.cost_per_m,costPerTerm:C.cost_per_term,isInvoice:C.is_inv||!1,maxInvoiceSeats:C.max_invoice_seats,minInvoiceSeats:C.min_invoice_seats,availableAddons:S}},"getPlanDataInstance"),E=m(C=>Object.keys(C).reduce((D,M)=>{const P=C[M];return D.availablePlans[M]={[i.i6.standard.id]:{[i.uq.CREDIT_CARD]:{[i.ck.monthly]:{default:c(P.std_m)},[i.ck.yearly]:{default:c(P.std_y)}},[i.uq.INVOICE]:{[i.ck.yearly]:{default:c(P.inv_std_y)}}},[i.i6.plus.id]:{[i.uq.CREDIT_CARD]:{[i.ck.monthly]:{default:c(P.plus_m)},[i.ck.yearly]:{default:c(P.plus_y)}},[i.uq.INVOICE]:{[i.ck.yearly]:{default:c(P.inv_plus_y)}}},[i.i6.compliance.id]:{[i.uq.CREDIT_CARD]:{[i.ck.yearly]:{default:c(P.compliance_y)}},[i.uq.INVOICE]:{[i.ck.yearly]:{default:c(P.inv_compliance_y)}}}},D},{availablePlans:{}}),"parsePlanAPIResponse"),A=m(C=>{var D,M,P,S,b,O;const L=p(C),k={currentCredits:C.credits.total_credits,creditsRemaining:C.credits.credits_remaining,creditsApplied:C.credits.credits_applied,proratedRefundCredits:C.prorated_refund,totalCreditsRemaining:C.credits.total_credits_remaining||0,totalCreditsApplied:C.credits.total_credits_applied||0},K=C.discount?(0,n.A)(C.discount):void 0,N={purchase:!((D=C.addons)===null||D===void 0)&&D.purchase&&Object.keys((M=C.addons)===null||M===void 0?void 0:M.purchase).length>0?Object.entries((P=C.addons)===null||P===void 0?void 0:P.purchase).reduce((U,x)=>{let[B,F]=x;return[...U,{id:B,addonType:F.addon_type,baseUpfrontUnitCost:F.base_upfront_unit_cost,term:F.term,baseProratedSubtotal:F.base_prorated_subtotal,numUsers:F.num_users}]},[]):[],refund:!((S=C.addons)===null||S===void 0)&&S.refund&&Object.keys((b=C.addons)===null||b===void 0?void 0:b.refund).length>0?Object.entries((O=C.addons)===null||O===void 0?void 0:O.refund).reduce((U,x)=>{let[B,F]=x;return[...U,{id:B,addonType:F.addon_type,term:F.term,amount:F.amount,numUsers:F.num_users}]},[]):[]};return{activePlanCost:{id:C.product_id,subtotal:C.subtotal,undiscountedSubtotal:C.undiscounted_subtotal,billableActiveUsers:C.billable_active_users,discount:K,tax:L,credits:k,totalRecurring:C.total_recurring,totalDueToday:C.total_due_today,quotedTermEnd:C.quoted_term_end,quotedTermStart:C.quoted_term_start,paidSeats:C.paid_seats,outstandingInvoiceAmount:C.outstanding_invoice_amount||0,addons:N}}},"mapCostToPropsFromAPI"),d=m(C=>{const D=E(C.plans).availablePlans;if(C.additional_addon_info){const M={isSlackAiLanguageUnsupported:C.additional_addon_info.is_slack_ai_language_unsupported};return{availablePlans:D,additionalAddonInfo:M}}return{availablePlans:D}},"parseRetailPlansAPIResponse"),v=(0,o.A)("Fetch Available Plans",(C,D,M)=>C((0,t.apiCall)({reason:"payments-plans-fetch-available-plans",method:"retail.plans",args:M})).then(P=>d(P)));v.meta={name:"createFetcher",key:"createFetcherfetchAvailablePlans",description:"Fetch Available Plans"};const h=(0,o.A)("Fetch Available Plans",(C,D,M)=>{let{productId:P,country:S,region:b,postalCode:O,street:L,isBusinessPurchase:k,isInvoice:K,numInvoiceSeats:N,isFinalReview:R,isFutureProductSwitch:U,vatId:x,regionalId:B,countryMap:F}=M;const V=D(),Y=(0,r.KV)(F,S,b),w=(0,a.lK)(V),G=(0,a.IK)(V),Ee=(0,_.L)(V);let ne;if(G!=null&&G.length){const ce=[];G.forEach(pe=>{const ye=Ee.find(Ie=>Ie.addonType===pe);ye!=null&&ye.id&&ce.push(ye.id)});try{ne=ce.length?JSON.stringify(ce):void 0}catch(pe){(0,u.Wo)().error(`Error with JSON.stringify in fetchCost, ${pe}`)}}const se={state:b,product_id:P,addon_ids:ne,is_final_review:R,checkout_step:w,is_future_switch:U,...R?{}:{country:S,street1:L,zip:O,is_business:Y?!1:k,is_vat_registered:Y?k:!1,vat_id:x||"",regional_tax_id:B},...K?{requested_invoice_seats:N}:{}};return C((0,t.apiCall)({reason:"payments-plans-fetch-cost-data",method:"retail.cost",args:se})).then(ce=>{const pe=ce.plan_cost;if(!pe)throw new Error("retail.cost: plan_cost is undefined");return A(pe)})});h.meta={name:"createFetcher",key:"createFetcherfetchCost",description:"Fetch Available Plans"};const f=(0,o.A)("Fetch Cost Data for Addons Flow",(C,D,M)=>{let P;try{P=JSON.stringify([M.addonId])}catch(S){(0,u.Wo)().error(`Error with JSON.stringify in fetchCost, ${S}`)}return C((0,t.apiCall)({reason:"payments-plans-fetch-cost-for-addons",method:"retail.cost",args:{addon_ids:P}})).then(S=>m(O=>{var L;const k=O==null?void 0:O.addon_costs;if(!k)return null;const K=((L=k.addons)===null||L===void 0?void 0:L[M.addonId])||null;return K?{currency:k.currency,freeUsageLimit:K.free_usage_limit,upfrontUnitCost:K.base_upfront_unit_cost,usageUnitCost:K.base_usage_unit_cost,addonType:K.addon_type,term:K.term,recurringUpfrontSubtotal:K.recurring_upfront_subtotal,dueToday:(0,s.XK)(k.due_today),recurringCosts:(0,s.XK)(k.recurring_costs),discount:K.discount}:null},"formatApiResponse")(S))});f.meta={name:"createFetcher",key:"createFetcherfetchCostForAddons",description:"Fetch Cost Data for Addons Flow"};const y=(0,o.A)("Fetch Plans Page Boot Data",C=>C((0,t.apiCall)({reason:"payments-plans-fetch-plans-page-boot-data",method:"retail.getAvailablePlans",args:{}})));y.meta={name:"createFetcher",key:"createFetcherfetchPlansPageBootData",description:"Fetch Plans Page Boot Data"};const I={mapCostToPropsFromAPI:A,getTaxData:p,getAddonTaxData:g}},9109082163:(W,T,e)=>{"use strict";e.d(T,{Rs:()=>l,eS:()=>_,xs:()=>a});var t=e(8703681551),s=e(8571983633),n=e(3297051565),r=e.n(n),u=e(6439846314),i=e(5257368278);const o={"pins.list":{}},a=(0,i.A)("Get pinned items for channel",function(g,c){let{channelId:E,reason:A}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const d=o["pins.list"];return d[E]||(d[E]=g((0,u.apiCall)({method:"pins.list",args:{channel:E},reason:A})),d[E].finally(()=>delete d[E])),d[E]});a.meta={name:"createFetcher",key:"createFetcherpinsList",description:"Get pinned items for channel"},a.propTypes={channelId:r().string.isRequired,reason:r().string.isRequired};const _=(0,i.A)("Pin Message to channel",(g,c,E)=>{let{ts:A,fileId:d,fileCommentId:v,channelId:h,reason:f}=E;return g((0,u.apiCall)({method:"pins.add",reason:f,args:(0,t.A)({channel:h,timestamp:A,file:d,file_comment:v},s.A)}))});_.meta={name:"createFetcher",key:"createFetcherpinsAdd",description:"Pin Message to channel"},_.propTypes={channelId:r().string.isRequired,ts:r().string,fileId:r().string,fileCommentId:r().string,reason:r().string.isRequired};const l=(0,i.A)("Unpin Message from channel",(g,c,E)=>{let{ts:A,fileId:d,fileCommentId:v,channelId:h,reason:f}=E;return g((0,u.apiCall)({method:"pins.remove",reason:f,args:(0,t.A)({channel:h,timestamp:A,file:d,file_comment:v},s.A)}))});l.meta={name:"createFetcher",key:"createFetcherpinsRemove",description:"Unpin Message from channel"},l.propTypes={channelId:r().string.isRequired,ts:r().string,fileId:r().string,fileCommentId:r().string,reason:r().string.isRequired};const p={resetActiveCalls:()=>{Object.keys(o).forEach(g=>{o[g]={}})}}},3924280006:(W,T,e)=>{"use strict";e.d(T,{lp:()=>Gt,SI:()=>Rs,DC:()=>$s,Yb:()=>Ys,aw:()=>Ds,g2:()=>Tn,U7:()=>We,eR:()=>pt,sr:()=>_e,Do:()=>En,EM:()=>Lt,AC:()=>ze,FF:()=>os,A$:()=>Wn,mi:()=>Q,mK:()=>On,bE:()=>Ze,AQ:()=>ut,Cs:()=>Bs,J6:()=>ue,LR:()=>ke,cD:()=>Bn,jl:()=>Qn,QH:()=>Le,DF:()=>Dn,UC:()=>Xe,fx:()=>nt,lS:()=>_n,A1:()=>st,H9:()=>tn,ZD:()=>Ns,$P:()=>Es,G2:()=>ys,S:()=>Qs});var t=e(8571983633),s=e(7715417323),n=e(7174777686),r=e(2141441167),u=e(897091071),i=e(1703559452),o=e(9113979368),a=e(9746734072),_=e(5503876160),l=e(4103274853),p=e(1566461842),g=e(2156087151),c=e(1545824888),E=e(2664504268),A=e(6916052175),d=e(5513050121),v=e(7599421656),h=e(6644049054),f=e(8956161330),y=e(4078437571),I=e(1190344069),C=e(1340402138),D=e(4446301238),M=e(6554371307),P=e(8017028002),S=e(490494914),b=e(5984521287),O=e(8419094353),L=e(9552526132),k=e(8352634987),K=e(2028988448),N=e(5613323535),R=e(735940183),U=e(4094753332),x=e(3848977043),B=e(3677514771),F=e(3683888369),V=e(6839188756),Y=e(1507833885);const w=new R.A("modals");function G(ot){return[{id:"downloads",name:w.t("Downloads"),icon:"download",isEnabled:()=>(0,U.y3)()},{id:"invite_to_workspace",name:w.t("Invite people to {workspaceName}",{workspaceName:(0,V.F1)((0,B.H7)(ot))}),icon:"add-user",isEnabled:()=>(0,x.Lz)(ot)},{id:"create_a_channel",name:w.t("Create a Channel"),icon:"plus",isEnabled:()=>(0,Y.MM)(ot)},{id:"create_a_canvas",name:w.t("Create a canvas",{fallbackHash:"6ac4a1edc6d12317e9fc711b1fd00c073b191bdd",fallbackHashNs:"classic_nav"}),icon:"plus",isEnabled:()=>(0,F.l)(ot)}]}m(G,"getAllModals");function Ee(ot){return G(ot).filter(Wt=>Wt.isEnabled())}m(Ee,"getAllEnabledModals");var ne=e(7940058138),se=e(7520119303),ce=e(8414867410),pe=e(3929724715),ye=e(1407713935),Ie=e(5274604535),Se=e(2298581483),le=e(7969244833),X=e(6007206761),J=e(6495946979),z=e(4001737397),te=e(1197508738),$=e(2647703359),q=e(5455782105),re=e(8170643398),de=e(4562579337),oe=e(5096647761),De=e(3792998666),ae=e(3479134063),Z=e(5765052177),ie=e(6536982570),Ce=e(9889493721),Re=e(6120301420),He=e(9001455011),be=e(340763958),Ue=e(3212336858),me=e(2801540778),ve=e(2546018671),Fe=e(4827886670),Ke=e(9931116838),j=e(3559837422),ee=e(3307632080),je=e(5772992709),Te=e(411655882),Je=e(2229186),Ae=e(1224315998),Me=e(9392104102),we=e(82287009),Ge=e(7578434623),Qe=e(5770715593),fe=e(352142497);const Ve=new R.A("ia4"),Be={[fe.D.BrowseCanvases]:()=>Ve.t("All canvases"),[fe.D.BrowseChannels]:()=>Ve.t("All channels"),[fe.D.BrowsePeople]:()=>Ve.t("All people"),[fe.D.BrowseFiles]:()=>Ve.t("All files"),[fe.D.ExternalWorkspaceAllowedOrgPane]:()=>Ve.t("Organization"),[fe.D.RecentFiles]:()=>Ve.t("Recently Viewed Files"),[fe.D.FilesSharedWithYou]:()=>Ve.t("Files shared with you"),[fe.D.FilesCreatedByYou]:()=>Ve.t("Files created by you"),[fe.D.RecentCanvases]:()=>Ve.t("Recently Viewed Canvases"),[fe.D.CanvasesSharedWithYou]:()=>Ve.t("Canvases shared with you"),[fe.D.CanvasesCreatedByYou]:()=>Ve.t("Canvases created by you"),[fe.D.DeletedCanvases]:void 0,[fe.D.DmsList]:void 0,[fe.D.LaterList]:void 0,[fe.D.Channel]:void 0,[fe.D.AppSpace]:void 0,[fe.D.BrowseApps]:void 0,[fe.D.ExternalOrganizations]:()=>Ve.t("External organizations"),[fe.D.ExternalOrganization]:()=>Ve.t("External organization"),[fe.D.ExternalPeople]:()=>Ve.t("External people"),[fe.D.SlackConnectChannels]:()=>Ve.t("Slack Connect channels"),[fe.D.SlackConnectInvitations]:()=>Ve.t("Slack Connect invitations"),[fe.D.BrowseExternalWorkspace]:void 0,[fe.D.PostEvent]:void 0,[fe.D.BrowseShortcuts]:void 0,[fe.D.BrowseWorkflowsManagedByYou]:void 0,[fe.D.BrowseYourWorkflowTemplates]:void 0,[fe.D.BrowseWorkflowTemplates]:void 0,[fe.D.BrowseUserGroups]:void 0,[fe.D.OrgDirectory]:void 0,[fe.D.RecentPlatform]:()=>Ve.t("Recently used workflows"),[fe.D.SlackConnect]:void 0,[fe.D.Page]:void 0,[fe.D.Threads]:void 0,[fe.D.Thread]:void 0,[fe.D.Profile]:void 0,[fe.D.FileDetails]:void 0,[fe.D.Help]:void 0,[fe.D.UserGroup]:void 0,[fe.D.KeyboardShortcuts]:void 0,[fe.D.WhatsNew]:void 0,[fe.D.Feedback]:void 0,[fe.D.List]:void 0,[fe.D.ListRecord]:void 0,[fe.D.ListRecordDetails]:void 0,[fe.D.ListRecordThread]:void 0,[fe.D.ListRecordHistory]:void 0,[fe.D.ListHistory]:void 0,[fe.D.ComposeList]:void 0,[fe.D.Compose]:void 0,[fe.D.QuipCommentThread]:void 0,[fe.D.QuipCommentStream]:void 0,[fe.D.QuipActivityHistory]:void 0,[fe.D.QuipAutomationsOverview]:void 0,[fe.D.Quip]:void 0,[fe.D.Canvas]:void 0,[fe.D.ChannelCanvas]:void 0,[fe.D.CanvasBrowser]:void 0,[fe.D.HuddlePageCanvas]:void 0,[fe.D.PaidBenefits]:void 0,[fe.D.Setup]:void 0,[fe.D.SearchEmpty]:void 0,[fe.D.ActivityEmpty]:void 0,[fe.D.AboutWorkspace]:void 0,[fe.D.Unknown]:void 0,[fe.D.MorePeopleSidebar]:void 0,[fe.D.MoreCanvasesSidebar]:void 0,[fe.D.MoreSolutionsSidebar]:void 0,[fe.D.AppPopout]:void 0,[fe.D.MorePlatformSidebar]:void 0,[fe.D.Search]:void 0,[fe.D.ChannelList]:void 0,[fe.D.BrowseLists]:void 0,[fe.D.DeletedLists]:void 0,[fe.D.Tasks]:void 0,[fe.D.AssignedTasks]:void 0,[fe.D.Reminders]:void 0,[fe.D.Saved]:void 0,[fe.D.BrowseList]:void 0,[fe.D.ActivityList]:void 0,[fe.D.MoreFilesSidebar]:void 0,[fe.D.MoreListsSidebar]:void 0,[fe.D.UnifiedFilesSidebar]:void 0,[fe.D.MoreChannelsSidebar]:void 0,[fe.D.MoreHuddlesSidebar]:void 0,[fe.D.MoreExternalConnectionsSidebar]:void 0,[fe.D.HelpBrowser]:void 0,[fe.D.Huddle]:void 0,[fe.D.BrowseHuddles]:void 0,[fe.D.KeyboardShortcutsBrowser]:void 0,[fe.D.WhatsNewBrowser]:void 0,[fe.D.FeedbackBrowser]:void 0,[fe.D.ExternalWorkspaceSidebar]:void 0,[fe.D.ExternalWorkspacePeopleBrowser]:void 0,[fe.D.ExternalWorkspaceChannelBrowser]:void 0,[fe.D.AiSummaryDetails]:void 0,[fe.D.DailyDigest]:void 0,[fe.D.SearchSummary]:void 0,[fe.D.AssistantList]:void 0,[fe.D.BrowseUnifiedFiles]:()=>Ve.t("All docs"),[fe.D.BrowseUnifiedFilesCanvases]:()=>Ve.t("Canvases"),[fe.D.BrowseUnifiedFilesLists]:()=>Ve.t("Lists"),[fe.D.BrowseUnifiedFilesOther]:()=>Ve.t("All files"),[fe.D.DeletedUnifiedFiles]:void 0,[fe.D.Today]:void 0,[fe.D.Record]:void 0,[fe.D.TableauDetails]:void 0,[fe.D.WorkObject]:void 0,[fe.D.RecordChannelCreate]:void 0,[fe.D.RecordChannelRelatedList]:void 0,[fe.D.RecordRelatedConversationsChannelsList]:void 0,[fe.D.RecordRelatedConversationsThreadsList]:void 0,[fe.D.SalesAdministration]:void 0,[fe.D.SalesBulkGrid]:void 0,[fe.D.SalesHome]:void 0,[fe.D.SalesListViewBrowser]:void 0,[fe.D.SalesLogActivity]:void 0,[fe.D.SalesCreateRecord]:void 0,[fe.D.SalesNotifications]:void 0,[fe.D.SalesSidebar]:void 0,[fe.D.SalesAutoSlackLaunchpad]:void 0,[fe.D.AssistantThread]:void 0,[fe.D.AssistantHome]:void 0,[fe.D.Solutions]:void 0,[fe.D.Admin]:void 0,[fe.D.ActivityChannelUnreadsList]:void 0,[fe.D.TodayV2]:()=>Ve.t("Today"),[fe.D.Agents]:void 0,[fe.D.AgentConversation]:void 0,[fe.D.AgentHomeConversation]:void 0,[fe.D.MoreAgentsSidebar]:void 0,[fe.D.SolutionsFiltered]:void 0,[fe.D.BrowseYourSolutions]:void 0,[fe.D.BrowseYourCompanySolutions]:void 0,[fe.D.ChannelFiles]:void 0,[fe.D.SlackKitPlayground]:void 0,[fe.D.AiApp]:void 0,[fe.D.MultiTurnSearch]:void 0,[fe.D.MultiTurnSearchSidebar]:void 0,[fe.D.AboutAiApp]:void 0,[fe.D.BookmarksFolder]:void 0,[fe.D.ActionItems]:void 0,[fe.D.Inbox]:void 0,[fe.D.ActivityInbox]:void 0,[fe.D.HuddleTranscriptDetails]:void 0,[fe.D.WorkflowDetails]:()=>Ve.t("Workflow details"),[fe.D.WorkflowEditor]:()=>Ve.t("Workflow Editor"),[fe.D.WorkflowBeingCreated]:void 0,[fe.D.BBMMain]:ot=>(0,V.IE)(ot),[fe.D.BBMWorkspaceSwitcher]:void 0,[fe.D.SearchInChannel]:void 0,[fe.D.BBMMore]:void 0,[fe.D.AboutUserGroup]:void 0,[fe.D.MeetingDetails]:void 0,[fe.D.AiMessageAnalysis]:void 0,[fe.D.BrowseUnifiedFilesGoogleDrive]:void 0,[fe.D.BrowseUnifiedFilesOnedrive]:void 0,[fe.D.BrowseUnifiedFilesExternalResults]:void 0,[fe.D.ConversationCreate]:void 0},et=m((ot,Wt)=>{if(Wt in Be){var yt;return(yt=Be[Wt])===null||yt===void 0?void 0:yt.call(Be,ot)}return""},"getDisplayNameForViewType");var at=e(4240442510),gt=e(6910192640),Mt=e(505908973),Bt=e(4096483543),Ct=e(5600190572),Ft=e(4256321479),kt=e(8195161e3),Et=e(1948374838),mt=e(1917953477),Rt=e(181849556),Ht=e(8935440161),ft=e(888345940),Jt=e(6897117289),Zt=e(7646553093),Tt=e(4342685672),Pt=e(6304789565),Kt=e(8847766420),dn=e(7260478587),sn=e(4119164726),H=e(6533394955),Ne=e(2284446909),Pe=e(6451390137),qe=e(2854654447),At=e(5795074931),xt=e(9107158149),jt=e(7688940281),Xt=e(207659888),en=e(2235302340),Qt=e(9101533895),ht=e(6728717861),Nt=e(3829348308),on=e(4761125736),Vt=e(937317117),qt=e(761034736),rn=e(8840779375),vn=e(9268023148),Rn=e(6494470131),Pn=e(5380461521),In=e(5209876365),Nn=e(337319621);const Jn=(0,Pt.Ay)("Fetch triggers with query",async(ot,Wt,yt)=>{let{query:it,currentChannelId:vt,includeAutomatedTriggers:St=!1,strictExposureRules:bt=!0,reason:zt}=yt;const an=Wt(),gn=(0,Kt.ZT)(an),hn=(0,Et.X)(an),wt=St?["shortcut","event","webhook","scheduled","service"]:["shortcut"];if(!hn.containsPrefixOf(it))try{const kn=(await ot((0,Rn.v)({query:it,currentChannelId:vt,strictExposureRules:bt,triggerTypes:wt,reason:zt??"hermes_triggers_store:fetch_and_upsert_triggers"}))).triggers,zn=5;return kn.length<zn&&(hn.addAsPrefix(it),hn.clearRequestInFlight()),gn&&(0,Pn.X)().markObjectsAsFresh(gn,(0,rn.A)(kn,"id")),ot((0,In.z4)({triggers:kn})),kn}catch(cn){return(0,Nn.Wo)().error(cn,"There was an issue fetching triggers with query"),[]}return[]});Jn.meta={name:"createThunk",key:"createThunkfetchAndUpsertTriggersWithQuery",description:"Fetch triggers with query"};const ts=500,Un=(0,vn.A)((ot,Wt)=>{let{query:yt,includeAutomatedTriggers:it,strictExposureRules:vt,reason:St}=Wt;return ot(Jn({query:yt,includeAutomatedTriggers:it,strictExposureRules:vt,reason:St}))},ts,{leading:!0,trailing:!0}),bn=(0,Pt.Ay)("debounced fetch and upsert triggers with query",(ot,Wt,yt)=>{let{query:it,includeAutomatedTriggers:vt,strictExposureRules:St,reason:bt}=yt;return Un(ot,{query:it,includeAutomatedTriggers:vt,strictExposureRules:St,reason:bt})});bn.meta={name:"createThunk",key:"createThunkdebouncedFetchAndUpsertTriggersWithQuery",description:"debounced fetch and upsert triggers with query"};const Ln=null,Gn={DEBOUNCE_MS:ts};var Zn=e(8227942655),ns=e(970158643),is=e(8276911661),Xn=e(5688490863),vs=e(8149648525),as=e(2047021170),qn=e(4135820365),ls=e(6892115804),un=e(1835177371),Fn=e(6508028729);const Gt={entities:{channels:{includePublic:!0,includePrivate:!0,includeFromAnotherTeam:!1,includeMpims:!1,includeIms:!1,includeArchived:!0,onlyIfMember:!1,onlyVisibleMpims:!1,onlyVisibleIms:!1,includeExternallyShared:!0,includeOnlyExternallyShared:!0,allowedInternalTeams:void 0,shouldAllowedInternalTeamsMatchAny:void 0,onlyExternallyShared:!1,onlyFromTeamId:void 0,includeRecordChannels:!0},members:{includeSelf:!1,includeSlackbot:!0,includeSecurityBot:!0,includeBots:!0,includeWorkflows:!1,includeAgents:!0,includeExternal:!0,includeAllExternal:!1,onlyLocalTeam:!1,includeGuests:!0,includeProfileOnlyUsers:!1,onlyExternalFromTeams:void 0,onlyFromExternalTeamId:void 0},userGroups:{includeDeleted:!1,includeFromAnotherTeam:!1},channelSections:{includeTypes:{[Xt.VZ.Standard]:!0,[Xt.VZ.Stars]:!0}}},limit:24,sort:{preferExactMatch:!0,frecency:!0,preferChannelsUserBelongsTo:!0,preferMpimsWithActiveMembers:!0,model:Tt.KV},fuzzyLimit:3,fuzzyJumpLimit:20,matchBeyondWordBoundaries:!1,fuzzyCJK:!0,returnMetadata:!1};function Ut(ot){let{query:Wt,options:yt}=ot;var it,vt,St;const bt=(St=yt==null?void 0:yt.entities)!==null&&St!==void 0?St:{},zt=bt==null?void 0:bt.members;let an=!1;return zt&&zt!==!0&&(an=!!(zt!=null&&zt.matchEmailField)),{source:(yt==null?void 0:yt.searchViewContext)||(yt==null||(it=yt.sort)===null||it===void 0?void 0:it.source),tiered:yt==null?void 0:yt.tiered,is_searcher_sessions:!1,entities:Object.keys(bt).filter(gn=>!!bt[gn]).sort().toString(),query_length:Wt.length,is_member_email_search:(yt==null||(vt=yt.sort)===null||vt===void 0?void 0:vt.source)==="use-team-and-people-search"&&an}}m(Ut,"getTraceTags");function ze(ot,Wt){var yt,it;const{excludeElmChannels:vt,includePublic:St,includePrivate:bt,includeFromAnotherTeam:zt,allowedInternalTeams:an,shouldAllowedInternalTeamsMatchAny:gn}=(it=(yt=Wt.entities)===null||yt===void 0?void 0:yt.channels)!==null&&it!==void 0?it:{};let hn=[];return St&&(hn=[...hn,...(0,Qt.Wr)(ot,{includeFromAnotherTeam:!!zt})]),bt&&(hn=[...hn,...(0,Qt.sE)(ot,{includeFromAnotherTeam:!!zt})]),vt&&(hn=hn.filter(wt=>!(0,ee.A)(ot,wt))),an&&(hn=hn.filter(wt=>{if((0,z.O)(wt))return!!gn;const cn=(0,Se.R)(ot,wt),kn=gn?cn==null?void 0:cn.some(zn=>an.includes(zn)):cn==null?void 0:cn.every(zn=>an.includes(zn));return(cn==null?void 0:cn.length)&&kn})),hn}m(ze,"getLocalChannels");function Q(ot,Wt){var yt;const it=(0,Kt.ZT)(ot),vt=Wt==null||(yt=Wt.entities)===null||yt===void 0?void 0:yt.teams;var St;const bt=Object.values((St=Fn._===null||Fn._===void 0?void 0:(0,Fn._)())!==null&&St!==void 0?St:{}).filter(wt=>wt.id!==it);if(vt!=null&&vt.onlyNavigable){const wt=(0,qn._)(ot);return wt.length?[...bt,...wt]:bt}var zt;const an=(zt=(0,B.iK)(ot))!==null&&zt!==void 0?zt:{},gn=bt.map(wt=>wt.id),hn=Object.values(an).filter(wt=>!gn.includes(wt.id));return[...bt,...hn].filter(st(ot,vt))}m(Q,"getLocalTeams");const ue=(0,Pt.Ay)("Get channels from flannel by query",(ot,Wt,yt)=>{let{query:it,options:vt}=yt;var St,bt,zt,an;const{includeFromAnotherTeam:gn,includeExternallyShared:hn,includeOnlyExternallyShared:wt,onlyExternallyShared:cn,onlyFromTeamId:kn,onlyFromExternalWorkspaceId:zn,allowedInternalTeams:Vn,shouldAllowedInternalTeamsMatchAny:$n,includeRecordChannels:pn}=(an=(St=vt.entities)===null||St===void 0?void 0:St.channels)!==null&&an!==void 0?an:{},Hn=((bt=vt.entities)===null||bt===void 0||(zt=bt.channels)===null||zt===void 0?void 0:zt.remoteLimit)||vt.limit,Sn=Wt(),Cn=[],_s=" AND ",cs={query:it,count:Hn||Gt.limit||24,fuzz:(0,on._Z)(Sn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,on._Z)(Sn,"searcher_flannel_cjk")==="cjk"};return gn&&Cn.push("xws"),!(0,t.A)(hn)&&!hn&&Cn.push("NOT shared"),!(0,t.A)(wt)&&!wt&&Cn.push("NOT external"),!(0,t.A)(cn)&&cn&&Cn.push("shared"),Cn.length&&(cs.filter=Cn.join(_s)),kn&&(cs.external_team=kn),zn&&(cs.external_team=zn),Vn&&(cs.allowed_internal_teams=Vn),$n&&(cs.should_allowed_internal_teams_match_any=$n),pn&&(cs.include_record_channels=!0),vt!=null&&vt.topChannels&&(cs.top_channels=vt.topChannels),vt!=null&&vt.defaultWorkspace&&(cs.default_workspace=vt.defaultWorkspace),ot((0,D.hq)({query:cs})).timeout(2e3).catch(s.A)});ue.meta={name:"createThunk",key:"createThunkgetRemoteChannels",description:"Get channels from flannel by query"};const ge=(0,Pt.Ay)("Get mpims from flannel by query",(ot,Wt,yt)=>{let{query:it,options:vt}=yt;var St,bt,zt,an;const{useDisplayName:gn}=(an=(St=vt.entities)===null||St===void 0?void 0:St.mpims)!==null&&an!==void 0?an:{},hn=((bt=vt.entities)===null||bt===void 0||(zt=bt.mpims)===null||zt===void 0?void 0:zt.remoteLimit)||vt.limit,wt=Wt(),cn={query:it.replace(/,\s/g,","),count:hn||Gt.limit||24,fuzz:(0,on._Z)(wt,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,on._Z)(wt,"searcher_flannel_cjk")==="cjk"};return gn&&(cn.use_display_name=!0),ot((0,D.XU)({query:cn})).timeout(2e3).catch(s.A)});ge.meta={name:"createThunk",key:"createThunkgetRemoteMpims",description:"Get mpims from flannel by query"};const ke=(0,Pt.Ay)("Get emoji from flannel by query",(ot,Wt,yt)=>{let{query:it,options:vt}=yt;var St,bt;const zt=((St=vt.entities)===null||St===void 0||(bt=St.emoji)===null||bt===void 0?void 0:bt.remoteLimit)||vt.limit;return c.S.resolve(ot((0,P.l8)({query:{query:it,count:zt}}))).timeout(2e3).catch(s.A)});ke.meta={name:"createThunk",key:"createThunkgetRemoteEmoji",description:"Get emoji from flannel by query"};const Xe=(0,Pt.Ay)("Get user groups from the search.team endpoint by query",(ot,Wt,yt)=>{let{query:it,options:vt}=yt;var St,bt,zt,an,gn,hn;const wt=((St=vt.entities)===null||St===void 0||(bt=St.userGroups)===null||bt===void 0?void 0:bt.remoteLimit)||vt.limit;return c.S.resolve(ot((0,O.cn)({query:{query:it,count:wt,org_wide:(zt=vt.entities)===null||zt===void 0||(an=zt.userGroups)===null||an===void 0?void 0:an.includeFromAnotherTeam,channel:(gn=vt.entities)===null||gn===void 0||(hn=gn.userGroups)===null||hn===void 0?void 0:hn.channel}}))).timeout(2e3).catch(s.A)});Xe.meta={name:"createThunk",key:"createThunkgetRemoteUserGroups",description:"Get user groups from the search.team endpoint by query"};const nt=(0,Pt.Ay)("Get remote triggers with query",(ot,Wt,yt)=>{let{query:it,includeAutomatedTriggers:vt,reason:St}=yt;return ot(bn({query:it,includeAutomatedTriggers:vt,reason:St}))});nt.meta={name:"createThunk",key:"createThunkgetRemoteWorkflowTriggers",description:"Get remote triggers with query"};const pt=(0,Pt.Ay)("Get bulk user groups from the userGroups.searchBulk endpoint by query",(ot,Wt,yt)=>{let{queries:it,options:vt}=yt;var St,bt,zt,an,gn,hn;const wt=((St=vt.entities)===null||St===void 0||(bt=St.userGroups)===null||bt===void 0?void 0:bt.remoteLimit)||vt.limit;return c.S.resolve(ot((0,O.MZ)({query:{queries:it,count:wt,org_wide:(zt=vt.entities)===null||zt===void 0||(an=zt.userGroups)===null||an===void 0?void 0:an.includeFromAnotherTeam,channel:(gn=vt.entities)===null||gn===void 0||(hn=gn.userGroups)===null||hn===void 0?void 0:hn.channel}}))).timeout(2e3).catch(s.A)});pt.meta={name:"createThunk",key:"createThunkgetBulkRemoteUserGroups",description:"Get bulk user groups from the userGroups.searchBulk endpoint by query"};function _e(ot,Wt){const{includeArchived:yt,includeRequired:it,onlyIfMember:vt,canPost:St,includeExternallyShared:bt,includeOnlyExternallyShared:zt,onlyExternallyShared:an,onlyFromTeamId:gn,onlyFromExternalWorkspaceId:hn}=Wt??{};return wt=>{let cn=!0;if(yt||(cn=cn&&!(0,X.F)(wt)),!(0,t.A)(it)&&!it&&(cn=cn&&!(0,ye.gx)(wt)),an&&(cn=cn&&(0,be.ju)(wt)),(!bt||!zt)&&(cn=cn&&!(0,be.ju)(wt)),vt&&(cn=cn&&(0,J.bl)(wt)),St&&(cn=cn&&(0,Fe.E)(ot,wt.id)),gn){var kn;cn=cn&&(((kn=(0,Ie.A)(ot,wt))===null||kn===void 0?void 0:kn.includes(gn))||!1)}return hn&&(cn=cn&&(0,pe.ne)(ot,wt)===hn),cn}}m(_e,"getChannelFilterFunction");const Le=(0,Pt.Ay)("Get members from flannel by query",(ot,Wt,yt)=>{let{query:it,options:vt}=yt;var St,bt,zt;const{includeDeleted:an,matchEmailField:gn,onlyExternal:hn,includeExternal:wt,includeAllExternal:cn,includeBots:kn,onlyFromExternalTeamId:zn,onlyFromExternalWorkspaceId:Vn}=(zt=vt.entities.members)!==null&&zt!==void 0?zt:{},$n=((St=vt.entities)===null||St===void 0||(bt=St.members)===null||bt===void 0?void 0:bt.remoteLimit)||vt.limit,pn=Wt(),Hn=(0,Kt.jV)(pn),Sn=[],Cn=(0,V.r7)((0,B.H7)(pn))||!!Hn,_s=Cn?["NOT org"]:["NOT team"],cs=Cn?["org"]:["team"],Ls=!an,rt=" AND ",lt={query:it,count:$n||Gt.limit||24,fuzz:(0,on._Z)(pn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"||vt.fuzzyLimit===0?0:1,uax29_tokenizer:(0,on._Z)(pn,"searcher_flannel_cjk")==="cjk"};return Ls&&Sn.push("NOT deactivated"),(hn||zn)&&Sn.push(..._s),(zn||Vn)&&(lt.external_team=zn||Vn),kn||Sn.push("NOT bots"),wt||Sn.push(...cs),wt&&cn&&(lt.include_all_external=!0),gn&&(lt.search_email=!0),Sn.length&&(lt.filter=Sn.join(rt)),(0,on._Z)(pn,"searcher_member_workspace_ranking")==="treatment"&&(lt.enable_workspace_ranking=!0),vt!=null&&vt.topUsers&&(lt.top_users=vt.topUsers),vt!=null&&vt.currentChannel&&(lt.current_channel=vt.currentChannel),vt!=null&&vt.currentThreadUsers&&(lt.current_thread_users=vt.currentThreadUsers),c.S.resolve(ot((0,b.Wr)({query:lt}))).timeout(2e3).catch(s.A)});Le.meta={name:"createThunk",key:"createThunkgetRemoteMembers",description:"Get members from flannel by query"};const We=(0,Pt.Ay)("Get members from flannel by query",(ot,Wt,yt)=>{let{queries:it,options:vt}=yt;var St,bt,zt,an;const{includeDeleted:gn,matchEmailField:hn}=(an=(St=vt.entities)===null||St===void 0?void 0:St.members)!==null&&an!==void 0?an:{},wt=((bt=vt.entities)===null||bt===void 0||(zt=bt.members)===null||zt===void 0?void 0:zt.remoteLimit)||vt.limit||24,cn=Wt(),kn=[],zn=!gn,Vn=" AND ",$n={queries:it,count:wt,fuzz:(0,on._Z)(cn,"fuzzy_no_fuzz")==="fuzzy_no_fuzz"?0:1,uax29_tokenizer:(0,on._Z)(cn,"searcher_flannel_cjk")==="cjk"};return zn&&kn.push("NOT deactivated"),hn&&($n.match_email=!0),kn.length&&($n.filter=kn.join(Vn)),c.S.resolve(ot((0,b.W9)({query:$n}))).timeout(2e3).catch(s.A)});We.meta={name:"createThunk",key:"createThunkgetBulkRemoteMembers",description:"Get members from flannel by query"};function Ze(ot,Wt){const{includeSelf:yt,includeSlackbot:it,includeSecurityBot:vt,includeBots:St,includeWorkflows:bt,includeDeleted:zt,includeExternal:an,includeGuests:gn,includeProfileOnlyUsers:hn,includeAgents:wt,onlyLocalTeam:cn,onlyExternal:kn,onlyExternalFromTeams:zn,onlyFromExternalTeamId:Vn,onlyAgents:$n}=Wt??{};return pn=>{let Hn=!0;if(kn&&(Hn=Hn&&(0,oe.g)(pn)&&!(0,de.A)(pn)),yt||(Hn=Hn&&!(0,re.fy)(pn)),it||(Hn=Hn&&!(0,ae.U)(pn)),vt||(Hn=Hn&&!(0,Z.C)(pn)),wt&&(0,At.TZ)(ot)){const Cn=(0,Ne.rs)(ot);Cn&&Cn.length&&(0,A.uG)(pn)&&(Hn=Hn&&Cn.includes(pn.id))}if(wt||(Hn=Hn&&!(0,A.uG)(pn)),zn)return(0,n.A)(zn,(0,ie.dQ)(pn));if($n){if((0,At.TZ)(ot)){const Cn=(0,Ne.rs)(ot);if(Cn&&Cn.length)return Cn.includes(pn.id)}return(0,A.uG)(pn)}if(Vn)return yt&&(0,re.fy)(pn)?!0:(0,oe.g)(pn)&&(0,ie.dQ)(pn)===Vn;if(St||(Hn=Hn&&!(0,de.A)(pn)&&!(0,ae.U)(pn)&&!(0,Z.C)(pn)),bt||(Hn=Hn&&!(0,re.v3)(pn)),zt||(Hn=Hn&&!(0,re.oy)(pn)),an||(Hn=Hn&&!(0,oe.g)(pn)),gn||(Hn=Hn&&!(0,De.P)(pn)),hn||(Hn=Hn&&!(0,re.hh)(pn)),hn&&(0,re.hh)(pn)&&(Hn=Hn&&!(0,re.oy)(pn)),cn){const Sn=(0,Kt.ZT)(ot);(0,re.hh)(pn)&&hn||(Hn=Hn&&(0,ie.nO)(pn,Sn))}return Hn}}m(Ze,"getMemberFilterFunction");function st(ot,Wt){var yt;const{includeCurrentTeam:it,includeExternal:vt,onlyExternal:St,onlyCurrentOrg:bt,onlyAvailableToCurrentOrg:zt,onlyMemberOnCurrentOrg:an}=Wt??{},gn=(0,Kt.Kc)(ot),hn=(0,At.WR)(ot),wt=(0,is.nv)(ot,hn),cn=(wt==null||(yt=wt.enterprise_user)===null||yt===void 0?void 0:yt.teams)||[];return kn=>!(!it&&kn.id===(0,Kt.ZT)(ot)||St&&!(0,me.z)(ot,kn)||!vt&&!St&&!zt&&(0,me.z)(ot,kn)||bt===!0&&kn.id!==gn&&(0,V.Ss)(kn)!==gn||zt===!0&&kn.id!==gn&&(0,V.Ss)(kn)!==gn&&!(0,me.z)(ot,kn)||an===!0&&!cn.includes(kn.id))}m(st,"getTeamFilterFunction");function ut(ot,Wt){const{onlyVisibleMpims:yt,onlyExternallyShared:it,includeExternallyShared:vt,onlyFromTeamId:St}=Wt??{};return bt=>{let zt=!0;if(yt&&(zt=zt&&(0,pe.w6)(ot,bt)),it&&(zt=zt&&(0,be.ju)(bt)),vt===!1&&(zt=zt&&!(0,be.ju)(bt)),St){var an;zt=zt&&(((an=(0,Ie.A)(ot,bt))===null||an===void 0?void 0:an.includes(St))||!1)}return zt}}m(ut,"getMpimFilterFunction");function Lt(ot,Wt){const{onlyExternallyShared:yt,includeExternallyShared:it,onlyFromTeamId:vt,onlyVisibleIms:St}=Wt??{};return bt=>{let zt=!0;if(St&&(zt=zt&&(0,pe.PE)(ot,bt)),yt&&(zt=zt&&(0,be.ju)(bt)),it||(zt=zt&&!(0,be.ju)(bt)),vt){var an;zt=zt&&(((an=(0,Ie.A)(ot,bt))===null||an===void 0?void 0:an.includes(vt))||!1)}return zt}}m(Lt,"getImFilterFunction");function tn(ot,Wt){const{includeDeleted:yt,includeFromAnotherTeam:it,onlyFromExternalWorkspaceId:vt}=Wt??{};return St=>{let bt=!0;return it||(bt=bt&&!(0,un.dk)(ot,St.id)),yt||(bt=bt&&(0,ve.V1)(St)),vt&&(bt=bt&&(0,ve.$Q)(St)===vt),bt}}m(tn,"getUserGroupFilterFunction");function En(ot,Wt){const{onlyCanvases:yt=!1,onlyLists:it=!1,onlyWriteable:vt=!1,onlyChannelCanvases:St=!1,onlyTemplateCanvases:bt=!1,onlySlackNative:zt=!1,includeChannelCanvases:an=!1,excludeTemplateCanvases:gn=!1,excludeCannedCanvasTemplates:hn=!1}=Wt??{},wt=(0,Re.hq)(ot),cn=(0,Kt.Kc)(ot),kn=(0,B._J)(ot,cn),zn=kn&&!(0,V.qR)(kn);return Vn=>{let $n=!0;const pn=(0,$.wL)(Vn)&&!zn||wt&&an&&(0,$.aD)(Vn),Hn=(0,$.l7)(Vn);return yt&&($n=$n&&pn,(0,$.dE)(Vn)&&gn||(0,$.ny)(Vn)&&hn)?!1:(wt&&(St||zn)&&($n=$n&&!(0,$.wL)(Vn)&&(0,$.aD)(Vn)),bt&&($n=$n&&(0,$.dE)(Vn)),it&&($n=$n&&Hn),vt&&($n=$n&&(0,$.mW)(Vn)),zt&&($n=Hn||pn),$n)}}m(En,"getFileFilterFunction");const Dn=(0,Pt.Ay)("Get teams via API by query",(ot,Wt,yt)=>{let{query:it,options:vt}=yt;var St,bt;const{onlyExternal:zt,includeExternal:an,remoteLimit:gn}=(bt=(St=vt.entities)===null||St===void 0?void 0:St.teams)!==null&&bt!==void 0?bt:{},hn=Wt();if((0,j.DM)(hn))return c.S.resolve();if(zt||an)return c.S.resolve(ot((0,S.Is)(it))).timeout(2e3).catch(s.A);const wt=gn||vt.limit||24;return ot((0,ls.vB)({query:it,count:wt})).timeout(2e3).catch(s.A)});Dn.meta={name:"createThunk",key:"createThunkgetRemoteTeams",description:"Get teams via API by query"};const Bn=(0,Pt.Ay)("Get files via API by query",(ot,Wt,yt)=>{let{query:it,options:vt}=yt;var St,bt,zt;const{onlyCanvases:an,onlyChannelCanvases:gn,onlyTemplateCanvases:hn,onlyLists:wt,excludeTemplateCanvases:cn,bypassCache:kn}=(zt=(St=vt.entities)===null||St===void 0?void 0:St.files)!==null&&zt!==void 0?zt:{};let zn=it;hn?zn=`type:canvas_template ${it}`:an||gn?zn=`${cn?"type:quip -type:canvas_template":"type:quip"} ${it}`:wt&&(zn=`type:list ${it}`);var Vn;return ot((0,M.yF)({query:zn,includeShares:!0,bypassCache:kn,reason:(Vn=vt.searchViewContext)!==null&&Vn!==void 0?Vn:(bt=vt.sort)===null||bt===void 0?void 0:bt.source})).timeout(2e3).catch(s.A)});Bn.meta={name:"createThunk",key:"createThunkgetRemoteFiles",description:"Get files via API by query"};function On(ot){const Wt=(0,ce.A4)(),yt={},it=[];d.cw.forEach(St=>{const bt=(0,at.A)(ot,{tab:St});(0,gt.A)(ot,St)&&bt&&!(bt in yt)&&(it.push({id:St,name:bt,is_view:!0,is_tab_view:!0}),yt[bt]=bt)}),d.g5.forEach(St=>{const bt=et(ot,St);(0,Mt.A)(ot,St)&&bt&&!(bt in yt)&&(it.push({id:St,name:bt,is_view:!0,is_mva_view:!0}),yt[bt]=bt)}),Wt.forEach(St=>{if(!(0,ce.cH)(ot,St)&&!(St.id==="Pslack-connect"&&!(0,h.A)(ot))&&St.id!=="Pactivity"&&!(St.id===ne.c.Apps&&!(0,He.t)(ot))&&!(St.id===ne.c.Shortcuts&&!(0,Ce.Bf)(ot))&&!(St.id===ne.c.BrowseWorkflowTemplates&&!(0,Ce.fh)(ot))&&!(St.id===ne.c.BrowseWorkflowsManagedByYou&&!(0,Ce.EH)(ot))&&!(St.id===ne.c.BrowseYourWorkflowTemplates&&!(0,Ce.M7)(ot))&&((0,ce.l1)(ot,St)||St.id==="Punreads"&&(0,as.ty)(ot,"enable_unread_view"))){const bt=(0,se.yb)(ot,St);bt&&!(bt in yt)&&(it.push({...St,name:bt,is_view:!0,is_page_view:!0}),yt[bt]=bt)}});const vt=(0,Ct.lI)("Vall_threads");return vt&&(0,as.ty)(ot,"enable_threads_view")&&!(0,C.R)(ot)&&it.push(vt),it}m(On,"getLocalViews");function Wn(ot){return Ee(ot)}m(Wn,"getLocalModals");function os(ot){return(0,je.xf)(ot)?[{id:ot,score:0,item:{id:ot,value:ot,isEmail:!0}}]:[]}m(os,"getLocalEmails");function Tn(ot,Wt){const yt=!Wt;let it=Me.Ml;if(Wt){const vt=(0,Qt.OL)(ot,Wt);it=vt&&(0,le.f)(ot,vt)||Me.Ml}return(0,Pe.PL)(ot).flatMap(vt=>{if(vt.teams&&(it.length||yt)&&!vt.isWorkspaceAgnostic){const St=yt?vt.teams:vt.teams.filter(bt=>it.includes(bt));if(St.length>1)return St.map(bt=>{const zt=(0,B._J)(ot,bt),an=(0,V.F1)(zt);return{...vt,name:`${vt.name} ${an}`,applicableTeamId:bt}})}return[vt]})}m(Tn,"getAppActionsWithEntriesPerApplicableTeam");function _n(ot,Wt,yt){const it=(0,Qt.OL)(ot,Wt),vt=it?(0,le.f)(ot,it)||[]:[];return(0,we.A_)(ot,Wt,!!yt,!0).flatMap(St=>{if(St.teams&&vt.length&&St.appName!=="Slack"&&!St.isWorkspaceAgnostic){const bt=St.teams.filter(zt=>vt.includes(zt));if(bt.length>1)return bt.map(zt=>({...St,id:(0,Ue.Bs)(St),isSlashCommand:!0,applicableTeamId:zt}))}return[{...St,id:(0,Ue.Bs)(St),isSlashCommand:!0}]})}m(_n,"getSlashCommandsListWithEntriesPerApplicableTeam");function rs(ot,Wt){let yt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";Ns(Wt);const it={},{members:vt,channels:St,mpims:bt,teams:zt,userGroups:an,appActions:gn,views:hn,broadcastKeywords:wt,emoji:cn,files:kn,topEngagedFiles:zn,lists:Vn,channelSections:$n,emails:pn,modals:Hn,shortcuts:Sn,workflowTriggers:Cn,helpArticles:_s,salesListViews:cs,canvasAiSuggestions:Ls}=Wt.entities;if(St&&(St.includePublic||St.includePrivate)&&(it.channels=ze(ot,Wt)),(St&&St.includeMpims||bt)&&(it.mpims=(0,Qt.FS)(ot)),St&&St.includeIms&&(it.ims=(0,Qt._B)(ot)),vt&&(it.members=vt.onlyFromExternalWorkspaceId?Me.Ml:(0,is.I_)(ot).filter(Dt=>(0,xt.zP)(ot,Dt.id))),zt&&(it.teams=Q(ot,Wt)),an&&(it.userGroups=(0,un.jJ)(ot)),gn&&(it.appActions=(0,v.B)(ot)?(0,Pe.PL)(ot):Tn(ot,gn.channel)),kn&&(it.files=(0,Vt.Gn)(ot)),zn){const Dt=(0,Kt.ZT)(ot);if(Dt){const $t=(0,Ft.E)({teamId:Dt}).getStaleWhileRevalidate([]);it.topEngagedFiles=$t}}if(Vn&&(it.lists=(0,ns.C0)(ot)),hn&&(it.views=On(ot)),Hn&&(it.modals=Wn(ot)),wt){var rt;if(wt.includeAll)it.broadcastKeywords=(0,Te.A)();else if(!(wt==null||(rt=wt.currentChannel)===null||rt===void 0)&&rt.id){var lt;it.broadcastKeywords=(0,Je.A)(ot,wt==null||(lt=wt.currentChannel)===null||lt===void 0?void 0:lt.id)}else it.broadcastKeywords=[]}if(cn&&(it.emoji=(0,Nt.Gt)(ot)),$n&&(it.channelSections=(0,r.A)((0,en.jV)(ot))),(Sn!=null&&Sn.slashCommands||Sn!=null&&Sn.fakeGlobalActions)&&!(Sn!=null&&Sn.isAnnounceOnly)&&(it.slashCommands=(0,we.A_)(ot,Sn.channel,!!Sn.threadTs,!0).map(Dt=>({...Dt,id:(0,Ue.Bs)(Dt),isSlashCommand:!0}))),Sn!=null&&Sn.slackGlobalActions&&(it.slackGlobalActions=(0,we.Yk)(ot,Sn.channel,Sn.threadTs)),Sn!=null&&Sn.quipShortcutCommands&&(it.quipShortcutCommands=(0,sn.Aw)(ot,!!yt)),Sn!=null&&Sn.channelActions&&(it.channelActions=(0,jt.fo)(ot,Sn.channel)),Sn!=null&&Sn.fakeGlobalActions&&(it.fakeGlobalActions=(0,we.JL)(ot,Sn.channel,Sn.threadTs)),Sn!=null&&Sn.callActions&&(it.callActions=(0,we.Uw)(ot,Sn.channel,Sn.threadTs,Sn.isAnnounceOnly)),Cn){let Dt=(0,we.NJ)(ot);Cn.includeAutomated||(Dt=Dt.filter($t=>$t.type===L.M.Shortcut)),Cn.includeSalesHome||(Dt=Dt.filter($t=>!(0,Zn.U)($t))),it.workflowTriggers=Dt}pn&&(it.emails=os(yt));const dt=(0,Qe.dL)(ot);if(_s&&dt&&(it.helpArticles=(0,qt.Fb)(ot,"searcher/fetch_all_articles")),cs){const{objectType:Dt,salesforceOrgId:$t}=cs,mn=(0,Xn.Up)(ot),nn=Dt?(0,Xn.Zs)(ot,$t,Dt):(0,u.A)(Object.values((0,Xn.m3)(ot,$t)));it.salesListViews=nn.map(yn=>mn[yn])}return Ls&&(it.canvasAiSuggestions=(0,dn.rW)(ot,Wt)),Qs(),it}m(rs,"fetchLocal");const hs=(0,Pt.Ay)("Search for local entities within Slack based on options",(ot,Wt,yt)=>{let{query:it,options:vt,autoTraceId:St,parentSpanId:bt}=yt;var zt;const an=Wt(),gn=(zt=N.LI.get({label:N.gC.Searcher,id:St}))===null||zt===void 0?void 0:zt.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:bt}}),hn=[],wt=[],{channels:cn,mpims:kn,files:zn,members:Vn,teams:$n,userGroups:pn,appActions:Hn,emoji:Sn,helpArticles:Cn,workflowTriggers:_s,salesListViews:cs}=vt.entities;if(Vn){const dt=ot(Le({query:it,options:vt}));Vn.runaway?wt.push(dt):hn.push(dt)}if(cn){const dt=ot(ue({query:it,options:vt}));cn.runaway?wt.push(dt):hn.push(dt)}if(kn){const dt=ot(ge({query:it,options:vt}));kn.runaway?wt.push(dt):hn.push(dt)}if(Sn){const dt=ot(ke({query:it,options:vt}));Sn.runaway?wt.push(dt):hn.push(dt)}if(zn&&((0,g.A)(it)||it.length>3)){const dt=(0,kt.G)(Wt());if(!dt.contains(it)&&!dt.isRequestInFlight()){dt.add(it),dt.setRequestInFlight();const Dt=ot(Bn({query:it,options:vt}));zn.runaway?wt.push(Dt):hn.push(Dt)}}if(pn){const dt=ot(Xe({query:it,options:vt}));pn.runaway?wt.push(dt):hn.push(dt)}if($n&&((0,q.k)(an)||$n.onlyExternal||$n.includeExternal)&&!$n.onlyLocal){const dt=ot(Dn({query:it,options:vt}));$n.runaway?wt.push(dt):hn.push(dt)}if(_s){const dt=(0,Et.X)(an);if(!dt.contains(it)&&!dt.isRequestInFlight()){var Ls;dt.add(it),dt.setRequestInFlight();var rt;const Dt=ot(nt({query:it,includeAutomatedTriggers:_s.includeAutomated,reason:(rt=vt.searchViewContext)!==null&&rt!==void 0?rt:(Ls=vt.sort)===null||Ls===void 0?void 0:Ls.source}));Dt&&(_s.runaway?wt.push(Dt):hn.push(Dt))}}if((0,Ke.e)(an)&&Hn){const dt=c.S.resolve(ot((0,qe.G)())).timeout(2e3).catch(s.A);Hn.runaway?wt.push(dt):hn.push(dt)}const lt=(0,Qe.dL)(an);if(Cn&&lt&&(0,qt.Fb)(an,"searcher/fetch_all_articles"),(0,y.u)(it)&&cs){const{objectType:dt,salesforceOrgId:Dt}=cs;hn.push(ot((0,vs.b)({query:it,objectType:dt,salesforceOrgId:Dt})))}return c.S.all(hn).then(dt=>{const Dt=Wt(),$t=rs(Dt,vt,it);if($t.remoteIds=Qn(dt),Vn&&Vn.onlyFromExternalWorkspaceId){var mn,nn;$t.members=(nn=(mn=dt.find(xn=>!!xn.members))===null||mn===void 0?void 0:mn.members)!==null&&nn!==void 0?nn:Me.Ml}const yn=(0,i.A)((0,r.A)($t),"length");return wt.length&&!yn?c.S.all(wt).then(()=>rs(Wt(),vt)):(gn==null||gn.close(),$t)})});hs.meta={name:"createThunk",key:"createThunkfetchRemote",description:"Search for local entities within Slack based on options"};function Qn(ot){const Wt={};return ot.forEach(yt=>{yt&&(yt.appActions&&(Wt.appActions=new Set(yt.appActions.map(it=>it.id))),yt.channels&&(Wt.channels=new Set(yt.channels.map(it=>it.id))),yt.emoji&&(Wt.emoji=new Set(yt.emoji.map(it=>it.name))),yt.files&&(Wt.files=new Set(yt.files.map(it=>it.id))),yt.members&&(Wt.members=new Set(yt.members.map(it=>it.id))),yt.userGroups&&(Wt.userGroups=new Set(yt.userGroups.map(it=>it.id))),yt.teams&&(Wt.teams=new Set(yt.teams.map(it=>it.id))))}),Wt}m(Qn,"getRemoteIds");const Es=(0,Pt.Ay)("Search for entities within Slack by query",(ot,Wt,yt)=>{let{query:it="",options:vt=Gt}=yt;var St;if(!it.length&&!vt.allowEmptyQuery)return c.S.resolve([]);const bt=Wt(),zt=(0,Ge.Cy)({state:bt}),an=(0,E.A)();zt.mark(`modern-searcher-search-mark-${an}`);const gn=(0,mt.O)(it,{shouldTrimEmoji:!1,shouldTrimDocument:!1});var hn;N.LI.start({label:N.gC.Searcher,id:an,options:{teamId:(hn=(0,Kt.ZT)(bt))!==null&&hn!==void 0?hn:null,tags:Ut({query:gn,options:vt})}});const wt=(St=N.LI.get({label:N.gC.Searcher,id:an}))===null||St===void 0?void 0:St.createChildSpan({name:"searcher:search"}),cn=Ds(vt,Gt,it);if((0,o.A)(cn))return c.S.resolve([]);if((0,te.x)(bt)!==ht.M9.ONLINE||!(vt!=null&&vt.allowEmptyQueryRemoteSearch)&&!gn.length&&(0,Bt.A)()&&(0,on._Z)(bt,"searcher_local_empty_string")==="treatment")return c.S.resolve(ys(bt,{query:gn,options:cn,autoTraceId:an,parentSpanId:wt==null?void 0:wt.getId()}));const kn=c.S.delay(0).then(()=>ot(hs({query:gn,options:cn,autoTraceId:an,parentSpanId:wt==null?void 0:wt.getId()}))).then(zn=>{const Vn=Wt();return Hs(Vn,{query:gn,data:zn,options:cn,autoTraceId:an,parentSpanId:wt==null?void 0:wt.getId()})});if(cn.tiered){const zn=ys(bt,{query:gn,options:cn,autoTraceId:an,parentSpanId:wt==null?void 0:wt.getId()}),Vn=kn.finally(()=>{wt==null||wt.close(),N.LI.stop({label:N.gC.Searcher,id:an})}),$n=Object.assign(zn,{promise:Vn});return c.S.resolve($n).finally(()=>{zt.measureAndClear(`modern-searcher-search-mark-${an}`,"modern-searcher-search-tiered")})}return kn.finally(()=>{zt.measureAndClear(`modern-searcher-search-mark-${an}`,"modern-searcher-search"),wt==null||wt.close(),N.LI.stop({label:N.gC.Searcher,id:an})})});Es.meta={name:"createThunk",key:"createThunksearch",description:"Search for entities within Slack by query"};function ys(ot,Wt){let{query:yt="",options:it,autoTraceId:vt,parentSpanId:St}=Wt;var bt;let zt=vt;if(!zt){zt=(0,E.A)();var an;N.LI.start({label:N.gC.Searcher,id:zt,options:{teamId:(an=(0,Kt.ZT)(ot))!==null&&an!==void 0?an:null,tags:Ut({query:yt,options:it})}})}const gn=(bt=N.LI.get({label:N.gC.Searcher,id:zt}))===null||bt===void 0?void 0:bt.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:St}});if(!yt.length&&!it.allowEmptyQuery)return[];const hn=Ds(it,Gt,yt);if((0,o.A)(hn))return[];const wt=(0,mt.O)(yt,{shouldTrimEmoji:!1}),cn=rs(ot,hn),kn=Hs(ot,{query:wt,data:cn,options:hn,autoTraceId:zt,parentSpanId:gn==null?void 0:gn.getId()});return gn==null||gn.close(),kn}m(ys,"searchLocal");const Ms=15,$s=m(ot=>{let{clogger:Wt,data:yt}=ot;const{source:it,query:vt,results:St,selectedItemId:bt,displayedItemIds:zt,openMethod:an}=yt,gn=zt?zt.length:St.length,hn=zt&&bt?zt.indexOf(bt):St.findIndex(Cn=>Cn.item.id===bt);if(hn<0)return;const wt=St.find(Cn=>Cn.item.id===bt);if(!wt)return;const cn=wt.type||"other",kn=(0,mt.O)(vt),zn=wt.source||"local";let Vn;wt.type==="mpim"?Vn=wt.scoreDetailsByMember:wt.type==="member"&&bt?Vn={[bt]:{is_exact_match:wt.isExactMatch,exact_match_details:wt.exactMatchDetails,score_details:wt.scoreDetails}}:wt.type==="emoji"&&bt&&(Vn={[bt]:{is_exact_match:wt.isExactMatch}});let $n=[];St.some(Cn=>Cn.featureVector)&&(zt?$n=zt.map(Cn=>{const _s=St.find(cs=>cs.item.id===Cn);return _s&&_s.featureVector.serialize()||""}):$n=St.map(Cn=>{var _s,cs;return Cn==null||(_s=Cn.featureVector)===null||_s===void 0||(cs=_s.serialize)===null||cs===void 0?void 0:cs.call(_s)}));let Hn;(0,a.A)(vt)?Hn=vt.reduce((Cn,_s)=>Cn+Bs((0,mt.O)(_s)),0):Hn=Bs(kn);const Sn={source:it,query_length:kn.length?kn.length:0,query_terms_length:Hn,results_length:gn,selected_position:hn,selected_type:cn,selected_source:zn,selected_match_details:Vn,feature_vector_list:$n.slice(0,Ms),open_method:an};Wt.track(Ae.EventId.SEARCHER_ACCEPT,Sn)},"clogSearcherAccept"),Ys=m(ot=>{let{clogger:Wt,data:yt}=ot;const{source:it,query:vt,results:St,displayedItemIds:bt}=yt,zt=bt!==void 0?bt.length:St.length,an=(0,mt.O)(vt);let gn;(0,a.A)(vt)?gn=vt.reduce((wt,cn)=>wt+Bs((0,mt.O)(cn)),0):gn=Bs(an);const hn={source:it,query_length:an.length?an.length:0,query_terms_length:gn,results_length:zt};Wt.track(Ae.EventId.SEARCHER_REJECT,hn)},"clogSearcherReject");function Bs(ot){return ot?ot.split(Ht.u).filter(Wt=>Wt.length).length:0}m(Bs,"getQueryTermsLength");function Hs(ot,Wt){let{query:yt,data:it,options:vt,autoTraceId:St,parentSpanId:bt}=Wt;var zt,an,gn,hn,wt;const cn=(zt=N.LI.get({label:N.gC.Searcher,id:St}))===null||zt===void 0?void 0:zt.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:bt}});Ns(vt);const kn=(0,on._Z)(ot,"searcher_avoid_exact_member_match")==="treatment",zn=(0,on._Z)(ot,"nerf_email_fuzzy_match")==="treatment",Vn=(0,on._Z)(ot,"searcher_emoji_cache_regex_work")==="treatment",$n=(0,on._Z)(ot,"ml_fuzzy_match_beyond_word_boundaries")==="treatment",pn={},Hn=m((jn,ps)=>{const Ts=new Map;return[...jn,...ps].forEach(Fs=>{Ts.set(Fs.id,Fs)}),Array.from(Ts.values())},"mergeAndDeduplicate"),Sn={...vt,sort:{...vt.sort,avoidExactMatchForMembers:kn},fuzzyEmailSearchForwardOnly:zn,optimizeEmojiRegexWork:Vn};$n&&(Sn.fuzzyLimit=6,Sn.matchBeyondWordBoundaries=!0);const Cn=new ft.A({query:yt,options:Sn}),_s=(0,Ge.Cy)({state:ot});_s.mark("modern-searcher-matching-mark");const cs=(an=N.LI.get({label:N.gC.Searcher,id:St}))===null||an===void 0?void 0:an.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:cn==null?void 0:cn.getId()}});it.channels&&(pn.channels=Cn.filterChannels(ot,it.channels,_e(ot,vt.entities.channels))),it.members&&(pn.members=Cn.filterMembers(ot,it.members,Ze(ot,vt.entities.members))),it.emails&&it.members&&!(!(pn==null||(gn=pn.members)===null||gn===void 0)&&gn.length)&&(pn.emails=it.emails),it.mpims&&(pn.mpims=Cn.filterMpims(ot,it.mpims,ut(ot,vt.entities.channels))),it.ims&&(pn.ims=Cn.filterIms(ot,it.ims,Lt(ot,vt.entities.channels))),it.userGroups&&(pn.userGroups=Cn.filterUserGroups(ot,it.userGroups,tn(ot,vt.entities.userGroups))),it.teams&&(pn.teams=Cn.filterTeams(ot,it.teams,st(ot,vt.entities.teams))),it.views&&(pn.views=Cn.filterViews(ot,it.views)),it.modals&&(pn.modals=Cn.filterModals(ot,it.modals)),it.appActions&&(pn.appActions=Cn.filterAppActions(ot,it.appActions)),it.slashCommands&&(pn.slashCommands=Cn.filterShortcuts(ot,it.slashCommands,!0)),it.slackGlobalActions&&(pn.slackGlobalActions=Cn.filterShortcuts(ot,it.slackGlobalActions)),it.quipShortcutCommands&&(pn.quipShortcutCommands=Cn.filterShortcuts(ot,it.quipShortcutCommands)),it.canvasAiSuggestions&&(pn.canvasAiSuggestions=Cn.filterShortcuts(ot,it.canvasAiSuggestions)),it.channelActions&&(pn.channelActions=Cn.filterShortcuts(ot,it.channelActions)),it.fakeGlobalActions&&(pn.fakeGlobalActions=Cn.filterShortcuts(ot,it.fakeGlobalActions)),it.callActions&&(pn.callActions=Cn.filterShortcuts(ot,it.callActions)),it.workflowTriggers&&(pn.workflowTriggers=Cn.filterWorkflowTriggers(ot,it.workflowTriggers)),it.appActions&&(!(vt==null||(hn=vt.entities)===null||hn===void 0||(wt=hn.shortcuts)===null||wt===void 0)&&wt.apps)&&(pn.apps=Cn.filterApps(ot,it.appActions,it.fakeGlobalActions,it.slashCommands)),it.broadcastKeywords&&(pn.broadcastKeywords=Cn.filterBroadcastKeywords(ot,it.broadcastKeywords)),it.emoji&&(pn.emoji=Cn.filterEmoji(ot,it.emoji)),it.channelSections&&(pn.channelSections=Cn.filterChannelSections(ot,it.channelSections,jn=>{var ps,Ts;return!!(!((ps=vt.entities.channelSections)===null||ps===void 0||(Ts=ps.includeTypes)===null||Ts===void 0)&&Ts[jn.type])})),it.files&&(pn.files=Cn.filterFiles(ot,it.files,En(ot,vt.entities.files))),it.topEngagedFiles&&(pn.topEngagedFiles=Cn.filterFiles(ot,it.topEngagedFiles,En(ot,vt.entities.topEngagedFiles))),it.lists&&(pn.lists=Cn.filterLists(ot,it.lists));const Ls=(0,Qe.dL)(ot);it.helpArticles&&Ls&&(pn.helpArticles=Cn.filterHelpArticles(ot,it.helpArticles)),it.salesListViews&&((0,f.hx)(ot)||(0,I.ZK)(ot))&&(pn.salesListViews=Cn.filterSalesListViews(ot,it.salesListViews)),_s.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),cs==null||cs.close();const rt=Rs(pn,it.remoteIds||{});let lt;lt=rt.topEngagedFiles,delete rt.topEngagedFiles;const dt=500,Dt=3;var $t;const mn=Math.min((($t=vt==null?void 0:vt.limit)!==null&&$t!==void 0?$t:1)*Dt,dt);let nn=(0,u.A)(Object.values(rt));if(vt.sort&&!vt.sort.bypassSorting){var yn;let jn=!1;nn.length<mn&&(jn=!0);const ps=new Jt.A({query:yt,options:{modelOnly:jn,...vt.sort}}),Ts=(yn=N.LI.get({label:N.gC.Searcher,id:St}))===null||yn===void 0?void 0:yn.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:cn==null?void 0:cn.getId()}});nn=ps.sort(ot,rt),Ts==null||Ts.close(),lt&&(lt=(0,Rt.jW)(ot,{query:yt,list:lt,bonusPoints:ps.getFrecencyBonusPointsFunction(ot)}))}if(lt&&(nn=Hn(nn,lt)),vt.sort&&vt.sort.frecency&&!vt.sort.bypassSorting){var xn;const jn=(xn=N.LI.get({label:N.gC.Searcher,id:St}))===null||xn===void 0?void 0:xn.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:cn==null?void 0:cn.getId()}});nn=new Zt.A({query:yt,options:{...vt.sort},teamId:(0,Kt.ZT)(ot),enterpriseId:(0,q.k)(ot)&&(0,Kt.jV)(ot)?(0,Kt.jV)(ot):void 0}).sort(ot,nn.slice(0,mn)),jn==null||jn.close()}return vt.limit&&(nn=(0,_.A)(nn,vt.limit)),vt.returnMetadata||(nn=nn.map(jn=>jn.item)),Qs(),nn||[]}m(Hs,"processFetchedEntities");function Rs(ot,Wt){return(0,l.A)(ot,(yt,it)=>{const vt=Us(it),St=Wt[it];let bt=!1;return it==="topEngagedFiles"&&(bt=!0),yt.map(zt=>{const an=St&&St.has(zt.item.id)?"remote":"local";return{...zt,type:vt,source:an,isTopEngagedFile:bt}})})}m(Rs,"addResultMetadata");function Us(ot){switch(ot){case"channels":return"channel";case"members":return"member";case"mpims":return"mpim";case"ims":return"ims";case"userGroups":return"userGroup";case"teams":return"team";case"views":return"view";case"modals":return"modal";case"appActions":return"appAction";case"apps":return"app";case"broadcastKeywords":return"broadcastKeyword";case"emoji":return"emoji";case"files":return"file";case"topEngagedFiles":return"file";case"slashCommands":return"slashCommand";case"quipShortcutCommands":return"quipShortcutCommand";case"slackGlobalActions":return"globalAction";case"channelActions":return"channelAction";case"fakeGlobalActions":return"appAction";case"callActions":return"channelAction";case"workflowTriggers":return"workflowTrigger";case"helpArticles":return"helpArticles";case"salesListViews":return"salesListViews";case"canvasAiSuggestions":return"canvasAiSuggestions";default:return"other"}}m(Us,"getTypeFromGroup");function Ds(ot,Wt,yt){const{members:it,channels:vt,userGroups:St,broadcastKeywords:bt,emoji:zt}=ot.entities,{members:an,channels:gn,userGroups:hn}=Wt.entities;let wt={},cn="";yt!=null&&yt.length&&(cn=Array.isArray(yt)?"@":yt.charAt(0)),(cn==="@"||cn==="\uFF20")&&(it||St||bt)?(it&&(wt.members=Ss(it,an)),St&&(wt.userGroups=Ss(St,hn)),bt&&(wt.broadcastKeywords=Ss(bt,{}))):(cn==="#"||cn==="\uFF03")&&vt?wt.channels=Ss(vt,gn):cn===":"&&zt?wt.emoji=Ss(zt,{}):wt=Object.keys(ot.entities).reduce(($t,mn)=>{const nn=ot.entities[mn];return nn&&($t[mn]=Ss(nn,Wt.entities[mn])),$t},{});var kn;const zn=Ss((kn=ot==null?void 0:ot.sort)!==null&&kn!==void 0?kn:{},Wt.sort);var Vn;const $n=(Vn=ot.limit)!==null&&Vn!==void 0?Vn:Wt.limit;var pn;const Hn=(pn=ot.fuzzyLimit)!==null&&pn!==void 0?pn:Wt.fuzzyLimit;var Sn;const Cn=(Sn=ot.fuzzyJumpLimit)!==null&&Sn!==void 0?Sn:Wt.fuzzyJumpLimit;var _s;const cs=(_s=ot.matchBeyondWordBoundaries)!==null&&_s!==void 0?_s:Wt.matchBeyondWordBoundaries,Ls=ot.fuzzyCJK||Wt.fuzzyCJK,rt=ot.tiered,lt=ot.filter,dt=ot.allowEmptyQuery,Dt=ot.returnMetadata||Wt.returnMetadata;return zn&&(zn.model=zn.model||(0,Tt.In)()),{entities:wt,sort:zn,limit:$n,tiered:rt,filter:lt,allowEmptyQuery:dt,fuzzyLimit:Hn,fuzzyJumpLimit:Cn,matchBeyondWordBoundaries:cs,fuzzyCJK:Ls,returnMetadata:Dt,searchViewContext:ot.searchViewContext,topChannels:ot.topChannels,topUsers:ot.topUsers,currentChannel:ot.currentChannel,currentThreadUsers:ot.currentThreadUsers,defaultWorkspace:ot.defaultWorkspace}}m(Ds,"getAllOptions");function Ss(ot,Wt){if(!Wt||ot===!1)return ot;const yt=ot===!0?{}:ot,it=Wt===!0?{}:Wt;return(0,p.A)(yt,it)}m(Ss,"mergeOptions");function Ns(ot){const{members:Wt,channels:yt,teams:it,userGroups:vt,appActions:St,files:bt}=ot.entities;(Wt||yt||it||vt||St||bt)&&k.Ay.pauseRefetchIndefinitely()}m(Ns,"pauseConditionalFetching");function Qs(){k.Ay.unpauseRefetchImmediately()}m(Qs,"unpauseConditionalFetching"),(0,K.ul)("searcher",{search:(ot,Wt)=>(0,H.Qw)(ot,Es({options:Wt})),searchLocal:(ot,Wt)=>{const yt=(0,H.$D)(ot);return ys(yt,{options:Wt})}})},9406470849:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3134334389),s=e(344860614);function n(){return n=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var _ in a)Object.prototype.hasOwnProperty.call(a,_)&&(i[_]=a[_])}return i},n.apply(this,arguments)}m(n,"_extends");const r=m(i=>{const o=i,a=t.forwardRef((_,l)=>{const p=(0,s.Zp)(),g=(0,s.wQ)(),c=(0,s.zy)(),E=(0,s.g)();return t.createElement(o,n({ref:l},_,{navigate:p,navigationType:g,location:c,params:E}))});return a.displayName=`withRouter(${o.displayName})`,a},"withRouter");r.displayName="withRouter";const u=r},1771500940:(W,T,e)=>{"use strict";e.d(T,{b:()=>t});function t(s){return{...s,options:{...s.options,forceRenderInSplitView:!0}}}m(t,"inSplitView")},1149563359:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(3134334389),s=e(9053431150);function n(r,u){const{addFocusTransitionListener:i,removeFocusTransitionListener:o}=(0,s.Gx)();(0,t.useEffect)(()=>(i(r,u),()=>{o(r,u)}),[i,u,o,r])}m(n,"useFocusTransitionListener")},8369079536:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(3134334389);function s(){const n=(0,t.useRef)(!1);return(0,t.useEffect)(()=>(n.current=!0,()=>{n.current=!1})),n}m(s,"useMounted")},5204962244:(W,T,e)=>{"use strict";e.d(T,{d:()=>s});var t=e(3134334389);function s(n){const r=(0,t.useRef)();return r.current===void 0&&(r.current=n()),r.current}m(s,"useRefCreator")},3107743571:(W,T,e)=>{"use strict";e.d(T,{Z:()=>s});var t=e(3134334389);const s=m(function(n){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const i=(0,t.useRef)(),o=(0,t.useCallback)(()=>{const a=i.current;a&&(window.clearTimeout(a),i.current=void 0)},[]);return(0,t.useEffect)(()=>(o(),i.current=window.setTimeout(n,r),o),[n,o,r,...u]),o},"useTimeout")},4003148341:(W,T,e)=>{"use strict";e.d(T,{x:()=>n});var t=e(6122756707),s=e(3855029223);function n(){const{getState:r}=(0,t.Pj)();return(0,s.E)({getState:r})}m(n,"useTracer")},5519459863:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(6122756707),s=e(2047021170),n=e(387484329),r=e(9506008067);function u(i){const o=(0,t.wA)();return[(0,r.d4)(a=>(0,s.ty)(a,i)),a=>o((0,n.AZ)({pref:i,value:a}))]}m(u,"useUserPref")},4803841689:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3134334389),s=e(4094753332),n=e(9323322135);function r(){const u=(0,s.y3)()&&n.pRi.isAvailable(),i=u?(0,n.pRi)():1,[o,a]=(0,t.useState)(i);return(0,t.useEffect)(()=>{if(!u)return;function _(){const l=(0,n.pRi)();l!==o&&a(l)}return m(_,"onWindowResize"),window.addEventListener("resize",_),()=>{window.removeEventListener("resize",_)}},[u,o]),o}m(r,"useZoomFactor")},3320454392:(W,T,e)=>{"use strict";e.d(T,{A:()=>t});function t(s){const n=m(()=>{window.Cypress||s()},"unloadHandler");window.addEventListener("beforeunload",n)}m(t,"addUnloadHandler")},9853754481:(W,T,e)=>{"use strict";e.d(T,{Ep:()=>u,n2:()=>o,Ay:()=>_});var t=e(6313685253),s=e(7299481592);const n=window.AudioContext||window.webkitAudioContext,r=window.AnalyserNode,u=6;function i(l){let p=1;for(;p*2<l;)p*=2;return p}m(i,"getPowerof2LessThan");function o(l){let g=.01;for(const E of l)g=Math.max(g,(E-128)/128);const c=(Math.log(.01)-Math.log(g))/Math.log(.01);return Math.min(Math.max(c,0),1)}m(o,"computeStrength");function a(l){return(0,t.A)(l,(p,g)=>{const c=g.getSettings().sampleRate;return c!==void 0&&p!==void 0?Math.max(p,c):c},void 0)}m(a,"getMaxTrackSampleRate");let _=m(class{getLevel(){var p;return(p=this.analyserNode)===null||p===void 0||p.getByteTimeDomainData(this.data),o(this.data)/u}stop(){var p;if(this.analyserNode){var g;(g=this.audioNode)===null||g===void 0||g.disconnect(this.analyserNode)}delete this.audioNode,this.audioNode=void 0,delete this.analyserNode,this.analyserNode=void 0,(p=this.audioCtx)===null||p===void 0||p.close(),delete this.audioCtx,this.audioCtx=void 0}constructor(p,g){(0,s.M)(g>=0,"Level poll interval must be positive"),this.audioCtx=new n;const c=p.getAudioTracks();(0,s.M)(!!c.length,"Need audio tracks to run analyser");const A=(a(c)||48e3)*g/1e3,d=Math.max(32,Math.min(32768,i(A)));this.data=new Uint8Array(d),this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.fftSize=d,this.audioNode=this.audioCtx.createMediaStreamSource(p),this.audioNode.connect(this.analyserNode)}},"AudioAnalyser")},1829947126:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(6267571562);class s{createPublisher(u){return this.publishers[u]=new t.G,this.publishers[u]}createAllPublisher(){return this.allPublisher=new t.G,this.allPublisher}publish(u,i){const o=this.publishers[u];o&&o.publish(i)}publishAll(u,i){var o;const a={peerId:u,value:i};(o=this.allPublisher)===null||o===void 0||o.publish(a)}subscribe(u,i){(this.publishers[u]||this.createPublisher(u)).subscribe(i)}subscribeAll(u){this.createAllPublisher().subscribe(u)}unsubscribe(u,i){const o=this.publishers[u];o&&o.unsubscribe(i)}constructor(){this.publishers={}}}m(s,"PeerPubSub");const n=new s},7396150282:(W,T,e)=>{"use strict";e.d(T,{x:()=>u});var t=e(9009528296),s=e(1829947126),n=e(9853754481);const r=100;class u{setPreviewStream(o){if(!o){this.previewAudioAnalyser=void 0;return}this.previewAudioAnalyser=new n.Ay(o,r)}cleanup(){var o,a;this.intervalHandle&&(clearInterval(this.intervalHandle),this.intervalHandle=0),(o=this.previewAudioAnalyser)===null||o===void 0||o.stop(),this.previewAudioAnalyser=void 0,(a=this.selfAudioAnalyser)===null||a===void 0||a.stop(),this.selfAudioAnalyser=void 0}constructor(){this.intervalHandle=window.setInterval(()=>{this.selfAudioAnalyser&&s.A.publish("self",this.selfAudioAnalyser.getLevel()),this.previewAudioAnalyser&&t.A.publish(this.previewAudioAnalyser.getLevel())},r)}}m(u,"PreviewAudioLevelMonitor")},9009528296:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(6267571562);const s=new t.G},5046160032:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(7084070851);const s=window.navigator&&typeof window.navigator.sendBeacon=="function";function n(r){let{apiUrl:u,method:i,token:o,args:a={},versionTs:_="",versionUid:l=""}=r,p=!1;const g=(0,t.D)();let c=`${u}${i}?_x_id=${l.substring(0,8)}-${Date.now()/1e3}`;g!==null&&(c+=`&fp=${g}`);const E=new FormData;if(E.append("token",o),Object.keys(a).forEach(A=>E.append(A,a[A])),s)p=navigator.sendBeacon(c,E);else{const A=new XMLHttpRequest;A.addEventListener("load",()=>{const{readyState:d,status:v,DONE:h}=A;d===h&&v===200&&(p=!0)}),A.open("POST",c,!0),A.setRequestHeader("X-Slack-Version-Ts",_),A.send(E)}return p}m(n,"beaconApiCall")},8935621861:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(2801744021),s=e(6273911963);async function n(g){const c=new s.A({url:g?"https://nearest-us-gov-media-region.l.chime.aws/":"https://nearest-media-region.l.chime.aws"});try{const E=await new t.Ay().q(c);return JSON.parse(E).region}catch{return""}}m(n,"fetchNearestChimeMediaRegion");var r=e(1545824888),u=e(3390261877),i=e(3320454392),o=e(7668372645),a=e(7311246228),_=e(337319621);let l=m(class sa{writeRegions(c,E){const A=E?sa.GOV_REGION_STORAGE_KEY:sa.REGION_STORAGE_KEY,d={regions:c,timestamp:Date.now(),version:sa.VERSION};try{localStorage.setItem(A,JSON.stringify(d))}catch(v){(0,_.Wo)({label:"REGION-PROVIDER"}).error("Could not write chime media regions to localStorage: ",v.message)}}readRegions(c){const E=c?sa.GOV_REGION_STORAGE_KEY:sa.REGION_STORAGE_KEY,A=localStorage.getItem(E);if(!A)return null;let d=null;try{d=JSON.parse(A)}catch(v){return(0,_.Wo)({label:"REGION-PROVIDER"}).error("Could not parse chime media regions from localStorage: ",v.message),null}return d.version!==sa.VERSION||this.ttl&&Date.now()-d.timestamp>this.ttl?null:d}constructor(c){this.ttl=c}},"ChimeRegionStorage");l.REGION_STORAGE_KEY="ChimeRegionStorage-chimeRegionCache",l.GOV_REGION_STORAGE_KEY="ChimeRegionStorageGov-chimeRegionCache",l.VERSION=1;let p=m(class Ws{static getInstance(){return Ws.instance||(Ws.instance=new Ws),Ws.instance}async getNearestChimeMediaRegion(c){return(c?(0,a.H)(c):!1)?this.getNearestChimeGovMediaRegion():this.getNearestChimeCommercialMediaRegion()}async getNearestChimeCommercialMediaRegion(){if(!this.commercialRegions){const c=this.storage.readRegions(!1);c&&(this.commercialRegions=c.regions)}return this.commercialRegions?this.commercialRegions:this.remoteGetNearestChimeMediaRegion(!1)}async getNearestChimeGovMediaRegion(){if(!this.govRegions){const c=this.storage.readRegions(!0);c&&(this.govRegions=c.regions)}return this.govRegions?this.govRegions:this.remoteGetNearestChimeMediaRegion(!0)}async remoteGetNearestChimeMediaRegion(c){const E=await r.S.resolve(n(c));return c?this.govRegions=E:this.commercialRegions=E,this.storage.writeRegions(E,c),E}init(){if(this.initialized)return 0;this.initialized=!0;const c=(0,o.z$)();let E=Ws.INITIAL_LOAD_DELAY;const A=this.storage.readRegions(c);A&&(c?this.govRegions=A.regions:this.commercialRegions=A.regions,E=Math.max(Ws.INITIAL_LOAD_DELAY,Ws.REFRESH_INTERVAL-(Date.now()-A.timestamp)));const d=setTimeout(async()=>{await this.remoteGetNearestChimeMediaRegion(c);const v=new u.A(Ws.REFRESH_INTERVAL);v.start(async()=>{await this.remoteGetNearestChimeMediaRegion(c)}),(0,i.A)(()=>{v.stop()})},E);return(0,i.A)(()=>{clearTimeout(d)}),E}getRawRegions(){return this.commercialRegions}clear(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1}constructor(){this.commercialRegions=null,this.govRegions=null,this.initialized=!1,this.storage=new l(Ws.REFRESH_INTERVAL)}},"ChimeRegionProvider");p.REFRESH_INTERVAL=3*24*60*60*1e3,p.INITIAL_LOAD_DELAY=5*1e3},3390261877:(W,T,e)=>{"use strict";e.d(T,{A:()=>t});let t=m(class{start(n){this.stop(),this.timer=setInterval(n,this.intervalMs)}stop(){this.timer!==null&&(clearInterval(this.timer),this.timer=null)}constructor(n){this.intervalMs=n,this.timer=null}},"IntervalScheduler")},6728003438:(W,T,e)=>{"use strict";e.d(T,{F4:()=>S,GC:()=>K,lP:()=>k,no:()=>M});var t=e(9113979368),s=e(6533394955),n=e(2028988448),r=e(8847766420),u=e(8162259364),i=e(3855029223),o=e(2250002584),a=e(337319621),_=e(8872992289),l=e(8802876335),p=e(8851980998);const g="RTM-EVENT-METRICS",c=4;let E=!1,A;const d=50;function v(){return E?!0:(0,u.A)()?(A===void 0&&(A=(0,_.A)(d),A&&(0,a.Wo)({label:g}).info("Metrics collection enabled for the current interval.")),A):!1}m(v,"shouldSampleForInterval");let h={},f={},y={},I={},C={},D={};function M(B){let{teamOrEnterpriseId:F,rtmEventType:V,rtmEventSubtype:Y,duration:w,msgs:G,fromEvtLog:Ee}=B;var ne;if(!v())return;const se=(0,r.Kc)((ne=(0,s.jp)(F))===null||ne===void 0?void 0:ne.getState());if(!se)return;const ce=V==="message"?`message/${Y}`:V;Ee&&P({bucket:C,teamOrEnterpriseId:se,eventType:ce,value:G.length}),P({bucket:f,teamOrEnterpriseId:se,eventType:ce,value:1}),P({bucket:y,teamOrEnterpriseId:se,eventType:ce,value:G.length}),P({bucket:I,teamOrEnterpriseId:se,eventType:ce,value:w})}m(M,"incrementMetrics");function P(B){let{bucket:F,teamOrEnterpriseId:V,eventType:Y,value:w}=B;var G;const Ee=(G=F[V])!==null&&G!==void 0?G:{};var ne;const se=(ne=Ee[Y])!==null&&ne!==void 0?ne:0;Ee[Y]=se+w,F[V]=Ee}m(P,"incrementBucket");function S(B,F){if((0,t.A)(y)&&(0,t.A)(h)){N();return}const V=Object.keys({...y,...h}),Y=setInterval(()=>{const w=(0,a.Wo)({label:g}),G=V.pop();if(!G){w.info("Completed metrics aggregation",{traceId:B.getTraceId()}),clearInterval(Y);return}w.info(`Sending metric report for id: ${G}`),L({teamOrEnterpriseId:G,clientMetricsTrace:B,performanceTracingTags:F}),O({teamOrEnterpriseId:G,clientMetricsTrace:B,performanceTracingTags:F}),R(G)},1e3)}m(S,"reportRtmMetrics");function b(B,F){const V=(0,s.$D)(B);return{...F,metric_version:c,slow_connection_count:(0,l.d4)(V)}}m(b,"getMetricsTraceMetatags");function O(B){let{teamOrEnterpriseId:F,clientMetricsTrace:V,performanceTracingTags:Y}=B;const w=h[F];if(!w)return;const G=(0,i.E)({teamOrEnterpriseId:F}),Ee=G.createMetricsTrace({label:"rtm_incoming",tags:b(F,Y),traceId:V.getTraceId(),parentSpanId:V.getRootSpanId()});var ne;const se=(ne=D[F])!==null&&ne!==void 0?ne:{};let ce=0,pe=0;Object.entries(w).forEach(ye=>{let[Ie,Se=0]=ye;var le;const X=(le=se[Ie])!==null&&le!==void 0?le:0;ce+=Se,pe+=X,Ee.store({name:"rtm_incoming:event_count",value:Se}).addTags({event_type:Ie,eventlog_count:X,socket_count:Se-X})}),Ee.store({name:"rtm_incoming:total_event_count",value:ce}),Ee.store({name:"rtm_incoming:total_event_count:socket",value:ce-pe}),Ee.store({name:"rtm_incoming:total_event_count:eventlog",value:pe}),(0,a.Wo)({label:g}).info(`${F} total incoming event count: ${ce}`),G.reportTrace(Ee)}m(O,"maybeReportRawEventCount");function L(B){let{teamOrEnterpriseId:F,clientMetricsTrace:V,performanceTracingTags:Y}=B;const w=y[F];if(!w)return;const G=(0,i.E)({teamOrEnterpriseId:F}),Ee=G.createMetricsTrace({label:"rtm_dispatch",tags:b(F,Y),traceId:V.getTraceId(),parentSpanId:V.getRootSpanId()});var ne;const se=(ne=f[F])!==null&&ne!==void 0?ne:{};var ce;const pe=(ce=I[F])!==null&&ce!==void 0?ce:{};var ye;const Ie=(ye=C[F])!==null&&ye!==void 0?ye:{};let Se=0,le=0;Object.entries(w).forEach(X=>{let[J,z]=X;const te=se[J],$=pe[J];if(te===void 0||$===void 0)return;var q;const re=(q=Ie[J])!==null&&q!==void 0?q:0;Se+=z,le+=re,Ee.store({name:"rtm_dispatch:duration",value:$}).addTags({event_type:J,total_events:z,total_batches:te,per_event_duration:$/z,eventlog_count:re,socket_count:z-re})}),Ee.store({name:"rtm_dispatch:total_event_count",value:Se}),Ee.store({name:"rtm_dispatch:total_event_count:socket",value:Se-le}),Ee.store({name:"rtm_dispatch:total_event_count:eventlog",value:le}),(0,a.Wo)({label:g}).info(`${F} total dispatch event count: ${Se}`),G.reportTrace(Ee)}m(L,"maybeReportEventMetrics");function k(B){let{teamId:F,msgs:V}=B;if(!v())return;const Y=(0,s.$D)(F);var w;const G=(w=(0,r.Kc)(Y))!==null&&w!==void 0?w:F,Ee=V.reduce((ne,se)=>(!se||!se.type||(ne[se.type]?ne[se.type]+=1:ne[se.type]=1),ne),{});Object.entries(Ee).forEach(ne=>{let[se,ce]=ne;P({bucket:h,teamOrEnterpriseId:G,eventType:se,value:ce}),P({bucket:D,teamOrEnterpriseId:G,eventType:se,value:ce})})}m(k,"countRawEventsVolumeFromEventLog");function K(B){let{teamId:F,msg:V}=B;if(!v()||!V||!V.type)return;const Y=(0,s.$D)(F);var w;const G=(w=(0,r.Kc)(Y))!==null&&w!==void 0?w:F;P({bucket:h,teamOrEnterpriseId:G,eventType:V.type,value:1})}m(K,"countRawEventVolume");function N(){A=void 0,h={},y={},f={},I={},C={},D={},(0,a.Wo)({label:g}).info("Metrics collection sampling has been reset.")}m(N,"resetAllCollections");function R(B){A=void 0,delete h[B],delete y[B],delete f[B],delete I[B],delete C[B],delete D[B],(0,a.Wo)({label:g}).info(`Metrics collection sampling has been reset for id: ${B}`)}m(R,"resetCollections");const U=m(()=>({rawEventCountBuckets:h,eventCountBuckets:y,batchCountBuckets:f,durationBuckets:I,eventLogEventCountBuckets:C,eventLogRawEventCountBuckets:D}),"debugGetBuckets");(0,n.ul)("rtmEventMetrics",{debugGetBuckets:U,debugToggleSampling:()=>{E=!E,N(),(0,a.Wo)({label:g}).info(`Interval sampling: ${E?"ON":"OFF"}`)},debugReportMetrics:()=>{const B=(0,o.F)(),F=B.createMetricsTrace({samplingOptions:{sampleType:p.tS.ALWAYS}});S(F,{}),B.reportTrace(F)}}),Object.defineProperty({resetAllCollections:N,debugGetBuckets:U,reportRtmMetrics:S,intervalSampleCache:A},"intervalSampleCache",{get:()=>A,set:B=>{A=B}})},3945243579:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(5950652755),s=e(337319621);let n=!1;const r=m(_=>{var l;if(!_)return;let p="";const g=_.srcElement||_.target,c=s.Wo&&(0,s.Wo)();if(g&&g.nodeName){if(g.nodeName==="SCRIPT"){const d=g.src;p=`[${_.type||"error"}] from script at ${d} (failed to load?)`}else if(g.nodeName==="IMG"){const d=g.src||g.currentSrc||"unknown";c.warn(`<img> fired error with url = ${d}`);return}}if(_.message==="ResizeObserver loop limit exceeded"||_.message==="ResizeObserver loop completed with undelivered notifications"){c.warn("ResizeObserver observation target modified in handler");return}if(_.message==="can't access dead object"||_.message==="rambox is not defined")return;if(_.error&&_.error.stack&&(p+=` ${_.error.stack}`),_.filename){const d=_.filename,v=_.lineno,h=_.colno;p+=` from ${d}`,v&&(p+=` @ line ${v}, col ${h}`)}let E;if(_.error&&_.error.stack?E=p:E=`${_.message||""} ${p}`,E&&E.replace&&(E=E.replace(/\s+/g," ").trim()),!E||!E.length)if(g){const d=g.nodeName||"unknown";if(d==="VIDEO")return;E=`error event from node of ${d}, no message provided?`}else E="error event fired, no relevant message or node found";E=`\u{1F41E} ${E}`;const A=((l=_.error)===null||l===void 0?void 0:l.subtype)||"js_runtime_error";u({error:_.error||_,msg:E,subtype:A})},"globalErrorHandler");function u(_){const{error:l,msg:p,subtype:g}=_,c={subtype:g};(0,s.Wo)().error(l,p,c)}m(u,"logError");const o=m(_=>{const l=_||window;if(n)return;l.bootGlobalErrorHandler&&(l.removeEventListener("error",l.bootGlobalErrorHandler,!0),l.removeEventListener("unhandledrejection",l.bootGlobalUnhandledRejectionHandler),delete l.bootGlobalErrorHandler,delete l.bootGlobalUnhandledRejectionHandler);const p=!0,g=(0,t.A)(r,1e4);l.addEventListener("error",g,p),l.addEventListener("unhandledrejection",c=>{var E;const A=c==null||(E=c.detail)===null||E===void 0?void 0:E.reason;A&&A instanceof Error&&(A.constructor!==Error||A.subtype)&&r({error:A,filename:"promise_rejection"})}),n=!0},"registerGlobalErrorHandler"),a={globalErrorHandler:r};Object.defineProperty(a,"logError",{get:()=>u,set:_=>{u=_}}),Object.defineProperty(a,"hasRegisteredGlobalErrorHandler",{get:()=>n,set:_=>{n=_}})},3794236791:(W,T,e)=>{"use strict";e.d(T,{AZ:()=>b,OF:()=>I,ZI:()=>L,xv:()=>O});var t=e(3398586081),s=e(5154341017),n=e(6890312250),r=e(2240330919),u=e(5238395322),i=e(337319621),o=e(7578434623),a=e(2250002584),_=e(4096483543),l=e(8872992289),p=e(2028988448),g=e(8851980998),c=e(2791814261);const E=7;let A;const d=[],v=[];let h,f;(0,p.zv)("rtmMetrics",()=>({enqueuedEventCounts:{allTeams:d.concat(h),backgroundTeams:v.concat(f)}}));const y=(0,t.A)(()=>(0,l.A)(1)||(0,c.c)());function I(){let k=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(!(0,_.A)()||!y())return;const K=Math.floor(Date.now()/1e3);if(A!==K){let N=0;if(A){const R=K-A;R>60?(h=void 0,f=void 0,d.length=0,v.length=0):R>1&&(N=K-A)}if(A=K,h!==void 0){d.push(h),v.push(f);for(let U=0;U<N;U++)d.push(0),v.push(0);const R=15*60;if(d.length>=R){const U=(0,o.rh)(),x=(0,s.A)((0,n.A)(d),1),B=(0,r.A)(d)||0,F=(0,u.A)(d);(0,i.Wo)({label:"RTM-ENQUEUE-STATS"}).info(`Enqueue times (all teams): ${F} total, ${B} per second at peak, ${x} per second average`);const Y={is_count:!0,allow_zero:!0};U.store(`rtm_nq_at${E}_avg`,x,Y),U.store(`rtm_nq_at${E}_max`,B,Y),U.store(`rtm_nq_at${E}_total`,F,Y),d.length=0,v.length=0}}h=0,f=0}h=(h||0)+k}m(I,"maybeMeasureEnqueueVelocity");let C=0,D=0,M=Date.now(),P=Date.now();const S=5*60*1e3;function b(k){const K=Date.now();C=Math.max(C,k.length),M+S<K&&((0,o.rh)().count("rtm_queue_length_max",C),C=0,M=K)}m(b,"maybeMeasureMaxQueueLength");function O(k){const N=k[0]._enqueuedAt,R=Date.now(),U=N&&R-N;if(D=U?Math.max(D,U):D,P+S<R){const x=(0,a.F)(),B=x.createMetricsTrace({label:"rtm_queue"});B.store({name:"rtm_queue_delay_max",value:D}),x.reportTrace(B),D=0,P=R}}m(O,"maybeMeasureMaxQueueDelay");function L(k,K){const N=(0,a.F)(),R=N.createMetricsTrace({label:"rtm_state_modified",samplingOptions:{sampleType:g.tS.CALL,sampleRate:.01}}),U=K?`${k}/${K}`:k;R.count({name:`rtm_state_modified:${U}`}),N.reportTrace(R)}m(L,"countRTMStateModified")},2044530601:(W,T,e)=>{"use strict";e.d(T,{dj:()=>pe,d1:()=>ye,uH:()=>ce,bo:()=>Se,sw:()=>Re,mt:()=>Ce,yH:()=>Z});var t=e(1545824888),s=e(3398586081),n=e(7715417323),r=e(337319621),u=e(6304789565),i=e(6533394955),o=e(8847766420),a=e(5795074931),_=e(1509951422),l=e(1658558415),p=e(2028988448),g=e(8352634987),c=e(6728003438),E=e(3078252698),A=e(8571983633),d=e(9101533895),v=e(7042557635),h=e(4446301238),f=e(8040098042),y=e(7334104107),I=e(1407713935),C=e(3929724715);function D(me,ve,Fe){return!me.text||!(y.$2.test(me.text)||y.Oh.test(me.text)||y.K0.test(me.text)||y.y7.test(me.text))||!(0,d.hh)(Fe(),me.channel)?t.K.resolve():ve((0,v.L)({channelId:me.channel})).catch(n.A)}m(D,"maybeEnsureMemberCount");let M=m(async(me,ve)=>{const Fe=ve(),Ke=m(function(){for(var Te=arguments.length,Je=new Array(Te),Ae=0;Ae<Te;Ae++)Je[Ae]=arguments[Ae];return(0,i.Qw)((0,o.ZT)(Fe),...Je)},"dispatch"),j=me.subtype?`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${me.type} and subtype: ${me.subtype}`:`preprocess-rtm-message/ensureModelObsInMessageArePresent for type: ${me.type}`,je=(0,E.A)(me.channel)&&(0,f.A)(me.channel)&&!(0,d.hh)(Fe,me.channel)?Ke((0,h.pX)({ids:[me.channel],reason:j,callSource:h.aI.EnsureModelObsArePresent})):t.K.resolve();await t.K.all([je,D(me,Ke,ve)]).catch(n.A)},"ensureModelObsInMessageArePresent");async function P(me,ve){if(me.subtype)return;const Fe=!1,Ke=(0,d.OL)(ve(),me.channel,Fe);if(!Ke||!(0,I.JM)(Ke))return;const j=(0,A.A)((0,C._V)(ve(),Ke));(0,C.nT)(Ke)&&!j||await(0,i.Qw)((0,o.ZT)(ve()),(0,h.jP)({channel:Ke.id,reason:(0,C.nT)(Ke)&&j?"preprocess-rtm-message/open-channel-no-last-read":"preprocess-rtm-message/ensureModelObsInMessageAreOpen"}))}m(P,"ensureModelObsInMessageAreOpen");async function S(me,ve){if(me.type==="message")try{await M(me,ve),await P(me,ve)}catch{}}m(S,"preprocessRtmMessage"),Object.defineProperty({maybeEnsureMemberCount:D,ensureModelObsInMessageAreOpen:P},"ensureModelObsInMessageArePresent",{get:()=>M,set:me=>{M=me}});var O=e(3794236791),L=e(7578217447),k=e(5071086688),K=e(5470425448),N=e(4761125736),R=e(2681892953),U=e(1369898444);const x="RTM",B=16;let F={},V={},Y={};function w(me){var ve;return(ve=V[me])!==null&&ve!==void 0?ve:F[me]}m(w,"getHandler");function G(me){return me.__isShared}m(G,"isSharedHandler");function Ee(me){return me.teamOrEnterpriseId}m(Ee,"getTeamOrEnterpriseId");function ne(me){let{messages:ve,teamOrEnterpriseId:Fe}=me;if(ve.msgs.length===0)return;const Ke=w(ve.rtmEventType);if(Ke)return{handler:Ke,messages:ve,teamOrEnterpriseId:Fe}}m(ne,"getRoutedHandler");function se(me,ve){if(Y[me]){const Ke=isJasmine()||isJest()?`addRtmErrorHandler: duplicate call to add a handler for ${me}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, 'handlers', {});\` to work around it.`:`addRtmErrorHandler: a handler is already registered for ${me}`;throw new Error(Ke)}Y[me]=ve}m(se,"addRtmErrorHandler");function ce(me,ve){Ie({functionName:"addSharedRtmHandler",handlersName:"sharedHandlers",rtmEventType:me});const Fe=Object.assign(ve,{__isShared:!0});V[me]=Fe}m(ce,"addSharedRtmHandler");function pe(me,ve){Ie({functionName:"addBatchRtmHandler",handlersName:"handlers",rtmEventType:me}),F[me]=ve}m(pe,"addBatchRtmHandler");function ye(me,ve){pe(me,(Fe,Ke,j)=>{for(const ee of Fe)ve(ee,Ke,j)})}m(ye,"addRtmHandler");function Ie(me){let{functionName:ve,handlersName:Fe,rtmEventType:Ke}=me;if(!F[Ke]&&!V[Ke])return;const ee=(0,_.A)()||(0,l.A)()?`${ve}: duplicate call to add a handler for ${Ke}; this is probably caused by using inject-loader/import mocking. If so, \`import { test as rtmTest } from '@slack/infra/rtm/rtm'; mockProperty(rtmTest, '${Fe}', {});\` to work around it.`:`${ve}: a handler is already registered for ${Ke}`;throw new Error(ee)}m(Ie,"throwIfHandlerRegistered");function Se(me){return!!F[me]}m(Se,"doesHandlerExist");function le(){return F}m(le,"debugGetHandlers");const X=(0,s.A)(me=>{var ve;if(!(0,U.M)())return!1;const Fe=(ve=(0,i.oK)(me))===null||ve===void 0?void 0:ve.getState();return Fe&&(0,N._Z)(Fe,"profile_rtm")==="on"});let J=null,z={},te=null;function $(){z={},J=new Profiler({maxBufferSize:1e4,sampleInterval:0}),J.addEventListener("samplebufferfull",m(function(){const ve=this.sampleInterval,Fe=z;this.stop().then(Ke=>{const j=performance.timeOrigin;for(const[ee,je]of Object.entries(Fe)){if(!je.length)continue;const Te=new Date(j+je[0].start),Je=new Date(j+je[je.length-1].end);(0,R.lM)("rtm",ee,(0,U.W)(Ke,je),{from:Te,until:Je,sample_interval:ve})}}),$()},"samplebufferfull"))}m($,"startProfiling");let q=!1;function re(me){try{if(q||!X(me))return;J||$(),te=performance.now()}catch(ve){q=!0,(0,r.Ay)({label:x,teamOrEnterpriseId:me}).warn("Unable to begin profiled section",ve)}}m(re,"beginProfiledSection");function de(me){!J||te===null||(me in z||(z[me]=[]),z[me].push({start:te,end:performance.now()}),te=null)}m(de,"endProfiledSection");function oe(me){const{rtmEventType:ve,rtmEventSubtype:Fe,msgs:Ke,fromEvtLog:j}=me.messages,ee=Ee(me),je=(0,r.Ay)({label:x,teamOrEnterpriseId:ee});re(ee);const Te=performance.now();try{g.Ay.pauseRefetchIndefinitely();const Me=me.handler,we=(0,i.oK)(me.teamOrEnterpriseId),Ge=we==null?void 0:we.getState();G(Me)?Me(Ke,me.teamOrEnterpriseId):Me(Ke,we.dispatch,we.getState);const Qe=we==null?void 0:we.getState();Ge!==Qe&&(0,O.ZI)(ve,Fe)}catch(Me){throw je.error(`Error processing ${ve}: ${Me.message}`),Me}finally{g.Ay.unpauseRefetchImmediately()}const Je=performance.now();de(ee);const Ae=Je-Te;try{(0,c.no)({teamOrEnterpriseId:ee,rtmEventType:ve,rtmEventSubtype:Fe,duration:Ae,msgs:Ke,fromEvtLog:j}),k.A.publish({type:K.lx.RtmMetrics,update:Ae})}catch{}if(Ae>B){let Me=`Processed ${Ke.length} ${ve}`;Fe&&(Me+=`:${Fe}`),Me+=" event(s)";const we=[];Ke.forEach(Ge=>{var Qe;const fe=(Qe=Ge)===null||Qe===void 0?void 0:Qe.channel;fe&&we.push(fe)}),we.length&&(Me+=` in channel(s) ${we.join(",")}`),Me+=` over ${Ae.toFixed(2)}ms`,je.info(Me)}}m(oe,"dispatchMessages");const De=50;async function ae(me){let{msgs:ve,getState:Fe}=me;const Ke={},j=3e4,ee=t.S.delay(j,Ke),je=t.S.map(ve,Je=>S(Je,Fe).catch(n.A),{concurrency:1});await t.S.race([je,ee])===Ke&&(0,r.Ay)({getState:Fe}).warn("Preprocessing messages took too long; continue to process queue")}m(ae,"preprocessRtmMessagesWithTimeout");async function Z(me){let{messages:ve,teamOrEnterpriseId:Fe,elapsed:Ke}=me;const j=ne({messages:ve,teamOrEnterpriseId:Fe});return!j||He(Fe)?Ke:ie({routedHandler:j,elapsed:Ke})}m(Z,"routeMessages");async function ie(me){let{routedHandler:ve,elapsed:Fe}=me;const Ke=performance.now(),j=(0,i.oK)(ve.teamOrEnterpriseId);await ae({msgs:ve.messages.msgs,getState:j.getState});const ee=performance.now();oe(ve);let je=Fe;return ee-Ke>De&&(je=0),je+=performance.now()-ee,je}m(ie,"dispatchMessagesWithPreprocessing");const Ce=(0,u.Ay)("Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)",(me,ve,Fe)=>{const Ke=(0,o.ZT)(ve()),j=ne({messages:{rtmEventType:Fe.type,rtmEventSubtype:Fe.subtype,msgs:[Fe],fromEvtLog:(0,L.Wu)(Fe)},teamOrEnterpriseId:Ke});j&&oe(j)});Ce.meta={name:"createThunk",key:"createThunkhandleMessageImmediatelyWithoutPreprocessing",description:"Calls the relevant rtm handlers with the given rtm message, skipping the queue and without preprocessing (this is intended for degraded mode usage only)"};const Re=(0,u.Ay)("Calls the relevant handler for the given message",(me,ve,Fe)=>{if(!Y[Fe]){if(Fe&&Fe.includes&&Fe.includes("started_with_org_token")){var Ke;(0,r.Ay)({getState:ve}).error(new Error(`Unexpected start error: ${Fe}`),JSON.stringify({error:Fe,pathname:window==null||(Ke=window.location)===null||Ke===void 0?void 0:Ke.pathname}),{subtype:"gs_start_error"})}else(0,r.Ay)({getState:ve}).error(new Error(`Unexpected start error: ${Fe}`),JSON.stringify({error:Fe}),{subtype:"gs_start_error"});return}Y[Fe](Fe,me,ve)});Re.meta={name:"createThunk",key:"createThunkhandleErrorMessage",description:"Calls the relevant handler for the given message"};function He(me){const ve=(0,i.$D)(me);return(0,a.wx)(ve)&&!(0,a.$U)(ve)}m(He,"shouldIgnoreRtmStream");const be=(0,u.Ay)("Fake an RTM event for testing only",(me,ve,Fe)=>{const Ke=(0,o.ZT)(ve()),j=ne({messages:{rtmEventType:Fe[0].type,rtmEventSubtype:Fe[0].subtype,msgs:Fe,fromEvtLog:(0,L.Wu)(Fe[0])},teamOrEnterpriseId:Ke});j&&oe(j)});be.meta={name:"createThunk",key:"createThunkhandleMessagesForTest",description:"Fake an RTM event for testing only"};const Ue={shouldIgnoreRtmStream:He,errorHandlers:Y,handlers:F,sharedHandlers:V};Object.defineProperty(Ue,"errorHandlers",{get:()=>Y,set:me=>{Y=me}}),Object.defineProperty(Ue,"handlers",{get:()=>F,set:me=>{F=me}}),Object.defineProperty(Ue,"sharedHandlers",{get:()=>V,set:me=>{V=me}}),(0,p.ul)("rtm",{handlers:F,errorHandlers:Y,interceptHandler:(me,ve)=>{const Fe=F[me];F[me]=function(){for(var Ke=arguments.length,j=new Array(Ke),ee=0;ee<Ke;ee++)j[ee]=arguments[ee];ve(Fe,...j)}}})},5387083734:(W,T,e)=>{"use strict";e.d(T,{IE:()=>E});var t=e(862210999),s=e(4518410378),n=e(337319621),r=e(4473827453),u=e.n(r),i;(function(A){A.Background="background",A.UserVisible="user-visible",A.UserBlocking="user-blocking"})(i||(i={}));const o=(0,n.Wo)({label:"SCHEDULER"}),a="scheduler"in s.J&&(0,t.A)(s.J.scheduler.postTask),_=50;let l=0,p=null;const g=m((A,d)=>{let{label:v,priority:h,delay:f}=d;if(!a)return A();l+=1;const y=performance.now();return s.J.scheduler.postTask(()=>{const I=performance.now(),C=I-y,D=p?I-p:0;p=I,C-f>_&&o.debug(`${v} task (${h}) executed with delay of ${Math.round(C)}ms and a configured delay of ${f}ms - time since last task: ${D}ms - Task queue length: ${l}`);const P=A();return l-=1,P},{priority:h,delay:f})},"runWithPriority"),c=m(()=>{if(a)return l},"getTaskQueueLength"),E=m((A,d,v)=>g(d,{label:A,priority:i.Background,delay:(v==null?void 0:v.delay)||0}),"runWithBackgroundPriority")},2180140255:(W,T,e)=>{"use strict";e.d(T,{A:()=>h});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2899237032),u=e(3202757386),i=e(735940183),o=e(2230482111),a=e(1610251172),_=e(6084388622),l=e(5249175977),p=e(9874616273),g=e(5057176955),c=e(1318506593);function E(){return E=Object.assign||function(f){for(var y=1;y<arguments.length;y++){var I=arguments[y];for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(f[C]=I[C])}return f},E.apply(this,arguments)}m(E,"_extends");const A=new i.A("find_team");function d(f,y){if((0,u.A)())return(0,c.M6)(location.href,"locale",y);const I=location.href.replace(`${location.protocol}//${location.hostname}`,"").replace(/^\/intl\/[^/]+\//,"/");return f==="en-us"?I:`/intl/${f}${I}`}m(d,"getUrlForLocale");let v=m(class extends t.Component{render(){const{hideRegionPicker:y,showLogo:I,govSlackTheme:C,joinerRedesignTreatment:D}=this.props,M=n()("p-refreshed_page__footer_link p-refreshed_page__footer_link--main",{"p-refreshed_page__footer_link--gov_slack":C}),P=n()("full_width",{"p-refreshed_page__full_width_footer":D}),S=t.createElement("footer",{className:"p-refreshed_page__footer"},t.createElement(_.jV,{href:(0,r.v)("/legal"),className:M,autoClogProps:{elementName:"get_started_footer_link_legal",onClick:{enableClogAction:!0}}},A.rt("Privacy & Terms")),t.createElement(_.jV,{href:(0,r.v)("/help/requests/new"),className:M,autoClogProps:{elementName:"get_started_footer_link_contact",onClick:{enableClogAction:!0}}},A.rt("Contact Us")),!y&&t.createElement(l.Wv,{allowanceX:0,overlayClassName:"p-refreshed_page__footer_overlay",position:"top",renderPopover:this.renderPopover},t.createElement("div",null,t.createElement(_.jV,{onClick:this.onClickChangeRegion,href:"#",className:M,autoClogProps:{elementName:"get_started_footer_link_change_region",onClick:{enableClogAction:!0}}},t.createElement(a.A,{type:"globe",size:"inherit",className:"margin_right_25"}),A.rt("Change region"),t.createElement(a.A,{type:"chevron-medium-down",size:"inherit"})))));return t.createElement("div",{className:P},t.createElement("div",{className:n()("p-refreshed_page__footer_container",{"p-refreshed_page__footer_container--gov_slack":C})},t.createElement(t.Fragment,null,I&&t.createElement(p.A,{width:80,height:20,className:"p-app_slack_logo"}),S)))}constructor(y){super(y),this.onClickChangeRegion=I=>{I.preventDefault()},this.onClickLocale=I=>{let{locale:C,geocode:D}=I;return()=>{const M=(0,g.LL)((0,o.v8)("c")||"")||{};M.geocode=D;const P=(0,g.Zf)(M,{space:""});(0,o.n0)("i18n_locale",C,365*10,"slack.com"),P&&(0,o.n0)("c",P,365*10,"slack.com")}},this.renderPopover=I=>t.createElement(l.AM,E({offsetX:-9,offsetY:-5,modalBodyOpenClassName:"p-refreshed_page__footer_modal--open",ariaLabel:A.t("Change region"),ariaRole:"dialog",shouldAnchorAtInitialPosition:!0,reactRootSelector:"[data-reactroot]"},I),t.createElement("div",{className:"p-refreshed_page__footer_locales"},t.createElement("div",{className:"bold margin_bottom_50"},A.rt("Change region")),t.createElement("div",{className:"margin_bottom_100"},A.rt("Selecting a different region will change the language and content of Slack.com.")),t.createElement("div",{className:"display_flex"},[{title:A.t("Americas"),locales:[{locale:"es-LA",geocode:"es-la",name:"Latinoam\xE9rica (Espa\xF1ol)"},{locale:"pt-BR",geocode:"pt-br",name:"Brasil (Portugu\xEAs)"},{locale:"en-US",geocode:"en-us",name:"United States (English)"}]},{title:A.t("Europe"),locales:[{locale:"de-DE",geocode:"de-de",name:"Deutschland (Deutsch)"},{locale:"es-ES",geocode:"es-es",name:"Espa\xF1a (Espa\xF1ol)"},{locale:"fr-FR",geocode:"fr-fr",name:"France (Fran\xE7ais)"},{locale:"it-IT",geocode:"it-it",name:"Italia (italiano)"},{locale:"en-GB",geocode:"en-gb",name:"United Kingdom (English)"}]},{title:A.t("Asia Pacific"),locales:[{locale:"zh-CN",geocode:"zh-cn",name:"\u7B80\u4F53\u4E2D\u6587"},{locale:"zh-TW",geocode:"zh-tw",name:"\u7E41\u9AD4\u4E2D\u6587"},{locale:"en-IN",geocode:"en-in",name:"India (English)"},{locale:"ja-JP",geocode:"ja-jp",name:"\u65E5\u672C (\u65E5\u672C\u8A9E)"},{locale:"ko-KR",geocode:"ko-kr",name:"\uD55C\uAD6D\uC5B4"}]}].map(C=>{let{title:D,locales:M}=C;return t.createElement("div",{className:"margin_right_50 display_flex flex_direction_column",key:D},t.createElement("div",{className:"bold margin_bottom_50"},D),M.map(P=>{let{locale:S,geocode:b,name:O}=P;return t.createElement(_.jV,{key:S,href:d(b,S),target:"_self",className:"p-refreshed_page__footer_link margin_bottom_50",autoClogProps:{elementName:"get_started_footer_link_change_region_locale",elementValue:S,onClick:{enableClogAction:!0}},onClick:this.onClickLocale({locale:S,geocode:b})},O)}))})))),this.popoverTriggerRef=t.createRef(),this.state={}}},"RefreshedFooter");v.displayName="RefreshedFooter";const h=v},2308565927:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3134334389),s=e(4844578989),n=e.n(s);const r=m(i=>{let{children:o,heading:a,subHeading:_,titleImage:l,headingClassName:p,subHeadingClassName:g,dataQa:c,showFullWidthContent:E,className:A,isSharedWorkspaceInvite:d}=i;return t.createElement("div",{className:n()("p-refreshed_page",{"p-refreshed_page--workspace":d,full_width:E},A),"data-qa":c},l&&l,a&&t.createElement("h1",{className:n()("p-refreshed_page__heading",p,{margin_bottom_200:!_,full_width:E,"p-refreshed_page__heading--workspace":d})},a),_&&t.createElement("div",{className:n()("p-refreshed_page__sub_heading",g,{full_width:E})},_),o)},"RefreshedPageContent");r.displayName="RefreshedPageContent";const u=r},9539184071:(W,T,e)=>{"use strict";e.d(T,{A:()=>U});var t=e(3134334389),s=e(2301861866),n=e.n(s),r=e(4844578989),u=e.n(r),i=e(4518410378),o=e(9506008067),a=e(6764196364),_=e(735940183),l=e(8739505998),p=e(6176558010),g=e(2527471159),c=e.n(g),E=e(7972463975),A=e.n(E),d=e(9994038664),v=e.n(d),h=e(8214116048),f=e(8142308213);const y=new _.A("refreshed_header"),I={elementName:"header_slack_logo",onClick:{enableClogAction:!0}},C={elementName:"header_signin",onClick:{enableClogAction:!0}},D={elementName:"header_create_account",onClick:{enableClogAction:!0}},M={elementName:"header_create_workspace",onClick:{enableClogAction:!0}},P=c()&&A()?`${c()}, ${A()} 2x`:void 0,S=m(x=>{let{showSignInLink:B=!1,showCreateAccountLink:F=!1,showCreateWorkspaceLink:V=!1,showHorchataBackground:Y=!1,confirmedEmailPill:w,hideLogo:G=!1,isSSBBrowserSignin:Ee=!1,showSfLogo:ne=!1,isWarningBannerDisplayed:se=!1,govSlackTheme:ce=!1,isLandingPage:pe=!1,clientTheme:ye,joinerRedesignTreatment:Ie=!1,isDevProgSignin:Se=!1}=x;const le=(0,o.d4)(z=>(0,f.Q5)(z,f.C6.SIGNIN_HEADER)),X=(0,f.eA)(),J=le?`${Ee?"/ssb":""}/get-started${X}${le}#${p.EU.CreateNew}`:`${Ee?"/ssb":""}/get-started${i.J.location.search}#${p.EU.CreateNew}`;return t.createElement("header",{className:u()("p-refreshed_page__header",{"p-refreshed_page__header--should_wrap":!!w,"p-refreshed_page__header--is_horchata_landing_bg":Y,"p-refreshed_page__header--no_logo":!!G,"p-refreshed_page__header--sf_slack_logo":ne,"p-refreshed_page__header--display_warning_banner":se,"p-refreshed_page__header--gov_slack":ce,"p-refreshed_page__header--landing":pe,"p-refreshed_page__full_background":Ie})},t.createElement("div",{className:"left-col"}),t.createElement("div",{className:"center-col"},ne&&G&&t.createElement("img",{srcSet:P??void 0,src:c(),alt:""}),!G&&t.createElement(l.A,{href:(0,a.A)(),autoClogProps:I,target:"_self"},t.createElement("img",{alt:"Slack",src:ce||ye===h.Sx.Dark?v():n(),height:"26",title:"Slack"})),w),t.createElement("div",{className:"right-col"},B&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},y.t("Already have an account?"),t.createElement("br",null),t.createElement(l.A,{href:"/signin",className:"bold",autoClogProps:C,target:"_self"},y.t("Sign in instead"))),F&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},y.t("Don\u2019t have an account yet?"),t.createElement("br",null),t.createElement(l.A,{href:`/signup${i.J.location.search}`,className:"bold",autoClogProps:D,target:"_self"},y.t("Create an account"))),V&&!Se&&t.createElement("div",{className:"p-refreshed_page__header_sidelink"},y.t("New to Slack?",{fallbackHash:"2f63cb0ff8e7e3d18574aa36be246a7723cef6fc"}),t.createElement("br",null),t.createElement(l.A,{href:J,className:"bold",autoClogProps:M,target:"_self"},y.t("Create an account"))),Se&&t.createElement("div",{className:"p-refreshed_page__header_sidelink","data-qa":"dev-prog-create-account"},y.t("New to Slack\u2019s Developer Program?",{fallbackHash:"2f63cb0ff8e7e3d18574aa36be246a7723cef6fc"}),t.createElement("br",null),t.createElement(l.A,{href:"/developer-program/join",className:"bold",autoClogProps:M,target:"_self"},y.t("Create an account")))))},"RefreshedHeader");S.displayName="RefreshedHeader";const b=S;var O=e(2180140255),L=e(8178126019),k=e(7216810781);const K=m(x=>{let{inviteDetails:B,children:F}=x;return!B||!(0,L.YB)(B)?F:t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__container"},t.createElement(k.z,{invite:B,bottomMargin:!0}),t.createElement("div",{className:"p-external_workspace_invite_branding_wrapper__contents"},F))},"ExternalWorkspaceInviteBrandingWrapper");K.displayName="ExternalWorkspaceInviteBrandingWrapper";const N=K,R=m(x=>{let{children:B,showHorchataBackground:F,showSignInLink:V,showCreateAccountLink:Y,showCreateWorkspaceLink:w,hideRegionPicker:G,clientTheme:Ee,hideFooter:ne=!1,confirmedEmailPill:se,hideHeader:ce=!1,isSSBBrowserSignin:pe=!1,showSfLogo:ye=!1,isWarningBannerDisplayed:Ie=!1,govSlackTheme:Se=!1,isLandingPage:le=!1,joinerRedesignTreatment:X=!1,inviteDetails:J,isDevProgSignin:z=!1}=x;return t.createElement(N,{inviteDetails:J},t.createElement(t.Fragment,null,!ce&&t.createElement(b,{showSignInLink:V,showCreateAccountLink:Y,showCreateWorkspaceLink:w,showHorchataBackground:F,confirmedEmailPill:se,isSSBBrowserSignin:pe,showSfLogo:ye,hideLogo:ye,isWarningBannerDisplayed:Ie,govSlackTheme:Se,isLandingPage:le,clientTheme:Ee,joinerRedesignTreatment:X,isDevProgSignin:z}),Se?t.createElement("div",{className:"p-refreshed_page_layout__children--gov_slack"},B):B,!ne&&t.createElement(O.A,{hideRegionPicker:G,govSlackTheme:Se,joinerRedesignTreatment:X})))},"RefreshedPageLayout");R.displayName="RefreshedPageLayout";const U=R},6176558010:(W,T,e)=>{"use strict";e.d(T,{EU:()=>s});var t=e(1224315998),s;(function(o){o.Start="/",o.Find="/find",o.Create="/create",o.CreateNew="/createnew",o.Confirm="/confirm",o.Check="/check",o.FindAgain="/find_again",o.Email="/email",o.Error="/error",o.ConfirmationCode="/confirmemail",o.DomainClaimed="/domain",o.Landing="/landing",o.ConfirmTrust="/confirmtrust",o.IgnoreInvite="/ignoreinvite",o.SignIn="/signin",o.Workspaces="/workspaces",o.SharedInviteLoggedOut="/sharedinvite",o.SharedInviteLanding="/sharedinvitelanding",o.SelectWorkspaces="/select",o.AppleSignIn="/apple",o.AddName="/addname"})(s||(s={}));var n;(function(o){o.SharedChannelInviteAlreadyAccepted="invite_used",o.SharedChannelInviteInvlidLink="invalid_link",o.DirectMessageInviteInactive="inactive_invite",o.Generic="generic"})(n||(n={}));const r={[s.Start]:t.UiStep.START_WITH_A_WORKSPACE,[s.Create]:t.UiStep.CREATE_NEW_WORKSPACE,[s.CreateNew]:t.UiStep.CREATE_NEW_WORKSPACE,[s.Find]:t.UiStep.FIND_YOUR_WORKSPACE,[s.Check]:t.UiStep.CHECK_YOUR_EMAIL,[s.FindAgain]:t.UiStep.FIND_YOUR_WORKSPACE,[s.Email]:t.UiStep.ENTER_EMAIL,[s.Confirm]:t.UiStep.ENTER_EMAIL,[s.Error]:t.UiStep.GET_STARTED_ERROR,[s.ConfirmationCode]:t.UiStep.GET_STARTED_CONFIRM_CODE,[s.DomainClaimed]:t.UiStep.GET_STARTED_DOMAIN_CLAIMED,[s.Landing]:t.UiStep.GET_STARTED_CREATOR_LANDING,[s.SignIn]:t.UiStep.GET_STARTED_SIGN_IN,[s.Workspaces]:t.UiStep.GET_STARTED_WORKSPACES,[s.SharedInviteLoggedOut]:t.UiStep.SHARED_INVITE_LOGGED_OUT,[s.SharedInviteLanding]:t.UiStep.SHARED_INVITE_LANDING,[s.SelectWorkspaces]:t.UiStep.GET_STARTED_SELECT_WORKSPACES,[s.AppleSignIn]:t.UiStep.GET_STARTED_APPLE_SIGN_IN,[s.ConfirmTrust]:t.UiStep.GET_STARTED_CONFIRM_TRUST,[s.IgnoreInvite]:t.UiStep.GET_STARTED_IGNORE_INVITE,[s.AddName]:t.UiStep.GET_STARTED_ADD_NAME};var u;(function(o){o.Invited="invited",o.Joined="joined",o.Whitelisted="whitelisted"})(u||(u={}));var i;(function(o){o.Email="email",o.GoogleIdToken="google_id_token",o.Apple="apple_id_token"})(i||(i={}))},2768056446:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>E,UU:()=>g,lS:()=>_});var t=e(3134334389),s=e(9406470849),n=e(4844578989),r=e.n(n),u=e(735940183),i=e(1610251172),o=e(8739505998);const a=new u.A("team_creation");var _;(function(A){A.Unchecked="unchecked",A.Empty="empty-status",A.Processing="processing",A.Ratelimited="ratelimited",A.Expired="expired",A.RequestNewCode="request-new-code",A.Error="error",A.Blocked="ratelimited-blocked",A.GoogleTokenExpired="google-token-expired",A.Unknown="unknown",A.Success="success"})(_||(_={}));const p={RequestNewCode:"code_check_status_request_new_code_link"};class g extends t.Component{getStatusMessage(){const{status:d,onRequestNewCode:v}=this.props;let h=t.createElement(t.Fragment,null,t.createElement("i",{"aria-hidden":"true",className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},"\xA0"));switch(d){case _.Unchecked:h=t.createElement("span",{className:"small_desc"},a.t("Keep this window open while checking for your code. Remember to try your spam folder!"));break;case _.Processing:h=t.createElement(t.Fragment,null,t.createElement(i.A,{type:"spinner",animation:"spin",inline:!0,className:"margin_right_25"}),t.createElement("span",{className:"c-alert__message"},a.t("Checking your code...")));break;case _.Ratelimited:h=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,a.t("Whoa, you\u2019re going too fast!")),t.createElement("br",null),a.t("Slow down a bit. You might have better luck if you try again in a minute.")));break;case _.Error:h=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.t("That code wasn't valid. Give it another go!")));break;case _.Expired:h=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.t("That code\u2019s no longer valid. Check your email for a new code and try again.")));break;case _.Blocked:h=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},t.createElement("b",null,a.t("Temporarily blocked")),t.createElement("br",null),a.t("You\u2019ve hit our limit on verification attempts, and you\u2019ll need to try again later.")));break;case _.GoogleTokenExpired:h=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("A good amount of time has passed, please <a>enter your email again</a> to continue.",null,f=>{let{text:y}=f;return t.createElement(o.A,{href:`/get-started${window.location.search}#create`},y)})));break;case _.RequestNewCode:v&&(h=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{},f=>{let{text:y}=f;return t.createElement(o.A,{"data-qa":p.RequestNewCode,onClick:v},y)}))));break;case _.Unknown:h=t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.t("Oops! Looks like something went wrong.")));break;case _.Success:h=t.createElement("span",{className:"small_desc"},a.t("Success!"));break;default:break}return h}render(){const{status:d,isCentered:v,id:h,className:f}=this.props;if(!d)return null;const y=r()("c-alert confirmation_code_state_message",f,{"c-alert--boxed":d!==_.Unchecked,"c-alert--level_default":d===_.Processing,"c-alert--level_warning":d===_.Ratelimited||d===_.Expired||d===_.RequestNewCode,"c-alert--level_error":d===_.Error||d===_.Blocked||d===_.Unknown,"invisible c-alert--level_default":d===_.Empty,"c-alert--align_center":v},d);return t.createElement("div",{className:"confirmation_code_checker","data-state":d,"data-qa":d,id:h},t.createElement("p",{role:"alert",className:y},this.getStatusMessage()))}}m(g,"CodeCheckStatus"),g.displayName="CodeCheckStatus";let c=m(class extends g{getStatusMessage(){return this.props.status===_.RequestNewCode?t.createElement(t.Fragment,null,t.createElement("i",{className:"c-alert__icon c-icon c-icon--warning c-icon--inline"}),t.createElement("span",{className:"c-alert__message"},a.rt("That code\u2019s no longer valid. <a>Request a new code</a> and try again.",{},d=>{let{text:v}=d;return t.createElement(o.A,{href:"#",onClick:this.onClickRequestNewCode},v)}))):super.getStatusMessage()}constructor(...d){super(...d),this.onClickRequestNewCode=v=>{v.preventDefault();const{navigate:h}=this.props;h(-1)}}},"CodeCheckStatusWithRouter");const E=(0,s.A)(c)},4645337865:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(3134334389),s=e(9867500491),n=e(735940183),r=e(4844578989),u=e.n(r),i=e(8646591923),o=e(219228829),a=e(3700949338);function _(){return _=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var d=arguments[A];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(E[v]=d[v])}return E},_.apply(this,arguments)}m(_,"_extends");let l=m(class extends t.Component{render(){const{isDisabled:A,isInvalid:d=!1,ariaDescribedBy:v,className:h}=this.props;return t.createElement("div",{className:u()("split_input_item",h,{focused:this.props.hasFocus})},t.createElement("input",{ref:this.props.refToForward,type:"text",value:this.props.value,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":v,disabled:A,"aria-disabled":A,"aria-invalid":d}))}constructor(...A){super(...A),this.onKeyDown=d=>{switch(d.keyCode){case i.G_:{d.currentTarget.value||this.props.moveLeft();return}case i.UQ:return d.preventDefault(),this.props.moveLeft();case i.LE:return d.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=d=>{const{isNumbersOnly:v}=this.props;(v?!(0,a.A)(d.which):!(0,a.$)(d.which))&&d.charCode&&!(0,o.A)(d)&&d.preventDefault()},this.onChange=d=>{const v=d.target.value,{isNumbersOnly:h}=this.props;((h?/^[0-9]$/:/^[a-zA-Z0-9]$/).test(v)||v==="")&&this.props.onChange(v.toUpperCase())},this.onPaste=d=>{d.preventDefault();const{isNumbersOnly:v}=this.props,h=window.clipboardData||d.clipboardData,f=h.getData("text")||h.getData("text/plain"),y=v?/\D/g:/[^a-zA-Z0-9]/g,I=f.replace(y,"");this.props.onPaste(I)}}},"CodeInput");l.displayName="CodeInput";const p=t.forwardRef((E,A)=>t.createElement(l,_({},E,{refToForward:A}))),g=new n.A("team_creation");let c=m(class extends t.Component{focusInput(A){const d=this.inputRefs[A];d&&d.current&&d.current.focus()}moveLeft(A){A<=0||this.focusInput(A-1)}moveRight(A){A>=this.state.values.length-1||this.focusInput(A+1)}isComplete(A){return!A.some(d=>!d)}clear(){this.setState(A=>({values:A.values.map(()=>"")})),this.focusInput(0)}onChange(A,d){const v=this.state.values.slice();v[A]=d,this.setState(()=>({values:v}),()=>{d&&!this.isComplete(this.state.values)&&this.moveRight(A)})}componentDidUpdate(A,d){if(!this.isComplete(d.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&d.values.join("")!==this.state.values.join("")){const v=this.state.values.join("");this.props.onFillCode(v)}else d.values.join(",")!==this.state.values.join(",")&&this.props.onChange();A.isDisabled!==this.props.isDisabled&&this.focusInput(0)}componentDidMount(){this.focusInput(0)}renderInputs(A,d){const{isDisabled:v,isNumbersOnly:h=!0,isInvalid:f=!1,ariaDescribedBy:y,govSlackTheme:I=!1}=this.props;return this.state.values.slice(A,d).map((C,D)=>{const M=D+A;return t.createElement(p,{isNumbersOnly:h,key:M,ref:this.inputRefs[M],moveLeft:()=>this.moveLeft(M),moveRight:()=>this.moveRight(M),onChange:P=>this.onChange(M,P),onPaste:this.onPaste,onFocus:()=>this.setState(()=>({focusedInputIndex:M})),onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===M,value:this.state.values[M],ariaLabel:g.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:M+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:y,isInvalid:f,isDisabled:v,className:I?"split_input_item--gov_slack":""})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input","data-state":this.props.isCheckError?"error":""},t.createElement("div",{className:"display_flex"},this.renderInputs(0,3)),t.createElement("div",{className:"confirmation_code_span_cell margin_50"},"\u2014"),t.createElement("div",{className:"display_flex"},this.renderInputs(3,6)))}constructor(A){super(A),this.onPaste=d=>{const v=this.state.focusedInputIndex;if(v===-1)return;const h=this.state.values.length-v,f=d.substring(0,h).split(""),y=this.state.values.slice();f.forEach((I,C)=>{const D=C+v;y[D]=I}),this.setState(()=>({values:y}),()=>{this.focusInput(Math.min(this.state.values.length-1,v+f.length))})},this.state={values:(0,s.A)(6,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"SplitInput");c.defaultProps={isNumbersOnly:!0}},3700949338:(W,T,e)=>{"use strict";e.d(T,{$:()=>s,A:()=>t});function t(n){return n>=48&&n<=57}m(t,"isNumericKey");function s(n){const r=String.fromCharCode(n);return!!/[a-zA-Z0-9]/.test(r)}m(s,"isAlphaNumericKey")},7520119303:(W,T,e)=>{"use strict";e.d(T,{K_:()=>y,XR:()=>h,yb:()=>f});var t=e(735940183),s=e(7909758472),n=e(7940058138),r=e(337319621),u=e(4465846026),i=e(5332875232),o=e(3192808693),a=e(6271402872),_=e(1803124141),l=e(8666996079),p=e(5858219536);const g=new t.A("client"),c=m(I=>(0,i.iT)(I)?g.t("Meetings"):g.t("Huddles"),"huddlePageLabel"),E=m(I=>(0,_.k)(I)?g.t("Get started"):g.t("Paid Plan Benefits"),"paidBenefitsPageLabel"),A=m(I=>(0,o.lL)(I)?g.t("Explore paid features"):"","explorePaidFeaturesLabel"),d={[n.c.Composer]:()=>g.t("New message"),[n.c.Drafts]:()=>g.t("Drafts & sent"),[n.c.EmailInbox]:I=>(0,l.w3)(I)?g.t("Emails"):"",[n.c.ScheduledMessages]:()=>g.t("Scheduled"),[n.c.Sent]:()=>g.t("Sent"),Pthread:()=>g.t("Thread"),[n.c.Empty]:()=>{},[n.c.Unreads]:()=>g.t("Unreads"),[n.c.Apps]:()=>g.t("Apps"),[n.c.Shortcuts]:()=>g.t("Workflows"),[n.c.BrowseWorkflowsManagedByYou]:I=>(0,u.oF)(I)?g.t("Workflows managed by you"):"",[n.c.BrowseYourWorkflowTemplates]:()=>g.t("Your workflow templates"),[n.c.BrowseWorkflowTemplates]:()=>g.t("Templates"),[n.c.WorkflowEditor]:I=>(0,a.Lh)(I)?g.t("Workflow Editor"):"",[n.c.WorkflowBeingCreated]:I=>(0,a.Lh)(I)?g.t("Workflow Creation"):"",[n.c.Activity]:()=>g.t("Activity"),[n.c.Saved]:()=>g.t("Saved items"),[n.c.PaidBenefits]:I=>E(I),[n.c.BrowseChannels]:()=>g.t("All channels"),[n.c.SetupTeamName]:()=>g.t("Setup Team Name"),[n.c.SetupProfile]:()=>g.t("Profile"),[n.c.SetupChannels]:()=>g.t("Setup Channels"),[n.c.SetupInvites]:()=>g.t("Setup Invites"),[n.c.SetupCalendarContactImport]:()=>"Setup Contact Import",[n.c.SetupTada]:()=>"Setup Tada",[n.c.SetupWelcome]:()=>g.t("Setup Welcome"),[n.c.SetupPeople]:()=>g.t("Setup People"),[n.c.SetupStraightToPaidPlans]:()=>g.t("Setup Plans"),[n.c.JoinerLaunchpad]:()=>g.t("Get started"),[n.c.SalesAutoSlackLaunchpad]:()=>g.t("Your guide to using Slack",{fallbackHash:"90e40d504340834d9e79a4d800e45283591c5927"}),[n.c.ResurrectedUserWelcome]:()=>g.t("Welcome back"),[n.c.TenuredTeamSolutions]:()=>g.t("Tips for how you work"),"Pbrowse-channels-prototype":()=>g.t("All channels"),[n.c.BrowseFiles]:()=>g.t("All files"),[n.c.Calendar]:I=>(0,s.A)(I)?g.t("Calendar"):"",[n.c.BrowsePeople]:()=>g.t("All people"),[n.c.BrowseExternalContacts]:()=>g.t("External people"),[n.c.BrowseUserGroups]:()=>g.t("User groups"),[n.c.BrowseExternalWorkspaces]:()=>g.t("Spaces"),[n.c.Search]:()=>g.t("Search Results"),[n.c.SlackConnect]:()=>g.t("Slack Connect"),[n.c.SlackConnectInvitation]:()=>g.t("Slack Connect Invitation"),[n.c.OfflineOutbox]:()=>"Offline outbox",[n.c.Huddles]:I=>c(I),[n.c.BrowseHuddles]:I=>c(I),[n.c.Today]:()=>"Today",[n.c.TodayV2]:()=>g.t("Today"),[n.c.Later]:()=>g.t("Later"),[n.c.BrowseOrgChart]:()=>g.t("Org chart"),"Pasync-modals":()=>"Modals",[n.c.BrowseCanvases]:()=>g.t("Canvases"),[n.c.BrowseLists]:()=>"Lists",[n.c.Todos]:()=>"Todos",[n.c.Recents]:()=>g.t("Recently viewed"),[n.c.DailyDigest]:()=>g.t("Recap"),[n.c.ActionItems]:()=>g.t("Action items"),[n.c.Inbox]:()=>g.t("Activity"),[n.c.BrowseUnifiedFiles]:()=>g.t("Docs"),[n.c.BrowseUnifiedFilesCanvases]:()=>g.t("Canvases"),[n.c.BrowseUnifiedFilesLists]:()=>g.t("Lists"),[n.c.BrowseUnifiedFilesOther]:()=>g.t("All files"),[n.c.BrowseUnifiedFilesExternalResults]:()=>g.t("All files"),[n.c.ExplorePaidFeatures]:I=>A(I),[n.c.BrowseUnifiedFilesGoogleDrive]:I=>(0,p.c)(I)?g.t("Google Drive"):"",[n.c.BrowseUnifiedFilesOnedrive]:I=>(0,p.c)(I)?g.t("OneDrive & SharePoint"):""},v={};function h(I){return!I||!d[I]?((0,r.Wo)().error(`getLabelFunctionForPage called with invalid pageId: ${I}`),null):d[I]}m(h,"getLabelFunctionForPage");const f=m((I,C)=>h(C.id)(I),"getPageLabel");function y(I){if(I)return v[I]}m(y,"getAriaLabelFunctionForPage")},4066669727:(W,T,e)=>{"use strict";e.d(T,{KH:()=>b,MC:()=>K,PL:()=>k,SV:()=>O,a$:()=>M,gO:()=>P});var t=e(2044530601),s=e(2141099977),n=e(8802876335),r=e(337319621),u=e(6533394955),i=e(1345902898),o=e(8778137680),a=e(5795074931),_=e(7592559649),l=e(4949104520),p=e(6066600258),g=e(9240258658),c=e(6304789565),E=e(5332875232);const A="AWARENESS-MANAGER",d="AWARENESS-MANAGER-CHIME",v=`[${A}] unknown awareness subtype`,h=3e4,f=250,y=5e3,I=15,C=(0,c.Ay)("Query for awareness state from other users who are subscribed to the topic",async(R,U,x)=>{const B=U();if(!(0,n.ON)(B))return;const F=(0,a.WR)(B),V={channel:x,type:"awareness",subtype:i.Pz.QUERY,user:F};try{R((0,s.tN)(V))}catch(Y){(0,r.Ay)({getState:U}).warn("Failed to send awareness query: ",Y)}});C.meta={name:"createThunk",key:"createThunkmaybeSendAwarenessQuery",description:"Query for awareness state from other users who are subscribed to the topic"};const D=(0,c.Ay)("Send awareness state to other users who are subscribed to the topic",async(R,U,x)=>{const B=U();if(!(0,n.ON)(B))return;const F=(0,a.WR)(B),V=(0,_.fL)(B,x,F),Y={channel:x,type:"awareness",subtype:i.Pz.BROADCAST,user:F,awareness_state:V};try{R((0,s.tN)(Y))}catch(w){(0,r.Ay)({getState:U}).warn("Failed to send awareness query: ",w)}});D.meta={name:"createThunk",key:"createThunkmaybeSendCurrentAwarenessState",description:"Send awareness state to other users who are subscribed to the topic"};const M=(0,c.Ay)("Temporarily subscribe to a topic for updates",(R,U,x)=>{const B=U();if((0,n.ON)(B))try{R((0,s.tN)({channel_id:x,type:"temp_channel_sub"}))}catch(F){(0,r.Ay)({getState:U}).warn("Failed to subscribe to awareness topic: ",F)}});M.meta={name:"createThunk",key:"createThunksubscribeToAwarenessTopic",description:"Temporarily subscribe to a topic for updates"};const P=(0,c.Ay)("Temporarily unsubscribe from topic updates",(R,U,x)=>{const B=U();if((0,n.ON)(B))try{R((0,s.tN)({channel_id:x,type:"temp_channel_unsub"}))}catch(F){(0,r.Ay)({getState:U}).warn("Failed to unsubscribe from awareness topic: ",F)}});P.meta={name:"createThunk",key:"createThunkunsubscribeFromAwarenessTopic",description:"Temporarily unsubscribe from topic updates"};const S=(0,c.Ay)("Alert other users who are subscribed to the topic that a subscriber has left",async(R,U,x)=>{const B=U();if(!(0,n.ON)(B))return;const F=(0,a.WR)(B),V={channel:x,type:"awareness",subtype:i.Pz.CLOSE,user:F};try{R((0,s.tN)(V))}catch(Y){(0,r.Ay)({getState:U}).warn("Failed to send awareness query: ",Y)}});S.meta={name:"createThunk",key:"createThunkmaybeSendCloseState",description:"Alert other users who are subscribed to the topic that a subscriber has left"};class b{maybeSendCurrentAwarenessState(U){const x=(0,u.oK)(this.teamId);return x?(x.dispatch(D(U)),!0):!1}maybeSendAwarenessQuery(U){const x=(0,u.oK)(this.teamId);return x?(x.dispatch(C(U)),!0):!1}maybeSendAwarenessCloseState(U){const x=(0,u.oK)(this.teamId);return x?(x.dispatch(S(U)),!0):!1}constructor({teamId:U}){this.onShutdownDataChannelSubscriber=()=>{},this.teamId=U}}m(b,"RtmBroadcaster");class O{onDisconnectDataChannel(){var U;(U=this.audioVideoFacade)===null||U===void 0||U.realtimeUnsubscribeFromReceiveDataMessage(this.dataChannelTopic),this.connected=!1}onConnectDatachannel(U){this.audioVideoFacade=U,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback),this.connected=!0,(0,r.Wo)().warn(d,`broadcaster connected ${this.peerId}`),this.maybeSendAwarenessQuery(this.topicId)}onInitializeDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(U){}maybeSendCurrentAwarenessState(U){var x;if(!this.connected)return(0,r.Wo)().info(d,`${this.connected} ${U} Can't send yet, not connected`),!1;const B=(0,u.oK)(this.teamId);if(!B)return(0,r.Wo)().warn(d,`${this.connected} ${U} Can't find teamstore for ${this.teamId}, not sending awareness state`),!1;const F=B.getState(),V=(0,a.WR)(F);B.dispatch((0,o.c6)({topicId:U,userId:V}));const Y=(0,E.pL)(F),G=(0,_.fL)(F,U,V,Y?"self":void 0).map(ne=>new g.Y.AwarenessPayload({fieldName:ne.field_name,fieldValue:ne.field_value,...this.isHuddlesAwarenessTimestampEnabled&&!!ne.field_timestamp_ms&&{fieldTimestampMs:ne.field_timestamp_ms}})),Ee=new g.Y.AwarenessBroadcast({channel:U,user:(0,a.WR)(B.getState()),awarenessState:G});return(x=this.audioVideoFacade)===null||x===void 0||x.realtimeSendDataMessage(this.dataChannelTopic,g.Y.encode(new g.Y({awarenessBroadcast:Ee})).finish()),!0}maybeSendAwarenessQuery(U){var x;if(!this.connected)return(0,r.Wo)().info(d,`${this.connected} ${U} Can't send yet, not connected`),!1;(0,r.Wo)().warn(d,`${this.connected} ${U} Sending awareness query`);const B=(0,u.oK)(this.teamId);if(!B)return(0,r.Wo)().warn(d,`${this.connected} ${U} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const F=new g.Y.AwarenessQuery({channel:U,user:(0,a.WR)(B.getState())});return(x=this.audioVideoFacade)===null||x===void 0||x.realtimeSendDataMessage(this.dataChannelTopic,g.Y.encode(new g.Y({awarenessQuery:F})).finish()),!0}maybeSendAwarenessCloseState(U){var x;if(!this.connected)return(0,r.Wo)().info(d,`${this.connected} ${U} Can't send yet, not connected`),!1;(0,r.Wo)().warn(d,`${this.connected} ${U} Sending awareness query`);const B=(0,u.oK)(this.teamId);if(!B)return(0,r.Wo)().warn(d,`${this.connected} ${U} Can't find teamstore for ${this.teamId}, not sending awareness query`),!1;const F=new g.Y.AwarenessClose({channel:U,user:(0,a.WR)(B.getState())});return(x=this.audioVideoFacade)===null||x===void 0||x.realtimeSendDataMessage(this.dataChannelTopic,g.Y.encode(new g.Y({awarenessClose:F})).finish()),!0}constructor({teamId:U,peerId:x,topicId:B,isHuddlesAwarenessTimestampEnabled:F}){this.dataChannelTopic="awareness-sync-channel",this.isHuddlesAwarenessTimestampEnabled=!1,this.onShutdownDataChannelSubscriber=()=>{this.maybeSendAwarenessCloseState(this.topicId),this.connected=!1},this.teamId=U,this.peerId=x,this.connected=!1,this.topicId=B,this.isHuddlesAwarenessTimestampEnabled=!!F}}m(O,"ChimeChannelBroadcaster");class L{maybeTTL(){[...new Set(this.topicToTeamMap.values())].forEach(x=>{(0,r.Wo)().debug(A,`Running TTL for ${x}`);const B=(0,u.oK)(x);B&&B.dispatch((0,o._y)())}),this.watchedTopics.size===0&&((0,r.Wo)().info(A,"Stopping the TTL timer, nothing to watch"),clearInterval(this.periodicTTLId),this.periodicTTLId=null)}broadcastChanges(){if(Date.now()-this.lastDirtyBroadcastTime<500)return;const U=(0,l.A)(I,-.25,.25);this.dirtyTopics.forEach(x=>{(0,p.A)(()=>{const B=this.dataChannels.get(x);B&&B.maybeSendCurrentAwarenessState(x)&&this.dirtyTopics.delete(x)},U)}),this.lastDirtyBroadcastTime=Date.now(),this.watchedTopics.size===0&&((0,r.Wo)().info(A,"Stopping the dirty broadcast timer, nothing to watch"),clearInterval(this.dirtyBroadcastTimeoutId),this.dirtyBroadcastTimeoutId=null)}broadcastPerodicallyToWatchedTopics(){this.watchedTopics.forEach(U=>{const x=this.dataChannels.get(U);x&&x.maybeSendCurrentAwarenessState(U)&&this.dirtyTopics.delete(U)}),this.watchedTopics.size===0&&((0,r.Wo)().info(A,"Stopping the periodic broadcast timer, nothing to watch"),clearInterval(this.perodicBroadcastTimeoutId),this.perodicBroadcastTimeoutId=null)}query(){Date.now()-this.lastQueryTime<15e3||(this.watchedTopics.forEach(U=>{if(this.topicToTeamMap.get(U)){const B=this.dataChannels.get(U);B&&B.maybeSendAwarenessQuery(U)&&this.dirtyTopics.delete(U)}}),this.broadcastChanges(),this.lastQueryTime=Date.now())}markTopicChanged(U){if(!this.watchedTopics.has(U)){(0,r.Wo)().info(A,`Ignoring topic change for unwatched topic ${U}`);return}this.dirtyTopics.add(U),this.dirtyBroadcastTimeoutId||((0,r.Wo)().info(A,"Starting the dirty broadcast timer"),this.dirtyBroadcastTimeoutId=setInterval(this.broadcastChanges.bind(this),f)),this.perodicBroadcastTimeoutId||((0,r.Wo)().info(A,"Starting the periodic broadcast timer"),this.perodicBroadcastTimeoutId=setInterval(this.broadcastPerodicallyToWatchedTopics.bind(this),h)),this.periodicTTLId||((0,r.Wo)().info(A,"Starting the TTL timer"),this.periodicTTLId=setInterval(this.maybeTTL.bind(this),y))}removeTopicId(U){this.dirtyTopics.delete(U),this.watchedTopics.delete(U)}watch(U,x,B){this.watchedTopics.add(x),this.topicToTeamMap.set(x,U),this.dataChannels.set(x,B),this.markTopicChanged(x),this.query()}unwatch(U){this.broadcastChanges(),this.removeTopicId(U)}unwatchAll(){if(this.watchedTopics.size){const U=[...this.watchedTopics].join(" ");(0,r.Wo)().warn(A,`Clearing unexpected remaining topics: ${U}`),this.broadcastChanges(),this.watchedTopics.clear()}this.dataChannels.clear()}constructor(){this.dirtyTopics=new Set,this.watchedTopics=new Set,this.topicToTeamMap=new Map,this.dataChannels=new Map,this.lastDirtyBroadcastTime=0,this.lastQueryTime=0}}m(L,"AwarenessManager");const k=new L;class K{onConnectDatachannel(U){this.audioVideoFacade=U,this.audioVideoFacade.realtimeSubscribeToReceiveDataMessage(this.dataChannelTopic,this.realtimeReceiveDataMessageCallback.bind(this)),(0,r.Wo)().warn(d,"listener connected")}onDisconnectDataChannel(){}onInitializeDataChannelSubscriber(){}onShutdownDataChannelSubscriber(){}realtimeReceiveDataMessageCallback(U){let x;try{x=g.Y.decode(U.data)}catch(B){(0,r.Wo)().debug(d,`Peer Message failed during decode, ignoring peer message.
				| Error: ${B}
				| Data Sender Attendee ID: ${U.senderAttendeeId}
				| Data Sender External Attendee ID: ${U.senderExternalUserId}
				| Topic: ${U.topic}`);return}if(x.awarenessQuery&&x.awarenessQuery.channel)k.markTopicChanged(x.awarenessQuery.channel);else if(x.awarenessBroadcast){const B=(0,u.oK)(this.teamId),F=(0,E.pL)(B.getState()),V=x.awarenessBroadcast.user,Y=x.awarenessBroadcast.channel,w=x.awarenessBroadcast.awarenessState;if(V&&Y&&w){const G=w.map(ne=>{var se,ce;return{field_name:(se=ne.fieldName)!==null&&se!==void 0?se:"unknown_field",field_value:(ce=ne.fieldValue)!==null&&ce!==void 0?ce:"unknown_value",...!!ne.fieldTimestampMs&&{field_timestamp_ms:ne.fieldTimestampMs}}}),Ee={user:V,channel:Y,awarenessEntries:G,...F&&{uniqueId:U.senderAttendeeId}};B&&B.dispatch((0,o.zZ)(Ee))}}else if(x.awarenessClose){const B=(0,u.oK)(this.teamId),F=(0,E.pL)(B.getState()),V=x.awarenessClose.user,Y=x.awarenessClose.channel;V&&Y&&B&&B.dispatch((0,o.DQ)({topicId:Y,userId:V,...F&&{uniqueId:U.senderAttendeeId}}))}}constructor({teamId:U}){this.dataChannelTopic="awareness-sync-channel",this.teamId=U}}m(K,"ChimeChannelListener");const N=m((R,U,x)=>{const B=x(),F=(0,a.WR)(B),V=R.awareness_state;switch(R.subtype){case"query":F!==R.user&&k.markTopicChanged(R.channel);break;case"broadcast":if(V&&F!==R.user){const Y={user:R.user,channel:R.channel,awarenessEntries:V};U((0,o.zZ)(Y))}break;case"close":F!==R.user&&U((0,o.DQ)({topicId:R.channel,userId:R.user}));break;default:throw new Error(v)}},"onAwarenessEvent");(0,t.d1)("awareness",N)},9781145568:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(6304789565),s=e(7053828403),n=e(395285811),r=e(1407713935),u=e(9101533895),i=e(56548687),o=e(1224315998);const a=(0,t.Ay)("Clogs a message sent or resent",function(l,p){let{channelId:g,msgTs:c,resent:E=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const A=p(),d=g?(0,u.OL)(A,g):null;let v={message_timestamp:c,channel_id:g,channel_type:g?g.charAt(0):null,channel_privacy_type:d?(0,r.K5)(d):null,is_file_channel:d?(0,n.jT)(d):null};const h=(0,s.ZR)(A);h!==null&&(v={...v,channel_session_id:h});const f=(0,i.e)({state:A}),y=E?o.EventId.MSG_RESENT:o.EventId.MSG_SENT;f.track(y,v)});a.meta={name:"createThunk",key:"createThunkclogMessageSent",description:"Clogs a message sent or resent"};const _=a},5904726069:(W,T,e)=>{"use strict";e.d(T,{r:()=>p});var t=e(3134334389),s=e(6304789565),n=e(4540171876),r=e(9236644324),u=e(3255440563),i=e(5060694341),o=e(4275787242),a=e(735940183),_=e(5332875232);const l=new a.A("huddles"),p=(0,s.Ay)("Copies Huddle link by Channel Id",(g,c,E,A)=>{let{channelId:d,suppressToast:v}=E;const{windowRef:h}=A(u.C),f=(0,_.Eo)(c());if(d&&(g((0,n.TE)({reason:"copy",channelId:d})).then(y=>{(0,r.x3)(y.link,h.deref())}),f&&!v)){const y={name:"check"};g((0,i.M)({element:t.createElement(o.A,{svgIconProps:y,duration:3e3},l.rt("Huddle link copied"))}))}});p.meta={name:"createThunk",key:"createThunkcopyHuddleLinkByChannelId",description:"Copies Huddle link by Channel Id"}},3128675849:(W,T,e)=>{"use strict";e.d(T,{Q:()=>pe});var t=e(1545824888),s=e(362134992),n=e(7530630315),r=e(6304789565),u=e(5795074931),i=e(157328471),o=e(1827030018),a=e(9132245692),_=e(337319621),l=e(9665027958),p=e(1725276404),g=e(9113979368),c=e(8840779375),E=e(9746734072),A=e(2101927269),d=e(9101533895),v=e(5467378328),h=e(9530687876);const f=(0,r.Ay)(h.rd.BULK_UPDATE_CHANNELS,function(Ie,Se){let{channels:le}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const X=Se();if(!le||!le.length||!(0,E.A)(le))return;const J=(0,A.A)(le,"id"),z=[],te=!1;J.length&&(J.forEach($=>{if($.id){const q=(0,d.OL)(X,$.id,te);z.push({...q,...$,id:$.id})}}),Ie((0,v.U)({channels:z,reason:h.rd.BULK_UPDATE_CHANNELS})))});f.meta={name:"createThunk",key:"createThunkbulkUpdateChannels",description:h.rd.BULK_UPDATE_CHANNELS};var y=e(6613382951),I=e(7438375976),C=e(4446301238),D=e(8455301571),M=e(8571983633),P=e(4013618389),S=e(7486305635),b=e(8802876335),O=e(3683482182),L=e(3106223098);const k=(0,r.Ay)("Update the unread counts in response to client.counts",(Ie,Se,le)=>{if(!le)return;const X=Se(),J={},z={},te={},$=(0,L.Gn)(X);le.forEach(q=>{const{id:re,unread_cnt:de,unread_highlight_cnt:oe}=q,De=$&&!(0,M.A)(q==null?void 0:q.vip_count)?q==null?void 0:q.vip_count:void 0;J[re]={unreadCnt:de||0,unreadHighlightCnt:oe||0,unreadVIPMentionCnt:$?De||0:void 0};const ae=(0,d.OL)(X,re);if(!de&&!oe||!(0,P.F)(X,ae))return;(0,S.d$)(X,ae)&&(te[re]=!0);const Z=(0,P.v)(X,ae)?de:oe,ie=(0,D.tp)(X,re),Ce=(0,b.UJ)(X);ie!=null&&ie.reachedEnd&&Ce?z[re]=(0,O.Lh)(X,re):z[re]={unreadCnt:de,unreadHighlightCnt:Z||oe,unreadVIPMentionCnt:$?De:void 0}}),Ie((0,i.SO)({initialUnreads:J,countsPerChannel:z,channelsToSuppress:te}))});k.meta={name:"createThunk",key:"createThunkinitializeUnreadCountsFromChannels",description:"Update the unread counts in response to client.counts"};var K=e(4368281601),N=e(6007206761),R=e(3929724715),U=e(6495946979),x=e(395285811),B=e(1407713935),F=e(4425457544),V=e(4191588167),Y=e(4660031767),w=e(212572833),G=e(4588548461),Ee=e(7910147864);const ne="COUNTS",se=(0,r.Ay)("Apply counts to channel objects and update stores",async function(Ie,Se){let{counts:le=[]}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=Se();const J=[],z=[],te={},$=[],q=(0,b.UJ)(X),re=(0,b.yf)(X),de=(0,L.Gn)(X),oe=(0,w.t)(X),De=le.map(Re=>({channelId:Re.id,ts:Re.last_read})),ae=le.filter(Re=>{let{latest:He}=Re;return He!==void 0});let Z=le;oe?Z=ae:Z.length!==ae.length&&(0,_.Ay)({state:X}).error(ne,`Unexpectedly received ${Z.length-ae.length} channels with undefined latest values`),(0,_.Ay)({state:X}).info(ne,`Applying counts to channels. wasLastConnectFast: ${re} isConnected: ${q} applying: ${Z.length} out of total: ${le.length}`);const ie=Z.filter(Re=>{let{has_unreads:He,mention_count:be}=Re;return He||be}).filter(function(){let{id:Re}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return!(0,d.hh)(X,Re)}).map(function(){let{id:Re}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Re});ie.length&&(await Ie((0,C.pX)({ids:ie,reason:"apply-counts-to-channels/ensure-channels",callSource:C.aI.ApplyCounts})),X=Se());const Ce=(0,D.jg)(X);Z.forEach(Re=>{const He=(0,d.OL)(X,Re.id,!1);if(!He||(0,B.QR)(He)){if(!Re.has_unreads&&!Re.mention_count)return;(0,_.Ay)({state:X}).warn(ne,{id:Re.id,has_unreads:Re.has_unreads,nonExistent:(0,B.QR)(He)},"applyCountsToChannels_missing_channel");return}if((0,N.F)(He)||(0,B.rW)(He)&&!(0,U.bl)(He))return;if((0,x.jT)(He)){var be;Ie((0,K.k)({channelId:He.id,mentionCount:(be=Re.mention_count)!==null&&be!==void 0?be:0,shouldSuppress:(0,S.d$)(X,He)}));return}const Ue={},ve=Re.has_unreads?1:0;let Fe=0,Ke=0,j=0,ee=!1;(0,B.LI)(He)||(0,B.LI)(Re)||(0,B.yz)(He)||(0,B.yz)(Re)?Fe=Re.mention_count||ve:(ee=!0,Fe=ve,Ke=Re.mention_count||0,j=(Re==null?void 0:Re.vip_count)||0),!Fe&&Ke&&((0,_.Ay)({state:X}).warn(ne,`Ignoring positive mention_count_display because has_unreads == false for ${He.id}`,{subtype:"ignoring_positive_mention_count_display"}),Ke=0),te[He.id]={unreadCnt:Fe,unreadHighlightCnt:Ke,unreadVIPMentionCnt:de?j:void 0},Fe!==(0,R.$M)(He)&&(Ue.unread_cnt=Fe),de&&j!==(0,R.OJ)(He)&&(Ue.vip_count=j),ee&&Ke!==(0,R.BP)(He)&&(Ue.unread_highlight_cnt=Ke),Re.updated&&Re.history_invalid&&(z.push({channelId:He.id,historyInvalidTs:Re.history_invalid,updatedTs:Re.updated}),Ce!=null&&Ce[He.id]&&Ie((0,V.A)({channelId:He.id,newHistoryInvalidTs:Re.history_invalid,newUpdatedTs:Re.updated}))),(0,g.A)(Ue)||(Ue.id=He.id,J.push(Ue))}),(0,g.A)(J)||Ie(f({channels:J})),(0,g.A)(z)||Ie((0,F.Lv)(z)),Ie((0,y.M)(Z)),Ie((0,I.f)(De)),(0,Ee.Tw)(X)||Ie((0,G.T)(De)),Ie((0,i.iz)(te)),Ie(k((0,c.A)(te,(Re,He)=>{let{unreadCnt:be,unreadHighlightCnt:Ue,unreadVIPMentionCnt:me}=Re;return{id:He,unread_cnt:be,unread_highlight_cnt:Ue,vip_count:de?me:void 0}}))),$.forEach(Re=>{Ie((0,Y.T)({channelId:Re}));const He=(0,d.OL)(Se(),Re,!1);if(He){const be={unreadCnt:(0,R.$M)(He),unreadHighlightCnt:(0,R.BP)(He),unreadVIPMentionCnt:(0,R.OJ)(He)};(0,_.Ay)({state:X}).info(ne,`Recounted ${Re}; initial: ${JSON.stringify(te[Re])}; after: ${JSON.stringify(be)}`)}})});se.meta={name:"createThunk",key:"createThunkapplyCountsToChannels",description:"Apply counts to channel objects and update stores"};const ce="COUNTS",pe=(0,r.Ay)("Apply counts to channels and threads",function(Ie,Se){let{channels:le,groups:X,ims:J,mpims:z,threads:te,alerts:$,saved:q,fileChannels:re,channelBadges:de,countsLastFetched:oe,todos:De}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const ae=Se();if(!(0,u.TZ)(ae))return t.S.resolve();Ie((0,i.iz)({})),Ie((0,a.y)($||{})),Ie((0,i.t)(oe));const Z=ye(re),ie=(0,s.A)((0,n.A)(le,X,J,z,Z));return Ie(se({counts:ie})).then(()=>{const Ce=(0,_.Ay)({getState:Se});te&&(Ce.info(ce,`Threads has_unreads:${te.has_unreads} mention_count:${te.mention_count}`),Ie((0,o._)({threadsHasUnreads:te.has_unreads,threadsUnreadCountByChannel:te.unread_count_by_channel,threadsMentionCountByChannel:te.mention_count_by_channel}))),q&&Ie((0,l.yO)(q)),De&&Ie((0,p.yO)(De)),de&&Ie((0,i.$m)(de)),Ce.info(ce,"Completed counts processing")})});pe.meta={name:"createThunk",key:"createThunkapplyCountsToChannelsAndThreads",description:"Apply counts to channels and threads"};function ye(Ie){if(!Ie||!Ie.quip)return[];const Se=Ie.quip.mention_count_by_channel;return Object.keys(Se).map(J=>({id:J,mention_count:Se[J],has_unreads:!0}))}m(ye,"transformFileChannels")},212572833:(W,T,e)=>{"use strict";e.d(T,{t:()=>s});var t=e(4761125736);function s(n){return(0,t._Z)(n,"client_counts_omit_unchanged_fe")==="on"}m(s,"isOmitUnchangedClientCountsEnabled")},7547876038:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(1545824888),s=e(3297051565),n=e.n(s),r=e(6439846314),u=e(5257368278);const i=(0,u.A)("API call for slack-action:// URL",(c,E,A)=>{let{botId:d,payload:v}=A;return c((0,r.apiCall)({method:"chat.action",args:{bot:d,payload:decodeURIComponent(v)}}))});i.meta={name:"createFetcher",key:"createFetcherpostChatAction",description:"API call for slack-action:// URL"},i.propTypes={botId:n().string.isRequired,payload:n().string.isRequired};const o=i;var a=e(6304789565),_=e(8707546752),l=e(7582939986);const p=(0,a.Ay)("Execute slack-action:// URL",(c,E,A)=>{if((0,_.A)(A)){const d=A.replace(l.Rw,"").split("/"),v=d.shift(),h=d.join("/");return c(o({botId:v,payload:h}))}return t.K.reject(new Error("Not a Slack action URL"))});p.meta={name:"createThunk",key:"createThunkdoSlackAction",description:"Execute slack-action:// URL"},p.propTypes=n().string.isRequired;const g=p},574001087:(W,T,e)=>{"use strict";e.d(T,{o:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that fetches and upserts list records");s.meta={name:"createAction",key:"createActionfetchAndUpsertRecordsCircular",description:"Triggers a side-effect that fetches and upserts list records"};var n=null},9456841042:(W,T,e)=>{"use strict";e.d(T,{b:()=>p});var t=e(6304789565),s=e(5795074931),n=e(3255440563),r=e(3052395304),u=e(7434063642);const i=(0,t.Ay)("Opens member profile in the huddle window flexpane if the window is open",(g,c,E,A)=>{let{memberId:d}=E;const{windowRef:v,windowId:h}=A(n.C);return(0,r.u)(h)&&!!v.deref()?(g((0,u.Zx)({userId:d})),!0):!1});i.meta={name:"createThunk",key:"createThunkopenProfileInHuddleWindow",description:"Opens member profile in the huddle window flexpane if the window is open"};var o=e(4117634716),a=e(8822892075),_=e(4427921758),l=e(5026370001);const p=(0,t.Ay)("Show the member profile",async function(g,c){let{memberId:E}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},A=arguments.length>3?arguments[3]:void 0;const d=c(),{channelId:v}=A(_.j),h=await g((0,l.I)()),f=E||(0,s.WR)(d);if(!g(i({memberId:f})))return g(h&&v?(0,o.o)((0,a.sL)((0,a.Fo)({memberId:f}),v,h.id)):(0,o.o)((0,a.Fo)({memberId:f})))});p.meta={name:"createThunk",key:"createThunkshowMemberProfile",description:"Show the member profile"}},6652001255:(W,T,e)=>{"use strict";e.d(T,{q:()=>r});var t=e(6304789565),s=e(4117634716),n=e(8822892075);const r=(0,t.Ay)("Opens the user group details flexpane",(u,i,o)=>{let{groupId:a}=o;u((0,s.o)((0,n.cu)(a)))});r.meta={name:"createThunk",key:"createThunkshowUserGroupDetails",description:"Opens the user group details flexpane"}},4191588167:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(6304789565),s=e(8847766420),n=e(4425457544),r=e(8455301571),u=e(4350638406),i=e(337319621),o=e(9536404279);const a=(0,t.Ay)("Possibly purge or invalidate channel history .",(l,p,g)=>{let{channelId:c,newHistoryInvalidTs:E,newUpdatedTs:A}=g;const d=p(),{historyInvalidTs:v,updatedTs:h}=(0,n.Dk)(d,c);E!=="0000000000.000000"&&(!v||E>v)?((0,i.Ay)({state:d}).info("COUNTS",`purging cached history for channel ${c} since counts history_invalid ${E} > cached historyInvalidTs ${v}`),l((0,o.bz)({channelId:c,includeThreads:!0}))):A!=="0000000000.000000"&&(!h||A>h)&&((0,i.Ay)({state:d}).info("COUNTS",`invalidating history for channel ${c} since counts updated ${A} > cached updatedTs ${h}`),(0,u.D1)((0,s.ZT)(d),c,(0,r.m3)(d,c)))});a.meta={name:"createThunk",key:"createThunkmaybePurgeChannelHistoryAfterMutations",description:"Possibly purge or invalidate channel history ."};const _=a},9609912577:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(3134334389),s=e(6304789565),n=e(2375333597),r=e(3677514771),u=e(56548687),i=e(1224315998),o=e(9364044512),a=e(8847766420),_=e(7679173189),l=e(5795074931),p=e(6839188756);const g=(0,s.Ay)("Opens the apps browser modal",function(E,A){let{initialTab:d,emojiNameSuggestion:v,elementName:h,emojiUrl:f,megaphoneEventOnClose:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=A(),C=(0,a.JY)(I);let D;C&&(0,_.JV)(C)?D=(0,r.H2)(I):(0,l.u8)(I)&&(D=(0,p.mf)((0,r.H7)(I))),(0,u.e)({getState:A}).track(i.EventId.ADD_CUSTOM_EMOJI_IN_CLIENT,{contexts:{ui_context:{step:"add_custom_emoji",action:"click",ui_properties:{element_type:"button",element_name:h}}}}),E((0,n.q)({element:t.createElement(o.A,{showEmojiPacks:!f,orgName:D,initialTab:d,emojiNameSuggestion:v,emojiUrl:f,megaphoneEventOnClose:y}),isStackable:!0}))});g.meta={name:"createThunk",key:"createThunkopenAddCustomEmojiModal",description:"Opens the apps browser modal"};const c=g},9786721596:(W,T,e)=>{"use strict";e.d(T,{U:()=>y});var t=e(6304789565),s=e(8677230210),n=e(613926746),r=e(8847766420),u=e(3244118357),i=e(2891736215),o=e(8276911661),a=e(4117634716),_=e(8822892075),l=e(4427921758),p=e(4761125736),g=e(9604647993),c=e(5624319675),E=e(6916052175),A=e(5026370001),d=e(6952523491),v=e(2762206868),h=e(195568024);const f=(0,t.Ay)("Shows message pane for bots",async function(I,C){let{memberId:D,serviceId:M,botProfile:P}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var S;const{member:b,bot:O,memberIsHuman:L}=(0,s.Od)(C(),{userId:D,botId:M,botProfile:P}),k=(0,c.mr)(C()),K=(0,d.J)(C()),N=(0,r.ZT)(C())||"",R=!L||M?(0,u.AW)({member:b||void 0,bot:O,botProfile:P,currentTeamId:N}):void 0,U=K?(0,v.sO)(C(),{appId:O==null?void 0:O.app_id,memberId:D,serviceId:M}):(0,i.G2)(C(),{serviceId:M,homeWorkspaceId:R,memberId:D,appId:O==null?void 0:O.app_id});var x;const B=(0,o.nv)(C(),D||((x=U==null||(S=U.app_user)===null||S===void 0?void 0:S.id)!==null&&x!==void 0?x:void 0)),F=(0,E.uG)(B);if(k&&F){const{id:Y}=await I((0,n.Z)({memberId:B.id,shouldNavigateToChannel:!1}));return I((0,h.T)({channelId:Y,isSplitView:!1}))}var V;return I((0,n.Z)({memberId:(V=B==null?void 0:B.id)!==null&&V!==void 0?V:void 0}))});f.meta={name:"createThunk",key:"createThunkopenMessagesForBot",description:"Shows message pane for bots"};const y=(0,t.Ay)("Shows the flexpane profile for humans or messages for bots",async(I,C,D,M)=>{let{memberId:P,serviceId:S,botProfile:b,triggerId:O}=D;const{channelId:L}=M(l.j),k=await I((0,A.I)()),K=(0,p._Z)(C(),"workflow_sender_opens_details")==="on";return P&&(0,s.wC)(C(),P)?I(k?(0,a.o)((0,_.sL)((0,_.Fo)({memberId:P}),L,k.id)):(0,a.o)((0,_.Fo)({memberId:P}))):I(K&&O?(0,g.u)({shortcutInfo:{triggerId:O},hermesLinkTriggerUIContext:{location:"flexpane",channelId:L}}):f({memberId:P,serviceId:S,botProfile:b}))});y.meta={name:"createThunk",key:"createThunkopenProfile",description:"Shows the flexpane profile for humans or messages for bots"}},5644445851:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that opens the remove member dialog");s.meta={name:"createAction",key:"createActionopenRemoveMemberDialogCircular",description:"Triggers a side-effect that opens the remove member dialog"};const n=s},2327059915:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that opens the ShareContactModal in client (noop)");s.meta={name:"createAction",key:"createActionopenShareContactModalCircular",description:"Triggers a side-effect that opens the ShareContactModal in client (noop)"};const n=s},4841770661:(W,T,e)=>{"use strict";e.d(T,{A:()=>d});var t=e(3134334389),s=e(6304789565),n=e(2375333597),r=e(9003400431),u=e(387484329),i=e(735940183),o=e(980293773),a=e(7138682671),_=e(3989454579),l=e(6084388622),p=e(8739505998);const g=new i.A("message"),c=m(v=>{let{url:h,text:f,onClose:y,updateSuppressLinkWarning:I}=v;const[C,D]=(0,t.useState)(!1),M=f.length>25?`${f.substr(0,25)}\u2026`:f,P=h.length>50?`${h.substr(0,50)}\u2026`:h,S=g.t("Double-check this link"),b=g.rt("The link <label></label> is taking you to another site: <url></url>. Are you sure you want to continue?",null,R=>{let{tag:U}=R;return U==="label"?t.createElement(p.A,{href:h,onClick:y},M):t.createElement(p.A,{href:h,onClick:y},P)}),O=g.t("Continue"),L=g.t("Don\u2019t show this again"),k=(0,t.useCallback)(R=>{D(R.target.checked)},[]),K=(0,t.useCallback)(()=>{C&&I(),y()},[y,C,I]),N=g.t("Cancel");return t.createElement(o.dW,{closeModal:y,isOpen:!0,centered:!0},t.createElement(o.rQ,null,t.createElement(o.Rc,{title:S})),t.createElement(o.$m,null,t.createElement(o.qf,null,t.createElement("p",{className:"break_word"},b),t.createElement("p",null,t.createElement(a.A,{text:L,type:"inline",cursor:"pointer",className:"normal"},t.createElement(_.A,{id:"suppress_link_warning",name:"suppress_link_warning",value:C.toString(),checked:!!C,onChange:k}))))),t.createElement(o.jl,null,t.createElement(o.ox,null,t.createElement(o.s_,{type:"outline","aria-label":N},N),t.createElement(l.Ay,{type:"danger",href:h,onClick:K},O))))},"SuspiciousLinkWarning");c.displayName="SuspiciousLinkWarning";const E=c,A=(0,s.Ay)("Display a warning when clicking a suspicious link",(v,h,f)=>{let{text:y,url:I}=f;const C=t.createElement(E,{text:y,url:I,onClose:()=>{v((0,r.O)())},updateSuppressLinkWarning:()=>{v((0,u.AZ)({pref:"suppress_link_warning",value:!0}))}});v((0,n.q)({element:C}))});A.meta={name:"createThunk",key:"createThunkopenSuspiciousLinkDialog",description:"Display a warning when clicking a suspicious link"};const d=A},9604647993:(W,T,e)=>{"use strict";e.d(T,{u:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Triggers a side-effect that opens the workflow details modal in client (noop)");s.meta={name:"createAction",key:"createActionopenWorkflowDetailsModalCircular",description:"Triggers a side-effect that opens the workflow details modal in client (noop)"}},5241075893:(W,T,e)=>{"use strict";e.d(T,{ET:()=>d,Fd:()=>h,Wb:()=>f,xz:()=>v});var t=e(3297051565),s=e.n(t),n=e(5950652755),r=e(6304789565),u=e(2141099977),i=e(337319621),o=e(8847766420),a=e(2028988448),_=e(440999534),l=e(8802876335);const p="PRESENCE-MANAGER",g={},c=m((C,D)=>{const M=(0,o.ZT)(D()),P=Object.keys(g[M]),S={type:"presence_sub",ids:P},b=(0,i.Ay)({getState:D});b.debug(p,`Sending a 'presence_sub' event with the following ids: ${P}`),C((0,u.tN)(S)).catch(O=>{O&&O.message===_.qk||b.error(`Received an error while trying to send 'presence_sub' with the following ids: ${P}, error = ${O}`)})},"sendMessageEvent");let E;function A(){return E||(E=(0,n.A)(c,100,{leading:!1})),E}m(A,"getThrottledSendMessageEvent");const d=(0,r.Ay)("Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for",(C,D)=>{if(!(0,l.ON)(D())){(0,i.Ay)({getState:D}).debug(p,"The presence subscription changed while the WebSocket disconnected; will send the updated subscription once we are connected");return}A()(C,D)});d.meta={name:"createThunk",key:"createThunksendPresenceSubEvent",description:"Send a presence_sub event with the list of members we want to subscribe to receive presence_change events for"};const v=(0,r.Ay)("Adds the member to the presence subscription or increments the associated count",function(C,D){let{memberId:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!M||M==="USLACKBOT")return;const P=(0,o.ZT)(D());if(g[P]||(g[P]={}),g[P][M]){(0,i.Ay)({getState:D}).debug(p,`Increasing the count for ${M} by 1`),g[P][M]+=1;return}(0,i.Ay)({getState:D}).debug(p,`Adding ${M} to the presence subscription`),g[P][M]=1,C(d())});v.meta={name:"createThunk",key:"createThunkaddMemberToPresenceSubscription",description:"Adds the member to the presence subscription or increments the associated count"},v.propTypes={memberId:s().string.isRequired};const h=(0,r.Ay)("Removes the member from the presence subscription or decrements the associated count",function(C,D){let{memberId:M}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!M)return;const P=(0,o.ZT)(D());if(!(!g[P]||!g[P][M])){if(g[P][M]>1){(0,i.Ay)({getState:D}).debug(p,`Decreasing the count for ${M} by 1`),g[P][M]-=1;return}(0,i.Ay)({getState:D}).debug(p,`Removing ${M} from the presence subscription`),delete g[P][M],C(d())}});h.meta={name:"createThunk",key:"createThunkremoveMemberFromPresenceSubscription",description:"Removes the member from the presence subscription or decrements the associated count"},h.propTypes={memberId:s().string.isRequired};const f=m(C=>g[C],"getPresenceSubscriptionByTeamId"),y=m(C=>{delete g[C]},"deletePresenceSubscriptionByTeamId"),I={sendMessageEvent:c};(0,a.ul)("presenceManager",{getPresenceSubscriptionByTeamId:f})},5583430912:(W,T,e)=>{"use strict";e.d(T,{Ap:()=>r,Pv:()=>s,Ui:()=>n});var t=e(7223729463);const s=new t.a;function n(){return s.entries().filter(u=>u.value&&!u.value.isRejected()&&!u.value.isCancelled()).length}m(n,"getActiveCollabClientCount");const r=m(u=>{const i=s.get(u);return i!=null&&i.isFulfilled()?i.value():void 0},"getInitializedClient")},7260478587:(W,T,e)=>{"use strict";e.d(T,{AP:()=>c,Ai:()=>b,Eg:()=>I,Ex:()=>o,F$:()=>O,H6:()=>D,M:()=>P,QV:()=>y,SQ:()=>S,Uz:()=>U,cy:()=>_,ed:()=>M,hM:()=>a,jv:()=>g,nK:()=>f,rW:()=>R,sV:()=>E,uF:()=>d});var t=e(3385422400),s=e(735940183),n=e(7729538251),r=e(3677514771),u=e(7330763135);const i=new s.A("slack_docs");var o;(function(x){x.FAQ="/faq",x.WEEKLY_RECAP="/weekly_recap",x.OVERVIEW="/overview",x.AGENDA="/agenda",x.BRAINSTORM="/brainstorm",x.TABLE="/table",x.OUTLINE="/outline",x.CANVAS_SUMMARY="/canvas_summary",x.CANVAS_ACTION_ITEMS="/canvas_action_items",x.CREATE="/create"})(o||(o={}));var a;(function(x){x.CREATE="create",x.REFINE="refine"})(a||(a={}));var _;(function(x){x.CREATION="creation",x.CREATION_FROM_EMPTY_DOC="creation_from_empty_doc",x.REFINEMENT="refinement"})(_||(_={}));const l=new Map([[o.AGENDA,a.CREATE],[o.BRAINSTORM,a.CREATE],[o.WEEKLY_RECAP,a.CREATE],[o.FAQ,a.CREATE],[o.OUTLINE,a.CREATE],[o.OVERVIEW,a.CREATE],[o.TABLE,a.CREATE],[o.CANVAS_ACTION_ITEMS,a.CREATE],[o.CANVAS_SUMMARY,a.CREATE]]),p=new Map([[a.CREATE,_.CREATION],[a.REFINE,_.REFINEMENT]]),g={name:"ai-sparkle",size:"20"},c=new Map([[o.AGENDA,{name:"calendar",size:"20"}],[o.BRAINSTORM,{name:"emoji-objects",size:"20"}],[o.CANVAS_ACTION_ITEMS,{name:"ai-check",size:"20"}],[o.CANVAS_SUMMARY,{name:"ai-summary",size:"20"}],[o.WEEKLY_RECAP,{name:"ai-summary",size:"20"}],[o.CREATE,{name:"sparkles",size:"20"}],[o.FAQ,{name:"book",size:"20"}],[o.OUTLINE,{name:"bulleted-list",size:"20"}],[o.OVERVIEW,{name:"ai-summary",size:"20"}],[o.TABLE,{name:"table",size:"20"}]]),E=m(x=>{switch(x){case o.AGENDA:return i.t("Draft a meeting agenda",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.BRAINSTORM:return i.t("Brainstorm ideas",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.CREATE:return i.t("Write with AI",{fallbackHash:"5a98372d1f7b397565f7cb33560b8abe99f7acdc"});case o.FAQ:return i.t("Create FAQs",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.OUTLINE:return i.t("Draft an outline",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.OVERVIEW:return i.t("Write a project overview",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.TABLE:return i.t("Create a table",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.WEEKLY_RECAP:return i.t("Recap my past week in Slack",{fallbackHash:"61aa9040844ff3e13a5ed3e6a14583f96ba4cada",fallbackHashNs:"assistant"});case o.CANVAS_ACTION_ITEMS:return i.t("Generate action items");case o.CANVAS_SUMMARY:return i.t("Summarize this canvas");default:return""}},"getSuggestionName"),A=new Set([o.CANVAS_ACTION_ITEMS,o.CANVAS_SUMMARY,o.WEEKLY_RECAP]),d=m(x=>A.has(x),"isAutoSubmitSuggestion"),v=new Set([o.AGENDA,o.BRAINSTORM,o.FAQ,o.OUTLINE,o.OVERVIEW,o.TABLE]),h=m(x=>v.has(x),"isGuidedSuggestion"),f=m(x=>d(x)||h(x)?x:E(x),"getSuggestionInsertionText"),y=m(x=>{switch(x){case o.AGENDA:return i.t("Draft a meeting agenda for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.BRAINSTORM:return i.t("Brainstorm",{fallbackHash:"4e95058a32f7f441e0c9ae52530d203ad26c7079",fallbackHashNs:"ui_generator_static"});case o.CANVAS_ACTION_ITEMS:return i.t("Generate action items",{fallbackHash:"612b0b1d623ffd57874b9942f55a2baab60651d0"});case o.CANVAS_SUMMARY:return i.t("Summarize this canvas",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.FAQ:return i.t("Write FAQs about",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.OUTLINE:return i.t("Draft an outline for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.OVERVIEW:return i.t("Write an overview for",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2",fallbackHashNs:"quip_shortcut_handlers"});case o.TABLE:return i.t("Create a table");default:return E(x)}},"getSuggestionSubmissionText"),I=m(x=>{const B=new Map(Object.values(o).map(V=>[y(V).toLowerCase(),V]));var F;return(F=B.get(x.toLowerCase()))!==null&&F!==void 0?F:null},"getSuggestionIdForSubmissionText"),C=m((x,B,F,V)=>!!(B&&B===(0,u.zd)({actionId:x},F??!1,V??!1)),"isCanvasAiAction"),D=m((x,B,F)=>C(u.N2.REWRITE,x,B,F),"isCanvasAiRewriteAction"),M=m((x,B,F)=>C(u.N2.SUMMARIZE,x,B,F),"isCanvasAiSummarizeAction"),P=m((x,B,F)=>C(u.N2.ADD_ACTION_ITEMS,x,B,F),"isCanvasAiAddActionItemsAction"),S=m(function(x){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!!(x&&!D(x,B)&&!M(x,B)&&!P(x,B))},"isCanvasAiRefineAction"),b=m(x=>{const B=new Map(Object.values(o).map(V=>[f(V).toLowerCase(),V]));var F;return(F=B.get(x.toLowerCase()))!==null&&F!==void 0?F:null},"getSuggestionIdForInsertedText"),O=m(x=>{switch(x){case a.CREATE:return i.t("Suggestions",{fallbackHash:"564d3571acd1b3f669f762d196b6156b7aa88834",fallbackHashNs:"workflow_builder"});case a.REFINE:return i.t("Suggestions",{fallbackHash:"267e6e2f6a25dafaf92b9844b78c67ce0af55aa9",fallbackHashNs:"workflow_builder"});default:return""}},"getCategoryLabel"),L=m(x=>{const B=E(x),F=l.get(x);return{id:x,category:F,name:B,canonicalName:`/${x}`,aliases:[F]}},"getSuggestionObjectForId"),k=new Set([o.CANVAS_ACTION_ITEMS,o.CANVAS_SUMMARY]),K=m(x=>k.has(x),"isContentRequiredSuggestion"),N=m(x=>{const B=x===_.CREATION_FROM_EMPTY_DOC,F=B?_.CREATION:x;let V=Object.values(o).filter(Y=>{const w=l.get(Y);return w&&p.get(w)===F});return B&&(V=V.filter(Y=>!K(Y))),V.map(Y=>L(Y))},"getSuggestions"),R=(0,t.Mz)([r.H7,()=>(0,n.JK)(),(x,B)=>{let{searchViewContext:F}=B;return F}],(x,B,F)=>{if(F!=null&&F.includes(_.REFINEMENT)){var V;return(V=N(_.REFINEMENT))===null||V===void 0?void 0:V.map(G=>({...G,type:"client"}))}if(F!=null&&F.includes(_.CREATION_FROM_EMPTY_DOC)){var Y;return(Y=N(_.CREATION_FROM_EMPTY_DOC))===null||Y===void 0?void 0:Y.map(G=>({...G,type:"client"}))}if(F!=null&&F.includes(_.CREATION)){var w;return(w=N(_.CREATION))===null||w===void 0?void 0:w.map(G=>({...G,type:"client"}))}return[]}),U=m(x=>l.get(x)===a.CREATE,"isSuggestionCreation")},4119164726:(W,T,e)=>{"use strict";e.d(T,{Aw:()=>h,Zj:()=>E,vK:()=>A});var t=e(3385422400),s=e(735940183),n=e(7729538251),r=e(4761125736),u=e(8079225585),i=e(7731278967),o=e(9084547259),a=e(4843305308),_=e(3262078016),l=e(3677514771),p=e(6839188756),g=e(6642124196);const c=new s.A("quip_shortcut_handlers");var E;(function(f){f[f.BASICS=0]="BASICS",f[f.MEDIA=1]="MEDIA",f[f.SLACK=2]="SLACK",f[f.LAYOUT=3]="LAYOUT",f[f.AI=4]="AI"})(E||(E={}));const A=m(f=>({[E.BASICS]:c.t("Basics"),[E.MEDIA]:c.t("Media"),[E.SLACK]:c.t("Slack"),[E.LAYOUT]:c.t("Layout"),...f?{[E.AI]:c.t("AI")}:{}}),"getCategoryDetailsV2"),d=m(f=>{let{currentTeam:y,experimentCanvasInsertWorkflowMenuGroupOn:I,experimentCanvasCalloutsGroupOn:C,experimentCanvasAiContentCreationGroupOn:D,teamHasListsAccess:M}=f;const P=(0,p.qR)(y),S=A(D),b=S[E.AI],O=S[E.BASICS],L=S[E.MEDIA],k=S[E.SLACK],K=S[E.LAYOUT],N=m((R,U,x,B)=>({id:R,name:U,canonicalName:x,hideOnEmptyQuery:B,autocomplete:!0,icon:(0,a.P)(i.r.DATE_MENTION).name,category:E.BASICS}),"dateShortcut");return[...D?[{id:_.SlackShortcutCommandType.AI_ASSISTANT,name:c.t("Write with AI",{fallbackHash:"206911c09b910a072e5876f7f8d35acdef71e4e2"}),canonicalName:"/ai",autocomplete:!0,icon:"sparkles",category:E.AI,aliases:[b,c.t("assistant"),c.t("ask")]},{id:_.SlackShortcutCommandType.AI_ASSISTANT_CANVAS_SUMMARY,name:c.t("Summarize this canvas",{fallbackHashNs:"assistant",fallbackHash:"9763dad72dd460e5575210b5538e3f1b017bce2c"}),canonicalName:"/aicanvassummary",autocomplete:!0,icon:"ai-summary",category:E.AI,aliases:[b,c.t("assistant"),c.t("ask"),c.t("canvassummary")]},{id:_.SlackShortcutCommandType.AI_ASSISTANT_CANVAS_ACTION_ITEMS,name:c.t("Add action items",{fallbackHash:"612b0b1d623ffd57874b9942f55a2baab60651d0"}),canonicalName:"/aicanvasactionitems",autocomplete:!0,icon:"ai-check",category:E.AI,aliases:[b,c.t("assistant"),c.t("ask"),c.t("canvasactionitems")]}]:[],{id:_.SlackShortcutCommandType.CANVAS,name:(0,u.O)(i.r.CANVAS),canonicalName:"/canvas",autocomplete:!0,icon:(0,a.P)(i.r.CANVAS).name,category:E.BASICS,aliases:["canvas",O]},{id:_.SlackShortcutCommandType.CHECKLIST,name:(0,u.O)(i.r.CHECK_LIST),canonicalName:"/checklist",autocomplete:!0,icon:(0,a.P)(i.r.CHECK_LIST).name,category:E.BASICS,aliases:["checklist",O]},{id:_.SlackShortcutCommandType.H1,name:(0,u.O)(i.r.H1),canonicalName:"/largeheading",autocomplete:!0,icon:(0,a.P)(i.r.H1).name,category:E.BASICS,aliases:["h1","heading",O]},{id:_.SlackShortcutCommandType.H2,name:(0,u.O)(i.r.H2),canonicalName:"/mediumheading",autocomplete:!0,icon:(0,a.P)(i.r.H2).name,category:E.BASICS,aliases:["h2","heading",O]},{id:_.SlackShortcutCommandType.H3,name:(0,u.O)(i.r.H3),canonicalName:"/smallheading",autocomplete:!0,icon:(0,a.P)(i.r.H3).name,category:E.BASICS,aliases:["h3","heading",O]},{id:_.SlackShortcutCommandType.PLAIN,name:(0,u.O)(i.r.PARAGRAPH),canonicalName:"/paragraph",autocomplete:!0,icon:(0,a.P)(i.r.PARAGRAPH).name,category:E.BASICS,aliases:["plain",c.t("plain"),O]},{id:_.SlackShortcutCommandType.TABLE,name:(0,u.O)(i.r.TABLE),canonicalName:"/table",autocomplete:!0,icon:(0,a.P)(i.r.TABLE).name,category:E.BASICS,aliases:["table",c.t("grid"),c.t("spreadsheet"),O]},{id:_.SlackShortcutCommandType.DIVIDER,name:(0,u.O)(i.r.DIVIDER),canonicalName:"/divider",autocomplete:!0,icon:(0,a.P)(i.r.DIVIDER).name,category:E.BASICS,aliases:["divider",c.t("horizontal line"),O]},{id:_.SlackShortcutCommandType.BULLET_LIST,name:(0,u.O)(i.r.BULLET_LIST),canonicalName:"/bulletedlist",autocomplete:!0,icon:(0,a.P)(i.r.BULLET_LIST).name,category:E.BASICS,aliases:["list",O]},{id:_.SlackShortcutCommandType.ORDERED_LIST,name:(0,u.O)(i.r.ORDERED_LIST),canonicalName:"/orderedlist",autocomplete:!0,icon:(0,a.P)(i.r.ORDERED_LIST).name,category:E.BASICS,aliases:["list",O]},{id:_.SlackShortcutCommandType.BLOCKQUOTE,name:(0,u.O)(i.r.BLOCKQUOTE),canonicalName:"/blockquote",autocomplete:!0,icon:(0,a.P)(i.r.BLOCKQUOTE).name,category:E.BASICS,aliases:["blockquote",O]},...C?[{id:_.SlackShortcutCommandType.CALLOUT,name:(0,u.O)(i.r.CALLOUT),canonicalName:"/callout",autocomplete:!0,icon:(0,a.P)(i.r.CALLOUT).name,category:E.BASICS,aliases:["callout"]}]:[],{id:_.SlackShortcutCommandType.CODE,name:(0,u.O)(o.L.CODE),canonicalName:"/code",autocomplete:!0,icon:(0,a.P)(o.L.CODE).name,category:E.BASICS,aliases:["code",O]},{...N(_.SlackShortcutCommandType.DATE_GENERIC,(0,u.O)(i.r.DATE_MENTION),"/date"),aliases:["date",O]},{...N(_.SlackShortcutCommandType.DATE_TODAY,c.t("Today"),"/today",!0),aliases:["today"]},{...N(_.SlackShortcutCommandType.DATE_TOMORROW,c.t("Tomorrow"),"/tomorrow",!0),aliases:["tomorrow"]},{...N(_.SlackShortcutCommandType.DATE_YESTERDAY,c.t("Yesterday"),"/yesterday",!0),aliases:["yesterday"]},{...N(_.SlackShortcutCommandType.DATE_GENERIC,c.t("Reminder",{fallbackHash:"b87a1929f78bee9f6f3a2ac9e30465cd226ab5ec",fallbackHashNs:"slack_docs"}),"/reminder"),aliases:["reminder",O]},{id:_.SlackShortcutCommandType.VIDEO,name:(0,u.O)(i.r.VIDEO_CLIP),canonicalName:"/videoclip",autocomplete:!0,icon:(0,a.P)(i.r.VIDEO_CLIP).name,category:E.MEDIA,aliases:["video",L]},{id:_.SlackShortcutCommandType.AUDIO,name:(0,u.O)(i.r.AUDIO_CLIP),canonicalName:"/audioclip",autocomplete:!0,icon:(0,a.P)(i.r.AUDIO_CLIP).name,category:E.MEDIA,aliases:["audio",L]},{id:_.SlackShortcutCommandType.IMAGE,name:(0,u.O)(i.r.IMAGE),canonicalName:"/image",autocomplete:!0,icon:(0,a.P)(i.r.IMAGE).name,category:E.MEDIA,aliases:["image",L]},{id:_.SlackShortcutCommandType.FILE,name:(0,u.O)(i.r.FILE),canonicalName:"/file",autocomplete:!0,icon:"file",category:E.MEDIA,aliases:["file",L]},...I&&P?[{id:_.SlackShortcutCommandType.WORKFLOW,name:(0,u.O)(i.r.WORKFLOW,{experimentCanvasInsertWorkflowMenuGroupOn:I}),canonicalName:"/workflow",autocomplete:!0,icon:(0,a.P)(i.r.WORKFLOW).name,category:E.SLACK,aliases:["workflow",k]}]:[],...M?[{id:_.SlackShortcutCommandType.LIST,name:(0,u.O)(i.r.LIST),canonicalName:"/list",autocomplete:!0,icon:(0,a.P)(i.r.LIST).name,category:E.SLACK,aliases:["list",k]}]:[],{id:_.SlackShortcutCommandType.PROFILE,name:c.t("Profile"),canonicalName:"/profile",autocomplete:!0,icon:"user",category:E.SLACK,aliases:["user",k,c.t("user"),c.t("mention")]},{id:_.SlackShortcutCommandType.CHANNEL,name:c.t("Channel"),canonicalName:"/channel",autocomplete:!0,icon:"channel-add",category:E.SLACK,aliases:["channel",k]},{id:_.SlackShortcutCommandType.TWO_COLUMNS,name:(0,u.O)(i.r.LAYOUT_2_COLUMNS),canonicalName:"/twocolumns",autocomplete:!0,icon:(0,a.P)(i.r.LAYOUT_2_COLUMNS).name,category:E.LAYOUT,aliases:["layout",K]},{id:_.SlackShortcutCommandType.THREE_COLUMNS,name:(0,u.O)(i.r.LAYOUT_3_COLUMNS),canonicalName:"/threecolumns",autocomplete:!0,icon:(0,a.P)(i.r.LAYOUT_3_COLUMNS).name,category:E.LAYOUT,aliases:["layout",K]},{id:_.SlackShortcutCommandType.CODEBLOCK,name:(0,u.O)(i.r.CODE_BLOCK),canonicalName:"/codeblock",autocomplete:!0,icon:(0,a.P)(i.r.CODE_BLOCK).name,category:E.LAYOUT,aliases:["code",K]}]},"getCommandsV2");function v(f){return{...f,type:"client"}}m(v,"formatShortcut");const h=(0,t.Mz)([l.H7,f=>(0,r._Z)(f,"canvas_insert_workflow_menu")==="on",f=>(0,r._Z)(f,"canvas_callouts")==="on",f=>(0,r._Z)(f,"canvas_ai_inline_creation")==="on",f=>(0,g.teamHasFullListsAccess)(f),()=>(0,n.JK)(),(f,y)=>y],(f,y,I,C,D,M,P)=>d({currentTeam:f,experimentCanvasInsertWorkflowMenuGroupOn:y,experimentCanvasCalloutsGroupOn:I,experimentCanvasAiContentCreationGroupOn:C,teamHasListsAccess:D}).map(v).filter(b=>P||!b.hideOnEmptyQuery))},7102510068:(W,T,e)=>{"use strict";e.d(T,{A:()=>n,h:()=>s});var t=e(3262078016);const s=[{regExp:/https:\/\/(.+?)(\.dev[0-9]*?|\.staging)?\.slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}\/p([0-9]+)(?:\?thread_ts=[0-9]+\.[0-9]+&cid=(?:C|G|D)[A-Z0-9]{8,})?/,urlType:t.CollabUrlType.SLACK_MESSAGE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+\.(jpe?g|png|gif)$/,urlType:t.CollabUrlType.SLACK_IMAGE_FILE},{regExp:/https:\/\/(.+?)(\.(dev[0-9]+?|\w+?))?(\.[\w-]+?)?\.slack\.com\/(files\/(\w+?)\/F[A-Z0-9]{8,14}|files-pri\/(\w+-F[A-Z0-9]{8,14}))\/[^/\s]+/,urlType:t.CollabUrlType.SLACK_FILE},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/(?:docs|canvas)\/([^/]+?)(?:\/(F[A-Z0-9]{8,}).*?)?(?:\?focus_section_id=[^=#\s&]+)(?:&([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT_SECTION},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/docs\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_DOCUMENT},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/team\/(U|W)[A-Z0-9]{8,}/,urlType:t.CollabUrlType.SLACK_USER},{regExp:/https:\/\/((.+?)(\.dev[0-9]*?|\.staging)?\.)?slack\.com\/archives\/(C|G|D)[A-Z0-9]{8,}$/,urlType:t.CollabUrlType.SLACK_CHANNEL},{regExp:/https:\/\/((dev|qa|staging|staging-master)([0-9]+?)?\.)?(slack|slack-gov|slack-gov-dev)\.com\/shortcuts\/Ft[A-Za-z0-9_-]+?\/([A-Za-z0-9_-]{32})/,urlType:t.CollabUrlType.SLACK_WORKFLOW},{regExp:/https:\/\/(([a-zA-Z0-9-](.enterprise)?)+?)(.dev[0-9]+?|.dev)?.slack.com\/lists\/([^/]+?)\/(F[A-Z0-9]{8,}).*?(?:\?([^#\s]*))?(?:#([\S]*))?/,urlType:t.CollabUrlType.SLACK_LIST}];let n=m(class{constructor(){this.supportedUrlParsers=s}},"QuipUrlParsersProvider")},9121476043:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(6304789565),s=e(9536404279),n=e(10127715),r=e(7606781622),u=e(3164289453),i=e(3110884894);const o=(0,t.Ay)("Remove a message and its timestamp",function(_,l){let{channelId:p,ts:g,threadTs:c,broadcastDelete:E=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(!p||!g))if(E)_((0,n.E$)({channelId:p,ts:g}));else{_((0,s.Np)({channelId:p,timestamp:g}));const A=!1,d=(0,r.Ld)(l(),p,g,A),v=d&&d.thread_ts||c;if(v){const h=(0,i.Iu)(p,v)||"";_((0,s.Np)({channelId:h,timestamp:g}))}_((0,n.QN)({message:{channel:p,ts:g}})),_((0,u.A)({channelId:p,item:d}))}});o.meta={name:"createThunk",key:"createThunkremoveMessageAndTimestamp",description:"Remove a message and its timestamp"};const a=o},3164289453:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3297051565),s=e.n(t),n=e(2140362605);const r=(0,n.Ay)("(noop) Remove a pinned item via side-effect");r.meta={name:"createAction",key:"createActionremovePinnedItemCircular",description:"(noop) Remove a pinned item via side-effect"},r.propTypes=s().shape({item:s().object.isRequired,channelId:s().string.isRequired}).isRequired;const u=r},8391820676:(W,T,e)=>{"use strict";e.d(T,{A:()=>O});var t=e(1545824888),s=e(6696292586),n=e(8086952004),r=e(12126472),u=e(3398586081),i=e(5950652755),o=e(6304789565),a=e(6533394955),_=e(5795074931),l=e(8847766420),p=e(2155512519),g=e(1116859610),c=e(9101533895),E=e(9536404279),A=e(1407713935),d=e(1581380967),v=e(3110884894),h=e(10127715),f=e(3087402890),y=e(6704899486),I=e(337319621),C=e(8802876335);const D=1e3,M=m((k,K,N)=>{if(K==="Vall_threads")return(0,a.Qw)(k,(0,f.r8)()),t.K.resolve();const R=!1,U=(0,c.OL)((0,a.$D)(k),K,R);if(!U)return t.K.resolve();if(N)return P(k,K,N);const x=(0,A.mz)(U);return(0,a.Qw)(k,(0,p.Ay)({channelId:K,type:x,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:B,hasMore:F,isLimited:V,pinCount:Y,deleted:w}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const G=(0,a.$D)(k);(0,C.UJ)(G)&&!(0,y.N)(G,K)&&!(0,y.N)(G,(0,_.WR)(G))||((0,a.Qw)(k,(0,E.Jt)({channelId:K})),(0,a.Qw)(k,(0,g.A)({msgs:B,channelId:K,isLimited:V,pinCount:Y,hasMore:{hasMoreStart:F,hasMoreEnd:!1},oldest:null,latest:null,deleted:w})),(0,s.A)(Y)&&(0,a.Qw)(k,(0,d.K)({channelId:K,count:Y})))}).catch(B=>{(0,I.Ay)({state:(0,a.$D)(k)}).error(`Failed to fetch offline history for ${K}: ${B}`)})},"fetchOfflineHistory");function P(k,K,N){const R=(0,v.Iu)(K,N);return(0,a.Qw)(k,(0,p.$b)({channelId:K,threadTs:N,oldest:null,latest:null,reason:"requestOfflineHistory"})).then(function(){let{msgs:U,deleted:x,hasMore:B}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const F=(0,a.$D)(k);if((0,C.UJ)(F)&&!(0,y.N)(F,K)&&!(0,y.N)(F,(0,_.WR)(F)))return;let V=U;const Y=(0,n.A)(U,{ts:N});B&&(V=(0,r.A)(U,{ts:N})),(0,a.Qw)(k,(0,E.Jt)({channelId:R})),(0,a.Qw)(k,(0,g.A)({msgs:V,channelId:R,hasMore:{hasMoreStart:B,hasMoreEnd:!1},oldest:null,latest:null,deleted:x})),Y&&(0,a.Qw)(k,(0,h.Kc)([Y]))})}m(P,"fetchOfflineHistoryForThread");const S=(()=>{const k=(0,u.A)(()=>(0,i.A)(M,D),function(){for(var K=arguments.length,N=new Array(K),R=0;R<K;R++)N[R]=arguments[R];return JSON.stringify(N)});return function(){for(var K=arguments.length,N=new Array(K),R=0;R<K;R++)N[R]=arguments[R];return k(...N)(...N)}})(),b=(0,o.Ay)("Request offline history",function(k,K){let{channelId:N,threadTs:R}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return S((0,l.ZT)(K()),N,R)});b.meta={name:"createThunk",key:"createThunkrequestOfflineHistory",description:"Request offline history"},b.propTypes={};const O=b,L={fetchOfflineHistory:M,fetchOfflineHistoryForThread:P}},5487781258:(W,T,e)=>{"use strict";e.d(T,{NU:()=>X,e8:()=>J,Ay:()=>De,IY:()=>re});var t=e(2003990933),s=e(7174777686),n=e(3571452446),r=e(1649982175),u=e(3110884894),i=e(5795074931),o=e(8847766420),a=e(9536404279),_=e(9101533895),l=e(10127715),p=e(6483201417),g=e(6704899486),c=e(6304789565),E=e(337319621),A=e(7578434623),d=e(3855029223),v=e(8872992289),h=e(4744405580),f=e(3430841143),y=e(2664504268),I=e(662226046),C=e(9121476043),D=e(8391820676),M=e(7715417323),P=e(1545824888),S=e(6580433553),b=e(6533394955),O=e(2872463257);const L={},k="cse-message-send",K="cse-message-send";let N=m(class{_send(){var Z;const{message:ie,trace:Ce,parentSpanId:Re}=this._activeRequest||{};(0,E.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Sending message with clientMsgId ${ie==null?void 0:ie.client_msg_id}`);const He=m(()=>{var be;return(be=this._store)===null||be===void 0?void 0:be.dispatch((0,S.A)({message:ie,traceId:Ce==null?void 0:Ce.getTraceId(),parentSpanId:Re}))},"postMessageP");return(Z=this._maybeTraceMessageSend(He))===null||Z===void 0?void 0:Z.then(this._activeRequest?this._activeRequest.resolve:M.A).catch(this._activeRequest?this._activeRequest.reject:M.A).finally(()=>this.resolve(ie))}_next(){if(this._activeRequest||!this._queue.length)return!1;this._activeRequest=this._queue.shift();const{messageEnqueueSpan:Z}=this._activeRequest||{};return Z==null||Z.addTags({count:this._queue.length}),Z==null||Z.close(),this._send(),(0,E.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Shifting queue, now has ${this._queue.length} messages`),!0}_maybeTraceMessageSend(Z){var ie;if(!this.shouldTraceMessageSend())return Z();const Ce=(ie=this._tracer)===null||ie===void 0?void 0:ie.createTrace({traceName:k,tags:{event_type:"/api/chat.postMessage"},samplingOptions:{sampleType:O.nl.ALWAYS}}),Re=m(()=>{var be;Ce&&((be=this._tracer)===null||be===void 0||be.clearTrace(Ce))},"onResolve"),He=m((be,Ue)=>{var me;const ve={state:O.$m.ERROR};Ue.status&&(ve.status=Ue.status),Ue.message&&(ve.message=Ue.message),Ue.data&&Ue.data.error&&(ve.reason=Ue.data.error),be==null||be.addTags(ve),be==null||be.close(),Ce&&((me=this._tracer)===null||me===void 0||me.reportTrace(Ce))},"onError");return Ce==null?void 0:Ce.traceFn({name:K,onError:He,onResolve:Re},Z)}enqueue(Z){let{trace:ie,parentSpanId:Ce}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new P.S((Re,He)=>{const be=ie==null?void 0:ie.startSpan("message_send_attempt:enqueue",{parentSpanId:Ce});this._queue.push({message:Z,messageEnqueueSpan:be,trace:ie,parentSpanId:Ce,resolve:Re,reject:He}),(0,E.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Enqueueing message with clientMsgId ${Z.client_msg_id}, queue has ${this._queue.length} messages`),this._next()})}resolve(Z){return!Z||!this._activeRequest||!this._activeRequest.message||Z.client_msg_id!==this._activeRequest.message.client_msg_id?!1:((0,E.Ay)({teamId:this._teamId}).action("MESSAGE-Q",`Resolving active request with clientMsgId ${Z.client_msg_id}`),this._activeRequest=null,this._next())}shouldTraceMessageSend(){return this._tracer}constructor(Z){if(!Z)throw new Error("MessageQueue requires a teamId.");if(this._teamId=Z,this._activeRequest=null,this._queue=[],this._store=(0,b.oK)(Z),!this._store)throw new Error(`MessageQueue requires a store; No store matching ${Z} found.`);const ie=this._store.getState();this._tracer=(0,d.E)({state:ie})}},"MessageQueue");function R(ae){return L[ae]||(L[ae]=new N(ae)),L[ae]}m(R,"getInstance");const U={MESSAGE_SEND_TRACE_LABEL:k,MESSAGE_SEND_SPAN_LABEL:K};var x=e(9781145568),B=e(8802876335),F=e(5345057011),V=e(5774398667),Y=e(4177200783),w=e(7759525289),G=e(4761125736);const Ee=6,ne=7,se=8,ce="restricted_action_read_only_channel",pe="restricted_action_thread_only_channel",ye="restricted_action_non_threadable_channel",Ie="ekm_access_denied",Se="dlp_user_warning",le="message_limit_exceeded";var X;(function(ae){ae.BLOCK_FILES_LINK_TYPE="slack_connect_file_link_sharing_blocked",ae.BLOCK_CANVAS_CONTAIN_FILES_TYPE="slack_connect_canvas_contain_file_sharing_blocked",ae.BLOCK_CANVAS_CONTAIN_EMBEDDED_FILES_TYPE="slack_connect_canvas_contain_embedded_files_blocked",ae.BLOCK_LIST_CONTAIN_FILES_TYPE="slack_connect_list_contain_file_sharing_blocked"})(X||(X={}));var J;(function(ae){ae.SLACK_CONNECT_CANVAS_SHARING_BLOCKED="slack_connect_canvas_sharing_blocked",ae.SLACK_CONNECT_FILE_UPLOAD_SHARING_BLOCKED="slack_connect_file_upload_sharing_blocked",ae.SLACK_CONNECT_TEAM_BLOCKED="slack_connect_team_blocked"})(J||(J={}));function z(ae,Z){ae((0,l.Kc)([Z]));const ie={channelId:Z.channel,timestamps:[Z.ts],oldest:Z.ts,hasMore:!1,append:!0};if(ae((0,a.VG)(ie)),Z.thread_ts){const Ce=(0,u.Iu)(Z.channel,Z.thread_ts);ae((0,a.VG)({...ie,channelId:Ce}))}}m(z,"addMsgToEnd");const te={};function $(ae,Z,ie){te[ae]||(te[ae]={}),te[ae][Z]=ie}m($,"addResolutionTimer");function q(ae,Z){!te[ae]||!te[ae][Z]||(clearTimeout(te[ae][Z]),delete te[ae][Z])}m(q,"cancelResolutionTimer");function re(ae,Z,ie,Ce){const Re=(0,o.ZT)(ae())||"",He=(0,V.I)(ae(),Ce.client_msg_id);if(He){(0,E.Ay)({getState:ae}).action("MESSAGE",`Resolved a message with clientMsgId ${Ce.client_msg_id} in ${ie.channel} with ts ${Ce.ts}`),Z((0,F.s)(He.clientMsgId)),q(Re,He.clientMsgId),Z((0,C.A)({channelId:He.channelId,ts:He.ts}));const be=!1;(0,_.OL)(ae(),ie.channel,be)&&Z((0,x.A)({channelId:ie.channel,msgTs:ie.ts,resent:!1}))}R(Re).resolve(Ce)}m(re,"resolveMessage");const de="cse-message-send:send",oe=(0,c.Ay)("Send a message",(ae,Z,ie)=>{let{messageSendTrace:Ce,notificationTracePassthroughData:Re,skipDLPUserWarning:He,...be}=ie;const Ue=(0,d.E)({getState:Z});let me,ve;Ce&&(me=Ce.startSpan("message_send_attempt:send"),ve=Ce.startSpan("message_send_attempt:placeholder",{parentSpanId:me==null?void 0:me.getId()}));const Fe=Ue.createMetricsTrace({label:"cse-message-send"});Fe.count({name:de,label:"pending"}),Ue.reportTrace(Fe);const Ke=(0,v.A)(1),{channel:j,reply_broadcast:ee,thread_ts:je,client_msg_id:Te,xArgs:Je}=be,Ae=(0,E.Ay)({getState:Z}),Me=(0,o.ZT)(Z())||"",we=je?{_hidden_reply:!0,_was_reply_broadcast:ee}:null,Ge=Te||(0,y.A)();Re&&(0,I.qe)(Z(),{notificationTracePassthroughData:Re,clientMsgId:Ge});const Qe=(0,G._Z)(Z(),"fe_message_rendering_perf_m1")==="on",fe=be.blocks,Ve={...be,...we,user:(0,i.WR)(Z()),showResend:!1,showCancel:!1,is_pending:!0,client_msg_id:Ge,blocksProcessed:(0,w.R)({blocks:fe,experimentFeMessageRenderingPerfM1GroupOn:Qe})};Ae.action("MESSAGE",`Sent a message to ${j} via HTTP, clientMsgId: ${Ge}`);const Be={...be,...Je,include_channel_perm_error:!0,client_msg_id:Ge,skip_dlp_user_warning:He};Ke&&$(Me,Ge,window.setTimeout(()=>{if((0,V.I)(Z(),Ve.client_msg_id)){const et=Z();(0,B.UJ)(et)&&(0,A.Cy)({state:et}).count("msg_send_placeholder_not_resolved_connected_60s")}},1e3*60));const Ye=R((0,o.ZT)(Z())||"").enqueue(Be,{trace:Ce,parentSpanId:me==null?void 0:me.getId()});return z(ae,Ve),ae((0,F.T)({clientMsgId:Ve.client_msg_id,channelId:Ve.channel,ts:Ve.ts})),je||ae((0,p.A)({ts:null})),ve==null||ve.close(),Ye.tap(()=>{const et=Z();(!(0,B.UJ)(et)||(0,g.N)(et,j)||(0,g.N)(et,(0,i.WR)(et)))&&(ae((0,D.A)({channelId:j,threadTs:je})),ee&&ae((0,D.A)({channelId:j}))),Fe.count({name:de,label:"success"}),Ue.reportTrace(Fe),Ce&&(Ce.addTags({success:!0}),me==null||me.close(),Ue.reportTrace(Ce))}).catch(et=>{const at=(0,t.A)(et,"data.error"),gt=(0,t.A)(et,"data.dlp_custom_message");Fe.count({name:de,label:"failure"}).setTag("error",at||(et==null?void 0:et.message)),Ue.reportTrace(Fe);const Mt=at===Ie,Bt=at===Se,Ct=at===le,Ft=Object.values(J).includes(at)?at:void 0,kt=Object.values(X).includes(at)?at:void 0;if(!at&&!(0,V.I)(Z(),Ve.client_msg_id)){Ae.info("MESSAGE","Ignoring non-backend chat.postMessage error since the message already came in over socket");return}let Et=!0;const mt=!0,Rt=[Ee,ne,se,ce,pe,ye];if((0,s.A)(Rt,at)){const Pt="posting_permission_send_message_error";ae((0,h._)({channel:j,reason:Pt})).then(Kt=>{!Kt||!Kt.channel||ae((0,f.F)({channel:Kt.channel,reason:Pt}))}),Et=!1}Mt&&(Et=!1),kt&&(Et=!1),Ct&&(Et=!1,ae((0,Y.A)())),Ft&&(Et=!1);const Ht="Message failed to send",ft=(0,n.A)(et,["status","retryAfter","attempts","data.ok","data.error","args._x_reason","args.channel","args.ts","args.thread_ts","args.reply_broadcast"]);ft.client_msg_id=Ge,ft.channel=j,ft.thread_ts=je;const Jt=et&&et.status===429?"message_send_ratelimit":"message_send_fail";Ae.error(ft instanceof Error?ft:new Error(Ht),`${Ht}: ${at} | ${JSON.stringify(ft)}`,{subtype:Jt});const Zt=at?(0,r.A)(ft,["response"]):et;Ae.error("MESSAGE",Ht,at,Zt);const Tt={...Ve,showResend:Et,showCancel:mt,isEKMError:Mt,isDLPUserWarningError:Bt,canvasSharingError:Ft,blockFileLinkSharingError:kt,dlpCustomMessage:gt};(0,V.I)(Z(),Ve.client_msg_id)?ae((0,l.Kc)([Tt])):z(ae,Tt),!Et&&Ke&&q(Me,Ve.client_msg_id),Ce&&(Et?(Ce.addTags({success:!1}),me==null||me.close(),Ue.reportTrace(Ce)):Ue.clearTrace(Ce))})});oe.meta={name:"createThunk",key:"createThunksendMessage",description:"Send a message"};const De=oe},5363983309:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(3134334389),s=e(9338147070),n=e(6304789565),r=e(6533394955),u=e(8847766420),i=e(2567914105),o=e(2375333597),a=e(8726613433),_=e(3255440563),l=e(4518410378);function p(){return p=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var d=arguments[A];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(E[v]=d[v])}return E},p.apply(this,arguments)}m(p,"_extends");const c=m((E,A)=>(0,n.Ay)(`XWS open ${E.displayName} modal`,(d,v,h,f)=>{const{modalName:y,allowMultiple:I=!0,isStackable:C=!1,renderInChildWindow:D=!1}=A||{};let M,P=D;const S=f(_.C);if((S==null?void 0:S.windowRef.deref())!==l.J&&(S!=null&&S.windowId)&&(P=!0,M=S.windowId),!I&&y&&(0,i.wc)(v(),M).find(U=>{let{name:x}=U;return x===y}))return;const b=(0,u.ZT)(v()),O=(0,a.vB)(v()),L=(0,r.oK)(b);let k,K=t.createElement(E,p({},h,{closeModal:()=>k==null?void 0:k()}));P||(K=t.createElement(s.Kq,{store:L},K));let N;return P?N=d((0,o.q)({element:K,name:y||void 0,isStackable:C})):N=(0,r.Qw)(O,(0,o.q)({element:K,name:y||void 0,isStackable:C})),k=N==null?void 0:N.close,N}),"createXWSModalThunk")},7206394193:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(8571983633),s=e(9686962598),n=e(3812058736),r=e(1527536225),u=e(5219503691);const i=(0,r.Ay)("Logs helpful messages to the console if you do something incorrect",(a,_,l)=>{if((0,t.A)(l)||(0,s.A)(l))return u.Qs&&(0,n.z3)("It looks like you dispatched null or undefined, instead of an action or a thunk. Check the stack trace of this error to see where this mistake is occurring."),null;if(l.isThunkCreator||l.isActionCreator){if(u.Qs){const p=l.isThunkCreator?"thunk":"action",g=l.meta?l.meta.name:`${p}Creator`;(0,n.z3)(`
	It looks like you dispatched a ${p} creator instead of the ${p} itself!
	This is a common mistake, and the solution is to call dispatch(${g}(payload)) instead of just dispatch(${g}), note the extra parens at the end.
				`)}return null}return(0,u.ZR)(l),_(l)});i.meta={name:"createMiddleware",key:"createMiddlewarehelpfulMessagingMiddleware",description:"Logs helpful messages to the console if you do something incorrect"};const o=i},773865333:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(862210999),s=e(337319621),n=e(2878685908),r=e(1527536225),u=e(2028988448);let i=[];const o=(0,s.Wo)(),a=(0,r.Ay)("Allows devs to get console logging or trigger breakpoints when state they care about changes",(g,c,E)=>{const A=[],d=g.getState();i.forEach(f=>{A.push(f(d,E))});const v=c(E),h=g.getState();return i.forEach((f,y)=>{const I=f(h,E);if(A[y]!==I){const C=["Redux Watcher:",`Value has changed! 
Action: `,E,`
Before: `,A[y],`
After:  `,I];if(A[y]!==void 0&&I!==void 0){const D=A[y]===void 0?{}:A[y],M=I===void 0?{}:I;C.push(`
Diff: `,Object.keys({...D,...M}).filter(P=>D[P]!==M[P]).map(P=>({key:P,before:D[P],after:M[P]})))}if(o.warn(...C),(0,n.Cu)()||(0,n.b3)())debugger}}),v});a.meta={name:"createMiddleware",key:"createMiddlewarereduxWatcherMiddleware",description:"Allows devs to get console logging or trigger breakpoints when state they care about changes"};const _=a;function l(g){if(!(0,t.A)(g)){o.error("watcherFn passed in to addWatcher must be a function");return}i.push(g)}m(l,"addWatcher");function p(){i=[]}m(p,"clearAllWatchers"),(0,u.ul)("reduxWatcher",{addWatcher:l,clearAllWatchers:p})},7156104699:(W,T,e)=>{"use strict";e.d(T,{N:()=>g,A:()=>p});var t=e(1527536225),s=e(6152845331),n=e(3009309149);const r=(0,n.Ay)(c=>{var E;return c==null||(E=c.sideEffects)===null||E===void 0?void 0:E.sideEffectsMap});r.meta={name:"createSelector",key:"createSelectorgetSideEffectsMap",description:c=>{var E;return c==null||(E=c.sideEffects)===null||E===void 0?void 0:E.sideEffectsMap}};const u=(0,n.Ay)(c=>{var E;return c==null||(E=c.clientSideEffects)===null||E===void 0?void 0:E.clientSideEffectsMap});u.meta={name:"createSelector",key:"createSelectorgetClientSideEffectsMap",description:c=>{var E;return c==null||(E=c.clientSideEffects)===null||E===void 0?void 0:E.clientSideEffectsMap}};var i=e(337319621),o=e(1545824888);function a(){return(0,t.Ay)("Handle client side effects",(c,E,A)=>{var d;if(!((d=A.__test)===null||d===void 0)&&d.disableSideEffects)return E(A);const v=c.getState(),h=u(v);return l({store:c,action:A,sideEffectsMap:h}),E(A)})}m(a,"createClientSideEffectsMiddleware");function _(){return(0,t.Ay)("Handle side effects",(c,E,A)=>{var d;if(!((d=A.__test)===null||d===void 0)&&d.disableSideEffects)return E(A);const v=c.getState(),h=r(v);return l({store:c,action:A,sideEffectsMap:h}),E(A)})}m(_,"createSideEffectsMiddleware");function l(c){let{store:E,action:A,sideEffectsMap:d}=c;const v=d&&d[A.type],h=m(f=>((0,s.S$)(A,f),E.dispatch(f)),"wrappedDispatch");v!=null&&v.length&&o.S.resolve().then(()=>{v.forEach(f=>{if(!f)return;const{thunk:y}=f;try{h(y(A))}catch(I){(0,i.Ay)({getState:E.getState}).error("SIDE-EFFECTS",`Error in side effect for '${A.type}'`,I,{subtype:"side_effect_error"})}})})}m(l,"runSideEffects");const p=_(),g=a()},582577127:(W,T,e)=>{"use strict";e.d(T,{g:()=>s});var t=e(3371371503);function s(n){const i={sideEffectsMap:{},clientSideEffectsMap:{}};return!n||!n.length?i:n.reduce((o,a)=>{const{actions:_,scope:l}=a;let p;switch(l){case t.RE.client:p=o.clientSideEffectsMap;break;default:case t.RE.workspace:p=o.sideEffectsMap;break}return _.forEach(g=>{var c;const E=g==null||(c=g.getType)===null||c===void 0?void 0:c.call(g);E&&(p[E]=p[E]||[],p[E].push(a))}),o},i)}m(s,"generateSideEffectsMaps")},2732935554:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(9139930183),s=e(1004520977);const n={hasKeyboardFocus:!1},u=(0,t.Ay)({},n,{storeKey:"accessibilityPersistent",persistenceEnabled:!0,persistImmediately:!0}).on(s.w,function(i){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return i.hasKeyboardFocus===o?i:{...i,hasKeyboardFocus:o}})},5105455463:(W,T,e)=>{"use strict";e.d(T,{As:()=>u,N9:()=>s,V_:()=>n,WB:()=>l,X8:()=>r,bb:()=>a,c7:()=>p,dH:()=>o,lf:()=>_,og:()=>t,rf:()=>i});const t="(prefers-contrast: more)",s="useAriaApplicationForListViews",n="composerUpArrowShortcutBehavior",r="messageTextLineSpacing",u="messageSpacing",i="messageTextWordSpacing",o="conversationIncomingMessageSound",a="conversationSentMessageSound",_="conversationIncomingMessageAnnouncement",l="peeksEnabledOnMouseEnter",p=!0},3034787354:(W,T,e)=>{"use strict";e.d(T,{A:()=>D});var t=e(9323322135),s=e(8646192222),n=e(9139930183),r=e(25586007),u=e(5105455463),i=e(8439865561),o=e(9733150292);let a=!1;(0,s.Nu)()?a=window.matchMedia(u.og).matches:(0,s.hk)()&&(a=(0,t.oQe)("settings","shouldUseHighContrastColors"));let _=!1;try{_=!!(0,o.W6)(u.N9)}catch{}let l;try{l=(0,o.W6)(u.V_)}catch{}let p;try{p=(0,o.W6)(u.X8)||1}catch{}let g;try{g=(0,o.W6)(u.As)||1}catch{}let c;try{c=(0,o.W6)(u.rf)||"0"}catch{}let E;try{var A;E=(A=(0,o.W6)(u.dH))!==null&&A!==void 0?A:""}catch{E=""}let d;try{var v;d=(v=(0,o.W6)(u.bb))!==null&&v!==void 0?v:""}catch{d=""}let h;try{h=(0,o.W6)(u.lf)}catch{h=void 0}let f;try{var y;f=(y=(0,o.W6)(u.WB))!==null&&y!==void 0?y:u.c7}catch{f=u.c7}const I={screenReaderEnabled:!1,shouldUseHighContrastColors:a,useARIAApplicationForListViews:_,composerUpArrowShortcutBehavior:l,messageTextLineSpacing:p,messageSpacing:g,messageTextWordSpacing:c,conversationIncomingMessageSound:E,conversationSentMessageSound:d,conversationIncomingMessageAnnouncement:h,peeksEnabledOnMouseEnter:f},D=(0,n.Ay)({},I,{storeKey:"accessibility",persistenceEnabled:!1}).on(i.rl,(M,P)=>P!=null&&P.message?{...M,announcerAPIAnnouncement:P}:M).on(i.Jq,(M,P)=>typeof P!="boolean"||P===M.screenReaderEnabled?M:{...M,screenReaderEnabled:P}).on(i.N,function(M){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return typeof P!="boolean"||P===M.shouldUseHighContrastColors?M:{...M,shouldUseHighContrastColors:P}}).on(i.KQ,function(M){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...M,useARIAApplicationForListViews:P}}).on(i.Tv,function(M){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.v.LIST;return{...M,composerUpArrowShortcutBehavior:P}}).on(i.C_,function(M){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...M,messageTextLineSpacing:P}}).on(i.XE,function(M){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return{...M,messageSpacing:P}}).on(i.Mq,function(M){let P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"0";return{...M,messageTextWordSpacing:P}}).on(i.Sr,(M,P)=>({...M,conversationIncomingMessageSound:P})).on(i.mw,(M,P)=>({...M,conversationSentMessageSound:P})).on(i.Ap,(M,P)=>({...M,conversationIncomingMessageAnnouncement:P})).on(i.V_,(M,P)=>({...M,peeksEnabledOnMouseEnter:P}))},2633701976:(W,T,e)=>{"use strict";e.d(T,{p:()=>i});var t=e(6304789565),s=e(4134037340),n=e(5105455463),r=e(8439865561),u=e(9733150292);const i=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(o,a,_)=>{if((0,s.A)(a()))try{(0,u.q9)(n.lf,_)}catch{}o((0,r.Ap)(_))});i.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageAnnouncement",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"}},2517531287:(W,T,e)=>{"use strict";e.d(T,{R:()=>i,r:()=>o});var t=e(6304789565),s=e(4134037340),n=e(5105455463),r=e(8439865561),u=e(9733150292);const i=(0,t.Ay)("Set the pref for the sound that plays when a message arrives to the focused conversation",(a,_,l)=>{if((0,s.A)(_()))try{(0,u.q9)(n.dH,l)}catch{}a((0,r.Sr)(l))});i.meta={name:"createThunk",key:"createThunksetPersistentConversationIncomingMessageSound",description:"Set the pref for the sound that plays when a message arrives to the focused conversation"};const o=(0,t.Ay)("Set the pref for the sound that plays when a message is sent to the focused conversation",(a,_,l)=>{if((0,s.A)(_()))try{(0,u.q9)(n.bb,l)}catch{}a((0,r.mw)(l))});o.meta={name:"createThunk",key:"createThunksetPersistentConversationSentMessageSound",description:"Set the pref for the sound that plays when a message is sent to the focused conversation"}},25586007:(W,T,e)=>{"use strict";e.d(T,{v:()=>t});var t;(function(s){s[s.LIST=1]="LIST",s[s.LIST_IF_EMPTY=2]="LIST_IF_EMPTY",s[s.EDIT=3]="EDIT"})(t||(t={}))},330343856:(W,T,e)=>{"use strict";e.d(T,{D_:()=>u,H9:()=>r,ZU:()=>n,h_:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Sets the active view mode for the agent home DM view");s.meta={name:"createAction",key:"createActionsetAgentHomeViewMode",description:"Sets the active view mode for the agent home DM view"};const n=(0,t.Ay)("Sets the active thread ts for the agent home DM view");n.meta={name:"createAction",key:"createActionsetAgentHomeActiveThread",description:"Sets the active thread ts for the agent home DM view"};const r=(0,t.Ay)("Sets the state for the split view window");r.meta={name:"createAction",key:"createActionsetAgentSplitViewChannelId",description:"Sets the state for the split view window"};const u=(0,t.Ay)("Indicates if we are loading or not for the active view mode, only applies for active conversation");u.meta={name:"createAction",key:"createActionsetAgentHomeViewModeLoading",description:"Indicates if we are loading or not for the active view mode, only applies for active conversation"}},195568024:(W,T,e)=>{"use strict";e.d(T,{T:()=>c});var t=e(6304789565),s=e(6224506772),n=e(3255440563),r=e(7772733070),u=e(4117634716),i=e(8822892075),o=e(330343856),a=e(9237921682),_=e(9629572172),l=e(352142497),p=e(3193155968),g=e(1771500940);const c=(0,t.Ay)("Based on which toggles are active, navigates to the proper agent home",async(E,A,d,v)=>{let{channelId:h,threadTs:f,isSplitView:y}=d;const I=A(),C=v(n.C),{getPrimaryView:D}=v(_.U),M=D(I),P=(0,s.oO)(I),S=(0,s.eF)(I),b=y?p.N2:C.windowId;P&&S?(f?(E((0,o.h_)({channelId:h,viewMode:a.x.ACTIVE_CONVERSATION,isSplitView:y,windowId:b})),E((0,o.ZU)({channelId:h,threadTs:f,isSplitView:y,windowId:b}))):(E((0,o.h_)({channelId:h,viewMode:a.x.NEW_CONVERSATION,isSplitView:y,windowId:b})),E((0,o.ZU)({channelId:h,threadTs:void 0,isSplitView:y,windowId:b}))),y?(E((0,o.H9)({channelId:h})),E((0,u.o)((0,g.b)((0,i.EA)({channelId:h,threadTs:f},!0))))):E((0,u.o)((0,i.JZ)({channelId:h,tabId:r.K.Messages,forceTab:(M==null?void 0:M.viewType)===l.D.Agents?p.k6.Agents:void 0})))):E((0,u.o)((0,i.EA)({channelId:h,threadTs:f})))});c.meta={name:"createThunk",key:"createThunknavigateToAgentHome",description:"Based on which toggles are active, navigates to the proper agent home"}},3087402890:(W,T,e)=>{"use strict";e.d(T,{FX:()=>i,X5:()=>u,ZY:()=>c,cD:()=>_,cQ:()=>l,cw:()=>a,dj:()=>p,fe:()=>r,hc:()=>E,lB:()=>g,qK:()=>s,r8:()=>o,s2:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Set the thread root keys");s.meta={name:"createAction",key:"createActionsetThreads",description:"Set the thread root keys"};const n=(0,t.Ay)("Append more thread root keys");n.meta={name:"createAction",key:"createActionappendThreads",description:"Append more thread root keys"};const r=(0,t.Ay)("Insert a thread at the beginning");r.meta={name:"createAction",key:"createActionprependThread",description:"Insert a thread at the beginning"};const u=(0,t.Ay)("Increments totalUnreadReplies");u.meta={name:"createAction",key:"createActionincrementTotalUnreadReplies",description:"Increments totalUnreadReplies"};const i=(0,t.Ay)("Sets totalNewThreads to 0");i.meta={name:"createAction",key:"createActionclearTotalNewThreads",description:"Sets totalNewThreads to 0"};const o=(0,t.Ay)("Increments allThreadsRefreshCounter");o.meta={name:"createAction",key:"createActionincrementAllThreadsRefreshCounter",description:"Increments allThreadsRefreshCounter"};const a=(0,t.Ay)("Set the thread key that should be focused");a.meta={name:"createAction",key:"createActionsetFocusRequestedThreadKey",description:"Set the thread key that should be focused"};const _=(0,t.Ay)("Set the thread timestamp that should be focused");_.meta={name:"createAction",key:"createActionsetFocusRequestedReplyTs",description:"Set the thread timestamp that should be focused"};const l=(0,t.Ay)("Add a thread key to an array of threads that were manually marked unread");l.meta={name:"createAction",key:"createActionappendThreadToManuallyMarkedUnread",description:"Add a thread key to an array of threads that were manually marked unread"};const p=(0,t.Ay)("set object of threads that have been manually marked as unread");p.meta={name:"createAction",key:"createActionsetManuallyMarkedThreads",description:"set object of threads that have been manually marked as unread"};const g=(0,t.Ay)("Remove a thread key from an array of threads that were manually marked unread");g.meta={name:"createAction",key:"createActionremoveThreadFromManuallyMarkedUnread",description:"Remove a thread key from an array of threads that were manually marked unread"};const c=(0,t.Ay)("Sets manuallyMarkedUnread to empty");c.meta={name:"createAction",key:"createActionclearThreadsFromManuallyMarkedUnread",description:"Sets manuallyMarkedUnread to empty"};const E=(0,t.Ay)("Sets selected tab in threads view");E.meta={name:"createAction",key:"createActionsetSelectedTab",description:"Sets selected tab in threads view"}},6082887833:(W,T,e)=>{"use strict";e.d(T,{S:()=>s});var t=e(3009309149);const s=(0,t.Ay)((n,r)=>n.ambientMessages[r]);s.meta={name:"createSelector",key:"createSelectorgetAmbientMessage",description:(n,r)=>n.ambientMessages[r]}},8778137680:(W,T,e)=>{"use strict";e.d(T,{DQ:()=>u,Lm:()=>o,RZ:()=>_,S:()=>c,X$:()=>r,_y:()=>l,c6:()=>p,fv:()=>i,rk:()=>n,yT:()=>g,z7:()=>a,zZ:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Set Awareness State for another user");s.meta={name:"createAction",key:"createActionsetAwarenessStateForOtherUser",description:"Set Awareness State for another user"};const n=(0,t.Ay)("Set Awareness State for me");n.meta={name:"createAction",key:"createActionsetMyAwarenessState",description:"Set Awareness State for me"};const r=(0,t.Ay)("Remove Awareness State for me");r.meta={name:"createAction",key:"createActionremoveMyAwarenessState",description:"Remove Awareness State for me"};const u=(0,t.Ay)("Clear the full awareness state for a user");u.meta={name:"createAction",key:"createActionclearUserAwarenessState",description:"Clear the full awareness state for a user"};const i=(0,t.Ay)("Set my screenshare view");i.meta={name:"createAction",key:"createActionsetMyScreenshareView",description:"Set my screenshare view"};const o=(0,t.Ay)("Remove my screenshare view");o.meta={name:"createAction",key:"createActionremoveMyScreenshareView",description:"Remove my screenshare view"};const a=(0,t.Ay)("Set my sticky reaction");a.meta={name:"createAction",key:"createActionsetMyStickyReaction",description:"Set my sticky reaction"};const _=(0,t.Ay)("Remove my sticky reaction");_.meta={name:"createAction",key:"createActionremoveMyStickyReaction",description:"Remove my sticky reaction"};const l=(0,t.Ay)("Clear any stale awareness entries");l.meta={name:"createAction",key:"createActionttlAwarenessEntries",description:"Clear any stale awareness entries"};const p=(0,t.Ay)("Sets updatedTimestamp for my awareness entries to current time");p.meta={name:"createAction",key:"createActionrenewMyUpdatedTimestamps",description:"Sets updatedTimestamp for my awareness entries to current time"};const g=(0,t.Ay)("Set my active song");g.meta={name:"createAction",key:"createActionsetMyActiveSong",description:"Set my active song"};const c=(0,t.Ay)("Remove my active song");c.meta={name:"createAction",key:"createActionremoveMyActiveSong",description:"Remove my active song"}},7592559649:(W,T,e)=>{"use strict";e.d(T,{$G:()=>f,Ae:()=>I,Fb:()=>h,M3:()=>d,fL:()=>v,gV:()=>y,sW:()=>A,xP:()=>E});var t=e(3009309149),s=e(3385422400),n=e(6418055367),r=e(166097325),u=e(9113979368),i=e(9392104102),o=e(1345902898),a=e(6324645806);const _=(0,s.Ad)(n.UI,r.A),l=m(D=>{var M;return(D==null||(M=D.awareness)===null||M===void 0?void 0:M.awarenessEntries)||i.Ml},"selectAwarenessEntries"),p=(0,s.Mz)([l,(D,M)=>M,(D,M,P)=>P,(D,M,P,S)=>S],(D,M,P,S)=>{if(M===void 0)return i.t0;const b=D.filter(L=>{const k=L.channel===M,K=L.fieldName===P,N=S?L.uniqueId===S:!0,R=!(0,a.h)(L);return k&&K&&N&&R}).map(L=>[L.user,L.fieldValue]),O=Object.fromEntries(b);return(0,u.A)(O)?i.t0:O}),g=(0,s.Mz)([l,(D,M)=>M,(D,M,P)=>P],(D,M,P)=>{if(M===void 0)return i.t0;const S=D.filter(O=>{const L=O.channel===M,k=O.fieldName===P,K=!(0,a.h)(O);return L&&k&&K}).map(O=>[O.uniqueId,[O.user,O.fieldValue]]),b=Object.fromEntries(S);return(0,u.A)(b)?i.t0:b}),c=(0,s.Mz)([l,(D,M)=>M,(D,M,P)=>P],(D,M,P)=>{if(M===void 0)return i.t0;var S,b;const O=D.filter(k=>{const K=k.channel===M,N=k.fieldName===P,R=!(0,a.h)(k);return K&&N&&R}).sort((k,K)=>((S=k.fieldTimestampMs)!==null&&S!==void 0?S:Number.MAX_SAFE_INTEGER)-((b=K.fieldTimestampMs)!==null&&b!==void 0?b:Number.MAX_SAFE_INTEGER)).map(k=>[k.user,k.fieldValue]);return Object.fromEntries(O)}),E=(0,t.Ay)((D,M)=>{const P=c(D,M,o.p4.STICKYEMOJI);return(0,u.A)(P)?i.t0:P});E.meta={name:"createSelector",key:"createSelectorgetStickyEmojisForTopicByUser",description:(D,M)=>{const P=c(D,M,o.p4.STICKYEMOJI);return(0,u.A)(P)?i.t0:P}};const A=(0,t.Ay)((D,M)=>p(D,M,o.p4.CONTENTVIEW));A.meta={name:"createSelector",key:"createSelectorgetContentViewsForTopicByUser",description:(D,M)=>p(D,M,o.p4.CONTENTVIEW)};const d=(0,t.Ay)((D,M)=>g(D,M,o.p4.CONTENTVIEW));d.meta={name:"createSelector",key:"createSelectorgetContentViewsKeyedByPeerId",description:(D,M)=>g(D,M,o.p4.CONTENTVIEW)};const v=(0,t.Ay)((D,M,P,S)=>{var b;return(D==null||(b=D.awareness)===null||b===void 0?void 0:b.awarenessEntries).filter(k=>{const K=k.channel===M,N=k.user===P,R=!S||(0,a.I)(k.fieldName)?!0:k.uniqueId===S,U=!(0,a.h)(k);return K&&N&&R&&U}).map(k=>({field_name:k.fieldName,field_value:k.fieldValue,...!!k.fieldTimestampMs&&{field_timestamp_ms:k.fieldTimestampMs}}))});v.meta={name:"createSelector",key:"createSelectorgetAwarenessForMe",description:(D,M,P,S)=>{var b;return(D==null||(b=D.awareness)===null||b===void 0?void 0:b.awarenessEntries).filter(k=>{const K=k.channel===M,N=k.user===P,R=!S||(0,a.I)(k.fieldName)?!0:k.uniqueId===S,U=!(0,a.h)(k);return K&&N&&R&&U}).map(k=>({field_name:k.fieldName,field_value:k.fieldValue,...!!k.fieldTimestampMs&&{field_timestamp_ms:k.fieldTimestampMs}}))}};const h=(0,t.Ay)((D,M,P,S)=>{const b=v(D,M,P,S);for(const O of b)if(O.field_name===o.p4.STICKYEMOJI)return O;return null});h.meta={name:"createSelector",key:"createSelectorgetAwarenessStickyEmoji",description:(D,M,P,S)=>{const b=v(D,M,P,S);for(const O of b)if(O.field_name===o.p4.STICKYEMOJI)return O;return null}};const f=(0,t.Ay)((D,M)=>{let{callId:P,userId:S,uniqueId:b}=M;return P?p(D,P,o.p4.STICKYEMOJI,b)[S]:void 0});f.meta={name:"createSelector",key:"createSelectorgetStickyReactionsByUserId",description:(D,M)=>{let{callId:P,userId:S,uniqueId:b}=M;return P?p(D,P,o.p4.STICKYEMOJI,b)[S]:void 0}};const y=(0,t.Ay)((D,M)=>{let{callId:P,userId:S}=M;if(!P)return;const b=p(D,P,o.p4.HUDDLE_ACTIVE_SONG);if((0,u.A)(b))return;if(S)return b[S];const O=Object.values(b);if(O.length!==0)return O[0]});y.meta={name:"createSelector",key:"createSelectorgetRequestedSong",description:(D,M)=>{let{callId:P,userId:S}=M;if(!P)return;const b=p(D,P,o.p4.HUDDLE_ACTIVE_SONG);if((0,u.A)(b))return;if(S)return b[S];const O=Object.values(b);if(O.length!==0)return O[0]}};const I=_([l,(D,M,P,S,b)=>`${M},${P},${S},${b}`],(D,M)=>{const[P,S,b,O]=M.split(","),L=D.filter(k=>{const K=k.channel===P,N=k.user!==S,R=k.fieldName===o.p4.ACTIVE_CELL&&k.fieldValue&&k.fieldValue.rowId===b&&k.fieldValue.colId===O,U=!(0,a.h)(k);return K&&N&&R&&U}).map(k=>[[`${k.fieldValue.rowId},${k.fieldValue.colId}`],k.user]);return L.length?Object.fromEntries(L):i.t0}),C=(0,s.Mz)([l,(D,M)=>M],(D,M)=>M===void 0?i.Ml:D.filter(S=>{const b=S.channel===M,O=S.fieldName===o.p4.ACTIVE_CELL;return b&&O}).map(S=>S.user))},1345902898:(W,T,e)=>{"use strict";e.d(T,{Pz:()=>t,mO:()=>n,p4:()=>s});var t;(function(r){r.BROADCAST="broadcast",r.QUERY="query",r.CLOSE="close"})(t||(t={}));var s;(function(r){r.CONTENTVIEW="contentView",r.STICKYEMOJI="stickyEmoji",r.ACTIVE_CELL="activeCell",r.HUDDLE_ACTIVE_SONG="huddleActiveSong"})(s||(s={}));const n=60*1e3},6324645806:(W,T,e)=>{"use strict";e.d(T,{I:()=>n,h:()=>s});var t=e(1345902898);const s=m(r=>{const u=Date.now();var i;return u-((i=r.updatedTimestamp)!==null&&i!==void 0?i:u)>=t.mO},"isAwarenessEntryExpired"),n=m(r=>r?[t.p4.HUDDLE_ACTIVE_SONG].includes(r):!1,"skipUniquenessCheck")},5107871484:(W,T,e)=>{"use strict";e.d(T,{Ol:()=>r,Yf:()=>n,w6:()=>u,x8:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Set what zoom value was set in the client when in BBM");s.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client when in BBM"};const n=(0,t.Ay)("Set if hover actions should persist in the client when in BBM");n.meta={name:"createAction",key:"createActionsetPersistentActionsInternal",description:"Set if hover actions should persist in the client when in BBM"};const r=(0,t.Ay)("Set if customer has seen onboarding");r.meta={name:"createAction",key:"createActionsetOnboardedInternal",description:"Set if customer has seen onboarding"};const u=(0,t.Ay)("Set if client should display breadcrumbs when in BBM");u.meta={name:"createAction",key:"createActionsetBreadcrumbsInternal",description:"Set if client should display breadcrumbs when in BBM"}},7980588110:(W,T,e)=>{"use strict";e.d(T,{D5:()=>i,DP:()=>n,FC:()=>r,UY:()=>t,Yb:()=>u,iS:()=>s});const t="slack-zoom-bbm-setting",s="slack-persistent-actions-bbm-setting",n="slack-onboarded-setting",r="slack-breadcrumbs-bbm-setting",u=!0,i=!0},9651400563:(W,T,e)=>{"use strict";e.d(T,{Z:()=>E});var t=e(9139930183),s=e(5107871484),n=e(7980588110),r=e(9733150292);let u;try{var i;u=(i=(0,r.W6)(n.UY))!==null&&i!==void 0?i:void 0}catch{}let o;try{var a;o=(a=(0,r.W6)(n.iS))!==null&&a!==void 0?a:n.Yb}catch{}let _;try{var l;_=(l=(0,r.W6)(n.DP))!==null&&l!==void 0?l:!1}catch{}let p;try{var g;p=(g=(0,r.W6)(n.FC))!==null&&g!==void 0?g:n.D5}catch{}const c={zoom:u,persistentActions:o,onboarded:_,breadcrumbs:p},E=(0,t.Ay)({},c,{storeKey:"bbmSettings",persistenceEnabled:!1}).on(s.x8,(A,d)=>({...A,zoom:d})).on(s.Yf,(A,d)=>({...A,persistentActions:d})).on(s.w6,(A,d)=>({...A,breadcrumbs:d})).on(s.Ol,A=>({...A,onboarded:!0}))},3029055053:(W,T,e)=>{"use strict";e.d(T,{IX:()=>s,N6:()=>n,Tr:()=>r,lz:()=>u});var t=e(3009309149);const s=(0,t.Ay)(i=>i.bbmSettings.zoom);s.meta={name:"createSelector",key:"createSelectorgetZoom",description:i=>i.bbmSettings.zoom};const n=(0,t.Ay)(i=>i.bbmSettings.persistentActions);n.meta={name:"createSelector",key:"createSelectorgetPersistentActions",description:i=>i.bbmSettings.persistentActions};const r=(0,t.Ay)(i=>i.bbmSettings.onboarded);r.meta={name:"createSelector",key:"createSelectorisOnboarded",description:i=>i.bbmSettings.onboarded};const u=(0,t.Ay)(i=>i.bbmSettings.breadcrumbs);u.meta={name:"createSelector",key:"createSelectorgetBreadcrumbs",description:i=>i.bbmSettings.breadcrumbs}},6452473925:(W,T,e)=>{"use strict";e.d(T,{Q:()=>o});var t=e(6304789565),s=e(4134037340),n=e(337319621),r=e(5107871484),u=e(7980588110),i=e(9733150292);const o=(0,t.Ay)("Set zoom value for client when in BBM",(a,_,l)=>{const{error:p}=(0,n.Wo)();(0,s.A)(_())||p(new Error("you must call setZoom for a client store"));try{(0,i.q9)(u.UY,l)}catch(g){p(new Error(`failed to store zoom in local storage: ${g}`))}a((0,r.x8)(l))});o.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client when in BBM"}},3749529250:(W,T,e)=>{"use strict";e.d(T,{K:()=>n,z:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Enable big button mode");s.meta={name:"createAction",key:"createActionenableBBM",description:"Enable big button mode"};const n=(0,t.Ay)("Disable big button mode");n.meta={name:"createAction",key:"createActiondisableBBM",description:"Disable big button mode"}},4614661813:(W,T,e)=>{"use strict";e.d(T,{Y:()=>r});var t=e(9139930183),s=e(3749529250);const n={enabled:!1},r=(0,t.Ay)({},n,{storeKey:"bbm",persistenceEnabled:!0,persistImmediately:!0}).on(s.z,u=>({...u,enabled:!0})).on(s.K,u=>({...u,enabled:!1}))},9536404279:(W,T,e)=>{"use strict";e.d(T,{CD:()=>a,DZ:()=>u,Jt:()=>i,Np:()=>n,VG:()=>s,bz:()=>r,fp:()=>o,hX:()=>_});var t=e(2140362605);const s=(0,t.Ay)("Add timestamps to channel history");s.meta={name:"createAction",key:"createActionaddTimestamps",description:"Add timestamps to channel history"};const n=(0,t.Ay)("Remove timestamps from channel history");n.meta={name:"createAction",key:"createActionremoveTimestamp",description:"Remove timestamps from channel history"};const r=(0,t.Ay)("Remove all history for a channel");r.meta={name:"createAction",key:"createActionremoveAllTimestamps",description:"Remove all history for a channel"};const u=(0,t.Ay)("Remove all history for multiple channels");u.meta={name:"createAction",key:"createActionbulkRemoveAllTimestamps",description:"Remove all history for multiple channels"};const i=(0,t.Ay)("Was disconnected; reset reachedEnd to false");i.meta={name:"createAction",key:"createActionresetReachedEnd",description:"Was disconnected; reset reachedEnd to false"};const o=(0,t.Ay)("Drop messages from before a given timestamp");o.meta={name:"createAction",key:"createActiontruncateChannelHistoryPriorToTimestamp",description:"Drop messages from before a given timestamp"};const a=(0,t.Ay)("Drop old messages if there are too many");a.meta={name:"createAction",key:"createActiontruncateChannelHistory",description:"Drop old messages if there are too many"};const _=(0,t.Ay)("Remove all history for every channel");_.meta={name:"createAction",key:"createActionclearChannelHistory",description:"Remove all history for every channel"}},4350638406:(W,T,e)=>{"use strict";e.d(T,{Hw:()=>pe,e3:()=>le,mY:()=>ne,D1:()=>se,Zc:()=>Se,ez:()=>Ee});var t=e(3398586081),s=e(7715417323),n=e(6533394955),r=e(8352634987);function u(X,J){return`${X}:${J}`}m(u,"serialize_serialize");function i(X){const[J,z]=X.split(":");return{channelId:J,ts:z}}m(i,"deserialize");var o=e(2028988448),a=e(2208015175),_=e(1703559452),l=e(9816084745),p=e(8289365785),g=e(8786006583),c=e(1545824888),E=e(6304789565),A=e(337319621),d=e(7334104107),v=e(6457401668),h=e(4919145213),f=e(9986847041),y=e(4365697073),I=e(3110884894),C=e(7606781622),D=e(8040098042),M=e(2155512519),P=e(12126472),S=e(1116859610);const b="HISTORY-CFM";function O(X,J){return m(function z(){let{channelId:te,oldest:$,latest:q,cursor:re="",msgsInRange:de=[],deletedInRange:oe=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const De={channelId:te,oldest:$,latest:q,cursor:re,inclusive:!0,includePinCount:!1,reason:"channel-history-store.CFM.fetch"};return X((0,M.Ay)(De)).then(function(){let{msgs:ae=[],deleted:Z=[],isLimited:ie,hasMore:Ce,responseMetadata:Re={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return de.push(...ae),oe.push(...Z),Ce&&!ie&&Re.next_cursor?z({channelId:te,oldest:$,latest:q,cursor:Re.next_cursor,msgsInRange:de,deletedInRange:oe}):(X((0,S.A)({msgs:de,channelId:te,isLimited:ie,latest:q,oldest:$,deletedInRange:oe})),c.S.resolve())})},"fetchHistoryRangeHelper")(J)}m(O,"fetchHistoryRange");function L(X,J){return m(function z(){let{channelId:te,threadTs:$,oldest:q,latest:re,cursor:de="",msgsInRange:oe=[],deletedInRange:De=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const ae={channelId:te,threadTs:$,oldest:q,latest:re,cursor:de,inclusive:!0,reason:"channel-history-store.CFM.fetch"};return X((0,M.$b)(ae)).then(function(){let{msgs:Z=[],deleted:ie=[],hasMore:Ce,responseMetadata:Re={}}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(oe.push(...de?(0,P.A)(Z,{ts:$}):Z),De.push(...ie),Ce&&Re.next_cursor)return z({channelId:te,threadTs:$,oldest:q,latest:re,cursor:Re.next_cursor,msgsInRange:oe,deletedInRange:De});const be=q===$||re===$?oe:(0,P.A)(oe,{ts:$});return X((0,S.A)({msgs:be,channelId:(0,I.Iu)(te,$),latest:re,oldest:q,deletedInRange:De})),c.S.resolve()})},"fetchRepliesRangeHelper")(J)}m(L,"fetchRepliesRange");const k=(0,E.Ay)("Fetches a range of messages",(X,J,z)=>{let{channelId:te,oldest:$,latest:q}=z;return(0,A.Ay)({getState:J,label:b}).info(`Re-fetching ${te} ${$} - ${q}`),(0,D.A)(te)?O(X,{channelId:te,oldest:$,latest:q}):L(X,{...(0,I.Sb)(te),oldest:$,latest:q})});k.meta={name:"createThunk",key:"createThunkfetchRange",description:"Fetches a range of messages"};var K=e(8455301571);function N(X){const J={};return X.forEach(z=>{const{channelId:te,ts:$}=i(z);J[te]=J[te]||[],J[te].push($)}),J}m(N,"groupTimestampsByChannel");function R(X){let J,z;return(0,a.A)(X,(te,$)=>{J===void 0&&(J=$),z===void 0&&(z=$),$<J&&(J=$),$>z&&(z=$)}),{minTs:J,maxTs:z}}m(R,"getMinAndMaxTs");function U(){let X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,_.A)(J,(z,te)=>X[te])}m(U,"hasIntersection");function x(X,J){return(0,l.A)(J,(z,te)=>X[te])}m(x,"isSuperset");function B(X){let{ranges:J={},tsMaps:z=[]}=X;const te={...J};let $=z[0];return z.forEach(q=>{$!==q&&(U($,q)?x($,q)?delete te[q.rangeId]:x(q,$)?(delete te[$.rangeId],$=q):(0,a.A)(q,(re,de)=>delete $[de]):$=q)}),Object.values(te)}m(B,"dedupe");function F(X,J){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];const te=(0,A.Ay)({state:X,label:b}),$={},q=[];return z.sort().forEach(re=>{const oe=(0,C.Ld)(X,J,re,!1);if(!oe){te.warn(`No message for ${re} in ${J}`);return}if((0,d.aw)(oe)||(0,h.A)(oe))return;const De=[];(!(0,y.n)(oe)||(0,d.jX)(oe)||(0,v.SM)(oe))&&De.push(J),((0,d.jX)(oe)||(0,y.n)(oe))&&De.push((0,I.Iu)(J,(0,f.L)(oe))),De.forEach(ae=>{if(!ae)return;const Z=(0,K.tp)(X,ae,re);if(!Z||Z===K.Vl)return;const{start:ie,end:Ce,timestamps:Re}=Z,He=`${ie}-${Ce}`;if(!$[He]){const Ue={};Object.defineProperty(Ue,"rangeId",{enumerable:!1,value:He}),$[He]={id:ae,firstTs:(0,p.A)(Re),lastTs:(0,g.A)(Re),start:ie||"",end:Ce||"",tsMap:Ue},q.push(Ue)}const be=$[He];be.tsMap[re]=!0})}),{ranges:$,tsMaps:q}}m(F,"segment");function V(X,J){let z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return(B(F(X,J,z))||[{}]).map($=>{let{id:q,firstTs:re,lastTs:de,start:oe,end:De,tsMap:ae}=$;const{minTs:Z,maxTs:ie}=R(ae);return{id:q,oldest:Z===re?oe:Z,latest:ie===de?De:ie}})}m(V,"rangify");const Y=(0,E.Ay)("Fetches chunks of channel history for the given message IDs",(X,J,z)=>{let{ids:te}=z;const $=N(te),q={};return(0,a.A)($,(re,de)=>{const oe=V(J(),de,re);q[de]=c.S.map(oe,De=>{let{oldest:ae,latest:Z,id:ie}=De;return X(k({channelId:ie,oldest:ae,latest:Z}))})}),c.S.all(Object.values(q))});Y.meta={name:"createThunk",key:"createThunkrefetchChannelHistory",description:"Fetches chunks of channel history for the given message IDs"};const w=Y,G=(0,t.A)(()=>new r.Ay({storeKey:"channelHistory",fetch:(X,J)=>(0,n.Qw)(X,w({ids:J})),metricsName:"channel-history",isEnabled:()=>!0,markStaleAfterSlowReconnect:()=>!1})),Ee=m((X,J,z)=>G().maybeRefetch(X,u(J,z)),"maybeRefetch"),ne=m((X,J,z)=>G().markObjectsAsFresh(X,z.map(te=>u(J,te))),"markObjectsAsFresh"),se=m((X,J,z)=>G().markObjectsAsStale(X,z.map(te=>u(J,te))),"markObjectsAsStale"),ce=m((X,J,z)=>G().isObjectFresh(X,serialize(J,z)),"isObjectFresh"),pe=m(X=>G().getFreshObjects(X).map(i),"getFreshObjects");(0,o.zv)("conditionalFetchManagerChannelHistory",G);const ye="reachedEnd",Ie=(0,t.A)(()=>new r.Ay({storeKey:"channelHistory",fetch:s.A,metricsName:"channel-history-reached-end",isEnabled:()=>!0})),Se=m(X=>Ie().markObjectsAsFresh(X,[ye]),"markReachedEndAsFresh"),le=m(X=>Ie().isObjectFresh(X,[ye]),"isReachedEndFresh")},4588548461:(W,T,e)=>{"use strict";e.d(T,{J:()=>s,T:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Set the date joined for a channel");s.meta={name:"createAction",key:"createActionsetChannelDateJoined",description:"Set the date joined for a channel"};const n=(0,t.Ay)("Bulk set inital last read values for channels when first loaded");n.meta={name:"createAction",key:"createActionbulkSetChannelInitLastReads",description:"Bulk set inital last read values for channels when first loaded"}},7910147864:(W,T,e)=>{"use strict";e.d(T,{Kh:()=>r,Rd:()=>n,Tw:()=>s});var t=e(3009309149);const s=(0,t.Ay)(u=>{var i;return(i=u.channelJoin)===null||i===void 0?void 0:i.initLastReadsLoaded});s.meta={name:"createSelector",key:"createSelectorgetInitLastReadsLoaded",description:u=>{var i;return(i=u.channelJoin)===null||i===void 0?void 0:i.initLastReadsLoaded}};const n=(0,t.Ay)((u,i)=>{var o,a,_;return((o=u.channelJoin)===null||o===void 0||(a=o.channelData)===null||a===void 0||(_=a[i])===null||_===void 0?void 0:_.dateJoined)||0});n.meta={name:"createSelector",key:"createSelectorgetDateJoinedByChannelId",description:(u,i)=>{var o,a,_;return((o=u.channelJoin)===null||o===void 0||(a=o.channelData)===null||a===void 0||(_=a[i])===null||_===void 0?void 0:_.dateJoined)||0}};const r=(0,t.Ay)((u,i)=>{var o,a,_;return(o=u.channelJoin)===null||o===void 0||(a=o.channelData)===null||a===void 0||(_=a[i])===null||_===void 0?void 0:_.initLastRead});r.meta={name:"createSelector",key:"createSelectorgetInitLastReadByChannelId",description:(u,i)=>{var o,a,_;return(o=u.channelJoin)===null||o===void 0||(a=o.channelData)===null||a===void 0||(_=a[i])===null||_===void 0?void 0:_.initLastRead}}},7097022175:(W,T,e)=>{"use strict";e.d(T,{Y:()=>n,r:()=>s});var t=e(7933637612);const{addObjects:s,removeObjects:n}=t.o1},7933637612:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>i,Tp:()=>u,o1:()=>r});var t=e(9808233350);const s={storeKey:"channelLoading",persistenceEnabled:!1},{reducer:n,actions:r,selectors:u}=(0,t.A)(s,{idKey:"channelId",transform:o=>{const{channelId:a,..._}=o;return{id:a,object:_}}}),i=n},8298125694:(W,T,e)=>{"use strict";e.d(T,{Ah:()=>r,Qr:()=>u,c:()=>i});var t=e(3009309149),s=e(7933637612);const{getObjectById:n}=s.Tp,r=m((a,_)=>n(a,_),"innerGetChannelLoadingDataById"),u=(0,t.Ay)((a,_)=>{var l;return!!(!((l=r(a,_))===null||l===void 0)&&l.loading)});u.meta={name:"createSelector",key:"createSelectorisChannelLoading",description:(a,_)=>{var l;return!!(!((l=r(a,_))===null||l===void 0)&&l.loading)}};const i=(0,t.Ay)((a,_)=>{const l=r(a,_);return!!(l!=null&&l.loading&&(l!=null&&l.loadingOlder))});i.meta={name:"createSelector",key:"createSelectorisChannelLoadingOlder",description:(a,_)=>{const l=r(a,_);return!!(l!=null&&l.loading&&(l!=null&&l.loadingOlder))}};const o={innerGetChannelLoadingDataById:r}},3528815215:(W,T,e)=>{"use strict";e.d(T,{f:()=>n});var t=e(6304789565),s=e(7097022175);const n=(0,t.Ay)("Finished loading history for a channel",(r,u,i)=>{const{channelId:o}=i||{};r((0,s.Y)({ids:[o]}))});n.meta={name:"createThunk",key:"createThunkdoneLoading",description:"Finished loading history for a channel"}},1284885799:(W,T,e)=>{"use strict";e.d(T,{v:()=>r});var t=e(6304789565),s=e(8298125694),n=e(7097022175);const r=(0,t.Ay)("Started loading history for a channel",(u,i,o)=>{const{channelId:a,loadingOlder:_,request:l}=o||{},p=(0,s.Ah)(i(),a);p&&p.loading&&p.request&&p.request.cancel(),u((0,n.r)({objects:[{channelId:a,loading:!0,loadingOlder:_,request:l}]}))});r.meta={name:"createThunk",key:"createThunkstartLoading",description:"Started loading history for a channel"}},4425457544:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>l,Dk:()=>_,Lv:()=>a,UJ:()=>o});var t=e(9392104102),s=e(6304789565),n=e(9808233350);const{actions:r,reducer:u,selectors:i}=(0,n.A)({persistenceEnabled:!0,storeKey:"channelMutationTimestamps"},{idKey:"channelId",transform:p=>{const{channelId:g,...c}=p;return{id:g,object:c}},update:(p,g)=>({...g,...p})}),o=(0,s.Ay)("Add or update a channel mutation timestamp",(p,g,c)=>{p(r.addObjects({objects:[c]}))});o.meta={name:"createThunk",key:"createThunkaddOrUpdateChannelMutationTimestamp",description:"Add or update a channel mutation timestamp"};const a=(0,s.Ay)("Bulk add or update a channel mutation timestamps",(p,g,c)=>{p(r.addObjects({objects:c}))});a.meta={name:"createThunk",key:"createThunkbulkAddOrUpdateChannelMutationTimestamps",description:"Bulk add or update a channel mutation timestamps"};const _=m((p,g)=>{var c;return(c=i.getObjectById(p,g))!==null&&c!==void 0?c:t.t0},"getChannelMutationTimestamp"),l=u},3273285825:(W,T,e)=>{"use strict";e.d(T,{Z:()=>s,j:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Update the last channel switch trigger");s.meta={name:"createAction",key:"createActionupdateChannelLastTrigger",description:"Update the last channel switch trigger"};const n=(0,t.Ay)("Update the last channel focus time");n.meta={name:"createAction",key:"createActionupdateChannelLastFocus",description:"Update the last channel focus time"}},1711848812:(W,T,e)=>{"use strict";e.d(T,{E:()=>_});var t=e(6790819894),s=e(9101533895),n=e(1407713935),r=e(4459831283),u=e(6795500641),i=e(4587082424),o=e(4371795352),a=e(6224506772);const _=(0,t.F)(s.DM,u.Oe,r.NP,u.vT,u.ZO,o.g,a.oO,i.mK,(l,p,g,c,E)=>{const A=l.filter(d=>!(0,n.cb)(d));return g&&c&&!E?A.filter(v=>p==null?void 0:p.includes(v.id)):A})},8233490363:(W,T,e)=>{"use strict";e.d(T,{v:()=>_});var t=e(3009309149),s=e(3677514771),n=e(8847766420),r=e(6839188756),u=e(918457931),i=e(3929724715),o=e(2298581483),a=e(766806);const _=(0,t.Ay)((l,p)=>{let{channel:g,xwsAlpha:c=!1}=p;if(c&&(0,u.M)(g)){const A=(0,o.R)(l,g),d=(0,n.kN)(l),v=(0,a.wc)(l,"always_show_workspace_name"),h=v==null?void 0:v.filter(y=>d==null?void 0:d.includes(y)),f=A==null?void 0:A.map(y=>(0,s._J)(l,y)).filter(y=>h!=null&&h.length?!!(h!=null&&h.includes((0,r.ZT)(y)))&&!(0,r.t8)(y):!0).sort((y,I)=>{const C=(0,r.F1)(y),D=(0,r.F1)(I);return C.localeCompare(D)});if(f!=null&&f[0])return f[0]}const E=!(0,u.M)(g)&&(0,i.ne)(l,g);return(E?(0,s._J)(l,E):void 0)||(0,s.H7)(l)});_.meta={name:"createSelector",key:"createSelectorgetTeamForChannelInUnifiedGrid",description:(l,p)=>{let{channel:g,xwsAlpha:c=!1}=p;if(c&&(0,u.M)(g)){const A=(0,o.R)(l,g),d=(0,n.kN)(l),v=(0,a.wc)(l,"always_show_workspace_name"),h=v==null?void 0:v.filter(y=>d==null?void 0:d.includes(y)),f=A==null?void 0:A.map(y=>(0,s._J)(l,y)).filter(y=>h!=null&&h.length?!!(h!=null&&h.includes((0,r.ZT)(y)))&&!(0,r.t8)(y):!0).sort((y,I)=>{const C=(0,r.F1)(y),D=(0,r.F1)(I);return C.localeCompare(D)});if(f!=null&&f[0])return f[0]}const E=!(0,u.M)(g)&&(0,i.ne)(l,g);return(E?(0,s._J)(l,E):void 0)||(0,s.H7)(l)}}},8146089001:(W,T,e)=>{"use strict";e.d(T,{a:()=>r});var t=e(3009309149),s=e(6839188756),n=e(8233490363);const r=(0,t.Ay)((u,i)=>{let{channel:o,xwsAlpha:a=!1}=i;const _=(0,n.v)(u,{channel:o,xwsAlpha:a});return(0,s.F1)(_)});r.meta={name:"createSelector",key:"createSelectorgetTeamNameForChannelInUnifiedGrid",description:(u,i)=>{let{channel:o,xwsAlpha:a=!1}=i;const _=(0,n.v)(u,{channel:o,xwsAlpha:a});return(0,s.F1)(_)}}},9606603587:(W,T,e)=>{"use strict";e.d(T,{B:()=>r});var t=e(6304789565),s=e(3430841143),n=e(9530687876);const r=(0,t.Ay)(n.rd.ADD_CHANNEL,function(u,i){let{channel:o}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};!o||!o.id||u((0,s.F)({channel:o,reason:n.rd.ADD_CHANNEL}))});r.meta={name:"createThunk",key:"createThunkaddChannel",description:n.rd.ADD_CHANNEL}},1761027239:(W,T,e)=>{"use strict";e.d(T,{t:()=>a});var t=e(1545824888),s=e(6304789565),n=e(4446301238),r=e(3430841143),u=e(9530687876),i=e(4117634716),o=e(8822892075);const a=(0,s.Ay)("Archives a private channel, creates and upserts a new one with the same name, then adds users",(_,l,p)=>{let{channelId:g,users:c,subteams:E,inviteAll:A,force:d,propagateInviteResult:v}=p;return _((0,n.wb)({channelId:g,reason:u.rd.CHILD_CHANNEL_CREATED})).then(function(){let{channel:h}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return _((0,r.F)({channel:h,reason:u.rd.CHILD_CHANNEL_CREATED})),_((0,i.o)((0,o.pr)(h.id))),v?A||c||E?_((0,n.Cw)({channelId:h.id,users:c,subteams:E,inviteAll:A,force:d})).then(f=>({channel:h,inviteResult:f})):t.S.resolve({channel:h,inviteResult:{ok:!0}}):(_((0,n.Cw)({channelId:h.id,users:c,subteams:E})),t.S.resolve({channel:h}))})});a.meta={name:"createThunk",key:"createThunkcreateChildChannelAndAddMembers",description:"Archives a private channel, creates and upserts a new one with the same name, then adds users"}},613926746:(W,T,e)=>{"use strict";e.d(T,{Z:()=>n});var t=e(6304789565),s=e(7631186994);const n=(0,t.Ay)("Create or open an IM",function(r,u){let{memberId:i,shouldNavigateToChannel:o=!0,reason:a}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const _=i?[i]:[];return r((0,s.r)({memberIds:_,shouldNavigateToChannel:o,reason:a}))});n.meta={name:"createThunk",key:"createThunkstartImByMemberId",description:"Create or open an IM"}},7631186994:(W,T,e)=>{"use strict";e.d(T,{r:()=>g});var t=e(1545824888),s=e(9113979368),n=e(235108050),r=e(6304789565),u=e(5795074931),i=e(3929724715),o=e(4446301238),a=e(8822892075),_=e(9101533895),l=e(3430841143),p=e(4117634716);const g=(0,r.Ay)("Create or open an MPIM",function(c,E){let{memberIds:A,shouldNavigateToChannel:d=!0,isQuiet:v=!1,reason:h="startMpimByMemberIds"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if((0,s.A)(A))return t.S.resolve();const f=E(),y=m(D=>(c((0,p.o)((0,a.pr)(D.id))),t.S.resolve(D)),"navigateToChannel");let I,C;if(A.length===1)C=A,I=(0,_.Pu)(f,A[0]);else{const D=(0,u.WR)(f);C=(0,n.A)([D,...A]),I=(0,_.FB)(f,C)}return(0,i.nT)(I)?d?y(I):t.S.resolve(I):c((0,o.jP)({isQuiet:v,memberIds:C,reason:h})).then(D=>!D||!D.channel?t.S.reject(new Error("missing-channel")):(c((0,l.F)({channel:D.channel})),d?y(D.channel):t.S.resolve(D.channel)))});g.meta={name:"createThunk",key:"createThunkstartMpimByMemberIds",description:"Create or open an MPIM"}},4711657482:(W,T,e)=>{"use strict";e.d(T,{CS:()=>l,HM:()=>r,IX:()=>c,JC:()=>v,JT:()=>C,Kv:()=>k,MC:()=>y,MD:()=>ne,Ov:()=>f,PV:()=>w,RS:()=>M,Ri:()=>x,VM:()=>I,Xr:()=>E,Xu:()=>o,Y5:()=>G,Ye:()=>h,Yr:()=>s,Yy:()=>D,Z8:()=>Y,_Q:()=>n,ai:()=>K,e0:()=>b,f:()=>F,fc:()=>S,fl:()=>A,ho:()=>R,i9:()=>a,kB:()=>g,ke:()=>d,l3:()=>B,mP:()=>L,mt:()=>Ee,qC:()=>P,r5:()=>V,r6:()=>p,rl:()=>U,uN:()=>_,vp:()=>u,yK:()=>O,yQ:()=>i,yg:()=>N});var t=e(2140362605);const s=(0,t.Ay)("Checkout Address Form Data Loaded");s.meta={name:"createAction",key:"createActioncheckoutAddressFormDataLoaded",description:"Checkout Address Form Data Loaded"};const n=(0,t.Ay)("Checkout Credit Card Form Loaded");n.meta={name:"createAction",key:"createActionupdateCheckoutCreditCardFormLoaded",description:"Checkout Credit Card Form Loaded"};const r=(0,t.Ay)("Checkout States and Countries Data Loaded");r.meta={name:"createAction",key:"createActioncheckoutStatesAndCountriesDataLoaded",description:"Checkout States and Countries Data Loaded"};const u=(0,t.Ay)("Checkout Company Address Data Loaded");u.meta={name:"createAction",key:"createActioncheckoutCompanyAddressDataLoaded",description:"Checkout Company Address Data Loaded"};const i=(0,t.Ay)("Checkout Action for setting isFetchingCurrencyAfterCountryChange");i.meta={name:"createAction",key:"createActionsetIsFetchingCurrencyAfterCountryChange",description:"Checkout Action for setting isFetchingCurrencyAfterCountryChange"};const o=(0,t.Ay)("Update Company Address Field");o.meta={name:"createAction",key:"createActionupdateCompanyAddressField",description:"Update Company Address Field"};const a=(0,t.Ay)("Update is country from auto detect");a.meta={name:"createAction",key:"createActionupdateIsCountryFromAutoDetect",description:"Update is country from auto detect"};const _=(0,t.Ay)("Company Address Validated");_.meta={name:"createAction",key:"createActioncompanyAddressValidated",description:"Company Address Validated"};const l=(0,t.Ay)("Company Address Form Field Validated");l.meta={name:"createAction",key:"createActioncompanyAddressFormFieldValidated",description:"Company Address Form Field Validated"};const p=(0,t.Ay)("Clear Company Address Form Field Validation Errors");p.meta={name:"createAction",key:"createActionclearCompanyAddressFormFieldValidationErrors",description:"Clear Company Address Form Field Validation Errors"};const g=(0,t.Ay)("Upgrade Response Received");g.meta={name:"createAction",key:"createActiononUpgradeResponseReceived",description:"Upgrade Response Received"};const c=(0,t.Ay)("Purchase Attempt Response Received");c.meta={name:"createAction",key:"createActiononPurchaseAttemptResponseReceived",description:"Purchase Attempt Response Received"};const E=(0,t.Ay)("Addon Purchase Attempt Response Received");E.meta={name:"createAction",key:"createActiononAddonPurchaseResponseReceived",description:"Addon Purchase Attempt Response Received"};const A=(0,t.Ay)("Purchase Attempt Confirmation Response Received");A.meta={name:"createAction",key:"createActiononPurchaseAttemptConfirmationResponseReceived",description:"Purchase Attempt Confirmation Response Received"};const d=(0,t.Ay)("Update Stripe API Key");d.meta={name:"createAction",key:"createActionupdateStripeApiKey",description:"Update Stripe API Key"};const v=(0,t.Ay)("Update Invoice Data Field");v.meta={name:"createAction",key:"createActionupdateInvoiceDataField",description:"Update Invoice Data Field"};const h=(0,t.Ay)("Invoice Data Validated");h.meta={name:"createAction",key:"createActioninvoiceDataValidated",description:"Invoice Data Validated"};const f=(0,t.Ay)("Invoice Form Field Validated");f.meta={name:"createAction",key:"createActioninvoiceDataFieldValidated",description:"Invoice Form Field Validated"};const y=(0,t.Ay)("Clear Any Existing Payment Status or Errors");y.meta={name:"createAction",key:"createActionclearPaymentStatus",description:"Clear Any Existing Payment Status or Errors"};const I=(0,t.Ay)("Self User Data Loaded");I.meta={name:"createAction",key:"createActionselfUserDataLoaded",description:"Self User Data Loaded"};const C=(0,t.Ay)("Update Is Processing Payment");C.meta={name:"createAction",key:"createActionupdateIsProcessingPayment",description:"Update Is Processing Payment"};const D=(0,t.Ay)("Update Payment Method Selected");D.meta={name:"createAction",key:"createActionupdatePaymentMethodSelected",description:"Update Payment Method Selected"};const M=(0,t.Ay)("Update Show App Disconnect Dialog");M.meta={name:"createAction",key:"createActionupdateIsAppDisconnectedDialogShown",description:"Update Show App Disconnect Dialog"};const P=(0,t.Ay)("Update Active Checkout Step");P.meta={name:"createAction",key:"createActionupdateActiveCheckoutStep",description:"Update Active Checkout Step"};const S=(0,t.Ay)("Update Active Checkout Step");S.meta={name:"createAction",key:"createActionupdateActiveSteppedCheckoutStep",description:"Update Active Checkout Step"};const b=(0,t.Ay)("Update Active Country");b.meta={name:"createAction",key:"createActionupdateActiveCountry",description:"Update Active Country"};const O=(0,t.Ay)("Checkout configuration data loaded");O.meta={name:"createAction",key:"createActioncheckoutConfigurationDataLoaded",description:"Checkout configuration data loaded"};const L=(0,t.Ay)("Update Checkout Flow API Error Indicator");L.meta={name:"createAction",key:"createActionupdateIsCheckoutFlowAPIError",description:"Update Checkout Flow API Error Indicator"};const k=(0,t.Ay)("Update checkout store values with configuration data");k.meta={name:"createAction",key:"createActionupdateCheckoutWithConfigData",description:"Update checkout store values with configuration data"};const K=(0,t.Ay)("Redeem partner promo code failed");K.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeFailed",description:"Redeem partner promo code failed"};const N=(0,t.Ay)("Redeem partner promo code success");N.meta={name:"createAction",key:"createActionredeemPartnerPromoCodeSuccess",description:"Redeem partner promo code success"};const R=(0,t.Ay)("Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret");R.meta={name:"createAction",key:"createActionsetIsLoadingStripeCustomerAndPaymentMethods",description:"Sets boolean regarding whether we are currently loading Stripe, i.e. getting a new Stripe library initializing promise and a new Setup Intent Client Secret"};const U=(0,t.Ay)("Sets Active Payment Method Id");U.meta={name:"createAction",key:"createActionsetActivePaymentMethodId",description:"Sets Active Payment Method Id"};const x=(0,t.Ay)("Sets Active Stripe Customer Id");x.meta={name:"createAction",key:"createActionsetActiveStripeCustomerId",description:"Sets Active Stripe Customer Id"};const B=(0,t.Ay)("Sets Active Stripe Customer Payment Method Types for UPE");B.meta={name:"createAction",key:"createActionsetPaymentMethodTypes",description:"Sets Active Stripe Customer Payment Method Types for UPE"};const F=(0,t.Ay)("Sets Payment Methods");F.meta={name:"createAction",key:"createActionsetPaymentMethods",description:"Sets Payment Methods"};const V=(0,t.Ay)("Sets the PaymentElementError, i.e. the error message");V.meta={name:"createAction",key:"createActionsetPaymentElementError",description:"Sets the PaymentElementError, i.e. the error message"};const Y=(0,t.Ay)("Stripe UPE credit card form is complete");Y.meta={name:"createAction",key:"createActionsetIsStripeUpeComplete",description:"Stripe UPE credit card form is complete"};const w=(0,t.Ay)("Stripe UPE credit card form has interactiono");w.meta={name:"createAction",key:"createActionsetHasUPEInteraction",description:"Stripe UPE credit card form has interactiono"};const G=(0,t.Ay)("Is address form collapsed and not editable");G.meta={name:"createAction",key:"createActionsetIsAddressFormCollapsed",description:"Is address form collapsed and not editable"};const Ee=(0,t.Ay)("Select or deselect an addon by type");Ee.meta={name:"createAction",key:"createActiontoggleSelectedAddon",description:"Select or deselect an addon by type"};const ne=(0,t.Ay)("Select or deselect an addon by type");ne.meta={name:"createAction",key:"createActionsetAddonsForPurchase",description:"Select or deselect an addon by type"}},6460545324:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>o,bE:()=>i,eM:()=>r,gW:()=>u,x:()=>s,xj:()=>n});const t={form:"form",review:"review",success:"success",addons:"addons",addon_success:"addon_success",trial_review:"trial_review",trial_success:"trial_success"},s={overview:"overview",address:"address",payment:"payment",review:"review"},n=200,r={educational:"educational",local:{brazil:"local_discount_real",india:"local_discount_rupee"},nonprofit:"nonprofit",tenured_teams:"tenured_teams_discount",wfh_bundle:"wfhbundle",atlassian_2020:"atlassian_2020",smart_discount:"smart_discount",paid_acquisition_self_serve:"paid_acquisition_self_serve",price_increase_churn_prevention:"price_increase_churn_prevention",sfdc_customer_coupon_2022:"sfdc_customer_coupon_2022",slack_grb_campaign_coupon_2022:"slack_grb_campaign_coupon_2022",straight_to_paid:"straight_to_paid",self_serve_affiliates:"self_serve_affiliates",pricing_and_packaging_promo:"pricing_and_packaging_promo",new_year_promo:"new_year_promo",data_deletion_discount:"evergreen_data_deletion_discount",downgrade_discount_discount_50_pct_3_months:"downgrade_discount_discount_50_pct_3_months",downgrade_discount_discount_15_pct_12_months:"downgrade_discount_discount_15_pct_12_months",pnp_discount:"pnp_discount"},u="partner_growth",i={TEAM_INELIGIBLE:"team_ineligible",CODE_ALREADY_REDEEMED:"code_already_redeemed"},o=t},3559164431:(W,T,e)=>{"use strict";e.d(T,{$3:()=>v,BD:()=>ae,Bj:()=>pe,Bo:()=>_,Cb:()=>Ce,D5:()=>G,E$:()=>d,EX:()=>q,Ex:()=>U,GG:()=>He,Hg:()=>Re,IK:()=>ve,J5:()=>g,Ju:()=>be,M:()=>M,MA:()=>C,Oe:()=>J,S_:()=>o,U$:()=>c,VE:()=>k,VV:()=>p,Vs:()=>L,WP:()=>w,Wq:()=>a,X:()=>ne,YW:()=>E,Yv:()=>i,Zl:()=>h,Zn:()=>B,bB:()=>f,bW:()=>de,bm:()=>ie,c9:()=>le,cR:()=>Ee,ch:()=>te,d2:()=>V,fD:()=>Ke,fx:()=>Z,gr:()=>D,h0:()=>se,hy:()=>me,iD:()=>$,k7:()=>A,kr:()=>ye,lK:()=>X,oi:()=>N,oy:()=>R,p:()=>Se,qR:()=>Ie,qn:()=>S,r2:()=>Ue,r8:()=>x,rn:()=>F,t5:()=>K,tG:()=>l,vO:()=>re,wz:()=>y,y4:()=>Fe,zj:()=>P});var t=e(3009309149),s=e(5597672932),n=e(9113979368),r=e(6323355797),u=e(9392104102);const i=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.companyAddress||!j.checkoutFlow.companyAddress.validationErrors?!1:Object.values(j.checkoutFlow.companyAddress.validationErrors).some(ee=>ee));i.meta={name:"createSelector",key:"createSelectorhasAddressFormErrors",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.companyAddress||!j.checkoutFlow.companyAddress.validationErrors?!1:Object.values(j.checkoutFlow.companyAddress.validationErrors).some(ee=>ee)};const o=(0,t.Ay)(j=>{var ee;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.activeStripeCustomerId)||null});o.meta={name:"createSelector",key:"createSelectorgetActiveCustomerId",description:j=>{var ee;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.activeStripeCustomerId)||null}};const a=(0,t.Ay)(j=>{var ee;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.isFetchingCurrencyAfterCountryChange)||!1});a.meta={name:"createSelector",key:"createSelectorgetIsFetchingCurrencyAfterCountryChange",description:j=>{var ee;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.isFetchingCurrencyAfterCountryChange)||!1}};const _=(0,t.Ay)(j=>{var ee,je;return!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.activeStripeCustomerId)||!(!(j==null||(je=j.checkoutFlow)===null||je===void 0)&&je.activePaymentMethodIdMap)?null:j.checkoutFlow.activePaymentMethodIdMap[j.checkoutFlow.activeStripeCustomerId]});_.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodId",description:j=>{var ee,je;return!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.activeStripeCustomerId)||!(!(j==null||(je=j.checkoutFlow)===null||je===void 0)&&je.activePaymentMethodIdMap)?null:j.checkoutFlow.activePaymentMethodIdMap[j.checkoutFlow.activeStripeCustomerId]}};const l=(0,t.Ay)(j=>{var ee;return!j||!j.checkoutFlow?null:(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.activePaymentMethodIdMap});l.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethodIdMap",description:j=>{var ee;return!j||!j.checkoutFlow?null:(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.activePaymentMethodIdMap}};const p=(0,t.Ay)(j=>{var ee;return!j||!j.checkoutFlow?null:(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.paymentMethodTypes});p.meta={name:"createSelector",key:"createSelectorgetPaymentMethodTypes",description:j=>{var ee;return!j||!j.checkoutFlow?null:(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.paymentMethodTypes}};const g=(0,t.Ay)(j=>!j||!j.checkoutFlow?null:j.checkoutFlow.paymentMethods);g.meta={name:"createSelector",key:"createSelectorgetPaymentMethods",description:j=>!j||!j.checkoutFlow?null:j.checkoutFlow.paymentMethods};const c=(0,t.Ay)(j=>{const ee=_(j);if(!ee||(0,n.A)(ee))return null;const je=g(j);return!ee||!Array.isArray(je)?null:je.find(Te=>Te.id===ee)});c.meta={name:"createSelector",key:"createSelectorgetActivePaymentMethod",description:j=>{const ee=_(j);if(!ee||(0,n.A)(ee))return null;const je=g(j);return!ee||!Array.isArray(je)?null:je.find(Te=>Te.id===ee)}};const E=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.companyAddress?null:j.checkoutFlow.companyAddress);E.meta={name:"createSelector",key:"createSelectorgetCompanyAddress",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.companyAddress?null:j.checkoutFlow.companyAddress};const A=(0,t.Ay)(j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isAddressFormCollapsed)});A.meta={name:"createSelector",key:"createSelectorgetIsAddressFormCollapsed",description:j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isAddressFormCollapsed)}};const d=(0,t.Ay)(j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isPaymentMethodSectionDisplayed)});d.meta={name:"createSelector",key:"createSelectorgetIsPaymentMethodSectionDisplayed",description:j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isPaymentMethodSectionDisplayed)}};const v=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:j.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods);v.meta={name:"createSelector",key:"createSelectorgetIsLoadingStripeCustomerAndPaymentMethods",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods?null:j.checkoutFlow.isLoadingStripeCustomerAndPaymentMethods};const h=(0,t.Ay)(j=>{var ee,je;return!(j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.config)===null||je===void 0)&&je.countryMap?j.checkoutFlow.config.countryMap:null});h.meta={name:"createSelector",key:"createSelectorgetCountryMap",description:j=>{var ee,je;return!(j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.config)===null||je===void 0)&&je.countryMap?j.checkoutFlow.config.countryMap:null}};const f=(0,t.Ay)(j=>{var ee;return j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.paymentElementError});f.meta={name:"createSelector",key:"createSelectorgetPaymentElementError",description:j=>{var ee;return j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.paymentElementError}};const y=(0,t.Ay)(j=>{const ee=E(j);return ee?ee.country:null});y.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountry",description:j=>{const ee=E(j);return ee?ee.country:null}};const I=(0,t.Ay)(j=>{const ee=E(j);return!ee||!ee.validationErrors||!ee.validationErrors.country?null:ee.validationErrors.country.errorText});I.meta={name:"createSelector",key:"createSelectorgetCompanyAddressCountryError",description:j=>{const ee=E(j);return!ee||!ee.validationErrors||!ee.validationErrors.country?null:ee.validationErrors.country.errorText}};const C=(0,t.Ay)(j=>{var ee,je,Te;return(ee=E(j))===null||ee===void 0||(je=ee.validationErrors)===null||je===void 0||(Te=je.vatId)===null||Te===void 0?void 0:Te.errorText});C.meta={name:"createSelector",key:"createSelectorgetCompanyAddressVatIdError",description:j=>{var ee,je,Te;return(ee=E(j))===null||ee===void 0||(je=ee.validationErrors)===null||je===void 0||(Te=je.vatId)===null||Te===void 0?void 0:Te.errorText}};const D=(0,t.Ay)(j=>{const ee=E(j);return ee?ee.postalCode:null});D.meta={name:"createSelector",key:"createSelectorgetCompanyAddressPostalCode",description:j=>{const ee=E(j);return ee?ee.postalCode:null}};const M=(0,t.Ay)(j=>{const ee=E(j);return ee?ee.region:null});M.meta={name:"createSelector",key:"createSelectorgetCompanyAddressRegion",description:j=>{const ee=E(j);return ee?ee.region:null}};const P=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.config?null:j.checkoutFlow.config);P.meta={name:"createSelector",key:"createSelectorgetConfig",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.config?null:j.checkoutFlow.config};const S=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration?null:j.checkoutFlow.checkoutConfiguration);S.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfig",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration?null:j.checkoutFlow.checkoutConfiguration};const b=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.currentTerm?null:j.checkoutFlow.checkoutConfiguration.currentTerm===r.ck.yearly);b.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigTermIsYearly",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.currentTerm?null:j.checkoutFlow.checkoutConfiguration.currentTerm===r.ck.yearly};const O=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:j.checkoutFlow.checkoutConfiguration.currentPlanLevel);O.meta={name:"createSelector",key:"createSelectorgetCheckoutPreConfigPlanLevel",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.currentPlanLevel?null:j.checkoutFlow.checkoutConfiguration.currentPlanLevel};const L=(0,t.Ay)(j=>{var ee,je;return(je=j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.isCheckoutConfigurationDataLoaded)!==null&&je!==void 0?je:!1});L.meta={name:"createSelector",key:"createSelectorisCheckoutPreConfigLoaded",description:j=>{var ee,je;return(je=j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.isCheckoutConfigurationDataLoaded)!==null&&je!==void 0?je:!1}};const k=(0,t.Ay)(j=>{var ee,je;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.checkoutConfiguration)===null||je===void 0)&&je.isFutureSwitch)});k.meta={name:"createSelector",key:"createSelectorselectIsFutureProductSwitch",description:j=>{var ee,je;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.checkoutConfiguration)===null||je===void 0)&&je.isFutureSwitch)}};const K=(0,t.Ay)(j=>{var ee,je;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.checkoutConfiguration)===null||je===void 0?void 0:je.availableTerms)||null});K.meta={name:"createSelector",key:"createSelectorselectAvailableTerms",description:j=>{var ee,je;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.checkoutConfiguration)===null||je===void 0?void 0:je.availableTerms)||null}};const N=(0,t.Ay)(j=>{var ee,je;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.checkoutConfiguration)===null||je===void 0?void 0:je.upeSelectedAvailableTerms)||null});N.meta={name:"createSelector",key:"createSelectorgetUpeSelectedAvailableTerms",description:j=>{var ee,je;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.checkoutConfiguration)===null||je===void 0?void 0:je.upeSelectedAvailableTerms)||null}};const R=(0,t.Ay)(j=>{var ee,je;return j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.checkoutConfiguration)===null||je===void 0?void 0:je.redirectUrl});R.meta={name:"createSelector",key:"createSelectorselectRedirectUrl",description:j=>{var ee,je;return j==null||(ee=j.checkoutFlow)===null||ee===void 0||(je=ee.checkoutConfiguration)===null||je===void 0?void 0:je.redirectUrl}};const U=(0,t.Ay)(j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isCheckoutAddressFormDataLoaded)});U.meta={name:"createSelector",key:"createSelectorisCheckoutAddressFormDataLoaded",description:j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isCheckoutAddressFormDataLoaded)}};const x=(0,t.Ay)(j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isCountryFromAutoDetect)});x.meta={name:"createSelector",key:"createSelectorgetIsCountryFromAutoDetect",description:j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isCountryFromAutoDetect)}};const B=(0,t.Ay)(j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isCheckoutCreditCardFormLoaded)});B.meta={name:"createSelector",key:"createSelectorgetIsCheckoutCreditCardFormLoaded",description:j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isCheckoutCreditCardFormLoaded)}};const F=(0,t.Ay)(j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isStripeUpeComplete)});F.meta={name:"createSelector",key:"createSelectorgetIsStripeUpeComplete",description:j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.isStripeUpeComplete)}};const V=(0,t.Ay)(j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.hasUPEInteraction)});V.meta={name:"createSelector",key:"createSelectorgetHasUPEInteraction",description:j=>{var ee;return!!(!(j==null||(ee=j.checkoutFlow)===null||ee===void 0)&&ee.hasUPEInteraction)}};const Y=(0,t.Ay)(j=>!j||!j.checkoutFlow?null:j.checkoutFlow.paymentStatus);Y.meta={name:"createSelector",key:"createSelectorgetPaymentStatus",description:j=>!j||!j.checkoutFlow?null:j.checkoutFlow.paymentStatus};const w=(0,t.Ay)(j=>{const ee=Y(j);return ee?ee.ok===!0&&!ee.error&&!ee.isActionRequiredOnPurchaseAttempt:!1});w.meta={name:"createSelector",key:"createSelectordidUpgradeSucceed",description:j=>{const ee=Y(j);return ee?ee.ok===!0&&!ee.error&&!ee.isActionRequiredOnPurchaseAttempt:!1}};const G=(0,t.Ay)(j=>{const ee=Y(j);return ee?ee.error&&ee.msg?ee.msg:ee.error:""});G.meta={name:"createSelector",key:"createSelectorgetUpgradeError",description:j=>{const ee=Y(j);return ee?ee.error&&ee.msg?ee.msg:ee.error:""}};const Ee=(0,t.Ay)(j=>{const ee=Y(j);return!!(ee!=null&&ee.isProcessingPayment)});Ee.meta={name:"createSelector",key:"createSelectorselectIsProcessingPayment",description:j=>{const ee=Y(j);return!!(ee!=null&&ee.isProcessingPayment)}};const ne=(0,t.Ay)(j=>{const ee=P(j);return ee?ee.stripeApiKey:null});ne.meta={name:"createSelector",key:"createSelectorselectStripeApiKey",description:j=>{const ee=P(j);return ee?ee.stripeApiKey:null}};const se=(0,t.Ay)(j=>{const ee=P(j);return ee?ee.sourcesPayable:null});se.meta={name:"createSelector",key:"createSelectorselectSourcesPayable",description:j=>{const ee=P(j);return ee?ee.sourcesPayable:null}};const ce=(0,t.Ay)((j,ee)=>{if(ee===null)return{};const je=se(j);if(!je)return{};const Te=Object.values(je).find(Je=>Je.id===ee);return Te||{}});ce.meta={name:"createSelector",key:"createSelectorselectSourcePayableById",description:(j,ee)=>{if(ee===null)return{};const je=se(j);if(!je)return{};const Te=Object.values(je).find(Je=>Je.id===ee);return Te||{}}};const pe=(0,t.Ay)(j=>{const ee=P(j);return!ee||!ee.user?!1:ee.user.is_owner});pe.meta={name:"createSelector",key:"createSelectorselectIsSelfUserOwner",description:j=>{const ee=P(j);return!ee||!ee.user?!1:ee.user.is_owner}};const ye=(0,t.Ay)(j=>{const ee=P(j);return!ee||!ee.user||!j||!j.checkoutFlow});ye.meta={name:"createSelector",key:"createSelectorgetIsInvoiceFormLoading",description:j=>{const ee=P(j);return!ee||!ee.user||!j||!j.checkoutFlow}};const Ie=(0,t.Ay)(j=>!j||!j.checkoutFlow?null:j.checkoutFlow.invoiceData);Ie.meta={name:"createSelector",key:"createSelectorgetInvoiceData",description:j=>!j||!j.checkoutFlow?null:j.checkoutFlow.invoiceData};const Se=(0,t.Ay)(j=>!j||!j.checkoutFlow?null:j.checkoutFlow.paymentMethodSelected);Se.meta={name:"createSelector",key:"createSelectorselectPaymentMethodSelected",description:j=>!j||!j.checkoutFlow?null:j.checkoutFlow.paymentMethodSelected};const le=(0,t.Ay)(j=>!j||!j.checkoutFlow?null:j.checkoutFlow.isAppDisconnectedDialogShown);le.meta={name:"createSelector",key:"createSelectorselectIsAppDisconnectedDialogShown",description:j=>!j||!j.checkoutFlow?null:j.checkoutFlow.isAppDisconnectedDialogShown};const X=(0,t.Ay)(j=>!j||!j.checkoutFlow?null:j.checkoutFlow.activeCheckoutStep);X.meta={name:"createSelector",key:"createSelectorselectActiveCheckoutStep",description:j=>!j||!j.checkoutFlow?null:j.checkoutFlow.activeCheckoutStep};const J=(0,t.Ay)(j=>{var ee;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.activeSteppedCheckoutStep)||null});J.meta={name:"createSelector",key:"createSelectorselectActiveSteppedCheckoutStep",description:j=>{var ee;return(j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.activeSteppedCheckoutStep)||null}};const z=(0,t.Ay)(j=>{var ee;return j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.promoCodeRedeem});z.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeem",description:j=>{var ee;return j==null||(ee=j.checkoutFlow)===null||ee===void 0?void 0:ee.promoCodeRedeem}};const te=(0,t.Ay)(j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.failed)||!1});te.meta={name:"createSelector",key:"createSelectorselectDidPromoCodeRedeemFail",description:j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.failed)||!1}};const $=(0,t.Ay)(j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.errorName)||""});$.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemErrorName",description:j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.errorName)||""}};const q=(0,t.Ay)(j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.discountName)||""});q.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountName",description:j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.discountName)||""}};const re=(0,t.Ay)(j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.discountPercentage)||0});re.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountPercentage",description:j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.discountPercentage)||0}};const de=(0,t.Ay)(j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.discountDuration)||0});de.meta={name:"createSelector",key:"createSelectorselectPromoCodeRedeemFailedDiscountDuration",description:j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.discountDuration)||0}};const oe=(0,t.Ay)(j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.attempted)||!1});oe.meta={name:"createSelector",key:"createSelectorselectDidAttemptPromoCodeRedeem",description:j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.attempted)||!1}};const De=(0,t.Ay)(j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.code)||null});De.meta={name:"createSelector",key:"createSelectorselectPromoCode",description:j=>{var ee;return((ee=z(j))===null||ee===void 0?void 0:ee.code)||null}};const ae=(0,t.Ay)(j=>!j||!j.checkoutFlow?null:j.checkoutFlow.isCheckoutFlowAPIError);ae.meta={name:"createSelector",key:"createSelectorselectIsCheckoutFlowAPIError",description:j=>!j||!j.checkoutFlow?null:j.checkoutFlow.isCheckoutFlowAPIError};const Z=(0,t.Ay)(j=>{const ee=Y(j);return!!(ee!=null&&ee.isActionRequiredOnPurchaseAttempt)});Z.meta={name:"createSelector",key:"createSelectorselectIsActionRequiredOnPurchaseAttempt",description:j=>{const ee=Y(j);return!!(ee!=null&&ee.isActionRequiredOnPurchaseAttempt)}};const ie=(0,t.Ay)(j=>{const ee=Y(j);return ee&&ee.intentSecret||""});ie.meta={name:"createSelector",key:"createSelectorselectIntentSecret",description:j=>{const ee=Y(j);return ee&&ee.intentSecret||""}};const Ce=(0,t.Ay)(j=>{const ee=Y(j);return ee&&ee.billingItemId||""});Ce.meta={name:"createSelector",key:"createSelectorselectBillingItemId",description:j=>{const ee=Y(j);return ee&&ee.billingItemId||""}};const Re=(0,t.Ay)(j=>(0,s.xp)(j,"self_serve_select"));Re.meta={name:"createSelector",key:"createSelectorselectCanViewEnterpriseSelect",description:j=>(0,s.xp)(j,"self_serve_select")};const He=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.addons?null:j.checkoutFlow.checkoutConfiguration.addons[0].id);He.meta={name:"createSelector",key:"createSelectorselectAddonId",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.addons?null:j.checkoutFlow.checkoutConfiguration.addons[0].id};const be=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration?!1:j.checkoutFlow.checkoutConfiguration.isPayingByInvoice);be.meta={name:"createSelector",key:"createSelectorselectIsPayingByInvoice",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration?!1:j.checkoutFlow.checkoutConfiguration.isPayingByInvoice};const Ue=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.addons?null:j.checkoutFlow.checkoutConfiguration.addons.map(ee=>ee.id));Ue.meta={name:"createSelector",key:"createSelectorselectArrayOfAddonIds",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.addons?null:j.checkoutFlow.checkoutConfiguration.addons.map(ee=>ee.id)};const me=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.addons?null:j.checkoutFlow.checkoutConfiguration.addons[0].type);me.meta={name:"createSelector",key:"createSelectorselectAddonType",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.addons?null:j.checkoutFlow.checkoutConfiguration.addons[0].type};const ve=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.selectedAddonTypes?u.Ml:j.checkoutFlow.selectedAddonTypes);ve.meta={name:"createSelector",key:"createSelectorselectAddonsForPurchase",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.selectedAddonTypes?u.Ml:j.checkoutFlow.selectedAddonTypes};const Fe=(0,t.Ay)(j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:j.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate);Fe.meta={name:"createSelector",key:"createSelectorselectAddonBillingDate",description:j=>!j||!j.checkoutFlow||!j.checkoutFlow.checkoutConfiguration||!j.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate?null:j.checkoutFlow.checkoutConfiguration.nextPossibleBillingDate};const Ke=(0,t.Ay)(j=>{var ee;return!j||!j.checkoutFlow?null:(ee=j.checkoutFlow.checkoutConfiguration)===null||ee===void 0?void 0:ee.isEligibleForDataDeletion});Ke.meta={name:"createSelector",key:"createSelectorselectIsEligibleForDataDeletion",description:j=>{var ee;return!j||!j.checkoutFlow?null:(ee=j.checkoutFlow.checkoutConfiguration)===null||ee===void 0?void 0:ee.isEligibleForDataDeletion}}},8368515877:(W,T,e)=>{"use strict";e.d(T,{l:()=>v});var t=e(6304789565),s=e(3048437087),n=e(1649982175),r=e(9113979368),u=e(2927826522),i=e(1545824888),o=e(165535451),a=e(7520484642);const _=(0,t.Ay)("fetches all available pricing plans for the team.",(h,f,y)=>new i.S(I=>{h((0,o.iV)(y)).then(C=>{h((0,a.wt)(C)),I()})}));_.meta={name:"createThunk",key:"createThunkfetchPlansData",description:"fetches all available pricing plans for the team."};const l=_;var p=e(6460545324),g=e(4711657482),c=e(6323355797);const E=m(h=>{var f,y;const I=((f=h.product)===null||f===void 0?void 0:f.level)===h.current_product.level,C=((y=h.product)===null||y===void 0?void 0:y.term)===h.current_product.term,D=h.selected_payment_method===c.uq.CREDIT_CARD;return I&&C&&D?[c.uq.CREDIT_CARD]:h.allowed_payment_methods},"filterAllowedPaymentMethods"),A=m(h=>{var f,y;const I=((f=h.product)===null||f===void 0?void 0:f.level)===h.current_product.level,C=((y=h.product)===null||y===void 0?void 0:y.term)===h.current_product.term;return h.selected_payment_method===c.uq.INVOICE&&I?C?[c.ck.monthly]:[c.ck.yearly]:h.available_terms},"getUpeSelectedAvailableTerms"),d=(0,t.Ay)("Load configuration data for checkout",async(h,f,y)=>{let{checkoutConfigData:I}=y,C=(0,n.A)(I,["clientRequestId","requestId","args","method","ok"]);const D=!(0,r.A)(C);if(D){var M,P,S,b,O;C=Object.assign(C,{planLevel:(M=C.product)===null||M===void 0?void 0:M.level,term:(P=C.product)===null||P===void 0?void 0:P.term,isTrial:(S=C.product)===null||S===void 0?void 0:S.is_trial,isPayingByInvoice:C.current_product.is_invoice,currency:(b=C.product)===null||b===void 0?void 0:b.currency,productId:(O=C.product)===null||O===void 0?void 0:O.id,currentPlanLevel:C.current_product.level,currentTerm:C.current_product.term,currentIsTrial:C.current_product.is_trial,currentCurrency:C.current_product.currency,currentProductId:C.current_product.id,allowedPaymentMethods:E(C),upeSelectedAvailableTerms:A(C),isEligibleForDataDeletion:C.is_eligible_for_data_deletion}),delete C.product,delete C.current_product}C=(0,u.A)(C),h((0,g.yK)(C)),D&&(h((0,g.Kv)(C)),await h(l({checkout_step:p.Ay.form})))});d.meta={name:"createThunk",key:"createThunkloadCheckoutConfigurationData",description:"Load configuration data for checkout"};const v=(0,t.Ay)("Fetch configuration data for checkout",async(h,f,y)=>{let{productId:I=null}=y;const C="fetchConfigurationData",D=await h((0,s.n)(I?{productId:I,reason:C}:{reason:C}));await h(d({checkoutConfigData:D}))});v.meta={name:"createThunk",key:"createThunkfetchConfigurationData",description:"Fetch configuration data for checkout"}},2222994823:(W,T,e)=>{"use strict";e.d(T,{I:()=>i});var t=e(2774532222),s=e(6323355797),n=e(4252064756),r=e(7732872146);const u=m(a=>{const _=(0,r.Ay)(a),l=_&&_.pathname;return(0,n.D)(_)&&(0,t.A)(l,(0,s.hZ)())},"isPlansAppUrl"),i=m(a=>a&&!u(a),"shouldCheckoutRedirect"),o={isPlansAppUrl:u}},4653418008:(W,T,e)=>{"use strict";e.d(T,{LA:()=>r,Th:()=>u,kl:()=>n,yg:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Set the current theme field in redux (do not use this)");s.meta={name:"createAction",key:"createActionsetClientThemeInternal",description:"Set the current theme field in redux (do not use this)"};const n=(0,t.Ay)("Set the OS system sync field in redux (do not use this)");n.meta={name:"createAction",key:"createActionsetSystemSyncInternal",description:"Set the OS system sync field in redux (do not use this)"};const r=(0,t.Ay)("Set the OS system theme field in redux (do not use this)");r.meta={name:"createAction",key:"createActionsetSystemTheme",description:"Set the OS system theme field in redux (do not use this)"};const u=(0,t.Ay)("Set the client typeface");u.meta={name:"createAction",key:"createActionsetClientTypeface",description:"Set the client typeface"}},5922222922:(W,T,e)=>{"use strict";e.d(T,{C3:()=>n,k4:()=>t,u7:()=>s});const t="slack-client-theme",s="slack-client-theme-os-sync",n="client-typeface"},5923036663:(W,T,e)=>{"use strict";e.d(T,{A:()=>I});var t=e(1703559452),s=e(337319621),n=e(4096483543),r=e(958961878),u=e(9323322135),i=e(9139930183),o=e(6533394955),a=e(7384121809),_=e(5922222922),l=e(4653418008),p=e(3328068409),g=e(767804497),c=e(7439773700),E=e(9012396182),A=e(9733150292);let d="light",v=!1,h="light",f;try{f=(0,A.W6)(_.C3)||void 0}catch{}try{r.w2&&(0,n.A)()&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").addListener(C=>{const D=C.matches?"dark":"light";h=D,v&&(d=h);const M=(0,a.en)();if(M){const P=M.getState(),S=(0,E.getBootedWorkspaces)(P),b=(0,t.A)(S.map(O=>(0,r.Ay)((0,o.$D)(O))));M.dispatch((0,l.LA)(D)),b&&(0,p.FW)(P)&&M.dispatch((0,g.P)(D))}})}catch(C){(0,s.Wo)().warn("CLIENT-THEME-STORE","window.matchMedia hook failed; system theme will not be updated.",C)}try{const C=window.localStorage.getItem(_.k4),D=window.localStorage.getItem(_.u7);d=C||"light",r.w2&&(D?v=D==="true":v=!C,window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(h="dark"),v&&(d=h)),(0,u.g9M)()&&((0,u.cGU)({name:"userTheme",value:d}),(0,u.cGU)({name:"systemThemeSyncEnabled",value:v}))}catch(C){(0,s.Wo)().warn("CLIENT-THEME-STORE","localStorage read failed; client theme will not be persisted.",C)}const I=(0,i.Ay)({},{clientTheme:d,systemSync:v,systemTheme:h,clientTypeface:f},{storeKey:"clientTheme",persistenceEnabled:!1}).on(l.yg,function(C){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...C,clientTheme:D}}).on(l.kl,function(C){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return{...C,systemSync:D}}).on(l.LA,function(C){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"light";return{...C,systemTheme:D}}).on(l.Th,function(C){let D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:(0,c.kh)();return{...C,clientTypeface:D}})},767804497:(W,T,e)=>{"use strict";e.d(T,{P:()=>i});var t=e(337319621),s=e(9323322135),n=e(6304789565),r=e(5922222922),u=e(4653418008);const i=(0,n.Ay)("Set the current theme for the device",function(o,a){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"light";try{window.localStorage.setItem(r.k4,_)}catch{(0,t.Wo)().warn("CLIENT-THEME-STORE","localStorage write failed; client theme will not be persisted.")}o((0,u.yg)(_)),(0,s.cGU)({name:"userTheme",value:_})});i.meta={name:"createThunk",key:"createThunksetClientTheme",description:"Set the current theme for the device"}},5670953896:(W,T,e)=>{"use strict";e.d(T,{$_:()=>A,Ci:()=>u,Dn:()=>r,F8:()=>l,MJ:()=>c,N2:()=>a,RX:()=>o,Xc:()=>E,ij:()=>n,pq:()=>p,qE:()=>i,rj:()=>g,sR:()=>s,vN:()=>_});var t=e(2140362605);const s=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound connect invites");s.meta={name:"createAction",key:"createActionresetConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound connect invites"};const n=(0,t.Ay)("Resets Slack Connect Invites to the provided inbound/outbound pending connect invites");n.meta={name:"createAction",key:"createActionresetPendingConnectInvites",description:"Resets Slack Connect Invites to the provided inbound/outbound pending connect invites"};const r=(0,t.Ay)("Upserts a Slack Connect Invite");r.meta={name:"createAction",key:"createActionupsertConnectInvite",description:"Upserts a Slack Connect Invite"};const u=(0,t.Ay)("Upserts a pending Slack Connect Invite");u.meta={name:"createAction",key:"createActionupsertPendingConnectInvite",description:"Upserts a pending Slack Connect Invite"};const i=(0,t.Ay)("Removes a Slack Connect Invite");i.meta={name:"createAction",key:"createActionremoveConnectInvite",description:"Removes a Slack Connect Invite"};const o=(0,t.Ay)("Removes a pending Slack Connect Invite");o.meta={name:"createAction",key:"createActionremovePendingConnectInvite",description:"Removes a pending Slack Connect Invite"};const a=(0,t.Ay)("Sets freshness flag for Slack Connect invites");a.meta={name:"createAction",key:"createActionsetAreInvitesFresh",description:"Sets freshness flag for Slack Connect invites"};const _=(0,t.Ay)("Sets whether logged-in member's email has been verified for Slack Connect visibility purposes");_.meta={name:"createAction",key:"createActionsetIsEmailVerified",description:"Sets whether logged-in member's email has been verified for Slack Connect visibility purposes"};const l=(0,t.Ay)("Sets whether logged-in member's email verification has failed");l.meta={name:"createAction",key:"createActionsetIsUserVerificationFetchError",description:"Sets whether logged-in member's email verification has failed"};const p=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect channel invite");p.meta={name:"createAction",key:"createActionupsertChannelConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect channel invite"};const g=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect DM invite");g.meta={name:"createAction",key:"createActionupsertDmConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect DM invite"};const c=(0,t.Ay)("Upserts an acceptance eligibility result for a Slack Connect space invite");c.meta={name:"createAction",key:"createActionupsertSpaceConnectInviteAcceptanceEligibilityResult",description:"Upserts an acceptance eligibility result for a Slack Connect space invite"};const E=(0,t.Ay)("Upserts whether an acceptance attempt has failed for a specific Slack Connect invite");E.meta={name:"createAction",key:"createActionupsertHasConnectInviteAcceptanceFailed",description:"Upserts whether an acceptance attempt has failed for a specific Slack Connect invite"};const A=(0,t.Ay)("Sets whether we are currently switching workspaces");A.meta={name:"createAction",key:"createActionsetIsSwitchingWorkspaces",description:"Sets whether we are currently switching workspaces"}},1496122061:(W,T,e)=>{"use strict";e.d(T,{d:()=>a});var t=e(1605540670),s=e(3243667193),n=e(320199792),r=e(2368561198),u=e(6304789565),i=e(5670953896),o=e(5914498199);const a=(0,u.Ay)("Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites",async(_,l,p)=>{let{reason:g}=p,c;const E=[s.k.Channel,s.k.Im];(0,r.i)(l())&&E.push(s.k.Workspace);const d=await _((0,t.O)({reason:g,inviteTypes:E,onlyPendingInvites:!0}));if(d!=null&&d.connect_invites){c=d.connect_invites;const v=c.filter(n.Ef),h=c.filter(n.I4);_((0,o.R)({connectInvites:c})),_((0,i.ij)({pendingInboundConnectInvites:v,pendingOutboundConnectInvites:h}))}return c||[]});a.meta={name:"createThunk",key:"createThunkfetchAndResetAllPendingConnectInvites",description:"Fetch and reset the result of connectInvites.list with only pending invites for inbound/outbound invites"}},6111266013:(W,T,e)=>{"use strict";e.d(T,{p:()=>a});var t=e(1605540670),s=e(3622175906),n=e(3243667193),r=e(2368561198),u=e(6304789565),i=e(5670953896),o=e(5914498199);const a=(0,u.Ay)("Fetch and upsert the result of connectInvites.list for inbound/outbound invites",async(_,l,p)=>{let{reason:g,direction:c,includeInviteRequests:E}=p,A;const d=[n.k.Channel,n.k.Im];(0,r.i)(l())&&d.push(n.k.Workspace);const h=await _((0,t.O)({reason:g,direction:c,inviteTypes:d,includeInviteRequests:E}));if(h!=null&&h.connect_invites){A=h.connect_invites,_((0,o.R)({connectInvites:A}));const f={inboundConnectInvites:c===s.D.Incoming?A:void 0,outboundConnectInvites:c===s.D.Outgoing?A:void 0};_((0,i.sR)(f))}return A||[]});a.meta={name:"createThunk",key:"createThunkfetchAndResetConnectInvites",description:"Fetch and upsert the result of connectInvites.list for inbound/outbound invites"}},5914498199:(W,T,e)=>{"use strict";e.d(T,{R:()=>r});var t=e(320199792),s=e(6304789565),n=e(7679955939);const r=(0,s.Ay)("Upsert any non-local members referenced in the specified connect invites",async(u,i,o)=>{let{connectInvites:a}=o;const _=[];a.forEach(l=>{const p=(0,t.$N)(l);if((0,t.I4)(l)&&p&&p.forEach(g=>{_.push((0,t.mZ)(g))}),(0,t.Ef)(l)){_.push((0,t.y1)(l));const g=(0,t.kR)(l);g&&_.push(g)}}),u((0,n.Ay)({members:_}))});r.meta={name:"createThunk",key:"createThunkupsertMembersFromConnectInvites",description:"Upsert any non-local members referenced in the specified connect invites"}},6591744424:(W,T,e)=>{"use strict";e.d(T,{A8:()=>A,IC:()=>_,If:()=>E,S_:()=>g,Uf:()=>c,Z3:()=>f,cf:()=>a,nT:()=>y,tD:()=>l,zm:()=>d});var t=e(3009309149),s=e(3385422400),n=e(2047021170),r=e(8262898118),u=e(28129577),i=e(337319621);const o=(0,t.Ay)(I=>{var C;return I==null||(C=I.siwsDomains)===null||C===void 0?void 0:C.domainsCollection});o.meta={name:"createSelector",key:"createSelectorgetDomains",description:I=>{var C;return I==null||(C=I.siwsDomains)===null||C===void 0?void 0:C.domainsCollection}};const a=(0,t.Ay)(I=>{var C;return I==null||(C=I.connectedApps)===null||C===void 0?void 0:C.loading});a.meta={name:"createSelector",key:"createSelectorselectLoadingState",description:I=>{var C;return I==null||(C=I.connectedApps)===null||C===void 0?void 0:C.loading}};const _=m(I=>{const C=(0,n.ty)(I,"identity_links_prefs");if(C)try{return JSON.parse(C)}catch{return(0,i.Ay)({state:I}).warn("Unable to parse identity_links_prefs JSON string"),{}}return{}},"selectIdentityLinksPrefs"),l=(0,s.Mz)(_,Object.keys),p=(0,t.Ay)(I=>{var C;return I==null||(C=I.connectedApps)===null||C===void 0?void 0:C.apps});p.meta={name:"createSelector",key:"createSelectorselectAppProfileInfo",description:I=>{var C;return I==null||(C=I.connectedApps)===null||C===void 0?void 0:C.apps}};const g=(0,s.Mz)(l,p,(I,C)=>I.filter(D=>!C[D])),c=(0,s.Mz)(_,p,r.pf,function(I,C){let D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(I).map(S=>C[S]?{...C[S].profile||{},...(0,u.XK)(I[S])||{},domain:D[S]||{}}:null).filter(S=>Boolean(S))}),E=(0,s.Mz)(c,I=>I.filter(C=>C==null?void 0:C.completedTransfer).sort((C,D)=>D.dateCompletedTransfer-C.dateCompletedTransfer)),A=(0,s.Mz)(c,I=>I.filter(C=>C==null?void 0:C.dateDisconnected).sort((C,D)=>D.dateDisconnected-C.dateDisconnected)),d=(0,s.Mz)(c,I=>I.filter(C=>(C==null?void 0:C.numSkipped)&&!(C!=null&&C.completedTransfer)).sort((C,D)=>D.dateLastSkipped-C.dateLastSkipped)),v=m(I=>{const C=(0,n.ty)(I,"identity_links_global_prefs");if(C)try{return(0,u.XK)(JSON.parse(C))}catch{return(0,i.Ay)({state:I}).warn("Unable to parse identity_links_global_prefs JSON string"),{}}return{}},"selectIdentityLinksGlobalPrefs"),h=(0,s.Mz)(v,I=>I==null?void 0:I.dateDisabled),f=(0,s.Mz)(h,I=>!I),y=(0,t.Ay)(I=>{var C;return I==null||(C=I.connectedApps)===null||C===void 0?void 0:C.error});y.meta={name:"createSelector",key:"createSelectorselectError",description:I=>{var C;return I==null||(C=I.connectedApps)===null||C===void 0?void 0:C.error}}},6168781067:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(9139930183),s=e(2456103428);const n={serviceOnline:!0,lastSocketActivity:0,clientOnline:!0,lastClientConnection:Date.now(),lastSocketConnection:0},u=(0,t.Ay)({},n,{storeKey:"connectivity",persistenceEnabled:!1}).on(s.pm,(i,o)=>({...i,serviceOnline:!!o})).on(s.Uj,i=>i===n?{...i,lastSocketActivity:Date.now()}:(i.lastSocketActivity=Date.now(),i)).on(s.p9,(i,o)=>({...i,clientOnline:!!o,lastClientConnection:Date.now()})).on(s.hM,i=>({...i,lastSocketConnection:Date.now()}))},1314103953:(W,T,e)=>{"use strict";e.d(T,{b:()=>n,k:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Set a value that represents whether we are currently in the boot phase");s.meta={name:"createAction",key:"createActionsetBootInFlight",description:"Set a value that represents whether we are currently in the boot phase"};const n=(0,t.Ay)("Set a value that represents whether we are currently performing a warm boot");n.meta={name:"createAction",key:"createActionsetWarmBootInFlight",description:"Set a value that represents whether we are currently performing a warm boot"}},9469211187:(W,T,e)=>{"use strict";e.d(T,{d:()=>n,f:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Remove prefs for a given channel");s.meta={name:"createAction",key:"createActionremovePrefsForConversation",description:"Remove prefs for a given channel"};const n=(0,t.Ay)("Set channel prefs associated with a given channel");n.meta={name:"createAction",key:"createActionsetConversationsListPrefs",description:"Set channel prefs associated with a given channel"}},7914670207:(W,T,e)=>{"use strict";e.d(T,{Dq:()=>g,YO:()=>c,im:()=>A});var t=e(3398586081),s=e(1545824888),n=e(6639221719),r=e(8352634987),u=e(2028988448),i=e(6304789565),o=e(6533394955),a=e(9469211187),_=e(8081461848);const l=(0,i.Ay)("Fetch and upsert channel list prefs",async(v,h,f)=>{let{channelId:y,teamId:I}=f;const C=await v((0,n.U)({channel:y,reason:"client_redux_store"})),{prefs:D}=C;v((0,a.d)({channelId:y,prefs:D})),E(I,y)});l.meta={name:"createThunk",key:"createThunkfetchAndUpsertConversationsListPrefs",description:"Fetch and upsert channel list prefs"};const p=(0,t.A)(()=>new r.Ay({storeKey:_.U,fetch:(v,h)=>s.S.map(h,f=>(0,o.Qw)(v,l({channelId:f,teamId:v}))),isEnabled:()=>!0,metricsName:_.U})),g=m((v,h)=>p().markObjectsAsStale(v,[h]),"markConversationsListPrefsAsStale"),c=m((v,h)=>p().markObjectsAsStale(v,h),"markConversationsListPrefsAsStaleForMultipleChannels"),E=m((v,h)=>p().markObjectsAsFresh(v,[h]),"markConversationsListPrefsAsFresh"),A=m((v,h)=>p().maybeRefetch(v,h),"maybeRefetchConversationsListPrefs"),d={fetchAndUpsertConversationsListPrefs:l};(0,u.zv)("conditionalFetchManagerConversationsListPrefs",p)},8081461848:(W,T,e)=>{"use strict";e.d(T,{A:()=>i,U:()=>n});var t=e(9139930183),s=e(9469211187);const n="conversationsListPrefs",r={},i=(0,t.Ay)({},r,{storeKey:n,persistenceEnabled:!0}).on(s.f,(o,a)=>{let{channelId:_}=a;if(!_||!o[_])return o;const l={...o};return delete l[_],l}).on(s.d,(o,a)=>{let{channelId:_,prefs:l}=a;return _?{...o,[_]:l}:o})},2527994834:(W,T,e)=>{"use strict";e.d(T,{Q:()=>i});var t=e(3385422400),s=e(8040098042),n=e(8847766420),r=e(7914670207);const u=m((o,a)=>{var _;const l=(0,n.ZT)(o);if(!l||!(0,s.A)(a))return null;(0,r.im)(l,a);var p;return(p=o==null||(_=o.conversationsListPrefs)===null||_===void 0?void 0:_[a])!==null&&p!==void 0?p:null},"getConversationsListPrefsByChannelId"),i=(0,t.Mz)((o,a,_)=>u(o,_),(o,a)=>a,(o,a)=>o==null?void 0:o[a])},330221449:(W,T,e)=>{"use strict";e.d(T,{Ot:()=>n,S9:()=>u,X8:()=>s,d$:()=>o,d1:()=>a,en:()=>i,gx:()=>r});var t=e(2140362605);const s=(0,t.Ay)("Adds the new set of custom emoji to the existing store");s.meta={name:"createAction",key:"createActionaddCustomEmoji",description:"Adds the new set of custom emoji to the existing store"};const n=(0,t.Ay)("Resets the array of custom emoji in the store");n.meta={name:"createAction",key:"createActionsetNewCustomEmojiData",description:"Resets the array of custom emoji in the store"};const r=(0,t.Ay)("Removes the specified custom emoji from the store");r.meta={name:"createAction",key:"createActionremoveCustomEmoji",description:"Removes the specified custom emoji from the store"};const u=(0,t.Ay)("Renames a disabled custom emoji");u.meta={name:"createAction",key:"createActionrenameCustomEmoji",description:"Renames a disabled custom emoji"};const i=(0,t.Ay)("Set the loading status for the API request when a new page is loading");i.meta={name:"createAction",key:"createActionsetIsLoadingNewPage",description:"Set the loading status for the API request when a new page is loading"};const o=(0,t.Ay)("Set the loading status for the API request when a user searches for emojis");o.meta={name:"createAction",key:"createActionsetIsLoadingNewSearchQuery",description:"Set the loading status for the API request when a user searches for emojis"};const a=(0,t.Ay)("Set the current sort category and direction for the table");a.meta={name:"createAction",key:"createActionsetSort",description:"Set the current sort category and direction for the table"}},1484767411:(W,T,e)=>{"use strict";e.d(T,{o:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Record that a message was deleted");s.meta={name:"createAction",key:"createActionrecordMessageDeleted",description:"Record that a message was deleted"}},6739248722:(W,T,e)=>{"use strict";e.d(T,{k:()=>s});var t=e(3009309149);const s=(0,t.Ay)((n,r)=>{let{channelId:u,ts:i}=r;return n&&n.deletedMessages&&n.deletedMessages[u]&&!!n.deletedMessages[u][i]});s.meta={name:"createSelector",key:"createSelectorwasMessageDeleted",description:(n,r)=>{let{channelId:u,ts:i}=r;return n&&n.deletedMessages&&n.deletedMessages[u]&&!!n.deletedMessages[u][i]}}},1378315125:(W,T,e)=>{"use strict";e.d(T,{$3:()=>a,Bt:()=>i,Ez:()=>n,LS:()=>l,Mk:()=>r,NN:()=>g,XF:()=>u,Y$:()=>c,Yv:()=>s,_F:()=>_,jC:()=>p,n9:()=>E,oR:()=>d,um:()=>A,yz:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Sets the highlight property of a download");s.meta={name:"createAction",key:"createActioninternalSetDownloadHighlight",description:"Sets the highlight property of a download"};const n=(0,t.Ay)("An update of the desktop state from the desktop app");n.meta={name:"createAction",key:"createActionupdateFromDesktop",description:"An update of the desktop state from the desktop app"};const r=(0,t.Ay)("An update of the window frame state");r.meta={name:"createAction",key:"createActionupdateWindowFrameState",description:"An update of the window frame state"};const u=(0,t.Ay)("Starts a download on the desktop app");u.meta={name:"createAction",key:"createActionstartDesktopDownload",description:"Starts a download on the desktop app"};const i=(0,t.Ay)("Pauses a download on the desktop app");i.meta={name:"createAction",key:"createActionpauseDesktopDownload",description:"Pauses a download on the desktop app"};const o=(0,t.Ay)("Resumes a download on the desktop app");o.meta={name:"createAction",key:"createActionresumeDesktopDownload",description:"Resumes a download on the desktop app"};const a=(0,t.Ay)("Cancels a download on the desktop app");a.meta={name:"createAction",key:"createActioncancelDesktopDownload",description:"Cancels a download on the desktop app"};const _=(0,t.Ay)("Clears all stopped downloads for the active team");_.meta={name:"createAction",key:"createActionclearTeamDesktopDownloads",description:"Clears all stopped downloads for the active team"};const l=(0,t.Ay)("Removes a download on the desktop app");l.meta={name:"createAction",key:"createActionremoveDesktopDownload",description:"Removes a download on the desktop app"};const p=(0,t.Ay)("Retries a download on the desktop app");p.meta={name:"createAction",key:"createActionretryDesktopDownload",description:"Retries a download on the desktop app"};const g=(0,t.Ay)("Opens a file downloaded by the desktop app");g.meta={name:"createAction",key:"createActionopenDesktopDownload",description:"Opens a file downloaded by the desktop app"};const c=(0,t.Ay)("Shows the folder that contains the downloaded file");c.meta={name:"createAction",key:"createActionshowDesktopDownload",description:"Shows the folder that contains the downloaded file"};const E=(0,t.Ay)("Toggles the performance monitor");E.meta={name:"createAction",key:"createActiontogglePerformanceMonitor",description:"Toggles the performance monitor"};const A=(0,t.Ay)("Sets the currently active team in the SSB");A.meta={name:"createAction",key:"createActionsetActiveTeam",description:"Sets the currently active team in the SSB"};const d=(0,t.Ay)("Update canvas system text settings in the SSB");d.meta={name:"createAction",key:"createActionsetCanvasSystemTextSettings",description:"Update canvas system text settings in the SSB"}},7902571278:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(9139930183),s=e(4103274853),n=e(3571452446),r=e(2003990933),u=e(7715417323),i=e(9323322135),o=e(1378315125);const a=m((c,E)=>(0,s.A)(c,(A,d)=>(0,s.A)(A,(v,h)=>E(d,h,v))),"mapDownloads"),_=m(c=>({...{app:{},environment:{},settings:{},...(0,n.A)(c,["app","settings","environment"]),windows:(0,s.A)((c==null?void 0:c.windows)||{},A=>({frame:(0,n.A)(A.frame,["isFullScreen","isFocused","isVisible","hasVibrancy","isCurrentlyAudible"])})),downloads:a((c==null?void 0:c.downloads)||{},(A,d,v)=>({...v,highlight:!1})),debug:{isPerformanceMonitorEnabled:!1}},activeTeamId:(0,r.A)(window,"desktop.reduxHelper.state.selectedTeamId")}),"initializeState"),l=(0,i.g9M)()?_((0,r.A)(window,"desktop.redux.getState",u.A)()):null,g=(0,t.Ay)({},l,{storeKey:"desktop",persistenceEnabled:!1}).on(o.Ez,(c,E)=>{const A=E.downloads?a(E.downloads,(d,v,h)=>({...h,highlight:(0,r.A)(c.downloads,[d,v,"highlight"],!1)})):c.downloads;return{...c,...E,downloads:A}}).on(o.Mk,(c,E)=>{let{windowId:A,property:d,value:v}=E;var h,f,y;return{...c,windows:{...c.windows,[A]:{...((h=c.windows)===null||h===void 0?void 0:h[A])||{},frame:{...((f=c.windows)===null||f===void 0||(y=f[A])===null||y===void 0?void 0:y.frame)||{},[d]:v}}}}}).on(o.Yv,(c,E)=>{let{fileId:A,teamId:d,highlight:v}=E;return(0,r.A)(c.downloads,[d,A])?{...c,downloads:{...c.downloads,[d]:{...c.downloads[d],[A]:{...c.downloads[d][A],highlight:v}}}}:c}).on(o.n9,c=>({...c,debug:{...c.debug,isPerformanceMonitorEnabled:!c.debug.isPerformanceMonitorEnabled}})).on(o.um,(c,E)=>E?{...c,activeTeamId:E}:c)},7600673124:(W,T,e)=>{"use strict";e.d(T,{y:()=>s});var t=e(5818203962);const s=m((n,r)=>(0,t.I$)(n,r),"getIsMemberDisconnectedById")},4318855015:(W,T,e)=>{"use strict";e.d(T,{$x:()=>u,H9:()=>s,at:()=>o,j_:()=>_,jy:()=>a,o2:()=>r,qw:()=>n,su:()=>i});var t=e(2140362605);const s=(0,t.Ay)("Mark emoji collections as fetch (or not fetched");s.meta={name:"createAction",key:"createActionsetEmojiCollectionsFetched",description:"Mark emoji collections as fetch (or not fetched"};const n=(0,t.Ay)("Set and replace emoji collections");n.meta={name:"createAction",key:"createActionsetEmojiCollections",description:"Set and replace emoji collections"};const r=(0,t.Ay)("Signals that an emoji collection has been installed");r.meta={name:"createAction",key:"createActioninstallEmojiCollection",description:"Signals that an emoji collection has been installed"};const u=(0,t.Ay)("Signals that an emoji collection has been uninstalled");u.meta={name:"createAction",key:"createActionuninstallEmojiCollection",description:"Signals that an emoji collection has been uninstalled"};const i=(0,t.Ay)("Signals that badges should be added post-install");i.meta={name:"createAction",key:"createActionbadgeEmojiCollection",description:"Signals that badges should be added post-install"};const o=(0,t.Ay)("Signals that the message input badge should be removed");o.meta={name:"createAction",key:"createActionremoveEmojiCollectionInputBadge",description:"Signals that the message input badge should be removed"};const a=(0,t.Ay)("Signals that the message tab badge should be removed from the emoji picker");a.meta={name:"createAction",key:"createActionremoveEmojiCollectionTabBadge",description:"Signals that the message tab badge should be removed from the emoji picker"};const _=(0,t.Ay)("Increments emoji click count");_.meta={name:"createAction",key:"createActionincrementEmojiClickCount",description:"Increments emoji click count"}},3004085654:(W,T,e)=>{"use strict";e.d(T,{Cs:()=>g,Ur:()=>d,_J:()=>v,_o:()=>E,fl:()=>h,nQ:()=>c,pG:()=>A,uI:()=>p});var t=e(2101927269),s=e(9113979368),n=e(2141441167),r=e(2048121586),u=e(6696292586),i=e(3009309149),o=e(3385422400),a=e(2047021170);const _=60*60*24*14,l=(0,i.Ay)((f,y)=>f&&f.emojiCollections&&f.emojiCollections.collections&&f.emojiCollections.collections[y]);l.meta={name:"createSelector",key:"createSelectorgetEmojiCollection",description:(f,y)=>f&&f.emojiCollections&&f.emojiCollections.collections&&f.emojiCollections.collections[y]};const p=(0,i.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.collections);p.meta={name:"createSelector",key:"createSelectorgetEmojiCollections",description:f=>f&&f.emojiCollections&&f.emojiCollections.collections};const g=(0,o.Mz)(p,f=>(0,t.A)(f,y=>y.installed)),c=(0,i.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.hasFetched);c.meta={name:"createSelector",key:"createSelectorhasFetchedEmojiCollections",description:f=>f&&f.emojiCollections&&f.emojiCollections.hasFetched};const E=(0,i.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.inputBadge);E.meta={name:"createSelector",key:"createSelectorgetInputBadge",description:f=>f&&f.emojiCollections&&f.emojiCollections.inputBadge};const A=(0,i.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.tabBadge);A.meta={name:"createSelector",key:"createSelectorgetTabBadge",description:f=>f&&f.emojiCollections&&f.emojiCollections.tabBadge};const d=(0,i.Ay)(f=>f&&f.emojiCollections&&f.emojiCollections.emojiClickCount);d.meta={name:"createSelector",key:"createSelectorgetEmojiClickCount",description:f=>f&&f.emojiCollections&&f.emojiCollections.emojiClickCount};const v=(0,i.Ay)(f=>{const y=p(f);if((0,s.A)(y))return null;const I=(0,n.A)(y);return(0,r.A)(I,C=>C.date_create)});v.meta={name:"createSelector",key:"createSelectorgetMostRecentPack",description:f=>{const y=p(f);if((0,s.A)(y))return null;const I=(0,n.A)(y);return(0,r.A)(I,C=>C.date_create)}};const h=(0,i.Ay)(f=>{const y=(0,a.ty)(f,"emoji_packs_most_recent_available_time");if(!(0,u.A)(y))return!1;const I=y+_;return Date.now()/1e3<I});h.meta={name:"createSelector",key:"createSelectorisWithinExpirationDateOfNewPack",description:f=>{const y=(0,a.ty)(f,"emoji_packs_most_recent_available_time");if(!(0,u.A)(y))return!1;const I=y+_;return Date.now()/1e3<I}}},7564917982:(W,T,e)=>{"use strict";e.d(T,{H:()=>c});var t=e(7156798807),s=e(6304789565),n=e(1194535350),r=e(2878685908),u=e(3004085654),i=e(4318855015),o=e(2048121586),a=e(2047021170),_=e(5510392579),l=e(387484329);const p=(0,s.Ay)("handle updating prefs if new emoji pack has become available",(E,A,d)=>{let{collections:v}=d;const h=A(),f=(0,_.h3)(h),y=(0,a.ty)(h,"emoji_packs_most_recent_available_time")||0,I=(0,o.A)(v,P=>P.date_create),{date_create:C,installed:D}=I||{};(f||D)&&C>y&&E((0,l.Hj)({emoji_packs_most_recent_available_time:Date.now()/1e3,emoji_packs_clicked_picker_cta:!1,emoji_packs_clicked_picker_post_install_cta:!1,emoji_packs_clicked_collection_cta:!1}))});p.meta={name:"createThunk",key:"createThunkhandlePotentialNewPack",description:"handle updating prefs if new emoji pack has become available"};const g=p,c=(0,s.Ay)("Process and add emoji collections",(E,A,d)=>{let{reason:v}=d;const h=A();(0,u.nQ)(h)||(E((0,i.H9)({hasFetched:!0})),E((0,n.KO)({reason:v})).then(f=>{const y=f.installed||[],I=f.available||[],C=(0,t.A)(y,"id"),D=I.map(M=>({...M,installed:!!C[M.id],localEmoji:C[M.id]?C[M.id].emoji:M.emoji}));E(g({collections:D})),(0,r.Cu)()?E((0,i.qw)({collections:D.filter(M=>!["1044122771874","11"].includes(M.id))})):E((0,i.qw)({collections:D}))}).catch(()=>{E((0,i.H9)({hasFetched:!1}))}))});c.meta={name:"createThunk",key:"createThunkfetchAllEmojiCollections",description:"Process and add emoji collections"}},1890276164:(W,T,e)=>{"use strict";e.d(T,{R:()=>s,t:()=>r});var t=e(3009309149);const s=(0,t.Ay)((i,o)=>{var a;return!!(!((a=i.externalTeamIds)===null||a===void 0)&&a[o])});s.meta={name:"createSelector",key:"createSelectorisTeamExternalById",description:(i,o)=>{var a;return!!(!((a=i.externalTeamIds)===null||a===void 0)&&a[o])}};var n;const r=(0,t.Ay)(i=>!!Object.keys((n=i.externalTeamIds)!==null&&n!==void 0?n:{}).length);var u;r.meta={name:"createSelector",key:"createSelectorhasAnyExternalTeam",description:i=>!!Object.keys((u=i.externalTeamIds)!==null&&u!==void 0?u:{}).length}},5549390246:(W,T,e)=>{"use strict";e.d(T,{Y:()=>d});var t=e(9113979368),s=e(3009309149),n=e(2647703359),r=e(8276911661),u=e(8677230210),i=e(8170643398),o=e(9464746668),a=e(3244118357),_=e(1002129445),l=e(2891736215),p=e(8847766420),g=e(735940183),c=e(6952523491),E=e(2762206868);const A=new g.A("files"),d=(0,s.Ay)((v,h)=>{if(!h||!(0,n.Vx)(h))return null;const f=(0,c.J)(v);let y=A.t("External App");const I=(h==null?void 0:h.bot_user_id)||(h==null?void 0:h.user);if(I){var C;const D=(C=(0,r.nv)(v,I))!==null&&C!==void 0?C:void 0;if((0,i.po)(D)){const M=(0,o.A)(v,D),P=(0,u.AF)(v,M)||void 0,S=(0,a.Hg)(P);if(y=S||y,(0,t.A)(S)&&M){const b=f?(0,E.sO)(v,{appId:P==null?void 0:P.app_id,serviceId:M}):(0,l.G2)(v,{appId:P==null?void 0:P.app_id,serviceId:M,homeWorkspaceId:(0,a.AW)({bot:P,member:D,currentTeamId:(0,p.ZT)(v)})});y=(0,_.fj)(b)||y}}}return y});d.meta={name:"createSelector",key:"createSelectorgetAppNameForRemoteFile",description:(v,h)=>{if(!h||!(0,n.Vx)(h))return null;const f=(0,c.J)(v);let y=A.t("External App");const I=(h==null?void 0:h.bot_user_id)||(h==null?void 0:h.user);if(I){var C;const D=(C=(0,r.nv)(v,I))!==null&&C!==void 0?C:void 0;if((0,i.po)(D)){const M=(0,o.A)(v,D),P=(0,u.AF)(v,M)||void 0,S=(0,a.Hg)(P);if(y=S||y,(0,t.A)(S)&&M){const b=f?(0,E.sO)(v,{appId:P==null?void 0:P.app_id,serviceId:M}):(0,l.G2)(v,{appId:P==null?void 0:P.app_id,serviceId:M,homeWorkspaceId:(0,a.AW)({bot:P,member:D,currentTeamId:(0,p.ZT)(v)})});y=(0,_.fj)(b)||y}}}return y}}},6415612447:(W,T,e)=>{"use strict";e.d(T,{Y:()=>a,r:()=>o});var t=e(3009309149),s=e(9101533895),n=e(3634593162),r=e(497761763),u=e(2960290117),i=e(6078549397);const o=m(_=>{if((0,u.Ay)(_)){const{fileIdOrQuipThreadId:g=null}=(0,i.EX)(_)||{};if(g&&(0,r.A)(g)){const c=g,E=(0,n.p)(c);return{fileId:c,channelId:E}}}if((0,r.A)(_)){const g=_,c=(0,n.p)(g);return{fileId:g,channelId:c}}const l=_;return{fileId:(0,n.l)(l),channelId:l}},"getIds"),a=(0,t.Ay)(function(_,l){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:g}=o(l);return(0,s.OL)(_,g,p)});a.meta={name:"createSelector",key:"createSelectorgetFileChannelById",description:function(_,l){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const{channelId:g}=o(l);return(0,s.OL)(_,g,p)}}},6403218297:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(8086952004),s=e(3571452446),n=e(6217320234),r=e(6626377467);function u(i,o){if(!i||!o)return o;const a=o.comments||[],_=(0,t.A)(a,d=>d.id===i.id),l=(0,s.A)(_,["is_starred","_rxn_key"]),p={..._,...i,...l},g=(0,n.A)((0,r.A)([p,...a],"id"),"timestamp"),E=o.initial_comment&&i.id===o.initial_comment.id?p:o.initial_comment,A={...o,comments:g};return E&&(A.initial_comment=E),A}m(u,"addCommentToFile")},9553287e3:(W,T,e)=>{"use strict";e.d(T,{n:()=>u});var t=e(6304789565),s=e(2384831516);const n=(0,s.Mz)(i=>i.fullscreenHistory);n.meta={name:"createSelector",key:"createSelectorgetFullscreenHistory",description:i=>i.fullscreenHistory};var r=e(8646192222);const u=(0,t.Ay)("Find view container for a specific window history entry",(i,o,a)=>{let{id:_}=a;const l=o();return(0,r.iB)(l)?n(l)[_]:void 0});u.meta={name:"createThunk",key:"createThunkgetFullscreenContainerByHistoryId",description:"Find view container for a specific window history entry"}},56562029:(W,T,e)=>{"use strict";e.d(T,{G:()=>u});var t=e(9139930183),s=e(848813706),n=e(3193155968);const r={enabled:!1,containers:{}},u=(0,t.Ay)({},r,{storeKey:"fullscreen",persistenceEnabled:!1}).on(s.K$,i=>({...i,enabled:!0})).on(s.sM,i=>({...i,enabled:!1,containers:{}})).on(s.BR,(i,o)=>{let{container:a,windowId:_}=o;const l=_===n.N2?"main":_;if(i.containers[l]===a)return i;if(a)return{...i,containers:{...i.containers,[l]:a}};const p={...i};return delete p.containers[l],p})},2332058678:(W,T,e)=>{"use strict";e.d(T,{r:()=>t,u:()=>s});const t={openCount:0,unreadCount:0},s={issues:{},stats:t,locale:"",zdLocale:"",helpSearchArticles:[],productReleaseCards:[],recommendedArticles:{articles:[],requestId:""},helpSections:[],helpCategories:[],helpNavigation:{categoryId:null},helpTour:null,anchorId:null,isArticleLoaded:!1,isHelpTipHistoryTourActive:!1}},761034736:(W,T,e)=>{"use strict";e.d(T,{fE:()=>ne,ZL:()=>pe,Fb:()=>x,wB:()=>G,Cb:()=>Y,sv:()=>w,wg:()=>Ee,tL:()=>se,aN:()=>ye,Mu:()=>ce,Kb:()=>B,cN:()=>V,ZO:()=>F,Eq:()=>Ie,PN:()=>Se});var t=e(3009309149),s=e(8847766420),n=e(3398586081),r=e(2141441167),u=e(8352634987),i=e(6533394955),o=e(4848430086),a=e(6304789565),_=e(930270247),l=e(7629299684),p=e(2927826522);const g=(0,a.Ay)("Fetch product release cards into the store",(X,J,z)=>{let{locale:te}=z;return X((0,_.l)({count:3,type:"product_release_card",locale:te,reason:"client/fetch_published_product_release_cards"})).then($=>{let{cards:q}=$;X((0,l.M0)((0,p.t)(q)))})});g.meta={name:"createThunk",key:"createThunkfetchProductReleaseCards",description:"Fetch product release cards into the store"};var c=e(9532047472);const E=(0,a.Ay)("Fetch helpdesk articles into the store",(X,J,z)=>{let{locale:te,reason:$}=z;return X((0,c.a)({locale:te,reason:$})).then(q=>{let{articles:re}=q;X((0,l.NX)((0,p.t)(re))),X((0,l.a4)(te))})});E.meta={name:"createThunk",key:"createThunkfetchHelpArticles",description:"Fetch helpdesk articles into the store"};var A=e(3593297427),d=e(138202077),v=e(1545824888);const h=(0,a.Ay)("Fetch recommended articles into the store",(X,J,z)=>{let{locale:te,reason:$}=z;return X((0,d.H)({reason:$})).then(async q=>{let{articles:re,request_id:de}=q;const oe=await v.S.all(re.map(async De=>X((0,A.w)({articleId:De.id,locale:te,reason:$})).then(ae=>{let{article:Z}=ae;return{id:Z.article_id,title:Z.title}})));X((0,l.LV)({articles:oe,requestId:de??""}))})});h.meta={name:"createThunk",key:"createThunkfetchRecommendedArticles",description:"Fetch recommended articles into the store"};var f=e(8745755260);const y=(0,a.Ay)("Fetch help sections into the store",(X,J,z)=>{let{categoryId:te,locale:$,reason:q}=z;return X((0,f.h)({categoryId:te,locale:$,reason:q})).then(re=>{let{sections:de}=re;return X((0,l.CK)((0,p.t)(de)))})});y.meta={name:"createThunk",key:"createThunkfetchHelpSections",description:"Fetch help sections into the store"};var I=e(6936450040);const C=(0,a.Ay)("Fetch help categories into the store",(X,J,z)=>{let{locale:te,reason:$}=z;return X((0,I.G)({locale:te,reason:$})).then(q=>{let{categories:re}=q;X((0,l.KO)((0,p.t)(re))),X((0,l.WL)(te))})});C.meta={name:"createThunk",key:"createThunkfetchHelpCategories",description:"Fetch help categories into the store"};const D=(0,n.A)(()=>new u.Ay({storeKey:"help",fetch:X=>(0,i.Qw)(X,(0,o.w)()),isEnabled:()=>!0})),M=(0,n.A)(X=>new u.Ay({storeKey:"help",fetch:J=>(0,i.Qw)(J,g({locale:X})),isEnabled:()=>!0})),P=(0,n.A)((X,J)=>new u.Ay({storeKey:"help",fetch:z=>(0,i.Qw)(z,E({locale:X,reason:J})),isEnabled:()=>!0})),S=(0,n.A)((X,J)=>new u.Ay({storeKey:"help",fetch:z=>(0,i.Qw)(z,h({locale:X,reason:J})),isEnabled:()=>!0,maxAge:()=>86400})),b=(0,n.A)((X,J,z)=>new u.Ay({storeKey:"help",fetch:te=>(0,i.Qw)(te,y({categoryId:X,locale:J,reason:z})),isEnabled:()=>!0}),(X,J)=>(0,r.A)([X,J]).join("_")),O=(0,n.A)((X,J)=>new u.Ay({storeKey:"help",fetch:z=>(0,i.Qw)(z,C({locale:X,reason:J})),isEnabled:()=>!0}));var L=e(2332058678),k=e(9907843289),K=e(735940183);const N=new K.A("help"),R="",U=(0,t.Ay)(X=>X&&X.help||L.u);U.meta={name:"createSelector",key:"createSelectorgetHelpState",description:X=>X&&X.help||L.u};const x=(0,t.Ay)((X,J)=>{const z=(0,s.ZT)(X),te=(0,k.db)();return U(X).zdLocale!==te&&P(te,J).markObjectsAsStale(z,[te]),P(te,J).maybeRefetch(z,te),U(X).helpSearchArticles||[]});x.meta={name:"createSelector",key:"createSelectorgetHelpArticles",description:(X,J)=>{const z=(0,s.ZT)(X),te=(0,k.db)();return U(X).zdLocale!==te&&P(te,J).markObjectsAsStale(z,[te]),P(te,J).maybeRefetch(z,te),U(X).helpSearchArticles||[]}};const B=(0,t.Ay)(X=>{const J=(0,s.ZT)(X),z=(0,k.Yp)();return U(X).locale!==z&&M(z).markObjectsAsStale(J,[z]),M(z).maybeRefetch(J,z),U(X).productReleaseCards||[]});B.meta={name:"createSelector",key:"createSelectorgetProductReleaseCards",description:X=>{const J=(0,s.ZT)(X),z=(0,k.Yp)();return U(X).locale!==z&&M(z).markObjectsAsStale(J,[z]),M(z).maybeRefetch(J,z),U(X).productReleaseCards||[]}};const F=(0,t.Ay)((X,J)=>{var z;const te=(0,s.ZT)(X),$=(0,k.Yp)();return U(X).locale!==$&&S($,J).markObjectsAsStale(te,[$]),S($,J).maybeRefetch(te,$),((z=U(X).recommendedArticles)===null||z===void 0?void 0:z.articles)||[]});F.meta={name:"createSelector",key:"createSelectorgetRecommendedArticles",description:(X,J)=>{var z;const te=(0,s.ZT)(X),$=(0,k.Yp)();return U(X).locale!==$&&S($,J).markObjectsAsStale(te,[$]),S($,J).maybeRefetch(te,$),((z=U(X).recommendedArticles)===null||z===void 0?void 0:z.articles)||[]}};const V=(0,t.Ay)(X=>{var J;return((J=U(X).recommendedArticles)===null||J===void 0?void 0:J.requestId)||""});V.meta={name:"createSelector",key:"createSelectorgetRecommendArticlesRequestId",description:X=>{var J;return((J=U(X).recommendedArticles)===null||J===void 0?void 0:J.requestId)||""}};const Y=(0,t.Ay)(X=>U(X).helpNavigation||L.u.helpNavigation);Y.meta={name:"createSelector",key:"createSelectorgetHelpNavigation",description:X=>U(X).helpNavigation||L.u.helpNavigation};const w=(0,t.Ay)((X,J,z)=>{var te,$;const q=(0,s.ZT)(X),re=(0,k.Yp)(),de=U(X).locale,oe=z??((te=U(X).helpNavigation)===null||te===void 0?void 0:te.categoryId),De=($=U(X).helpSections[0])===null||$===void 0?void 0:$.categoryId;return oe?(De&&oe!==De?(b(oe,re,J).markObjectsAsStale(q,[oe.toString()]),b(oe,re,J).maybeRefetch(q,oe.toString())):de!==re&&b(oe,re,J).markObjectsAsStale(q,[re]),b(oe,re,J).maybeRefetch(q,re),U(X).helpSections||[]):U(X).helpSections||[]});w.meta={name:"createSelector",key:"createSelectorgetHelpSections",description:(X,J,z)=>{var te,$;const q=(0,s.ZT)(X),re=(0,k.Yp)(),de=U(X).locale,oe=z??((te=U(X).helpNavigation)===null||te===void 0?void 0:te.categoryId),De=($=U(X).helpSections[0])===null||$===void 0?void 0:$.categoryId;return oe?(De&&oe!==De?(b(oe,re,J).markObjectsAsStale(q,[oe.toString()]),b(oe,re,J).maybeRefetch(q,oe.toString())):de!==re&&b(oe,re,J).markObjectsAsStale(q,[re]),b(oe,re,J).maybeRefetch(q,re),U(X).helpSections||[]):U(X).helpSections||[]}};const G=(0,t.Ay)((X,J)=>{const z=(0,s.ZT)(X),te=(0,k.Yp)();return U(X).locale!==te&&O(te,J).markObjectsAsStale(z,[te]),O(te,J).maybeRefetch(z,te),U(X).helpCategories||[]});G.meta={name:"createSelector",key:"createSelectorgetHelpCategories",description:(X,J)=>{const z=(0,s.ZT)(X),te=(0,k.Yp)();return U(X).locale!==te&&O(te,J).markObjectsAsStale(z,[te]),O(te,J).maybeRefetch(z,te),U(X).helpCategories||[]}};const Ee=(0,t.Ay)(X=>U(X).helpTour||L.u.helpTour);Ee.meta={name:"createSelector",key:"createSelectorgetHelpTour",description:X=>U(X).helpTour||L.u.helpTour};const ne=(0,t.Ay)(X=>U(X).anchorId||L.u.anchorId);ne.meta={name:"createSelector",key:"createSelectorgetAnchorId",description:X=>U(X).anchorId||L.u.anchorId};const se=(0,t.Ay)(X=>U(X).isArticleLoaded||L.u.isArticleLoaded);se.meta={name:"createSelector",key:"createSelectorgetIsHelpArticleLoaded",description:X=>U(X).isArticleLoaded||L.u.isArticleLoaded};const ce=(0,t.Ay)(X=>{var J,z;if(!((J=X.desktop)===null||J===void 0||(z=J.app)===null||z===void 0)&&z.updateInfo){var te;const{releaseName:$}=X.desktop.app.updateInfo;if(!((te=X.desktop)===null||te===void 0)&&te.environment){const{appVersion:q}=X.desktop.environment;if($.endsWith(q))return null}return $}return null});ce.meta={name:"createSelector",key:"createSelectorgetPendingAppUpdateReleaseName",description:X=>{var J,z;if(!((J=X.desktop)===null||J===void 0||(z=J.app)===null||z===void 0)&&z.updateInfo){var te;const{releaseName:$}=X.desktop.app.updateInfo;if(!((te=X.desktop)===null||te===void 0)&&te.environment){const{appVersion:q}=X.desktop.environment;if($.endsWith(q))return null}return $}return null}};const pe=(0,t.Ay)(X=>{if(X.desktop&&X.desktop.app&&X.desktop.app.updateInfo){const{releaseName:J,releaseNotes:z,releaseDate:te}=X.desktop.app.updateInfo;return{timestamp:te?te.getTime():Date.now(),title:J,description:N.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:z,url_title:N.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null});pe.meta={name:"createSelector",key:"createSelectorgetAppUpdate",description:X=>{if(X.desktop&&X.desktop.app&&X.desktop.app.updateInfo){const{releaseName:J,releaseNotes:z,releaseDate:te}=X.desktop.app.updateInfo;return{timestamp:te?te.getTime():Date.now(),title:J,description:N.t("A new version of the app is available.",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),url:z,url_title:N.t("See release notes",{fallbackHash:"6d9f3bb92920feceb484bca2ce4e062b5024208e",fallbackHashNs:"whats_new"}),is_app_update:!0}}return null}};const ye=(0,t.Ay)(X=>{const J=pe(X)||null;return J?J.timestamp:-1});ye.meta={name:"createSelector",key:"createSelectorgetLatestAppUpdateTimeStamp",description:X=>{const J=pe(X)||null;return J?J.timestamp:-1}};const Ie=(0,t.Ay)(X=>{const J=(0,s.ZT)(X);return D().maybeRefetch(J,R),U(X).stats||L.r});Ie.meta={name:"createSelector",key:"createSelectorgetTicketStats",description:X=>{const J=(0,s.ZT)(X);return D().maybeRefetch(J,R),U(X).stats||L.r}};const Se=(0,t.Ay)(X=>Ie(X).unreadCount);Se.meta={name:"createSelector",key:"createSelectorgetUnreadTickets",description:X=>Ie(X).unreadCount};const le=(0,t.Ay)(X=>U(X).isHelpTipHistoryTourActive||L.u.isHelpTipHistoryTourActive);le.meta={name:"createSelector",key:"createSelectorgetIsHelpTipHistoryTourActive",description:X=>U(X).isHelpTipHistoryTourActive||L.u.isHelpTipHistoryTourActive}},4848430086:(W,T,e)=>{"use strict";e.d(T,{w:()=>r});var t=e(6304789565),s=e(8726791251),n=e(7629299684);const r=(0,t.Ay)("Fetch and upsert ticket stats into the store",u=>u((0,s.I)({reason:"fetchAndUpsertTicketStats"})).then(i=>{const o={unreadCount:i.unread_count||0,openCount:i.open_count||0};return u((0,n.SX)(o)),o}));r.meta={name:"createThunk",key:"createThunkfetchAndUpsertTicketStats",description:"Fetch and upsert ticket stats into the store"}},5492254797:(W,T,e)=>{"use strict";e.d(T,{P:()=>u,S:()=>i});var t=e(3398586081),s=e(337319621),n=e(1224315998);const r=m(o=>{try{return JSON.stringify(o)}catch(a){return(0,s.Wo)().error("stringify-error-constructing-link-trigger-context-from-message",a),""}},"stringifyObject"),u=(0,t.A)(o=>o!=null&&o.channelId?{location:"message",channelId:o.channelId,messageTs:(o==null?void 0:o.ts)||""}:{location:"markdown_link"},r),i=(0,t.A)((o,a)=>({eventId:n.EventId.HERMES_LINK_TRIGGER,uiComponentName:n.UiComponentName.LINK_TRIGGER_URL,entryPoint:o?"message":"other",workflowTriggerId:a.triggerId,channelId:o==null?void 0:o.channelId,onClick:{enableClogAction:!0}}),r)},8239363237:(W,T,e)=>{"use strict";e.d(T,{GF:()=>_,Tk:()=>l,UI:()=>d,X_:()=>p,iN:()=>A,pm:()=>c,t6:()=>v,vc:()=>g,xA:()=>E});var t=e(3385422400),s=e(2647703359),n=e(937317117),r=e(1990810649),u=e(387328355);const i=m((h,f)=>{var y;return f?(y=(0,n.Lp)(h,f))===null||y===void 0?void 0:y.localUpdated:null},"getFileLocalUpdated"),o=m(h=>(0,u.lt)(h),"getFileId"),a=m(h=>(0,t.Mz)([f=>(0,u.JC)(f),f=>{const y=o(f);return i(f,y)},f=>{const y=o(f);return y?(0,n.Lp)(f,y):null}],(f,y,I)=>I!=null&&I.id&&(f===r.cM.CanvasFile||f===r.cM.QuipFile)?h(I):null),"selectFromUpdatedFile"),_=a(h=>h),l=a(h=>h==null?void 0:h.id),p=a(h=>h?(0,s.sJ)(h):!1),g=a(h=>h?(0,s.uO)(h):!1),c=a(h=>h?(0,s.WP)(h):null),E=a(h=>h==null?void 0:h.user),A=a(h=>!!h),d=a(h=>h?(0,s.l7)(h):!1),v=a(h=>h?(0,s.wL)(h):!1)},5145584581:(W,T,e)=>{"use strict";e.d(T,{x:()=>h});var t=e(8628145494),s=e(6304789565),n=e(7384121809),r=e(4250409994),u=e(5286203919),i=e(387328355),o=e(1990810649),a=e(7434063642),_=e(6251210828),l=e(7723800688),p=e(2664504268),g=e(6470070112),c=e(1224315998),E=e(56548687),A=e(5737576046),d=e(7884000776);const v=m((y,I,C,D)=>{const M=(0,n.Ry)(),P=(0,u.E9)(M),S=(0,g.$t)(I,{huddleId:P}),b=(0,g.kn)(M),O=(0,g.UE)(M),L=(0,_.Ec)(I,{huddleId:P});let k,K,N=null,R=null,U=null;if(C===o.cM.None)k=l.Hi.FOCUS_CLOSE,K=(0,_.U7)(I,{key:l.Hi.FOCUS_OPEN});else{var x;switch(k=l.Hi.FOCUS_OPEN,K=(0,p.A)(),U=(D==null||(x=D.item)===null||x===void 0?void 0:x.id)||null,C){case o.cM.Screenshare:N="focus_screenshare",R="screenshare";break;default:N="focus_file",R="file"}y((0,a.Mn)({key:l.Hi.FOCUS_OPEN,value:K}))}(0,E.e)({state:I}).track(c.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_page:L?L.toString():null,ui_properties:{element_name:k},action:c.UiAction.IMPRESSION},calls:O},...S,...b,interaction_id:K,canvas_dimension_marker:N,type:R,item_file_id:U})},"clogCanvasEvent"),h=(0,s.Ay)("Sets a user content view which represents what the user is focused on in the canvas",(y,I,C)=>{if(!C||(0,t.A)(C.contentViewType))return;const D=I(),M=C.contentViewType,P=!1;if(M===o.cM.Screenshare){const b=(0,i.JC)(D),O=f(D);b===o.cM.None&&!O&&y((0,a.fI)({isThreadOpen:!1})),y((0,a.Zx)({userId:""}))}y((0,a.YC)({isFullscreen:P})),y((0,a.s7)({isNotesOpen:M===o.cM.QuipFile}));const S=C.contentViewType===o.cM.None||!C.contentViewConfig?{}:C.contentViewConfig;y((0,i.sK)({id:C.peerId,contentViewType:M,contentViewConfig:S})),(0,n.dispatchForClientStore)((0,r.xq)({contentViewType:M,contentViewConfig:S})),v(y,D,M,S)});h.meta={name:"createThunk",key:"createThunksetContentView",description:"Sets a user content view which represents what the user is focused on in the canvas"};function f(y){const I=(0,n.Ry)(),C=(0,u.E9)(I),D=(0,u.hc)(I),M=(0,_.fG)(y,{huddleId:C});if(!(M!=null&&M.ts)||!D)return!1;const P=(0,A.zC)({viewContext:d.Y.HUDDLE_THREADS,channelId:D,threadTs:M.ts});return(P==null?void 0:P.hasFocus())||!1}m(f,"doesThreadInputHaveFocus")},6758774099:(W,T,e)=>{"use strict";e.d(T,{Lm:()=>r,T3:()=>n,U$:()=>u,WO:()=>s,dD:()=>o,h2:()=>i,jL:()=>a});var t=e(2140362605);const s=(0,t.Ay)("Enable huddle event log");s.meta={name:"createAction",key:"createActionenableEventLog",description:"Enable huddle event log"};const n=(0,t.Ay)("Disable huddle event log");n.meta={name:"createAction",key:"createActiondisableEventLog",description:"Disable huddle event log"};const r=(0,t.Ay)("Set loading state for huddle event log");r.meta={name:"createAction",key:"createActionsetEventLogLoading",description:"Set loading state for huddle event log"};const u=(0,t.Ay)("Add non-transcription event");u.meta={name:"createAction",key:"createActionpushNonTranscriptionEvent",description:"Add non-transcription event"};const i=(0,t.Ay)("Update with latest transcription events");i.meta={name:"createAction",key:"createActionupdateTranscriptions",description:"Update with latest transcription events"};const o=(0,t.Ay)("Set enabled state for huddle captions side-by-side view");o.meta={name:"createAction",key:"createActionsetSideBySideEnabled",description:"Set enabled state for huddle captions side-by-side view"};const a=(0,t.Ay)("Set enabled state for huddle closed captions view");a.meta={name:"createAction",key:"createActionsetClosedCaptionsEnabled",description:"Set enabled state for huddle closed captions view"}},8409540889:(W,T,e)=>{"use strict";e.d(T,{u:()=>s,y:()=>t});const t=2e3,s=2e3},4988306802:(W,T,e)=>{"use strict";e.d(T,{Cb:()=>p,M3:()=>a,TP:()=>i,VN:()=>_,gL:()=>o,iv:()=>g});var t=e(3385422400),s=e(3009309149),n=e(8409540889),r=e(8783285437);const u=(0,s.Ay)(c=>c.huddleEvents);u.meta={name:"createSelector",key:"createSelectorgetHuddleEventsData",description:c=>c.huddleEvents};const i=(0,s.Ay)(c=>u(c).enabled);i.meta={name:"createSelector",key:"createSelectorareHuddleEventsEnabled",description:c=>u(c).enabled};const o=(0,s.Ay)(c=>u(c).isLoading);o.meta={name:"createSelector",key:"createSelectorareHuddleEventsLoading",description:c=>u(c).isLoading};const a=(0,s.Ay)(c=>c.huddleEvents.isSideBySideEnabled);a.meta={name:"createSelector",key:"createSelectorisHuddleSideBySideCaptionsEnabled",description:c=>c.huddleEvents.isSideBySideEnabled};const _=(0,s.Ay)(c=>c.huddleEvents.isClosedCaptionsEnabled);_.meta={name:"createSelector",key:"createSelectorisHuddleClosedCaptionsEnabled",description:c=>c.huddleEvents.isClosedCaptionsEnabled};const l=(0,s.Ay)(c=>c.huddleEvents.isClosedCaptionsEnabled);l.meta={name:"createSelector",key:"createSelectorHuddlesPersistTranscriptToggle",description:c=>c.huddleEvents.isClosedCaptionsEnabled};const p=(0,t.Mz)(c=>u(c).events,c=>{const E=[];let A,d=[];const v=m(()=>{A&&E.push({...A,content:d.join(" ")})},"maybeCommit");return c.forEach(h=>{A&&h.type===r.v.TRANSCRIBE&&A.memberId===h.memberId&&h.timestampMs-A.endTimeMs<n.y?(d.push(h.content),A.endTimeMs=h.endTimeMs):(v(),h.type===r.v.TRANSCRIBE?(A={type:r.v.TRANSCRIBE,resultId:"",memberId:h.memberId,content:"",timestampMs:h.timestampMs,endTimeMs:h.endTimeMs},d=[h.content]):(A=null,d=[],E.push(h)))}),v(),E}),g=(0,t.Mz)(c=>p(c),c=>c.filter(E=>E.type===r.v.TRANSCRIBE||E.type===r.v.START_TRANSCRIPTION).slice(-5))},1889537412:(W,T,e)=>{"use strict";e.d(T,{A:()=>v});var t=e(6304789565),s=e(727128009),n=e(1545824888),r=e(9640070512),u=e(2527782504),i=e(6758774099),o=e(4988306802),a=e(7004355564),_=e(7384121809),l=e(337319621),p=e(5286203919),g=e(8783285437),c=e(6694086724),E=e(5137668119),A=e(2709531527);const d=(0,t.Ay)("Start transcription for current huddle",async(h,f)=>{if((0,o.TP)(f())||(0,o.gL)(f()))return n.S.resolve();const y=(0,_.Ry)(),I=(0,p.E9)(y);return I?(h((0,i.WO)()),h((0,i.Lm)(!0)),await(0,a.A)(),h((0,c.e)({clearOnEndedCallback:!0,logContext:"huddles-captions-turned-on",isStoppedByUser:!0})),h((0,s.i)({reason:"start-event-log",callId:I})).catch(C=>{var D;if(((D=C.data)===null||D===void 0?void 0:D.error)==="permission_denied")return n.S.delay(5e3).then(()=>h((0,s.i)({reason:"start-event-log/retry",callId:I})));throw C}).catch(C=>{(0,l.Ay)({getState:f}).error(C),h((0,i.T3)())}).finally(()=>{h((0,i.Lm)(!1)),h((0,r.H)({focusKey:u.Ay.HUDDLE_CAPTIONS_TAB})),h((0,i.U$)({type:g.v.START_TRANSCRIPTION,memberId:"USLACKBOT",timestampMs:0}));const{huddleEventsTrace:C}=(0,E.A)().getAllTraceHandlers();C==null||C.update({name:A.p.TRANSCRIPT,type:A.G.START})})):n.S.reject(new Error("No active call ID for huddle"))});d.meta={name:"createThunk",key:"createThunkstartEventLog",description:"Start transcription for current huddle"};const v=d},6855917924:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(6304789565),s=e(580220061),n=e(1545824888),r=e(6758774099),u=e(4988306802),i=e(7384121809),o=e(5286203919),a=e(5137668119),_=e(2709531527);const l=(0,t.Ay)("Stop transcription for current huddle",(g,c)=>{if(!(0,u.TP)(c())||(0,u.gL)(c()))return n.S.resolve();const E=(0,i.Ry)(),A=(0,o.E9)(E);return A?(g((0,r.T3)()),g((0,r.Lm)(!0)),g((0,s.W)({reason:"stop-event-log",callId:A})).finally(()=>{g((0,r.Lm)(!1));const{huddleEventsTrace:d}=(0,a.A)().getAllTraceHandlers();d==null||d.update({name:_.p.TRANSCRIPT,type:_.G.STOP})})):n.S.reject(new Error("No active call ID for huddle"))});l.meta={name:"createThunk",key:"createThunkstopEventLog",description:"Stop transcription for current huddle"};const p=l},8783285437:(W,T,e)=>{"use strict";e.d(T,{v:()=>t});var t;(function(s){s.JOIN="JOIN",s.LEAVE="LEAVE",s.SCREENSHARE_START="SCREENSHARE_START",s.SCREENSHARE_STOP="SCREENSHARE_STOP",s.TRANSCRIBE="TRANSCRIBE",s.SEND_REACTION="SEND_REACTION",s.START_TRANSCRIPTION="START_TRANSCRIPTION"})(t||(t={}))},4250409994:(W,T,e)=>{"use strict";e.d(T,{Ag:()=>F,B5:()=>re,Bk:()=>O,Db:()=>z,Dj:()=>Z,Gx:()=>ce,HC:()=>M,HF:()=>D,Hg:()=>oe,I9:()=>_,JM:()=>Ie,Jc:()=>A,Ko:()=>L,Lx:()=>X,M4:()=>p,OA:()=>J,QZ:()=>I,Rb:()=>b,Rh:()=>E,Rr:()=>C,Sd:()=>u,Sn:()=>f,TK:()=>De,VU:()=>n,WB:()=>K,WM:()=>x,WY:()=>le,YA:()=>y,Yi:()=>k,_H:()=>ne,_I:()=>i,_U:()=>Y,_o:()=>ee,_u:()=>Se,aO:()=>U,bV:()=>w,bk:()=>ye,cx:()=>pe,f2:()=>R,fP:()=>h,hB:()=>d,kg:()=>de,kn:()=>r,nI:()=>q,nU:()=>l,nw:()=>te,o9:()=>$,og:()=>Ke,ol:()=>P,pl:()=>a,qW:()=>o,qr:()=>G,so:()=>g,t2:()=>ae,u8:()=>v,wr:()=>j,xf:()=>c,xq:()=>V,yR:()=>S,yW:()=>je,yi:()=>se});var t=e(2140362605),s=e(6304789565);const n=(0,t.Ay)("Set flag to indicate if Huddles is enabled.");n.meta={name:"createAction",key:"createActionsetIsHuddlesEnabled",description:"Set flag to indicate if Huddles is enabled."};const r=(0,t.Ay)("Stores audio reference that will be passed to SDK");r.meta={name:"createAction",key:"createActionstoreHuddlesAudioRef",description:"Stores audio reference that will be passed to SDK"};const u=(0,t.Ay)("Start video shariing");u.meta={name:"createAction",key:"createActionstartVideoSharing",description:"Start video shariing"};const i=(0,t.Ay)("Stop video shariing");i.meta={name:"createAction",key:"createActionstopVideoSharing",description:"Stop video shariing"};const o=(0,t.Ay)("Connect to Huddle media server");o.meta={name:"createAction",key:"createActionconnectToHuddlesMediaServer",description:"Connect to Huddle media server"};const a=(0,t.Ay)("Leave the huddle and stop media transmission");a.meta={name:"createAction",key:"createActiondisconnectHuddlesFromMediaServer",description:"Leave the huddle and stop media transmission"};const _=(0,t.Ay)("Enable or disable local microphone");_.meta={name:"createAction",key:"createActionenableSelfMicrophone",description:"Enable or disable local microphone"};const l=(0,t.Ay)("Send an emoji reaction");l.meta={name:"createAction",key:"createActionsendReactionMessage",description:"Send an emoji reaction"};const p=(0,t.Ay)("Send a sticky emoji reaction");p.meta={name:"createAction",key:"createActionsendStickyReactionMessage",description:"Send a sticky emoji reaction"};const g=(0,t.Ay)("Send a mute request");g.meta={name:"createAction",key:"createActionsendMuteRequestMessage",description:"Send a mute request"};const c=(0,t.Ay)("Insert new active huddle reference with teamId channelId, etc.");c.meta={name:"createAction",key:"createActionaddActiveHuddleReference",description:"Insert new active huddle reference with teamId channelId, etc."};const E=(0,t.Ay)("Upsert existing active huddle reference");E.meta={name:"createAction",key:"createActionupdateActiveHuddleReference",description:"Upsert existing active huddle reference"};const A=(0,t.Ay)("Upsert existing active huddle channel");A.meta={name:"createAction",key:"createActionupdateActiveHuddleChannel",description:"Upsert existing active huddle channel"};const d=(0,t.Ay)("Set active huddle invite");d.meta={name:"createAction",key:"createActionupsertInvite",description:"Set active huddle invite"};const v=(0,t.Ay)("Clear invite for given channel ID");v.meta={name:"createAction",key:"createActionclearInviteForChannelId",description:"Clear invite for given channel ID"};const h=(0,t.Ay)("Mark invite notifications as viewed by clearing them.");h.meta={name:"createAction",key:"createActionmarkInvitesSeenForTeam",description:"Mark invite notifications as viewed by clearing them."};const f=(0,s.Ay)("Mark invite notifications as viewed by clearing them after a delay",(Te,Je,Ae)=>{let{delay:Me,teamId:we}=Ae;setTimeout(()=>{Te(h({teamId:we,markBeforeMs:Date.now()-Me}))},Me)});f.meta={name:"createThunk",key:"createThunkmarkInvitesReadOnDelay",description:"Mark invite notifications as viewed by clearing them after a delay"};const y=(0,t.Ay)("Start screen share for current user with given mediaSourceId");y.meta={name:"createAction",key:"createActionstartScreenShare",description:"Start screen share for current user with given mediaSourceId"};const I=(0,t.Ay)("Stop screen share for current user");I.meta={name:"createAction",key:"createActionstopScreenShare",description:"Stop screen share for current user"};const C=(0,t.Ay)("Notify peers of changes to isDrawEnabled");C.meta={name:"createAction",key:"createActionpropagateDrawEnabled",description:"Notify peers of changes to isDrawEnabled"};const D=(0,t.Ay)("Enabled annotations for screen share host");D.meta={name:"createAction",key:"createActionpropagateHostDrawEnabled",description:"Enabled annotations for screen share host"};const M=(0,t.Ay)("Notify middleware that a new preferred device was selected");M.meta={name:"createAction",key:"createActionsetNewPreferredDevice",description:"Notify middleware that a new preferred device was selected"};const P=(0,t.Ay)("Notify middleware that automatic gain control setting has changed");P.meta={name:"createAction",key:"createActionsetAGC",description:"Notify middleware that automatic gain control setting has changed"};const S=(0,t.Ay)("Notify middleware that noise suppression setting has changed");S.meta={name:"createAction",key:"createActionsetNoiseSuppression",description:"Notify middleware that noise suppression setting has changed"};const b=(0,t.Ay)("Notify middleware that video background setting has changed");b.meta={name:"createAction",key:"createActionsetVideoBackgroundEffect",description:"Notify middleware that video background setting has changed"};const O=(0,t.Ay)("Toggle global keyboard shortcut support for muting / unmuting a huddle");O.meta={name:"createAction",key:"createActiontoggleGlobalMuteShortcut",description:"Toggle global keyboard shortcut support for muting / unmuting a huddle"};const L=(0,t.Ay)("Internal store update for mini-panel visibility");L.meta={name:"createAction",key:"createActioninternalUpdateMiniPanelVisibility",description:"Internal store update for mini-panel visibility"};const k=(0,t.Ay)("Upsert join credentials for a channel");k.meta={name:"createAction",key:"createActionupsertJoinCredentialsForChannel",description:"Upsert join credentials for a channel"};const K=(0,t.Ay)("Clear the join credentials for a specific channel");K.meta={name:"createAction",key:"createActionclearJoinCredentialsForChannel",description:"Clear the join credentials for a specific channel"};const N=(0,t.Ay)("Store and/or remote push Chime meeting events");N.meta={name:"createAction",key:"createActionhandleMeetingEvents",description:"Store and/or remote push Chime meeting events"};const R=(0,t.Ay)("Transition from the prejoin state to started");R.meta={name:"createAction",key:"createActiontransitionFromPrejoinToStarted",description:"Transition from the prejoin state to started"};const U=(0,t.Ay)("Action to update the store to either show or hide discovery banner");U.meta={name:"createAction",key:"createActionupdateDiscoveryBannerVisibility",description:"Action to update the store to either show or hide discovery banner"};const x=(0,t.Ay)("Toggle Video");x.meta={name:"createAction",key:"createActiontoggleVideo",description:"Toggle Video"};const B=(0,t.Ay)("Reporting CPU and memory usage stats");B.meta={name:"createAction",key:"createActionreportAppMetrics",description:"Reporting CPU and memory usage stats"};const F=(0,t.Ay)("Set true to specify that lounge music is playing, false otherwise.");F.meta={name:"createAction",key:"createActionsetIsLoungeMusicPlaying",description:"Set true to specify that lounge music is playing, false otherwise."};const V=(0,t.Ay)("Set current focused view type");V.meta={name:"createAction",key:"createActionsetContentView",description:"Set current focused view type"};const Y=(0,t.Ay)("Set last huddle start time");Y.meta={name:"createAction",key:"createActionsetLastHuddleStartTs",description:"Set last huddle start time"};const w=(0,t.Ay)("Set last huddle end time");w.meta={name:"createAction",key:"createActionsetLastHuddleEndTs",description:"Set last huddle end time"};const G=(0,t.Ay)("Set last huddle duration time");G.meta={name:"createAction",key:"createActionsetLastHuddleDurationTs",description:"Set last huddle duration time"};const Ee=(0,t.Ay)("Toggle video background filter");Ee.meta={name:"createAction",key:"createActiontoggleVideoBackgroundFilter",description:"Toggle video background filter"};const ne=(0,t.Ay)("Starts the video preview on the video element using the specified device");ne.meta={name:"createAction",key:"createActionstartVideoPreview",description:"Starts the video preview on the video element using the specified device"};const se=(0,t.Ay)("Stops the video preview on the video element");se.meta={name:"createAction",key:"createActionstopVideoPreview",description:"Stops the video preview on the video element"};const ce=(0,t.Ay)("Identifies which screenshare is being viewed in the mini-player");ce.meta={name:"createAction",key:"createActionsetScreenshareActivePanel",description:"Identifies which screenshare is being viewed in the mini-player"};const pe=(0,t.Ay)("Resets the store");pe.meta={name:"createAction",key:"createActionresetClientHuddleStore",description:"Resets the store"};const ye=(0,t.Ay)("Start the canvas jukebox using content share");ye.meta={name:"createAction",key:"createActionstartContentShareJukebox",description:"Start the canvas jukebox using content share"};const Ie=(0,t.Ay)("Stop the canvas jukebox");Ie.meta={name:"createAction",key:"createActionstopJukebox",description:"Stop the canvas jukebox"};const Se=(0,t.Ay)("Set selected song");Se.meta={name:"createAction",key:"createActionsetSongPlaying",description:"Set selected song"};const le=(0,t.Ay)("Send jukebox active song");le.meta={name:"createAction",key:"createActionsendJukeboxActiveSong",description:"Send jukebox active song"};const X=(0,t.Ay)("Request a jukebox song");X.meta={name:"createAction",key:"createActionrequestJukeboxSong",description:"Request a jukebox song"};const J=(0,t.Ay)("Request the jukebox stops");J.meta={name:"createAction",key:"createActionrequestJukeboxStop",description:"Request the jukebox stops"};const z=(0,t.Ay)("Send recording start notification");z.meta={name:"createAction",key:"createActionsendRecordingStartNotification",description:"Send recording start notification"};const te=(0,t.Ay)("Sets whether the active invite card in the sidebar can be rendered");te.meta={name:"createAction",key:"createActionsetCanRenderActiveInviteCardInSidebar",description:"Sets whether the active invite card in the sidebar can be rendered"};const $=(0,t.Ay)("Sets whether the huddle window of an active huddle is in focus or not.");$.meta={name:"createAction",key:"createActionsetIsHuddleWindowFocused",description:"Sets whether the huddle window of an active huddle is in focus or not."};const q=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");q.meta={name:"createAction",key:"createActiontoggleAllIncomingVideo",description:"Sets whether the huddle window of an active huddle is open or not."};const re=(0,t.Ay)("Reports to the SDK when the client is offline");re.meta={name:"createAction",key:"createActionreportClientOffline",description:"Reports to the SDK when the client is offline"};const de=(0,t.Ay)("Sets whether audio only mode is active or not.");de.meta={name:"createAction",key:"createActionsetIsAudioOnlyMode",description:"Sets whether audio only mode is active or not."};const oe=(0,t.Ay)("Sets whether the camera was enabled when audio only mode was activated.");oe.meta={name:"createAction",key:"createActionsetAudioOnlyModeCameraWasEnabled",description:"Sets whether the camera was enabled when audio only mode was activated."};const De=(0,t.Ay)("Sets whether the huddle window of an active huddle is open or not.");De.meta={name:"createAction",key:"createActionsetIsHuddleWindowOpen",description:"Sets whether the huddle window of an active huddle is open or not."};const ae=(0,t.Ay)("True if huddle mini player is hidden, false if shown.");ae.meta={name:"createAction",key:"createActionsetIsHuddleMiniPlayerHidden",description:"True if huddle mini player is hidden, false if shown."};const Z=(0,t.Ay)("Asks for video permission and enumerates devices");Z.meta={name:"createAction",key:"createActioninitVideoPermission",description:"Asks for video permission and enumerates devices"};const ie=(0,t.Ay)("Execute readiness check for audio input");ie.meta={name:"createAction",key:"createActionexecuteHuddlesAudioInputReadinessCheck",description:"Execute readiness check for audio input"};const Ce=(0,t.Ay)("Execute readiness check for audio output");Ce.meta={name:"createAction",key:"createActionexecuteHuddlesAudioOutputReadinessCheck",description:"Execute readiness check for audio output"};const Re=(0,t.Ay)("Execute readiness check for video input");Re.meta={name:"createAction",key:"createActionexecuteHuddlesVideoInputReadinessCheck",description:"Execute readiness check for video input"};const He=(0,t.Ay)("Execute readiness check for a particular camera resolution");He.meta={name:"createAction",key:"createActionexecuteHuddlesCameraResolutionReadinessCheck",description:"Execute readiness check for a particular camera resolution"};const be=(0,t.Ay)("Execute readiness check for audio connectivity");be.meta={name:"createAction",key:"createActionexecuteHuddlesAudioConnectivityReadinessCheck",description:"Execute readiness check for audio connectivity"};const Ue=(0,t.Ay)("Execute readiness check for video connectivity");Ue.meta={name:"createAction",key:"createActionexecuteHuddlesVideoConnectivityReadinessCheck",description:"Execute readiness check for video connectivity"};const me=(0,t.Ay)("Execute readiness check for content share connectivity");me.meta={name:"createAction",key:"createActionexecuteHuddlesContentShareConnectivityReadinessCheck",description:"Execute readiness check for content share connectivity"};const ve=(0,t.Ay)("Execute readiness check for network UDP connectivity");ve.meta={name:"createAction",key:"createActionexecuteHuddlesNetworkUDPConnectivityReadinessCheck",description:"Execute readiness check for network UDP connectivity"};const Fe=(0,t.Ay)("Execute readiness check for network TCP connectivity");Fe.meta={name:"createAction",key:"createActionexecuteNetworkTCPConnectivityReadinessCheck",description:"Execute readiness check for network TCP connectivity"};const Ke=(0,t.Ay)("Sets that the Huddle was joined via prejoin");Ke.meta={name:"createAction",key:"createActionsetHuddleWasJoinedFromPrejoin",description:"Sets that the Huddle was joined via prejoin"};const j=(0,t.Ay)("Sets Huddle device based on preview entry");j.meta={name:"createAction",key:"createActionsetDeviceStateBasedOnPreviewEntry",description:"Sets Huddle device based on preview entry"};const ee=(0,t.Ay)("Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow");ee.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewChannel",description:"Sets the channel ID for the Huddle when joining through the Huddle Join Preview flow"};const je=(0,t.Ay)("Sets the current background effect selected from the preview background picker");je.meta={name:"createAction",key:"createActionsetHuddleJoinPreviewBackgroundEffect",description:"Sets the current background effect selected from the preview background picker"}},5702042015:(W,T,e)=>{"use strict";e.d(T,{A:()=>u,p:()=>i});var t=e(5286203919),s=e(4250409994),n=e(6304789565);let r;const u=(0,n.Ay)("Temporarily show mini-panel",function(o,a){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2500;clearTimeout(r),o((0,s.Ko)(!0)),r=setTimeout(()=>o((0,s.Ko)(!1)),_)});u.meta={name:"createThunk",key:"createThunkshowMiniPanelForDuration",description:"Temporarily show mini-panel"};const i=(0,n.Ay)("Temporarily pause mini-panel visibility transition",(o,a)=>{const _=a();(0,t.Ae)(_)&&clearTimeout(r)});i.meta={name:"createThunk",key:"createThunkpauseMiniPanelTimeout",description:"Temporarily pause mini-panel visibility transition"}},2778217221:(W,T,e)=>{"use strict";e.d(T,{WS:()=>n,nq:()=>s,o7:()=>t});const t="HUDDLES",s=864e5,n=2},5378147939:(W,T,e)=>{"use strict";e.d(T,{A:()=>De});var t=e(3398586081),s=e(387328355),n=e(1289024643),r=e(462591818),u=e(6533394955),i=e(7384121809),o=e(5795074931),a=e(2047021170),_=e(1889537412),l=e(6758774099),p=e(4250409994),g=e(5881236351),c=e(6304789565),E=e(6562711329);const A=(0,c.Ay)("Fetch channel membership info for huddle member",(ae,Z,ie)=>{let{channelId:Ce,userId:Re}=ie;return ae((0,E.z)({channelId:Ce,userIds:[Re]})).then(He=>{let{membershipInfo:be}=He;return be[Re]&&"isMember"in be[Re]?!be[Re].isMember:!0})});A.meta={name:"createThunk",key:"createThunkisUserNotHuddleChannelMember",description:"Fetch channel membership info for huddle member"};var d=e(2778217221),v=e(7434063642),h=e(9548972574),f=e(5332875232),y=e(3677514771),I=e(8305649700),C=e(1883693579),D=e(9712681361),M=e(9680914051),P=e(2084347232),S=e(4540171876),b=e(1545824888),O=e(6470070112),L=e(6839188756),k=e(56548687),K=e(1224315998),N=e(1890776492),R=e(4476913522),U=e(5286203919),x=e(2028988448),B=e(2141441167),F=e(4949104520),V=e(337319621),Y=e(7578434623),w=e(1651628626),G=e(2664504268),Ee=e(1921074781),ne=e(5203103513);const se=60*1e3,ce=15*1e3,pe=1e3*10,ye=1e3*60,Ie=5e3;let Se=!1;const le=500,X=25;let J=m(class{async setTargetState(Z){this.targetState=Z;const{huddleState:ie,huddleSubState:Ce}=this.targetState;this.isValidHuddleSubState(ie,Ce)||(this.targetState.huddleSubState=this.getInitialSubStateForHuddleState(ie)),(0,i.dispatchForClientStore)((0,p.Rh)(this.getOptimisticState(Z))),await this.process()}setTargetChannel(Z){this.targetState.channelId=Z}async setTargetSubState(Z){this.isValidHuddleSubState(this.targetState.huddleState,Z)&&(this.targetState.huddleSubState=Z,await this.process())}transitionFromPrejoinToStarted(){this.setTargetState({huddleState:D.RJ.STARTED,teamId:this.targetState.teamId,channelId:this.targetState.channelId,muted:this.targetState.muted,callId:this.targetState.callId})}getTimeOfLastStateChange(){return this.timeOfLastStateChange}getTimeOfLastSubStateChange(){return this.timeOfLastSubStateChange}async waitForStartStop(){return this.startStopDeferred||b.S.resolve()}isProcessing(){var Z;return(Z=this.startStopDeferred)===null||Z===void 0?void 0:Z.isPending()}isTargetState(){const{teamId:Z,channelId:ie,huddleState:Ce}=this.getClientHuddleState();return(0,O.Ft)(this.targetState.huddleState)?Ce===this.targetState.huddleState:Z===this.targetState.teamId&&ie===this.targetState.channelId&&Ce===this.targetState.huddleState}isTargetSubState(){return this.getClientHuddleState().huddleSubState===this.targetState.huddleSubState}hasBeenInSubStateForAtLeastApproxTime(Z){return this.timeOfLastSubStateChange?Date.now()-this.timeOfLastSubStateChange>Z-le:!1}isValidHuddleSubState(Z,ie){return Z===D.RJ.STARTED?ie===void 0?!1:(0,B.A)(D.J_).includes(ie):ie===void 0}getInitialSubStateForHuddleState(Z){if(Z===D.RJ.STARTED)return D.J_.INITIAL_ALONE}async process(){if(this.isProcessing())return this.waitForStartStop();this.startStopDeferred=(0,N.u)();const Z=setTimeout(async()=>{var ie;if(!((ie=this.startStopDeferred)===null||ie===void 0)&&ie.isPending()){const Ce=new b.S.TimeoutError("HuddleStateManager timeout");await this.handleErrorAndDisconnect(Ce)}},this.startStopTimeout);try{await this.runLoop(),clearTimeout(Z),this.startStopDeferred.resolve()}catch(ie){await this.handleErrorAndDisconnect(ie)}finally{clearTimeout(Z)}this.startStopDeferred=null}async runLoop(){let Z=0;for(;!this.isTargetState();){if(!this.isProcessing())return;if(Z+=1,Z>X)throw new Error("runLoop was stuck");const{teamId:Re,channelId:He,huddleState:be}=this.getClientHuddleState(),{teamId:Ue,channelId:me,huddleState:ve,callId:Fe}=this.targetState;if(Re!==Ue&&(delete this.clogger,delete this.logger,delete this.telemeter),[D.RJ.STARTED,D.RJ.PRE_JOINED].includes(ve)){if(Re!==Ue||He!==me){switch(be){case D.RJ.PENDING:case D.RJ.STARTED:case D.RJ.PRE_JOINED:await this.goToNext(D.RJ.ENDING);break;default:await this.goToNext(D.RJ.STARTING)}continue}switch(be){case D.RJ.NOT_STARTED:await this.goToNext(D.RJ.STARTING);break;case D.RJ.STARTING:try{await this.goToNext(D.RJ.PENDING)}catch(Ke){var ie;if(!((ie=this.credentials)===null||ie===void 0)&&ie.isQuickJoinCredentials){if(delete this.credentials,await this.clearQuickJoinCredentials(),Ke.message===D.M6.ChimeMeetingEnded)throw Ke;if(Fe){const Je=(0,h.P_)(this.getState(),Fe);if(Je&&Je.hasEnded)throw new Error(D.M6.ChimeMeetingEnded)}const j=Date.now(),ee=!0;await this.safelyDisconnect(ee);const Te=Date.now()-j;this.getLogger().info(`Disconnecting after failed attempt to join huddle added ${Te}ms to TTI`),await this.goToNext(D.RJ.STARTING)}else throw Ke}break;case D.RJ.PENDING:await this.goToNext(this.targetState.huddleState);break;case D.RJ.PRE_JOINED:await this.goToNext(D.RJ.COMPLETING_PRE_JOIN);break;case D.RJ.COMPLETING_PRE_JOIN:await this.completePrejoin({isStartMuted:this.targetState.muted}),await this.goToNext(D.RJ.STARTED);break;case D.RJ.STARTED:throw new Error("This should not be possible");case D.RJ.ENDING:case D.RJ.SURVEY:case D.RJ.SURVEY_GOOD:default:await this.goToNext(D.RJ.STARTING);break}continue}if([D.RJ.PENDING,D.RJ.STARTED,D.RJ.PRE_JOINED].includes(be)){await this.goToNext(D.RJ.ENDING);continue}await this.goToNext(ve)}let Ce=0;for(;!this.isTargetSubState();){if(Ce+=1,Ce>X)throw new Error("runLoop() for huddle substate was stuck");const{huddleState:Re,huddleSubState:He}=this.getClientHuddleState(),{huddleSubState:be}=this.targetState;if(!this.isValidHuddleSubState(Re,be)){const Ue=this.getInitialSubStateForHuddleState(Re);this.targetState.huddleSubState=Ue,await this.goToNextSubState(Ue),this.getLogger().warn(d.o7,`attempted to reach invalid huddleSubstate (${be}) for the given huddleState (${Re})`);continue}if(Re===D.RJ.STARTED){switch(He){case D.J_.INITIAL_ALONE:if(be===D.J_.INITIAL_ALONE_NOTICE_ACTIVE){await this.goToNextSubState(be);break}await this.goToNextSubState(D.J_.IN_PROGRESS_TOGETHER);break;case D.J_.INITIAL_ALONE_NOTICE_ACTIVE:if(be===D.J_.INITIAL_ALONE_NOTICE_DISMISSED){await this.goToNextSubState(be);break}await this.goToNextSubState(D.J_.IN_PROGRESS_TOGETHER);break;case D.J_.INITIAL_ALONE_NOTICE_DISMISSED:await this.goToNextSubState(D.J_.IN_PROGRESS_TOGETHER);break;case D.J_.IN_PROGRESS_TOGETHER:await this.goToNextSubState(D.J_.IN_PROGRESS_ALONE);break;case D.J_.IN_PROGRESS_ALONE:if(be===D.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE){await this.goToNextSubState(be);break}await this.goToNextSubState(D.J_.IN_PROGRESS_TOGETHER);break;case D.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE:if(be===D.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED){await this.goToNextSubState(be);break}await this.goToNextSubState(D.J_.IN_PROGRESS_TOGETHER);break;case D.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED:await this.goToNextSubState(D.J_.IN_PROGRESS_TOGETHER);break;default:await this.goToNextSubState(D.J_.INITIAL_ALONE)}continue}await this.goToNextSubState(void 0)}}async goToNext(Z){var ie,Ce,Re,He;this.getLogger().info(`Marking huddle as ${Z} [${(Re=(ie=this.targetState)===null||ie===void 0?void 0:ie.teamId)!==null&&Re!==void 0?Re:"N/A"}, ${(He=(Ce=this.targetState)===null||Ce===void 0?void 0:Ce.channelId)!==null&&He!==void 0?He:"N/A"}]`);const be=Date.now();this.timeOfLastStateChange=be,this.timeOfLastSubStateChange=be;const Ue=this.getInitialSubStateForHuddleState(Z);if(Z===D.RJ.STARTING){var me,ve;const j=this.assertTargetTeamAndChannel(D.RJ.STARTING),ee=this.getOptimisticState(this.targetState);this.getLogger().info(`Optimistic state: ${ee.optimisticHuddleState}`),(0,i.dispatchForClientStore)((0,p.xf)({huddleState:Z,huddleSubState:Ue,...j,...ee,isPrejoin:((me=this.targetState)===null||me===void 0?void 0:me.huddleState)===D.RJ.PRE_JOINED,sessionId:(0,G.A)()})),this.credentials=await this.fetchCredentials(),(ve=this.getTelemeter())===null||ve===void 0||ve.mark(M.Bq);return}if(Z===D.RJ.PENDING){const j=this.assert(this.credentials,"Expected credentials to be set before PENDING");(0,i.dispatchForClientStore)((0,p.Rh)({huddleState:Z,huddleSubState:Ue,...this.assertTargetTeamAndChannel(D.RJ.PENDING),callId:j.roomId})),await this.connectToChime(j,this.targetState),delete this.credentials;return}if(Z===D.RJ.STARTED){var Fe;const j=this.assertTargetTeamAndChannel(D.RJ.STARTED);(0,i.dispatchForClientStore)((0,p.Rh)({huddleState:Z,huddleSubState:Ue,optimisticHuddleState:null,...j,isPrejoin:!1})),(0,a.ty)(this.getState(),"huddles_set_status")&&this.scheduleHuddleStateExpirationIncrement(),this.setCoachmarkTimeout(Ue),(Fe=Ee.F.getInstance())===null||Fe===void 0||Fe.request()}else{var Ke;(Ke=Ee.F.getInstance())===null||Ke===void 0||Ke.release()}if(Z===D.RJ.PRE_JOINED&&(0,i.dispatchForClientStore)((0,p.Rh)({huddleState:Z,huddleSubState:Ue,optimisticHuddleState:null,...this.assertTargetTeamAndChannel(D.RJ.PRE_JOINED)})),Z===D.RJ.ENDING){(0,i.dispatchForClientStore)((0,p.Rh)({huddleState:Z,huddleSubState:Ue})),await this.safelyDisconnect();return}(0,i.dispatchForClientStore)((0,p.Rh)({huddleState:Z,huddleSubState:Ue,optimisticHuddleState:null}))}async goToNextSubState(Z){Z===D.J_.IN_PROGRESS_ALONE&&setTimeout(()=>{var ie;((ie=this.getClientHuddleState())===null||ie===void 0?void 0:ie.huddleSubState)===D.J_.IN_PROGRESS_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(pe)&&this.setTargetSubState(D.J_.IN_PROGRESS_ALONE_NOTICE_ACTIVE)},pe),this.timeOfLastSubStateChange=Date.now(),(0,i.dispatchForClientStore)((0,p.Rh)({huddleSubState:Z}))}async handleErrorAndDisconnect(Z){var ie;this.getLogger().error(Z);const{huddleState:Ce}=this.getClientHuddleState();if([D.RJ.PENDING,D.RJ.STARTED].includes(Ce))try{await b.S.race([new b.S((Re,He)=>{setTimeout(()=>He(new Error("HuddleStateManager disconnect timeout")),this.disconnectTimeout)}),this.safelyDisconnect()])}catch(Re){this.getLogger().error(Re)}(0,i.dispatchForClientStore)((0,p.Rh)({huddleState:D.RJ.NOT_STARTED,optimisticHuddleState:null})),await b.S.resolve(this.handleError(Z,Ce)),(ie=this.startStopDeferred)===null||ie===void 0||ie.reject(Z)}getInitialAloneInHuddleTimeOutValue(){if(Se)return Ie;const Z=this.getState(),ie=(0,a.ty)(Z,ne.VW);return ie?ie*1e3:(this.getLogger().info("User pref 'huddles_play_music_timeout' is undefined, using default 60 seconds"),ye)}setCoachmarkTimeout(Z){Z===D.J_.INITIAL_ALONE&&(setTimeout(()=>{var ie;((ie=this.getClientHuddleState())===null||ie===void 0?void 0:ie.huddleSubState)===D.J_.INITIAL_ALONE&&this.hasBeenInSubStateForAtLeastApproxTime(this.getInitialAloneInHuddleTimeOutValue())&&(this.setTargetSubState(D.J_.INITIAL_ALONE_NOTICE_ACTIVE),this.getLogger().info("setTimeout executed on substate: initial_alone"))},this.getInitialAloneInHuddleTimeOutValue()),this.getLogger().info("setTimeout started on substate: initial_alone"))}isMicEnabled(){var Z;return!!(!((Z=(0,s.Ng)(this.getState()))===null||Z===void 0)&&Z.isMicrophoneEnabled)}getClientHuddleState(){const Z=(0,i.Ry)(),ie=(0,U.EG)(Z),{channelId:Ce,teamId:Re}=(0,U.Qn)(Z)||{};if(!ie||ie===D.RJ.NOT_STARTED)return{huddleState:D.RJ.NOT_STARTED,channelId:Ce,teamId:Re};const He=(0,U.EO)(Z);return{huddleState:ie,huddleSubState:He,channelId:Ce,teamId:Re}}assertTargetTeamAndChannel(Z){const{teamId:ie,channelId:Ce}=this.targetState;return{teamId:this.assert(ie,`Expected teamId to be set for ${Z}`),channelId:this.assert(Ce,`Expeted channelId to be set for ${Z}`)}}getChannelIdOrDie(){const{channelId:Z}=this.getClientHuddleState(),{channelId:ie}=this.targetState,Ce=Z||ie;return this.assert(Ce,"No channel ID or active huddle")}getThreadTsOrNothing(){const{threadTs:Z}=this.getClientHuddleState(),{threadTs:ie}=this.targetState;return Z||ie}getIsMultiDevice(){return!!this.targetState.isMultiDevice}getIsExperimentStandaloneHuddlesOn(){return!!this.targetState.experimentStandaloneHuddlesOn}getTeamIdOrDie(){const{teamId:Z}=this.getClientHuddleState(),{teamId:ie}=this.targetState,Ce=Z||ie;return this.assert(Ce,"No team ID or active huddle")}getCallIdOrDie(){const Z=(0,i.Ry)(),ie=(0,U.E9)(Z);return this.assert(ie,"No call ID or active huddle")}getHuddleState(){const{huddleState:Z}=this.getClientHuddleState();return Z}dispatch(Z){const ie=this.getTeamIdOrDie();return(0,u.Qw)(ie,Z)}getState(Z){const ie=Z||this.getTeamIdOrDie();return(0,u.$D)(ie)}assert(Z,ie){if(Z==null)throw new Error(ie);return Z}getClogger(){if(this.clogger)return this.clogger;const{teamId:Z}=this.getClientHuddleState();return this.clogger=Z?(0,k.e)({state:(0,u.$D)(Z)}):(0,k.e)(),this.clogger}getLogger(){return this.logger?this.logger:(this.logger=(0,V.Wo)({label:this.logLabel}),this.logger)}getTelemeter(){if(this.telemeter)return this.telemeter;const{teamId:Z}=this.getClientHuddleState();return Z?this.telemeter=(0,Y.Cy)({state:(0,u.$D)(Z)}):this.telemeter=(0,Y.rh)(),this.telemeter}constructor({logLabel:Z=d.o7,startStopTimeout:ie=se,disconnectTimeout:Ce=ce}={}){var Re=this;this.targetState={huddleState:D.RJ.NOT_STARTED},this.startStopDeferred=null,this.safelyDisconnect=async function(){let He=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;try{await Re.disconnect(He)}catch(be){Re.getLogger().error("Failed to disconnect from the Huddle. This may mean the user is still connected to the media server",be)}},this.scheduleHuddleStateExpirationIncrement=async()=>{if(this.isTargetState()&&this.targetState.huddleState!==D.RJ.STARTED)return;const He=60*5,be={huddle_state_expiration_ts:new Date().getTime()/1e3+He};await this.dispatch((0,w.c)({profile:be,reason:"increment-huddle-state-expiration-ts"})),setTimeout(this.scheduleHuddleStateExpirationIncrement,(0,F.A)(24e4,-.1,.1))},this.logLabel=Z,this.startStopTimeout=ie,this.disconnectTimeout=Ce,this.timeOfLastStateChange=null,this.timeOfLastSubStateChange=null}},"BaseHuddleStateManager");(0,x.ul)("baseHuddleStateManager",{setShortTimeoutValue:()=>{Se=!0},resetShortTimeoutValue:()=>{Se=!1}}),Object.defineProperty({shouldUseDebugTimeout:Se},"shouldUseDebugTimeout",{get:()=>Se,set:()=>{Se=!0}});var te=e(7004355564),$=e(6251210828),q=e(415910655),re=e(5137668119);class de extends J{async start(Z,ie,Ce,Re,He,be,Ue){await this.startHuddleWithTargetState(D.RJ.STARTED,Z,ie,Ce,Re,He,be,Ue)}async prejoin(Z,ie,Ce,Re){await this.startHuddleWithTargetState(D.RJ.PRE_JOINED,Z,ie,Ce,Re,void 0)}async setOthersInHuddle(){await this.setTargetSubState(D.J_.IN_PROGRESS_TOGETHER)}async setAloneInHuddle(){await this.setTargetSubState(D.J_.IN_PROGRESS_ALONE)}async dismissAloneInHuddleWarning(Z){const ie=Z?D.J_.INITIAL_ALONE_NOTICE_DISMISSED:D.J_.IN_PROGRESS_ALONE_NOTICE_DISMISSED;await this.setTargetSubState(ie)}async startHuddleWithTargetState(Z,ie,Ce,Re,He,be,Ue,me){var ve;!((ve=this.currentHuddleDeferred)===null||ve===void 0)&&ve.isPending()||(this.currentHuddleDeferred=(0,N.u)()),await this.setTargetState({huddleState:Z,teamId:ie,channelId:Ce,muted:Re,callId:He,threadTs:be,isMultiDevice:Ue,experimentStandaloneHuddlesOn:me})}async stop(){var Z;const ie=this.getState(),Ce=this.getHuddleState()!==D.RJ.PRE_JOINED&&(0,h.Cd)(ie)&&!this.isProcessing();Ce&&(this.getLogger().info(`Show huddle survey in ${this.getChannelIdOrDie()}`),this.dispatch((0,C.Cd)({timeSeen:new Date().toISOString()}))),await this.setTargetState({huddleState:Ce?D.RJ.SURVEY:D.RJ.NOT_STARTED}),this.getHuddleState()===D.RJ.NOT_STARTED&&(!((Z=this.currentHuddleDeferred)===null||Z===void 0)&&Z.isPending())&&this.currentHuddleDeferred.resolve()}async enterTerminalState(Z){var ie;!((ie=this.pendingHuddleStart)===null||ie===void 0)&&ie.isPending()?this.pendingHuddleStart.reject(Z):await this.handleErrorAndDisconnect(Z)}waitForHuddleToEnd(){return b.S.resolve(this.currentHuddleDeferred)}handleError(Z,ie){var Ce;this.getLogger().error(Z);const Re=ie===D.RJ.STARTING||ie===D.RJ.PENDING;this.dispatch((0,P.A)({errorCode:(0,D.dJ)(Z.name)?Z.name:Z.message,isJoinError:Re})),!((Ce=this.currentHuddleDeferred)===null||Ce===void 0)&&Ce.isPending()&&this.currentHuddleDeferred.resolve()}getOptimisticState(Z){let{teamId:ie,channelId:Ce,huddleState:Re}=Z;if([D.RJ.NOT_STARTED].includes(Re))return{optimisticHuddleState:D.RJ.ENDING};if([D.RJ.SURVEY].includes(Re))return{optimisticHuddleState:null};if(Re===D.RJ.PRE_JOINED)return{optimisticHuddleState:D.RJ.PRE_JOINED,isPrejoin:!0};if(Re===D.RJ.STARTED&&ie){var He,be;const Ue=(0,u.$D)(ie),me=(0,i.Ry)(),ve=(0,U.aQ)(me),Fe=(ve==null?void 0:ve.channelId)===Ce||!((He=(0,h.Yw)(Ue,Ce))===null||He===void 0||(be=He.activeParticipants)===null||be===void 0)&&be.length?null:D.RJ.STARTED;return(0,a.ty)(Ue,"huddles_global_mute")&&(0,i.dispatchForClientStore)((0,p.Bk)(!0)),{isPrejoin:!1,optimisticHuddleState:Fe}}return{}}async fetchCredentials(){const Z=this.getTeamIdOrDie(),ie=this.getChannelIdOrDie(),Ce=this.getThreadTsOrNothing(),Re=(0,i.Ry)(),He=(0,h.Yw)(this.getState(),ie),{ttiTrace:be}=(0,re.A)().getAllTraceHandlers(),Ue=(0,U.WL)(Re,ie),me=this.getIsMultiDevice();if(be==null||be.createFetchCredentialsSpan(),Ue){be==null||be.setCachedTag({cached:!0});const ve=(He==null?void 0:He.id)||(0,O.RW)(Ue.credentials);if(ve){const Fe=(0,h.P_)(this.getState(),ve);if(Fe&&Fe.hasEnded)throw await this.clearQuickJoinCredentials(),new Error(D.M6.ChimeMeetingEnded)}return this.getTelemeter().count(M.K7),be==null||be.closeFetchCredentialsSpan(),{roomId:ve,server:Ue.credentials,isQuickJoinCredentials:!0}}if((0,f.CI)(this.getState(Z))){const ve=(0,$._6)(this.getState(),{channelId:ie});if(ve){const Fe=(0,h.it)(this.getState(Z),ie),Ke=(0,$.G5)(this.getState(),{channelId:ie}),j=(0,O.RW)(ve);return Fe&&Ke&&this.dispatch((0,I.KN)({channelId:ie,threadTs:Fe,lastRead:Fe,reason:"huddles-rooms-join-kte"})),{roomId:j,server:ve,isQuickJoinCredentials:!1}}}return this.getTelemeter().mark(M.aW),be==null||be.setCachedTag({cached:!1}),this.dispatch((0,S.O3)({teamId:Z,channelId:ie,shouldFetchRegion:!He,traceId:be==null?void 0:be.getTTITraceId(),parentSpanId:be==null?void 0:be.getFetchCredentialsSpanId(),...Ce&&{threadTs:Ce},...me&&{isMultiDevice:me}})).then(ve=>{var Fe,Ke;if(!(!(ve==null||(Fe=ve.server)===null||Fe===void 0)&&Fe.meeting)||!(!(ve==null||(Ke=ve.server)===null||Ke===void 0)&&Ke.attendee))throw new Error("create_meeting_failed");be==null||be.closeFetchCredentialsSpan(),this.getTelemeter().mark(M.bW);const j=this.getTelemeter().measure(M.aW,M.iE,M.bW);this.getTelemeter().count(M.iE,j),(0,q.jm)({roomsJoinTime:j});let ee=ie;return this.getIsExperimentStandaloneHuddlesOn()&&ve.channelId&&(ee=ve.channelId,this.setTargetChannel(ee),(0,i.dispatchForClientStore)((0,p.Jc)(ee))),(0,i.dispatchForClientStore)((0,p.Yi)({channelId:ee,joinCredentials:ve.server,expiry:Date.now()+d.nq,fromInvite:!1})),ve.rootThreadTs&&ve.roomId&&(this.dispatch((0,v.ZL)({huddleId:ve.roomId,thread:{channelId:ee,ts:ve.rootThreadTs}})),this.dispatch((0,I.KN)({channelId:ee,threadTs:ve.rootThreadTs,lastRead:ve.rootThreadTs,reason:"canvas-rooms-join-api"})),this.dispatch((0,R.a)({channelId:ee,threadTs:ve.rootThreadTs,oldest:ve.rootThreadTs}))),ve})}async connectToChime(Z,ie){let{server:Ce,roomId:Re}=Z,{muted:He,huddleState:be}=ie;const{ttiTrace:Ue}=(0,re.A)().getAllTraceHandlers();return Ue==null||Ue.createConnectToMediaServiceSpan(),(0,i.dispatchForClientStore)((0,p.qW)({callResult:{server:Ce,roomId:Re,regions:"",inviteResponses:[],virtualRoomId:""},isStartMuted:He,waitForHuddleStart:(0,N.u)(),isPrejoin:be===D.RJ.PRE_JOINED})),this.pendingHuddleStart=(0,N.u)(),be===D.RJ.PRE_JOINED?b.S.resolve():this.pendingHuddleStart}async resolvePendingJoin(Z){try{var ie;const Re=this.getChannelIdOrDie(),{ttiTrace:He}=(0,re.A)().getAllTraceHandlers(),be=this.getState(),Ue=(0,i.Ry)(),{callId:me,optimisticHuddleState:ve}=(0,U.Qn)(Ue)||{},Fe=(0,h.dy)(be);if(this.getLogger().info(`Resolve pending huddle (${Re}, optimisticHuddleState: ${ve}, has optimisticTopic: ${!!Fe})`),!(!((ie=this.pendingHuddleStart)===null||ie===void 0)&&ie.isPending()))throw new Error("No pending huddle start in resolvePendingJoin");const Ke=this.assert(me,"Room ID is not defined for pending join"),j=(0,a.ty)(be,"huddles_cc_by_default");if((0,O.UA)(be,Re)&&j&&(this.dispatch((0,_.A)()),this.dispatch((0,l.dD)(!0)),this.dispatch((0,l.jL)(!0))),Fe){try{await this.dispatch((0,S.xB)({roomId:Ke,name:Fe})),this.dispatch((0,n.oU)({id:Ke,name:Fe}))}catch(je){this.getLogger().error(je)}this.dispatch((0,g.Jc)(null))}(0,i.dispatchForClientStore)((0,p.u8)(Re)),He==null||He.closeConnectToMediaServiceSpan(),(0,k.e)({state:be}).track(K.EventId.HUDDLES_TIME_AUDIO_SESSION_STARTED,{contexts:{calls:{room_id:Ke,duration_ms:Math.round(Z),channel_id:Re}}}),(0,q.jm)({audioConnectedTime:Z}),(0,i.dispatchForClientStore)((0,p.Rh)({isSelfJoined:!0})),this.pendingHuddleStart.resolve()}catch(Re){var Ce;(Ce=this.pendingHuddleStart)===null||Ce===void 0||Ce.reject(Re)}}async completePrejoin(Z){const ie=this.getChannelIdOrDie(),Ce=(0,i.Ry)(),{ttiTrace:Re}=(0,re.A)().getAllTraceHandlers(),He=(0,U.WL)(Ce,ie);return Re==null||Re.setCachedTag({cached:!!He}),Re==null||Re.createConnectToMediaServiceSpan(),(0,i.dispatchForClientStore)((0,p.f2)({...Z}))}async clearQuickJoinCredentials(){const Z=(0,i.Ry)(),{channelId:ie}=(0,U.Qn)(Z)||{};return(0,i.dispatchForClientStore)((0,p.WB)({channelId:ie}))}async disconnect(){let Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;var ie;const Ce=this.getState(),Re=(0,i.Ry)(),{channelId:He,teamId:be}=(0,U.Qn)(Re)||{};if(!Z)try{(0,re.A)().cleanup()}catch(Ue){this.getLogger().error(`Error cleaning up huddle tracing: ${Ue}`)}try{(0,i.dispatchForClientStore)((0,p.Bk)(!1)),(0,f.lV)(Ce)&&((0,i.dispatchForClientStore)((0,p.JM)()),(0,i.dispatchForClientStore)((0,p._u)({song:void 0}))),(0,i.dispatchForClientStore)((0,p.Rh)({isSelfJoined:!1}));const me=(0,o.WR)(Ce),ve=He&&(0,h.Yw)(Ce,He);if(ve&&He){const Fe=(ve.activeParticipants||[]).filter(j=>!((0,r.MZ)(j)&&j.slackId===me));this.dispatch((0,n.oU)({id:ve.id,activeParticipants:Fe}));const Ke=(0,n.H6)(this.getState(),ve.id);Ke&&this.dispatch((0,g.mr)({call:Ke,channelId:He}))}if(He){const Fe=await(0,u.Qw)(be,A({channelId:He,userId:me})),Ke=(0,y.H7)(Ce),j=(0,L.tc)(Ke);(Fe||j)&&await this.clearQuickJoinCredentials(),(0,i.dispatchForClientStore)((0,p.u8)(He))}}catch(Ue){this.getLogger().error("An error occurred cleaning up huddle redux state. Proceeding to disconnect from media server.",Ue)}try{const Ue=(0,N.u)();(0,i.dispatchForClientStore)((0,p.pl)({waitForHuddleEnd:Ue})),await Ue}catch(Ue){this.getLogger().error("An error occurred while disconnecting from the media server.",Ue)}this.dispatch((0,s.VL)({huddlesVideoActive:!1})),this.dispatch((0,v.np)()),(0,i.dispatchForClientStore)((0,p.cx)()),!((ie=this.pendingHuddleStart)===null||ie===void 0)&&ie.isPending()&&this.pendingHuddleStart.reject(new Error("HuddleStateManager shutdown"))}}m(de,"HuddleStateManager");const De=(0,t.A)(()=>{const ae=new de;return(0,te.R)(ae.waitForStartStop.bind(ae)),ae})},7004355564:(W,T,e)=>{"use strict";e.d(T,{A:()=>r,R:()=>n});var t=e(1545824888);let s;const n=m(u=>{s=u},"setWaitForStartStop"),r=m(()=>s?s():t.S.resolve(),"__WEBPACK_DEFAULT_EXPORT__")},3065433701:(W,T,e)=>{"use strict";e.d(T,{CE:()=>i,Gu:()=>o,vT:()=>s.vT});var t=e(6304789565),s=e(7366481123);const n=3*1e3,r={[s.vT.NoUserAudioStream]:!0,[s.vT.NoUserVideoStream]:!0,[s.vT.NoAudioOutputAudioElementError]:!0,[s.vT.NoAudioOutputAudioLevelError]:!0,[s.vT.PeerMuteRequest]:!0};let u={};const i=(0,t.Ay)("Display alert message for huddle call",(_,l,p)=>{let{alert:g,peerId:c}=p;if(!u[g]){if(r[g]){u[g]=setTimeout(()=>{u[g]&&(clearTimeout(u[g]),delete u[g]),_((0,s.Sb)({alert:g,peerId:c}))},n);return}_((0,s.Sb)({alert:g,peerId:c}))}});i.meta={name:"createThunk",key:"createThunkdisplayAlertMessage",description:"Display alert message for huddle call"};const o=(0,t.Ay)("Undisplay an alert message for huddle call",(_,l,p)=>{u[p]&&(clearTimeout(u[p]),delete u[p]),_((0,s.LL)(p))});o.meta={name:"createThunk",key:"createThunkhideAlertMessage",description:"Undisplay an alert message for huddle call"},Object.defineProperty({alertTimeouts:u},"alertTimeouts",{get:()=>u,set:_=>{u=_}})},5253428843:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(6304789565),s=e(5378147939);const n=(0,t.Ay)("Handle huddle error",(u,i,o)=>(0,s.A)().enterTerminalState(new Error(o.terminalState)));n.meta={name:"createThunk",key:"createThunkenterTerminalState",description:"Handle huddle error"};const r=n},2766373332:(W,T,e)=>{"use strict";e.d(T,{N$:()=>Re,KD:()=>Z,kq:()=>ae,HU:()=>ie});var t=e(6304789565),s=e(6533394955),n=e(7384121809),r=e(387328355),u=e(9864164947),i=e(7067820909),o=e(7621809678),a=e(9323322135),_=e(2778217221),l=e(6134475965),p=e(1049642794),g=e(3134334389),c=e(3288846409),E=e(3037015781),A=e(4979382452),d=e(8029613601),v=e(4947127560),h=e(4636370173),f=e(2465132699),y=e(8523371695),I=e(3606117573),C=e(2683115972),D=e(3165300465),M=e(1610251172),P=e(4481313819),S=e(9506008067),b=e(5363983309),O=e(5286203919),L=e(9101533895),k=e(8920264989),K=e(8921478798),N=e(1407713935),R=e(1224315998),U=e(735940183),x=e(8320929653),B=e(4233000497);function F(){return F=Object.assign||function(He){for(var be=1;be<arguments.length;be++){var Ue=arguments[be];for(var me in Ue)Object.prototype.hasOwnProperty.call(Ue,me)&&(He[me]=Ue[me])}return He},F.apply(this,arguments)}m(F,"_extends");const V=new U.A("huddles"),Y={elementName:"huddles_invite_confirmation_dialog_cancel",eventId:R.EventId.HUDDLES_JOIN_CANCEL,onClick:{enableClogAction:!0}},w={elementName:"huddles_invite_confirmation_dialog_ok",eventId:R.EventId.HUDDLES_JOIN_CONFIRM,onClick:{enableClogAction:!0}};function G(He){let{closeModal:be,...Ue}=He;const{channelId:me,senderUserId:ve}=Ue,Fe=(0,B.A)(me),{handleDecline:Ke,handleJoin:j,isLoading:ee,inviteText:je}=(0,x.lc)(Ue),Te=(0,S.d4)(fe=>(0,K.I)(fe,ve));let Je=V.t("Huddle with {dmPersons}",{dmPersons:Te,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"});const Ae=(0,S.d4)(fe=>(0,L.OL)(fe,me)),Me=(0,S.d4)(fe=>(0,E.uz)(Ae)?(0,k.SB)(fe,Ae,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}):void 0);Me&&(Je=(0,N.JM)(Ae)?V.t("Huddle with {dmPersons}",{dmPersons:Me,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}):V.t("Huddle in {channelName}",{channelName:Me,fallbackHash:"a0767c2e0145a0f1159ecf41452f3cf03b376fe1"}));const we=(0,c.cw)(O.hc)===me;(0,g.useEffect)(()=>{we&&!ee&&(be==null||be())},[we,ee,be]);const Ge=(0,g.useCallback)(()=>{Ke(),be==null||be()},[be,Ke]),Qe="huddle-invite-join-modal";return g.createElement(P.A,F({uiComponentName:R.UiComponentName.HUDDLES_INVITE_CONFIRMATION_DIALOG},Fe),g.createElement(A.A,{labelledby:Qe,dataQa:Qe,closeModal:be,role:"dialog",className:"p-huddle_invite_join_modal",overlayClassName:"p-huddle_invite_join_modal__overlay",shouldReturnFocusAfterClose:!0},g.createElement(d.A,null,g.createElement(v.A,{title:Je,id:Qe})),g.createElement(h.A,null,g.createElement(f.A,null,je)),g.createElement(y.A,null,g.createElement(I.A,null,g.createElement(C.Ay,{type:"outline",onClick:Ge,"data-qa":"huddle_invite_join_cancel",autoClogProps:Y},V.t("Not Now")),g.createElement(D.A,{type:"primary",loading:ee,onClick:j,"data-qa":"huddle_invite_join_go",autoClogProps:w,autoFocus:!0,"aria-label":V.t("Join")},g.createElement(M.A,{type:"headphones"}),g.createElement("span",{className:"p-huddle_invite_join_modal__join_label"},V.t("Join")))))))}m(G,"HuddleInviteJoinModal"),G.displayName="HuddleInviteJoinModal";const Ee={HuddleInviteJoinModal:G},ne=(0,b.A)(G);var se=e(605594140),ce=e(1545824888),pe=e(337319621),ye=e(8040098042),Ie=e(2960290117),Se=e(6415612447),le=e(6470070112),X=e(56548687),J=e(4094753332),z=e(8746998952),te=e(9712681361),$=e(5702042015),q=e(7429662208),re=e(3193155968),de=e(9629572172),oe=e(352142497);const De=m((He,be,Ue)=>{(0,X.e)({state:He}).track(be,{contexts:{calls:(0,le.gG)(He,Ue),ui_context:{action:R.UiAction.KEYDOWN}}})},"clogHuddlesEvent"),ae=(0,t.Ay)("Start huddle in highlighted channel or current primary view",async(He,be,Ue)=>{let{highlightedChannelId:me}=Ue;var ve;const Fe=(0,n.Ry)(),Ke=be(),j=(0,q.e6)(Ke),ee=(ve=(0,q.F8)(Ke,{tab:j,container:re.mq.Primary}))===null||ve===void 0?void 0:ve.id,je=me||ee,{channelId:Te,teamId:Je}=(0,O.Ak)(Fe)||{};if(Te&&Je&&(!me||me===Te)){(0,s.Qw)(Je,(0,l.A)()),De(Ke,R.EventId.HUDDLES_LEAVE,Te);return}const Ae=(0,O.aQ)(Fe);if(Ae&&!me){const{channelId:we,senderUserId:Ge,callId:Qe,teamId:fe}=Ae;(0,s.Qw)(fe,ne({channelId:we,senderUserId:Ge,callId:Qe}));return}if(!je||!(0,ye.A)(je)&&!(0,Ie.Ay)(je)){He((0,se.A)());return}const Me=(0,Se.Y)(Ke,je);Me&&(0,le.Bn)(Ke,Me)&&(De(Ke,R.EventId.HUDDLES_JOIN,Me.id),He((0,z.A)({channelId:Me.id,forceFocus:!0,entryPoint:te.su.KEYBOARD_SHORTCUT_JOIN_HUDDLE})))});ae.meta={name:"createThunk",key:"createThunktoggleHuddleInHighlightedChannel",description:"Start huddle in highlighted channel or current primary view"};const Z=(0,t.Ay)("Start huddle in the current view",async(He,be,Ue,me)=>{var ve,Fe;const Ke=be(),{isChildWindow:j,getViewSet:ee}=me(de.U),je=ee(Ke);(!j||(je==null||(ve=je[re.mq.Primary])===null||ve===void 0?void 0:ve.viewType)!==oe.D.Channel)&&He(ae({highlightedChannelId:void 0}));const Te=je==null||(Fe=je[re.mq.Primary])===null||Fe===void 0?void 0:Fe.id;He(ae({highlightedChannelId:Te}))});Z.meta={name:"createThunk",key:"createThunktoggleHuddleInCurrentView",description:"Start huddle in the current view"};const ie=(0,t.Ay)("Toggle microphone from current value to opposite value",(He,be)=>{const Ue=(0,n.Ry)(),{teamId:me,channelId:ve}=(0,O.Ak)(Ue)||{};if(!me)return;const Fe=(0,s.$D)(me),Ke=(0,r.Ng)(Fe),j=Ke==null?void 0:Ke.isMicrophoneEnabled;(0,s.Qw)(me,(0,p.A)(!j)),He(j?(0,u.Ho)():(0,u.qc)()),(0,pe.Ay)({state:Fe}).info(_.o7,`Keyboard shortcut invoked -- toggling mic to ${j?R.EventId.HUDDLES_MUTE:R.EventId.HUDDLES_UNMUTE}`),ve&&De(Fe,j?R.EventId.HUDDLES_MUTE:R.EventId.HUDDLES_UNMUTE,ve)});ie.meta={name:"createThunk",key:"createThunktoggleSelfMicrophone",description:"Toggle microphone from current value to opposite value"};let Ce=!1;const Re=m(He=>{var be;return(0,J.dY)("4.13.0")?(He&&!Ce&&((0,a.zin)(o.Sr.TOGGLE_MUTE,async()=>{const Ue=(0,n.Ry)(),{teamId:me}=(0,O.Ak)(Ue)||{};me&&((0,s.Qw)(me,ie()),(0,i.Sr)((0,n.Ry)())||(0,n.dispatchForClientStore)((0,$.A)()))}),Ce=!0),(be=(0,a.wzE)(o.Sr.TOGGLE_MUTE,He))===null||be===void 0?void 0:be.then(()=>He)):ce.S.resolve(!1)},"maybeToggleGlobalMuteShortcut")},1883693579:(W,T,e)=>{"use strict";e.d(T,{uZ:()=>pe,Tn:()=>Ie,Cd:()=>ye});var t=e(337319621),s=e(6304789565),n=e(7384121809),r=e(387484329),u=e(2778217221),i=e(4250409994),o=e(9712681361),a=e(1545824888),_=e(5046160032),l=e(4914127094),p=e(7344959578),g=e(7299481592),c;(function(Se){Se.HuddleSurvey="huddle-survey",Se.ListsSurvey="lists-survey"})(c||(c={}));var E;(function(Se){Se.NoAudioInput="no-audio-input",Se.NoAudioOutput="no-audio-output",Se.LowVideoQuality="low-video-quality",Se.LowAudioQuality="low-audio-quality",Se.VideoNotWorking="video-not-working",Se.DeviceSelectionError="device-selection-error",Se.Disconnected="disconnected",Se.SomethingElse="something-else",Se.Dismiss="dismiss"})(E||(E={}));function A(Se){return Se.isOk}m(A,"isOkResult");const d=(0,s.Ay)("Send survey results",(Se,le,X)=>{var J,z;const te=le();var $;const q=($=X.callId)!==null&&$!==void 0?$:te.activeCall.id;if(!q)return(0,g.M)(!1,"There should have been a call in order to send survey results."),a.S.reject(new Error("SendSurveyResult: No call"));var re;const de=(re=X.type)!==null&&re!==void 0?re:"vo-survey",oe=A(X)?void 0:{response_requested:!1,comments:X.comments,is_video:(J=te.activeCall)===null||J===void 0?void 0:J.hasVideoBeenEnabled,is_ss:(z=te.activeCall)===null||z===void 0?void 0:z.hasScreenshareBeenEnabled,list_id:X==null?void 0:X.listId,list_entry_point:X==null?void 0:X.listEntryPoint},De=A(X)||de===c.ListsSurvey?"ok":X.notOkResponses.join(","),ae={room:q,event_type:de,event_value:De,event_metadata:JSON.stringify(oe)};return(0,_.A)({apiUrl:"/api/",method:"screenhero.rooms.userEvent",token:(0,l.F)(te),versionTs:(0,p.HF)(),versionUid:(0,p.X3)(),args:ae})?a.S.resolve():a.S.reject(new Error("SendSurveyResult: beacon failed"))});d.meta={name:"createThunk",key:"createThunksendSurveyResult",description:"Send survey results"};var v=e(3134334389),h=e(9506008067),f=e(6313685253),y=e(6122756707),I=e(6084388622),C=e(3989454579),D=e(6948117092),M=e(5016574668),P=e(3855029223),S=e(8851980998),b=e(6310192986),O=e(1616072515);const L="survey";var k;(function(Se){Se.Good="good",Se.Bad="bad",Se.Dismiss="dismiss"})(k||(k={}));const K="HUDDLES-SURVEY-TRACE",N=m(Se=>{let{teamId:le,callId:X,results:J}=Se;const z=le?(0,t.Ay)({label:K,teamId:le}):(0,t.Wo)({label:K});if(!le){z.warn("Missing team id. Exiting early");return}const te=(0,P.E)({teamOrEnterpriseId:le}),$=te.createTrace({traceName:M.Sq,tags:{__dataset:M.RN},samplingOptions:{sampleRate:1,sampleType:S.tS.SESSION}}),q=$.startSpan(L),re={...J};(0,D.A)(re,"comments");const{notOkResponses:de,summary:oe}=re||{};if(!X){z.warn("Missing callId. Exiting early");return}if(!oe){z.warn("Missing summary. Exiting early");return}try{z.info(`Processing huddle survey response. callId: ${X} - traceId: ${$.getTraceId()} - results: ${JSON.stringify(re)}`)}catch(Z){z.error(Z)}const De={teamId:le,callId:X,surveySummary:oe,surveyResponseCount:(de==null?void 0:de.length)||0,surveyResponses:de==null?void 0:de.join(" ")},ae=(0,O.tT)({...De,...(0,b.vP)()});q.addTags(ae),q.close(),z.info(`Reporting huddle survey trace with ${Object.keys(ae).length} tags (${$.getTraceId()})`),z.debug("Tags attached",ae),te.reportTrace($),te.clearTrace($)},"reportHuddleSurveyResultsTrace");var R=e(8847766420),U=e(980293773),x=e(7138682671),B=e(8472205500),F=e(735940183),V=e(8739505998),Y=e(5363983309),w=e(7171435821);const G=new F.A("huddles");function Ee(Se){return(0,f.A)(Se,(le,X,J)=>(X&&le.push(J),le),[])}m(Ee,"collectResponses");const ne=m(Se=>{let{closeModal:le,callId:X}=Se;const J=(0,h.d4)(R.ZT),[z,te]=(0,v.useState)({}),[$,q]=(0,v.useState)(""),[re,de]=(0,v.useState)(!1),oe=`https://${(0,w.qF)()}`,De=(0,y.wA)(),ae=[{value:E.NoAudioInput,text:G.t("Others couldn\u2019t hear me")},{value:E.NoAudioOutput,text:G.t("I couldn\u2019t hear others")},{value:E.DeviceSelectionError,text:G.t("Slack selected the wrong microphone/speaker, or couldn\u2019t find my device")},{value:E.LowAudioQuality,text:G.t("Audio was low quality (e.g., it lagged or sounded choppy/robotic)")},{value:E.LowVideoQuality,text:G.t("Video was low quality (e.g., slow, not in sync with audio, or pixelated)")},{value:E.VideoNotWorking,text:G.t("Video didn\u2019t work at all")},{value:E.Disconnected,text:G.t("I got disconnected from the Huddle")},{value:E.SomethingElse,text:G.t("Something else went wrong")}],Z=c.HuddleSurvey,ie=(0,v.useCallback)(()=>{de(!0);const Ue={isOk:!1,notOkResponses:Ee(z),comments:$,callId:X,type:Z};De(d(Ue)).then(()=>{J&&N({teamId:J,callId:X,results:{summary:k.Bad,...Ue}}),de(!1),le==null||le()})},[X,z,le,J,$,De,Z]),Ce=(0,v.useCallback)(()=>{De(d({isOk:!1,notOkResponses:[E.Dismiss],callId:X,type:Z})),le==null||le()},[le,X,Z,De]),Re=(0,v.useCallback)(Ue=>q(Ue),[]),be=!!z[E.SomethingElse];return v.createElement(U.dW,{closeModal:Ce,showCloseButton:!0,centered:!0,maxWidth:600},v.createElement(v.Fragment,null,v.createElement(U.rQ,null,v.createElement(U.Rc,{title:G.t("What went wrong?")})),v.createElement(U.$m,null,v.createElement(U.qf,null,ae.map(Ue=>{let{value:me,text:ve}=Ue;return v.createElement(x.A,{text:ve,key:me,id:me,type:"inline",cursor:"pointer",className:"p-huddle_survey_modal_checkbox"},v.createElement(C.A,{name:me,value:me,checked:!!z[me],onChange:Fe=>te(Ke=>({...Ke,[me]:Fe.target.checked}))}))}),be&&v.createElement(x.A,{className:"padding_top_75",text:G.t("If you\u2019d like, please share any other details here:"),id:"details",optional:!0},v.createElement(B.A,{name:"details",id:"details",onChange:Re,value:$})))),v.createElement(U.jl,null,v.createElement(V.A,{href:`${oe}/privacy-policy`,target:"_blank"},G.t("Privacy Policy")),v.createElement(U.ox,null,v.createElement(I.$n,{onClick:Ce,type:"outline"},G.t("Dismiss")),v.createElement(I.lV,{loading:re,onClick:ie,"aria-label":G.t("Send")},G.t("Send"))))))},"HuddleSurveyModal");ne.displayName="HuddleSurveyModal";const se=(0,Y.A)(ne);var ce=e(5286203919);const pe=(0,s.Ay)("Close the mini survey after a postive response",(Se,le,X)=>{let{channelId:J}=X;(0,n.dispatchForClientStore)((0,i.Rh)({channelId:J,optimisticHuddleState:null,huddleState:o.RJ.NOT_STARTED}))});pe.meta={name:"createThunk",key:"createThunkcloseMiniSurvey",description:"Close the mini survey after a postive response"};const ye=(0,s.Ay)("Set the date for when the user last saw the huddle survey",(Se,le,X)=>{let{timeSeen:J}=X;Se((0,r.AZ)({pref:"huddle_survey_last_seen",value:J}))});ye.meta={name:"createThunk",key:"createThunksetHuddleLastSeenSurvey",description:"Set the date for when the user last saw the huddle survey"};const Ie=(0,s.Ay)("Record the result of the mini survey we first display the user after a huddle ends.",(Se,le,X)=>{let{result:J}=X;const z=(0,n.Ry)(),te=(0,ce.E9)(z),$=(0,ce.hc)(z),q=(0,ce.l4)(z),re=c.HuddleSurvey;let de=o.RJ.NOT_STARTED,oe;switch(J){case"bad":te&&Se(se({callId:te}));break;case"good":de=o.RJ.SURVEY_GOOD,Se(d({isOk:!0,callId:te,type:re})),oe=k.Good;break;case"dismiss":oe=k.Dismiss,Se(d({isOk:!1,callId:te,notOkResponses:[E.Dismiss]}));break;default:}oe&&N({teamId:q,callId:te,results:{summary:oe}}),(0,n.dispatchForClientStore)((0,i.Rh)({channelId:$,optimisticHuddleState:null,huddleState:de})),(0,t.Ay)({getState:le}).info(u.o7,`Marking huddle as ${de} in component: huddle-survey`)});Ie.meta={name:"createThunk",key:"createThunkrecordMiniSurvey",description:"Record the result of the mini survey we first display the user after a huddle ends."}},6741408957:(W,T,e)=>{"use strict";e.d(T,{GD:()=>A,Ss:()=>v,iz:()=>f});var t=e(3398586081),s=e(1289024643),n=e(4540171876),r=e(1545824888),u=e(3037015781),i=e(8352634987),o=e(6304789565),a=e(6533394955),_=e(7384121809),l=e(9640070512),p=e(2527782504),g=e(5286203919),c=e(5881236351);const E=m((I,C)=>(0,a.Qw)(I,(0,n.Db)({callIds:C,reason:"all-calls-store/conditional-fetch"})).then(D=>D.map(M=>(0,a.Qw)(I,(0,s.oU)(M)))),"fetchAndUpsert"),A=(0,t.A)(()=>new i.Ay({storeKey:"allCalls",fetch:E,isEnabled:()=>!0})),d=m((I,C)=>{const D=C.map(M=>((0,a.Qw)(I,(0,s.oU)(M)),M.id));A().markObjectsAsFresh(I,D)},"upsertCalls"),v=(0,t.A)(()=>new u.Ay({fetch:(I,C)=>(0,a.Qw)(I,(0,n.Db)({callIds:C,reason:"all-calls-store/unknown-fetch"})),upsertKnown:d,upsertNonExistent:(I,C)=>d(I,C.map(D=>{let{id:M}=D;return{id:M,name:""}}))}));let h=0;const f=(0,o.Ay)("Set a huddle topic",(I,C,D)=>{let{channelId:M,topic:P}=D;const S=(0,_.Ry)();if((0,g.aS)(S))return I((0,c.Jc)(P)),r.S.resolve();const b=(0,g.E9)(S);if(!b)return r.S.reject(new Error(`No callId for channel ${M}`));I((0,c.Jc)(P)),h+=1;const O=h;return I((0,n.xB)({roomId:b,name:P})).then(()=>I((0,s.oU)({id:b,name:P}))).finally(()=>{O===h&&I((0,c.Jc)(null)),I((0,l.H)({focusKey:p.Ay.HUDDLE_SIDEBAR_TOPIC,forceFocus:!0}))})});f.meta={name:"createThunk",key:"createThunksetHuddleTopic",description:"Set a huddle topic"};const y={fetchAndUpsert:E}},666760496:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(4540171876),s=e(1545824888),n=e(6304789565),r=e(387328355),u=e(7384121809),i=e(9548972574),o=e(7723800688),a=e(1224315998),_=e(56548687),l=e(6470070112);const p=(0,n.Ay)("Notify members to join huddle",async(c,E,A)=>{let{channelId:d,userIds:v}=A;const h=[];if(v&&v.length>0){v.forEach(P=>{c((0,r.oN)({userId:P})),h.push(new s.S((S,b)=>{c((0,t.OB)({userId:P,channelId:d,reason:"huddle-notify-member"})).then(S).catch(O=>{const L=new Error(O.message);L.invitedMemberId=P,L.inviteRejectionReason=O.name,b(L)})}))});const f=(0,u.Ry)(),y=E(),I=(0,i.Yw)(y,d),C=(0,l.$t)(y,{huddleId:I==null?void 0:I.id}),D=(0,l.kn)(f),M=(0,l.UE)(f);(0,_.e)({state:y}).track(a.EventId.CANVAS_EVENT,{contexts:{ui_context:{ui_properties:{element_name:o.Hi.INVITATION_SENT},action:a.UiAction.INVITE_PEOPLE},calls:M},invited_user_ids:v,...C,...D})}return s.S.all(h).then(f=>f)});p.meta={name:"createThunk",key:"createThunkinviteMembers",description:"Notify members to join huddle"};const g=p},1070786785:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>a,V3:()=>i,kb:()=>o});var t=e(6304789565),s=e(7384121809),n=e(6134475965),r=e(5286203919);const u=(0,t.Ay)("End huddle for channelId if any",(_,l,p)=>{const g=(0,s.Ry)(),c=(0,r.hc)(g);c&&c===p&&_((0,n.A)())});u.meta={name:"createThunk",key:"createThunkmaybeEndHuddle",description:"End huddle for channelId if any"};const i=(0,t.Ay)("End last active huddle for channelId if any",(_,l,p)=>{var g;const c=(0,s.Ry)(),E=(g=(0,r.Qn)(c))===null||g===void 0?void 0:g.channelId,A=(0,r.Ak)(c);(E&&E===p||A===null&&E&&E!==p)&&_((0,n.A)())});i.meta={name:"createThunk",key:"createThunkmaybeEndLastActiveHuddleByChannelId",description:"End last active huddle for channelId if any"};const o=(0,t.Ay)("End huddle for call Id and channelId if any",(_,l,p)=>{let{channelId:g,callId:c}=p;const E=(0,s.Ry)(),{channelId:A,callId:d}=(0,r.Qn)(E)||{};A&&A===g&&d===c&&_((0,n.A)())});o.meta={name:"createThunk",key:"createThunkmaybeEndHuddleByChannelAndCallId",description:"End huddle for call Id and channelId if any"};const a=u},9864164947:(W,T,e)=>{"use strict";e.d(T,{Gt:()=>S,Ho:()=>C,LW:()=>I,Md:()=>h,OF:()=>K,Ux:()=>M,Wf:()=>k,fH:()=>f,gA:()=>y,gV:()=>O,qc:()=>D,rV:()=>P,s5:()=>b});var t=e(5950652755),s=e(6304789565),n=e(2778217221),r=e(337319621),u=e(8664881451),i=e(2854284421),o=e(2047021170),a=e(3986753718),_=e(7022928841),l=e(5332875232),p=e(2791814261),g=e(9907843289);const c=(0,t.A)(function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,u.ZH)(N?i.Ji:i.o8,{loop:!1,useSlackPreferredSink:!0})},7e3,{leading:!0,trailing:!1}),E=(0,t.A)(function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,u.ZH)(N?i.PV:i.CZ,{loop:!1,useSlackPreferredSink:!0})},7e3,{leading:!0,trailing:!1}),A=(0,t.A)(function(){let N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return(0,u.ZH)(N?i.DT:i.o,{loop:!1,useSlackPreferredSink:!0})},0,{leading:!0,trailing:!1}),d=(0,t.A)((N,R,U)=>{let x=R?i.sQ:i.wg;const B=.25,F=(0,p.L)(U),V=(0,l.DR)(U);R&&N==="gong"&&V&&F&&(x=i.o3);const Y=(0,l.Ey)(U);R&&N==="duck"&&Y&&F&&(x=i.nP),(0,u.ZH)(x,{loop:!1,volume:B,useSlackPreferredSink:!0})},5e3,{leading:!0,trailing:!1}),v=m(N=>!(0,o.ty)(N,"mute_huddle_sounds"),"canPlayHuddleSound"),h=(0,s.Ay)("Play sound when user joins",(N,R)=>{v(R())&&((0,r.Ay)({getState:R}).info(n.o7,"playSoundOnUserJoin"),c(!1))});h.meta={name:"createThunk",key:"createThunkplaySoundOnUserJoin",description:"Play sound when user joins"};const f=(0,s.Ay)("Play sound when user leaves",(N,R)=>{v(R())&&((0,r.Ay)({getState:R}).info(n.o7,"playSoundOnUserLeft"),E(!1))});f.meta={name:"createThunk",key:"createThunkplaySoundOnUserLeft",description:"Play sound when user leaves"};const y=(0,s.Ay)("Play sound when you join",(N,R)=>{v(R())&&((0,r.Ay)({getState:R}).info(n.o7,"playSoundOnYouJoin"),c(!0))});y.meta={name:"createThunk",key:"createThunkplaySoundOnYouJoin",description:"Play sound when you join"};const I=(0,s.Ay)("Play sound when you leave",(N,R)=>{v(R())&&((0,r.Ay)({getState:R}).info(n.o7,"playSoundOnYouLeft"),E(!0))});I.meta={name:"createThunk",key:"createThunkplaySoundOnYouLeft",description:"Play sound when you leave"};const C=(0,s.Ay)("Play sound when user mutes the mic using keyboard shortcut",(N,R)=>{v(R())&&((0,r.Ay)({getState:R}).info(n.o7,"playSoundOnMicMute"),A(!0))});C.meta={name:"createThunk",key:"createThunkplaySoundOnMicMute",description:"Play sound when user mutes the mic using keyboard shortcut"};const D=(0,s.Ay)("Play sound when user unmutes the mic using keyboard shortcut",(N,R)=>{v(R())&&((0,r.Ay)({getState:R}).info(n.o7,"playSoundOnMicUnmute"),A(!1))});D.meta={name:"createThunk",key:"createThunkplaySoundOnMicUnmute",description:"Play sound when user unmutes the mic using keyboard shortcut"};const M=(0,s.Ay)("Play sound when reaction is received",(N,R,U)=>{let{emoji:x,isEffect:B}=U;const F=R();(0,o.ty)(F,"huddles_reactions_play_sound")&&v(F)?((0,r.Ay)({getState:R}).info(n.o7,"playSoundOnReaction"),d(x,B,F)):(0,r.Ay)({getState:R}).info(n.o7,"did not playSoundOnReaction")});M.meta={name:"createThunk",key:"createThunkplaySoundOnReaction",description:"Play sound when reaction is received"};const P=(0,s.Ay)("Plays the huddle invite sound",(N,R)=>{const U=R();(0,a.YX)(U)||!v(U)||(0,u.ZH)((0,_.qF)(U),{useSlackPreferredSink:!1})});P.meta={name:"createThunk",key:"createThunkplayHuddleInviteSound",description:"Plays the huddle invite sound"};const S=(0,s.Ay)("Plays the huddle new requester sound",(N,R)=>{v(R())&&((0,r.Ay)({getState:R}).info(n.o7,"playHuddleNewRequesterSound"),(0,u.ZH)(i.rT,{loop:!1,useSlackPreferredSink:!0}))});S.meta={name:"createThunk",key:"createThunkplayHuddleNewRequesterSound",description:"Plays the huddle new requester sound"};const b=(0,s.Ay)("Plays the huddle request accepted sound",(N,R)=>{v(R())&&((0,r.Ay)({getState:R}).info(n.o7,"playHuddleNewRequestAcceptedSound"),(0,u.ZH)(i.rT,{loop:!1,useSlackPreferredSink:!0}))});b.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestAcceptedSound",description:"Plays the huddle request accepted sound"};const O=(0,s.Ay)("Plays the huddle request expired sound",(N,R)=>{v(R())&&((0,r.Ay)({getState:R}).info(n.o7,"playHuddleNewRequestExpiredSound"),(0,u.ZH)(i.xE,{loop:!1,useSlackPreferredSink:!0}))});O.meta={name:"createThunk",key:"createThunkplayHuddleNewRequestExpiredSound",description:"Plays the huddle request expired sound"};const L=m(N=>{let R={onSound:void 0,offSound:void 0};switch(N){case"ja-JP":R={onSound:i.Q6,offSound:i.uv};break;case"es-LA":case"es-ES":R={onSound:i.ll,offSound:i.PK};break;default:R={onSound:i.sH,offSound:i.IZ};break}return R},"getHuddleSounds"),k=(0,s.Ay)("Plays the huddle recording on sound",(N,R)=>{const U=(0,g.Yp)(),{onSound:x,offSound:B}=L(U);x&&B&&((0,u.ds)(x),(0,u.ds)(B),(0,u.ZH)(x,{loop:!1,useSlackPreferredSink:!0}))});k.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOnSound",description:"Plays the huddle recording on sound"};const K=(0,s.Ay)("Plays the huddle recording off sound",(N,R)=>{const U=(0,g.Yp)(),{onSound:x,offSound:B}=L(U);x&&B&&((0,u.ds)(x),(0,u.ds)(B),(0,u.ZH)(B,{loop:!1,useSlackPreferredSink:!0}))});K.meta={name:"createThunk",key:"createThunkplayHuddleRecordingOffSound",description:"Plays the huddle recording off sound"}},4156857608:(W,T,e)=>{"use strict";e.d(T,{a:()=>d});var t=e(6304789565),s=e(7384121809),n=e(4250409994),r=e(7434063642),u=e(8783285437),i=e(6758774099),o=e(1990810649),a=e(387328355),_=e(5137668119),l=e(2709531527),p=e(5795074931),g=e(4921059838),c=e(3829348308),E=e(8847766420),A=e(488107601);const d=(0,t.Ay)("Dispatch a reaction to the middleware and the current store to notify user has sent a reaction",(v,h,f)=>{let{emoji:y,emojiUrl:I,reactionType:C=o.o.Standard}=f;if(C===o.o.Sticker)v((0,r.Kp)({emoji:y})),(0,s.dispatchForClientStore)((0,n.M4)(y));else{const P=h(),S=(0,E.ZT)(P);let b=I;if(!I&&!(0,g.A)(P,y)){var D;b=(D=(0,c.Ez)(P,{text:y,teamId:S,emojiMode:A.VZ.AS_TEXT,emojiSize:A.lw.MEDIUM}))!==null&&D!==void 0?D:void 0}(0,s.dispatchForClientStore)((0,n.nU)({emoji:y,reactionType:C,emojiUrl:b})),v((0,a._x)({peerId:"self",emoji:y,isEmoji:!0,reactionType:C,emojiUrl:b}));const{huddleEventsTrace:O}=(0,_.A)().getAllTraceHandlers();O==null||O.update({name:l.p.REACTION,type:l.G.ONCE,tags:{reactionType:C}})}const M=(0,p.WR)(h());M&&v((0,i.U$)({type:u.v.SEND_REACTION,memberId:M,timestampMs:Date.now(),emoji:y}))});d.meta={name:"createThunk",key:"createThunksendReaction",description:"Dispatch a reaction to the middleware and the current store to notify user has sent a reaction"}},1049642794:(W,T,e)=>{"use strict";e.d(T,{A:()=>y});var t=e(8571983633),s=e(6304789565),n=e(6533394955),r=e(7384121809),u=e(8847766420),i=e(2778217221),o=e(4250409994),a=e(6694086724),_=e(5286203919),l=e(4094753332),p=e(337319621),g=e(462591818),c=e(7434063642),E=e(6251210828),A=e(387328355),d=e(9365970888),v=e(3065433701),h=e(700984029);const f=(0,s.Ay)("Enable or disable local microphone",async(I,C,D)=>{const M=(0,r.Ry)(),P=C(),S=(0,p.Ay)({state:P}),b=(0,d.Hc)(P);if((0,E.RT)(P)||I((0,c.G4)({canShowMutedBanner:!0})),(0,l.y3)()||await(0,r.dispatchForClientStore)((0,h.e$)({mediaResourceType:g.mT.MICROPHONE})),S.info(i.o7,`Set microphone to ${D}`),b&&D){S.warn(i.o7,"Microphone could not be set to enabled as access to the device was blocked"),(0,l.y3)()?I((0,v.CE)({alert:v.vT.NoSystemAudio})):I((0,v.CE)({alert:v.vT.NoBrowserAudioPermission}));return}const{teamId:L}=(0,_.Qn)(M)||{};if(L&&L!==(0,u.ZT)(P)){(0,n.Qw)(L,f(D));return}(0,t.A)(D)||((0,r.dispatchForClientStore)((0,o.I9)(D)),D&&(0,_.wQ)(M)&&I((0,a.e)({clearOnEndedCallback:!0,logContext:"huddle-set-self-microphone"}))),I((0,A.kT)({id:"self",isMicrophoneEnabled:D}))});f.meta={name:"createThunk",key:"createThunksetSelfMicrophone",description:"Enable or disable local microphone"};const y=f},8746998952:(W,T,e)=>{"use strict";e.d(T,{A:()=>P});var t=e(6304789565),s=e(1545824888),n=e(337319621),r=e(7578434623),u=e(5613673538),i=e(5319025363),o=e(7384121809),a=e(6470070112),_=e(5286203919),l=e(5933621899),p=e(9680914051),g=e(8330768070),c=e(6259241484),E=e(716227588),A=e(1655938719),d=e(5332875232),v=e(5881236351),h=e(9712681361),f=e(3015351052),y=e(2047021170),I=e(5203103513);const C="HUDDLES",D=(0,t.Ay)("Join/start huddle, but confirm with shouty rooster modal first",(S,b,O)=>{let{channelId:L,threadTs:k,muted:K,callId:N,forceFocus:R,entryPoint:U,forceConfirmation:x,markTelemeter:B,isMultiDevice:F,isStandaloneHuddle:V}=O,Y=!1;if((0,d.Rk)(b())){const se=(0,o.en)().getState(),ce=(0,_.J0)(se),pe=(0,y.ty)(b(),I.aI)||!1;Y=L!==void 0&&ce!==L&&pe}const G=m(()=>{var ne;B&&(0,r.Cy)({state:b()}).mark(p.qr),(ne=S((0,u.A)({channelId:L,threadTs:k,muted:K,callId:N,forceFocus:R,entryPoint:U,isMultiDevice:F,isStandaloneHuddle:V})))===null||ne===void 0||ne.catch(se=>{(0,n.Ay)({getState:b}).error("Could not start huddle",se)})},"onConfirm"),Ee=m(()=>{Y&&L&&S((0,f._)({channelId:L,handleJoin:G}))},"showHuddlesJoinPreview");if((0,a.Qj)(b(),L,k)||x){k?S((0,A.iR)({event:{type:c.jo.HUDDLE_STARTED_FROM_THREAD}})).then(()=>{(0,E.Hp)(b(),c.xu.LAUNCH_MODAL)===c.ze.HUDDLE_FROM_THREAD_EDUCATIONAL_MODAL?S((0,l.Wx)({channelId:L??"",onConfirm:G})):Y?Ee():G()}):S((0,g.Oe)({channelId:L??"",onConfirm:G}));return}Y?Ee():G()});D.meta={name:"createThunk",key:"createThunkstartHuddleWithShoutyRooster",description:"Join/start huddle, but confirm with shouty rooster modal first"};const M=(0,t.Ay)("Join/start huddle, but confirm if already in another huddle",(S,b,O)=>{const{channelId:L}=O,k=b(),K=(0,d.pL)(k),N=(0,o.Ry)(),R=(0,_.hc)(N),U=(0,_.EG)(N),x=(0,_.$V)(N),B=(0,a.r5)(k,{channelId:L});if(S((0,i.z)()),R&&L!==R&&!x){(0,n.Ay)({getState:b}).info(C,"Opening Huddle Switch Modal"),S((0,g.Y6)({prevChannelId:R,nextChannelId:L??"",onConfirm:()=>{S(D({...O,markTelemeter:!1}))}}));return}if(K&&B){(0,n.Ay)({getState:b}).info(C,"Opening Multi Device Flow"),S((0,v.$Z)({channelId:L??"",onConfirm:F=>{let{isMultiDevice:V}=F;return S(D({...O,markTelemeter:!1,isMultiDevice:V}))}}));return}return R&&L===R&&U===h.RJ.STARTED?((0,n.Ay)({getState:b}).info(C,"User attempted to start ongoing huddle again. Aborting."),s.S.resolve()):((0,n.Ay)({getState:b}).info(C,"Joining Huddle through Shouty Rooster"),S(D({...O,markTelemeter:!0})))});M.meta={name:"createThunk",key:"createThunkstartHuddleWithConfirmation",description:"Join/start huddle, but confirm if already in another huddle"};const P=M},5613673538:(W,T,e)=>{"use strict";e.d(T,{A:()=>pe});var t=e(92886754),s=e(3134334389),n=e(9506008067),r=e(3051824855),u=e(825587348),i=e(8739505998),o=e(4481313819),a=e(1224315998),_=e(7171435821),l=e(4413566926),p=e(3078708518),g=e(4761125736);const c=new l.Ay("huddles");function E(ye){let{closeModal:Ie}=ye;const Se=(0,n.d4)(p.A),le=(0,n.d4)(z=>(0,g._Z)(z,"adoption_instant_slack"))==="treatment";let X,J;if((0,t.yh)())X=c.t("Your browser does not support Huddles"),J=Se&&le?c.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend switching to <chrome-link>Chrome</chrome-link>.",{},z=>{let{text:te}=z;return s.createElement(i.A,{href:"https://www.google.com/chrome"},te)}):c.rt("Unfortunately, Huddles aren\u2019t available in this browser. We recommend downloading the <desktop-link>Slack desktop app</desktop-link>, or you can switch to <chrome-link>Chrome</chrome-link>.",{},z=>{let{tag:te,text:$}=z;switch(te){case"desktop-link":return s.createElement(i.A,{href:`https://${(0,_.qF)()}/downloads`},$);case"chrome-link":return s.createElement(i.A,{href:"https://www.google.com/chrome"},$);default:return null}});else if((0,t.WT)())X=c.t("Please update Slack"),J=c.t("Unfortunately, this version of Slack is out of date. Update your Slack app for access to Huddles \u2014 as well as bug fixes and an all-around smoother experience.");else return null;return s.createElement(o.A,{eventId:a.EventId.HUDDLES_ALERT_SHOWN,uiComponentName:a.UiComponentName.HUDDLES_UNSUPPORTED_ALERRT,clogImpression:!0},s.createElement(u.A,{onClose:Ie,onSubmit:Ie,showCancelButton:!1,showSubmitButton:!0,title:X,submitButtonText:c.t("OK")},J))}m(E,"HuddleUnsupportedAlert"),E.displayName="HuddleUnsupportedAlert";const A=(0,r.e)(E);var d=e(1545824888),v=e(6304789565),h=e(5881236351),f=e(5378147939),y=e(6758774099),I=e(8847766420),C=e(1289024643),D=e(7304871158);const M=(0,v.Ay)("End active call",(ye,Ie)=>{const Se=(0,C.J2)(Ie());if(Se){const le=(0,C.Ms)(Se);le&&!le.isClosed()&&(0,D.R)(le,"endActiveCall")}});M.meta={name:"createThunk",key:"createThunkmaybeEndActiveCall",description:"End active call"};var P=e(9640070512),S=e(2527782504),b=e(2832209848),O=e(7843142872),L=e(7384121809),k=e(9548972574),K=e(8935621861),N=e(5332875232),R=e(5795074931),U=e(2791814261),x=e(5286203919),B=e(9712681361),F=e(7723800688),V=e(56548687),Y=e(6470070112),w=e(6290537170),G=e(5470425448),Ee=e(5071086688),ne=e(4250409994),se=e(5137668119);const ce=(0,v.Ay)("Start huddle",async(ye,Ie,Se)=>{let{channelId:le,threadTs:X,muted:J,callId:z,forceFocus:te,entryPoint:$=B.su.UNKNOWN,isMultiDevice:q,isStandaloneHuddle:re}=Se;const de=Ie(),oe=(0,w.Vo)(de),De=(0,g._Z)(de,"hide_all_sidebars")==="on";if(!oe&&!De?(0,L.dispatchForClientStore)((0,ne.t2)(!0)):(0,L.dispatchForClientStore)((0,ne.t2)(!1)),ye(M()),ye((0,y.Lm)(!1)),ye((0,y.T3)()),(0,t.WT)()||(0,t.yh)())return ye(A()),d.S.resolve();ye((0,O.g6)({experimentHuddlesDiscoveryCallsGroupTreatment:(0,N.Ms)(de),interactionType:b.X8.Click}));const ae=(0,U.L)(de),Z=(0,I.ZT)(de);(0,se.A)().initializeTraces({teamId:Z,isTinySpeck:ae});const ie=!!(0,x.gj)((0,L.Ry)()),Ce=await K.A.getInstance().getNearestChimeMediaRegion(Z),{ttiTrace:Re,huddleEventsTrace:He}=(0,se.A)().getAllTraceHandlers();Re.addTTIMetaTags({entryPoint:$,preferredMediaRegion:Ce,isPrejoin:ie,isCreate:!(0,k.Yw)(de,le)}),He==null||He.recordEntryPoint($),Ee.A.publish({type:G.lx.PreferredMediaRegion,update:{mediaRegionPreferred:Ce}});const be=(0,f.A)(),Ue=(0,R.WR)(de);return be.start(Z,le??"",J,z,X,q,re).then(async()=>{const me=(0,L.Ry)(),ve=(0,Y.$t)(de,{huddleId:z}),Fe=(0,Y.kn)(me),Ke=(0,Y.UE)(me);(0,V.e)({state:de}).track(a.EventId.CANVAS_EVENT,{contexts:{ui_context:{entry_point:$,ui_properties:{element_name:F.Hi.CANVAS_JOIN},action:a.UiAction.TOGGLE},calls:Ke},...ve,...Fe}),ye((0,P.H)({focusKey:S.Ay.HUDDLE_SIDEBAR_FOOTER,forceFocus:te})),ye((0,h.xb)(!1)),z&&ye((0,C.r_)({callId:z,userId:Ue}))})});ce.meta={name:"createThunk",key:"createThunkstartHuddle",description:"Start huddle"};const pe=ce},5319025363:(W,T,e)=>{"use strict";e.d(T,{z:()=>r});var t=e(6304789565),s=e(7022928841),n=e(8664881451);const r=(0,t.Ay)("Stop the huddle invite sound",(u,i)=>{(0,n.ds)((0,s.qF)(i()),{logFailure:!1})});r.meta={name:"createThunk",key:"createThunkstopHuddleInviteSound",description:"Stop the huddle invite sound"}},6694086724:(W,T,e)=>{"use strict";e.d(T,{e:()=>l});var t=e(6304789565),s=e(337319621),n=e(4869203191),r=e(4250409994),u=e(7384121809),i=e(5332875232),o=e(5286203919),a=e(7434063642),_=e(6251210828);const l=(0,t.Ay)("Stops huddle lounge music from playing",(p,g,c)=>{let{clearOnEndedCallback:E,logContext:A,isStoppedByUser:d}=c;const v=g(),h=(0,s.Ay)({state:v}),f=(0,i.CI)(v),y=(0,_.jr)(v),I=(0,_.K8)(v),C=(0,u.Ry)(),D=(0,o.E9)(C);n.Ay.getInstance().stopMusic({clearOnEndedCallback:E,logger:h,logContext:A}),(0,u.dispatchForClientStore)((0,r.Ag)(!1)),d&&D&&p((0,a.sH)({huddleId:D,hasUserStoppedLoungeMusic:d})),f&&(d||I)&&y&&p((0,a.ju)({stopMusic:!0}))});l.meta={name:"createThunk",key:"createThunkstopHuddleLoungeMusic",description:"Stops huddle lounge music from playing"}},6134475965:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(6304789565),s=e(5378147939),n=e(7384121809),r=e(6694086724),u=e(6855917924),i=e(5332875232),o=e(4250409994),a=e(7366481123);const _=(0,t.Ay)("Stop the active huddle",(p,g)=>{const c=g(),E=(0,i.lV)(c);return(0,n.dispatchForClientStore)((0,o.yi)({})),p((0,u.A)()),p((0,r.e)({clearOnEndedCallback:!0,logContext:"stop-huddle-thunk"})),E&&(0,n.dispatchForClientStore)((0,o.JM)()),p((0,a.LL)(a.vT.HiddenUserJoinedHuddle)),(0,s.A)().stop()});_.meta={name:"createThunk",key:"createThunkstopHuddle",description:"Stop the active huddle"};const l=_},6310192986:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>le,vP:()=>ye});var t=e(6313685253),s=e(9137897911),n=e(3398586081),r=e(716022512),u=e(6696292586),i=e(4518410378),o=e(9548972574),a=e(8233775522),_=e(6470070112),l=e(9323322135),p=e(5286203919),g=e(4988306802),c=e(9012396182),E=e(9101533895),A=e(7384121809),d=e(2767624118),v=e(6664301844),h=e(7429662208),f=e(387328355),y=e(1990810649),I=e(9365970888),C=e(6117529990),D=e(8736071954),M=e(610288365),P=e(5332875232),S=e(6251210828),b=e(2465464861),O=e(4094753332),L=e(9195837907),k=e(1473609332),K=e(3193155968),N=e(6839188756);function R(X){return X?(0,N.tc)(X)?"free":(0,N.r7)(X)?"enterprise":"pro":"unknown"}m(R,"getTeamTier");var U=e(3677514771),x=e(2878685908),B=e(4761125736),F=e(415910655),V=e(5795074931),Y=e(7366481123);const w=navigator.hardwareConcurrency,G=(0,O.zS)(),Ee=(0,x.b3)(),ne=(0,x.$i)(),se=m(X=>(0,t.A)(X,(J,z,te)=>{if(te===K.N2)return J;const $=te.split(/-|_/).slice(0,-1).join("-"),q=(0,s.A)(`windows-${$}-count`);return J[q]?J[q]+=1:J[q]=1,J},{}),"countWindowsByType"),ce=m(X=>{if(!X)return"";let J=X;const z=/Default -/g;J=X.replace(z,"");const te=/ *?\([^)]*?\) *?/g;return J=J.replace(te,""),J=J.trim(),J},"scrubDeviceLabelForReporting");let pe;const ye=m(()=>pe,"getMostRecentStableTags"),Ie=(0,n.A)((X,J)=>{let{teamState:z,clientState:te}=X;var $;const q=(0,p.E9)(te),re=(0,p.hc)(te),de=(0,C.OV)(z),oe=(0,P.MJ)(z),De=(0,P.nC)(z),ae=(0,P.ZI)(z),Z=v.zF.sdkVersion,ie=(0,_.R8)(z),Ce=(0,P.Qq)(z),Re=(0,p.sQ)(te),He=(0,P.Jf)(z),be=(0,P.Ml)(z),Ue=(0,B._Z)(z,"huddles_filter_worker",!1),me=(0,p.l4)(te),ve=(0,U.H7)(z),Fe=R(ve);var Ke;const j=(Ke=($=(0,c.getBootedWorkspaces)(te))===null||$===void 0?void 0:$.length)!==null&&Ke!==void 0?Ke:0,ee=(0,E.D5)(z),je=(ee==null?void 0:ee.length)||0,Te=(0,F.s2)()||{},Je={teamId:me,huddleId:q,huddleChannelId:re,workspaceCount:j,chimeSdkVersion:Z,teamTier:Fe,isPreWarmed:Ce,isPrejoin:Re,isHuddlesIncreaseMaxParticipantsEnabled:De,isTranscriptAllowed:ie,isChimeSdkExpEnabled:de,isHuddlesLaterEnabled:oe,isVideoQualityIncreaseEnabled:He,isPerfMetricsAveragesEnabled:be,isDevicesExpEnabled:ae,osVersion:G,envIsJsPath:Ee,envIsQa:ne,xwsChannelCount:je,filterWorkerGroup:Ue,...Te};return pe=Je,Je},(X,J)=>J),le=m(X=>{let{state:J,appMetrics:z}=X;var te,$,q,re,de,oe,De,ae;const Z=(0,A.en)().getState(),ie=(0,p.cN)(Z),Ce=(0,p.E9)(Z),Re=`${ie}${Ce??""}`,He=Ie({teamState:J,clientState:Z},Re),{huddleId:be,huddleChannelId:Ue,workspaceCount:me}=He,ve={},Fe=(0,h.e6)(J),Ke=Fe?(0,h.Le)(J,{tab:Fe}):{},{primary:j,secondary:ee,sidebar:je}=Ke||{};Object.assign(ve,{viewPrimary:j==null?void 0:j.viewType,viewSecondary:ee==null?void 0:ee.viewType,viewSidebar:je==null?void 0:je.viewType,viewTab:Fe});const Te=(0,I.Hc)(J),Je=(0,I.AZ)(J),Ae=(0,I.IO)(J),Me=(0,I.JM)(J),we=(0,I.SR)(J),Ge=(0,I.f3)(J),Qe=(0,I.aA)(J),fe={microphoneIsBlocked:Te,microphoneIsAvailable:Je,cameraIsBlocked:we,cameraIsAvailable:Ge,isMicrophoneBluetooth:Ae,isSpeakerBluetooth:Me,isMicrophoneAndSpeakerOnSameDevice:Qe},Ve=(0,a.fq)(J),Be={};if(Ve){const un=Object.keys(Ve);Object.assign(Be,{windowsTotalOpen:un.length,windowsOpenTypes:un.length?un.join(" "):"",windowsTypeWithFocus:(0,r.A)(Ve,Fn=>!!Fn.isFocused),...se(Ve)})}const Ye=(0,_.Fm)(J),et=Ye&&Ye.type===Y.vT.ConnectionUnstable,at=(0,b._R)(J),gt=at!==null,Mt={isTroubleshootingPanelOpen:gt,isAudioOnlyModeEnabled:(0,p.Rv)(Z),troubleshootingPanelTab:gt?(0,b.Eh)(J):null,troubleshootingPillPage:(0,b.Wg)(J),troubleshootingEntryPointWas:(0,b.qV)(J),troubleshootingSessionId:gt?`${(0,V.WR)(J)}${be}:${(0,b.$i)(J)}`:null,troubleshootingBannerInView:et,troubleshootingSource:at},Bt=(0,o.UK)(J),Ct=(te=(0,I.ql)(J,D.lW.Camera))===null||te===void 0?void 0:te.label,Ft=($=(0,I.ql)(J,D.lW.Microphone))===null||$===void 0?void 0:$.label,kt=(q=(0,I.ql)(J,D.Q4))===null||q===void 0?void 0:q.label,{isScreenshareEnabled:Et,isHostDrawEnabled:mt,isHostDrawRendererActive:Rt,isCameraEnabled:Ht,isMicrophoneEnabled:ft,isConnected:Jt}=(0,f.Ng)(J),Zt=!!Et,Tt=!!Ht,Pt=(0,f.fU)(J,{id:"self"}),Kt=(0,f.MY)(J),dn=Kt==="self",sn=Bt.filter(un=>un.isCameraEnabled).length,H=(0,d.H)(Ue),Ne=(0,k.Bh)(),Pe=Tt&&(Ne==null||(re=Ne.video)===null||re===void 0?void 0:re.effect)===L.t.Blur,qe=!!(!(Ne==null||(de=Ne.audio)===null||de===void 0)&&de.enableNoiseSuppression),At=qe&&dn,xt=Tt&&(Ne==null||(oe=Ne.video)===null||oe===void 0?void 0:oe.effect)===L.t.Background&&(Ne==null||(De=Ne.video)===null||De===void 0?void 0:De.effectBgKey)!==void 0,jt=!!Kt,Xt=!!sn,Qt=(0,f.nD)(J).length,ht=!!Qt,Nt=Qt+(Zt?1:0),on=Nt===2,Vt=ht||Zt,qt=(0,b.gA)(J),rn=(0,g.VN)(J),vn=(0,g.M3)(J),Rn=jt?(ae=Bt.find(un=>un.id===Kt))===null||ae===void 0?void 0:ae.userId:void 0,Pn=(0,S.dj)(J,{huddleId:be})||!1,In=i.J.document.visibilityState==="visible",Nn={isBackgroundBlurActive:Pe,isNoiseSuppressionEnabled:qe,isNoiseSuppressionActive:At,isCustomVideoBackgroundActive:xt,isClosedCaptionsEnabled:rn,isSideBySideCaptionsEnabled:vn},Jn={callId:Ce,isMicrophoneEnabled:ft,isActiveSpeaker:dn,isSomeoneSpeaking:jt,isSomeoneSharingScreen:Vt,isVideoEnabledForSomeone:qt,isSharingScreen:Zt,isHostDrawEnabled:mt,isHostDrawActive:Rt,isSelfVideoEnabled:Tt,isPeerVideoEnabled:Xt,isHuddleWindowVisible:H,selectedCamera:ce(Ct),selectedMicrophone:ce(Ft),selectedSpeakers:ce(kt),activeSpeakerUserId:Rn,isPeerSharingScreen:ht,isDualScreenshareActive:on,cpuCount:w,remotePeerCount:Bt.length,remotePeersWithVideoCount:sn,peersScreensharingCount:Qt,activeScreenshareCount:Nt,workspaceCount:me,huddleStartTimestamp:ie,isDisconnected:Jt===!1,isMainWindowVisible:In,isHuddleSummaryActive:Pn};let ts={};if(z){const{cpu:un,memory:Fn,gpu:Gt,thermalState:Ut,speedLimit:ze}=z,Q=(0,u.A)(un)?Math.round(un*w):void 0,ue=(0,u.A)(Gt)?Math.round(Gt*w):void 0,ge=(0,l.oQe)("settings")||{};ts={cpuUseRelative:un?Math.round(un):void 0,cpuUse:Q,gpuUse:ue,memoryUse:(Fn==null?void 0:Fn.workingSetSize)||void 0,isHardwareAccelerationEnabled:!!ge.useHwAcceleration,osThermalState:Ut,osSpeedLimit:ze,osIsThrottlingCpu:(0,u.A)(ze)&&ze!==0?ze<30:void 0}}let Un={huddleViewMode:(0,S.HH)(J,{huddleId:be})};if(H){var bn;const un=(0,S.Ec)(J,{huddleId:be}),Fn=(0,S.SC)(J,{huddleId:be,surface:un});Un={...Un,huddleWindowSurface:un,huddleWindowFocusedContentType:(Pt==null||(bn=Pt.item)===null||bn===void 0?void 0:bn.type)||y.cM.None,huddleWindowIsFullscreen:(0,S.g0)(J),huddleWindowIsSelfDrawingEnabled:(0,S.ny)(J),huddleWindowWindowHeight:Fn==null?void 0:Fn.height,huddleWindowWindowWidth:Fn==null?void 0:Fn.width}}const Ln=(0,M.Ay)(),Gn={batteryIsUsing:Ln.isUsingBatteryPower(),batteryPercentRemaining:Ln.getLevel()},{osIsThrottlingCpu:Zn,osThermalState:ns}=ts,{batteryIsUsing:is,batteryPercentRemaining:Xn}=Gn,qn={powerThrottlingActive:!!Zn&&!!is&&(0,u.A)(Xn)&&Xn<100,thermalThrottlingActive:!!Zn&&(ns==="critical"||ns==="serious")};return{...Jn,...Nn,...ts,...Un,...ve,...fe,...Gn,...Mt,...Be,...He,...qn}},"getHuddleStateSnapshot")},4742719639:(W,T,e)=>{"use strict";e.d(T,{o:()=>u});var t=e(2384831516),s=e(9548972574),n=e(8847766420),r=e(6741408957);const u=(0,t.Mz)((i,o)=>{const a=(0,s.dy)(i);if(a)return a;const _=(0,s.Yw)(i,o);if(!_)return null;const l=(0,n.ZT)(i);return _.name===void 0?((0,r.Ss)().fetchObjectWithId(l,_.id),null):((0,r.GD)().maybeRefetch(l,_.id),_.name)});u.meta={name:"createSelector",key:"createSelectorgetHuddleTopic",description:(i,o)=>{const a=(0,s.dy)(i);if(a)return a;const _=(0,s.Yw)(i,o);if(!_)return null;const l=(0,n.ZT)(i);return _.name===void 0?((0,r.Ss)().fetchObjectWithId(l,_.id),null):((0,r.GD)().maybeRefetch(l,_.id),_.name)}}},1921074781:(W,T,e)=>{"use strict";e.d(T,{F:()=>u});var t=e(8571983633),s=e(1545824888),n=e(337319621),r=e(2778217221);class u{static getInstance(){if(!u.wakeLockManager)try{u.wakeLockManager=new u}catch(o){(0,n.Wo)({label:r.o7}).warn("Error instantiating WakeLockManager,",o.message)}return u.wakeLockManager}static doesInstanceExist(){return!(0,t.A)(u.wakeLockManager)}async request(){if(this.wakeLockSentinel)return s.S.resolve();this.wakeLockSentinel=await this.wakeLock.request("screen").catch(o=>(this.logger.warn("WakeLock acquire failed",o.message),null)),this.addHandlers()}async release(){if(!this.wakeLockSentinel)return s.S.resolve();this.shouldRemoveVisibilityHandler=!0,await this.wakeLockSentinel.release(),this.logger.info("WakeLock released")}addHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.addEventListener("release",this.handleWakeLockReleased),document.addEventListener("visibilitychange",this.handleDocumentVisibilityChange))}cleanupHandlers(){this.wakeLockSentinel&&(this.wakeLockSentinel.removeEventListener("release",this.handleWakeLockReleased),this.wakeLockSentinel=null,this.shouldRemoveVisibilityHandler&&(document.removeEventListener("visibilitychange",this.handleDocumentVisibilityChange),this.shouldRemoveVisibilityHandler=!1))}async handleWakeLockReleased(){this.logger.info("WakeLock released by browser"),this.cleanupHandlers()}async handleDocumentVisibilityChange(){document.visibilityState==="visible"&&this.request()}constructor(){if(this.logger=(0,n.Wo)({label:r.o7}),this.shouldRemoveVisibilityHandler=!1,!navigator.wakeLock)throw Error("navigator.wakeLock undefined");this.wakeLock=navigator.wakeLock,this.handleDocumentVisibilityChange=this.handleDocumentVisibilityChange.bind(this),this.handleWakeLockReleased=this.handleWakeLockReleased.bind(this)}}m(u,"WakeLockManager")},8478954380:(W,T,e)=>{"use strict";e.d(T,{Li:()=>c,ML:()=>u,Rt:()=>o,_6:()=>g,aS:()=>a,al:()=>i,bW:()=>l,it:()=>p,qO:()=>_});var t=e(2140362605),s=e(6304789565),n=e(5071086688),r=e(5470425448);const u=(0,t.Ay)("Update the state of the active tab in the huddle troubleshooting panel");u.meta={name:"createAction",key:"createActionupdateTroubleshootingActiveAccordionViewTrace",description:"Update the state of the active tab in the huddle troubleshooting panel"};const i=(0,t.Ay)("Makes troubleshoot panel V2 visible in source view or clears it");i.meta={name:"createAction",key:"createActionsetTroubleshootingSource",description:"Makes troubleshoot panel V2 visible in source view or clears it"};const o=(0,s.Ay)("Set the screen sharing of a peer.",(E,A,d)=>{n.A.publish({type:r.lx.TroubleshootingEntryPoint,update:(d==null?void 0:d.entryPoint)||null}),E(i(d))});o.meta={name:"createThunk",key:"createThunksetTroubleshootingSourceWithTrace",description:"Set the screen sharing of a peer."};const a=(0,t.Ay)("Sets active pill page for tracing.");a.meta={name:"createAction",key:"createActionsetTroubleshootingPillPageTrace",description:"Sets active pill page for tracing."};const _=(0,t.Ay)("Update stable metrics state");_.meta={name:"createAction",key:"createActionupdateStableMetrics",description:"Update stable metrics state"};const l=(0,t.Ay)("Update unstable metrics and warnings state");l.meta={name:"createAction",key:"createActionupdateUnstableMetricsAndWarnings",description:"Update unstable metrics and warnings state"};const p=(0,t.Ay)("Update stable warnings state");p.meta={name:"createAction",key:"createActionupdateStableWarnings",description:"Update stable warnings state"};const g=(0,t.Ay)("Update stable alert state");g.meta={name:"createAction",key:"createActionupdateStableAlerts",description:"Update stable alert state"};const c=(0,t.Ay)("Update unstable alert state");c.meta={name:"createAction",key:"createActionupdateUnstableAlerts",description:"Update unstable alert state"}},2465464861:(W,T,e)=>{"use strict";e.d(T,{$i:()=>l,Eh:()=>o,FP:()=>v,Ku:()=>f,Wf:()=>d,Wg:()=>_,Z8:()=>i,_R:()=>a,cB:()=>E,gA:()=>y,h:()=>A,m:()=>h,qV:()=>p});var t=e(3009309149),s=e(9392104102),n=e(6790819894),r=e(7091646278),u=e(387328355);const i=3,o=(0,t.Ay)(I=>I.huddleTroubleshooting.view.activeAccordionView);o.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelActiveAccordionView",description:I=>I.huddleTroubleshooting.view.activeAccordionView};const a=(0,t.Ay)(I=>I.huddleTroubleshooting.view.source);a.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPanelSource",description:I=>I.huddleTroubleshooting.view.source};const _=(0,t.Ay)(I=>I.huddleTroubleshooting.view.activePillPage);_.meta={name:"createSelector",key:"createSelectorgetTroubleshootingPillPageTrace",description:I=>I.huddleTroubleshooting.view.activePillPage};const l=(0,t.Ay)(I=>I.huddleTroubleshooting.view.source?I.huddleTroubleshooting.view.openCounter:-1);l.meta={name:"createSelector",key:"createSelectorgetTroubleshootingSessionCounterIdTrace",description:I=>I.huddleTroubleshooting.view.source?I.huddleTroubleshooting.view.openCounter:-1};const p=(0,t.Ay)(I=>I.huddleTroubleshooting.view.entryPoint);p.meta={name:"createSelector",key:"createSelectorgetTroubleshootingEntryPointTrace",description:I=>I.huddleTroubleshooting.view.entryPoint};const g=(0,t.Ay)(I=>I.huddleTroubleshooting.view.alertCount>=i);g.meta={name:"createSelector",key:"createSelectorshouldDisplaySupportLink",description:I=>I.huddleTroubleshooting.view.alertCount>=i};const c=(0,t.Ay)(I=>I.huddleTroubleshooting.metrics.stable);c.meta={name:"createSelector",key:"createSelectorgetStableMetrics",description:I=>I.huddleTroubleshooting.metrics.stable};const E=(0,t.Ay)(I=>I.huddleTroubleshooting.metrics.unstable);E.meta={name:"createSelector",key:"createSelectorgetUnstableMetrics",description:I=>I.huddleTroubleshooting.metrics.unstable};const A=(0,t.Ay)(I=>I.huddleTroubleshooting.warnings.stable);A.meta={name:"createSelector",key:"createSelectorgetStableWarnings",description:I=>I.huddleTroubleshooting.warnings.stable};const d=(0,t.Ay)(I=>I.huddleTroubleshooting.warnings.unstable);d.meta={name:"createSelector",key:"createSelectorgetUnstableWarnings",description:I=>I.huddleTroubleshooting.warnings.unstable};const v=(0,t.Ay)(I=>I.huddleTroubleshooting.alerts.stable);v.meta={name:"createSelector",key:"createSelectorgetStableAlerts",description:I=>I.huddleTroubleshooting.alerts.stable};const h=(0,t.Ay)(I=>I.huddleTroubleshooting.alerts.unstable);h.meta={name:"createSelector",key:"createSelectorgetUnstableAlerts",description:I=>I.huddleTroubleshooting.alerts.unstable};const f=(0,n.F)(I=>v(I)||s.t0,I=>h(I)||s.t0,I=>A(I)||s.t0,(I,C,D)=>{const{isMicrophoneBlocked:M,isCameraBlocked:P,isDisconnected:S,isMicrophoneNotSendingAudio:b,isPowerThrottlingActive:O}=I,{isAudioQualityPoor:L,isCpuCompetitionPoor:k,isNetworkQualityPoor:K,networkQualityHealth:N}=C,{isSpeakerBluetooth:R,isHardwareAccelerationDisabled:U}=D,x=!!(L&&K),B=!!(L&&(k||O)),F=!!(R&&L||P||M||b),V=!!(x||B||P||M||b||S),Y=L||S?r.bz.Bad:N,w=k||O||U?r.bz.Warn:r.bz.Good;return{shouldSurfaceGeneralWarning:V,shouldSurfaceSystemWarning:B,shouldSurfaceDevicesWarning:F,aggregateNetworkHealth:Y,aggregateSystemHealth:w}}),y=(0,n.F)(u.Ng,u.nt,(I,C)=>{const{isCameraEnabled:D}=I;return!!(D||C)})},7091646278:(W,T,e)=>{"use strict";e.d(T,{ML:()=>s,bz:()=>n,pK:()=>t});var t;(function(r){r.Network="network",r.System="system",r.Devices="devices",r.Overview="overview"})(t||(t={}));var s;(function(r){r.EnlargedWindow="EnlargedWindow",r.CompactWindow="CompactWindow",r.MiniPlayer="MiniPlayer"})(s||(s={}));var n;(function(r){r.Good="good",r.Warn="warn",r.Bad="bad"})(n||(n={}))},7763971809:(W,T,e)=>{"use strict";e.d(T,{V:()=>t});const t="identity_links_prefs"},2239896522:(W,T,e)=>{"use strict";e.d(T,{IC:()=>a,Kb:()=>c,LG:()=>E,R1:()=>p,SU:()=>A,Xe:()=>g,bm:()=>l});var t=e(6790819894),s=e(3009309149),n=e(2047021170),r=e(8847766420),u=e(5597672932),i=e(337319621),o=e(7763971809);const a=(0,t.F)(d=>(0,n.ty)(d,o.V),d=>(0,r.ZT)(d),function(){let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"{}",v=arguments.length>1?arguments[1]:void 0;try{return JSON.parse(d)}catch(h){return(0,i.Ay)({teamId:v}).error("ID-LINKS","Unable to parse user prefs. Defaulting to {}.",h),{}}}),_=(0,s.Ay)(d=>(0,u.xp)(d,o.V));_.meta={name:"createSelector",key:"createSelectorselectIdentityLinksTeamPrefs",description:d=>(0,u.xp)(d,o.V)};const l=(0,s.Ay)(d=>{const v=_(d);var h;return(h=v==null?void 0:v.is_enabled)!==null&&h!==void 0?h:!1});l.meta={name:"createSelector",key:"createSelectorselectIsIdentityLinksEnabledByAdmin",description:d=>{const v=_(d);var h;return(h=v==null?void 0:v.is_enabled)!==null&&h!==void 0?h:!1}};const p=(0,s.Ay)((d,v)=>{const h=a(d);var f;return(f=h==null?void 0:h[v])!==null&&f!==void 0?f:!1});p.meta={name:"createSelector",key:"createSelectorselectIdentityLinkPrefByAppId",description:(d,v)=>{const h=a(d);var f;return(f=h==null?void 0:h[v])!==null&&f!==void 0?f:!1}};const g=(0,s.Ay)((d,v)=>{const h=p(d,v);var f;return(f=h==null?void 0:h.date_opted_out)!==null&&f!==void 0?f:null});g.meta={name:"createSelector",key:"createSelectorgetDateOptedOut",description:(d,v)=>{const h=p(d,v);var f;return(f=h==null?void 0:h.date_opted_out)!==null&&f!==void 0?f:null}};const c=(0,s.Ay)((d,v)=>{const h=p(d,v);var f;return(f=h==null?void 0:h.completed_transfer)!==null&&f!==void 0?f:!1});c.meta={name:"createSelector",key:"createSelectorgetCompletedTransferPref",description:(d,v)=>{const h=p(d,v);var f;return(f=h==null?void 0:h.completed_transfer)!==null&&f!==void 0?f:!1}};const E=(0,s.Ay)((d,v)=>{const h=p(d,v);var f;return(f=h==null?void 0:h.num_skipped)!==null&&f!==void 0?f:0});E.meta={name:"createSelector",key:"createSelectorgetNumSkipped",description:(d,v)=>{const h=p(d,v);var f;return(f=h==null?void 0:h.num_skipped)!==null&&f!==void 0?f:0}};const A=(0,s.Ay)((d,v)=>{const h=p(d,v);var f;return(f=h==null?void 0:h.date_disconnected)!==null&&f!==void 0?f:null});A.meta={name:"createSelector",key:"createSelectorgetDateDisconnected",description:(d,v)=>{const h=p(d,v);var f;return(f=h==null?void 0:h.date_disconnected)!==null&&f!==void 0?f:null}}},1469799399:(W,T,e)=>{"use strict";e.d(T,{C:()=>l});var t=e(3134334389),s=e(6304789565),n=e(337319621),r=e(8262898118),u=e(7008286275),i=e(2375333597),o=e(6591744424),a=e(97319433),_=e(2239896522);const l=(0,s.Ay)("Handle a user clicking on an identity link",async(p,g,c)=>{let{url:E,channelId:A}=c;const d=(0,n.Ay)({getState:g}),v=(0,r.ND)(g(),E),h=(0,r.pF)(g(),E),f=(0,o.Z3)(g());if(!(0,r.w$)(g(),E)){window.open(E,"_blank","noopener,noreferrer");return}if(!v){d.error(`error getting appId for domain: ${h}`,E),window.open(E,"_blank","noopener,noreferrer");return}const y=(0,_.SU)(g(),v);if(!f||y){window.open(E,"_blank","noopener,noreferrer");return}if((0,_.Kb)(g(),v)){p((0,a.Ap)({appId:v,url:E,channelId:A,domain:h}));return}if((0,_.Xe)(g(),v)===null){p((0,i.q)({element:t.createElement(u.A,{appId:v,domain:h,url:E,channelId:A}),isStackable:!0}));return}window.open(E,"_blank","noopener,noreferrer")});l.meta={name:"createThunk",key:"createThunkhandleIdentityTransferLinkClick",description:"Handle a user clicking on an identity link"}},97319433:(W,T,e)=>{"use strict";e.d(T,{zL:()=>d,Ap:()=>A});var t=e(6304789565),s=e(337319621),n=e(3810796320),r=e(2927826522),u=e(5257368278),i=e(4433296946);const o=(0,u.A)("Get SIWS transfer payload",(h,f,y)=>{let{appId:I,clientMsgId:C,url:D,channelId:M}=y;return h((0,n.o)({appId:I,clientMsgId:C,uri:D,reason:"siws-get-transfer-payload",channelId:M})).then(P=>({...(0,r.t)(P)})).catch(P=>{var S;throw((S=P.data)===null||S===void 0?void 0:S.error)==="invalid_client_cache"&&h((0,i._)()),P})});o.meta={name:"createFetcher",key:"createFetchergetTransferPayload",description:"Get SIWS transfer payload"};const a=o;var _=e(4094753332),l=e(3134334389),p=e(2375333597),g=e(7008286275);const c=(0,t.Ay)("opens the Identity Transfer Modal when we want to Reverify Email",async(h,f,y)=>{let{appId:I,domain:C,url:D,channelId:M}=y;h((0,p.q)({element:l.createElement(g.A,{appId:I,domain:C,url:D,channelId:M,reverifyEmail:!0}),isStackable:!0}))});c.meta={name:"createThunk",key:"createThunkopenIdentityTransferReverificationModal",description:"opens the Identity Transfer Modal when we want to Reverify Email"};const E={window:null,appId:void 0},A=(0,t.Ay)("Fetch and open the initialization URL for an identity link",async(h,f,y)=>{let{appId:I,url:C,domain:D,clientMsgId:M,shouldCloseWindowOnCompletion:P=!1,channelId:S}=y;const b=(0,s.Ay)({getState:f,label:"IDENTITY_LINKS"});let O=null;try{if((0,_.y3)()){const{initiateUrl:L}=await h(a({appId:I,clientMsgId:M,url:C,channelId:S}));window.open(L,"_blank","noopener,noreferrer")}else{O=window.open("","_blank");const{initiateUrl:L}=await h(a({appId:I,clientMsgId:M,url:C,channelId:S}));O.location.href=L,b.info(`opened identity transfer window for appId ${I}`),P&&(E.window=O,E.appId=I)}}catch(L){const k=L==null?void 0:L.data;b.error(`error getting transfer payload for link with appId ${I}`,k==null?void 0:k.error),(k==null?void 0:k.error)===n.V.EmailNotVerified?(O==null||O.close(),h(c({appId:I,channelId:S,domain:D,url:C}))):O?O.location.href=C:window.open(C,"_blank","noopener,noreferrer")}});A.meta={name:"createThunk",key:"createThunkopenIdentityTransferLink",description:"Fetch and open the initialization URL for an identity link"};const d=(0,t.Ay)("Close the browser window used for the identity transfer flow with the given app, if it exists",(h,f,y)=>{let{appId:I}=y;const C=(0,s.Ay)({getState:f,label:"IDENTITY_LINKS"});if(C.info(`checking if there's an identity transfer window to close for appId ${I}`),I&&E.appId===I&&E.window){try{var D,M;E==null||(D=E.window)===null||D===void 0||(M=D.close)===null||M===void 0||M.call(D),C.info(`closed identity transfer window for appId ${I}`)}catch(P){C.error(`error attempting to close identity transfer window for appId ${I}`,P)}E.window=null,E.appId=void 0}});d.meta={name:"createThunk",key:"createThunkcloseIdentityTransferWindowForAppId",description:"Close the browser window used for the identity transfer flow with the given app, if it exists"};const v={lastOpenedWindowRef:E}},5973312896:(W,T,e)=>{"use strict";e.d(T,{J:()=>o});var t=e(6304789565),s=e(387484329),n=e(337319621),r=e(475074488),u=e(2239896522),i=e(7763971809);const o=(0,t.Ay)("Set all or some identity links user prefs in single call",(a,_,l)=>{let{appId:p,completedTransfer:g,dateOptedOut:c,numSkipped:E,dateLastSkipped:A}=l;const d=(0,u.IC)(_()),v=(0,u.R1)(_(),p);let h="{}";const f={completedTransfer:g,dateOptedOut:c,numSkipped:E,dateLastSkipped:A};try{h=JSON.stringify({...d,[p]:{...v,...(0,r.Ay)(f)}})}catch(y){(0,n.Ay)({getState:_}).error("ID-LINKS","Unable to stringify identityLinkPrefs. Defaulting to {}.",y)}return a((0,s.AZ)({pref:i.V,value:h}))});o.meta={name:"createThunk",key:"createThunksetIdentityTransferUserPrefs",description:"Set all or some identity links user prefs in single call"}},9943020700:(W,T,e)=>{"use strict";e.d(T,{$W:()=>_,$o:()=>v,Am:()=>A,At:()=>te,C2:()=>S,CO:()=>g,Cj:()=>f,DB:()=>le,Dx:()=>O,EX:()=>G,FV:()=>B,Fm:()=>c,GI:()=>l,IC:()=>U,IE:()=>Se,I_:()=>i,KF:()=>X,KJ:()=>pe,Ke:()=>d,Lu:()=>ye,OG:()=>E,Ot:()=>J,Qk:()=>n,Qq:()=>q,RL:()=>N,TD:()=>z,TW:()=>V,To:()=>L,Tt:()=>ne,U_:()=>y,Uo:()=>se,VV:()=>o,Wn:()=>Z,XB:()=>R,ZE:()=>K,_L:()=>M,_R:()=>Y,ab:()=>P,al:()=>Ce,av:()=>$,aw:()=>de,d0:()=>Ee,fg:()=>w,fq:()=>ae,g:()=>I,iI:()=>re,k$:()=>p,kJ:()=>oe,k_:()=>k,pI:()=>b,se:()=>De,tK:()=>s,w$:()=>x,wW:()=>ce,w_:()=>F,xy:()=>h,yw:()=>a,z5:()=>ie,zD:()=>D,zl:()=>Ie});var t=e(2140362605);const s=(0,t.Ay)("Remove a list");s.meta={name:"createAction",key:"createActionremoveList",description:"Remove a list"};const n=(0,t.Ay)("trigger animation for view");n.meta={name:"createAction",key:"createActiontriggerAnimationForViewId",description:"trigger animation for view"};const r=(0,t.Ay)("Add / update a list column");r.meta={name:"createAction",key:"createActionupsertColumn",description:"Add / update a list column"};const u=(0,t.Ay)("Remove a list column");u.meta={name:"createAction",key:"createActionremoveColumn",description:"Remove a list column"};const i=(0,t.Ay)("Fill column with info data or default value");i.meta={name:"createAction",key:"createActionfillColumnData",description:"Fill column with info data or default value"};const o=(0,t.Ay)("Replace all of a list's records");o.meta={name:"createAction",key:"createActionreplaceRecords",description:"Replace all of a list's records"};const a=(0,t.Ay)("Add / update multiple records");a.meta={name:"createAction",key:"createActionbulkUpsertRecords",description:"Add / update multiple records"};const _=(0,t.Ay)("Add / update a list record");_.meta={name:"createAction",key:"createActionupsertRecord",description:"Add / update a list record"};const l=(0,t.Ay)("Remove a list record");l.meta={name:"createAction",key:"createActionremoveRecord",description:"Remove a list record"};const p=(0,t.Ay)("Archive a list record");p.meta={name:"createAction",key:"createActionarchiveRecord",description:"Archive a list record"};const g=(0,t.Ay)("Add/update a record position in a view");g.meta={name:"createAction",key:"createActionupsertRecordPosition",description:"Add/update a record position in a view"};const c=(0,t.Ay)("Add / update multiple templates");c.meta={name:"createAction",key:"createActionbulkUpsertTemplates",description:"Add / update multiple templates"};const E=(0,t.Ay)("Add / update multiple starter templates");E.meta={name:"createAction",key:"createActionbulkUpsertStarterTemplates",description:"Add / update multiple starter templates"};const A=(0,t.Ay)("Remove a starter template by ID");A.meta={name:"createAction",key:"createActionremoveStarterTemplate",description:"Remove a starter template by ID"};const d=(0,t.Ay)("Set whether the lists templates module is collapsed in the unified files browser");d.meta={name:"createAction",key:"createActionsetListsTemplatesCollapsed",description:"Set whether the lists templates module is collapsed in the unified files browser"};const v=(0,t.Ay)("Set the list's banner message");v.meta={name:"createAction",key:"createActionsetBannerMessageForList",description:"Set the list's banner message"};const h=(0,t.Ay)("Set whether or not a list's archive view is open");h.meta={name:"createAction",key:"createActionsetIsArchiveViewForList",description:"Set whether or not a list's archive view is open"};const f=(0,t.Ay)("Clear the specified type of banner message for this list");f.meta={name:"createAction",key:"createActionclearBannerMessageForList",description:"Clear the specified type of banner message for this list"};const y=(0,t.Ay)("Add / update a list record field");y.meta={name:"createAction",key:"createActionupsertField",description:"Add / update a list record field"};const I=(0,t.Ay)("Add / update a list cell");I.meta={name:"createAction",key:"createActionupsertCell",description:"Add / update a list cell"};const C=(0,t.Ay)("Add / update a workflow for a list");C.meta={name:"createAction",key:"createActionupsertWorkflow",description:"Add / update a workflow for a list"};const D=(0,t.Ay)("Apply an edit action to a list");D.meta={name:"createAction",key:"createActionapplyEditAction",description:"Apply an edit action to a list"};const M=(0,t.Ay)("Clear edit history for a list");M.meta={name:"createAction",key:"createActionclearEditHistory",description:"Clear edit history for a list"};const P=(0,t.Ay)("Update local filters");P.meta={name:"createAction",key:"createActionchangeViewLocalFilters",description:"Update local filters"};const S=(0,t.Ay)("Update local sorts");S.meta={name:"createAction",key:"createActionchangeViewLocalSorts",description:"Update local sorts"};const b=(0,t.Ay)("Update local calculations");b.meta={name:"createAction",key:"createActionchangeViewLocalCalculations",description:"Update local calculations"};const O=(0,t.Ay)("Update local collapsed grids");O.meta={name:"createAction",key:"createActionchangeViewLocalCollapsedGrids",description:"Update local collapsed grids"};const L=(0,t.Ay)("Update the current viewId set by refine in the active window");L.meta={name:"createAction",key:"createActionsetRefineView",description:"Update the current viewId set by refine in the active window"};const k=(0,t.Ay)("Update the default list view id set for the specific List channel tab");k.meta={name:"createAction",key:"createActionsetChannelTabDefaultRefineView",description:"Update the default list view id set for the specific List channel tab"};const K=(0,t.Ay)("Set filter pill to auto open");K.meta={name:"createAction",key:"createActionsetFilterPillKeyById",description:"Set filter pill to auto open"};const N=(0,t.Ay)("Set group by pill to auto open");N.meta={name:"createAction",key:"createActionsetGroupByPillAutoOpen",description:"Set group by pill to auto open"};const R=(0,t.Ay)("Set search query for list");R.meta={name:"createAction",key:"createActionsetListSearchQuery",description:"Set search query for list"};const U=(0,t.Ay)("Destroy local refinements");U.meta={name:"createAction",key:"createActiondestroyLocalRefinements",description:"Destroy local refinements"};const x=(0,t.Ay)("Add / update my items");x.meta={name:"createAction",key:"createActionupsertMyItems",description:"Add / update my items"};const B=(0,t.Ay)("Add / update a single my item");B.meta={name:"createAction",key:"createActionupsertMyItem",description:"Add / update a single my item"};const F=(0,t.Ay)("Add / update a list cell edit");F.meta={name:"createAction",key:"createActionupsertCellEdit",description:"Add / update a list cell edit"};const V=(0,t.Ay)("set refinement pill to auto open in view");V.meta={name:"createAction",key:"createActionsetRefinePillAutoOpenByViewId",description:"set refinement pill to auto open in view"};const Y=(0,t.Ay)("Add / update last read timestamp by list ID");Y.meta={name:"createAction",key:"createActionupsertLastReadTimestampById",description:"Add / update last read timestamp by list ID"};const w=(0,t.Ay)("Mark records as new to highlight it");w.meta={name:"createAction",key:"createActionhighlightRecordsAsNew",description:"Mark records as new to highlight it"};const G=(0,t.Ay)("Mark record read to unhighlight it");G.meta={name:"createAction",key:"createActionremoveRecordHighlight",description:"Mark record read to unhighlight it"};const Ee=(0,t.Ay)("Set record as open in flexpane");Ee.meta={name:"createAction",key:"createActionrecordFlexpaneOpen",description:"Set record as open in flexpane"};const ne=(0,t.Ay)("Set record flexpane closed");ne.meta={name:"createAction",key:"createActionrecordFlexpaneClosed",description:"Set record flexpane closed"};const se=(0,t.Ay)("Load all recently viewed lists");se.meta={name:"createAction",key:"createActionloadRecentlyViewedLists",description:"Load all recently viewed lists"};const ce=(0,t.Ay)("Add recently opened list to the store");ce.meta={name:"createAction",key:"createActionaddToRecentlyViewedLists",description:"Add recently opened list to the store"};const pe=(0,t.Ay)("Remove deleted lists from the store");pe.meta={name:"createAction",key:"createActionremoveFromRecentlyViewedLists",description:"Remove deleted lists from the store"};const ye=(0,t.Ay)("Update local field visibility");ye.meta={name:"createAction",key:"createActionchangeLocalViewFieldVisibility",description:"Update local field visibility"};const Ie=(0,t.Ay)("Update local view type");Ie.meta={name:"createAction",key:"createActionchangeLocalViewType",description:"Update local view type"};const Se=(0,t.Ay)("Update local show completed items");Se.meta={name:"createAction",key:"createActionchangeLocalShowCompletedItems",description:"Update local show completed items"};const le=(0,t.Ay)("Update local group by");le.meta={name:"createAction",key:"createActionchangeLocalViewGroupBy",description:"Update local group by"};const X=(0,t.Ay)("Subscribe/unsubscribe a list record");X.meta={name:"createAction",key:"createActionsetRecordIsSubscribed",description:"Subscribe/unsubscribe a list record"};const J=(0,t.Ay)("Set highlight column in the item flexpane");J.meta={name:"createAction",key:"createActionsetHighlightColumnId",description:"Set highlight column in the item flexpane"};const z=(0,t.Ay)("Clear highlight column in the item flexpane");z.meta={name:"createAction",key:"createActionclearHighlightColumnId",description:"Clear highlight column in the item flexpane"};const te=(0,t.Ay)("Set local views for optimistic updates");te.meta={name:"createAction",key:"createActionsetLocalViewsByListId",description:"Set local views for optimistic updates"};const $=(0,t.Ay)("Updates the UI state for the refine edit view menu component");$.meta={name:"createAction",key:"createActionrefineEditViewMenuComponentState",description:"Updates the UI state for the refine edit view menu component"};const q=(0,t.Ay)("Sets the reference tracker map for my tasks list");q.meta={name:"createAction",key:"createActionsetMyTasksReferenceTracker",description:"Sets the reference tracker map for my tasks list"};const re=(0,t.Ay)("Adds a reference to the reference tracker map for my tasks list");re.meta={name:"createAction",key:"createActionaddToMyTasksReferenceTracker",description:"Adds a reference to the reference tracker map for my tasks list"};const de=(0,t.Ay)("Removes a reference from the reference tracker map for my tasks list");de.meta={name:"createAction",key:"createActionremoveFromMyTasksReferenceTracker",description:"Removes a reference from the reference tracker map for my tasks list"};const oe=(0,t.Ay)("Should show list description");oe.meta={name:"createAction",key:"createActionsetShowListDescriptionById",description:"Should show list description"};const De=(0,t.Ay)("Set list history version by list id");De.meta={name:"createAction",key:"createActionsetSelectedListVersionByListId",description:"Set list history version by list id"};const ae=(0,t.Ay)("Allow an AI-generated title to override the list record's title");ae.meta={name:"createAction",key:"createActionsetAiTitleAllowed",description:"Allow an AI-generated title to override the list record's title"};const Z=(0,t.Ay)("Do not allow an AI-generated title to override the list record's title");Z.meta={name:"createAction",key:"createActionclearAiTitleAllowed",description:"Do not allow an AI-generated title to override the list record's title"};const ie=(0,t.Ay)("Set list history");ie.meta={name:"createAction",key:"createActionsetListHistory",description:"Set list history"};const Ce=(0,t.Ay)("Set the updated list history. Adds to the existing list and updates the cursor for pagination.");Ce.meta={name:"createAction",key:"createActionupsertListHistory",description:"Set the updated list history. Adds to the existing list and updates the cursor for pagination."}},4001611198:(W,T,e)=>{"use strict";e.d(T,{ez:()=>a,mY:()=>_});var t=e(3398586081),s=e(1545824888),n=e(8352634987),r=e(574001087),u=e(6533394955);const i=(0,t.A)(l=>new n.Ay({storeKey:"lists",fetch:(p,g)=>((0,u.Qw)(p,(0,r.o)({idsToFetch:g,listId:l})),s.S.resolve()),isEnabled:()=>!0,metricsName:"lists-record-fetcher"})),o=m((l,p,g)=>i(g).markObjectsAsStale(l,p),"markObjectsAsStale"),a=m((l,p,g)=>i(g).maybeRefetch(l,p),"maybeRefetch"),_=m((l,p,g)=>i(g).markObjectsAsFresh(l,p),"markObjectsAsFresh")},970158643:(W,T,e)=>{"use strict";e.d(T,{XB:()=>Xe,w9:()=>je,sz:()=>Mt,b_:()=>Bt,uu:()=>Un,mJ:()=>Zt,Uw:()=>on,vg:()=>ce,K0:()=>ft,rm:()=>de,kS:()=>oe,E4:()=>rn,fc:()=>Q,Yq:()=>xt,k7:()=>en,$8:()=>vn,nh:()=>Rn,Jc:()=>we,$N:()=>At,zH:()=>Ne,lq:()=>Rt,Te:()=>et,YI:()=>Be,dR:()=>Pn,iP:()=>bn,Ri:()=>Te,qC:()=>ns,Ws:()=>Zn,tu:()=>Xn,hA:()=>ts,Tj:()=>dn,jv:()=>sn,vS:()=>Ee,DZ:()=>nt,bq:()=>pt,PZ:()=>Jn,I9:()=>Je,DU:()=>Ie,C0:()=>Ue,eD:()=>$,vD:()=>me,LS:()=>q,Rl:()=>ne,jH:()=>Vt,P6:()=>se,Mr:()=>ye,El:()=>ge,ii:()=>Ce,Up:()=>ht,it:()=>Ct,bA:()=>jt,ot:()=>In,Bj:()=>Ln,qO:()=>Jt,Cf:()=>as,rh:()=>qe,mb:()=>X,t1:()=>J,iM:()=>Pt,dE:()=>Kt,EI:()=>Se,kG:()=>De,_H:()=>Nn,wx:()=>re,Xb:()=>ee,nZ:()=>j,X0:()=>Tt,hL:()=>Nt,uJ:()=>ke,lP:()=>gt,BO:()=>H,K1:()=>fe,gu:()=>qt,aY:()=>Ft,hY:()=>vs,Pj:()=>ue,Yb:()=>Gn,yw:()=>be,XR:()=>Et,WE:()=>mt,x2:()=>ie,d3:()=>te,$F:()=>ae,yv:()=>Z,n7:()=>Ye,iX:()=>pe,Es:()=>Qt,Bq:()=>le,aJ:()=>ls,oh:()=>Gt,XF:()=>Fn,JB:()=>un,le:()=>Ve,jW:()=>kt});var t=e(166097325),s=e(3385422400),n=e(1737183214),r=e(3001769570),u=e(9216332371),i=e(2806459763),o=e(8191156954),a=e(297148243),_=e(3929724715),l=e(2647703359),p=e(5917710436),g=e(6642124196),c=e(2009641291),E=e(4821277680),A=e(6106034567),d=e(3110884894),v=e(1305633231),h=e(7582939986),f=e(9392104102),y=e(337319621),I=e(6471801899),C=e(3009309149),D=e(8847766420),M=e(4813703725),P=e(8455301571),S=e(937317117),b=e(6415612447),O=e(4001611198),L=e(9766976557),k=e(3398586081),K=e(3037015781),N=e(6533394955),R=e(164394607);const U=(0,k.A)(_e=>new K.Ay({fetch:(Le,We)=>(0,N.Qw)(Le,(0,R.q5)({idsToFetch:We,listId:_e})),upsertKnown:(Le,We)=>(0,N.Qw)(Le,(0,R.x3)({records:We,listId:_e})),upsertNonExistent:(Le,We)=>(0,N.Qw)(Le,(0,R.x3)({records:We,listId:_e})),isEnabled:()=>!0})),x=[a.K.Blank,a.K.ProjectTracker,a.K.QuarterlyPlanning,a.K.Feedback,a.K.Help,a.K.Bugs],B=m(_e=>_e.sort((Le,We)=>{const Ze=x.indexOf(Le.id),st=x.indexOf(We.id);return(Ze!==-1?Ze:100)-(st!==-1?st:100)}),"sortListsTemplatesByPriority");var F=e(5942687316),V=e(7606781622),Y=e(2047021170);const w=1e3*60*60*24,G=m(_e=>_e.lists,"getListsState"),Ee=(0,C.Ay)((_e,Le)=>(0,S.Lp)(_e,Le));Ee.meta={name:"createSelector",key:"createSelectorgetList",description:(_e,Le)=>(0,S.Lp)(_e,Le)};const ne=(0,C.Ay)((_e,Le)=>{var We;return Le&&((We=G(_e).listsById[Le])===null||We===void 0?void 0:We.records)||f.t0});ne.meta={name:"createSelector",key:"createSelectorgetListRecords",description:(_e,Le)=>{var We;return Le&&((We=G(_e).listsById[Le])===null||We===void 0?void 0:We.records)||f.t0}};const se=(0,s.Mz)(Ee,_e=>_e==null?void 0:_e.title),ce=(0,C.Ay)(_e=>G(_e).clock);ce.meta={name:"createSelector",key:"createSelectorgetClock",description:_e=>G(_e).clock};const pe=(0,C.Ay)(_e=>G(_e).triggerAnimationForViewId);pe.meta={name:"createSelector",key:"createSelectorgetViewToAnimate",description:_e=>G(_e).triggerAnimationForViewId};const ye=(0,C.Ay)(_e=>(0,S.Im)(_e));ye.meta={name:"createSelector",key:"createSelectorgetLists",description:_e=>(0,S.Im)(_e)};const Ie=(0,C.Ay)((_e,Le)=>{var We;return(We=_e.files[Le])===null||We===void 0?void 0:We.list_limits});Ie.meta={name:"createSelector",key:"createSelectorgetListLimits",description:(_e,Le)=>{var We;return(We=_e.files[Le])===null||We===void 0?void 0:We.list_limits}};const Se=(0,C.Ay)((_e,Le,We)=>{var Ze,st;const ut=(0,D.ZT)(_e);if(!ut)return;const Lt=(Ze=G(_e).listsById[Le])===null||Ze===void 0||(st=Ze.records)===null||st===void 0?void 0:st[We];return Lt?(!(0,p.z7)(Lt)&&!U(Le).isFetchPendingForId(ut,We)&&(0,O.ez)(ut,We,Le),Lt):U(Le).fetchObjectWithId(ut,We)});Se.meta={name:"createSelector",key:"createSelectorgetRecord",description:(_e,Le,We)=>{var Ze,st;const ut=(0,D.ZT)(_e);if(!ut)return;const Lt=(Ze=G(_e).listsById[Le])===null||Ze===void 0||(st=Ze.records)===null||st===void 0?void 0:st[We];return Lt?(!(0,p.z7)(Lt)&&!U(Le).isFetchPendingForId(ut,We)&&(0,O.ez)(ut,We,Le),Lt):U(Le).fetchObjectWithId(ut,We)}};const le=(0,s.Mz)(Se,_e=>!!(_e!=null&&_e.parentRecordId)),X=(0,s.Mz)(Se,_e=>_e==null?void 0:_e.parentRecordId),J=(0,s.Mz)(Se,_e=>{var Le;return _e==null||(Le=_e.fields)===null||Le===void 0?void 0:Le.name}),z=(0,s.Mz)([G,(_e,Le)=>Le,(_e,Le,We)=>We],(_e,Le,We)=>{var Ze;const st=(Ze=_e.listsById[Le])===null||Ze===void 0?void 0:Ze.parentRecordsById;return st==null?void 0:st[We]}),te=(0,s.Mz)([z,ne],(_e,Le)=>_e==null?void 0:_e.map(We=>Le[We])),$=(0,s.Mz)([z],_e=>Boolean(_e)),q=(0,s.Mz)(te,_e=>!_e||_e.length===0?void 0:{completed:_e.filter(We=>{var Ze;return(Ze=We.fields)===null||Ze===void 0?void 0:Ze[o.$.TodoCompleted]}).length,total:_e.length}),re=(0,C.Ay)((_e,Le,We)=>{var Ze,st;return(0,v.A)(_e,(Ze=Se(_e,Le,We))===null||Ze===void 0||(st=Ze.fields)===null||st===void 0?void 0:st.name)});re.meta={name:"createSelector",key:"createSelectorgetRecordNameAsPlainText",description:(_e,Le,We)=>{var Ze,st;return(0,v.A)(_e,(Ze=Se(_e,Le,We))===null||Ze===void 0||(st=Ze.fields)===null||st===void 0?void 0:st.name)}};const de=(0,C.Ay)((_e,Le,We)=>{const Ze=Ee(_e,Le),st=(0,p.uA)(Ze);return st==null?void 0:st.find(ut=>ut.key===We)});de.meta={name:"createSelector",key:"createSelectorgetColumnByKey",description:(_e,Le,We)=>{const Ze=Ee(_e,Le),st=(0,p.uA)(Ze);return st==null?void 0:st.find(ut=>ut.key===We)}};const oe=(0,C.Ay)((_e,Le,We)=>{var Ze;return(Ze=de(_e,Le,We))===null||Ze===void 0?void 0:Ze.id});oe.meta={name:"createSelector",key:"createSelectorgetColumnIdByColumnKey",description:(_e,Le,We)=>{var Ze;return(Ze=de(_e,Le,We))===null||Ze===void 0?void 0:Ze.id}};const De=(0,C.Ay)((_e,Le,We)=>{var Ze;const st=(Ze=G(_e).listsById[Le])===null||Ze===void 0?void 0:Ze.records;if(st)return Object.values(st).find(ut=>ut.threadTs===We)});De.meta={name:"createSelector",key:"createSelectorgetRecordByThreadTs",description:(_e,Le,We)=>{var Ze;const st=(Ze=G(_e).listsById[Le])===null||Ze===void 0?void 0:Ze.records;if(st)return Object.values(st).find(ut=>ut.threadTs===We)}};const ae=(0,C.Ay)((_e,Le)=>G(_e).templatesById[Le]);ae.meta={name:"createSelector",key:"createSelectorgetTemplate",description:(_e,Le)=>G(_e).templatesById[Le]};const Z=(0,C.Ay)(_e=>G(_e).templatesById);Z.meta={name:"createSelector",key:"createSelectorgetTemplates",description:_e=>G(_e).templatesById};const ie=(0,C.Ay)(_e=>G(_e).starterTemplatesById);ie.meta={name:"createSelector",key:"createSelectorgetStarterTemplates",description:_e=>G(_e).starterTemplatesById};const Ce=(0,C.Ay)(_e=>G(_e).templatesCollapsed);Ce.meta={name:"createSelector",key:"createSelectorgetListsTemplatesCollapsed",description:_e=>G(_e).templatesCollapsed};const Re=(0,s.Mz)(Z,_e=>{const{[a.K.Blank]:Le,...We}=_e;return We}),He=(0,s.Mz)(Z,_e=>B(Object.values(_e))),be=(0,s.Mz)(Re,_e=>B(Object.values(_e))),Ue=(0,C.Ay)(_e=>{const Le=[],We=ye(_e);for(const st of We){var Ze;const ut={id:st.id,title:(Ze=st.title)!==null&&Ze!==void 0?Ze:""};Le.push(ut)}return Le});Ue.meta={name:"createSelector",key:"createSelectorgetListMentions",description:_e=>{const Le=[],We=ye(_e);for(const st of We){var Ze;const ut={id:st.id,title:(Ze=st.title)!==null&&Ze!==void 0?Ze:""};Le.push(ut)}return Le}};const me=(0,C.Ay)((_e,Le)=>{const We=ye(_e),Ze=(0,I.V3)(Le);if(!Ze)return[];const{listTitle:st}=Ze,ut=(0,I.xL)(We,st);if(!ut)return[];const Lt=(0,S.Lp)(_e,ut.id),tn=ve(ut),En=[],Dn=ne(_e,ut.id);for(const os of Object.values(Dn??{})){var Bn,On;const Tn=(On=os==null||(Bn=os.fields)===null||Bn===void 0?void 0:Bn[tn])!==null&&On!==void 0?On:[];var Wn;const _n={id:os.id,name:(0,v.A)(_e,Tn),blocks:Tn,listId:Lt.id,listTitle:(Wn=Lt.title)!==null&&Wn!==void 0?Wn:""};En.push(_n)}return En});me.meta={name:"createSelector",key:"createSelectorgetListRecordMentions",description:(_e,Le)=>{const We=ye(_e),Ze=(0,I.V3)(Le);if(!Ze)return[];const{listTitle:st}=Ze,ut=(0,I.xL)(We,st);if(!ut)return[];const Lt=(0,S.Lp)(_e,ut.id),tn=ve(ut),En=[],Dn=ne(_e,ut.id);for(const os of Object.values(Dn??{})){var Bn,On;const Tn=(On=os==null||(Bn=os.fields)===null||Bn===void 0?void 0:Bn[tn])!==null&&On!==void 0?On:[];var Wn;const _n={id:os.id,name:(0,v.A)(_e,Tn),blocks:Tn,listId:Lt.id,listTitle:(Wn=Lt.title)!==null&&Wn!==void 0?Wn:""};En.push(_n)}return En}};function ve(_e){let Le;const We=(0,p.uA)(_e);for(const Ze of We??[])if(Ze.type==="text"&&(Le||(Le=Ze),Ze.key.toUpperCase()==="NAME"))return Ze.key;return Le?Le.key:"name"}m(ve,"findColumnKeyForMention");const Fe=(0,C.Ay)(_e=>(0,g.isListsEnabled)(_e)?!!(0,Y.ty)(_e,"seen_onboarding_lists"):!0);Fe.meta={name:"createSelector",key:"createSelectorhasSeenOnboardingLists",description:_e=>(0,g.isListsEnabled)(_e)?!!(0,Y.ty)(_e,"seen_onboarding_lists"):!0};const Ke=(0,C.Ay)((_e,Le)=>{var We;const Ze=Ee(_e,Le);return(We=(0,p.uA)(Ze))===null||We===void 0?void 0:We.find(st=>(st==null?void 0:st.key)==="name")});Ke.meta={name:"createSelector",key:"createSelectorgetListDefaultColumn",description:(_e,Le)=>{var We;const Ze=Ee(_e,Le);return(We=(0,p.uA)(Ze))===null||We===void 0?void 0:We.find(st=>(st==null?void 0:st.key)==="name")}};const j=(0,C.Ay)((_e,Le,We)=>{const Ze=Se(_e,Le,We),st=(0,b.Y)(_e,Le),ut=(0,_.FB)(st),Lt=Ze!=null&&Ze.threadTs?(0,V.Ld)(_e,ut,Ze.threadTs):void 0;var tn;return(tn=Lt==null?void 0:Lt.reply_count)!==null&&tn!==void 0?tn:null});j.meta={name:"createSelector",key:"createSelectorgetRecordThreadReplyCount",description:(_e,Le,We)=>{const Ze=Se(_e,Le,We),st=(0,b.Y)(_e,Le),ut=(0,_.FB)(st),Lt=Ze!=null&&Ze.threadTs?(0,V.Ld)(_e,ut,Ze.threadTs):void 0;var tn;return(tn=Lt==null?void 0:Lt.reply_count)!==null&&tn!==void 0?tn:null}};const ee=(0,C.Ay)((_e,Le,We)=>{const Ze=Se(_e,Le,We),st=(0,b.Y)(_e,Le),ut=(0,_.FB)(st),Lt=Ze!=null&&Ze.threadTs?(0,V.Ld)(_e,ut,Ze.threadTs):void 0,tn=(0,d.Iu)(ut,Ze==null?void 0:Ze.threadTs),En=Lt&&tn?(0,P.r7)(_e,tn)||{timestamps:[],reachedStart:!0}:null,Dn=Lt?(0,u.Nh)(_e,ut,(En==null?void 0:En.timestamps)||[])||(Lt==null?void 0:Lt.ts):"";var Bn;const On=(Bn=Lt==null?void 0:Lt._subscribed)!==null&&Bn!==void 0?Bn:!1;var Wn;const os=(Wn=Lt==null?void 0:Lt._last_read)!==null&&Wn!==void 0?Wn:"0";return On?Dn>os:!1});ee.meta={name:"createSelector",key:"createSelectorgetRecordThreadIsUnread",description:(_e,Le,We)=>{const Ze=Se(_e,Le,We),st=(0,b.Y)(_e,Le),ut=(0,_.FB)(st),Lt=Ze!=null&&Ze.threadTs?(0,V.Ld)(_e,ut,Ze.threadTs):void 0,tn=(0,d.Iu)(ut,Ze==null?void 0:Ze.threadTs),En=Lt&&tn?(0,P.r7)(_e,tn)||{timestamps:[],reachedStart:!0}:null,Dn=Lt?(0,u.Nh)(_e,ut,(En==null?void 0:En.timestamps)||[])||(Lt==null?void 0:Lt.ts):"";var Bn;const On=(Bn=Lt==null?void 0:Lt._subscribed)!==null&&Bn!==void 0?Bn:!1;var Wn;const os=(Wn=Lt==null?void 0:Lt._last_read)!==null&&Wn!==void 0?Wn:"0";return On?Dn>os:!1}};const je=(0,C.Ay)((_e,Le)=>G(_e).listBannerMessagesbyId[Le]);je.meta={name:"createSelector",key:"createSelectorgetBannerMessagesForList",description:(_e,Le)=>G(_e).listBannerMessagesbyId[Le]};const Te=(0,C.Ay)((_e,Le)=>Le?G(_e).isArchiveViewById[Le]:!1);Te.meta={name:"createSelector",key:"createSelectorgetIsArchiveViewForList",description:(_e,Le)=>Le?G(_e).isArchiveViewById[Le]:!1};const Je=(0,C.Ay)((_e,Le)=>{const We=(0,c.A)(_e),Ze=(0,S.Lp)(_e,Le);return(0,L.P)(_e,Le)?!1:!Ze||!Ze.access||!(0,l.mW)(Ze)||!We});Je.meta={name:"createSelector",key:"createSelectorgetListIsViewOnly",description:(_e,Le)=>{const We=(0,c.A)(_e),Ze=(0,S.Lp)(_e,Le);return(0,L.P)(_e,Le)?!1:!Ze||!Ze.access||!(0,l.mW)(Ze)||!We}};const Ae=(0,C.Ay)(_e=>(0,D.ZT)(_e)==="T024BE7LD");Ae.meta={name:"createSelector",key:"createSelectoronTinySpeckDevOrg",description:_e=>(0,D.ZT)(_e)==="T024BE7LD"};const Me=(0,C.Ay)(_e=>(0,D.jV)(_e)===h.uh);Me.meta={name:"createSelector",key:"createSelectoronTinySpeckOrg",description:_e=>(0,D.jV)(_e)===h.uh};const we=(0,C.Ay)((_e,Le)=>G(_e).historyById[Le]);we.meta={name:"createSelector",key:"createSelectorgetEditHistory",description:(_e,Le)=>G(_e).historyById[Le]};const Ge=(0,C.Ay)((_e,Le)=>{const We=Ee(_e,Le),Ze=ne(_e,Le);if(!We||!Ze)return null;let st="";for(const Lt of Object.values(Ze)){Lt.position&&st<Lt.position&&(st=Lt.position);var ut;for(const tn of Object.values((ut=Lt.viewPositions)!==null&&ut!==void 0?ut:{}))st<tn&&(st=tn)}return st||null});Ge.meta={name:"createSelector",key:"createSelectorgetBiggestRecordPosition",description:(_e,Le)=>{const We=Ee(_e,Le),Ze=ne(_e,Le);if(!We||!Ze)return null;let st="";for(const Lt of Object.values(Ze)){Lt.position&&st<Lt.position&&(st=Lt.position);var ut;for(const tn of Object.values((ut=Lt.viewPositions)!==null&&ut!==void 0?ut:{}))st<tn&&(st=tn)}return st||null}};const Qe=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localFiltersById[Ze]});Qe.meta={name:"createSelector",key:"createSelectorgetLocalFiltersByViewId",description:(_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localFiltersById[Ze]}};const fe=(0,M.Rb)((_e,Le,We)=>Ee(_e,Le),(_e,Le,We)=>We,(_e,Le)=>{const We=(0,p.Qq)(_e,Le);var Ze;const st=(Ze=We==null?void 0:We.filters)!==null&&Ze!==void 0?Ze:[];var ut;const Lt=(ut=We==null?void 0:We.infoColumnFilters)!==null&&ut!==void 0?ut:[];return[...st,...Lt]}),Ve=m((_e,Le)=>(0,s.Mz)(We=>fe(We,_e,Le),We=>We),"makeGetServerFiltersByViewIdSelector"),Be=(0,s.Mz)(Qe,fe,(_e,Le)=>_e?_e.length!==(Le==null?void 0:Le.length)?!0:!(0,r.U3)(_e,Le):!1),Ye=(0,s.Mz)(Qe,fe,(_e,Le)=>{if(!_e)return new Set;const We=new Map(Le==null?void 0:Le.map(st=>[st.key,st])),Ze=_e.filter(st=>(0,r.bV)(st,We)).map(st=>st.key);return new Set(Ze)}),et=(0,s.Mz)(Qe,fe,(_e,Le)=>_e!==void 0?_e:Le||[]),at=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localCalculationsById[Ze]});at.meta={name:"createSelector",key:"createSelectorgetLocalCalculationsByViewId",description:(_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localCalculationsById[Ze]}};const gt=(0,M.Rb)((_e,Le,We)=>Ee(_e,Le),(_e,Le,We)=>We,(_e,Le)=>{const We=(0,p.Qq)(_e,Le);return(We==null?void 0:We.calculations)||[]}),Mt=(0,s.Mz)(at,gt,(_e,Le)=>_e!==void 0?_e:Le||[]),Bt=(0,s.Mz)(at,gt,(_e,Le)=>_e?_e.length!==(Le==null?void 0:Le.length)?!0:!(0,r.Z4)(_e,Le):!1),Ct=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localSortsById[Ze]});Ct.meta={name:"createSelector",key:"createSelectorgetLocalSortsByViewId",description:(_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localSortsById[Ze]}};const Ft=(0,M.Rb)((_e,Le,We)=>Ee(_e,Le),(_e,Le,We)=>We,(_e,Le)=>{const We=(0,p.Qq)(_e,Le);return(We==null?void 0:We.sorts)||[]}),kt=m((_e,Le)=>(0,s.Mz)(We=>Ft(We,_e,Le),We=>We),"makeGetServerSortsByViewIdSelector"),Et=(0,s.Mz)(Ct,Ft,(_e,Le)=>_e!==void 0?_e:Le||[]),mt=(0,s.Mz)(Ct,Ft,(_e,Le)=>_e?_e.length!==(Le==null?void 0:Le.length)?!0:!(0,r.Mu)(_e,Le):!1),Rt=(0,C.Ay)((_e,Le,We)=>{var Ze,st;const ut=(0,F.zZ)({listId:Le,viewId:We});return(Ze=G(_e))===null||Ze===void 0||(st=Ze.filterPillKeyById)===null||st===void 0?void 0:st[ut]});Rt.meta={name:"createSelector",key:"createSelectorgetFilterPillKeyById",description:(_e,Le,We)=>{var Ze,st;const ut=(0,F.zZ)({listId:Le,viewId:We});return(Ze=G(_e))===null||Ze===void 0||(st=Ze.filterPillKeyById)===null||st===void 0?void 0:st[ut]}};const Ht=(0,C.Ay)(_e=>{var Le;return(Le=G(_e))===null||Le===void 0?void 0:Le.groupByPillAutoOpen});Ht.meta={name:"createSelector",key:"createSelectorgetGroupByPillAutoOpen",description:_e=>{var Le;return(Le=G(_e))===null||Le===void 0?void 0:Le.groupByPillAutoOpen}};const ft=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localCollapsedGridsById[Ze]});ft.meta={name:"createSelector",key:"createSelectorgetCollapsedGridsByViewId",description:(_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localCollapsedGridsById[Ze]}};const Jt=(0,C.Ay)(_e=>G(_e).myItemMap);Jt.meta={name:"createSelector",key:"createSelectorgetMyItemMap",description:_e=>G(_e).myItemMap};const Zt=(0,C.Ay)((_e,Le)=>G(_e).editActivityMap[Le]);Zt.meta={name:"createSelector",key:"createSelectorgetCellEditByTimestamp",description:(_e,Le)=>G(_e).editActivityMap[Le]};const Tt=(0,C.Ay)((_e,Le)=>{var We;return(We=G(_e).refinePillAutoOpenByViewId)===null||We===void 0?void 0:We[Le]});Tt.meta={name:"createSelector",key:"createSelectorgetRefinePillAutoOpenByViewId",description:(_e,Le)=>{var We;return(We=G(_e).refinePillAutoOpenByViewId)===null||We===void 0?void 0:We[Le]}};const Pt=(0,C.Ay)(_e=>G(_e).recentlyViewedLists);Pt.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedLists",description:_e=>G(_e).recentlyViewedLists};const Kt=(0,C.Ay)(_e=>G(_e).recentlyViewedListsLastLoadedMs);Kt.meta={name:"createSelector",key:"createSelectorgetRecentlyViewedListsLastLoadedMs",description:_e=>G(_e).recentlyViewedListsLastLoadedMs};const dn=(0,C.Ay)(_e=>{const Le=Kt(_e);return Le?Date.now()-Le>w:!0});dn.meta={name:"createSelector",key:"createSelectorgetIsRecentlyViewedListsExpired",description:_e=>{const Le=Kt(_e);return Le?Date.now()-Le>w:!0}};const sn=(0,C.Ay)((_e,Le)=>{var We;return(We=G(_e).lastReadTimestampById)===null||We===void 0?void 0:We[Le]});sn.meta={name:"createSelector",key:"createSelectorgetLastReadTimestampByListId",description:(_e,Le)=>{var We;return(We=G(_e).lastReadTimestampById)===null||We===void 0?void 0:We[Le]}};const H=(0,s.Mz)((_e,Le,We)=>{const Ze=Ee(_e,Le);return(0,p.cv)(Ze,We)},_e=>{var Le;return _e==null||(Le=_e.columns)===null||Le===void 0?void 0:Le.reduce((Ze,st)=>{let{key:ut,visible:Lt}=st;return Lt!==void 0&&(Ze[ut]=Lt),Ze},{})}),Ne=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We}),st=G(_e).localFieldVisibilityByViewId[Ze];if(!st)return;const ut=H(_e,Le,We);return Object.entries(st).filter(tn=>{let[En,Dn]=tn;return Dn!==(ut==null?void 0:ut[En])}).map(tn=>{let[En,Dn]=tn;return{key:En,visible:Dn}})});Ne.meta={name:"createSelector",key:"createSelectorgetFieldsThatChangedVisibility",description:(_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We}),st=G(_e).localFieldVisibilityByViewId[Ze];if(!st)return;const ut=H(_e,Le,We);return Object.entries(st).filter(tn=>{let[En,Dn]=tn;return Dn!==(ut==null?void 0:ut[En])}).map(tn=>{let[En,Dn]=tn;return{key:En,visible:Dn}})}};const Pe=(0,M.eI)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We}),st=G(_e).localFieldVisibilityByViewId[Ze],ut=H(_e,Le,We);return st&&{...ut,...st}}),qe=(0,M.eI)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localFieldVisibilityByViewId[Ze]}),At=(0,s.Mz)(Pe,H,(_e,Le)=>_e?!(0,t.A)(_e,Le):!1),xt=(0,C.Ay)((_e,Le,We)=>{const Ze=Pe(_e,Le,We);return Ze||H(_e,Le,We)});xt.meta={name:"createSelector",key:"createSelectorgetCurrentViewFieldVisibilityByViewId",description:(_e,Le,We)=>{const Ze=Pe(_e,Le,We);return Ze||H(_e,Le,We)}};const jt=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localViewTypeByViewId[Ze]});jt.meta={name:"createSelector",key:"createSelectorgetLocalViewType",description:(_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localViewTypeByViewId[Ze]}};const Xt=(0,M.ow)((_e,Le,We)=>{const Ze=Ee(_e,Le),st=(0,p.Qq)(Ze,We);return st==null?void 0:st.type}),en=(0,C.Ay)((_e,Le,We)=>{const Ze=jt(_e,Le,We);return Ze!==void 0?Ze:Xt(_e,Le,We)});en.meta={name:"createSelector",key:"createSelectorgetCurrentViewTypeByViewId",description:(_e,Le,We)=>{const Ze=jt(_e,Le,We);return Ze!==void 0?Ze:Xt(_e,Le,We)}};const Qt=(0,C.Ay)((_e,Le,We)=>{const Ze=jt(_e,Le,We);if(!Ze)return!1;const st=Xt(_e,Le,We);return Ze!==st});Qt.meta={name:"createSelector",key:"createSelectorgetViewTypeHasChanged",description:(_e,Le,We)=>{const Ze=jt(_e,Le,We);if(!Ze)return!1;const st=Xt(_e,Le,We);return Ze!==st}};const ht=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localGroupByViewId[Ze]});ht.meta={name:"createSelector",key:"createSelectorgetLocalGroupBy",description:(_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localGroupByViewId[Ze]}};const Nt=(0,C.Ay)((_e,Le)=>{var We;return(We=G(_e))===null||We===void 0?void 0:We.refineViewByWindowId[Le]});Nt.meta={name:"createSelector",key:"createSelectorgetRefineView",description:(_e,Le)=>{var We;return(We=G(_e))===null||We===void 0?void 0:We.refineViewByWindowId[Le]}};const on=(0,C.Ay)((_e,Le)=>{var We;return(We=G(_e))===null||We===void 0?void 0:We.channelTabDefaultRefineView[Le]});on.meta={name:"createSelector",key:"createSelectorgetChannelTabDefaultRefineView",description:(_e,Le)=>{var We;return(We=G(_e))===null||We===void 0?void 0:We.channelTabDefaultRefineView[Le]}};const Vt=(0,C.Ay)((_e,Le)=>{var We;return(We=G(_e))===null||We===void 0?void 0:We.listSearchQueriesByWindowId[Le]});Vt.meta={name:"createSelector",key:"createSelectorgetListSearchQuery",description:(_e,Le)=>{var We;return(We=G(_e))===null||We===void 0?void 0:We.listSearchQueriesByWindowId[Le]}};const qt=(0,M.ow)((_e,Le,We)=>{const Ze=Ee(_e,Le),st=(0,p.Qq)(Ze,We);return st==null?void 0:st.grouping}),rn=(0,C.Ay)((_e,Le,We)=>{const Ze=ht(_e,Le,We);return Ze||qt(_e,Le,We)});rn.meta={name:"createSelector",key:"createSelectorgetCurrentGroupByViewId",description:(_e,Le,We)=>{const Ze=ht(_e,Le,We);return Ze||qt(_e,Le,We)}};const vn=(0,C.Ay)(_e=>(0,Y.ty)(_e,"lists_add_to_list_default_list"));vn.meta={name:"createSelector",key:"createSelectorgetDefaultListForAddToList",description:_e=>(0,Y.ty)(_e,"lists_add_to_list_default_list")};const Rn=(0,s.Mz)(_e=>(0,Y.ty)(_e,"lists_default_view"),_e=>{try{return JSON.parse(_e||"{}")}catch(Le){return(0,y.Ay)({label:"lists"}).error("error parsing default lists view prefs",Le),{}}}),Pn=(0,C.Ay)((_e,Le,We)=>{var Ze;const st=ht(_e,Le,We);if(!st)return!1;const ut=qt(_e,Le,We);return!(!(st==null||(Ze=st.groupBy)===null||Ze===void 0)&&Ze.length)&&!(ut!=null&&ut.groupBy)?!1:(st==null?void 0:st.groupBy)!==(ut==null?void 0:ut.groupBy)});Pn.meta={name:"createSelector",key:"createSelectorgetHasGroupByChanged",description:(_e,Le,We)=>{var Ze;const st=ht(_e,Le,We);if(!st)return!1;const ut=qt(_e,Le,We);return!(!(st==null||(Ze=st.groupBy)===null||Ze===void 0)&&Ze.length)&&!(ut!=null&&ut.groupBy)?!1:(st==null?void 0:st.groupBy)!==(ut==null?void 0:ut.groupBy)}};const In=(0,C.Ay)((_e,Le)=>{var We;return((We=G(_e).localViewsByListId)===null||We===void 0?void 0:We[Le])||f.Ml});In.meta={name:"createSelector",key:"createSelectorgetLocalViewsByListId",description:(_e,Le)=>{var We;return((We=G(_e).localViewsByListId)===null||We===void 0?void 0:We[Le])||f.Ml}};const Nn=(0,C.Ay)((_e,Le,We)=>{var Ze,st,ut;return(Ze=G(_e).listsById[Le])===null||Ze===void 0||(st=Ze.records)===null||st===void 0||(ut=st[We])===null||ut===void 0?void 0:ut.isSubscribed});Nn.meta={name:"createSelector",key:"createSelectorgetRecordIsSubscribed",description:(_e,Le,We)=>{var Ze,st,ut;return(Ze=G(_e).listsById[Le])===null||Ze===void 0||(st=Ze.records)===null||st===void 0||(ut=st[We])===null||ut===void 0?void 0:ut.isSubscribed}};const Jn=(0,C.Ay)((_e,Le)=>{var We;if(Je(_e,Le))return!1;const Ze=(0,S.Lp)(_e,Le);if(!Ze||!((We=Ze.editors)===null||We===void 0)&&We.length)return!1;const st=we(_e,Le);if(st!=null&&st.undoStack.length||st!=null&&st.redoStack.length)return!1;const ut=ne(_e,Le);for(const Lt of Object.values(ut??{}))if(String(Lt.dateCreated)!==Lt.updatedTimestamp)return!1;return!0});Jn.meta={name:"createSelector",key:"createSelectorgetListIsEditableAndNeverUpdated",description:(_e,Le)=>{var We;if(Je(_e,Le))return!1;const Ze=(0,S.Lp)(_e,Le);if(!Ze||!((We=Ze.editors)===null||We===void 0)&&We.length)return!1;const st=we(_e,Le);if(st!=null&&st.undoStack.length||st!=null&&st.redoStack.length)return!1;const ut=ne(_e,Le);for(const Lt of Object.values(ut??{}))if(String(Lt.dateCreated)!==Lt.updatedTimestamp)return!1;return!0}};const ts=(0,C.Ay)(_e=>(0,Y.ty)(_e,"lists_template_sidebar_collapsed"));ts.meta={name:"createSelector",key:"createSelectorgetIsListsTemplateSidebarCollapsedUserPref",description:_e=>(0,Y.ty)(_e,"lists_template_sidebar_collapsed")};const Un=(0,C.Ay)((_e,Le)=>{const We=Ee(_e,Le);return Jn(_e,Le)&&(0,p.BS)(We)});Un.meta={name:"createSelector",key:"createSelectorgetCanShowListEmptyStateSidebar",description:(_e,Le)=>{const We=Ee(_e,Le);return Jn(_e,Le)&&(0,p.BS)(We)}};const bn=(0,C.Ay)((_e,Le,We,Ze)=>{const st=(0,F.pe)(Le,We,Ze);return G(_e).highlightColumnMap[st]});bn.meta={name:"createSelector",key:"createSelectorgetHighlightColumnId",description:(_e,Le,We,Ze)=>{const st=(0,F.pe)(Le,We,Ze);return G(_e).highlightColumnMap[st]}};const Ln=(0,C.Ay)((_e,Le)=>{if(!Le)return null;const We=(0,E.$N)(_e,Le);return!We||We.type!==E.im.MESSAGE||!We.channelId||!We.ts?null:(0,V.Ld)(_e,We.channelId,We.ts)});Ln.meta={name:"createSelector",key:"createSelectorgetMessageFromCellValue",description:(_e,Le)=>{if(!Le)return null;const We=(0,E.$N)(_e,Le);return!We||We.type!==E.im.MESSAGE||!We.channelId||!We.ts?null:(0,V.Ld)(_e,We.channelId,We.ts)}};const Gn=(0,C.Ay)((_e,Le)=>(0,g.isListsAutomationsEntrypointsEnabled)(_e)&&(0,n.I)(_e)&&!Je(_e,Le));Gn.meta={name:"createSelector",key:"createSelectorgetShowListAutomationsEntrypoint",description:(_e,Le)=>(0,g.isListsAutomationsEntrypointsEnabled)(_e)&&(0,n.I)(_e)&&!Je(_e,Le)};const Zn=(0,C.Ay)(_e=>{const Le=(0,A.p)(_e),We=Le===A.v.IMAGES_ONLY,Ze=Le===A.v.DISABLE_ALL;return We||Ze});Zn.meta={name:"createSelector",key:"createSelectorgetIsListCsvImportDisabled",description:_e=>{const Le=(0,A.p)(_e),We=Le===A.v.IMAGES_ONLY,Ze=Le===A.v.DISABLE_ALL;return We||Ze}};const ns=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.o2)(Le,We),st=G(_e).refineComponentsState[Ze];var ut;return(ut=st==null?void 0:st.isEditViewMenuOpen)!==null&&ut!==void 0?ut:!1});ns.meta={name:"createSelector",key:"createSelectorgetIsEditViewMenuComponentOpen",description:(_e,Le,We)=>{const Ze=(0,F.o2)(Le,We),st=G(_e).refineComponentsState[Ze];var ut;return(ut=st==null?void 0:st.isEditViewMenuOpen)!==null&&ut!==void 0?ut:!1}};const is=(0,C.Ay)(_e=>G(_e).myTasksReferenceTrackingMap);is.meta={name:"createSelector",key:"createSelectorgetMyTasksReferenceTrackingMap",description:_e=>G(_e).myTasksReferenceTrackingMap};const Xn=(0,C.Ay)((_e,Le)=>{const We=Le==null?void 0:Le.slack_list;if(!We||!We.list_id||!We.list_record_id)return!1;const Ze=Se(_e,We.list_id,We.list_record_id);return Ze==null?void 0:Ze.isDeleted});Xn.meta={name:"createSelector",key:"createSelectorgetIsListRootDeletedFromMsg",description:(_e,Le)=>{const We=Le==null?void 0:Le.slack_list;if(!We||!We.list_id||!We.list_record_id)return!1;const Ze=Se(_e,We.list_id,We.list_record_id);return Ze==null?void 0:Ze.isDeleted}};const vs=(0,C.Ay)((_e,Le)=>G(_e).shouldShowListDescriptionByListId[Le]);vs.meta={name:"createSelector",key:"createSelectorgetShouldShowListDescriptionById",description:(_e,Le)=>G(_e).shouldShowListDescriptionByListId[Le]};const as=(0,C.Ay)((_e,Le)=>{var We;if(!(0,g.isTodosEnabled)(_e)||!Le)return;const Ze=(0,Y.N$)(_e);var st;const ut=(st=Ze==null?void 0:Ze[0])!==null&&st!==void 0?st:void 0,Lt=Ee(_e,ut),tn=(0,p.uA)(Lt),En=ne(_e,ut),Dn=tn==null?void 0:tn.find(On=>On.type===o.$.Reference);return!Dn||!En?null:(We=Object.values(En))===null||We===void 0?void 0:We.find(On=>{var Wn,os;if((0,i.gk)(On)||On.isDeleted)return!1;const Tn=On==null||(Wn=On.fields)===null||Wn===void 0?void 0:Wn[Dn.key];if((0,i.No)(Le)){var _n,rs;return(Tn==null||(_n=Tn.message)===null||_n===void 0?void 0:_n.channel_id)===Le.message.channelId&&(Tn==null||(rs=Tn.message)===null||rs===void 0?void 0:rs.ts)===Le.message.ts}if((0,i.dg)(Le)){var hs,Qn;return(Tn==null||(hs=Tn.list_record)===null||hs===void 0?void 0:hs.list_id)===Le.listRecord.listId&&(Tn==null||(Qn=Tn.list_record)===null||Qn===void 0?void 0:Qn.row_id)===Le.listRecord.rowId}if((0,i.SI)(Le)){var Es;return(Tn==null||(Es=Tn.file)===null||Es===void 0?void 0:Es.file_id)===Le.file.fileId}if((0,i.Z2)(Le)){var ys,Ms;return(Tn==null||(ys=Tn.canvas_section)===null||ys===void 0?void 0:ys.file_id)===Le.canvasSection.fileId&&(Tn==null||(Ms=Tn.canvas_section)===null||Ms===void 0?void 0:Ms.section_id)===Le.canvasSection.sectionId}return(Tn==null||(os=Tn.sfdc_record)===null||os===void 0?void 0:os.id)===Le.sfdcRecord.id})});as.meta={name:"createSelector",key:"createSelectorgetMyTasksItem",description:(_e,Le)=>{var We;if(!(0,g.isTodosEnabled)(_e)||!Le)return;const Ze=(0,Y.N$)(_e);var st;const ut=(st=Ze==null?void 0:Ze[0])!==null&&st!==void 0?st:void 0,Lt=Ee(_e,ut),tn=(0,p.uA)(Lt),En=ne(_e,ut),Dn=tn==null?void 0:tn.find(On=>On.type===o.$.Reference);return!Dn||!En?null:(We=Object.values(En))===null||We===void 0?void 0:We.find(On=>{var Wn,os;if((0,i.gk)(On)||On.isDeleted)return!1;const Tn=On==null||(Wn=On.fields)===null||Wn===void 0?void 0:Wn[Dn.key];if((0,i.No)(Le)){var _n,rs;return(Tn==null||(_n=Tn.message)===null||_n===void 0?void 0:_n.channel_id)===Le.message.channelId&&(Tn==null||(rs=Tn.message)===null||rs===void 0?void 0:rs.ts)===Le.message.ts}if((0,i.dg)(Le)){var hs,Qn;return(Tn==null||(hs=Tn.list_record)===null||hs===void 0?void 0:hs.list_id)===Le.listRecord.listId&&(Tn==null||(Qn=Tn.list_record)===null||Qn===void 0?void 0:Qn.row_id)===Le.listRecord.rowId}if((0,i.SI)(Le)){var Es;return(Tn==null||(Es=Tn.file)===null||Es===void 0?void 0:Es.file_id)===Le.file.fileId}if((0,i.Z2)(Le)){var ys,Ms;return(Tn==null||(ys=Tn.canvas_section)===null||ys===void 0?void 0:ys.file_id)===Le.canvasSection.fileId&&(Tn==null||(Ms=Tn.canvas_section)===null||Ms===void 0?void 0:Ms.section_id)===Le.canvasSection.sectionId}return(Tn==null||(os=Tn.sfdc_record)===null||os===void 0?void 0:os.id)===Le.sfdcRecord.id})}};const qn=(0,C.Ay)((_e,Le)=>{if(!(0,g.isTodosEnabled)(_e))return null;var We;const Ze=(We=is(_e))!==null&&We!==void 0?We:{},st=(0,i.qC)(Le);return Ze[st]});qn.meta={name:"createSelector",key:"createSelectorgetTaskFromReferenceMap",description:(_e,Le)=>{if(!(0,g.isTodosEnabled)(_e))return null;var We;const Ze=(We=is(_e))!==null&&We!==void 0?We:{},st=(0,i.qC)(Le);return Ze[st]}};const ls=(0,C.Ay)((_e,Le)=>(0,g.isTodosEnabled)(_e)?!!qn(_e,Le):!1);ls.meta={name:"createSelector",key:"createSelectorisTaskAdded",description:(_e,Le)=>(0,g.isTodosEnabled)(_e)?!!qn(_e,Le):!1};const un=(0,C.Ay)((_e,Le)=>{if(!(0,g.isTodosEnabled)(_e))return!1;const We=qn(_e,Le);return!!(We!=null&&We.isSuggested)});un.meta={name:"createSelector",key:"createSelectorisTaskSuggested",description:(_e,Le)=>{if(!(0,g.isTodosEnabled)(_e))return!1;const We=qn(_e,Le);return!!(We!=null&&We.isSuggested)}};const Fn=(0,C.Ay)((_e,Le)=>{if(!(0,g.isTodosEnabled)(_e))return!1;const We=qn(_e,Le);return!!We&&!(0,i.gk)(We)&&!(We!=null&&We.isSuggested)});Fn.meta={name:"createSelector",key:"createSelectorisTaskAddedAndNotCompleted",description:(_e,Le)=>{if(!(0,g.isTodosEnabled)(_e))return!1;const We=qn(_e,Le);return!!We&&!(0,i.gk)(We)&&!(We!=null&&We.isSuggested)}};const Gt=(0,C.Ay)((_e,Le)=>{if(!(0,g.isTodosEnabled)(_e))return!1;const We=qn(_e,Le);return!!We&&(0,i.gk)(We)});Gt.meta={name:"createSelector",key:"createSelectorisTaskAddedAndCompleted",description:(_e,Le)=>{if(!(0,g.isTodosEnabled)(_e))return!1;const We=qn(_e,Le);return!!We&&(0,i.gk)(We)}};const Ut=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localShowCompletedItemsByViewId[Ze]});Ut.meta={name:"createSelector",key:"createSelectorgetLocalShowCompletedItems",description:(_e,Le,We)=>{const Ze=(0,F.zZ)({listId:Le,viewId:We});return G(_e).localShowCompletedItemsByViewId[Ze]}};const ze=(0,M.ow)((_e,Le,We)=>{const Ze=Ee(_e,Le),st=(0,p.Qq)(Ze,We);var ut;return(ut=st==null?void 0:st.showCompletedItems)!==null&&ut!==void 0?ut:!1}),Q=(0,C.Ay)((_e,Le,We)=>{if((0,L.P)(_e,Le))return!0;const Ze=Ut(_e,Le,We);return Ze!==void 0?Ze:ze(_e,Le,We)});Q.meta={name:"createSelector",key:"createSelectorgetCurrentShowCompletedItemsByViewId",description:(_e,Le,We)=>{if((0,L.P)(_e,Le))return!0;const Ze=Ut(_e,Le,We);return Ze!==void 0?Ze:ze(_e,Le,We)}};const ue=(0,s.Mz)(Ut,ze,(_e,Le)=>_e===void 0?!1:!(0,t.A)(_e,Le)),ge=(0,C.Ay)(_e=>(0,Y.ty)(_e,"lists_message_todo_reaction")||"eyes");ge.meta={name:"createSelector",key:"createSelectorgetListsMessageTodoReaction",description:_e=>(0,Y.ty)(_e,"lists_message_todo_reaction")||"eyes"};const ke=(0,C.Ay)((_e,Le)=>G(_e).selectedListVersionByListId[Le]);ke.meta={name:"createSelector",key:"createSelectorgetSelectedListVersionByListId",description:(_e,Le)=>G(_e).selectedListVersionByListId[Le]};const Xe=(0,C.Ay)((_e,Le,We)=>{const Ze=(0,F.Ro)(Le,We);return Boolean(G(_e).aiTitleAllowedMap[Ze])});Xe.meta={name:"createSelector",key:"createSelectorgetAllowedToUseAiTitle",description:(_e,Le,We)=>{const Ze=(0,F.Ro)(Le,We);return Boolean(G(_e).aiTitleAllowedMap[Ze])}};const nt=(0,C.Ay)((_e,Le)=>G(_e).listHistoryVersionsByListId[Le]);nt.meta={name:"createSelector",key:"createSelectorgetListHistoryByListId",description:(_e,Le)=>G(_e).listHistoryVersionsByListId[Le]};const pt=(0,C.Ay)((_e,Le)=>{var We,Ze;return(We=G(_e).listHistoryVersionsByListId[Le])===null||We===void 0||(Ze=We.responseMetadata)===null||Ze===void 0?void 0:Ze.next_cursor});pt.meta={name:"createSelector",key:"createSelectorgetListHistoryCursor",description:(_e,Le)=>{var We,Ze;return(We=G(_e).listHistoryVersionsByListId[Le])===null||We===void 0||(Ze=We.responseMetadata)===null||Ze===void 0?void 0:Ze.next_cursor}}},4525672255:(W,T,e)=>{"use strict";e.d(T,{E:()=>a});var t=e(6554371307),s=e(6085611183),n=e(337319621),r=e(304127728),u=e(6304789565),i=e(474652310),o=e(832411022);const a=(0,u.Ay)("Fetch lists",async function(_,l){let{query:p,sort:g,reason:c}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};try{const E=await(p?_((0,t.yz)({query:`type:list ${p}`,includeShares:!0,reason:c||"get-lists",bypassCache:!0})):_((0,s.jQ)({module:r.MT.FILES,query:"type:list",sort:g||o.VU.lastRead,reason:c||"get-lists",context:r.Oj.ListsDefault})).then(A=>{let{items:d}=A;return d}));_((0,i.b)({files:E}))}catch(E){(0,n.Ay)({label:"lists"}).error("error fetching lists",E)}});a.meta={name:"createThunk",key:"createThunkfetchLists",description:"Fetch lists"}},164394607:(W,T,e)=>{"use strict";e.d(T,{ky:()=>d,q5:()=>E,x3:()=>A});var t=e(9706240641),s=e.n(t),n=e(2694081143),r=e(5917710436),u=e(337319621),i=e(6471801899),o=e(6304789565),a=e(8847766420),_=e(5795074931),l=e(9943020700),p=e(4001611198),g=e(9629831899);const c=(0,o.Ay)("Fetch list and list record",async(v,h,f)=>{let{listId:y,id:I,includeIsSubscribed:C,reason:D="get-list-record"}=f;try{const{list:R,record:U}=await v((0,n.T)({listId:y,id:I,includeIsSubscribed:C,reason:D}));v((0,g.y)({lists:[R]}));const x=(0,r.yJ)({listId:y,state:h()});var M,P,S,b,O,L,k,K;const B=(0,i.jG)({id:U.id,fields:U.fields,dateCreated:U.date_created,createdBy:(M=U.created_by)!==null&&M!==void 0?M:"",threadTs:(P=U.thread_ts)!==null&&P!==void 0?P:"",position:(S=U.position)!==null&&S!==void 0?S:"",parentRecordId:(b=U.parent_record_id)!==null&&b!==void 0?b:"",updatedTimestamp:(O=U.updated_timestamp)!==null&&O!==void 0?O:"",updatedBy:(L=U.updated_by)!==null&&L!==void 0?L:"",viewPositions:U.view_positions,platformRefs:U.platform_refs,saved:U.saved,savedFields:U.saved_fields,isSubscribed:U.is_subscribed,archived:(k=U.archived)!==null&&k!==void 0?k:!1,suggested:(K=U.suggested)!==null&&K!==void 0?K:!1,shouldUseTimestamp:x});return v((0,l.$W)({listId:y,record:B})),null}catch(R){var N;return(0,u.Ay)({label:"lists"}).error("error fetching list record",R),{error:R==null||(N=R.data)===null||N===void 0?void 0:N.error}}});c.meta={name:"createThunk",key:"createThunkfetchRecord",description:"Fetch list and list record"};const E=(0,o.Ay)("Fetch and upsert list record",(v,h,f)=>{let{idsToFetch:y,listId:I}=f;return s().all(y.map(async C=>{try{const K=(await v((0,n.T)({listId:I,id:C,includeIsSubscribed:!0,reason:"get-list-record"}))).record,N=(0,r.yJ)({listId:I,state:h()});var D,M,P,S,b,O,L;return(0,i.jG)({id:K.id,fields:K.fields,dateCreated:K.date_created,createdBy:(D=K.created_by)!==null&&D!==void 0?D:"",threadTs:(M=K.thread_ts)!==null&&M!==void 0?M:"",position:(P=K.position)!==null&&P!==void 0?P:"",parentRecordId:K.parent_record_id,updatedTimestamp:(S=K.updated_timestamp)!==null&&S!==void 0?S:"",updatedBy:(b=K.updated_by)!==null&&b!==void 0?b:"",viewPositions:K.view_positions,platformRefs:K.platform_refs,saved:K.saved,savedFields:K.saved_fields,archived:(O=K.archived)!==null&&O!==void 0?O:!1,suggested:(L=K.suggested)!==null&&L!==void 0?L:!1,shouldUseTimestamp:N})}catch(k){return k.data.error==="record_deleted"?{id:C,isDeleted:!0}:{id:C,isNonExistent:!0}}}))});E.meta={name:"createThunk",key:"createThunkfetchRecordsForList",description:"Fetch and upsert list record"};const A=(0,o.Ay)("Format and upsert list records",(v,h,f)=>{let{records:y,listId:I}=f;v((0,l.yw)({listId:I,records:y}));const C=(0,_.WR)(h());v((0,l.fg)({listId:I,currentUserId:C}));const D=y.map(P=>P.id),M=(0,a.ZT)(h())||"";(0,p.mY)(M,D,I)});A.meta={name:"createThunk",key:"createThunkupsertRecordsForList",description:"Format and upsert list records"};const d=(0,o.Ay)("Fetch and upsert list record",async(v,h,f)=>{let{idsToFetch:y,listId:I}=f;return v(E({idsToFetch:y,listId:I})).then(C=>{v(A({records:C,listId:I}))})});d.meta={name:"createThunk",key:"createThunkfetchAndUpsertRecordsForList",description:"Fetch and upsert list record"}},9174292896:(W,T,e)=>{"use strict";e.d(T,{D:()=>_});var t=e(444762595),s=e(5917710436),n=e(337319621),r=e(6471801899),u=e(6304789565),i=e(8847766420),o=e(9943020700),a=e(4001611198);const _=(0,u.Ay)("Fetch list records",async(l,p,g)=>{let{listId:c,currentUserId:E,archived:A=!1,includeSuggested:d=!1}=g;const v=p(),h=(0,i.ZT)(v)||"";try{const y=(await l((0,t.z)({listId:c,reason:A?"get-list-archived-records":"get-list-records",includeSubtasks:!0,archived:A,includeSuggested:d}))).records;(0,a.mY)(h,y.map(D=>D.id),c);const I=(0,s.yJ)({listId:c,state:v}),C=y.map(D=>{var M,P,S,b,O,L,k,K;return(0,r.jG)({id:D.id,fields:D.fields,dateCreated:D.date_created,createdBy:(M=D.created_by)!==null&&M!==void 0?M:"",threadTs:(P=D.thread_ts)!==null&&P!==void 0?P:"",position:(S=D.position)!==null&&S!==void 0?S:"",parentRecordId:(b=D.parent_record_id)!==null&&b!==void 0?b:"",updatedTimestamp:(O=D.updated_timestamp)!==null&&O!==void 0?O:"",updatedBy:(L=D.updated_by)!==null&&L!==void 0?L:"",viewPositions:D.view_positions,platformRefs:D.platform_refs,saved:D.saved,savedFields:D.saved_fields,archived:(k=D.archived)!==null&&k!==void 0?k:!1,suggested:(K=D.suggested)!==null&&K!==void 0?K:!1,shouldUseTimestamp:I})});return A?l((0,o.yw)({listId:c,records:C})):(l((0,o.VV)({listId:c,records:C})),l((0,o.fg)({listId:c,currentUserId:E}))),C}catch(f){(0,n.Ay)({label:"lists"}).error("error fetching list records",f)}return null});_.meta={name:"createThunk",key:"createThunkfetchRecords",description:"Fetch list records"}},9629831899:(W,T,e)=>{"use strict";e.d(T,{y:()=>r});var t=e(6304789565),s=e(3237710044),n=e(937317117);const r=(0,t.Ay)("Fetch list",async(u,i,o)=>{let{lists:a}=o;a.forEach(_=>{const l=(0,n.Lp)(i(),_.id);u((0,s.sM)({...l,..._}))})});r.meta={name:"createThunk",key:"createThunkupsertLocalListFiles",description:"Fetch list"}},5942687316:(W,T,e)=>{"use strict";e.d(T,{Ro:()=>r,o2:()=>n,pe:()=>s,zZ:()=>t});const t=m(u=>{let{listId:i,viewId:o}=u;return`${i}-${o}`},"getLocalRefinementsId"),s=m((u,i,o)=>`${u.toString()}-${i}-${o}`,"makeHighlightStoreKey"),n=m((u,i)=>`${u.toString()}-${i}`,"makeRefineComponentStateStoreKey"),r=m(function(){for(var u=arguments.length,i=new Array(u),o=0;o<u;o++)i[o]=arguments[o];return i.join("-")},"makeCompoundKey")},2938177083:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>c});var t=e(337319621),s=e(6304789565),n=e(1545824888),r=e(6259241484),u=e(716227588),i=e(3603672985),o=e(7003004874),a=e(7679173189),_=e(1655938719);const l=(0,s.Ay)("record a dismissal on a megaphone notification",(E,A,d)=>{const{spaceName:v,...h}=d,f=d.channelId||d.entityId,y=(0,t.Wo)();if(!v)return y.error(r.cK,"spaceName is required when dispatching recordAndClearNotification."),n.S.resolve();const I=A(),C=(0,u.Hp)(I,v,f);return(0,a.Ay)(f)&&d.entityType==="team"?E((0,i.pn)({spaceName:v,channelId:f})):E((0,i.KT)({spaceName:v,channelId:f})),E((0,o.A)({notificationName:C,...h}))});l.meta={name:"createThunk",key:"createThunkrecordAndClearNotification",description:"record a dismissal on a megaphone notification"};const p=(0,s.Ay)("DEV ONLY not intended for production use: Clears all notifications currently present in redux by recording a megaphone dismissal",async function(E,A){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{megaphoneSpaces:v,channelSpaces:h}=(0,u.NI)(A()),{reload:f}=d;await Promise.all(Object.values(v).filter(y=>!!y).map(y=>E((0,o.A)({notificationName:y.notificationName,action:r.hw.DISMISS})))),await Promise.all(Object.values(h).filter(y=>!!y).map(y=>Promise.all(Object.values(y).map(I=>E((0,o.A)({notificationName:I.notificationName,action:r.hw.DISMISS})))))),f&&E((0,_.AD)({megaphoneReason:"dev-debug-force-refetch"}))});p.meta={name:"createThunk",key:"createThunkslackDebugOnlyClearAllMegaphoneNotifications",description:"DEV ONLY not intended for production use: Clears all notifications currently present in redux by recording a megaphone dismissal"};const g=(0,s.Ay)("DEV ONLY not intended for production use: Clears notifications in a given space by recording a megaphone dismissal, until the desired notification is returned",async(E,A,d)=>{const{notificationName:v,spaceName:h,event:f}=d;let y=!1,I=0;for(;!y&&I<10;){const C=(0,u.Hp)(A(),h);await E((0,o.A)({notificationName:C,action:r.hw.DISMISS})),f?await E((0,_.iR)({event:f})):await E((0,_.iR)({event:{type:r.jo.REQUEST_SPACES,spaces:[h]}}));const D=(0,u.Hp)(A(),h);(D===v||!D)&&(y=!0),I+=1}});g.meta={name:"createThunk",key:"createThunkslackDebugOnlyClearSpaceUntilNotificationReturned",description:"DEV ONLY not intended for production use: Clears notifications in a given space by recording a megaphone dismissal, until the desired notification is returned"};const c=l},7003004874:(W,T,e)=>{"use strict";e.d(T,{A:()=>p,j:()=>l});var t=e(337319621),s=e(6304789565),n=e(8760181906),r=e(6485511687),u=e(1545824888),i=e(6259241484);const o=(0,s.Ay)("record an event (e.g. dismissal, impression, etc) on a megaphone notification",(g,c,E)=>{const{notificationName:A,...d}=E,v=(0,t.Wo)();var h;const f=(h=E.reason)!==null&&h!==void 0?h:"record-notification-event";if(!A)return v.error(i.cK,"notificationName is required when dispatching recordNotificationEvent."),u.S.resolve();const y={notification:A,...d,reason:f};return g((0,r.a)(y))});o.meta={name:"createThunk",key:"createThunkrecordNotificationEvent",description:"record an event (e.g. dismissal, impression, etc) on a megaphone notification"};const a=6e4,_=!1,l=(0,n.A)(o,a,_,void 0,!1),p=o},7487228876:(W,T,e)=>{"use strict";e.d(T,{h:()=>r});var t=e(337319621),s=e(6259241484);const n=(0,t.Wo)(),r=m(u=>{let{spaceName:i,notificationName:o}=u;o&&n.error(s.cK,`${o} is not a recognized notification name for space ${i}.`)},"maybeLogUnrecognizedNotification")},2374999399:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3009309149),s=e(8276911661);const n=(0,t.Ay)((u,i)=>(0,s.nv)(u,i).profile.statusEmojiDisplayInfo||void 0);n.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusEmojiDisplayInfo",description:(u,i)=>(0,s.nv)(u,i).profile.statusEmojiDisplayInfo||void 0};const r=n},1345620242:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3009309149),s=e(8170643398),n=e(8276911661),r=e(3428522109);const u=(0,t.Ay)((o,a)=>{const _=(0,n.nv)(o,a),{status_text_canonical:l}=_.profile;return l?(0,s.UM)(_):(0,r.K)(o,_)?0:(0,s.UM)(_)});u.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusExpiration",description:(o,a)=>{const _=(0,n.nv)(o,a),{status_text_canonical:l}=_.profile;return l?(0,s.UM)(_):(0,r.K)(o,_)?0:(0,s.UM)(_)}};const i=u},2072540560:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(8086952004),s=e(3009309149),n=e(8276911661),r=e(2334406124),u=e(3428522109);const i=(0,s.Ay)((a,_)=>{const l=(0,n.nv)(a,_),{status_text_canonical:p}=l.profile;if(p){let g;const c=(0,r.A)(a);return c&&(g=((0,t.A)(c,E=>E.canonical===p)||{}).text||null),p.toLowerCase()==="on a call"&&(g=n.Ru.t("On a call")),g||l.profile.status_text||""}return(0,u.K)(a,l)?n.Ru.t("In a huddle"):l.profile.status_text||""});i.meta={name:"createSelector",key:"createSelectorgetMemberCustomStatusText",description:(a,_)=>{const l=(0,n.nv)(a,_),{status_text_canonical:p}=l.profile;if(p){let g;const c=(0,r.A)(a);return c&&(g=((0,t.A)(c,E=>E.canonical===p)||{}).text||null),p.toLowerCase()==="on a call"&&(g=n.Ru.t("On a call")),g||l.profile.status_text||""}return(0,u.K)(a,l)?n.Ru.t("In a huddle"):l.profile.status_text||""}};const o=i},1651628626:(W,T,e)=>{"use strict";e.d(T,{c:()=>i});var t=e(5797466484),s=e(6304789565),n=e(1545824888),r=e(887579008),u=e(9291336591);const i=(0,s.Ay)("Submits changes to the current user\u2019s profile",(o,a,_)=>{let{profile:l,reason:p="submitProfileChange"}=_;if(!(0,t.A)(l))return n.S.resolve();const g={...l},c=a();return l.status_text&&(g.status_text=(0,r.A)(c,l.status_text)),o((0,u.n)({profile:JSON.stringify(g),reason:p}))});i.meta={name:"createThunk",key:"createThunksubmitProfileChange",description:"Submits changes to the current user\u2019s profile"}},7651407571:(W,T,e)=>{"use strict";e.d(T,{p:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Upsert fetched ordered membership list for channel");s.meta={name:"createAction",key:"createActionupsertFetchedChannelOrderedMemberList",description:"Upsert fetched ordered membership list for channel"}},8188087967:(W,T,e)=>{"use strict";e.d(T,{GD:()=>E,Nd:()=>d});var t=e(3398586081),s=e(1545824888),n=e(7058495549),r=e(8352634987),u=e(7582939986),i=e(337319621),o=e(4949104520),a=e(6304789565),_=e(8847766420),l=e(8760181906),p=e(6533394955),g=e(7651407571);const c=1e4,E=(0,t.A)(()=>new r.Ay({storeKey:"membershipOrdered",fetch:(h,f)=>s.S.all(f.map(y=>(0,p.Qw)(h,v({channelId:y,count:u.Ql})))),isEnabled:()=>!0,metricsName:"member-list"})),A=(0,a.Ay)("marks objects as stale via CFM for Membership List",function(h,f){let{teamId:y,channelId:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};E().markObjectsAsStale(y,[I])});A.meta={name:"createThunk",key:"createThunkmarkObjectsAsStale",description:"marks objects as stale via CFM for Membership List"};const d=(0,l.A)(A,(0,o.A)(c,0,.5)),v=(0,a.Ay)("Fetches top members for the channel",function(h,f){let{channelId:y,count:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return(0,n.ds)(h,f,y,I).then(C=>{const D=(0,_.ZT)(f());if(!D){(0,i.Wo)().info("MOS","No teamId found");return}return E().markObjectsAsFresh(D,[y]),h((0,g.p)({channelId:y,memberList:C}))})});v.meta={name:"createThunk",key:"createThunkfetchAndUpsertFirstNMembersForChannel",description:"Fetches top members for the channel"}},1794107122:(W,T,e)=>{"use strict";e.d(T,{$:()=>u});var t=e(9392104102),s=e(3009309149),n=e(8847766420),r=e(8188087967);const u=(0,s.Ay)((i,o)=>{const a=(0,n.ZT)(i);return a&&(0,r.GD)().maybeRefetch(a,o),i&&i.membershipOrdered&&i.membershipOrdered[o]?i.membershipOrdered[o]:t.Ml});u.meta={name:"createSelector",key:"createSelectorgetMemberListForChannel",description:(i,o)=>{const a=(0,n.ZT)(i);return a&&(0,r.GD)().maybeRefetch(a,o),i&&i.membershipOrdered&&i.membershipOrdered[o]?i.membershipOrdered[o]:t.Ml}}},6562711329:(W,T,e)=>{"use strict";e.d(T,{z:()=>c});var t=e(7823346015),s=e(8403493408),n=e(1545824888),r=e(1407713935),u=e(8798294025),i=e(6304789565),o=e(8847766420),a=e(6533394955),_=e(5795074931),l=e(9101533895),p=e(3730613858),g=e(2480881364);const c=(0,i.Ay)("Gets the channel membership for a set of users and returns a promise when the store is updated accordingly",function(E,A){let{channelId:d,userIds:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const h=A(),[f,y]=(0,t.A)(v,D=>(0,p.wr)(h,d,D)),I=(0,l.OL)(h,d);if((0,r.LI)(I)){const D=(0,u.e)(I),M=(0,_.WR)(h);(0,s.A)(y,D,M),v!=null&&v.includes(D)&&f.push(D),v!=null&&v.includes(M)&&f.push(M)}const C={};return f.forEach(D=>{C[D]=(0,p.Ql)(h,d,D)}),y.length?(0,a.Qw)((0,o.ZT)(h),(0,g.R)({channelId:d,userIds:y})).then(D=>D&&D.payload&&D.payload.membershipInfo?{membershipInfo:{...D.payload.membershipInfo,...C}}:{membershipInfo:C}):n.S.resolve({membershipInfo:C})});c.meta={name:"createThunk",key:"createThunkgetChannelMembershipInfoForUsers",description:"Gets the channel membership for a set of users and returns a promise when the store is updated accordingly"}},5345057011:(W,T,e)=>{"use strict";e.d(T,{T:()=>s,s:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Add a placeholder to the store");s.meta={name:"createAction",key:"createActionaddPlaceholder",description:"Add a placeholder to the store"};const n=(0,t.Ay)("Remove a placeholder from the store by client_msg_id");n.meta={name:"createAction",key:"createActionremovePlaceholder",description:"Remove a placeholder from the store by client_msg_id"}},6445408916:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(3009309149);const s=(0,t.Ay)(n=>n==null?void 0:n.messagePlaceholders);s.meta={name:"createSelector",key:"createSelectorgetAllPlaceholders",description:n=>n==null?void 0:n.messagePlaceholders}},5774398667:(W,T,e)=>{"use strict";e.d(T,{I:()=>n});var t=e(3009309149),s=e(6445408916);const n=(0,t.Ay)((r,u)=>{var i;return(i=(0,s.A)(r))===null||i===void 0?void 0:i[u]});n.meta={name:"createSelector",key:"createSelectorgetPlaceholderByClientMsgId",description:(r,u)=>{var i;return(i=(0,s.A)(r))===null||i===void 0?void 0:i[u]}}},6347367879:(W,T,e)=>{"use strict";e.d(T,{o:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Start delete animation for a message");s.meta={name:"createAction",key:"createActionanimateDeleteMessage",description:"Start delete animation for a message"}},1508337910:(W,T,e)=>{"use strict";e.d(T,{h:()=>u});var t=e(3009309149),s=e(9392104102);const n=(0,t.Ay)(o=>o==null?void 0:o.messagesMeta);n.meta={name:"createSelector",key:"createSelectorgetMessagesMetaState",description:o=>o==null?void 0:o.messagesMeta};var r;const u=(0,t.Ay)((o,a)=>{let{channelId:_,ts:l}=a;var p,g;return(r=(p=n(o))===null||p===void 0||(g=p[_])===null||g===void 0?void 0:g[l])!==null&&r!==void 0?r:s.t0});var i;u.meta={name:"createSelector",key:"createSelectorgetMessageMetaData",description:(o,a)=>{let{channelId:_,ts:l}=a;var p,g;return(i=(p=n(o))===null||p===void 0||(g=p[_])===null||g===void 0?void 0:g[l])!==null&&i!==void 0?i:s.t0}}},3521202413:(W,T,e)=>{"use strict";e.d(T,{j:()=>A});var t=e(6304789565),s=e(7606781622),n=e(9101533895),r=e(8726613433),u=e(8233775522),i=e(6347367879),o=e(9121476043),a=e(9629572172),_=e(4096483543);const l=(0,t.Ay)("Checks if the message is in an active view before doing the animation",function(d,v){let{channelId:h,ts:f,threadTs:y}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},I=arguments.length>3?arguments[3]:void 0;const C=v(),{getViewSet:D}=I(a.U),M=!(0,_.A)()||(0,r.T2)(C),P=(0,u.ko)(C)&&M;var S;const{primary:b}=(S=D(C))!==null&&S!==void 0?S:{},O=b==null?void 0:b.id,L=m(()=>d((0,i.o)({channelId:h,ts:f})),"doAnimation");if(P&&O===h){L();return}d((0,o.A)({channelId:h,ts:f,threadTs:y}))});l.meta={name:"createThunk",key:"createThunkmaybeAnimateDeleteMessage",description:"Checks if the message is in an active view before doing the animation"};const p=l;var g=e(1484767411),c=e(1508337910),E=e(337319621);const A=(0,t.Ay)("Delete a message by channel ID and timestamp",function(d,v){let{deleted_ts:h,channel:f,_from_evt_log:y,previous_message:I}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};var C;const D=v(),M=(0,E.Ay)({state:D});if(!h){M.error("Error in messageDeleted: no deleted_ts");return}if(!((0,n.gT)(D,f)&&(0,n.OL)(D,f))){M.error(`Unknown channelId: ${f}`);return}if((C=(0,c.h)(D,{channelId:f,ts:h}))===null||C===void 0?void 0:C.isDeleting)return;const b=!1,L=(0,s.Ld)(D,f,h,b)||I;d(L?p({channelId:f,ts:h,threadTs:L.thread_ts,fromEvtLog:y}):(0,o.A)({channelId:f,ts:h})),d((0,g.o)({channelId:f,ts:h}))});A.meta={name:"createThunk",key:"createThunksetMessageDeleted",description:"Delete a message by channel ID and timestamp"}},5688490863:(W,T,e)=>{"use strict";e.d(T,{J_:()=>a,QI:()=>E,Up:()=>u,V1:()=>c,Zs:()=>o,iN:()=>r,m3:()=>i,oh:()=>p,qA:()=>l,qj:()=>g,yw:()=>_});var t=e(9392104102),s=e(3009309149);const n=(0,s.Ay)(A=>A.modernSelling.salesListViews);n.meta={name:"createSelector",key:"createSelectorgetSalesListViews",description:A=>A.modernSelling.salesListViews};const r=(0,s.Ay)(A=>n(A).listViewActiveObjectOption);r.meta={name:"createSelector",key:"createSelectorgetListViewActiveObjectOption",description:A=>n(A).listViewActiveObjectOption};const u=(0,s.Ay)(A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.listViewSearchResults});u.meta={name:"createSelector",key:"createSelectorgetListViewSearchResults",description:A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.listViewSearchResults}};const i=(0,s.Ay)((A,d)=>{var v;const h=(v=n(A))===null||v===void 0?void 0:v.listViewIdSearchResultsMap;return(h==null?void 0:h[d])||t.t0});i.meta={name:"createSelector",key:"createSelectorgetListViewObjectMapByOrg",description:(A,d)=>{var v;const h=(v=n(A))===null||v===void 0?void 0:v.listViewIdSearchResultsMap;return(h==null?void 0:h[d])||t.t0}};const o=(0,s.Ay)((A,d,v)=>i(A,d)[v]||t.Ml);o.meta={name:"createSelector",key:"createSelectorgetListViewIdsByOrgAndObject",description:(A,d,v)=>i(A,d)[v]||t.Ml};const a=(0,s.Ay)(A=>{var d;return((d=n(A))===null||d===void 0?void 0:d.listViewActiveSearchResultIds)||t.Ml});a.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchResultIds",description:A=>{var d;return((d=n(A))===null||d===void 0?void 0:d.listViewActiveSearchResultIds)||t.Ml}};const _=(0,s.Ay)(A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.listViewActiveSearchQuery});_.meta={name:"createSelector",key:"createSelectorgetListViewActiveSearchQuery",description:A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.listViewActiveSearchQuery}};const l=(0,s.Ay)(A=>{var d;return((d=n(A))===null||d===void 0?void 0:d.adminSuggestedListViews)||t.Ml});l.meta={name:"createSelector",key:"createSelectorgetAdminSuggestedListViewsForSidebar",description:A=>{var d;return((d=n(A))===null||d===void 0?void 0:d.adminSuggestedListViews)||t.Ml}};const p=(0,s.Ay)(A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.areAdminSuggestedListViewsForSidebarFresh});p.meta={name:"createSelector",key:"createSelectorgetAreAdminSuggestedListViewsForSidebarFresh",description:A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.areAdminSuggestedListViewsForSidebarFresh}};const g=(0,s.Ay)(A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.adminConfiguredObjects});g.meta={name:"createSelector",key:"createSelectorgetAdminConfiguredObjects",description:A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.adminConfiguredObjects}};const c=(0,s.Ay)(A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.selectedExplorerRowListViewId});c.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewId",description:A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.selectedExplorerRowListViewId}};const E=(0,s.Ay)(A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.selectedExplorerRowListViewType});E.meta={name:"createSelector",key:"createSelectorgetSelectedExplorerRowListViewType",description:A=>{var d;return(d=n(A))===null||d===void 0?void 0:d.selectedExplorerRowListViewType}}},8149648525:(W,T,e)=>{"use strict";e.d(T,{b:()=>_});var t=e(5104468117),s=e(8956161330),n=e(1190344069),r=e(6304789565),u=e(7146087658),i=e(5688490863),o=e(1670025826),a=e(146149780);const _=(0,r.Ay)("Search list views by query",(l,p,g)=>{let{isFullSearch:c=!1,objectType:E,query:A,salesforceOrgId:d}=g;const v=p(),h=c?t.Iq:t.TD;let f=[];const y=!(0,s.hx)(v)&&(0,n.ZK)(v);return E?f=[E]:y||(f=(0,i.qj)(v).map(C=>C.sobject_api_name)),l((0,o.R)({limit:h,listviewObjectScopes:f,query:A,sobjects:[{sobjectApiName:"ListView",fields:["Name","LastViewedDate","SobjectType"]}],salesforceOrgId:d,reason:"list_view_search",skipSimpleArraySerializationInGetFormData:y})).then(I=>{let{records:C}=I;const D=C.map(P=>({id:P.value,label:P.label,objectType:P.extras.SobjectType,salesforceOrgId:d})),M=l((0,a.x)({listViews:D,salesforceOrgId:d}));return c&&l((0,u.hA)(M)),D})});_.meta={name:"createThunk",key:"createThunksearchListViews",description:"Search list views by query"}},146149780:(W,T,e)=>{"use strict";e.d(T,{x:()=>n});var t=e(6304789565),s=e(7146087658);const n=(0,t.Ay)("Upsert list views fetched by search or other API",(r,u,i)=>{let{listViews:o,salesforceOrgId:a}=i;const _=[],l={},p={};return o.forEach(g=>{const c=g.id,E=g.objectType;l[c]={id:c,label:g.label,lastViewedDate:g.lastViewedDate,objectType:E,salesforceOrgId:a,url:g.url},p[E]=p[E]||[],p[E].push(c),_.push(c)}),r((0,s.TO)(l)),r((0,s.KT)({salesforceOrgId:a,listViewObjMap:p})),_});n.meta={name:"createThunk",key:"createThunkupsertFetchedListViews",description:"Upsert list views fetched by search or other API"}},2413251042:(W,T,e)=>{"use strict";e.d(T,{KY:()=>u,p$:()=>s,rB:()=>n,x8:()=>r});var t=e(2140362605);const s=(0,t.Ay)("Set whether inverted sidebar was enabled before starting BBM");s.meta={name:"createAction",key:"createActionsetInvertedSidebarInternal",description:"Set whether inverted sidebar was enabled before starting BBM"};const n=(0,t.Ay)("Set whether peeks were enabled on mouse enter before starting BBM");n.meta={name:"createAction",key:"createActionsetPeeksEnabledOnMouseEnterInternal",description:"Set whether peeks were enabled on mouse enter before starting BBM"};const r=(0,t.Ay)("Set what zoom value was set in the client before starting BBM");r.meta={name:"createAction",key:"createActionsetZoomInternal",description:"Set what zoom value was set in the client before starting BBM"};const u=(0,t.Ay)("Set whether sidebar was visible before starting BBM");u.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Set whether sidebar was visible before starting BBM"}},6303140164:(W,T,e)=>{"use strict";e.d(T,{UY:()=>n,Vb:()=>t,_J:()=>s,xN:()=>r});const t="slack-inverted-sidebar-initial-setting",s="slack-peeks-enabled-on-mouse-enter-initial-setting",n="slack-zoom-initial-setting",r="slack-is-sidebar-visible-initial-setting"},2634578631:(W,T,e)=>{"use strict";e.d(T,{z:()=>s});var t=e(2140362605);const s=(0,t.Ay)("NOOP");s.meta={name:"createAction",key:"createActionnoopAction",description:"NOOP"}},4686544804:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(2028988448),s=e(9139930183),n=e(2634578631),r=e(6533394955),u=e(5881327370);const i=0,a=(0,s.Ay)({},i,{storeKey:"noop",persistenceEnabled:!1}).on(n.z,_=>_+1);(0,t.ul)("dispatchNoop",()=>{(0,r.Qw)((0,u.oI)(),(0,n.z)())})},4309043566:(W,T,e)=>{"use strict";e.d(T,{l:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Relay observed overlays state from OverlaysContextProvider to Redux");s.meta={name:"createAction",key:"createActionrelayOverlays",description:"Relay observed overlays state from OverlaysContextProvider to Redux"}},3180420025:(W,T,e)=>{"use strict";e.d(T,{y:()=>i});var t=e(2384831516),s=e(4309043566),n=e(9392104102);const r=n.t0,u={persistenceEnabled:!1,storeKey:"overlays"},i=(0,t.vy)({},r,u).on(s.l,(o,a)=>a)},983004675:(W,T,e)=>{"use strict";e.d(T,{OI:()=>o,cg:()=>n,kK:()=>s,ot:()=>i,qH:()=>u,us:()=>r});var t=e(2140362605);const s=(0,t.Ay)("Sets the current loading state for a channel");s.meta={name:"createAction",key:"createActionsetLoadingState",description:"Sets the current loading state for a channel"};const n=(0,t.Ay)("Adds pinned item identifiers for files and messages to list of pinned items");n.meta={name:"createAction",key:"createActionaddPinnedItems",description:"Adds pinned item identifiers for files and messages to list of pinned items"};const r=(0,t.Ay)("Remove an item from the pinned items list for a channel");r.meta={name:"createAction",key:"createActionremovePinnedItem",description:"Remove an item from the pinned items list for a channel"};const u=(0,t.Ay)("Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)");u.meta={name:"createAction",key:"createActionprependPinnedItem",description:"Adds a pinned item to the beginning of the pinned items list (used for pinning an item in the UI)"};const i=(0,t.Ay)("Clears the existing pinned items for a channel and sets the loading state");i.meta={name:"createAction",key:"createActionclearPinnedItems",description:"Clears the existing pinned items for a channel and sets the loading state"};const o=(0,t.Ay)("Sets the scrollTop value of the pins popover so that it can be opened to the same spot again");o.meta={name:"createAction",key:"createActionsetPopoverScrollTop",description:"Sets the scrollTop value of the pins popover so that it can be opened to the same spot again"}},4352409775:(W,T,e)=>{"use strict";e.d(T,{G:()=>o});var t=e(3398586081),s=e(1545824888),n=e(8352634987),r=e(6533394955),u=e(983004675),i=e(6701536972);const o=(0,t.A)(()=>new n.Ay({storeKey:"pins",fetch:(a,_)=>s.S.map(_,l=>((0,r.Qw)(a,(0,u.ot)({channelId:l})),(0,r.Qw)(a,(0,i.b)({channelId:l})))),isEnabled:()=>!0,metricsName:"pins"}))},6247263305:(W,T,e)=>{"use strict";e.d(T,{R:()=>t,b:()=>s});const t={FILE:"file",FILE_COMMENT:"file_comment",MESSAGE:"message"},s={NOT_LOADED:void 0,LOADING:"loading",LOADED:"loaded"}},7158699554:(W,T,e)=>{"use strict";e.d(T,{$U:()=>l,A_:()=>p,Wt:()=>g,YG:()=>E,c7:()=>c,jR:()=>_});var t=e(2384831516),s=e(8847766420),n=e(7606781622),r=e(6457401668),u=e(937317117),i=e(4352409775),o=e(6247263305),a=e(4813703725);const _=(0,t.Mz)(function(d,v){let{refetchIfNeeded:h=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(h){const f=(0,s.ZT)(d);(0,i.G)().maybeRefetch(f,v)}return d&&d.pins&&d.pins.pinsByChannel[v]});_.meta={name:"createSelector",key:"createSelectorgetPinnedItemsForChannel",description:function(d,v){let{refetchIfNeeded:h=!0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(h){const f=(0,s.ZT)(d);(0,i.G)().maybeRefetch(f,v)}return d&&d.pins&&d.pins.pinsByChannel[v]}};const l=(0,t.Mz)((d,v)=>{var h,f;return d&&d.pins&&d.pins.pinsByChannel[v]?(h=d.pins.pinsByChannel)===null||h===void 0||(f=h[v])===null||f===void 0?void 0:f.length:0});l.meta={name:"createSelector",key:"createSelectorgetPinCountForChannel",description:(d,v)=>{var h,f;return d&&d.pins&&d.pins.pinsByChannel[v]?(h=d.pins.pinsByChannel)===null||h===void 0||(f=h[v])===null||f===void 0?void 0:f.length:0}};const p=(0,t.Mz)((d,v)=>d&&d.pins&&d.pins.loadingStateByChannel[v]);p.meta={name:"createSelector",key:"createSelectorgetLoadingState",description:(d,v)=>d&&d.pins&&d.pins.loadingStateByChannel[v]};const g=(0,t.Mz)((d,v)=>{let{channelId:h,ts:f}=v;const y=!1,I=(0,n.Ld)(d,h,f,y);if(!I)return!1;if((0,r.m)(I)&&I.comment){const C=(0,u.yd)(d,I.file,I.comment.id);return C?!!(C.pinned_to&&C.pinned_to.includes(h)):!1}return!!(I.pinned_to&&I.pinned_to.includes(h))});g.meta={name:"createSelector",key:"createSelectorisMessagePinned",description:(d,v)=>{let{channelId:h,ts:f}=v;const y=!1,I=(0,n.Ld)(d,h,f,y);if(!I)return!1;if((0,r.m)(I)&&I.comment){const C=(0,u.yd)(d,I.file,I.comment.id);return C?!!(C.pinned_to&&C.pinned_to.includes(h)):!1}return!!(I.pinned_to&&I.pinned_to.includes(h))}};const c=m((d,v)=>{switch(v.type){case o.R.MESSAGE:return{...(0,n.Ld)(d,v.channel,v.ts),type:o.R.MESSAGE};case o.R.FILE:return{...(0,u.Lp)(d,v.id),type:o.R.FILE};case o.R.FILE_COMMENT:return{...(0,u.yd)(d,v.fileId,v.id),fileId:v.fileId,type:o.R.FILE_COMMENT};default:return{}}},"getItemWithPinIdentifier"),E=(0,a.eI)((d,v)=>{const h=_(d,v);return h?h.map(f=>c(d,f)):[]}),A=(0,t.Mz)(d=>d&&d.pins&&d.pins.popoverScrollTop);A.meta={name:"createSelector",key:"createSelectorgetPopoverScrollTop",description:d=>d&&d.pins&&d.pins.popoverScrollTop}},6701536972:(W,T,e)=>{"use strict";e.d(T,{b:()=>E});var t=e(337319621),s=e(9109082163),n=e(474652310),r=e(6304789565),u=e(8847766420),i=e(6403218297),o=e(6665892446),a=e(10127715),_=e(6247263305),l=e(983004675),p=e(1581380967),g=e(4352409775),c=e(5792544570);const E=(0,r.Ay)("Fetch pinned items list for channel",(A,d,v)=>{const h=v.channelId;return A((0,l.kK)({loadingState:_.b.LOADING,channelId:h})),A((0,s.xs)({reason:"fetchPinsList",...v})).then(function(){let{items:f}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const y=f.filter(D=>D.type.includes(_.R.FILE)).map(D=>{if(D.type===_.R.FILE_COMMENT){const{comment:M,file:P,...S}=D,b=(0,i.A)(M,P);return{...S,file:b}}return D}),I=f.filter(D=>D.type===_.R.MESSAGE);if(y.length){const D=y.filter(P=>P.type!==_.R.FILE_COMMENT),M=y.filter(P=>P.type===_.R.FILE_COMMENT);A((0,n.b)({files:D.map(P=>P.file)})),A((0,n.b)({files:M.map(P=>P.file)}))}if(I.length){const D=I.map(P=>{let{message:S}=P;return S}),M=A((0,o.A)({imsgs:D,channelId:h}));A((0,a.Kc)(M))}A((0,p.K)({channelId:h,count:f.length})),A((0,l.cg)({items:f.map(c.B),channelId:h})),A((0,l.kK)({loadingState:_.b.LOADED,channelId:h}));const C=(0,u.ZT)(d());(0,g.G)().markObjectsAsFresh(C,[h])}).catch(f=>{throw A((0,l.kK)({loadingState:_.b.NOT_LOADED,channelId:h})),(0,t.Ay)({getState:d}).error(`Error in fetchPinsList: ${JSON.stringify(f)}`),f})});E.meta={name:"createThunk",key:"createThunkfetchPinsList",description:"Fetch pinned items list for channel"}},1581380967:(W,T,e)=>{"use strict";e.d(T,{K:()=>o});var t=e(6304789565),s=e(9606603587),n=e(9101533895),r=e(337319621),u=e(6247263305),i=e(7158699554);const o=(0,t.Ay)("update a pin count for a channel",(a,_,l)=>{let{channelId:p,count:g,forceUpdate:c=!1}=l;const E=_(),A={...(0,n.OL)(E,p)},d=(0,i.jR)(E,p,{refetchIfNeeded:!1}),v=(0,i.A_)(E,p),h=!c&&v===u.b.LOADED?d==null?void 0:d.length:g;if(h===A.pinned_items_count)return;(0,r.Ay)({state:E}).info("PINS",`Pins count updated for channel ${p}: ${h}`);const f={...A,pinned_items_count:h};a((0,s.B)({channel:f}))});o.meta={name:"createThunk",key:"createThunkupdatePinCount",description:"update a pin count for a channel"}},5792544570:(W,T,e)=>{"use strict";e.d(T,{B:()=>s});var t=e(6247263305);const s=m(n=>{switch(n.type){case t.R.MESSAGE:var r;return{type:n.type,channel:n.channel,ts:(r=n.message)===null||r===void 0?void 0:r.ts};case t.R.FILE:var u,i;return{type:n.type,id:n.file?n.file.id:(u=n.files)===null||u===void 0||(i=u[0])===null||i===void 0?void 0:i.id};case t.R.FILE_COMMENT:var o;return{type:n.type,id:n.comment.id,fileId:(o=n.file)===null||o===void 0?void 0:o.id};default:return{}}},"formatPinFromAPI")},7665060966:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3009309149),s=e(2047021170);const n=(0,t.Ay)(u=>(0,s.ty)(u,"messages_theme")==="dense"?"dense":"light");n.meta={name:"createSelector",key:"createSelectorgetUserMessagesTheme",description:u=>(0,s.ty)(u,"messages_theme")==="dense"?"dense":"light"};const r=n},1317368584:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3009309149),s=e(9599231336),n=e(2047021170),r=e(7665060966);const u=(0,t.Ay)(o=>!(0,s.P)(o)&&!!(0,n.ty)(o,"jumbomoji")&&(0,r.A)(o)!=="dense");u.meta={name:"createSelector",key:"createSelectorshouldDisplayJumbomoji",description:o=>!(0,s.P)(o)&&!!(0,n.ty)(o,"jumbomoji")&&(0,r.A)(o)!=="dense"};const i=u},7520484642:(W,T,e)=>{"use strict";e.d(T,{$n:()=>E,DS:()=>s,Eu:()=>_,JB:()=>c,Lk:()=>A,QU:()=>v,UR:()=>u,Ye:()=>l,aF:()=>d,cl:()=>o,dz:()=>r,gJ:()=>p,mC:()=>i,mo:()=>a,wt:()=>n,zG:()=>g});var t=e(2140362605);const s=(0,t.Ay)("Switch currently active plan");s.meta={name:"createAction",key:"createActionswitchPlans",description:"Switch currently active plan"};const n=(0,t.Ay)("Successfully fetched available plans");n.meta={name:"createAction",key:"createActionplansFetchSuccess",description:"Successfully fetched available plans"};const r=(0,t.Ay)("Successfully fetched cost for current plan");r.meta={name:"createAction",key:"createActioncostFetchSuccess",description:"Successfully fetched cost for current plan"};const u=(0,t.Ay)("Successfully fetched cost for current addon");u.meta={name:"createAction",key:"createActionaddonsCostFetchSuccess",description:"Successfully fetched cost for current addon"};const i=(0,t.Ay)("Received an API error");i.meta={name:"createAction",key:"createActionsetErrorState",description:"Received an API error"};const o=(0,t.Ay)("Plans and cost data loaded");o.meta={name:"createAction",key:"createActionplansAndCostDataLoaded",description:"Plans and cost data loaded"};const a=(0,t.Ay)("Mark plans and cost data as not loaded");a.meta={name:"createAction",key:"createActionmarkPlansAndCostDataAsNotLoaded",description:"Mark plans and cost data as not loaded"};const _=(0,t.Ay)("Set Plan Level");_.meta={name:"createAction",key:"createActionsetPlanLevel",description:"Set Plan Level"};const l=(0,t.Ay)("Set Payment Method");l.meta={name:"createAction",key:"createActionsetPaymentMethod",description:"Set Payment Method"};const p=(0,t.Ay)("Update Is Plans Data Loading");p.meta={name:"createAction",key:"createActionupdateIsPlansDataLoading",description:"Update Is Plans Data Loading"};const g=(0,t.Ay)("Update Is Cost Data Loading");g.meta={name:"createAction",key:"createActionupdateIsCostDataLoading",description:"Update Is Cost Data Loading"};const c=(0,t.Ay)("Load Plans Page Boot Data Success");c.meta={name:"createAction",key:"createActionloadPlansPageBootDataSuccess",description:"Load Plans Page Boot Data Success"};const E=(0,t.Ay)("Mark plans page boot data as not loaded");E.meta={name:"createAction",key:"createActionmarkPlansPageBootDataAsNotLoaded",description:"Mark plans page boot data as not loaded"};const A=(0,t.Ay)("Mark plan payment status data as not loaded");A.meta={name:"createAction",key:"createActionmarkPlanStatusDataAsNotLoaded",description:"Mark plan payment status data as not loaded"};const d=(0,t.Ay)("Set when toggling between base plan and Slack AI on plans page");d.meta={name:"createAction",key:"createActionsetIsSlackAiToggleSelected",description:"Set when toggling between base plan and Slack AI on plans page"};const v=(0,t.Ay)("Team plan status loaded");v.meta={name:"createAction",key:"createActionteamPlanStatusFetchSuccess",description:"Team plan status loaded"}},3810478625:(W,T,e)=>{"use strict";e.d(T,{g:()=>n});var t=e(4761125736),s=e(3009309149);const n=(0,s.Ay)(r=>(0,t._Z)(r,"pnp_e2e",!1)==="on");n.meta={name:"createSelector",key:"createSelectorpnpE2eIsOn",description:r=>(0,t._Z)(r,"pnp_e2e",!1)==="on"}},4005238080:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(6304789565),s=e(165535451),n=e(7520484642);const r=(0,t.Ay)("Load Plans Page Boot Data",i=>(i((0,n.$n)()),i((0,s.ib)()).then(o=>{let a=!0;return o!=null&&o.team_current_product&&o.team_current_product!==""&&(a=!1),i((0,n.aF)({isSelected:a})),i((0,n.JB)(o))})));r.meta={name:"createThunk",key:"createThunkloadPlansPageBootData",description:"Load Plans Page Boot Data"};const u=r},962959561:(W,T,e)=>{"use strict";e.d(T,{L9:()=>v,aJ:()=>A,dF:()=>g,jv:()=>d});var t=e(3009309149),s=e(7268021173),n=e(1960898919),r=e(3677514771),u=e(6839188756),i=e(6323355797),o=e(5773584938),a=e(9323322135),_=e(6854862203),l=e(4761125736);const p=[{promoType:i.ZO.PaidFeatureTrial,promoSubtype:i.zG.MessageLimit},{promoType:i.ZO.PaidFeatureTrial,promoSubtype:i.zG.Vhq},{promoType:i.ZO.PaidFeatureTrial,promoSubtype:i.zG.Canvas},{promoType:i.ZO.PaidFeatureTrial,promoSubtype:i.zG.SharedChannels},{promoType:i.ZO.PaidFeatureTrial,promoSubtype:i.zG.List},{promoType:i.ZO.PaidFeatureTrial,promoSubtype:i.zG.WorkflowBuilder},{promoType:i.ZO.PaidFeatureTrial,promoSubtype:i.zG.SlackAI},{promoType:i.ZO.GlobalEntrypointTrial},{promoType:i.ZO.SolutionsGalleryPromo,promoSubtype:i.zG.SolutionsGalleryInProduct},{promoType:i.ZO.LandingPageTrial},{promoType:i.ZO.TopOfFunnelTrial}],g=(0,t.Ay)(f=>(0,o.Ii)(f)||(0,_.TM)(f)||(0,l._Z)(f,"slack_trials_tof_client")==="on");g.meta={name:"createSelector",key:"createSelectorisEligibleForAutoChargeTrialExperiment",description:f=>(0,o.Ii)(f)||(0,_.TM)(f)||(0,l._Z)(f,"slack_trials_tof_client")==="on"};const c=(0,t.Ay)(f=>p.some(y=>{let{promoType:I,promoSubtype:C}=y;return(0,s.G)(f,I,C)}));c.meta={name:"createSelector",key:"createSelectorisCurrentTrialEligiblePromoCampaign",description:f=>p.some(y=>{let{promoType:I,promoSubtype:C}=y;return(0,s.G)(f,I,C)})};const E=(0,t.Ay)(f=>p.some(y=>{let{promoType:I,promoSubtype:C}=y;return(0,s.hq)(f,I,C)}));E.meta={name:"createSelector",key:"createSelectorisEligiblePromoCampaign",description:f=>p.some(y=>{let{promoType:I,promoSubtype:C}=y;return(0,s.hq)(f,I,C)})};const A=m(f=>{let{campaignType:y,campaignSubType:I}=f;return y?p.some(C=>{let{promoType:D,promoSubtype:M}=C;return D===y&&M===I}):!1},"checkIfEligiblePromoCampaign"),d=(0,t.Ay)(f=>{const y=(0,r.H7)(f);return!!(0,n.ax)(f,"has_started_feature_auto_charge_trial")&&!(0,u.tc)(y)&&(0,s.tV)(f)&&c(f)&&g(f)});d.meta={name:"createSelector",key:"createSelectorisCurrentlyOnAutoChargeFeatureTrial",description:f=>{const y=(0,r.H7)(f);return!!(0,n.ax)(f,"has_started_feature_auto_charge_trial")&&!(0,u.tc)(y)&&(0,s.tV)(f)&&c(f)&&g(f)}};const v=(0,t.Ay)(function(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const C=(0,r.H7)(f);return!(0,a.Z9F)()&&(0,u.tc)(C)&&!(0,s.iH)(f)&&(I||E(f))&&(y||(0,o.Ii)(f))});v.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeFeatureTrial",description:function(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const C=(0,r.H7)(f);return!(0,a.Z9F)()&&(0,u.tc)(C)&&!(0,s.iH)(f)&&(I||E(f))&&(y||(0,o.Ii)(f))}};const h=(0,t.Ay)(f=>v(f)&&(0,i.jo)());h.meta={name:"createSelector",key:"createSelectorisEligibleAutoChargeAndCheckoutRoute",description:f=>v(f)&&(0,i.jo)()}},5512605238:(W,T,e)=>{"use strict";e.d(T,{F:()=>s});var t=e(3009309149);const s=(0,t.Ay)(n=>n&&n.promo&&n.promo.showTrialStartedCelebration);s.meta={name:"createSelector",key:"createSelectorgetShowTrialStartedCelebration",description:n=>n&&n.promo&&n.promo.showTrialStartedCelebration}},7859253282:(W,T,e)=>{"use strict";e.d(T,{r:()=>f});var t=e(3134334389),s=e(5270990260),n=e(677609895),r=e(6304789565),u=e(2375333597),i=e(1384076438),o=e(6122756707),a=e(1471093810),_=e(7109376014),l=e(9702400417),p=e(735940183),g=e(6323355797),c=e(9506008067),E=e(3554387543),A=e(1803124141),d=e(3677514771);const v=new p.A("trials"),h=m(y=>{let{isEligibleForTrial:I,canUserPurchase:C,autoClogProps:D,entryPoint:M,promoType:P,promoSubtype:S}=y;const b=(0,c.d4)(A.k),O=(0,c.d4)(d.H7),L=(0,o.wA)(),k=(0,t.useCallback)(()=>{L((0,_.A)({canUserPurchase:C,trialEligible:I}))},[L,C,I]),K=(0,c.d4)(Y=>(0,E.UO)(Y,g.i6.standard.name,g.ck.monthly)),N=(0,c.d4)(E.nc),R=(0,c.d4)(Y=>(0,E.MO)(Y,g.i6.standard.name,g.ck.monthly)),U=m(()=>[{key:"slack_ai_message_summaries",imgSrc:"https://placehold.co/413x260",title:b?v.t("Get up to speed at lightning speed"):"",subtitle:b?v.t("With unlimited message history and AI channel summaries."):""},{key:"external_partners",imgSrc:"https://placehold.co/413x260",title:b?v.t("Work with external partners"):"",subtitle:b?v.t("Create channels and direct message with external people."):"",altText:""},{key:"unlimited_app_integrations",imgSrc:"https://placehold.co/413x260",title:b?v.t("Make every integration seamless"):"",subtitle:b?v.t("Get unlimited apps so your team never misses a beat."):"",altText:""},{key:"slack_ai_huddles_notes",imgSrc:"https://placehold.co/413x260",title:b?v.t("Group meetings with instant notes"):"",subtitle:b?v.t("Hop on group calls in channel and leave the note-taking to AI."):"",altText:""}],"getProFeatures"),x=(0,t.useMemo)(()=>{if(!I&&C)return{text:v.t("Upgrade Now"),url:(0,g.Qn)({team:O,productId:K,excludeDomain:!0,entryPoint:M})};if(I&&C){const Y=(0,g.tc)({team:O,promoType:P,promoSubtype:S,entryPoint:M});return{text:v.t("Try Pro for Free"),url:Y}}},[C,M,I,K,S,P,O]),B=v.t("Compare Plans");let F=v.rt("Explore the premium features of our most popular plan for free with a 30 day trial. After that, you\u2019ll be charged {formattedPrice} per person per month.",{formattedPrice:(0,l.A)(R,N)});(!I||!C)&&(F=v.rt("Get the premium features of our most popular plan for {formattedPrice} per person per month",{formattedPrice:(0,l.A)(R,N)}));let V=v.t("Try Pro for 30 days");return(!I||!C)&&(V=v.t("Do more with Slack Pro")),t.createElement(a.m,{autoClogProps:D,title:V,subtitle:F,secondaryCTA:B,secondaryCTAOnClick:k,primaryCTA:x,features:U(),entryPoint:M})},"ProTrialsEntryPointModal");h.displayName="ProTrialsEntryPointModal";const f=(0,r.Ay)("Open Auto Charge Trial entry modal",async(y,I,C)=>{let{promoType:D,promoSubtype:M,entryPoint:P}=C;const S=(0,A.k)(I()),{isEligible:b}=await y((0,i.A)({campaignType:D,campaignSubType:M,reason:"auto_charge_trial_entry"}));if(S){const O=(0,n.X)(I());return y((0,u.q)({element:t.createElement(h,{isEligibleForTrial:b,canUserPurchase:O,entryPoint:P,promoType:D,promoSubtype:M})}))}return y((0,u.q)({element:t.createElement(s.J,{entryPoint:P||"auto_charge_trial_entry_point",isEligibleForTrial:b,promoType:D,promoSubtype:M})}))});f.meta={name:"createThunk",key:"createThunkopenAutoChargeTrialEntryModal",description:"Open Auto Charge Trial entry modal"}},398781533:(W,T,e)=>{"use strict";e.d(T,{Q:()=>_});var t=e(6304789565),s=e(962959561),n=e(56548687),r=e(1224315998),u=e(5773584938),i=e(1384076438),o=e(4761125736),a=e(8847766420);const _=(0,t.Ay)("Maybe try logging exposure after checking eligibility",async(l,p,g)=>{if(!(0,s.aJ)({campaignType:g==null?void 0:g.campaignType,campaignSubType:g==null?void 0:g.campaignSubType}))return;const{isEligible:c}=await l((0,i.A)(g)),E=p(),A=(0,a.ZT)(E);if(!c&&!(0,s.L9)(E,!0))return;const d=(0,n.e)({state:E}),v=(0,o.KK)(E,"paid_feature_trial_auto_charge");d.track(r.EventId.NEWXP_TEAM_CREATE,{contents:{ui_context:{step_variant:v==null?void 0:v.group,ui_step:g.entryPoint,ui_component_variant:A,ui_properties:{element_name:"autocharge_exposure_clog",element_value:`${g==null?void 0:g.campaignType}-${g==null?void 0:g.campaignSubType}`},action:r.UiAction.IMPRESSION}},assignment:v,exposureEntryPoint:g.entryPoint,campaignType:g==null?void 0:g.campaignType,campaignSubType:g==null?void 0:g.campaignSubType,team_id:A}),l((0,u.Fg)())});_.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposureAndCheck",description:"Maybe try logging exposure after checking eligibility"}},6822097892:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(7307560139),s=e(2346425530),n=e(9629572172),r=e(3193155968),u=e(6078549397),i=e(5033667e3),o=e(7429662208),a=e(9108490430),_=e(6304789565);const l=(0,_.Ay)("Open a document on a specific version",async(g,c,E,A)=>{const{fileId:d,windowId:v,version:h,isFromCloseActivityHistory:f,replaceHistoryState:y}=E,I=c(),{versionId:C,sequence:D}={...h};if(!d)return;const{isMainWindow:M,closeView:P,getViewSet:S}=A(n.U),b=(0,o.e6)(I),O=(0,s.xu)(I,v),{versionId:L,sequence:k}={...O},K=f?void 0:C||L,N=f?void 0:D||k;if(f||g((0,t.fw)({windowId:v,versionId:C||L})),y){const R=M?S(I):(0,o.hZ)(I,{windowId:v});if(R){const U=R[r.mq.Primary];if(U){const x={...R,[r.mq.Primary]:{...R[r.mq.Primary],params:{...U.params,versionId:K,sequence:N}}};g(M?(0,i.A)({windowId:r.N2,tab:b,viewSet:x}):(0,i.A)({childWindowId:v.toString(),viewSet:x}))}}}else{const R={id:(0,u.Lo)({id:d}),versionId:K,sequence:N,preserveExistingSecondaryView:!f};g(M?(0,a.IZ)({windowId:r.N2,tab:b,container:r.mq.Primary,params:R}):(0,a.IZ)({childWindowId:v.toString(),container:r.mq.Primary,params:R})),f&&P(r.mq.Secondary)}f&&g((0,t.NA)({windowId:v}))});l.meta={name:"createThunk",key:"createThunkopenDocVersion",description:"Open a document on a specific version"};const p=l},7115106069:(W,T,e)=>{"use strict";e.d(T,{Bi:()=>n,d0:()=>u,oj:()=>r});var t=e(3009309149);const s=(0,t.Ay)(i=>i==null?void 0:i.quipDocEmbeds);s.meta={name:"createSelector",key:"createSelectorgetQuipDocEmbedsStoreState",description:i=>i==null?void 0:i.quipDocEmbeds};const n=(0,t.Ay)(i=>{const o=s(i);return o&&Object.keys(o).length>0});n.meta={name:"createSelector",key:"createSelectorisSpaceOpen",description:i=>{const o=s(i);return o&&Object.keys(o).length>0}};const r=(0,t.Ay)(i=>{const o=s(i);return Object.keys(o)});r.meta={name:"createSelector",key:"createSelectorgetOpenSpaces",description:i=>{const o=s(i);return Object.keys(o)}};const u=(0,t.Ay)((i,o)=>{const a=s(i);var _;return((_=a[o])!==null&&_!==void 0?_:0)>0});u.meta={name:"createSelector",key:"createSelectorisSpaceOpenForThreadId",description:(i,o)=>{const a=s(i);var _;return((_=a[o])!==null&&_!==void 0?_:0)>0}}},4368281601:(W,T,e)=>{"use strict";e.d(T,{Kt:()=>a,al:()=>i,jw:()=>u,k:()=>s,uo:()=>n,yw:()=>r,z5:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Store/replace client.counts for this channel");s.meta={name:"createAction",key:"createActionsetQuipUnreadCount",description:"Store/replace client.counts for this channel"};const n=(0,t.Ay)("increment mention count for the channel");n.meta={name:"createAction",key:"createActionincQuipUnreadCountForChannel",description:"increment mention count for the channel"};const r=(0,t.Ay)("decrement mention count for the channel");r.meta={name:"createAction",key:"createActiondecQuipUnreadCountForChannel",description:"decrement mention count for the channel"};const u=(0,t.Ay)("Add canvases to hide on undo");u.meta={name:"createAction",key:"createActionsetCanvasesToHideOnClearAll",description:"Add canvases to hide on undo"};const i=(0,t.Ay)("clear new mention flag for the channel");i.meta={name:"createAction",key:"createActionclearNewMentionFlagForChannel",description:"clear new mention flag for the channel"};const o=(0,t.Ay)("Set the list of enterprise file channels (canvases) to exclude from total counts");o.meta={name:"createAction",key:"createActionsetCanvasesToSuppress",description:"Set the list of enterprise file channels (canvases) to exclude from total counts"};const a=(0,t.Ay)("Set the last seen timestamp for a badged canvas animation");a.meta={name:"createAction",key:"createActionsetLastSeenCanvasAnimationTimestamp",description:"Set the last seen timestamp for a badged canvas animation"}},8096107629:(W,T,e)=>{"use strict";e.d(T,{CK:()=>R,D1:()=>D,Eh:()=>S,F3:()=>h,FB:()=>k,H9:()=>N,Mo:()=>K,Ss:()=>y,Yo:()=>M,_s:()=>O,ez:()=>I,ff:()=>U,pV:()=>g,x6:()=>b});var t=e(3037015781),s=e(8352634987),n=e(1545824888),r=e(6533394955),u=e(3398586081),i=e(9692760785),o=e(2823938397),a=e(7217613594),_=e(8872900367);const l="records",p=60*10;function g(x){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.c.RecordNotFound;return{...(0,o.WQ)(x),error:B}}m(g,"makeNonExistentRecord");function c(x){let B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.c.UnsupportedObject,F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return{...(0,o.WQ)(x),error:B,salesforceUrl:F}}m(c,"makeUnsupportedRecord");async function E(x,B,F,V){try{return(await(0,r.Qw)(x,(0,a.H)({record:B,reason:"record-detail-conditional-fetch",layoutType:F,fallbackLayoutType:V,mode:"Edit"}))).record}catch(w){if(w.name===a.c.UnsupportedObject){var Y;return c(B,w.name,(Y=w.data)===null||Y===void 0?void 0:Y.salesforce_url)}return g(B,w.name)}}m(E,"fetchRecordDetailForTeamId");function A(x,B,F,V){return n.S.map(B,Y=>E(x,Y,F,V))}m(A,"fetchRecordDetailsForTeamId");function d(x,B,F,V){(0,r.Qw)(x,(0,i.aR)(B.map(Y=>({id:Y.id,layoutType:F,fallbackLayoutType:V,record:Y}))))}m(d,"upsertRecords");const v=m((x,B,F,V)=>A(x,B,F,V).then(Y=>d(x,Y,F,V)),"fetchAndUpsertKnownRecords"),h=m((x,B,F,V)=>E(x,B,F,V).then(Y=>(d(x,[Y],F,V),Y)),"fetchAndUpsertKnownRecord"),f=(0,u.A)((x,B)=>new s.Ay({storeKey:"recordDetails",maxAge:()=>p,metricsName:l,fetch:(F,V)=>v(F,V,x,B)})),y=(0,u.A)((x,B)=>new t.Ay({fetch:(F,V)=>A(F,V,x,B),upsertNonExistent:(F,V)=>d(F,V,x,B),upsertKnown:(F,V)=>{d(F,V,x,B);const Y=V.filter(o.uz).map(w=>w.id);f(x,B).markObjectsAsFresh(F,Y)}})),I=m(function(x,B){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.p.RecordCrud,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.X.Full;return f(F,V).maybeRefetch(x,B)},"maybeRefetch"),C=m(function(x,B){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:FallbackLayoutType.Full;return f(F,V).markObjectsAsFresh(x,B)},"markObjectsAsFresh"),D=m(function(x,B){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.p.RecordCrud,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:_.X.Full;return f(F,V).markObjectsAsStale(x,B)},"markObjectsAsStale"),M=m((x,B)=>{Object.keys(_.p).forEach((F,V)=>Object.keys(_.X).forEach((Y,w)=>f(F,Y).markObjectsAsStale(x,B)))},"markObjectsAsStaleForAllLayoutTypes"),P=m(function(x,B){let F=arguments.length>2&&arguments[2]!==void 0?arguments[2]:LayoutType.RecordCrud,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:FallbackLayoutType.Full;return f(F,V).isObjectFresh(x,B)},"isObjectFresh");function S(x){return(0,o.mX)(x)}m(S,"isUnknownRecord");function b(x){return(0,o.lv)(x)}m(b,"isNonExistentRecord");function O(x){return(0,o.uz)(x)}m(O,"isExistentRecord");function L(x){return B=>b(B)&&(B==null?void 0:B.error)===x}m(L,"createRecordErrorHelper");const k=L(a.c.RecordNotFound),K=L(a.c.TokenNotFound),N=L(a.c.InsufficientRecordAccess),R=L(a.c.SalesHomeUserConfigNotFound),U=L(a.c.UnsupportedObject)},7045654828:(W,T,e)=>{"use strict";e.d(T,{Of:()=>l,P9:()=>c,PQ:()=>_,VY:()=>g});var t=e(3009309149),s=e(8847766420),n=e(8096107629),r=e(6790819894),u=e(5332109660),i=e(8872900367);const o=Object.freeze((0,n.pV)("INVALID_RECORD_ID"));function a(E,A){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i.p.RecordCrud,h=arguments.length>4&&arguments[4]!==void 0?arguments[4]:i.X.Full;var f,y,I,C;const D=(0,s.JY)(E)||"",M=A&&((f=E.recordDetails)===null||f===void 0||(y=f.records)===null||y===void 0||(I=y[A])===null||I===void 0||(C=I[v])===null||C===void 0?void 0:C[h]);return M?((0,n.ez)(D,A,v,h),M):A&&d?(0,n.Ss)(v,h).fetchObjectWithId(D,A):d?o:null}m(a,"getRecordDetailByIdSelector");const _=(0,t.Ay)(a);_.meta={name:"createSelector",key:"createSelectorgetRecordDetailById",description:a};const l=(0,r.F)(E=>E.recordDetails.records,(E,A)=>A,(E,A)=>Object.keys(E).filter(d=>(0,u.D)(d).salesforceOrgId===A));function p(E,A){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:i.p.RecordCrud,v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:i.X.Full;var h,f,y,I;return A?(h=E.recordDetails)===null||h===void 0||(f=h.lastRecordUpserts)===null||f===void 0||(y=f[A])===null||y===void 0||(I=y[d])===null||I===void 0?void 0:I[v]:void 0}m(p,"getLastRecordUpsertSelector");const g=(0,t.Ay)(p);g.meta={name:"createSelector",key:"createSelectorgetLastRecordUpsert",description:p};const c=(0,t.Ay)(E=>E.recordDetails.recordChannelAllowedObjects);c.meta={name:"createSelector",key:"createSelectorgetRecordChannelAllowedObjects",description:E=>E.recordDetails.recordChannelAllowedObjects}},8942756594:(W,T,e)=>{"use strict";e.d(T,{AV:()=>h,KH:()=>d,RN:()=>p,iq:()=>v});var t=e(6839188756),s=e(5510392579),n=e(3009309149),r=e(6304789565),u=e(6209625934),i=e(4761125736),o=e(5597672932),a=e(3677514771);const _=(0,n.Ay)(f=>(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1));_.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesGetAssignment",description:f=>(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1)};const l=(0,n.Ay)(f=>(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1)==="control");l.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsControl",description:f=>(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1)==="control"};const p=(0,n.Ay)(f=>(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1)==="treatment");p.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsTreatment",description:f=>(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1)==="treatment"};const g=(0,n.Ay)(f=>{var y;return["treatment"].includes((y=(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&y!==void 0?y:"")});g.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsAnyTreatment",description:f=>{var y;return["treatment"].includes((y=(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&y!==void 0?y:"")}};const c=(0,n.Ay)(f=>l(f)||g(f));c.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsExposed",description:f=>l(f)||g(f)};const E=(0,n.Ay)(f=>{var y;return["aa_control","aa_treatment"].includes((y=(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&y!==void 0?y:"")});E.meta={name:"createSelector",key:"createSelectorboostBusPlusAwarenessAndUpgradesIsAAExposed",description:f=>{var y;return["aa_control","aa_treatment"].includes((y=(0,i._Z)(f,"boost_bus_plus_awareness_and_upgrades",!1))!==null&&y!==void 0?y:"")}};const A=m(f=>{const y=(0,i.KK)(f,"boost_bus_plus_awareness_and_upgrades");y&&y.log_exposures&&(0,u.K)("boost_bus_plus_awareness_and_upgrades",y,f)},"boostBusPlusAwarenessAndUpgradesLogExposure"),d=(0,r.Ay)("Log exposure for the boost_bus_plus_awareness_and_upgrades experiment if it is exposed",(f,y)=>{const I=y();(c(I)||E(I))&&A(I)});d.meta={name:"createThunk",key:"createThunkboostBusPlusAwarenessAndUpgradesMaybeLogExposure",description:"Log exposure for the boost_bus_plus_awareness_and_upgrades experiment if it is exposed"};const v=(0,n.Ay)(f=>{const y=(0,t.ZT)((0,a.H7)(f));return(0,s.Zo)(f,y)&&!(0,t.r7)((0,a.H7)(f))&&(0,t.qR)((0,a.H7)(f))});v.meta={name:"createSelector",key:"createSelectorisEligibleForBoostBusPlusExperience",description:f=>{const y=(0,t.ZT)((0,a.H7)(f));return(0,s.Zo)(f,y)&&!(0,t.r7)((0,a.H7)(f))&&(0,t.qR)((0,a.H7)(f))}};const h=(0,n.Ay)(f=>{const y=(0,o.xp)(f,"was_treatment_for_boost_bus_plus_awareness_and_upgrades");return v(f)&&(p(f)||y)});h.meta={name:"createSelector",key:"createSelectorshouldSeeAdminTabRailItem",description:f=>{const y=(0,o.xp)(f,"was_treatment_for_boost_bus_plus_awareness_and_upgrades");return v(f)&&(p(f)||y)}}},117899263:(W,T,e)=>{"use strict";e.d(T,{_:()=>n});var t=e(3009309149),s=e(1960898919);const n=(0,t.Ay)(r=>{var u;return(u=(0,s.ax)(r,"is_new_human"))!==null&&u!==void 0?u:!1});n.meta={name:"createSelector",key:"createSelectorisNewHuman",description:r=>{var u;return(u=(0,s.ax)(r,"is_new_human"))!==null&&u!==void 0?u:!1}}},5773584938:(W,T,e)=>{"use strict";e.d(T,{Fg:()=>p,Ii:()=>o});var t=e(3009309149),s=e(6304789565),n=e(6209625934),r=e(4761125736);const u=(0,t.Ay)(g=>(0,r._Z)(g,"paid_feature_trial_auto_charge",!1));u.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeGetAssignment",description:g=>(0,r._Z)(g,"paid_feature_trial_auto_charge",!1)};const i=(0,t.Ay)(g=>(0,r._Z)(g,"paid_feature_trial_auto_charge",!1)==="control");i.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsControl",description:g=>(0,r._Z)(g,"paid_feature_trial_auto_charge",!1)==="control"};const o=(0,t.Ay)(g=>(0,r._Z)(g,"paid_feature_trial_auto_charge",!1)==="treatment");o.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsTreatment",description:g=>(0,r._Z)(g,"paid_feature_trial_auto_charge",!1)==="treatment"};const a=(0,t.Ay)(g=>{var c;return["treatment"].includes((c=(0,r._Z)(g,"paid_feature_trial_auto_charge",!1))!==null&&c!==void 0?c:"")});a.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsAnyTreatment",description:g=>{var c;return["treatment"].includes((c=(0,r._Z)(g,"paid_feature_trial_auto_charge",!1))!==null&&c!==void 0?c:"")}};const _=(0,t.Ay)(g=>i(g)||a(g));_.meta={name:"createSelector",key:"createSelectorpaidFeatureTrialAutoChargeIsExposed",description:g=>i(g)||a(g)};const l=m(g=>{const c=(0,r.KK)(g,"paid_feature_trial_auto_charge");c&&c.log_exposures&&(0,n.K)("paid_feature_trial_auto_charge",c,g)},"paidFeatureTrialAutoChargeLogExposure"),p=(0,s.Ay)("Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed",(g,c)=>{_(c())&&l(c())});p.meta={name:"createThunk",key:"createThunkpaidFeatureTrialAutoChargeMaybeLogExposure",description:"Log exposure for the paid_feature_trial_auto_charge experiment if it is exposed"}},9623497342:(W,T,e)=>{"use strict";e.d(T,{$J:()=>o,E5:()=>g});var t=e(3009309149),s=e(6304789565),n=e(6209625934),r=e(4761125736);const u=(0,t.Ay)(c=>(0,r._Z)(c,"pnp_go",!1));u.meta={name:"createSelector",key:"createSelectorpnpGoGetAssignment",description:c=>(0,r._Z)(c,"pnp_go",!1)};const i=(0,t.Ay)(c=>(0,r._Z)(c,"pnp_go",!1)==="control");i.meta={name:"createSelector",key:"createSelectorpnpGoIsControl",description:c=>(0,r._Z)(c,"pnp_go",!1)==="control"};const o=(0,t.Ay)(c=>(0,r._Z)(c,"pnp_go",!1)==="treatment");o.meta={name:"createSelector",key:"createSelectorpnpGoIsTreatment",description:c=>(0,r._Z)(c,"pnp_go",!1)==="treatment"};const a=(0,t.Ay)(c=>{var E;return["treatment"].includes((E=(0,r._Z)(c,"pnp_go",!1))!==null&&E!==void 0?E:"")});a.meta={name:"createSelector",key:"createSelectorpnpGoIsAnyTreatment",description:c=>{var E;return["treatment"].includes((E=(0,r._Z)(c,"pnp_go",!1))!==null&&E!==void 0?E:"")}};const _=(0,t.Ay)(c=>i(c)||a(c));_.meta={name:"createSelector",key:"createSelectorpnpGoIsExposed",description:c=>i(c)||a(c)};const l=(0,t.Ay)(c=>{var E;return["aa_control","aa_treatment"].includes((E=(0,r._Z)(c,"pnp_go",!1))!==null&&E!==void 0?E:"")});l.meta={name:"createSelector",key:"createSelectorpnpGoIsAAExposed",description:c=>{var E;return["aa_control","aa_treatment"].includes((E=(0,r._Z)(c,"pnp_go",!1))!==null&&E!==void 0?E:"")}};const p=m(c=>{const E=(0,r.KK)(c,"pnp_go");E&&E.log_exposures&&(0,n.K)("pnp_go",E,c)},"pnpGoLogExposure"),g=(0,s.Ay)("Log exposure for the pnp_go experiment if it is exposed",(c,E)=>{const A=E();(_(A)||l(A))&&p(A)});g.meta={name:"createThunk",key:"createThunkpnpGoMaybeLogExposure",description:"Log exposure for the pnp_go experiment if it is exposed"}},1803124141:(W,T,e)=>{"use strict";e.d(T,{k:()=>n});var t=e(3009309149),s=e(4761125736);const n=(0,t.Ay)(r=>(0,s._Z)(r,"pnp_two_go",!1)==="on");n.meta={name:"createSelector",key:"createSelectorpnpTwoGoIsOn",description:r=>(0,s._Z)(r,"pnp_two_go",!1)==="on"}},4719739515:(W,T,e)=>{"use strict";e.d(T,{i:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Adds a list of salesforce orgs to the store");s.meta={name:"createAction",key:"createActionupsertSalesforceOrgs",description:"Adds a list of salesforce orgs to the store"}},2032902007:(W,T,e)=>{"use strict";e.d(T,{Ob:()=>E,jt:()=>a,lF:()=>A,qp:()=>p});var t=e(8352634987),s=e(3037015781),n=e(7156798807),r=e(3398586081),u=e(6533394955),i=e(8480246703),o=e(4719739515);const a="SFDC_ORG_INFO_FETCH_ID";function _(d,v){(0,u.Qw)(d,(0,o.i)(v))}m(_,"upsertSalesforceOrgList");async function l(d){const v=await(0,u.Qw)(d,(0,i.k)({reason:"sfdc-org-info-conditional-fetch"}));return[{id:a,orgs:(0,n.A)(v.salesforce_orgs,"id")}]}m(l,"fetchSalesforceOrgList");function p(d){return l(d).then(v=>((0,u.Qw)(d,(0,o.i)(v)),v))}m(p,"fetchAndUpsertSalesforceOrgList");const g=(0,r.A)(()=>new t.Ay({fetch:p,metricsName:"sfdc-org-info",storeKey:"sfdcOrgInfo"})),c=(0,r.A)(()=>new s.Ay({fetch:l,upsertNonExistent:_,upsertKnown:(d,v)=>{_(d,v),g().markObjectsAsFresh(d,[a])}})),E=m(d=>{g().maybeRefetch(d,a)},"maybeRefetchSalesforceOrgs"),A=m(d=>c().fetchObjectWithId(d,a),"fetchSalesforceOrgs")},4158363050:(W,T,e)=>{"use strict";e.d(T,{Vb:()=>p,kO:()=>l,lH:()=>_});var t=e(3009309149),s=e(7732872146),n=e(8847766420),r=e(2823938397),u=e(2032902007);const i=Object.freeze((0,r.WQ)("INVALID_ORG_ID")),o=Object.freeze((0,r.WQ)("MISSING_ORG_ID"));function a(g){function c(E,A){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;const v=(0,n.JY)(E)||"",h=E.sfdcOrgInfo.orgInfos[u.jt];return h?((0,u.Ob)(v),A&&(0,r.uz)(h)&&g(h.orgs,A)||o):d?A?(0,u.lF)(v):i:null}return m(c,"getSalesforceOrgInfoInner"),(0,t.Ay)(c)}m(a,"createSalesforceOrgInfoSelector");const _=(0,t.Ay)(g=>g.sfdcOrgInfo.orgInfos[u.jt]);_.meta={name:"createSelector",key:"createSelectorgetSalesforceOrgInfos",description:g=>g.sfdcOrgInfo.orgInfos[u.jt]};const l=a((g,c)=>g[c]),p=a((g,c)=>Object.values(g).find(E=>(0,s.Ay)(E.instance_url).hostname===c))},9968803145:(W,T,e)=>{"use strict";e.d(T,{N:()=>s,t:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Updates the domains collection from the server");s.meta={name:"createAction",key:"createActionupdateSiwsDomains",description:"Updates the domains collection from the server"};const n=(0,t.Ay)("Clears any domains currently stored on the client side");n.meta={name:"createAction",key:"createActionclearSiwsDomains",description:"Clears any domains currently stored on the client side"}},8262898118:(W,T,e)=>{"use strict";e.d(T,{pf:()=>A,Ls:()=>E,ND:()=>p,pF:()=>g,w$:()=>c});var t=e(3009309149),s=e(3385422400),n=e(9113979368),r=e(9114759771),u=e(7732872146);function i(d,v){var h;if((0,n.A)(d))return{appId:void 0,domain:""};const f=(0,u.Ay)(d),y=(0,r.Ww)(f,!0),I=f.hostname,C=I||y;let D=v==null||(h=v.domains)===null||h===void 0?void 0:h[C];if(!D){var M;const P=Object.keys((M=v==null?void 0:v.wildcards)!==null&&M!==void 0?M:{}).find(S=>I.endsWith(`.${S}`));P&&(D=v.wildcards[P])}return{appId:D,domain:C}}m(i,"getSIWSLinkInfo");var o=e(5772992709);function a(d,v){if((0,n.A)(d))return!1;const h=(0,u.Ay)(d);return _(h,v)}m(a,"isSIWSLink");function _(d,v){var h;if(d.protocol!=="http:"&&d.protocol!=="https:"||(0,o.gU)(d))return!1;const f=(0,r.Ww)(d,!0);if(!d.hostname||!f)return!1;const y=d.hostname,I=y.length>f.length+1,C=!!(!(v==null||(h=v.domains)===null||h===void 0)&&h[y]);var D;const M=I&&Object.keys((D=v==null?void 0:v.wildcards)!==null&&D!==void 0?D:{}).some(P=>y.endsWith(`.${P}`));return C||M}m(_,"isParsedUrlSIWSLink");const l=(0,t.Ay)(d=>{var v;return d==null||(v=d.siwsDomains)===null||v===void 0?void 0:v.domainsCollection});l.meta={name:"createSelector",key:"createSelectorgetDomains",description:d=>{var v;return d==null||(v=d.siwsDomains)===null||v===void 0?void 0:v.domainsCollection}};const p=(0,t.Ay)((d,v)=>{var h;return(h=i(v,l(d)))===null||h===void 0?void 0:h.appId});p.meta={name:"createSelector",key:"createSelectorselectSIWSLinkAppId",description:(d,v)=>{var h;return(h=i(v,l(d)))===null||h===void 0?void 0:h.appId}};const g=(0,t.Ay)((d,v)=>{var h;return(h=i(v,l(d)))===null||h===void 0?void 0:h.domain});g.meta={name:"createSelector",key:"createSelectorselectSIWSLinkDomain",description:(d,v)=>{var h;return(h=i(v,l(d)))===null||h===void 0?void 0:h.domain}};const c=(0,t.Ay)((d,v)=>a(v,l(d)));c.meta={name:"createSelector",key:"createSelectorselectURLIsSIWSLink",description:(d,v)=>a(v,l(d))};const E=(0,t.Ay)((d,v)=>_(v,l(d)));E.meta={name:"createSelector",key:"createSelectorselectParsedURLIsSIWSLink",description:(d,v)=>_(v,l(d))};const A=(0,s.Mz)(l,function(d){let{domains:v,wildcards:h}=d;const f=Object.entries(v).map(I=>{let[C,D]=I;return{appId:D,domain:C,isWildcard:!1}});return[...Object.entries(h).map(I=>{let[C,D]=I;return{appId:D,domain:C,isWildcard:!0}}),...f].reduce((I,C)=>({...I,[C.appId]:{domain:C.domain,isWildcard:C.isWildcard}}),{})})},4433296946:(W,T,e)=>{"use strict";e.d(T,{_:()=>o});var t=e(6304789565),s=e(6439846314),n=e(5257368278);const r=(0,n.A)("Get SIWS registered domains list",a=>a((0,s.apiCall)({args:{},method:"links.getDomains",reason:"siws-get-domains"})).then(_=>({cacheTs:_.domains_ts,domains:_.domains,wildcardDomains:_.wildcard_domains})));r.meta={name:"createFetcher",key:"createFetchergetDomains",description:"Get SIWS registered domains list"};const u=r;var i=e(9968803145);const o=(0,t.Ay)("Load remote domains into Redux",a=>{a(u()).then(_=>{let{cacheTs:l,domains:p,wildcardDomains:g}=_;const c=Date.now();a((0,i.N)({cacheTs:l,domains:p,lastGetDomainsTs:c,wildcardDomains:g}))})});o.meta={name:"createThunk",key:"createThunkloadDomains",description:"Load remote domains into Redux"}},4476913522:(W,T,e)=>{"use strict";e.d(T,{a:()=>c});var t=e(8086952004),s=e(12126472),n=e(6626377467),r=e(235108050),u=e(7530630315),i=e(5729325965),o=e(2240330919),a=e(1116859610),_=e(1545824888),l=e(6304789565),p=e(3110884894),g=e(2155512519);const c=(0,l.Ay)("gets thread replies from the API",(E,A,d)=>{const{channelId:v,threadTs:h,oldest:f,limit:y}=d;let I=d.latest;f===I&&I===d.threadTs&&(I=null);const C=(0,p.Iu)(v,h);return f&&I?_.S.all([E((0,g.$b)({channelId:v,threadTs:h,latest:I,limit:y})),E((0,g.$b)({channelId:v,threadTs:h,oldest:f,limit:y}))]).then(D=>{let[M,P]=D;const S=(0,t.A)(M.msgs,{ts:h})||(0,t.A)(P.msgs,{ts:h}),b=(0,s.A)(M.msgs,{ts:h}),O=(0,s.A)(P.msgs,{ts:h}),L=M.deleted,k=P.deleted,K=(0,n.A)(b.concat(O),"ts"),N=(0,r.A)((0,u.A)(L,k));!M.hasMore&&S&&K.unshift(S);const R=K.map(U=>U.ts);return E((0,a.A)({msgs:K,channelId:C,hasMore:{hasMoreStart:M.hasMore,hasMoreEnd:P.hasMore},oldest:(0,i.A)([f,(0,i.A)(R)]),latest:(0,o.A)([I,(0,o.A)(R)]),deleted:N})),{msgs:K}}):E((0,g.$b)({channelId:v,threadTs:h,oldest:f,latest:I,limit:y})).then(function(){let{msgs:D,deleted:M,hasMore:P}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const S=I&&!P||f===h||I===h||!f&&!I&&!P;let b=D;S||(b=(0,s.A)(D,{ts:h}));let O=P;!f&&!I&&(O={hasMoreStart:P,hasMoreEnd:!1}),E((0,a.A)({msgs:b,channelId:C,hasMore:O,oldest:f,latest:I,deleted:M}));const L=(0,t.A)(D,{ts:h});return L&&f===h&&E((0,a.A)({msgs:[L],channelId:C,hasMore:!1,latest:h})),{msgs:b}})});c.meta={name:"createThunk",key:"createThunkrequestReplies",description:"gets thread replies from the API"}},1725276404:(W,T,e)=>{"use strict";e.d(T,{KU:()=>r,QG:()=>i,Ri:()=>u,ZG:()=>n,yO:()=>s});var t=e(2140362605);const s=(0,t.Ay)("Update to-dos counts in tab");s.meta={name:"createAction",key:"createActionupdateCounts",description:"Update to-dos counts in tab"};const n=(0,t.Ay)("updates the latest record id from which we received a `todo_due` rtm event");n.meta={name:"createAction",key:"createActionupdateLatestOverdueRecordId",description:"updates the latest record id from which we received a `todo_due` rtm event"};const r=(0,t.Ay)("set active tab in todos page");r.meta={name:"createAction",key:"createActionsetActiveTabInTodosByWindowId",description:"set active tab in todos page"};const u=(0,t.Ay)("Set search query for my todos");u.meta={name:"createAction",key:"createActionsetSearchQuery",description:"Set search query for my todos"};const i=(0,t.Ay)("Set record ids that should show up at the top of to-dos.");i.meta={name:"createAction",key:"createActionsetPinnedRecordIds",description:"Set record ids that should show up at the top of to-dos."}},1827030018:(W,T,e)=>{"use strict";e.d(T,{_:()=>a});var t=e(9746734072),s=e(5238395322),n=e(2101927269),r=e(7486305635),u=e(6304789565),i=e(9101533895),o=e(157328471);const a=(0,u.Ay)("Update the unread count for the all threads view",(_,l,p)=>{let{threadsHasUnreads:g,threadsUnreadCountByChannel:c,threadsMentionCountByChannel:E,threadsLastUpdatedTimestamp:A}=p;const d=(0,t.A)(E)?{}:E,v=l(),h=(0,s.A)((0,n.A)(d,(y,I)=>{const C=(0,i.OL)(v,I);return(0,r.WK)(v,C)&&!(0,r.fA)(v,C)}));let f=0;c?f=(0,s.A)((0,n.A)(c,(y,I)=>{const C=(0,i.OL)(v,I);return(0,r.WK)(v,C)})):f=g?1:0,_((0,o.LI)({threadsUnreadCount:f,threadsUnreadCountByChannel:c,threadsMentionCount:h,threadsMentionCountByChannel:d,threadsLastUpdatedTimestamp:A,suppressThreads:(0,r.dQ)(v)}))});a.meta={name:"createThunk",key:"createThunkthreadsUnreadCountChanged",description:"Update the unread count for the all threads view"}},9132245692:(W,T,e)=>{"use strict";e.d(T,{g:()=>s,y:()=>n});var t=e(2140362605);const s=(0,t.Ay)("Update unread counts for the specified user alert types");s.meta={name:"createAction",key:"createActionupdateUserAlertsUnreadCount",description:"Update unread counts for the specified user alert types"};const n=(0,t.Ay)("Reset the user alerts store to the specified alert counts map");n.meta={name:"createAction",key:"createActionresetAllUserAlertsUnreadCounts",description:"Reset the user alerts store to the specified alert counts map"}},2696160384:(W,T,e)=>{"use strict";e.d(T,{D_:()=>n,FI:()=>s,Sr:()=>r});var t=e(2140362605);const s=(0,t.Ay)("Sets whether the mini player is open or not");s.meta={name:"createAction",key:"createActionsetIsDocked",description:"Sets whether the mini player is open or not"};const n=(0,t.Ay)("Sets mini video player config");n.meta={name:"createAction",key:"createActionsetMiniPlayerConfig",description:"Sets mini video player config"};const r=(0,t.Ay)("Clears mini video player config");r.meta={name:"createAction",key:"createActionclearMiniPlayerConfig",description:"Clears mini video player config"}},1201539379:(W,T,e)=>{"use strict";e.d(T,{$t:()=>r,Fe:()=>l,KY:()=>i,SP:()=>s,hk:()=>n,iO:()=>_,ie:()=>u,mV:()=>o,yL:()=>a});var t=e(2140362605);const s=(0,t.Ay)("Set the user-specified sidebar width and mode (use setSidebarColumn instead)");s.meta={name:"createAction",key:"createActionsetSidebarColumnInternal",description:"Set the user-specified sidebar width and mode (use setSidebarColumn instead)"};const n=(0,t.Ay)("Set the user-specified wide sidebar width and mode (use setWideSidebarColumn instead)");n.meta={name:"createAction",key:"createActionsetSidebarWideColumnInternal",description:"Set the user-specified wide sidebar width and mode (use setWideSidebarColumn instead)"};const r=(0,t.Ay)("Set the user-specified extra wide sidebar width and mode (use setExtraWideSidebarColumn instead)");r.meta={name:"createAction",key:"createActionsetSidebarExtraWideColumnInternal",description:"Set the user-specified extra wide sidebar width and mode (use setExtraWideSidebarColumn instead)"};const u=(0,t.Ay)("Set the user-specified secondary width and mode (use setSecondaryColumn instead)");u.meta={name:"createAction",key:"createActionsetSecondaryColumnInternal",description:"Set the user-specified secondary width and mode (use setSecondaryColumn instead)"};const i=(0,t.Ay)("Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)");i.meta={name:"createAction",key:"createActionsetIsSidebarVisibleInternal",description:"Sets whether or not the sidebar is part of the grid layout at normal window sizes (use setIsSidebarVisible instead)"};const o=(0,t.Ay)("Sets whether or not the protype full rail workspace switcher is showing (use setIsWorkspaceSwitcherVisible thunk instead)");o.meta={name:"createAction",key:"createActionsetIsWorkspaceSwitcherVisibleInternal",description:"Sets whether or not the protype full rail workspace switcher is showing (use setIsWorkspaceSwitcherVisible thunk instead)"};const a=(0,t.Ay)("Set the user-specified split width and mode (use setSplitColumn instead)");a.meta={name:"createAction",key:"createActionsetSplitColumnInternal",description:"Set the user-specified split width and mode (use setSplitColumn instead)"};const _=(0,t.Ay)("Set the user-specified split width and mode (use setSplitAiAppsColumn instead)");_.meta={name:"createAction",key:"createActionsetSplitAiAppsColumnInternal",description:"Set the user-specified split width and mode (use setSplitAiAppsColumn instead)"};const l=(0,t.Ay)("Sets whether or not compact mode is enabled in the client (use toggleCompactModeEnabled thunk instead to persist the value)");l.meta={name:"createAction",key:"createActionsetCompactModeEnabledInternal",description:"Sets whether or not compact mode is enabled in the client (use toggleCompactModeEnabled thunk instead to persist the value)"}},9813790040:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(3750057149),s=e(9121100949),n=e(9139930183),r=e(1201539379),u=e(6803195599),i=e(9733150292);const o={persistenceEnabled:!1,storeKey:"viewLayout"},a={sidebarWidthIntent:void 0,sidebarWidthMode:u.tR.AUTO,sidebarWideWidthIntent:void 0,sidebarWideWidthMode:u.tR.AUTO,sidebarExtraWideWidthIntent:void 0,sidebarExtraWideWidthMode:u.tR.AUTO,secondaryWidthIntent:void 0,secondaryWidthMode:u.tR.AUTO,splitWidthIntent:void 0,splitWidthMode:u.tR.AUTO,splitAIAppsWidthIntent:void 0,splitAIAppsWidthMode:u.tR.AUTO,isSidebarVisible:u.fn,isSidebarVisibleWhenFloating:!1,isWorkspaceSwitcherVisible:!1,isCompactModeEnabled:!1};try{a.sidebarWidthIntent=(0,i.W6)(s.ke)||void 0,a.sidebarWideWidthIntent=(0,i.W6)(s.u1)||void 0,a.sidebarExtraWideWidthIntent=(0,i.W6)(s.jt)||void 0,a.secondaryWidthIntent=(0,i.W6)(s.gN)||void 0,a.sidebarWidthMode=(0,i.W6)(s.ts)||u.tR.AUTO,a.splitWidthIntent=(0,i.W6)(s.qD)||void 0,a.splitWidthMode=(0,i.W6)(s.$D)||u.tR.AUTO,a.splitAIAppsWidthIntent=(0,i.W6)(s.kU)||void 0,a.splitAIAppsWidthMode=(0,i.W6)(s.f9)||u.tR.AUTO,a.sidebarWidthMode=(0,i.W6)(s.ts)||u.tR.AUTO,a.sidebarWideWidthMode=(0,i.W6)(s.r1)||u.tR.AUTO,a.sidebarExtraWideWidthMode=(0,i.W6)(s.OR)||u.tR.AUTO,a.secondaryWidthMode=(0,i.W6)(s.Ts)||u.tR.AUTO;const p=(0,i.W6)(s.jG);a.isSidebarVisible=(0,t.A)(p)?p:u.fn;const g=(0,i.W6)(s.WU);a.isWorkspaceSwitcherVisible=(0,t.A)(g)?g:!1;const c=(0,i.W6)(s.RC);a.isCompactModeEnabled=(0,t.A)(c)?c:!1}catch{}const l=(0,n.Ay)({},a,o).on(r.SP,(p,g)=>{let{sidebarWidthIntent:c,sidebarWidthMode:E}=g;return{...p,sidebarWidthIntent:c,sidebarWidthMode:E}}).on(r.hk,(p,g)=>{let{sidebarWideWidthIntent:c,sidebarWideWidthMode:E}=g;return{...p,sidebarWideWidthIntent:c,sidebarWideWidthMode:E}}).on(r.$t,(p,g)=>{let{sidebarExtraWideWidthIntent:c,sidebarExtraWideWidthMode:E}=g;return{...p,sidebarExtraWideWidthIntent:c,sidebarExtraWideWidthMode:E}}).on(r.ie,(p,g)=>{let{secondaryWidthIntent:c,secondaryWidthMode:E}=g;return{...p,secondaryWidthIntent:c,secondaryWidthMode:E}}).on(r.yL,(p,g)=>{let{splitWidthIntent:c,splitWidthMode:E}=g;return{...p,splitWidthIntent:c,splitWidthMode:E}}).on(r.iO,(p,g)=>{let{splitAIAppsWidthIntent:c,splitAIAppsWidthMode:E}=g;return{...p,splitAIAppsWidthIntent:c,splitAIAppsWidthMode:E}}).on(r.KY,(p,g)=>({...p,isSidebarVisible:g})).on(r.mV,(p,g)=>({...p,isWorkspaceSwitcherVisible:g})).on(r.Fe,(p,g)=>({...p,isCompactModeEnabled:g}))},8707579690:(W,T,e)=>{"use strict";e.d(T,{J:()=>i});var t=e(9121100949),s=e(6304789565),n=e(1201539379),r=e(7384121809),u=e(9733150292);const i=(0,s.Ay)("Set the user-specified secondary width and mode",(o,a,_)=>{let{secondaryWidthIntent:l,secondaryWidthMode:p}=_;(0,u.q9)(t.gN,l),(0,u.q9)(t.Ts,p),o((0,n.ie)({secondaryWidthIntent:l,secondaryWidthMode:p})),(0,r.dispatchForClientStore)((0,n.ie)({secondaryWidthIntent:l,secondaryWidthMode:p}))});i.meta={name:"createThunk",key:"createThunksetSecondaryColumn",description:"Set the user-specified secondary width and mode"}},2779520532:(W,T,e)=>{"use strict";e.d(T,{R:()=>i});var t=e(9121100949),s=e(6304789565),n=e(1201539379),r=e(7384121809),u=e(9733150292);const i=(0,s.Ay)("Set the user-specified sidebar width and mode",(o,a,_)=>{let{sidebarWidthIntent:l,sidebarWidthMode:p}=_;(0,u.q9)(t.ke,l),(0,u.q9)(t.ts,p),o((0,n.SP)({sidebarWidthIntent:l,sidebarWidthMode:p})),(0,r.dispatchForClientStore)((0,n.SP)({sidebarWidthIntent:l,sidebarWidthMode:p}))});i.meta={name:"createThunk",key:"createThunksetSidebarColumn",description:"Set the user-specified sidebar width and mode"}},7128275929:(W,T,e)=>{"use strict";e.d(T,{a:()=>i});var t=e(9121100949),s=e(6304789565),n=e(1201539379),r=e(7384121809),u=e(9733150292);const i=(0,s.Ay)("Set the user-specified extra wide sidebar width and mode",(o,a,_)=>{let{sidebarExtraWideWidthIntent:l,sidebarExtraWideWidthMode:p}=_;(0,u.q9)(t.jt,l),(0,u.q9)(t.OR,p),o((0,n.$t)({sidebarExtraWideWidthIntent:l,sidebarExtraWideWidthMode:p})),(0,r.dispatchForClientStore)((0,n.$t)({sidebarExtraWideWidthIntent:l,sidebarExtraWideWidthMode:p}))});i.meta={name:"createThunk",key:"createThunksetSidebarExtraWideColumn",description:"Set the user-specified extra wide sidebar width and mode"}},9341298:(W,T,e)=>{"use strict";e.d(T,{q:()=>i});var t=e(9121100949),s=e(6304789565),n=e(1201539379),r=e(7384121809),u=e(9733150292);const i=(0,s.Ay)("Set the user-specified wide sidebar width and mode",(o,a,_)=>{let{sidebarWideWidthIntent:l,sidebarWideWidthMode:p}=_;(0,u.q9)(t.u1,l),(0,u.q9)(t.r1,p),o((0,n.hk)({sidebarWideWidthIntent:l,sidebarWideWidthMode:p})),(0,r.dispatchForClientStore)((0,n.hk)({sidebarWideWidthIntent:l,sidebarWideWidthMode:p}))});i.meta={name:"createThunk",key:"createThunksetSidebarWideColumn",description:"Set the user-specified wide sidebar width and mode"}},9938554271:(W,T,e)=>{"use strict";e.d(T,{A:()=>c});var t=e(352142497),s=e(8834730594),n=e(2960290117),r=e(8040098042),u=e(1826991857),i=e(4862221402);const o=m(E=>!!(E!=null&&E.includes(t.D.SalesCreateRecord)),"looksLikeSalesforceRecordCreateId");var a=e(6471801899),_=e(8813411026),l=e(8414867410);const p={activity:t.D.ActivityList,threads:t.D.Threads,rimeto_profile:t.D.Profile,files:t.D.FileDetails,help:t.D.Help,shortcuts:t.D.KeyboardShortcuts,whats_new:t.D.WhatsNew,feedback:t.D.Feedback,comment_thread:t.D.QuipCommentThread,comment_stream:t.D.QuipCommentStream,activity_history:t.D.QuipActivityHistory,quip_automations_overview:t.D.QuipAutomationsOverview,channel_canvas:t.D.ChannelCanvas,thread:t.D.Thread,ai_summary_details:t.D.AiSummaryDetails,search_summary:t.D.SearchSummary,channel_files:t.D.ChannelFiles,ai_app:t.D.AiApp,about_ai_app:t.D.AboutAiApp,multi_turn_search:t.D.MultiTurnSearch,workflow_details:t.D.WorkflowDetails,list_record:t.D.ListRecord,record:t.D.Record},c=m(E=>E?(0,s.A)(E)?t.D.AppSpace:(0,n.Ay)(E)?t.D.Canvas:(0,r.A)(E)?t.D.Channel:(0,a.pI)(E)?t.D.List:(0,a.or)(E)?t.D.ListRecord:(0,_.T)(E)?(0,l.F8)(E):E&&E[0]==="V"?t.D.Threads:(0,u.A)(E)?t.D.Thread:(0,i.A)(E)?t.D.UserGroup:o(E)?t.D.SalesCreateRecord:E===t.D.BrowseCanvases?E:p[E]?p[E]:t.D.Unknown:t.D.Unknown,"convertIdToViewType")},9936094925:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>d,cB:()=>c,ds:()=>g,w9:()=>E,wg:()=>p});var t=e(9113979368),s=e(498506970),n=e(1618349278),r=e(1649982175),u=e(9139930183),i=e(3193155968),o=e(7590914282);const a=100,_={},l={persistenceEnabled:!1,storeKey:"windowHistory"};function p(v){let{windowState:h,entry:f}=v;const y=h?h.stack:[],I=(0,t.A)(y)?null:1;return{stack:[(0,s.A)(f)].concat(y).slice(0,a),index:0,previousIndex:I}}m(p,"handlePushHistoryEntryForWindow");function g(v){let{windowState:h,index:f,previousIndex:y}=v;return{stack:h.stack,index:f,previousIndex:y}}m(g,"handleUpdateIndexForWindow");function c(v){let{windowState:h,index:f}=v;return{stack:(0,n.A)(h.stack,f),index:h.index,previousIndex:null}}m(c,"handlePopHistoryAboveIndexForWindow");function E(v){let{windowState:h,entry:f}=v;const y=[...h.stack];return y[h.index]=(0,s.A)(f),{...h,stack:y}}m(E,"handleReplaceCurrentHistoryEntryForWindowInternal");const d=(0,u.Ay)({},_,l).on(o.zA,(v,h)=>{let{windowId:f,entry:y}=h;return!f||!y?v:{...v,[f]:p({windowState:v[f],entry:y})}}).on(o.aV,(v,h)=>{let{windowId:f}=h;return(0,r.A)(v,f)}).on(o.Nr,(v,h)=>{let{windowId:f,index:y,previousIndex:I}=h;return{...v,[f]:g({windowState:v[f],index:y,previousIndex:I})}}).on(o.o1,(v,h)=>{let{windowId:f,entry:y}=h;return{...v,[f]:{stack:[(0,s.A)(y)],index:0,previousIndex:null}}}).on(o.s0,(v,h)=>{let{windowId:f,index:y}=h;return v[f]?{...v,[f]:c({windowState:v[f],index:y})}:v}).on(o.In,(v,h)=>{let{windowId:f,entry:y}=h;return v[f]?{...v,[f]:E({windowState:v[f],entry:y})}:v}).on(o.$Z,(v,h)=>{let{windowId:f,viewParams:y,index:I}=h;if(!v[f])return v;const D=[...v[f]?v[f].stack:[]];if(!D[I])return v;const{id:M,...P}=(0,s.A)(D[I]),S=P[i.mq.Primary];if(!(S!=null&&S.id))return v;const b={...P,[i.mq.Primary]:{...S,params:{...S.params,...y}}};return D[I]={id:M,...b},{...v,[f]:{...v[f],stack:D}}})},4256476552:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(9139930183),s=e(1780675971),n=e(3193155968);const r={[n.N2]:{isFocused:void 0,isUnloading:!1,timeCreation:0,timeLastBlurEvent:0,timeLastFocusEvent:0}},i=(0,t.Ay)({},r,{storeKey:"window",persistenceEnabled:!1}).on(s._p,(o,a)=>{let{windowId:_=n.N2,...l}=a;if(!o[_])return o;const p={[n.N2]:{...o[n.N2]}};return p[_]={...o[_],...l},Reflect.ownKeys(o).forEach(g=>{g!==_&&l.isFocused&&(p[g]={...o[g],isFocused:!1})}),{...o,...p}}).on(s.w3,(o,a)=>{let{windowId:_=n.N2,...l}=a;return o[_]?{...o,[_]:{...o[_],isUnloading:l.isUnloading}}:o}).on(s.d1,(o,a)=>{let{windowId:_=n.N2,...l}=a;return{...o,[_]:{...o[_],...l,windowId:_}}}).on(s.pb,(o,a)=>{let{windowId:_=n.N2,...l}=a;return o[_]?{...o,[_]:{...o[_],bootType:l.bootType}}:o}).on(s.jO,(o,a)=>{let{windowId:_}=a;if(_===n.N2||!o[_])return o;const l={...o};return delete l[_],l}).on(s.NV,(o,a)=>{let{windowId:_,viewport:l}=a;return o[_]?{...o,[_]:{...o[_],viewport:l}}:o})},3074155495:(W,T,e)=>{"use strict";e.d(T,{C$:()=>n,JA:()=>s,b8:()=>r});var t=e(2140362605);const s=(0,t.Ay)("Upsert work objects into the store");s.meta={name:"createAction",key:"createActionupsertWorkObjects",description:"Upsert work objects into the store"};const n=(0,t.Ay)("Update work object loading state");n.meta={name:"createAction",key:"createActionupdateWorkObjectLoading",description:"Update work object loading state"};const r=(0,t.Ay)("Update work object syncing state");r.meta={name:"createAction",key:"createActionupdateWorkObjectSyncing",description:"Update work object syncing state"}},9294306581:(W,T,e)=>{"use strict";e.d(T,{aY:()=>y,GD:()=>M,Ss:()=>S,BX:()=>L,WV:()=>O,nY:()=>b,mn:()=>k,Fy:()=>P});var t=e(3398586081),s=e(1545824888),n=e(3937186022),r=e(7650175331),u=e(7330016313),i=e(8352634987),o=e(3037015781),a=e(2823938397),_=e(6304789565),l=e(8847766420),p=e(6533394955),g=e(3074155495),c=e(4364890643),E=e(9329658981),A=e(8205955364);const d=(0,t.A)(K=>{try{return JSON.parse(K)}catch{return null}}),v="workObjects",h=25;function f(K){let N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:r.$.FunctionNotFound;return{...(0,a.WQ)(K),error:N}}m(f,"makeNonExistentWorkObject");const y=Object.freeze(f("INVALID_WORK_OBJECT_ID")),I=(0,_.Ay)("fetch work object details",async(K,N,R)=>{let{recordId:U,lookupFunction:x,channelId:B,entityUrl:F,messageTs:V,useLegacyUrl:Y}=R;K((0,g.C$)({isLoading:!0}));const w=N();if((!(0,n.yQ)(w)||!!Y)&&x)try{return{...(await K((0,r.i)({recordId:U,lookupFunction:x,reason:"work-objects-conditional-fetch"}))).entity,id:U}}catch(ne){return f(U,ne.name)}finally{K((0,g.C$)({isLoading:!1})),K((0,E.x)())}try{return await K((0,u.o)({reason:"work-objects-conditional-fetch",entityId:U,lookupFunction:x!=null&&x.inputs?x:void 0,channelId:B,entityUrl:F,messageTs:V})),setTimeout(()=>{const se=(0,c.a)(N(),U);se&&b(se)&&(K((0,g.JA)([f(U)])),K((0,g.b8)({isSynced:!1})),K((0,g.C$)({isLoading:!1})))},1e4),{id:U,isUnknown:!0}}catch(ne){return K((0,g.C$)({isLoading:!1})),f(U,ne.name)}});I.meta={name:"createThunk",key:"createThunkfetchWorkObject",description:"fetch work object details"};const C=m((K,N,R)=>s.S.map(N,U=>{var x,B;const F=(B=R==null||(x=R.paramsById)===null||x===void 0?void 0:x[U])!==null&&B!==void 0?B:{};var V;return(0,p.Qw)(K,I({...F,recordId:U,lookupFunction:(V=d(F.lookupFunction))!==null&&V!==void 0?V:void 0,useLegacyUrl:F.useLegacyUrl==="true"}))}),"fetchWorkObjectsForTeamId"),D=m((K,N)=>(0,p.Qw)(K,(0,g.JA)(N)),"upsertWorkObjects"),M=(0,t.A)(()=>new i.Ay({storeKey:"workObjects",maxAge:()=>h,metricsName:v,fetch:(K,N,R)=>C(K,N,R).then(U=>D(K,U))})),P=m((K,N)=>{const R=N.map(U=>U.id);M().markObjectsAsFresh(K,R),D(K,N)},"upsertWorkObjectsAndMarkAsFresh"),S=(0,t.A)(()=>new o.Ay({fetch:C,upsertNonExistent:P,upsertKnown:P}));function b(K){return(0,a.mX)(K)}m(b,"isUnknownWorkObject");function O(K){return(0,a.lv)(K)}m(O,"isNonExistentWorkObject");function L(K){return(0,a.uz)(K)}m(L,"isExistentWorkObject");const k=(0,_.Ay)("refresh work object details",async(K,N,R)=>{const U=N(),x=(0,l.ZT)(U);if(!x)return;const B=(0,A.l)(R,(0,n.CK)(U)),F=await K(I(B));P(x,[F])});k.meta={name:"createThunk",key:"createThunkrefreshWorkObject",description:"refresh work object details"}},4364890643:(W,T,e)=>{"use strict";e.d(T,{a:()=>s});var t=e(3009309149);const s=(0,t.Ay)((n,r)=>n.workObjects.workObjects[r]);s.meta={name:"createSelector",key:"createSelectordangerouslyGetWorkObjectById",description:(n,r)=>n.workObjects.workObjects[r]}},7057004528:(W,T,e)=>{"use strict";e.d(T,{Ne:()=>E,j_:()=>g,hA:()=>c});var t=e(3937186022),s=e(3009309149),n=e(8847766420),r=e(9294306581),u=e(4364890643),i=e(8205955364),o=e(3398586081),a=e(3259889889);const _=(0,o.A)(A=>{try{return(0,a.v)(A)?JSON.stringify(A):null}catch{return null}}),l=m(A=>{let{lookupFunction:d,useLegacyUrl:v,...h}=A;const f={...h},y=_(d);return y&&(f.lookupFunction=y),typeof v=="boolean"&&(f.useLegacyUrl=String(v)),f},"stringifyFetchParams");function p(A,d){const{recordId:v,lookupFunction:h,fetchIfMissing:f=!0,entityUrl:y}=d;if(!v||!h&&!y)return r.aY;const I=(0,u.a)(A,v),C=(0,n.JY)(A)||"",D=l((0,i.l)({...d,recordId:v},(0,t.CK)(A)));return I?((0,r.GD)().maybeRefetch(C,v,{params:D}),I):f?(0,r.Ss)().fetchObjectWithId(C,v,{params:D}):null}m(p,"getWorkObjectByIdSelector");const g=(0,s.Ay)(A=>A.workObjects.isLoading);g.meta={name:"createSelector",key:"createSelectorisWorkObjectFetching",description:A=>A.workObjects.isLoading};const c=(0,s.Ay)(A=>A.workObjects.isSynced);c.meta={name:"createSelector",key:"createSelectorisWorkObjectSynced",description:A=>A.workObjects.isSynced};const E=(0,s.Ay)(p);E.meta={name:"createSelector",key:"createSelectorgetWorkObjectById",description:p}},9329658981:(W,T,e)=>{"use strict";e.d(T,{Z:()=>r,x:()=>u});var t=e(4186058919),s=e(6304789565),n=e(3074155495);const r=(0,s.Ay)("Start Work Object OAuth flow",async(i,o,a)=>{let{appId:_,providerKey:l,authUrl:p,reason:g="start_oauth_flow"}=a,c=p;!c&&l&&(c=(await i((0,t.$)({appId:_,providerKey:l,reason:g}))).authorization_url),c&&window.open(c,"_blank","popup,noopener,noreferrer")});r.meta={name:"createThunk",key:"createThunkstartWorkObjectAuth",description:"Start Work Object OAuth flow"};const u=(0,s.Ay)("Show the work object in a synced state",(i,o)=>{i((0,n.b8)({isSynced:!0})),setTimeout(()=>i((0,n.b8)({isSynced:!1})),2e3)});u.meta={name:"createThunk",key:"createThunkshowTemporarySyncedStatus",description:"Show the work object in a synced state"}},8205955364:(W,T,e)=>{"use strict";e.d(T,{l:()=>s});var t=e(3259889889);const s=m((n,r)=>{let{channelId:u,entityUrl:i,lookupFunction:o,messageTs:a,useLegacyUrl:_,recordId:l}=n;const g={recordId:l,useLegacyUrl:_??!r};return(0,t.v)(o)?g.lookupFunction=o:i&&(g.entityUrl=i,a&&u&&(g.messageTs=a,g.channelId=u)),g},"buildWorkObjectFetchParams")},3259889889:(W,T,e)=>{"use strict";e.d(T,{v:()=>s});var t=e(3398586081);const s=(0,t.A)(n=>Boolean((n==null?void 0:n.functionId)&&(n==null?void 0:n.inputs)))},9083290776:(W,T,e)=>{"use strict";e.d(T,{K$:()=>s,fw:()=>n,xW:()=>r});var t=e(2140362605);const s=(0,t.Ay)("Sets the focused workspaces from the client-store");s.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspaces",description:"Sets the focused workspaces from the client-store"};const n=(0,t.Ay)("Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused");n.meta={name:"createAction",key:"createActionsetRecentlyFocusedWorkspacesTimestamps",description:"Sets an object where the key is a workspace id and the value is the timestamp reflecting the last time the workspace was focused"};const r=(0,t.Ay)("Sets the last tab for a given channel id");r.meta={name:"createAction",key:"createActionsetLastTabForChannelId",description:"Sets the last tab for a given channel id"}},7752506476:(W,T,e)=>{"use strict";e.d(T,{M:()=>u,r:()=>i});var t=e(4096483543);const s=["files","downloads","whats_new","shortcuts","details","apps"],n=["search_results","activity","notifications","reactions","starred_items","saved","directory","user_profile","app_profile","user_groups","channel_info","thread","pins","members","info","notification_prefs","highlights","shared_files","external_orgs","actions","inspect","workspaces","top","huddle","filespane","help","tile","rimeto_profile","story","feedback","docs","huddles_captions","messages","contact_profile","record","comments","history","ai_summary_details","channel_files"],r=["convo","groups","team","stars","mentions"],u=[...s,...(0,t.A)()?n:r],i={APP:"app",MESSAGES:"messages",ABOUT:"about",SETTINGS:"settings",CANVAS:"canvas"}},1116859610:(W,T,e)=>{"use strict";e.d(T,{A:()=>I});var t=e(2101927269),s=e(8840779375),n=e(3750057149),r=e(6304789565),u=e(9536404279),i=e(4350638406),o=e(10127715),a=e(3521202413),_=e(8847766420),l=e(3110884894),p=e(8040098042),g=e(6739248722),c=e(2791814261),E=e(5487781258),A=e(337319621),d=e(7578434623),v=e(1284885799),h=e(3528815215),f=e(9392104102);const y=(0,r.Ay)("Add messages from history",(C,D,M)=>{let{msgs:P,channelId:S,isLimited:b,latest:O,oldest:L,hasMore:k,loading:K,forceUnreadCount:N,deleted:R=[]}=M;const U=D(),x=(0,d.Cy)({getState:D});(0,c.L)(U)&&x.mark("rmsgs_addMessagesFromHistory");const B=(0,t.A)(P,w=>{const G=(0,g.k)(U,{channelId:S,ts:w.ts});return G&&(0,A.Ay)({getState:D}).warn(`Filtering out ${w.ts} in ${S} history response because it was deleted`),!G}),F=b?P.filter(w=>w.is_beyond_free_limit).map(w=>w.ts):f.Ml,V=(0,s.A)(B,"ts"),Y=(0,p.A)(S)?S:(0,l.Sb)(S).channelId;Y&&(0,i.mY)((0,_.ZT)(U),Y,V),C((0,o.tT)(B)),C((0,u.VG)({channelId:S,timestamps:V,isLimited:b,blurredMessages:F,latest:O,oldest:L,hasMore:k,loading:K,forceUnreadCount:N})),(0,n.A)(K)&&C(K?(0,v.v)({channelId:S,loadingOlder:!!O}):(0,h.f)({channelId:S})),(0,c.L)(U)&&x.measureAndClear("rmsgs_addMessagesFromHistory","rmsgs_addMessagesFromHistory"),R.forEach(w=>C((0,a.j)({deleted_ts:w,channel:Y}))),B.forEach(w=>(0,E.IY)(D,C,w,w))});y.meta={name:"createThunk",key:"createThunkaddMessagesFromHistory",description:"Add messages from history"};const I=y},8243624171:(W,T,e)=>{"use strict";e.d(T,{Fj:()=>b,Vq:()=>S});var t=e(1545824888),s=e(1069376685),n=e(4446301238),r=e(5274604535),u=e(5373179915),i=e(8170643398),o=e(5096647761),a=e(148278831),_=e(6536982570),l=e(2546018671),p=e(5184226701),g=e(7582939986),c=e(4327331459),E=e(4862221402),A=e(6304789565),d=e(1761027239),v=e(4761125736),h=e(8276911661),f=e(3730613858);const y=m((O,L)=>L.map(k=>k.pasted&&!k.entity?{value:k.value,entity:(0,h.nv)(O,k.value)}:k),"getMemberInfoForPastedMembers"),I=m(O=>{const L=O.entity||{};return(0,c.A)(O==null?void 0:O.value)||(0,i.NB)(L)},"isAMember"),C=m(O=>{const L=O.entity;return(0,E.A)(O.value)||(0,l.PH)(L)},"isAUserGroup"),D={[g.IS.ALREADY_IN_CHANNEL]:!0,[g.IS.CANNOT_INVITE_SELF]:!0,[g.IS.ALREADY_IN_CHANNEL_UG]:!0},M={},P=m(O=>{let{shouldPreserve:L,teamId:k}=O;M[k]=L},"setShouldPreserveModalsOnNavigation"),S=m(O=>{let{teamId:L}=O;return M[L]},"getShouldPreserveModalsOnNavigation"),b=(0,A.Ay)("Add users and user groups to channel",async(O,L,k)=>{let{selectedMembers:K,addMemberMode:N,channel:R,keepChannelHistory:U,teamId:x,shouldSkipInitialStage:B}=k;const F={channelId:R.id,force:!0,reason:"submit-invite-channel-invite-modal"};let V,Y;if(N===s.D.AllMembers)F.inviteAll=!0,V=[],Y=[];else{const pe=y(L(),K),ye=(0,r.A)(L(),R),Ie=(0,u.R)(L(),R);V=pe.reduce((Se,le)=>{if(le&&I(le)&&le.entity){const X=le,J=(0,f.Sv)(L(),R.id,X.value);if(!J.isKnown||!J.isMember){const z=(0,_.dQ)(X.entity),te=(0,a.S)(L(),X.entity,R);(Ie||(0,o.g)(X.entity)&&z&&ye.includes(z)||te)&&Se.push(X.value)}}return Se},[]),F.users=V.join(","),Y=K.reduce((Se,le)=>(le&&C(le)&&Se.push(le.value),Se),[]),F.subteams=Y.join(",")}const w=F.inviteAll||!!F.users||!!F.subteams,G=(0,v._Z)(L(),"shared_channel_invite_requested_event")==="on",Ee={addedExistingMembers:w,userInviteResults:V.map(pe=>({ok:!0,invitee:pe,inviteeType:p.T0.User,accessType:p.BD.Member,error:""})),groupInviteResults:Y.map(pe=>({ok:!0,invitee:pe,inviteeType:p.T0.UserGroup,accessType:p.BD.Member})),newChannelId:void 0};let ne;try{if(U)w&&(await O((0,n.Cw)(F)).then(pe=>{const{requested_invites:ye=[]}=pe;ne=ye}),G&&(Ee.userInviteResults=Ee.userInviteResults.map(pe=>{const ye=ne.find(Ie=>Ie.user_id===pe.invitee);return{...pe,accessType:ye?p.BD.SharedChannel:pe.accessType,inviteeType:ye?p.T0.Email:pe.inviteeType,...G&&{isRequestedInvite:!!ye}}})));else{P({shouldPreserve:!B,teamId:x}),F.propagateInviteResult=!0;const{channel:pe}=await O((0,d.t)(F));Ee.newChannelId=pe.id,P({shouldPreserve:!1,teamId:x})}}catch(pe){var se;P({shouldPreserve:!1,teamId:x});const ye=pe==null||(se=pe.data)===null||se===void 0?void 0:se.errors;if(!ye){var ce;if(!D[pe==null||(ce=pe.data)===null||ce===void 0?void 0:ce.error])throw pe}ye==null||ye.forEach(Ie=>{if(D[Ie.error])return;const Se=Ee.userInviteResults.filter(X=>X.invitee===Ie.user);if(Se.length)Se[0].ok=!1,Se[0].error=Ie.error;else if(K.length===1&&!Ie.user&&B){var le;Ee.userInviteResults=[{ok:!1,invitee:(le=K[0])===null||le===void 0?void 0:le.value,inviteeType:p.T0.User,error:Ie.error,accessType:p.BD.Member}]}else Ee.userInviteResults.push({ok:!1,invitee:Ie.user,inviteeType:p.T0.User,error:Ie.error,accessType:p.BD.Member})})}return t.S.resolve(Ee)});b.meta={name:"createThunk",key:"createThunkaddUsersAndGroupsToChannel",description:"Add users and user groups to channel"}},8854307618:(W,T,e)=>{"use strict";e.d(T,{r:()=>i});var t=e(6304789565),s=e(8620339321),n=e(7384121809),r=e(6695353875),u=e(4326266690);const i=(0,t.Ay)("Go back in history",(o,a)=>{const _=a();if((0,r.yZ)(_)){(0,u.ud)((0,n.Ry)())||(0,n.dispatchForClientStore)((0,s.oX)());return}window.history.back()});i.meta={name:"createThunk",key:"createThunkgoBackInWindowHistory",description:"Go back in history"}},7606925238:(W,T,e)=>{"use strict";e.d(T,{h:()=>n});var t=e(6304789565),s=e(6695353875);const n=(0,t.Ay)("Go forward in history",(r,u)=>{const i=u();(0,s.yZ)(i)||window.history.forward()});n.meta={name:"createThunk",key:"createThunkgoForwardInWindowHistory",description:"Go forward in history"}},8496310524:(W,T,e)=>{"use strict";e.d(T,{I:()=>u,u:()=>r});var t=e(9392104102),s=e(7969244833),n=e(9101533895);const r=m(i=>(i==null?void 0:i.name)||"","getActionName"),u=m((i,o,a)=>{const _=!a;let l=t.Ml;if(a){const p=(0,n.OL)(i,a);l=p&&(0,s.f)(i,p)||t.Ml}return o.teams&&(l.length||_)&&!o.isWorkspaceAgnostic?_?o.teams:o.teams.filter(g=>l.includes(g)):t.Ml},"getActionRelatedWorkspaces")},3982416567:(W,T,e)=>{"use strict";e.d(T,{O4:()=>r,OB:()=>i});var t=e(937317117),s=e(5597672932);const n="canvas_version_history_enabled",r=m(o=>(0,s.xp)(o,n),"getCanvasVersionHistoryEnabledTeamPref"),u=m((o,a)=>{const _=(0,t.Lp)(o,a);return _?_.team_pref_version_history_enabled:!1},"getOwnerCanvasVersionHistoryEnabledTeamPref"),i=m((o,a)=>a?!!r(o)&&!!u(o,a):!1,"isCanvasVersionHistoryEnabled")},123281540:(W,T,e)=>{"use strict";e.d(T,{m:()=>s});var t=e(207659888);const s=m(n=>n===t.VZ.DirectMessages||n===t.VZ.GroupDirectMessages,"isDmLikeSection")},2063075339:(W,T,e)=>{"use strict";e.d(T,{Z:()=>r});var t=e(1407713935),s=e(6007206761),n=e(6113051341);const r=m((u,i)=>!(0,t.JM)(i)&&!(0,s.F)(i)&&!(0,n.N)(i),"canBeExternallyShared")},2912967402:(W,T,e)=>{"use strict";e.d(T,{B2:()=>a,Bw:()=>A,CM:()=>c,FA:()=>l,Jr:()=>E,Kg:()=>y,OH:()=>d,QS:()=>o,Vp:()=>h,bS:()=>f,bw:()=>_,lz:()=>i,oP:()=>g});var t=e(3078252698),s=e(2878685908),n=e(337319621),r=e(735940183);const u=new r.A("channels"),i=80,o=250,a=250;function _(C){let{useFriendlyMpdmMaxLength:D}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return(0,t.A)(C)?C.length>(D?i:o):((0,s.Cu)()&&(0,n.Wo)().warn("Argument `topic` passed to `channelTopicExceedsLimit()` is not a string"),!1)}m(_,"channelTopicExceedsLimit");const l="too_long",p="restricted_action",g="user_is_restricted",c="method_not_supported_for_channel_type",E="method_not_supported_for_dm";function A(C){let{useFriendlyMpdmMaxLength:D}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};switch(C){case l:return u.t("Channel topics can only include up to {max} characters \u2014 please make this topic shorter.",{max:D?i:o});case p:case g:return u.t("It looks like you don\u2019t have permission to change the channel topic. Please check with your workspace admin.");case c:return u.t("It\u2019s not possible to set a topic here, unfortunately.");case E:return u.t("Regrettably, direct messages do not have topics.");default:return u.t("It looks like setting the channel topic didn\u2019t work, for some reason. Try again?")}}m(A,"getChannelTopicError");const d="too_long",v="restricted_action",h="user_is_restricted",f="method_not_supported_for_channel_type",y="method_not_supported_for_dm";function I(C){switch(C){case d:return u.t("That purpose is too long. Please try again with fewer than {max} characters.",{max:a});case v:case h:return u.t("Uh oh! You don\u2019t have permission to change the purpose. Talk to your workspace admin.");case f:return u.t("It\u2019s not possible to set a purpose here, unfortunately.");case y:return u.t("Regrettably, direct messages do not have purposes.");default:return u.t("Uh oh! Something went wrong with setting the purpose. Please try again.")}}m(I,"getChannelPurposeError")},4559887502:(W,T,e)=>{"use strict";e.d(T,{i:()=>n});var t=e(3929724715),s=e(1407713935);const n=m((r,u)=>{if((0,s.JM)(u)||!r)return!1;const i=(0,t.mG)(u),o=i?r.get(i):null;return o?(o==null?void 0:o.length)>1:!1},"doesChannelHaveNonUniqueName")},7868634217:(W,T,e)=>{"use strict";e.d(T,{Z:()=>a,Y:()=>_});var t=e(3502457281),s=e(8921478798),n=e(8276911661),r=e(3037015781),u=e(9262712126);function i(l,p,g){const c=!g;var E;const A=(E=(0,n.nv)(l,p,{preferNonExistentToNull:!1,fetchIfMissing:c}))!==null&&E!==void 0?E:void 0;return!A||g&&(0,r.mX)(A)?p:(0,u.wg)(A)}m(i,"getRealMemberNameById");var o=e(9392104102);const a=m((l,p)=>p?p.map(g=>({id:g,name:(0,s.I)(l,g)})).sort((g,c)=>(0,t.Ay)(g.name,c.name)).map(g=>g.id):o.Ml,"getAlphabeticallySortedMemberIds"),_=m((l,p)=>!p||!p.length?o.Ml:p.map(g=>({id:g,name:i(l,g)})).sort((g,c)=>(0,t.Ay)(g.name,c.name)).map(g=>g.id),"getRealNameAlphabeticallySortedMemberIds")},6045879501:(W,T,e)=>{"use strict";e.d(T,{H:()=>t});function t(s){return s&&s.emoji}m(t,"getEmojiCollectionEmoji")},370406050:(W,T,e)=>{"use strict";e.d(T,{M:()=>t});function t(s){return s&&s.name}m(t,"getEmojiCollectionName")},5071545805:(W,T,e)=>{"use strict";e.d(T,{j:()=>t});function t(s){return s&&s.installed}m(t,"isEmojiCollectionInstalled")},3890290905:(W,T,e)=>{"use strict";e.d(T,{Y:()=>t});const t=m(s=>s&&s.name,"getEmojiName")},4282439381:(W,T,e)=>{"use strict";e.d(T,{x:()=>s});var t=e(4761125736);const s=m(n=>(0,t._Z)(n,"a11y_emoji_group")==="on","isEmojiGroupEnabled")},9362126998:(W,T,e)=>{"use strict";e.d(T,{$R:()=>O,BM:()=>Ie,DC:()=>B,JC:()=>k,Jn:()=>ne,Kj:()=>w,NG:()=>ye,RI:()=>Y,UF:()=>N,Wg:()=>Ee,cG:()=>F,hP:()=>x,lL:()=>ce,p4:()=>Se,qh:()=>pe,rY:()=>U,y0:()=>G,yD:()=>K});var t=e(9113979368),s=e(8840779375),n=e(1703559452),r=e(2384831516),u=e(2531389923),i=e(4094753332),o=e(5795074931),a=e(9101533895),_=e(8455301571),l=e(7606781622),p=e(5597672932),g=e(8276911661),c=e(3534324375),E=e(937317117),A=e(4827886670),d=e(340763958),v=e(3110884894),h=e(2647703359),f=e(1257883628),y=e(4702704067),I=e(3929724715),C=e(9536443280),D=e(735940183),M=e(9392104102),P=e(3207321841),S=e(6946629059);const b=new D.A("stories_av"),O=m((le,X)=>{const J=!!X&&(0,d.ju)(X);let z=!0;return J?z=(0,p.xp)(le,"allow_video_clips")&&(0,p.xp)(le,"allow_video_clip_sharing_slack_connect"):z=(0,p.xp)(le,"allow_video_clips"),z},"isVideoClipSharingEnabledForChannel"),L=m((le,X,J)=>{const z=(0,a.OL)(le,X),te=O(le,z);return(!X||!J&&(0,A.E)(le,X)||!!J&&(0,I.NI)(le,z))&&te},"canDestinationReceiveVideoClips"),k=m((le,X,J)=>L(le,X,J),"canPostVideoClipInDestination"),K=m((le,X,J)=>L(le,X,J)&&k(le,X,J)&&!!window.MediaRecorder,"shouldRenderVideoRecorderButtonInComposer"),N=m((le,X)=>{const J=!!X&&(0,d.ju)(X);let z=!0;return J?z=(0,p.xp)(le,"allow_audio_clips")&&(0,p.xp)(le,"allow_audio_clip_sharing_slack_connect"):z=(0,p.xp)(le,"allow_audio_clips"),z},"isAudioClipSharingEnabledForChannel"),R=m((le,X,J)=>{const z=(0,a.OL)(le,X),te=N(le,z);return(!X||!J&&(0,A.E)(le,X)||!!J&&(0,I.NI)(le,z))&&te},"canDestinationReceiveAudioClips"),U=m((le,X,J)=>R(le,X,J),"canPostAudioMessageInDestination"),x=m((le,X,J)=>R(le,X,J)&&U(le,X,J)&&!!window.MediaRecorder,"shouldRenderAudioRecorderButtonInComposer"),B=m((le,X)=>{if(!ne(X))return!0;const J=(0,p.xp)(le,"allow_clip_downloads"),z=(0,o.WR)(le),te=(0,u.qc)(le,z);if(J==="anyone"||te)return!0;const $=X.user!==null&&X.user===z;return!!(J==="creator_and_admins"&&$)},"canDownloadClip"),F=m((le,X)=>B(le,X)||(0,i.y3)(),"canOpenClipInNewWindow"),V=(0,r.Mz)((le,X)=>{if(!X)return!1;if((0,t.A)(X.files))return M.Ml;const J=(0,s.A)(X.files,z=>(0,E.Lp)(le,z));return(0,n.A)(J,f.A)});V.meta={name:"createSelector",key:"createSelectorisStoryMessage",description:(le,X)=>{if(!X)return!1;if((0,t.A)(X.files))return M.Ml;const J=(0,s.A)(X.files,z=>(0,E.Lp)(le,z));return(0,n.A)(J,f.A)}};function Y(le){let{state:X,threadKey:J,includeAllMessages:z=!1,startTs:te}=le;const{channelId:$,threadTs:q}=(0,v.Sb)(J),{timestamps:re,reachedStart:de,reachedEnd:oe}=(0,_.r7)(X,J,te||q)||{},De=re!=null&&re.length&&$?re.map(ae=>(0,l.Ld)(X,$,ae)).filter(S.b):[];return{messages:z?De:De.filter(ae=>V(X,ae)),reachedStart:!!de,reachedEnd:!!oe}}m(Y,"getMediaThread");function w(le){var X;return le!=null&&le.vtt?C.D.available:(le==null||(X=le.transcription)===null||X===void 0?void 0:X.status)==="processing"?C.D.processing:C.D.none}m(w,"getCaptionsAvailability");const G=m(le=>(0,p.xp)(le,"allow_media_transcriptions"),"shouldAllowMediaTranscriptions");function Ee(le,X){let J="";if(X.user){const te=(0,g.nv)(le,X.user);J=te?(0,c.sE)(le,te):""}let z;return J?z=(0,y.A)(X)?b.t("Audio clip from {memberName}",{memberName:J}):b.t("Video clip from {memberName}",{memberName:J}):z=(0,y.A)(X)?b.t("Audio clip"):b.t("Video clip"),z}m(Ee,"getLabelForClip");function ne(le){return le!=null&&le.subtype?se(le.subtype):!1}m(ne,"isClip");function se(le){let{clipsSubtypes:X=P.Y1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return X.includes(le)}m(se,"isClipsSubtype");function ce(le){return le===P.iN}m(ce,"isAudioClipSubtype");function pe(le){return le&&le.some(X=>se(X.subtype))}m(pe,"containsClip");function ye(le){return le?le.filter(X=>se(X.subtype)):[]}m(ye,"findClips");function Ie(le,X){const J=(0,o.WR)(le);return(X==null?void 0:X.user)===J}m(Ie,"canRemoveTranscriptPreview");function Se(le){return(0,h.pI)(le)?(le==null?void 0:le.aac)||(le==null?void 0:le.url_private):(le==null?void 0:le.mp4)||(le==null?void 0:le.url_private)}m(Se,"getMediaSrc")},7747467459:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(3037015781);function s(n){return(0,t.mX)(n)}m(s,"isFileUnknown")},102566929:(W,T,e)=>{"use strict";e.d(T,{Fh:()=>_,Iz:()=>a,gC:()=>o});var t=e(3009309149),s=e(937317117),n=e(497761763),r=e(6078549397),u=e(2823938397);const i=(0,t.Ay)((l,p)=>{const{fileIdOrQuipThreadId:g}=(0,r.EX)(p);if((0,n.A)(g)){var c;return(c=(0,s.Lp)(l,g))!==null&&c!==void 0?c:null}return null});i.meta={name:"createSelector",key:"createSelectormaybeGetFileByCompoundId",description:(l,p)=>{const{fileIdOrQuipThreadId:g}=(0,r.EX)(p);if((0,n.A)(g)){var c;return(c=(0,s.Lp)(l,g))!==null&&c!==void 0?c:null}return null}};const o=(0,t.Ay)((l,p)=>{const g=i(l,p);return g&&(0,u.uz)(g)?g:null});o.meta={name:"createSelector",key:"createSelectormaybeGetExistentFileByCompoundId",description:(l,p)=>{const g=i(l,p);return g&&(0,u.uz)(g)?g:null}};function a(l){return l.linked_channel_id}m(a,"getLinkedChannelId");function _(l){return["spaces-example-onboarding-canvas","spaces-example-team-meeting"].includes(l)}m(_,"isSampleCanvas")},3848977043:(W,T,e)=>{"use strict";e.d(T,{eY:()=>I,QX:()=>M,dL:()=>C,oG:()=>P,Lz:()=>D,L7:()=>K,J5:()=>k,XH:()=>S,nY:()=>b});var t=e(2837660778),s=e(1340402138),n=e(7969244833),r=e(3792998666),u=e(8323393403),i=e(6839188756),o=e(9950739645),a=e(7112191091),_=e(3347557755),l=e(6476812141),p=e(4618126901),g=e(5795074931);const c=m((N,R)=>{const U=(0,g.TZ)(N);if(R&&U){const B=(0,_.oI)(N,{permission:l.p.INVITE_GUEST});return(0,p.Vf)(R.id,B)}const x=(0,_.ox)(N,{permission:l.p.INVITE_GUEST});return(0,p.Jr)(x)},"canUserInviteGuests");var E=e(5184226701),A=e(7668372645),d=e(9101533895),v=e(8276911661),h=e(8983368692),f=e(5597672932),y=e(3677514771);function I(N){let R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;const U=(0,v.cA)(N),x=R??(0,y.H7)(N);if(!x)return!1;const B=(0,a.Me)(N,x.id),F=(0,h.cn)(N,{teamOrEnterpriseIds:[x.id]});return B||F?!0:(0,r.P)(U)?!1:(0,f.xp)(N,"invites_only_admins",R==null?void 0:R.id)?c(N,x):!0}m(I,"canUserInviteMembersToWorkspace");function C(N,R,U){const x=R||(0,v.cA)(N),B=U||(0,y.H7)(N);return!(!B&&!B||(0,r.P)(x)||!(0,f.xp)(N,"invite_requests_enabled",B.id))}m(C,"canUserRequestToInvite");function D(N){const R=(0,v.cA)(N),U=(0,y.H7)(N);return!U||(0,s.R)(N)?!1:(0,i.r7)(U)?!!(0,t.Mo)(N).filter(B=>C(N,R,B)||I(N,B)).length:!!(C(N,R,U)||I(N))}m(D,"canUserSeeInviteModal");function M(N,R){const U=(0,y.H7)(N);if(!U)return!1;const x=(0,d.OL)(N,R),B=(0,i.tc)(U),F=(0,i.r7)(U),V=(0,u.D7)(N,R),Y=F?!b(N,x):D(N);return B&&Y||!B&&(Y||V)}m(M,"canUserInviteToChannelByEmail");function P(N,R){const U=(0,v.cA)(N),x=R?(0,y._J)(N,R):(0,y.H7)(N);return!x||(0,i.tc)(x)?!1:C(N,U,x)?!0:c(N,x)}m(P,"canUserSeeAccountTypeOptions");function S(N,R){let{ignoreGuestSettings:U}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const x=(0,v.cA)(N),B=R?(0,y._J)(N,R):(0,y.H7)(N);if(!(0,i.r7)(B))return!1;const F=(0,a.Me)(N,B.id),V=(0,h.cn)(N,{teamOrEnterpriseIds:[B.id]});return F||V||!(0,f.xp)(N,"invites_only_admins",B.id)||C(N,x,B)?!1:U?!0:c(N,B)}m(S,"shouldDisableFullMemberInviteOption");function b(N,R){const U=(0,n.f)(N,R);return!!(U!=null&&U.every(x=>S(N,x,{ignoreGuestSettings:!0})))}m(b,"shouldDisableFullMemberInviteOptionForChannel");function O(N){let{state:R,team:U,inviteType:x}=N,B=U;if(!U&&(B=getCurrentTeam(R),!B))return!1;const F=getTeamPref(R,"auth_mode"),V=F==="google"||F==="saml";return isEnterpriseOrEnterpriseWorkspace(B)&&x===AccessType.Member||V&&getTeamPref(R,"sso_auth_restrictions")===0}m(O,"shouldShowSsoAlert");function L(N){let{state:R,inviteType:U}=N;const x=getTeamPref(R,"auth_mode"),B=getTeamPref(R,"sso_auth_restrictions");return x==="google"?U===AccessType.Member&&(B===0||B===1)||(U===AccessType.MultiChannelGuest||U===AccessType.SingleChannelGuest)&&B===0:!1}m(L,"shouldShowGoogleDomainsNotice");function k(N){let{state:R,inviteType:U,team:x}=N;if(!U||!(0,E.LX)(U))throw new Error(`Invalid invite type: ${U}`);const B=x||(0,y.H7)(R);if(!B||(0,o.N)(x))return!1;const F=(0,f.xp)(R,"invites_only_admins",B==null?void 0:B.id),V=(0,a.Me)(R,B.id),Y=(0,h.cn)(R,{teamOrEnterpriseIds:[B.id]}),w=c(R,B);switch(U){case E.BD.Member:return V||Y?!1:!!F;case E.BD.MultiChannelGuest:case E.BD.SingleChannelGuest:return!w;default:return!0}}m(k,"isRequestingInvitesForType");function K(N){let{state:R}=N;const U=(0,y.H7)(R);return(0,A.z$)()?!0:(0,i.r7)(U)?!!(0,f.xp)(R,"hide_gsuite_invite_option"):!1}m(K,"isGoogleDirectoryDisabled")},9438480351:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(9101533895),s=e(3929724715);function n(r,u){const i=(0,t.Pu)(r,u&&u.id);return i?(0,s.$M)(i):null}m(n,"getImUnreadCountByMember")},9541658228:(W,T,e)=>{"use strict";e.d(T,{P:()=>i});var t=e(2003990933),s=e(5096647761),n=e(8847766420),r=e(6536982570),u=e(8170643398);function i(o,a){if(!o||!a||(0,s.g)(a))return!1;const _=(0,r.QI)(a);return(0,u.dk)(a)&&(_===(0,n.jV)(o)||_===(0,t.A)(a,"enterprise_user.enterprise_id"))}m(i,"isMemberFromOrg")},148278831:(W,T,e)=>{"use strict";e.d(T,{S:()=>a});var t=e(918457931),s=e(2298581483),n=e(6536982570),r=e(5096647761),u=e(2003903489),i=e(9541658228),o=e(893266994);const a=m((_,l,p)=>{if((0,r.g)(l))return!1;if((0,i.P)(_,l)){if((0,u.S)(p))return!0;if((0,t.t)(p))return(0,s.R)(_,p).some(E=>(0,n.nO)(l,E))}const g=(0,o.c)(p);return(0,n.nO)(l,g)},"isMemberOnSomeChannelWorkspace")},863407566:(W,T,e)=>{"use strict";e.d(T,{A:()=>d});var t=e(8455301571),s=e(2155512519),n=e(7606781622),r=e(3730613858),u=e(5795074931),i=e(8276911661),o=e(8170643398),a=e(4562579337),_=e(7334104107),l=e(9187449049),p=e(7616363684),g=e(1794107122),c=e(9290914927),E=e(1809170903);const A=23;function d(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Math.max((0,s.UL)(),f),I=arguments.length>4?arguments[4]:void 0;if(!(0,t.si)(v,h))return[];const C=(0,t.r7)(v,h);if(!C||!C.timestamps)return[];const D=(0,n.h8)(v,h),M=C.timestamps.slice(-y),P=(0,u.WR)(v);let S=[],b=[],O=!1;const L=[],k=[],K=[],N=[],R=[],U=[];let x=!1;for(let F=M.length-1;F>=0;F--){const V=D[M[F]],Y=(0,_.Hr)(V);if(!Y)continue;if(I&&Y===P){x=!0;continue}if(!(I?L.includes(Y)||K.includes(Y)||R.includes(Y):S.includes(Y))&&!(0,p.A)(V)&&(0,l.A)(V,P)){const G=(0,r.Sv)(v,h,Y),Ee=(0,i.nv)(v,Y);if(O||(O=!(G!=null&&G.isKnown)||(0,o.t8)(Ee)),!O&&(G!=null&&G.isKnown)&&(G!=null&&G.isMember)&&!(0,a.A)(Ee)&&!(0,o.oy)(Ee)){if(I){if((0,c.gd)(v,Y)==="active"?(0,E.Vd)(v,Y)?(K.push(Y),N.push(Ee)):(L.push(Y),k.push(Ee)):(R.push(Y),U.push(Ee)),k.length===f||K.length+U.length===A-f)break}else if(S.push(Y),b.push(Ee),b.length===f)break}}}if(O)return[];if(I&&(k.length===f?(b=k,S=L):(b=k.concat(N.slice(0,f-k.length)),S=L.concat(K.slice(0,f-R.length)),b.length<f&&(b=b.concat(U.slice(0,f-k.length)),S=S.concat(R.slice(0,f-R.length))))),b.length>=f)return b;const B=(0,g.$)(v,h);if(!B.length)return[];for(let F=0;F<B.length;F++){const V=B[F];if(V&&!S.includes(V)&&(I&&V===P?x=!0:(S.push(V),b.push((0,i.nv)(v,V)))),b.length===f)break}return b.length===0&&x&&(S.push(P),b.push((0,i.nv)(v,P))),b}m(d,"getLastNRelevantMembersInChannel")},1198382523:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3078252698),s=e(8289365785),n=e(4138249182),r=e(2647703359);function u(i,o){if(!i)return"";let a="";if(i&&i.subtype!=="tombstone"){a=(0,t.A)(i.text)?i.text:"";const _=(0,s.A)(i.attachments);if(_&&_.is_msg_unfurl&&(!a||(0,n.A)(i))){const l=typeof _.original_url=="string"?_.original_url:"";a=_.text||l||""}}if(!a&&o&&!(o!=null&&o.isNonExistent)){const _=(0,r.SB)(o);_&&(a=_)}return a}m(u,"getMessageRootText")},7980641:(W,T,e)=>{"use strict";e.d(T,{A:()=>K});var t=e(2003990933),s=e(8289365785),n=e(937317117),r=e(8276911661),u=e(7582939986),i=e(9464746668),o=e(8677230210),a=e(2647703359),_=e(7334104107),l=e(9101533895),p=e(9548972574),g=e(1407713935),c=e(6470070112),E=e(735940183),A=e(9373230523);const d=new E.A("huddles"),h=m(N=>{let{msg:R,state:U,roomId:x}=N;var B;const F=(0,l.OL)(U,R.channel),V=(0,g.LI)(F),Y=(0,g.yz)(F)||V;let w=d.t("Huddles");const G=(0,c.Vh)({state:U,roomId:x}),Ee=(0,p.E$)(U,x),ne=(0,c.Qw)(U,x),se=(0,p.xx)(U,x),ce=(0,p._5)(U,x),pe=(0,p.l)(U,x),ye=ce.length+pe.length,Ie=(B=(0,p.Ej)(U,x))===null||B===void 0?void 0:B.trim();if(G&&!Ee)if(Ie){var Se;w=(Se=d.rt("{huddleTopic} is happening",{huddleTopic:Ie}).props)===null||Se===void 0?void 0:Se.children}else if(!Y||ye===0)w=d.t("A huddle is happening");else{const z=ce.slice(0,2),te=pe.slice(0,2);let $,q;z.forEach(re=>{$?q||(q=(0,A.A)(U,re)):$=(0,A.A)(U,re)}),te.forEach(re=>{$?q||(q=re):$=re}),w=d.t("{participants, plural, =0 {{firstParticipant} is} =1 {{firstParticipant} and {secondParticipant} are} other {{firstParticipant} and # others are}} in the huddle.",{participants:ye-1,firstParticipant:$,secondParticipant:q})}if(G&&Ee)if(Ie){var le;w=(le=d.rt("You joined {huddleTopic}",{huddleTopic:Ie}).props)===null||le===void 0?void 0:le.children}else w=d.t("You joined the huddle");if(!G)if(ne)w=d.t("You missed a huddle");else if(Ie&&se.length){var X;w=(X=d.rt("{huddleTopic} happened",{huddleTopic:Ie}).props)===null||X===void 0?void 0:X.children}else if(Ie&&!se.length){var J;w=(J=d.rt("{huddleTopic} happened, but no one joined",{huddleTopic:Ie}).props)===null||J===void 0?void 0:J.children}else w=d.t("A huddle happened");return w},"HuddleMessageUserName");var f=e(5332875232),y=e(5795074931);const I=new E.A("huddles"),D=m(N=>{let{schedule:R,state:U}=N;var x;if(!(0,f.MJ)(U)||!R)return null;const V=(0,y.WR)(U)===R.inviter_user_id;var Y;const w=(0,A.A)(U,(Y=R.inviter_user_id)!==null&&Y!==void 0?Y:""),G=I.rt("You scheduled a huddle"),Ee=I.rt("{memberName} scheduled a huddle",{memberName:w});let ne=V?G:Ee;const se=R.topic;if(se){const ce=I.rt("You scheduled {huddleTopic}",{huddleTopic:se}),pe=I.rt("{memberName} scheduled {huddleTopic}",{memberName:w,huddleTopic:se});ne=V?ce:pe}return(x=ne.props)===null||x===void 0?void 0:x.children},"ScheduledHuddleUserName"),M=new E.A("huddles"),S=m(N=>{let{schedule:R,state:U}=N;if(!(0,f.MJ)(U))return"";let B=M.t("A scheduled huddle is canceled");const F=R==null?void 0:R.topic;return F&&(B=M.t("Scheduled huddle {huddleTopic} has been canceled",{huddleTopic:F})),B},"DeleteScheduledHuddleUserName");var b=e(9280052135),O=e(6457401668),L=e(7606781622);const k=new E.A("assistant");function K(N,R,U){let x=R.user||(0,t.A)(R,"comment.user");const B=R.document_comment;B&&(B.most_recent_editor?x=B.most_recent_editor:B.authors&&B.authors.length>0&&(x=B.authors[0]));const F=R.username;let V=null;const Y=R.file||(0,s.A)(R.files),w=U||(Y?(0,n.Lp)(N,Y):null);let G=R.bot_id||w&&w.bot_id;if(!G){const X=(0,r.nv)(N,x);var Ee;G=(Ee=(0,i.A)(N,X))!==null&&Ee!==void 0?Ee:void 0}let ne=null;G&&(V=(0,o.AF)(N,G),ne=V?V.app_id:null);const se=(0,b.l)(N);if((0,_.mb)(R))return{username:h({msg:R,state:N,roomId:R.room_id}),isHuddleMsg:!0,huddleActivityStatus:(0,c.K8)(N,R.room_id)};if((0,O.Iu)(R)){var ce,pe;if((R==null||(ce=R.ai_context)===null||ce===void 0||(pe=ce.summary)===null||pe===void 0?void 0:pe.type)==="huddle"){var ye;const X=k.t("AI huddle notes are ready");return{username:(R==null||(ye=R.ai_context)===null||ye===void 0?void 0:ye.result_status)==="complete"?X:k.t("Slack AI"),isHuddleMsg:!0}}}if(se&&(0,O.qZ)(R))return{username:"Slack Assistant",isAssistantThread:!0};if(se&&(R!=null&&R.thread_ts)&&(R==null?void 0:R.user)==="USLACKBOT"&&(0,O.qZ)((0,L.Ld)(N,R==null?void 0:R.channel,R==null?void 0:R.thread_ts)))return{username:"Slack Assistant",isAssistantThread:!0};if((0,_.zv)(R)){const X=(0,f.MJ)(N);var Ie;const J=(Ie=R.schedule)!==null&&Ie!==void 0?Ie:null;return{username:X?D({schedule:J,state:N}):"Huddle was scheduled",isScheduledHuddleMsg:!0}}if((0,_.GO)(R)){const X=(0,f.MJ)(N);var Se;const J=(Se=R.schedule)!==null&&Se!==void 0?Se:null;return{username:X?S({schedule:J,state:N}):"Scheduled Huddle was deleted",isDeleteScheduledHuddleMsg:!0}}if((0,_.aH)(R)){var le;return{userId:(le=R.list_edit)===null||le===void 0?void 0:le.created_by,isListEditMsg:!0}}return(0,O.cb)(R)||(0,O.Ni)(R)?{username:"Canvas updated"}:(0,O.gA)(R)?{userId:R.tab_added_user_id}:x===u.Q$&&w&&w.bot_id?w.filetype==="email"&&V&&V.name?{...(0,a.xR)(w),botId:G,appId:ne}:{...(0,a.xR)(w),username:F||w.username,botId:G,appId:ne}:x?{appId:ne,botId:G,userId:x}:{appId:ne,botId:G,username:F}}m(K,"getMsgSenderEntity")},4138249182:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(675958705),s=e(8289365785),n=e(9802930866),r=e(8389327410);function u(i){const o=(0,s.A)(i.attachments);if(!o||!o.is_msg_unfurl)return!1;const a=o.from_url;if((0,t.A)(i)){const _=(0,s.A)(i.blocks);if(!_||!_.elements)return!1;const l=(0,n.A)(_.elements,{hasMsgLink:!1,hasOtherContent:!1},(p,g)=>g.type===r.Lv.LINK&&g.url===a&&(!g.text||g.text===a)?{...p,hasMsgLink:!0}:{...p,hasOtherContent:!0});return l.length===1&&l[0].hasMsgLink&&!l[0].hasOtherContent}return!i.text||i.text===`<${a}>`}m(u,"isSimpleMessageUnfurl")},7616363684:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(7334104107),s=e(7582939986);function n(r){return(0,t.Hr)(r)===s.Q$}m(n,"isSlackbotMessage")},3683888369:(W,T,e)=>{"use strict";e.d(T,{l:()=>r});var t=e(1552255081),s=e(6839188756),n=e(3677514771);const r=m(u=>(0,t.F)(u)&&!(0,s.tc)((0,n.H7)(u)),"teamCanCreateStandaloneCanvas")},5757070316:(W,T,e)=>{"use strict";e.d(T,{J:()=>n});var t=e(78546762),s=e(1802262330);const n=m((r,u)=>{var i,o;let a,_,l;r&&(r.subtype==="file_comment"?[_,a]=["file_comment",r.comment]:(0,t.A)(r.subtype)?[_,a]=["file",u]:[_,a,l]=["message",r,r.channel]);const p=_==="message"?(i=a)===null||i===void 0?void 0:i.ts:(o=a)===null||o===void 0?void 0:o.id;return a&&(a._rxn_key||(0,s.B)(_,p,l))},"getReactionKey")},9001455011:(W,T,e)=>{"use strict";e.d(T,{t:()=>n});var t=e(3009309149),s=e(9889493721);const n=(0,t.Ay)(r=>!((0,s.Bf)(r)||!(0,s.pr)(r)));n.meta={name:"createSelector",key:"createSelectorshouldShowAppsLink",description:r=>!((0,s.Bf)(r)||!(0,s.pr)(r))}},2585735826:(W,T,e)=>{"use strict";e.d(T,{R:()=>_});var t=e(1407713935),s=e(6113051341),n=e(340763958);const r=m((l,p)=>!(0,t.JM)(p)&&(0,n.ju)(p)&&!(0,s.N)(p),"canBeDisconnected");var u=e(1359849784),i=e(6839188756),o=e(6025726268),a=e(3677514771);function _(l,p){if(p&&!r(l,p))return!1;if(p&&(0,o.M)(l,p))return!0;const g=(0,a.H7)(l);return(0,i.tc)(g)?!0:(0,u.I)(l,p)}m(_,"canUserDisconnectExternalSharedChannel")},4803097854:(W,T,e)=>{"use strict";e.d(T,{RY:()=>_,cG:()=>u,l6:()=>a});var t=e(7358758030),s=e(1650729052),n=e(5861086925),r=e(6841796315);const u={RestrictedAction:Symbol("restricted_action"),CanCreateExternalLimitedPref:Symbol("can_create_external_limited_pref"),WhoCanCreateExternalLimitedPref:Symbol("who_can_create_external_limited_pref")},i={ok:!1,reason:u.CanCreateExternalLimitedPref},o={ok:!1,reason:u.WhoCanCreateExternalLimitedPref},a=m(l=>{if(!(0,t.i)(l))return i;const g=n.yY.WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE;return(0,s.y)(l,g)?r.O:o},"canUserInviteExternalLimitedMembersWithReason"),_=m(l=>a(l).ok,"canUserInviteExternalLimitedMembers")},8323393403:(W,T,e)=>{"use strict";e.d(T,{D7:()=>f,JO:()=>d,NU:()=>h,wi:()=>p});var t=e(6027162153),s=e(2063075339),n=e(1407713935),r=e(7969244833),u=e(5455782105),i=e(3916100664),o=e(6839188756),a=e(6841796315),_=e(9101533895),l=e(3677514771);const p={InvalidParams:Symbol("invalid_params"),FreeTeam:Symbol("free_team"),CannotRequest:Symbol("cannot_request_ext_shared"),InvalidChannel:Symbol("invalid_channel")},g={ok:!1,reason:p.InvalidParams},c={ok:!1,reason:p.FreeTeam},E={ok:!1,reason:p.CannotRequest},A={ok:!1,reason:p.InvalidChannel},d=m((y,I)=>{if(!(0,n.jq)(I))return g;const C=(0,u.k)(y),D=(0,o.qR)((0,l.H7)(y));if(!C&&!D)return c;const P=(0,i.lR)(y,{mustEveryWorkspaceBeAllowed:!0,teamIds:(0,r.f)(y,I)});return!(P!=null&&P.ok)&&(0,t.A)(P==null?void 0:P.reasons,i.jM.UserCannotCreateChannel,i.jM.AllowedWorkspacePref).length>0?E:(0,s.Z)(y,I)?a.O:A},"canUserInviteExternalMembersToChannelWithReason"),v=m((y,I)=>{const D=(0,_.OL)(y,I,!1);return D?d(y,D):g},"canUserInviteExternalMembersToChannelWithReasonById"),h=m((y,I)=>d(y,I).ok,"canUserInviteExternalMembersToChannel"),f=m((y,I)=>v(y,I).ok,"canUserInviteExternalMembersToChannelById")},3916100664:(W,T,e)=>{"use strict";e.d(T,{jM:()=>f,Tc:()=>D,lR:()=>C});var t=e(5455782105),s=e(4803097854),n=e(2643151579),r=e(6839188756),u=e(6992769897),i=e(9087248458),o=e(5980399196),a=e(3071940241),_=e(8359728598),l=e(4761125736);const p=(0,_.A)((M,P)=>{const{teams:S,value:b}=P;switch(b){case"ONLY_SELECTED":return(0,i.A)(M,S).length===M.length;case"ALL_EXCEPT_SELECTED":return(0,o.A)(M,S).length===M.length;default:return!0}},2);function g(M){let{slackConnectAllowedWorkspacesPref:P,teamIds:S}=M;return S!=null&&S.length?p(S,P):!1}m(g,"isEveryTargetWorkspaceAllowedToHaveSharedChannelsStateless");function c(M,P){return!(0,t.k)(M)||(0,l._Z)(M,"sc_allowed_workspaces_pref_override")==="on"?!0:g({slackConnectAllowedWorkspacesPref:(0,a.a)(M),teamIds:P})}m(c,"isEveryTargetWorkspaceAllowedToHaveSharedChannels");var E=e(1507833885),A=e(3559837422),d=e(8847766420),v=e(3677514771);const h={ok:!0},f={...s.cG,...n.Xg,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),FreeTeam:Symbol("free_team"),NoOneCanManagePref:Symbol("who_can_manage_ext_shared_channels_pref_no_one"),UserCannotCreateChannel:Symbol("create_channel_restricted_action"),AllowedWorkspacePref:Symbol("slack_connect_allowed_workspaces_pref")},y=m((M,P,S)=>P?(0,E._t)(M,S):(0,E.Uq)(M,S),"channelCreationChecker"),I=m((M,P,S)=>P?c(M,S):(0,u.A)(M,S),"allowedWorkspacesChecker"),C=m(function(M){let{mustEveryWorkspaceBeAllowed:P,teamIds:S}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const b=[],O=(0,v.H7)(M),L=(0,t.k)(M),k=(0,r.qR)(O),K=!L&&!k;if((0,A.AB)(M)||(0,A.sV)(M))return b.push(f.UserIsRestricted),{ok:!1,reasons:b};var N;const R=(N=S??(0,d.kN)(M))!==null&&N!==void 0?N:[];y(M,P,R)||b.push(f.UserCannotCreateChannel),I(M,P,R)||b.push(f.AllowedWorkspacePref),K&&b.push(f.FreeTeam);const U=(0,s.l6)(M),x=(0,n._d)(M);return!U.ok&&!x.ok&&b.push(U.reason,x.reason),b.length>0?{ok:!!K,reasons:b}:h},"canUserInviteExternalMembersWithReason"),D=m((M,P)=>C(M,P).ok,"canUserInviteExternalMembers")},2643151579:(W,T,e)=>{"use strict";e.d(T,{Xg:()=>u,_d:()=>a,ml:()=>_});var t=e(5225510813),s=e(1650729052),n=e(5861086925),r=e(6841796315);const u={RestrictedAction:Symbol("restricted_action"),CanCreateExternalUnlimitedPref:Symbol("can_create_slack_connect_channel_pref"),WhoCanCreateExternalUnlimitedPref:Symbol("who_can_create_slack_connect_channel_pref")},i={ok:!1,reason:u.CanCreateExternalUnlimitedPref},o={ok:!1,reason:u.WhoCanCreateExternalUnlimitedPref},a=m(l=>{if(!(0,t.C)(l))return i;const g=n.yY.WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE;return(0,s.y)(l,g)?r.O:o},"canUserInviteExternalUnlimitedMembersWithReason"),_=m(l=>a(l).ok,"canUserInviteExternalUnlimitedMembers")},1359849784:(W,T,e)=>{"use strict";e.d(T,{I:()=>f,r:()=>h});var t=e(7174777686),s=e(9087248458),n=e(3929724715),r=e(1407713935),u=e(5455782105),i=e(7224980887),o=e(3792998666),a=e(5861086925),_=e(5331698805),l=e(6839188756),p=e(7112191091),g=e(5510392579),c=e(4761125736),E=e(8276911661),A=e(8983368692),d=e(3677514771),v=e(598369692);function h(y){const I=(0,c._Z)(y,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",C=(0,d.H7)(y);if(I)return(0,l.tc)(C)?!1:(0,A.es)(y);const D=(0,E.cA)(y),M=(0,_.u)(y);if(!(M!=null&&M.value))return!1;if((0,u.k)(y)){let P=[];switch(M.value){case a.GX.ALL_ADMINS_AND_OWNERS:return(0,p.EC)(y)||(0,i.n5)(D)||(0,i.rr)(D);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,i.n5)(D)||(0,i.rr)(D)?!0:(P=(0,v.QF)(y),!!((0,t.A)(M.users,D==null?void 0:D.id)||(0,s.A)(M.userGroups,P).length));case a.GX.EVERYONE:return!(0,o.Ez)(D);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,i.n5)(D)||(0,i.rr)(D)}}if((0,l.qR)(C))switch(M.value){case a.GX.TOPLEVEL_OWNERS:return(0,g.p2)(y);case a.GX.EVERYONE:return!(0,o.Ez)(D);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,g.p2)(y)||(0,g.Zo)(y)}return!1}m(h,"canUserManageExternalSharedChannels");function f(y,I){const C=(0,c._Z)(y,"light_read_who_can_manage_ext_shared_channels_pref_migration")==="on",D=(0,d.H7)(y);if(C){if((0,l.tc)(D)||!(0,r.jq)(I))return!1;const S=(0,n.FB)(I);return(0,A.es)(y,{channelId:S})}const M=(0,E.cA)(y),P=(0,_.u)(y);if(!(P!=null&&P.value))return!1;if((0,u.k)(y)){let S=[];switch(P.value){case a.GX.ALL_ADMINS_AND_OWNERS:return(0,p.S4)(y,I);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return(0,i.n5)(M)||(0,i.rr)(M)?!0:(S=(0,v.QF)(y),!!((0,t.A)(P.users,M==null?void 0:M.id)||(0,s.A)(P.userGroups,S).length));case a.GX.EVERYONE:return!(0,o.Ez)(M);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,i.n5)(M)||(0,i.rr)(M)}}if((0,l.qR)(D))switch(P.value){case a.GX.TOPLEVEL_OWNERS:return(0,g.p2)(y);case a.GX.EVERYONE:return!(0,o.Ez)(M);case a.GX.TOPLEVEL_ADMINS_AND_OWNERS:default:return(0,g.p2)(y)||(0,g.Zo)(y)}return!1}m(f,"canUserManageSlackConnectChannel")},7324846416:(W,T,e)=>{"use strict";e.d(T,{VX:()=>p});var t=e(8170643398),s=e(7982171047),n=e(4087360693);function r(g){return g==null?void 0:g[n.bl]}m(r,"getMemberWhoCanShareContactCardPref");var u=e(5096647761),i=e(8276911661);function o(g,c){const E=(0,i.nv)(g,c);if(!E)return!1;const A=r(E);return A===n.X4.NO_ONE?!1:(0,u.g)(E)?A===n.X4.EVERYONE:!0}m(o,"isMemberContactInfoShareableById");var a=e(5795074931);const _={...s.BC,CONTACT_PREFS_RESTRICTED:"contact_prefs_restricted",CONTACT_IS_SELF:"contact_is_self",CONTACT_NOT_ACTIVE_MEMBER:"contact_not_active_member"};function l(g,c){let E=[];(0,a.WR)(g)===c&&(E=E.concat(_.CONTACT_IS_SELF));const d=(0,i.nv)(g,c);(0,t.ls)(d)||(E=E.concat(_.CONTACT_NOT_ACTIVE_MEMBER));const v=(0,s.Hp)(g);return!v.ok&&v.reasons&&(E=E.concat(v.reasons)),o(g,c)||E.push(_.CONTACT_PREFS_RESTRICTED),E.length>0?{ok:!1,reasons:E}:{ok:!0}}m(l,"canUserShareContactByIdWithReasons");function p(g,c){return l(g,c).ok}m(p,"canUserShareContactById")},7982171047:(W,T,e)=>{"use strict";e.d(T,{BC:()=>o,Cq:()=>_,Hp:()=>a});var t=e(3792998666),s=e(6536982570),n=e(6839188756),r=e(5795074931),u=e(8276911661),i=e(3677514771);const o={RESTRICTED_USER:"user_is_restricted",USER_IS_ON_FREE_TEAM:"not_allowed_for_free_team"};function a(l){const p=[],g=(0,r.WR)(l),c=(0,u.nv)(l,g),E=(0,s.Ux)(l,c);var A;const d=(A=(0,i._J)(l,E))!==null&&A!==void 0?A:null;return(0,t.Ez)(c)&&p.push(o.RESTRICTED_USER),(0,n.tc)(d)&&p.push(o.USER_IS_ON_FREE_TEAM),p.length>0?{ok:!1,reasons:p}:{ok:!0}}m(a,"canUserShareContactsWithReasons");function _(l){return a(l).ok}m(_,"canUserShareContacts")},1273480023:(W,T,e)=>{"use strict";e.d(T,{u:()=>u});var t=e(2063075339),s=e(340763958),n=e(6839188756),r=e(3677514771);const u=m((i,o)=>{const a=(0,r.H7)(i);return(0,n.tc)(a)&&(0,s.ju)(o)&&(0,t.Z)(i,o)},"getIsCurrentTeamSponsoredInSlackConnectChannel")},8767621462:(W,T,e)=>{"use strict";e.d(T,{S:()=>i});var t=e(8170643398),s=e(5096647761),n=e(9107158149),r=e(7600673124),u=e(8276911661);const i=m((o,a)=>{const _=(0,u.nv)(o,a);return(0,t.Zx)(_)?!1:(0,s.g)(_)?!!((0,n.bo)(o,a)&&(0,n.zP)(o,a)&&!(0,r.y)(o,a)):!0},"isMemberConnectedById")},3071940241:(W,T,e)=>{"use strict";e.d(T,{_:()=>i,a:()=>o});var t=e(2003990933),s=e(5455782105),n=e(9392104102),r=e(6790819894),u=e(766806);const i={All:"ALL",AllExceptSelected:"ALL_EXCEPT_SELECTED",OnlySelected:"ONLY_SELECTED"},o=(0,r.F)(s.k,a=>(0,u.SI)(a,"slack_connect_allowed_workspaces"),(a,_)=>a?{value:(0,t.A)(_,"type[0]"),teams:(_==null?void 0:_.team)||n.Ml}:{value:i.All,teams:n.Ml})},7358758030:(W,T,e)=>{"use strict";e.d(T,{i:()=>o});var t=e(5455782105),s=e(5861086925),n=e(6839188756),r=e(766806),u=e(5597672932),i=e(3677514771);const o=m(a=>{const _=(0,t.k)(a),l=(0,i.H7)(a);return!_&&(0,n.tc)(l)?!1:(_?r.SI:u.xp)(a,s.yY.CAN_CREATE_EXTERNAL_LIMITED_INVITE)},"getCanCreateExternalLimitedInvitePref")},5225510813:(W,T,e)=>{"use strict";e.d(T,{C:()=>o});var t=e(5455782105),s=e(5861086925),n=e(6839188756),r=e(766806),u=e(5597672932),i=e(3677514771);const o=m(a=>{const _=(0,t.k)(a),l=(0,i.H7)(a);return!_&&(0,n.tc)(l)?!1:(_?r.SI:u.xp)(a,s.yY.CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE)},"getCanCreateSlackConnectChannelInvitePref")},1650729052:(W,T,e)=>{"use strict";e.d(T,{y:()=>c});var t=e(7174777686),s=e(9087248458),n=e(5455782105),r=e(5861086925),u=e(8087758879),i=e(6839188756),o=e(5343157203),a=e(5510392579),_=e(3559837422),l=e(5795074931),p=e(3677514771),g=e(598369692);const c=m((E,A)=>{const d=(0,l.WR)(E);var v;const h=(v=(0,p.H7)(E))!==null&&v!==void 0?v:void 0;if((0,_.AB)(E)||(0,_.sV)(E))return!1;const f=(0,a.p2)(E),y=(0,a.Zo)(E),I=(0,o.C)(E),C=(0,n.k)(E),D=(0,i.qR)(h),M=(0,u.o)(E,A);if(C){const P=(0,a.hu)(E),S=(0,a.FQ)(E);switch(M.value){case r.GX.TOPLEVEL_ADMINS_AND_OWNERS:return P||S;case r.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return P||S?!0:!!(0,t.A)(M.users,d);case r.GX.ALL_ADMINS_AND_OWNERS:return P||S||I;case r.GX.EVERYONE:return!0;default:return!1}}if(D)switch(M.value){case r.GX.TOPLEVEL_OWNERS:return f;case r.GX.TOPLEVEL_ADMINS_AND_OWNERS:return f||y;case r.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:return f||y||(0,t.A)(M.users,d)?!0:!!(0,s.A)(M.userGroups,(0,g.QF)(E)).length;case r.GX.EVERYONE:return!0;default:return!1}return!1},"isUserWhoCanDoSlackConnectPref")},5861086925:(W,T,e)=>{"use strict";e.d(T,{GX:()=>s,cM:()=>r,d5:()=>n,yY:()=>t});const t={CAN_CREATE_EXTERNAL_LIMITED_INVITE:"can_create_external_limited_invite",WHO_CAN_CREATE_EXTERNAL_LIMITED_INVITE:"who_can_create_external_limited_invite",CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"can_create_slack_connect_channel_invite",WHO_CAN_CREATE_SLACK_CONNECT_CHANNEL_INVITE:"who_can_create_slack_connect_channel_invite",CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"can_accept_slack_connect_channel_invites",WHO_CAN_ACCEPT_SLACK_CONNECT_CHANNEL_INVITES:"who_can_accept_slack_connect_channel_invites",WHO_CAN_MANAGE_SHARED_CHANNELS:"who_can_manage_ext_shared_channels",WHO_CAN_SLACK_CONNECT_DM:"who_can_dm_anyone"},s={TOPLEVEL_OWNERS:"TOPLEVEL_OWNERS",ALL_ADMINS_AND_OWNERS:"ORG_AND_WORKSPACE_ADMINS_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS:"TOPLEVEL_ADMINS_AND_OWNERS",TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED:"TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED",EVERYONE:"EVERYONE"},n={...s,NO_ONE:"NO_ONE",DEFAULT:s.EVERYONE},r={CAN_FREE_TEAMS_JOIN_SC_CHANNELS:"allow_sponsored_slack_connections"}},5331698805:(W,T,e)=>{"use strict";e.d(T,{u:()=>n});var t=e(5861086925),s=e(8087758879);const n=m(r=>{const u=t.yY.WHO_CAN_MANAGE_SHARED_CHANNELS;return(0,s.o)(r,u)},"getWhoCanManageSharedChannelsPref")},8087758879:(W,T,e)=>{"use strict";e.d(T,{o:()=>_});var t=e(5455782105),s=e(5861086925),n=e(6839188756),r=e(9392104102),u=e(766806),i=e(5597672932),o=e(3677514771);const a={plan:"",value:"",users:r.Ml,userGroups:r.Ml},_=m((l,p)=>{var g;const c=(0,o.H7)(l),E=(0,t.k)(l);if(!E&&(0,n.tc)(c))return a;const A=(E?"enterprise":c.plan)||"",d=E?(0,u.SI)(l,p):(0,i.xp)(l,p),v=(d==null||(g=d.type)===null||g===void 0?void 0:g[0])||"",h=v===s.GX.TOPLEVEL_ADMINS_AND_OWNERS_AND_SELECTED,f=h&&(d==null?void 0:d.user)||a.users,y=h&&(d==null?void 0:d.subteam)||a.userGroups;return{plan:A,value:v,users:f,userGroups:y}},"getWhoCanPref")},4087360693:(W,T,e)=>{"use strict";e.d(T,{V1:()=>r,X4:()=>n,bl:()=>s});var t=e(2047021170);const s="who_can_share_contact_card",n={EVERYONE:"EVERYONE",TEAM_MEMBERS:"TEAM_MEMBERS",NO_ONE:"NO_ONE"},r=m(u=>(0,t.ty)(u,s),"getWhoCanShareContactCardPref")},3212336858:(W,T,e)=>{"use strict";e.d(T,{DP:()=>z,qc:()=>de,qA:()=>Z,Bs:()=>re,Hv:()=>$,fK:()=>te,tY:()=>ie,GE:()=>De,b:()=>q,iH:()=>Ce,mE:()=>be});var t=e(7174777686),s=e(9323322135),n=e(5597672932),r=e(8276911661),u=e(9101533895),i=e(3792998666),o=e(7582939986),a=e(2791814261),_=e(8904182388),l=e(6165525655),p=e(591259428),g=e(3929724715),c=e(1407713935),E=e(395285811),A=e(918457931),d=e(2585735826),v=e(340763958),h=e(5343157203),f=e(9416626),y=e(4761125736),I=e(8983368692);const C={...f.u9,CantDisconnectExtShared:Symbol("cant_disconnect_ext_shared"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},D={ok:!1,reason:C.ChannelNotFound},M={ok:!1,reason:C.ChannelTypeNotSupported},P={ok:!1,reason:C.CantDisconnectExtShared},S={ok:!1,reason:C.WhoCanManagePref},b={ok:!0},O=m((me,ve)=>{const Fe=(0,y._Z)(me,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,c.jq)(ve))return D;if((0,E.K3)(me,ve))return M;if((0,v.ju)(ve)&&!(0,d.R)(me,ve))return P;const Ke=(0,g.FB)(ve),j=(0,I.xQ)(me,{channelId:Ke});if(!Fe&&(0,A.t)(ve)){if(j)return b;if(!(0,h.E)(me))return S}return(0,f.iz)(me,ve)},"canUserArchiveChannelWithReasons"),L=m((me,ve)=>O(me,ve).ok,"canUserArchiveChannel");var k=e(7563681762),K=e(3848977043),N=e(6495946979),R=e(2912967402),U=e(4094753332),x=e(735940183),B=e(5156662944);const F=m(me=>me&&(0,y._Z)(me,"feedback_disabled_orgs")==="treatment","isOrgInFeedbackDisabledList");var V=e(529357503),Y=e(7969244833),w=e(6934022494),G=e(2052624953);const Ee=new x.A("cmd_handlers"),{UNKNOWN_COMMAND:ne,UNSUPPORTED_IN_THREAD:se,UNSUPPORTED_IN_SHORTCUTS_MENU:ce,CUSTOM_ERROR:pe}=o.gu,ye=["/away","/collapse","/color","/colour","/dm","/expand","/feedback","/keys","/me","/msg","/s","/search","/shortcuts","/shrug","/slack_diagnostic_report","/slackdevtools","/star","/gif","/active","/giphy","/iamcal","/mute","/remind"],Ie=["/asana","/adobe-manage","/adobe-subscribe","/adobe-feedback","/adobe-help","/cohere-help","/cohere-settings","/cohere-summarize","/cohere-quiet","/augment","/dev-augment","/staging-augment"],Se=["/away","/active","/keys","/shortcuts","/apps","/rename","/feedback","/mute","/dnd","/leave","/part","/close","/call"],le=["/slackdebugunreads","/slackgov","/slackjspath","/slackstaging"],X=["/slackaccessibility","/slackgov"],J=["/leave","/close","/part","/archive","/topic"],z=m(me=>me&&me.alias_of,"getCommandAliasOf"),te=m(me=>me&&me.name,"getCommandName"),$=m(me=>me&&(me.desc||me.description),"getCommandDesc"),q=m(me=>me&&me.usage,"getCommandUsage"),re=m(me=>me&&(me.canonical_name||me.name),"getCommandCanonicalName"),de=m(me=>me&&me.aliases,"getCommandAliases"),oe=m(me=>me&&(me==null?void 0:me.is_runnable_from_thread),"getCommandIsRunnableFromThread"),De=m(me=>me&&me.type,"getCommandType"),ae=m(me=>me&&me.app,"getCommandApp"),Z=m(me=>me==null?void 0:me.appName,"getCommandAppName"),ie=m((me,ve,Fe)=>{const Ke=(0,u.OL)(me,Fe),j=Ke?(0,Y.f)(me,Ke)||[]:[];return ve.teams&&j.length&&ve.appName!=="Slack"&&!ve.isWorkspaceAgnostic?ve.teams.filter(je=>j.includes(je)):[]},"getCommandRelatedWorkspaces"),Ce=m(function(me,ve){let{channelId:Fe}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!ve)return!1;const Ke=re(ve);return Ke==="/leave"?(0,l.Y9)(me,Fe):Ke==="/remove"?(0,_.Vj)(me,Fe):["/topic","/search","/invite","/invite_people","/status","/dm","/msg"].indexOf(Ke)>-1?!1:!!ve.autocomplete},"isAutocompleteCommand"),Re=m(me=>!!(me&&me.isServer),"isServerCommand"),He=m(function(me){let ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(me){case k.a_.InvalidDm:return Ee.t("Direct messages don\u2019t even have a name! Ergo, regrettably, you can\u2019t change it.");case k.a_.OwnerRequired:return Ee.t("Only Workspace Admins (or the channel creator) are allowed to rename channels.");case k.a_.InvalidParams:return ve?Ee.t("Channel names can\u2019t contain spaces, periods, or most punctuation. Try again?"):Ee.t("You don\u2019t have permission to rename.");case k.a_.RestrictedUser:return ve?Ee.t("Your admins have limited who can rename multi-workspace channels."):Ee.t("You don\u2019t have permission to rename.");case k.a_.OrgSharedSettings:return ve?Ee.t("Your admins have limited who can rename multi-workspace channels."):Ee.t("You don\u2019t have permission to rename.");case k.a_.InvalidChannelType:return Ee.t("This channel can\u2019t be renamed.",{fallbackHash:"796ff139eccb4a046e980e400012eb16b22449d8"});default:return Ee.t("You don\u2019t have permission to rename.")}},"getRenameDisabledFeedback"),be=m(function(me,ve){let{channelId:Fe,isThread:Ke,isShortcutsMenu:j}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!me||!ve)return{isEnabled:!1,reason:ne};const ee=(0,G.i7)(me),je=re(ve),Te=De(ve),Je=(0,u.OL)(me,Fe);if(!(0,a.L)(me)&&(0,t.A)(le,je))return{isEnabled:!1,reason:ne};if(!(0,U.y3)()&&(0,t.A)(X,je))return{isEnabled:!1,reason:ne};if((0,E.jT)(Je)&&(0,t.A)(J,je))return{isEnabled:!1,reason:ne};if(Ke){if(ee){if(!(0,t.A)(ye,je)&&!oe(ve))return{isEnabled:!1,reason:se}}else if(!((0,t.A)(ye,je)||(0,t.A)(Ie,je)))return{isEnabled:!1,reason:se}}if(j&&(0,t.A)(Se,je))return{isEnabled:!1,reason:ce};if(Te==="custom"||Te==="service"){const Me=(0,n.xp)(me,"commands_only_regular"),we=(0,r.cA)(me);if(Me&&(0,i.Ez)(we))return{isEnabled:!1,reason:ne}}if(ve.teams){const Me=(0,Y.f)(me,Je)||[];if(!ve.teams.filter(Ge=>Me.includes(Ge)).length){const Ge=`Command not run. No intersection found between channel teams (${Me}) and command teams (${ve.teams})`;return{isEnabled:!1,reason:pe,logString:Ge,feedback:Ee.t("This command is not available in this channel")}}}if(je==="/open"||je==="/feed"){const Me=(0,r.cA)(me);if((0,i.Ez)(Me))return{isEnabled:!1,reason:ne}}else if(je==="/topic"){const{ok:Me,reason:we}=(0,p.X)(me,Fe);if(!Me)return{isEnabled:!1,reason:pe,feedback:(0,R.Bw)(we)}}else if(je==="/invite"){const Me=(0,r.cA)(me);if((0,i.Yd)(Me))return{isEnabled:!1,reason:ne};if(!(0,N.bl)(Je))return{isEnabled:!1,reason:pe,feedback:Ee.t("You don\u2019t have permission to invite people.")};if((0,i.Ez)(Me)&&!(0,c.Zp)(Je)||(0,V.A)(me,Me,Je))return{isEnabled:!1,reason:pe,feedback:Ee.t("You don\u2019t have permission to invite people.")}}else if(je==="/invite_people"){if(!(0,K.Lz)(me))return{isEnabled:!1,reason:pe,feedback:Ee.t("You don\u2019t have permission to invite people.")}}else if(je==="/rename"){const{ok:Me,reason:we}=(0,k.be)(me,Fe);if(!Me)return{isEnabled:!1,reason:pe,feedback:He(we)}}else if(je==="/archive"){if(!L(me,Je))return{isEnabled:!1,reason:ne}}else if(je==="/call"){if(!(0,B.lp)(me,Fe)||(0,B.tO)(me))return{isEnabled:!1,reason:ne}}else if(je==="/slacktrace"){if(!(0,s.Rg4)())return{isEnabled:!1,reason:pe,feedback:Ee.t("Please run /slacktrace in the latest version of the Slack desktop app.")}}else if(je==="/feedback"){if(F(me))return{isEnabled:!1,reason:ne}}else if(je==="/gif"){if(!(0,w.R4)(me))return{isEnabled:!1,reason:ne};if(!(0,w.BH)(me))return{isEnabled:!1,reason:pe,feedback:Ee.t("Attach a GIF is not enabled.")}}return{isEnabled:!0}},"isSlashCommandEnabled"),Ue={getRenameDisabledFeedback:He,TS_ONLY_COMMANDS:le,DESKTOP_APP_ONLY_COMMANDS:X}},6992769897:(W,T,e)=>{"use strict";e.d(T,{A:()=>_,O:()=>a});var t=e(9087248458),s=e(5980399196),n=e(5455782105),r=e(3071940241),u=e(8359728598),i=e(4761125736);const o=(0,u.A)((l,p)=>{const{teams:g,value:c}=p;switch(c){case"ONLY_SELECTED":return!!(0,t.A)(l,g).length;case"ALL_EXCEPT_SELECTED":return!!(0,s.A)(l,g).length;default:return!0}},2);function a(l){let{slackConnectAllowedWorkspacesPref:p,teamIds:g}=l;return g!=null&&g.length?o(g,p):!1}m(a,"areSomeTargetWorkspacesAllowedToHaveSharedChannelsStateless");function _(l,p){return!(0,n.k)(l)||(0,i._Z)(l,"sc_allowed_workspaces_pref_override")==="on"?!0:a({slackConnectAllowedWorkspacesPref:(0,r.a)(l),teamIds:p})}m(_,"areSomeTargetWorkspacesAllowedToHaveSharedChannels")},2801540778:(W,T,e)=>{"use strict";e.d(T,{z:()=>r});var t=e(6839188756),s=e(8847766420),n=e(1890276164);function r(u,i){if(!u||!i)return!1;const o=(0,t.ZT)(i);if((0,s.Kc)(u)===o||(0,s.ZT)(u)===o)return!1;const a=(0,s.jV)(u);return a&&a===i.enterprise_id?!1:(0,n.R)(u,i.id)}m(r,"isTeamExternal")},958961878:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>d,w2:()=>E});var t=e(3009309149),s=e(3202757386),n=e(4096483543),r=e(2249017398),u=e(2615100822),i=e(5731054235),o=e(6089972488);const _=m(()=>(0,s.A)(),"isDarkModeFeatureEnabled");var l=e(4094753332),p=e(506684971),g=e.n(p);const c=m(()=>{var h;const f=(0,l.y3)()||((h=window.matchMedia)===null||h===void 0?void 0:h.call(window,"(prefers-color-scheme)").media)!=="not all",y=(0,l.cX)()&&(0,o.Z)((0,o.P)(g().osversion),(0,o.P)("10.14"))>=0,I=(0,l.jy)(),C=(0,l.j9)()&&(0,l.dY)("4.36.136"),D=y||I||C,M=(0,l.y3)()||(0,n.A)()||(0,r.A)()||(0,u.A)()||(0,i.A)();return(0,s.A)()&&f&&D&&M},"computeSystemSyncIsSupportedOnBoot"),E=c(),A=(0,t.Ay)(h=>!!E&&!!_(h));A.meta={name:"createSelector",key:"createSelectorgetSystemSyncIsSupported",description:h=>!!E&&!!_(h)};const d=A,v={computeSystemSyncIsSupportedOnBoot:c}},3402139184:(W,T,e)=>{"use strict";e.d(T,{d:()=>s,s:()=>n});var t=e(4761125736);function s(r){return(0,t._Z)(r,"today_v2")==="on"}m(s,"isTodayV2Enabled");function n(r){return(0,t._Z)(r,"today_v2_next")==="on"}m(n,"isTodayV2NextEnabled")},317660850:(W,T,e)=>{"use strict";e.d(T,{D:()=>s});var t=e(8983368692);const s=m(n=>(0,t.NH)(n),"canUserAddEmoji")},324756633:(W,T,e)=>{"use strict";e.d(T,{S:()=>u});var t=e(9101533895),s=e(201941576),n=e(8983368692),r=e(1407713935);function u(i,o){const a=(0,t.gT)(i,o)&&(0,t.OL)(i,o)||void 0;return((0,r.yz)(a)?(0,n.De)(i):(0,n.De)(i,{channelId:o}))&&!(0,s.i)(i,a==null?void 0:a.id,{allowToAdmins:!0})}m(u,"canUserAtChannelInChannelById")},641827819:(W,T,e)=>{"use strict";e.d(T,{W:()=>i});var t=e(9101533895),s=e(201941576),n=e(6113051341),r=e(5795074931),u=e(8983368692);const i=m((o,a)=>{const _=(0,t.gT)(o,a)&&(0,t.OL)(o,a)||void 0;return!a||!_||!(0,n.N)(_)?!1:(0,r.u8)(o)?(0,u.Pj)(o,{channelId:a})&&!(0,s.i)(o,_==null?void 0:_.id,{allowToAdmins:!0}):(0,u.Pj)(o,{channelId:a})},"canUserAtEveryoneInChannelById")},1507833885:(W,T,e)=>{"use strict";e.d(T,{MM:()=>u,Uq:()=>i,_t:()=>o});var t=e(3385422400),s=e(5962670951),n=e(241752795),r=e(1340402138);const u=m(a=>((0,n.HV)(a)||(0,s.R)(a))&&!(0,r.R)(a),"canUserCreateChannelsInSomeWorkspace"),i=(0,t.Mz)(n.y5,s.S,(a,_)=>_,(a,_,l)=>l.some(p=>a.includes(p)||_.includes(p))),o=(0,t.Mz)(n.y5,s.S,(a,_)=>_,(a,_,l)=>l.every(p=>a.includes(p)||_.includes(p)))},5962670951:(W,T,e)=>{"use strict";e.d(T,{R:()=>i,S:()=>o});var t=e(3078708518),s=e(4618126901),n=e(3347557755),r=e(6476812141);const u=m(a=>!(0,t.A)(a),"isPermittedToPrecondition"),i=m(a=>{if(!u(a))return!1;const _=(0,n.ox)(a,{permission:r.p.CREATE_PRIVATE_CHANNEL});return(0,s.Jr)(_)},"canUserCreatePrivateChannelsInSomeWorkspace"),o=m(a=>{if(!u(a))return[];const _=(0,n.oI)(a,{permission:r.p.CREATE_PRIVATE_CHANNEL});return(0,s.n9)(_)},"getWorkspaceIdsOnWhichUserCanCreatePrivateChannels")},241752795:(W,T,e)=>{"use strict";e.d(T,{HV:()=>p,YD:()=>c,y5:()=>g});var t=e(3078708518),s=e(1407713935),n=e(6495946979),r=e(7304011293),u=e(3307632080),i=e(7112191091),o=e(4618126901),a=e(3347557755),_=e(6476812141);const l=m(E=>!(0,t.A)(E),"isPermittedToPrecondition"),p=m(E=>{if(!l(E))return!1;const A=(0,a.ox)(E,{permission:_.p.CREATE_PUBLIC_CHANNEL});return(0,o.Jr)(A)},"canUserCreatePublicChannelsInSomeWorkspace"),g=m(E=>{if(!l(E))return[];const A=(0,a.oI)(E,{permission:_.p.CREATE_PUBLIC_CHANNEL});return(0,o.n9)(A)},"getWorkspaceIdsOnWhichUserCanCreatePublicChannels"),c=m((E,A)=>{if(!(0,s.Zp)(A)||!l(E)||(0,u.A)(E,A))return!1;const d=(0,a.WB)(E,{permission:_.p.CONVERT_PRIVATE_TO_PUBLIC,channelId:A.id});return(0,o.Jr)(d)&&(0,n.bl)(A)||(0,i.yG)(E,A)||(0,s.rI)(A)&&(0,r.O)(E,A.id)?!0:!!(0,i.yG)(E,A)},"canUserCreatePublicChannelFromPrivateChannel")},1612857492:(W,T,e)=>{"use strict";e.d(T,{i:()=>_,q:()=>a});var t=e(3929724715),s=e(6495946979),n=e(7112191091),r=e(1407713935),u=e(9101533895),i=e(8983368692),o=e(8250322877);const a=m((l,p)=>{if(!(0,r.jq)(p))return!1;const g=(0,t.FB)(p);return(0,o.D)(l,p)&&((0,n.S4)(l,p)||(0,s.bl)(p)&&(0,i.Fk)(l,{channelId:g}))},"canUserInviteExternalUsersToChannel"),_=m((l,p)=>{const c=(0,u.OL)(l,p,!1);return c?a(l,c):!1},"canUserInviteExternalUsersToChannelById")},9183417278:(W,T,e)=>{"use strict";e.d(T,{Q:()=>_,e:()=>l});var t=e(3929724715),s=e(6495946979),n=e(1407713935),r=e(7112191091),u=e(9101533895),i=e(4761125736),o=e(8983368692),a=e(8250322877);const _=m((p,g)=>{const c=(0,i._Z)(p,"invite_to_channel_permission")==="on";if(!(0,n.jq)(g))return!1;const E=(0,t.FB)(g),A=(0,a.D)(p,g);return c&&(0,n.Zp)(g)?A&&((0,r.S4)(p,g)||(0,s.bl)(g)&&(0,o.jw)(p,{channelId:E})):A},"canUserInviteInternalUsersToChannel"),l=m((p,g)=>{const E=(0,u.OL)(p,g,!1);return E?_(p,E):!1},"canUserInviteInternalUsersToChannelById")},8250322877:(W,T,e)=>{"use strict";e.d(T,{D:()=>c,X:()=>E});var t=e(1340402138),s=e(3929724715),n=e(1407713935),r=e(6007206761),u=e(5373179915),i=e(6495946979),o=e(2350349607),a=e(7112191091),_=e(3559837422),l=e(9101533895),p=e(4761125736),g=e(8983368692);const c=m((A,d)=>{const v=(0,p._Z)(A,"invite_to_channel_permission")==="on";if(!(0,n.jq)(d))return!1;const h=(0,s.FB)(d);return(0,_.AB)(A)||(0,r.F)(d)||!(0,o.V)(d)||(0,t.R)(A)&&(0,u.R)(A,d)?!1:v&&(0,n.Zp)(d)?(0,a.S4)(A,d)||(0,i.bl)(d)&&((0,g.jw)(A,{channelId:h})||(0,g.Fk)(A,{channelId:h})):(0,a.S4)(A,d)||(0,i.bl)(d)},"canUserInviteToChannel"),E=m((A,d)=>{const h=(0,l.OL)(A,d,!1);return h?c(A,h):!1},"canUserInviteToChannelById")},8904182388:(W,T,e)=>{"use strict";e.d(T,{CE:()=>E,Vj:()=>y,VJ:()=>f});var t=e(1407713935),s=e(6007206761),n=e(6841796315),r=e(9101533895);const u={InvalidDm:Symbol("invalid_dm"),ArchivedChannel:Symbol("archived_channel"),RequiredChannel:Symbol("required_channel")},i={ok:!1,reason:u.ArchivedChannel},o={ok:!1,reason:u.InvalidDm},a={ok:!1,reason:u.RequiredChannel};function _(I,C){const D=(0,r.gT)(I,C)?(0,r.OL)(I,C):null;return(0,s.F)(D)?i:(0,t.LI)(D)||(0,t.yz)(D)?o:(0,t.gx)(D)?a:n.O}m(_,"isChannelKickableWithReason");function l(I,C){return _(I,C).ok}m(l,"isChannelKickable");var p=e(6915262278),g=e(3559837422),c=e(8983368692);const E={...u,InvalidParams:Symbol("invalid_params"),UserIsRestricted:Symbol("user_is_restricted"),RestrictedPublicChannel:Symbol("restricted_public_channel"),RestrictedPrivateChannel:Symbol("restricted_private_channel")},A={ok:!1,reason:E.InvalidParams},d={ok:!1,reason:E.UserIsRestricted},v={ok:!1,reason:E.RestrictedPublicChannel},h={ok:!1,reason:E.RestrictedPrivateChannel};function f(I,C){const D=(0,r.gT)(I,C)?(0,r.OL)(I,C):null;if(!(0,t.jq)(D))return A;if((0,g.sV)(I))return d;const M=_(I,C);if(!M.ok)return{ok:!1,reason:M.reason};const P=(0,c.J3)(I,{channelId:C}),S=(0,c.j)(I,{channelId:C}),b=(0,t.rW)(D)?"public":"private",O=b==="private"?p.Po:p.LI,L=b==="private"?p.tU:p.H7;return!(O(I)||L(I))&&!(b==="private"?S:P)?b==="private"?h:v:n.O}m(f,"canUserKickFromChannelWithReason");function y(I,C){return f(I,C).ok}m(y,"canUserKickFromChannel")},6915262278:(W,T,e)=>{"use strict";e.d(T,{H7:()=>p,LI:()=>_,Po:()=>l,tU:()=>g});var t=e(5597672932),s=e(3677514771),n=e(5455782105),r=e(6839188756),u=e(5510392579),i=e(4618126901),o=e(3347557755),a=e(6476812141);const _=m(c=>{if(!(0,n.k)(c))return!1;const E=(0,o.tA)(c,{permission:a.p.MANAGE_PUBLIC_CHANNELS});return(0,i.Jr)(E)},"canUserManagePublicChannelsInOrgDash"),l=m(c=>{if(!(0,n.k)(c))return!1;const E=(0,o.tA)(c,{permission:a.p.MANAGE_PRIVATE_CHANNELS});return(0,i.Jr)(E)},"canUserManagePrivateChannelsInOrgDash"),p=m(c=>{const E=(0,s.H7)(c);return(0,r.Ny)(E)?(0,u.h3)(c):!1},"canUserManagePublicChannelsInTeamSite"),g=m(c=>{const E=(0,s.H7)(c);if(!(0,r.Ny)(E)||(0,r.NB)(E)&&!(0,t.xp)(c,"has_compliance_export"))return!1;const A=(0,o.ox)(c,{permission:a.p.MANAGE_WORKSPACE_PRIVATE_CHANNELS});return(0,i.Jr)(A)},"canUserManagePrivateChannelsInTeamSite")},5343157203:(W,T,e)=>{"use strict";e.d(T,{C:()=>E,E:()=>A});var t=e(7530630315),s=e(235108050),n=e(9087248458),r=e(5455782105),u=e(7876109014),i=e(5510392579),o=e(3559837422),a=e(8847766420),_=e(5795074931),l=e(4761125736),p=e(8983368692),g=e(766806),c=e(598369692);const E=m(d=>{if((0,o.sV)(d))return!1;const v=(0,a.jV)(d);if((0,i.V7)(d,v)||(0,i.PY)(d,v))return!0;const h=(0,a.ZT)(d),f=(0,t.A)(h,(0,a.kN)(d));return(0,s.A)(f).some(I=>!!((0,i.$G)(d,I)||(0,i.h3)(d,I)))},"isCurrentUserAnyAdminOrOwner");function A(d){if((0,l._Z)(d,"light_read_who_can_manage_shared_channels_pref_migration")==="on")return(0,p.Gh)(d);const h=(0,g.SI)(d,"who_can_manage_shared_channels");if(!h)return!0;if(!(0,r.k)(d)||(0,o.sV)(d))return!1;const f=(0,_.WR)(d);if((0,u.v)(h,"user")&&h.user.includes(f))return!0;if((0,u.v)(h,"subteam")){const I=(0,c.QF)(d);if((0,n.A)(h.subteam,I).length>0)return!0}const y=h==null?void 0:h.type;return y!=null&&y.includes("regular")?!0:y!=null&&y.includes("admin")?E(d):y!=null&&y.includes("owner")?(0,i.PY)(d):!1}m(A,"canUserManageOrgSharedChannels")},7563681762:(W,T,e)=>{"use strict";e.d(T,{JJ:()=>P,a_:()=>E,be:()=>D,rY:()=>M});var t=e(1407713935),s=e(918457931),n=e(7112191091),r=e(6915262278),u=e(5343157203),i=e(6025726268),o=e(3559837422),a=e(6841796315),_=e(5795074931),l=e(9101533895),p=e(4761125736),g=e(3490825458),c=e(8983368692);const E={InvalidChannelType:Symbol("invalid_channel_type"),InvalidDm:Symbol("invalid_dm"),InvalidParams:Symbol("invalid_params"),OrgSharedSettings:Symbol("org_shared_settings"),OwnerRequired:Symbol("owner_required"),RestrictedUser:Symbol("restricted_user"),RestrictedAction:Symbol("restricted_action"),UserHasNoPermissions:Symbol("user_has_no_permissions")},A={ok:!1,reason:E.InvalidParams},d={ok:!1,reason:E.InvalidDm},v={ok:!1,reason:E.InvalidChannelType},h={ok:!1,reason:E.RestrictedUser},f={ok:!1,reason:E.OrgSharedSettings},y={ok:!1,reason:E.OwnerRequired},I={ok:!1,reason:E.UserHasNoPermissions},C=m((S,b)=>{const O=(0,p._Z)(S,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,t.jq)(b))return A;if((0,t.LI)(b)||(0,t.yz)(b))return d;if((0,t.rI)(b))return v;const L=(0,_.TZ)(S),k=(0,g.s$)(S),K=(0,g.RE)(S);if(!L)return k&&((0,t.Zp)(b)&&(0,r.Po)(S)||(0,t.rW)(b)&&(0,r.LI)(S))||K&&((0,t.Zp)(b)&&(0,r.tU)(S)||(0,t.rW)(b)&&(0,r.H7)(S))?a.O:I;if(O)return(0,c.JF)(S,{channelId:b.id})?a.O:I;const N=(0,u.E)(S)||(0,c.eE)(S);return(0,s.t)(b)&&!N?f:(0,i.M)(S,b)||(0,c.JF)(S,{channelId:b.id})?a.O:(0,o.sV)(S)||(0,o.AB)(S)?h:(0,n.S4)(S,b)?a.O:y},"canUserRenameChannelWithReason"),D=m((S,b)=>{const L=(0,l.OL)(S,b,!1);return L?C(S,L):A},"canUserRenameChannelWithReasonById"),M=m((S,b)=>C(S,b).ok,"canUserRenameChannel"),P=m((S,b)=>D(S,b).ok,"canUserRenameChannelById")},9416626:(W,T,e)=>{"use strict";e.d(T,{NG:()=>S,iz:()=>P,u9:()=>c});var t=e(3929724715),s=e(1407713935),n=e(6007206761),r=e(6495946979),u=e(918457931),i=e(2585735826),o=e(340763958),a=e(9846841407),_=e(7112191091),l=e(5343157203),p=e(4761125736),g=e(8983368692);const c={ChannelNotFound:Symbol("channel_not_found"),ChannelTypeNotSupported:Symbol("channel_type_not_supported"),CantArchiveGeneral:Symbol("cant_archive_general"),NotInChannel:Symbol("not_in_channel"),AlreadyArchived:Symbol("already_archived"),NotAllowedHomeExternallyShared:Symbol("not_allowed_home_ext_shared"),AwayExternallyShared:Symbol("away_ext_shared"),UserHasNoPermissions:Symbol("user_has_no_permissions"),DefaultOrgWideChannel:Symbol("default_org_wide_channel"),WhoCanManagePref:Symbol("who_can_manage_shared_channels")},E={ok:!1,reason:c.ChannelNotFound},A={ok:!1,reason:c.ChannelTypeNotSupported},d={ok:!1,reason:c.CantArchiveGeneral},v={ok:!1,reason:c.NotInChannel},h={ok:!1,reason:c.AlreadyArchived},f={ok:!1,reason:c.NotAllowedHomeExternallyShared},y={ok:!1,reason:c.AwayExternallyShared},I={ok:!1,reason:c.UserHasNoPermissions},C={ok:!1,reason:c.DefaultOrgWideChannel},D={ok:!1,reason:c.WhoCanManagePref},M={ok:!0},P=m((b,O)=>{const L=(0,p._Z)(b,"light_read_who_can_manage_shared_channels_pref_migration")==="on";if(!(0,s.jq)(O))return E;if((0,s.LI)(O)||(0,s.yz)(O))return A;if((0,s.gx)(O))return d;if((0,n.F)(O))return h;if((0,a.b)(b,O))return y;if(!(0,_.S4)(b,O)&&!(0,r.bl)(O))return v;const K=(0,t.FB)(O);if((0,o.ju)(O)&&!(0,a.b)(b,O)&&!(0,i.R)(b,O))return f;const N=(0,g.xQ)(b,{channelId:K});return!L&&(0,u.t)(O)&&!(0,l.E)(b)&&!(0,g.eE)(b,{channelId:K})?D:N?M:I},"canUserSeeArchiveChannelOptionWithReasons"),S=m((b,O)=>P(b,O).ok,"canUserSeeArchiveChannelOption")},591259428:(W,T,e)=>{"use strict";e.d(T,{P:()=>A,X:()=>E});var t=e(9101533895),s=e(6495946979),n=e(2912967402),r=e(1407713935),u=e(6007206761),i=e(3559837422),o=e(340763958),a=e(4827886670),_=e(8983368692);const l={ok:!0},p={ok:!1,reason:n.CM},g={ok:!1,reason:n.Jr},c={ok:!1,reason:n.oP},E=m((d,v)=>{const h=(0,t.gT)(d,v)&&(0,t.OL)(d,v);return h?(0,r.JM)(h)&&(0,o.ju)(h)?g:(0,u.F)(h)?c:(0,_.YH)(d,{channelId:v})?l:!(0,s.bl)(h)||!(0,a.c)(d,h)||(0,i.sV)(d)||(0,i.AB)(d)?c:l:p},"canUserSetTopicForChannelWithReasonById"),A=m((d,v)=>E(d,v).ok,"canUserSetTopicForChannelById")},3307632080:(W,T,e)=>{"use strict";e.d(T,{A:()=>r,G:()=>n});var t=e(6545221113),s=e(8847766420);const n=m((u,i)=>{if(!u||!i)return!1;const o=(0,s.Kc)(u);return(0,t.A)(u,o,i)},"isExternalLimited"),r=n},6347621377:(W,T,e)=>{"use strict";e.d(T,{A:()=>Ke});var t=e(3134334389),s=e(6122756707),n=e(4844578989),r=e.n(n),u=e(7715417323),i=e(7937864072),o=e(5519459863),a=e(2683115972),_=e(3989454579),l=e(7138682671),p=e(4979382452),g=e(4636370173),c=e(2465132699),E=e(8523371695),A=e(3606117573),d=e(8029613601),v=e(4829524689),h=e(4947127560),f=e(735940183),y=e(4096483543),I=e(9391594207),C=e(9003400431),D=e(1928462597),M=e(387484329),P=e(1684408608);function S(){return S=Object.assign||function(j){for(var ee=1;ee<arguments.length;ee++){var je=arguments[ee];for(var Te in je)Object.prototype.hasOwnProperty.call(je,Te)&&(j[Te]=je[Te])}return j},S.apply(this,arguments)}m(S,"_extends");const b=new f.A("contextual_help"),O={elementName:"contextual_help_modal_pref",onChange:{enableClogAction:!0}},L=m(j=>{let{suppressOnClose:ee=!1,cancelButtonAutoClogProps:je,cancelButtonText:Te,children:Je,className:Ae,closeModal:Me,"data-qa":we="contextual_help_modal",onSubmit:Ge=u.A,contextualHelpCheckboxLabel:Qe,pref:fe,showCancelButton:Ve=!1,submitButtonAutoClogProps:Be,submitButtonText:Ye,submitButtonType:et="primary",title:at="",illustration:gt,setUserPrefByApi:Mt=u.A}=j;const Bt=(0,i.A)(),[Ct]=(0,o.A)(fe),Ft=D.PW[fe],[kt,Et]=(0,t.useState)(Ft!==Ct),mt="contextual-help-modal-dialog-title",Rt="contextual-help-modal-dialog-content",Ht=(0,t.useCallback)(Tt=>{Bt.action("CONTEXTUAL-HELP-MODAL",`Changed ${fe}: ${Tt}`),(0,y.A)()?(0,P.gj)((0,M.AZ)({pref:fe,value:Tt})):Mt({pref:fe,value:Tt})},[Bt,fe,Mt]),ft=(0,t.useCallback)(function(){let Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ee?Ht(!Ft):Tt&&Ht(Ft!==kt),Me()},[ee,Me,Ft,kt,Ht]),Jt=(0,t.useCallback)(Tt=>{Et(Tt.target.checked)},[]),Zt=(0,t.useCallback)(()=>{Ge(),ft(!0)},[ft,Ge]);return t.createElement(p.A,{className:Ae,labelledby:mt,describedby:Rt,closeModal:ft,role:"alertdialog",dataQa:we,shouldReturnFocusAfterClose:!0,showCloseButton:!1},t.createElement(d.A,null,gt?t.createElement(v.A,S({"aria-hidden":!0},gt)):null,t.createElement(h.A,{title:at,id:mt,"data-qa":`${we}_header`})),t.createElement(g.A,null,t.createElement(c.A,{"data-qa":`${we}_content`,id:Rt},Je)),t.createElement(E.A,{"data-qa":`${we}_footer`,className:r()({"c-contextual_help_shortcuts_list__footer_with_checkbox":!ee})},!ee&&t.createElement(l.A,{"data-qa":`${we}_pref_checkbox_label`,type:"inline",cursor:"pointer",text:Qe||b.t("Don\u2019t show me this again",{fallbackHash:"a4232cdf54911c7d294da66c7a7a824355769293",fallbackHashNs:"msg_edit"})},t.createElement(_.A,{checked:kt,onChange:Jt,autoClogProps:O})),t.createElement(A.A,null,Ve&&t.createElement(a.Ay,{type:"outline",onClick:ft,"data-qa":`${we}_cancel`,autoClogProps:je},Te||b.t("Cancel",{fallbackHash:"77dfd2135f4db726c47299bb55be26f7f4525a46",fallbackHashNs:"generic_dialog"})),t.createElement(a.Ay,{type:et,onClick:Zt,"data-qa":`${we}_submit`,autoClogProps:Be,autoFocus:!0},Ye||b.t("Got It",{fallbackHash:"c8a487428d655b8f4d84feb9acdac446bb649d66",fallbackHashNs:"messages"})))))},"ContextualHelpModal");L.displayName="ContextualHelpModal";const k=m(j=>({closeModal:()=>j((0,C.O)()),setUserPrefByApi:ee=>(0,M.AZ)(ee)}),"mapDispatchToProps"),K=(0,I.N)(null,k)(L);var N=e(4481313819),R=e(440635146),U=e(8739505998),x=e(4094753332),B=e(7171435821),F=e(8783045612),V=e.n(F);const Y=new f.A("contextual_help"),w={elementName:"confirm_seen_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},G={elementName:"learn_more_link_contextual_help_for_section_navigation",onClick:{enableClogAction:!0}},Ee={src:V(),alt:""},ne=m(()=>{const j=(0,x.y3)(),ee=Y.t("Are you trying to move sections?",{fallbackHash:"3f506b9d5da983587d6842f20a64fa5d55ff16a2"}),je=`https://${(0,B.qF)()}/help/articles/115003340723-Navigate-Slack-with-your-keyboard`,Te=(0,R.ed)("Cmd"),Je=(0,R.ed)("Ctrl"),Ae=(0,R.ed)(R.tc.ArrowLeft),Me=(0,R.ed)(R.tc.ArrowRight),we=Y.t("F6"),Ge=Y.rt("{ctrlKey}+{f6Key}",{ctrlKey:Je,f6Key:we}),Qe=m(()=>(0,x.cX)()?Y.rt("{cmdKey}+{ctrlKey}+{leftArrowKey} or {rightArrowKey}",{cmdKey:Te,ctrlKey:Je,leftArrowKey:Ae,rightArrowKey:Me}):j?we:Ge,"getSectionNavigationKeys"),fe=Y.rt("<ul><li>To move focus between different sections of Slack\u2019s interface press <strong>{sectionNavigationKeys}</strong></li><li>To navigate between items in toolbars, lists, and tabs use <strong>arrow keys</strong></li></ul><link>Learn more about keyboard navigation</link>",{sectionNavigationKeys:Qe(),"<link>":Be=>{let{text:Ye}=Be;return t.createElement(U.A,{href:je,autoClogProps:G},Ye)},fallbackHash:"98591a618babdd526f05af764ebdd2c6a90047c1"}),Ve=Y.t("OK",{fallbackHash:"9ce3bd4224c8c1780db56b4125ecf3f24bf748b7",fallbackHashNs:"generic_dialog"});return t.createElement(N.A,{uiComponentName:"ContextualHelpForSectionNavigationModal",clogImpression:!0},t.createElement(K,{pref:"should_show_contextual_help_for_section_navigation",submitButtonAutoClogProps:w,title:ee,illustration:Ee,suppressOnClose:!0,submitButtonText:Ve},fe))},"ContextualHelpForSectionNavigationModal");ne.displayName="ContextualHelpForSectionNavigationModal";const se=ne;var ce=e(6304789565),pe=e(3051824855),ye=e(2047021170);const Ie=(0,pe.e)(se),Se=(0,ce.Ay)("Maybe open modal dialog with contextual help for section navigation",(j,ee)=>{const je=ee();(0,ye.ty)(je,"should_show_contextual_help_for_section_navigation")&&j(Ie())});Se.meta={name:"createThunk",key:"createThunkshowContextualHelpForSectionNavigation",description:"Maybe open modal dialog with contextual help for section navigation"};const le=null;var X=e(4348392507),J=e(2830068825),z=e(9551108847),te=e(9053431150);const $=m(j=>{const{startFocusTransitionFallbackTimeout:ee,cancelFocusTransitionFallback:je}=(0,t.useContext)(te.Ay),Te=(0,t.useCallback)((Ae,Me)=>{ee(j,Ae,Me)},[j,ee]),Je=(0,t.useCallback)(()=>{je(j)},[je,j]);return(0,t.useEffect)(()=>()=>{je(j)},[je,j]),[Te,Je]},"useFocusTransitionFallback");var q=e(1952320730),re=e(3626175760),de=e(8999436648),oe=e(3527550343),De=e(337319621),ae=e(2684695959),Z=e(6165267850),ie=e(9012396182),Ce=e(4134037340),Re=e(8847766420),He=e(6533394955);function be(){return be=Object.assign||function(j){for(var ee=1;ee<arguments.length;ee++){var je=arguments[ee];for(var Te in je)Object.prototype.hasOwnProperty.call(je,Te)&&(j[Te]=je[Te])}return j},be.apply(this,arguments)}m(be,"managed_focus_container_extends");const Ue={display:"contents"},me="active-managed-focus-container",ve=m(()=>!0,"shouldAlwaysFocus"),Fe=m(j=>{const{id:ee,index:je,focusFn:Te=u.A,restoreFocusFn:Je=void 0,enableSectionNavigation:Ae=!0,refToForward:Me=void 0,onFocus:we=u.A,onBlur:Ge=u.A,shouldFocus:Qe=ve,onFirstHiddenTabStopFocus:fe=u.A,onLastHiddenTabStopFocus:Ve=u.A,tabCountToShowContextualHelp:Be=4,windowRef:Ye,windowToken:et=void 0,windowId:at=void 0,className:gt,...Mt}=j,{registerSection:Bt,unregisterSection:Ct,setActiveSection:Ft}=(0,t.useContext)(de.A),kt=(0,J.A)(Me),[Et,mt]=(0,t.useState)(),[Rt,Ht]=(0,t.useState)(0),{getState:ft}=(0,s.Pj)(),Jt=ft();let Zt=Jt,Tt;(0,Ce.A)(Jt)?(Tt=(0,ie.getFocusedWorkspace)(Jt),Zt=(0,He.$D)(Tt)):Tt=(0,Re.ZT)(Jt);const Pt=(0,De.Ay)({state:Zt}),Kt=(0,ye.ty)(Zt,"should_show_contextual_help_for_section_navigation"),dn=(0,t.useCallback)(Vt=>(0,He.Qw)(Tt,(0,M.AZ)({pref:"should_show_contextual_help_for_section_navigation",value:Vt})),[Tt]),[sn,H]=(0,t.useState)(!1),Ne=(0,t.useCallback)(()=>{if(sn)return;const Vt=Rt+1;if(Kt){Ht(0),dn(!1),H(!0),(0,He.Qw)(Tt,Ie({openModalProps:{forceTargetWindowId:at}}));return}if(Vt>=Be){Ht(0),H(!0),(0,He.Qw)(Tt,Ie({openModalProps:{forceTargetWindowId:at}}));return}Ht(Vt)},[sn,dn,Kt,Be,Rt,Tt,at]),Pe=(0,t.useCallback)(Vt=>{fe(Vt)},[fe]),qe=(0,t.useCallback)(Vt=>{Ve(Vt),Ne()},[Ne,Ve]),At=(0,t.useCallback)(Vt=>{Ft(ee),we(Vt)},[ee,we,Ft]),xt=(0,t.useCallback)(Vt=>{const{target:qt,currentTarget:rn,relatedTarget:vn}=Vt;rn.contains(vn)||mt((0,Z.O)(qt)),Ge(Vt)},[Ge]),jt=(0,t.useCallback)(()=>Qe()?!kt.current||ee===re.yE?!0:!!(0,oe.Fp)(kt.current):!1,[kt,Qe,ee]),Xt=(0,t.useCallback)(()=>{var Vt,qt;return!!(!((Vt=kt.current)===null||Vt===void 0)&&Vt.contains((qt=Ye.deref())===null||qt===void 0?void 0:qt.document.activeElement))},[kt,Ye]),en=(0,t.useCallback)(()=>{const Vt=Et==null?void 0:Et.deref();return!(!Vt||!Vt.focus||!kt.current.contains(Vt)||!(0,ae.A)(Vt,Ye.deref()))},[kt,Et,Ye]),Qt=(0,t.useCallback)(Vt=>{var qt;if(Vt!==((qt=Ye.deref())===null||qt===void 0?void 0:qt.document.activeElement)||!kt.current||Xt())return;const rn=(0,oe.Fp)(kt.current);rn&&rn.focus()},[kt,Ye,Xt]),ht=(0,t.useCallback)(Vt=>{if(Rt===0||sn)return;const{key:qt,shiftKey:rn}=Vt.detail;qt==="Tab"&&!rn||Ht(0)},[sn,Rt]),[Nt]=$(Qt);(0,t.useEffect)(()=>{var Vt;return(Vt=Ye.deref())===null||Vt===void 0||Vt.document.addEventListener("keyboard-navigation",ht),()=>{var qt;(qt=Ye.deref())===null||qt===void 0||qt.document.removeEventListener("keyboard-navigation",ht)}},[Ye,ht]),(0,t.useEffect)(()=>(Ae&&(Bt(ee,{focus:()=>{var Vt;if(en()){var qt;if(Je)Je(Et==null?void 0:Et.deref());else{var rn;(rn=Et==null?void 0:Et.deref())===null||rn===void 0||rn.focus()}if(((qt=Ye.deref())===null||qt===void 0?void 0:qt.document.activeElement)===(Et==null?void 0:Et.deref()))return}Te(),Nt(z.H0,(Vt=Ye.deref())===null||Vt===void 0?void 0:Vt.document.activeElement)},shouldFocus:jt},je),Xt()&&Ft(ee)),Ae||Ct(ee),()=>{Ct(ee)}),[Ae,Te,Je,ee,je,Bt,Ct,jt,Et,Ye]),(0,t.useEffect)(()=>{var Vt;Ae&&(!((Vt=kt.current)===null||Vt===void 0)&&Vt.getElementsByClassName(me).length)&&Pt.devHint("UNEXPECTED MANAGED FOCUS CONTAINER HIERARCHY",`Detected an active nested ManagedFocusContainer in container ${ee}; this will disrupt app-level F6 navigation (see https://slack-github.com/slack/webapp/blob/master/js/modern/slack-kit/accessibility-components/managed-focus-container/managed-focus-container.tsx#L30-L36)`)},[Ae,kt,Pt,ee]);const on=Ae?me:void 0;return t.createElement(q.A,be({onFocus:At,onBlur:xt,onFirstHiddenTabStopFocus:Pe,onLastHiddenTabStopFocus:qe,ref:kt,className:r()(gt,on)},Mt))},"ManagedFocusContainer");Fe.displayName="ManagedFocusContainer",Fe.defaultProps={style:Ue};const Ke=(0,X.A)(Fe)},3626175760:(W,T,e)=>{"use strict";e.d(T,{Pb:()=>i,bP:()=>o,n_:()=>n,ol:()=>u,yE:()=>s});var t=e(3193155968);const s="QuipEmbed",n=[s,"QuipInsertionToolbar","QuipFloatingFormattingBar","QuipEmbeddeddUIToolbar"],r=["QuipHeaderView","QuipMegaphoneHeader","QuipActivityHistoryFloatingBar","QuipEmptyStateOptions","QuipSystemMessageBanner","QuipFlexpaneFooter","QuipFloatingActions","QuipPreviewTemplatesFooter"],u=["HuddleWindowBottomToolbar","HuddleWindowFlexpane","HuddleWindowTitlebar","HuddleWindowThread","HuddleWindowContent","HuddleWindowVideoStrip"],i=["WFBTemplatePreviewSidebar","WFBTemplatePreviewPrimary","WFBCanvas","WFBStepLibrary","WFBWaysToStart"],o=[...n,...r,"WorkspaceTabRail","WorkspaceSwitcherRail","WorkspaceSwitcher","TopNav","ControlStrip",t.mq.Sidebar,t.mq.Primary,t.mq.Secondary,t.mq.Modal,"HuddleWorkspace","PocketGuide","ProductivityTips","VideoClipsMiniplayer"]},2035583094:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(3193155968);const n={WORKSPACE_SWITCHER_TAB_LIST:0,PRIMARY_WORKSPACE_ACTIONS:1,SECONDARY_WORKSPACE_ACTIONS:2,WORKSPACE_NAVIGATION:3,PRIMARY_VIEW:4,SECONDARY_VIEW:5,TOP_NAV:0,WORKSPACE_SWITCHER:1,WORKSPACE_SWITCHER_RAIL:2,WORKSPACE_TAB_RAIL:3,CONTROL_STRIP:7,HUDDLE_WORKSPACE:8,POCKET_GUIDE:9,PRODUCTIVITY_TIPS:10,VIDEO_CLIPS_MINIPLAYER:11,[t.mq.Sidebar]:4,[t.mq.Primary]:5,[t.mq.Secondary]:6,[t.mq.Split]:7,[t.mq.Modal]:-1,[t.mq.Peek]:-1,[t.mq.Headless]:-1}},8999436648:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3134334389),s=e(7715417323),n=e(5135324409);const r=t.createContext({registerSection:s.A,unregisterSection:s.A,setActiveSection:s.A,getActiveSection:n.Q,resetSectionNavigation:s.A})},581167618:(W,T,e)=>{"use strict";e.d(T,{AO:()=>d,A_:()=>A,Ay:()=>y,QE:()=>E});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(4481313819),u=e(6105929840),i=e(1610251172),o=e(2201208793),a=e(4882164428),_=e(8683010724),l=e(1224315998),p=e(4413566926);function g(){return g=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&(I[M]=D[M])}return I},g.apply(this,arguments)}m(g,"_extends");const c=new p.Ay("sk_banner");var E;(function(I){I.default="default",I.boxed="boxed",I.inlineBoxed="inline_boxed",I.nestedBox="nested_box",I.inline="inline",I.custom="custom"})(E||(E={}));var A;(function(I){I.default="default",I.info="info",I.success="success",I.warning="warning",I.error="error"})(A||(A={}));var d;(function(I){I.left="left",I.center="center",I.right="right"})(d||(d={}));const v={elementName:"close",elementType:l.ElementType.X,action:l.UiAction.CLOSE,onClick:{enableClogAction:!0}},h=new Map([["default","slack-pillow"],["info","info-circle"],["success","check-circle-o-large"],["error","warning"],["warning","warning"]]),f=m(I=>{let{align:C=d.left,autoClogProps:D={},className:M,heading:P,icon:S,customIcon:b,id:O,level:L=A.default,type:k=E.boxed,children:K,"data-qa":N,isIconVisible:R=!0,showCloseButton:U=!1,onClose:x,ariaLabelForCloseBtn:B,closeBackgroundStyle:F}=I;const V=(0,a.f)(o.j.Alert),[Y,w]=(0,t.useState)(!1),G=n()("c-alert",`c-alert--${k}`,`c-alert--level_${L}`,`c-alert--align_${C}`,{"c-alert--multiline":!!P},M,V),Ee=h.get(L)||"slack-pillow",ne=(b||Ee)&&k!==E.inline&&k!==E.custom,se=k===E.nestedBox?"inherit":void 0,ce=k!==E.custom&&P,pe=(0,t.useCallback)(()=>{w(!0),x==null||x()},[x]);return Y?null:t.createElement(r.A,g({},D,{elementType:l.ElementType.ALERT}),t.createElement("div",{className:G,id:O,"data-qa":N,"data-qa-alert":!0,"data-qa-alert-level":L,"data-qa-alert-type":k,"data-qa-alert-align":C},R&&ne&&(b||t.createElement(i.A,{type:S||Ee,className:"c-alert__icon",size:se,inline:!0,"data-qa-alert-icon":!0,"data-qa-alert-icon-type":S||Ee})),t.createElement("span",{className:"c-alert__message","data-qa-alert-message":!0},ce&&t.createElement("strong",{className:"c-alert__heading","data-qa-alert-heading":!0},P),K),U&&t.createElement("div",{className:"c-alert__close","data-qa":"alert_close_btn"},t.createElement(u.A,{onClick:pe,backgroundStyle:F,"aria-label":B??c.t("Dismiss"),autoClogProps:v,size:"small"},t.createElement(_.A,{name:"close",size:"20"})))))},"Alert");f.displayName="Alert",f.displayName="Alert";const y=f},2645587768:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>b,Gs:()=>D,QE:()=>y,al:()=>P});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(441565466),i=e(2664504268),o=e(9506727031),a=e(6347621377),_=e(2035583094),l=e(6105929840),p=e(8683010724),g=e(8725848962),c=e(4426213732),E=e(1224315998),A=e(3527550343),d=e(4413566926),v=e(8359728598);function h(){return h=Object.assign||function(O){for(var L=1;L<arguments.length;L++){var k=arguments[L];for(var K in k)Object.prototype.hasOwnProperty.call(k,K)&&(O[K]=k[K])}return O},h.apply(this,arguments)}m(h,"_extends");const f=new d.Ay("sk_banner");var y;(function(O){O.info="info",O.success="success",O.warning="warning",O.urgent="urgent",O.neutral="neutral"})(y||(y={}));const I={elementName:"close",elementType:E.ElementType.X,action:E.UiAction.CLOSE,onClick:{enableClogAction:!0}},C=(0,v.A)((O,L)=>({top:O,opacity:L})),D={type:"success",showCloseButton:!0,closeButtonSize:20,autoFadeout:!1,topOffset:0,className:null,isFixedPosition:!0,"data-qa":"banner",onClose:r.A,onFocus:r.A,onBlur:r.A,closeOnDismiss:!0},M=2e3;let P=m(class extends t.PureComponent{getIsPersistent(){const{closeOnDismiss:L,showCloseButton:k}=this.props;return!L&&!k}componentDidMount(){this.fadeOutMaybe(),this.maybeRemoveAriaDescribedBy()}componentWillUnmount(){this.cancelAnimation()}fadeOutMaybe(){const{autoFadeout:L,onClose:k}=this.props;if(!L)return;const K=(0,g.A)({delay:M,fromValue:1,toValue:0,duration:M,easing:"easeOutQuad",onTick:N=>{let{value:R,nextTick:U}=N;this.setState(()=>({opacity:R})),U()},onComplete:()=>{this.setState(()=>({isShowing:!1})),k==null||k()}});this.cancelAnimation=K.cancel}setRef(L){var k,K;this.banner&&(this.banner.current=L),(K=(k=this.props).innerRef)===null||K===void 0||K.call(k,L)}focus(){const L=(0,A.Fp)(this.banner.current);L&&L.focus()}close(){const{onClose:L,closeOnDismiss:k}=this.props;k&&this.setState(()=>({isShowing:!1})),L==null||L()}onCloseButtonClick(){this.close()}onKeyDown(L){const{showCloseButton:k}=this.props,K=this.getIsPersistent();L.key==="Escape"&&k&&(K||this.close())}maybeRemoveAriaDescribedBy(){var L,k;const{"aria-describedby":K}=this.props;if(K)return;((L=this.textContent)===null||L===void 0||(k=L.current)===null||k===void 0?void 0:k.querySelectorAll("a,button").length)&&this.state.describedbyId&&this.setState(()=>({describedbyId:void 0}))}renderLabel(){const{type:L,"aria-label":k,"aria-labelledby":K}=this.props;if(!K)return k||(L===y.info||L===y.neutral?f.t("Information",{fallbackHash:"0eb5ed506e4923c28d7f4a8aa69efe99b3ad75d1",fallbackHashNs:"toast"}):L===y.success?f.t("Success",{fallbackHash:"42a8f651d79fd005eeac0612df6442b983a01184",fallbackHashNs:"a11y_prefs_setup"}):L===y.warning?f.t("Warning",{fallbackHash:"e9c45563358e813f157ba81b33143542165ba84e",fallbackHashNs:"toast"}):L===y.urgent?f.t("Urgent",{fallbackHash:"e9c45563358e813f157ba81b33143542165ba84e",fallbackHashNs:"toast"}):f.t("Information",{fallbackHash:"0eb5ed506e4923c28d7f4a8aa69efe99b3ad75d1",fallbackHashNs:"toast"}))}render(){const{type:L,children:k,showCloseButton:K,closeButtonSize:N,topOffset:R,className:U,isFixedPosition:x,dismissButtonLabel:B,"data-qa":F,onFocus:V,onBlur:Y,"aria-labelledby":w}=this.props,{isShowing:G,opacity:Ee,describedbyId:ne}=this.state;if(!G)return!1;const se=n()("c-banner",{[`c-banner--${L}`]:!!L,"c-banner--fixed":x},U),ce=L!=="warning"?"dark":"light",pe=f.t("Close",{fallbackHash:"bbfa773e5a63a5ea58c9b6207e608ca0120e592a",fallbackHashNs:"ia4"}),Ie=this.getIsPersistent()?"group":"dialog";return t.createElement("div",{role:Ie,"aria-label":this.renderLabel(),"aria-labelledby":w,"aria-describedby":ne,className:se,style:R?C(R,Ee):void 0,"data-qa":F,ref:this.setRef,onFocus:V,onBlur:Y,onKeyDown:this.onKeyDown},t.createElement("div",{id:this.textContentId,className:"c-banner__text",ref:this.textContent},k),K&&t.createElement(l.A,{className:"c-banner__close",onClick:this.onCloseButtonClick,backgroundStyle:ce,"aria-label":B||pe,autoClogProps:I,"data-qa":"banner_close_btn"},t.createElement(p.A,{name:"close",size:N})))}constructor(L){super(L),(0,c.v)(this,["onCloseButtonClick","onKeyDown","focus","setRef","maybeRemoveAriaDescribedBy"]),this.cancelAnimation=r.A,this.banner=t.createRef(),this.textContent=t.createRef(),this.textContentId=(0,i.A)();const{"aria-describedby":k}=L;this.state={isShowing:!0,opacity:1,describedbyId:k||this.textContentId}}},"Banner");P.displayName="Banner",P.defaultProps=D,P.displayName="Banner";const S=(0,t.forwardRef)((O,L)=>{let{enableSectionNavigation:k=!1,...K}=O;const R=`Banner_${(0,u.A)()}`,U=_.A.WORKSPACE_SWITCHER_TAB_LIST-.1;return t.createElement(a.A,{id:R,index:U,focusFn:r.A,enableSectionNavigation:k},t.createElement(P,h({ref:L},K)))}),b=(0,o.A)(S)},9332393661:(W,T,e)=>{"use strict";e.d(T,{A:()=>A});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3398586081),u=e(7715417323),i=e(1610251172);const o=(0,r.A)(d=>({height:`${d}px`,width:`${d}px`}));function a(d){let{icon:v,classes:h=null,size:f=20,ariaHidden:y=void 0,ariaRole:I="img",ariaLabel:C=void 0}=d;const D=n()("c-base_font_icon",h);return t.createElement("div",{className:D,style:o(f),"aria-hidden":y,role:I,"aria-label":C},t.createElement(i.A,{type:v}))}m(a,"BaseFontIcon"),a.displayName="BaseFontIcon";const _=a;var l=e(337319621);const p=(0,l.Wo)(),g=(0,r.A)(d=>({height:`${d}px`,width:`${d}px`})),c=(0,r.A)(d=>({width:`${d}px`}));function E(d){let{image:v=void 0,size:h=20,srcSet:f="",classes:y=void 0,icon:I=void 0,ariaHidden:C=!1,ariaRole:D="img",ariaLabel:M=void 0,widthOnly:P=!1,onLoad:S=u.A,onError:b=u.A,resetIA:O,"data-qa":L}=d;v&&I&&p.warn("BaseIcon: cannot pass in both image and icon!"),!C&&!M&&p.warn("BaseIcon: if ariaHidden is false, we must have an ariaLabel for a11y!");const k=n()("c-base_icon",y,{"c-base_icon--unknown":!v&&!I,"c-base_icon--image":v,"c-base_icon--resetIA":O});if(I)return t.createElement(_,{icon:I,classes:k,size:h,ariaHidden:C,ariaRole:D,ariaLabel:M});const K=t.createElement("img",{src:v,srcSet:f,className:k,style:P?c(h):g(h),"aria-hidden":C,role:D,"aria-label":M,alt:"",onLoad:S,onError:b,"data-qa":L});return P?t.createElement("span",{className:n()("c-base_icon__width_only_container",{"c-base_icon--resetIA":O}),style:g(h)},K):K}m(E,"BaseIcon"),E.displayName="BaseIcon";const A=E},6496493732:(W,T,e)=>{"use strict";e.d(T,{A:()=>A});var t=e(3134334389),s=e(7715417323),n=e(441565466),r=e(6084388622),u=e(4979382452),i=e(4636370173),o=e(2465132699),a=e(8523371695),_=e(3606117573),l=e(8029613601),p=e(4947127560),g=e(4413566926);const c=new g.Ay("generic_dialog"),E=m(d=>{let{title:v,children:h,submitButtonType:f="primary",submitButtonText:y=c.t("Confirm"),submitButtonIsDisabled:I=!1,submitButtonIsLoading:C=!1,showCancelButton:D=!0,showCloseButton:M=!0,showSubmitButton:P=!0,cancelButtonText:S=c.t("Cancel"),onSubmit:b=s.A,onCancel:O=s.A,onClose:L=s.A,"data-qa":k="dialog",className:K,overlayClassName:N,submitAutoClogProps:R,cancelAutoClogProps:U,shouldReturnFocusAfterClose:x=!0}=d;const B=(0,n.A)(),F=(0,n.A)();return t.createElement(u.A,{describedby:F,labelledby:B,closeModal:L,role:"dialog",className:K,overlayClassName:N,dataQa:k,shouldReturnFocusAfterClose:x,showCloseButton:M},t.createElement(l.A,null,t.createElement(p.A,{id:B,title:v,"data-qa":`${k}_header`})),t.createElement(i.A,null,t.createElement(o.A,{id:F,"data-qa":`${k}_body`},h)),(D||P)&&t.createElement(a.A,{"data-qa":`${k}_footer`},t.createElement(_.A,null,D&&t.createElement(r.Ay,{type:"outline",onClick:O,"data-qa":`${k}_cancel`,autoClogProps:U},S),P&&t.createElement(r.lV,{type:f,onClick:b,loading:C,disabled:I,"data-qa":`${k}_go`,autoClogProps:R,"aria-label":y},y))))},"DialogModalProps");E.displayName="DialogModalProps";const A=E},51460783:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(4518138713);function u(){return u=Object.assign||function(a){for(var _=1;_<arguments.length;_++){var l=arguments[_];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(a[p]=l[p])}return a},u.apply(this,arguments)}m(u,"_extends");function i(a){const{children:_,className:l}=a;return _?t.createElement("span",u({className:n()(l,"c-base_entity__metadata")},(0,r.A)(a)),_):null}m(i,"BaseEntityMetadata"),i.displayName="BaseEntityMetadata";const o=i},161084047:(W,T,e)=>{"use strict";e.d(T,{A:()=>o});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(4518138713);function u(){return u=Object.assign||function(a){for(var _=1;_<arguments.length;_++){var l=arguments[_];for(var p in l)Object.prototype.hasOwnProperty.call(l,p)&&(a[p]=l[p])}return a},u.apply(this,arguments)}m(u,"_extends");function i(a){const{children:_,className:l}=a;return _?t.createElement("span",u({className:n()(l,"c-base_entity__subtext")},(0,r.A)(a)),_):null}m(i,"BaseEntitySubtext"),i.displayName="BaseEntitySubtext";const o=i},3534100833:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2809903252),u=e(4518138713);function i(){return i=Object.assign||function(_){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(_[g]=p[g])}return _},i.apply(this,arguments)}m(i,"_extends");function o(_){const{children:l=null,className:p="",multiline:g=!1,inline:c=!1,breakWords:E=!0,withTruncationTooltip:A=!1}=_;if(!l)return null;const d=g?2:1;return c?t.createElement("span",i({className:n()(p,"c-base_entity__text")},(0,u.A)(_)),l):t.createElement("span",i({className:n()(p,"c-base_entity__text")},(0,u.A)(_)),t.createElement(r.A,{lines:d,breakWords:E,withTooltip:A},l))}m(o,"BaseEntityText"),o.displayName="BaseEntityText";const a=o},1464713483:(W,T,e)=>{"use strict";e.d(T,{A:()=>p});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(3877384923),i=e(4518138713);function o(){return o=Object.assign||function(g){for(var c=1;c<arguments.length;c++){var E=arguments[c];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A])}return g},o.apply(this,arguments)}m(o,"_extends");const a=m((g,c,E,A)=>!(g!==u.ny.medium||!E||A||c),"shouldVerticallyCenter"),_={className:"c-base_entity__avatar"},l=m(g=>{const{size:c,style:E=u.pI.normal,text:A=null,className:d="",subtext:v=null,avatar:h=r.A,metadata:f=null,forwardedRef:y=null}=g,I=h(_),C=!!I;return t.createElement("div",o({className:n()(d,"c-base_entity",`c-base_entity--${c}`,{"c-base_entity--has-avatar":C,"c-base_entity--dim":E===u.pI.dim,"c-base_entity--vertically-center":a(c,v,C,f)})},(0,i.A)(g),{ref:y}),I,t.createElement("div",{className:"c-base_entity__text-contents"},A,v,f))},"BaseEntity");l.displayName="BaseEntity";const p=l},5273017660:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>u,CG:()=>r.A,Q:()=>s.A,sT:()=>n.A});var t=e(1464713483),s=e(51460783),n=e(161084047),r=e(3534100833);const u=t.A},2671211451:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(3877384923),i=e(2809903252),o=e(4518138713);function a(){return a=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var d in A)Object.prototype.hasOwnProperty.call(A,d)&&(c[d]=A[d])}return c},a.apply(this,arguments)}m(a,"_extends");const _=m(c=>{let{children:E,truncate:A=!1,truncateWidth:d,withTruncationTooltip:v=!1}=c;const h=(0,t.useMemo)(()=>({maxWidth:d||void 0}),[d]);if(!A)return t.createElement("span",null,E);let f;return d?f=t.createElement("span",{className:"c-base_inline_entity__inline_wrapper",style:h},E):f=t.createElement("span",null,t.createElement(i.A,{lines:1,withTooltip:v},E)),f},"MaybeTruncate");_.displayName="MaybeTruncate";const l={className:"c-base_inline_entity__avatar","data-qa":"base_inline_entity__avatar"};let p=m(class extends t.Component{render(){const{className:E,avatar:A=r.A,primaryContent:d,secondaryContent:v,style:h=u.pI.normal,truncate:f=!1,truncateWidth:y,withTruncationTooltip:I=!1}=this.props,C=A(l),D=!!C;return t.createElement("span",a({className:n()(E,"c-base_inline_entity",{"c-base_inline_entity--has_avatar":D,"c-base_inline_entity--truncate_block":f&&!y,"c-base_inline_entity--truncate_inline":f&&y,"c-base_inline_entity--dim":h===u.pI.dim,"c-base_inline_entity--highlight-dark":h===u.pI.highlightDark,"c-base_inline_entity--highlight-dim":h===u.pI.highlightDim,"c-base_inline_entity--highlight-light":h===u.pI.highlightLight})},(0,o.A)(this.props)),t.createElement(_,{truncate:f,truncateWidth:y,withTruncationTooltip:I},C,t.createElement("span",{className:"c-base_inline_entity__primary_content"},d),v&&t.createElement("span",{className:"c-base_inline_entity__secondary_content"},v)))}},"BaseInlineEntity");p.displayName="BaseInlineEntity";const g=p},2828836153:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3877384923),u=e(4518138713);function i(){return i=Object.assign||function(_){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(_[g]=p[g])}return _},i.apply(this,arguments)}m(i,"_extends");let o=m(class extends t.Component{render(){const{className:l,ariaLabel:p,primaryContent:g,secondaryContent:c,size:E=r.ny.medium,style:A=r.pI.normal,padding:d=r.FK.normal}=this.props;return t.createElement("div",i({className:n()(l,"c-base_list_entity",`c-base_list_entity--${E}`,{"c-base_list_entity--dim":A===r.pI.dim,"c-base_list_entity--highlight-dark":A===r.pI.highlightDark,"c-base_list_entity--highlight-dim":A===r.pI.highlightDim,"c-base_list_entity--highlight-light":A===r.pI.highlightLight,"c-base_list_entity--no-pad":d===r.FK.none})},(0,u.A)(this.props),{"aria-label":p}),t.createElement("div",{className:"c-base_list_entity__primary_content"},g),c&&t.createElement("div",{className:"c-base_list_entity__secondary_content"},c))}},"BaseListEntity");o.displayName="BaseListEntity";const a=o},3877384923:(W,T,e)=>{"use strict";e.d(T,{FK:()=>n,P:()=>u,RG:()=>t,ny:()=>r,pI:()=>s});const t={xxlarge:102,xlarge:72,large:56,medium:36,small:20,inline:14},s={normal:"normal",dim:"dim",highlightDark:"highlight-dark",highlightDim:"highlight-dim",highlightLight:"highlight-light"},n={normal:"12px",none:"0"},r={small:"small",medium:"medium"},u={true:!0,bestOnly:"best_only",false:!1}},3989454579:(W,T,e)=>{"use strict";e.d(T,{A:()=>E});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(3817509504),i=e(4954329752),o=e(5617110048),a=e(8427910566),_=e(2201208793),l=e(4882164428),p=e(1224315998);function g(){return g=Object.assign||function(A){for(var d=1;d<arguments.length;d++){var v=arguments[d];for(var h in v)Object.prototype.hasOwnProperty.call(v,h)&&(A[h]=v[h])}return A},g.apply(this,arguments)}m(g,"_extends");const E=t.forwardRef(m(function(d,v){let{className:h,isRequired:f=!1,"aria-disabled":y,indeterminate:I=!1,checked:C,unstyled:D,autoClogProps:M,onChange:P,focusOnMount:S,...b}=d;const O=(0,t.useRef)(null),L=(0,t.useContext)(a.A),[k,K]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(I&&C==null)throw new Error("The indeterminate prop is only supported for the controlled Checkbox. Please provide the checked prop.");O.current&&(O.current.indeterminate=I)},[C,I]),(0,t.useEffect)(()=>{if(S){var V;(V=O.current)===null||V===void 0||V.focus()}},[S]);const N=(0,t.useCallback)(V=>{C===void 0&&M&&K(V.target.checked),P==null||P(V)},[M,C,P]),R=(0,l.f)(_.j.Checkbox),U=D?n()("c-input_unstyled_checkbox",h,R,{"c-input_unstyled_checkbox--focus-visible":L,"c-input_unstyled_checkbox--checked":C}):n()("c-input_checkbox",h,R,{"c-input_checkbox--focus-visible":L,"c-input_checkbox--disabled":y}),x=t.createElement("input",g({},b,(0,u.A)(b),{"aria-disabled":y,"aria-checked":I?"mixed":void 0,checked:C,type:"checkbox",required:f,className:U,ref:(0,i.P)(O,v),onChange:y?r.A:N})),B=C!==void 0?C:k,F=(0,t.useMemo)(()=>({onChange:{action:B?p.UiAction.UNCHECK:p.UiAction.CHECK}}),[B]);return M?t.createElement(o.A,{autoClogProps:M,actionProps:F,elementType:p.ElementType.CHECKBOX},x):x},"Checkbox"))},5797272849:(W,T,e)=>{"use strict";e.d(T,{E:()=>t});const t={small:"c-form--small",large:"c-form--large"}},3391133100:(W,T,e)=>{"use strict";e.d(T,{Es:()=>n,Yk:()=>u,r7:()=>o,r9:()=>r,zI:()=>i});var t=e(4413566926);const s=new t.Ay("form_inputs");function n(a,_){return`${a}_${_}`}m(n,"getInputBuddyId");function r(){return Math.random().toString(36).substring(2,10)}m(r,"getRandomId");const u=m(a=>{const _=a.filter(l=>l);if(_.length!==0)return _.join(" ")},"makeAriaComboIds"),i=m(a=>s.t("You can\u2019t enter more than {maxCharacterLimit, plural, =1 {# character} other {# characters}}.",{maxCharacterLimit:a}),"getMaximumCharacterErrorText"),o=m(a=>s.t("You must enter at least {minCharacterLimit, plural, =1 {# character} other {# characters}}.",{minCharacterLimit:a}),"getMinimumCharacterErrorText")},2660476100:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3134334389),s=e(4844578989),n=e.n(s);function r(u){let{children:i,className:o,id:a}=u;return i?t.createElement("div",{className:n()("c-hint",o),id:a},i):null}m(r,"Hint")},7138682671:(W,T,e)=>{"use strict";e.d(T,{A:()=>l,Q:()=>o});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(4413566926);function u(){return u=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var c=arguments[g];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(p[E]=c[E])}return p},u.apply(this,arguments)}m(u,"_extends");const i=new r.Ay("app_dialog"),o={block:"block",inline:"inline"};var a;let _=m(class extends(a=t.Component){getCursor(){const{cursor:g,htmlFor:c,isDisabled:E}=this.props;return E?null:typeof g>"u"&&c?"pointer":g}renderOptionalTextMaybe(){const{optional:g}=this.props,c=i.t("(optional)");return g?t.createElement("span",{className:"c-label__optional_tag","data-qa-label-optional-tag":!0},c):null}renderSubtextMaybe(){const{subtext:g}=this.props;return g?t.createElement("span",{className:"c-label__subtext","data-qa-label-subtext":!0},g):null}render(){const{className:g,cursor:c,htmlFor:E,optional:A,subtext:d,text:v,type:h,isDisabled:f,dataQaLabel:y,...I}=this.props,C=n()("c-label",g,{"c-label--block":h===o.block,"c-label--inline":h===o.inline,"c-label--with_subtext":d,"c-label--pointer":this.getCursor()==="pointer","c-label--disabled":f,"c-label--with_formatted_text":typeof v!="string"});return t.createElement("label",u({},I,{htmlFor:E,className:C,"data-qa-label":y,"data-qa-label-type":h}),t.createElement("span",{className:"c-label__text","data-qa-label-text":!0},v,this.renderOptionalTextMaybe(),this.renderSubtextMaybe()),t.createElement("span",{className:"c-label__children","data-qa-label-children":!0},this.props.children))}},"Label");_.defaultProps={children:null,className:null,cursor:void 0,htmlFor:null,optional:!1,subtext:null,type:"block",isDisabled:!1,dataQaLabel:"true"},_.displayName="Label";const l=_},5375115868:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5617110048),u=e(1224315998);function i(){return i=Object.assign||function(l){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var c in g)Object.prototype.hasOwnProperty.call(g,c)&&(l[c]=g[c])}return l},i.apply(this,arguments)}m(i,"_extends");const o={onChange:{action:u.UiAction.CLICK}};let a=m(class extends t.PureComponent{componentDidMount(){const{focusOnMount:p,autoFocus:g}=this.props;(p||g)&&this.focus()}componentDidUpdate(){const{autoFocus:p}=this.props;p&&this.focus()}focus(){var p;(p=this.inputRef.current)===null||p===void 0||p.focus()}render(){const{className:p,autoClogProps:g,autoFocus:c,focusOnMount:E,...A}=this.props,d=n()("c-input_radio",p),v=t.createElement("input",i({},A,{className:d,ref:this.inputRef,type:"radio"}));return g?t.createElement(r.A,{autoClogProps:g,actionProps:o,elementType:u.ElementType.RADIO},v):v}constructor(p){super(p),this.inputRef=t.createRef()}},"Radio");a.defaultProps={autoFocus:!1},a.displayName="Radio";const _=a},9205344153:(W,T,e)=>{"use strict";e.d(T,{A:()=>d});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3708320478),u=e(5166368300),i=e(4426213732),o=e(124320166),a=e(4413566926);const _=new a.Ay("form_inputs"),l={inline:"inline",multiline:"multiline"},p=m((v,h)=>v>h,"isCurrentCountInvalid"),g=m((v,h)=>h-v,"getCharacterCount"),c=m((v,h,f)=>!f||v>=f?g(v,h):"","getCharacterCountDisplay"),E=m(v=>v.toString().length,"getCharacterCountLength");let A=m(class extends t.Component{getSnapshotBeforeUpdate(h){if(h.currentCount!==this.props.currentCount){this.updateCharactersRemainingMessage(this.props.currentCount,this.props.maxCharacterLimit);const f=g(this.props.currentCount,this.props.maxCharacterLimit),y=E(f);this.shouldReadCharactersRemainingMessage=!1,this.state.characterCountLength!==y&&this.setCharacterCountLength(y)}return null}componentDidUpdate(h,f){this.props.type===l.inline&&f.characterCountLength!==this.state.characterCountLength&&this.measureCountWidth()}onBlur(){this.shouldReadCharactersRemainingMessage=!0,this.setState(()=>({hasFocus:!1}))}onFocus(){this.setState(()=>({hasFocus:!0}))}getCharacterCountWidth(){return this.characterCountWidth||this.measureCountWidth()}setCharacterCountLength(h){this.setState(()=>({characterCountLength:h}))}setCharactersRemainingMessage(h,f){const y=this.makeCharactersRemainingMessage(h,f);this.setState(()=>({charactersRemainingMessage:y}))}setCharactersRemainingRef(h){this.charactersRemainingElement=h}makeCharactersRemainingMessage(h,f){const y=g(h,f);return _.t("{count, plural, =1 {# character} other {# characters}} remaining",{count:y})}measureCountWidth(){const h=this.charactersRemainingElement&&this.charactersRemainingElement.offsetWidth||0;return this.characterCountWidth=h,h}renderCharactersRemaining(){if(!this.state.hasFocus)return null;const{currentCount:h,maxCharacterLimit:f,counterMinimumCharacters:y}=this.props,I=c(h,f,y);return t.createElement("div",{"aria-hidden":"true",className:"c-input_character_count__characters-remaining",ref:this.setCharactersRemainingRef},I)}render(){const{className:h,currentCount:f,maxCharacterLimit:y,children:I,isDisabled:C,size:D,type:M,id:P}=this.props,S=n()(h,"c-input_character_count",{"c-input_character_count--multiline":M===l.multiline,"c-input_character_count--large":D===u.F.large,"c-input_character_count--small":D===u.F.small,"c-input_character_count--invalid":this.state.hasFocus&&p(f,y),"c-input_character_count--disabled":C}),b=this.shouldReadCharactersRemainingMessage&&t.createElement("div",{id:P,hidden:!0},this.state.charactersRemainingMessage);let O;return this.shouldReadCharactersRemainingMessage||(O=t.createElement(r.A,{assertive:!0,message:this.state.charactersRemainingMessage})),t.createElement("div",{role:"presentation",className:S,"data-qa":"input_character_count",onFocus:this.onFocus,onBlur:this.onBlur},I,this.renderCharactersRemaining(),O,b)}constructor(h){super(h);const f=this.makeCharactersRemainingMessage(h.currentCount,h.maxCharacterLimit);this.state={characterCountLength:0,charactersRemainingMessage:f,hasFocus:!1},this.characterCountWidth=0,this.shouldReadCharactersRemainingMessage=!0,(0,i.v)(this,["setCharactersRemainingRef","setCharactersRemainingMessage","onFocus","onBlur"]),this.updateCharactersRemainingMessage=(0,o.A)(this.setCharactersRemainingMessage,1500)}},"CharacterCount");A.defaultProps={className:void 0,currentCount:0,isDisabled:!1,type:l.inline,size:u.F.medium,counterMinimumCharacters:0,id:void 0},A.displayName="CharacterCount";const d=A},2219904496:(W,T,e)=>{"use strict";e.d(T,{A:()=>b});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2003990933),u=e(7715417323),i=e(581167618),o=e(3391133100),a=e(2660476100),_=e(9205344153),l=e(5166368300),p=e(1610251172);const g={small:"small",medium:"medium",large:"large"},c=m(O=>{let{size:L,icon:k,children:K}=O;const N=n()("c-input_text_icon",{"c-input_text_icon--small":L===g.small,"c-input_text_icon--large":L===g.large}),R=n()("c-input_text_icon__icon",{"c-input_text_icon__icon--small":L===g.small,"c-input_text_icon__icon--large":L===g.large});return t.createElement("div",{className:N},t.createElement(p.A,{type:k,className:R,size:"inherit"}),K)},"TextInputIcon");c.displayName="TextInputIcon";const E=t.memo(c);let A=m(class extends t.PureComponent{getOverlayText(){return this.props.value||this.props.placeholder}renderOverlay(){const{size:L,prefix:k,suffix:K}=this.props,N=n()("c-input_text_overlay",{"c-input_text_overlay--large":L===l.F.large},this.props.className);return t.createElement("div",{className:N,"data-overlay-prefix":k,"data-overlay-suffix":K,"aria-hidden":"true","data-qa":"text_overlay_suffix"},this.getOverlayText())}render(){const{children:L,suffix:k}=this.props;return t.createElement("div",{className:"position_relative","aria-describedby":`Text input with ${k} appended to the text value.`},this.renderOverlay(),L)}},"TextInputOverlay");A.defaultProps={className:"",placeholder:"",size:l.F.medium,value:"",prefix:"",suffix:""},A.displayName="TextInputOverlay";const d=A;var v=e(434544446),h=e.n(v),f=e(8509961938);function y(O,L){const k=I(O);return L&&k.length?k.replace((0,f.A)(),"E").replace(h()(),"E").length:k.length}m(y,"getTextLength");function I(O){return O==null?"":typeof O=="string"?O:String(O)}m(I,"coerceValueToString");var C=e(9665283624),D=e(4426213732);function M(){return M=Object.assign||function(O){for(var L=1;L<arguments.length;L++){var k=arguments[L];for(var K in k)Object.prototype.hasOwnProperty.call(k,K)&&(O[K]=k[K])}return O},M.apply(this,arguments)}m(M,"_extends");const P=12;let S=m(class extends t.PureComponent{componentDidMount(){this.maybeFocusAndSelectOnMount(this.props)}componentDidUpdate(L,k){(this.props.value!==L.value||this.state.isFocused!==k.isFocused)&&this.getTextStyle(),this.props.value!==L.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.maybeFocusAndSelectOnMount(L)}onBlur(L){const{onBlur:k}=this.props;this.setState(()=>({isFocused:!1})),k&&k(L)}onFocus(L){const{onFocus:k}=this.props;this.setState(()=>({isFocused:!0,everFocused:!0})),k&&k(L)}getPrefixStyle(){const{size:L,prefix:k}=this.props;if(!k)return;let K;const R=document.createElement("canvas").getContext("2d");return R&&(L===l.F.medium?(R.font="15px Slack-Lato",K=R.measureText(k).width+P):L===l.F.small?(R.font="13px Slack-Lato",K=R.measureText(k).width+P):(R.font="18px Slack-Lato",K=R.measureText(k).width+P)),{paddingLeft:K}}getTextStyle(){var L;const{maxCharacterLimit:k}=this.props;if(!k){this.setTextStyle({});return}const N={paddingRight:(L=this.characterCount)===null||L===void 0?void 0:L.getCharacterCountWidth()};this.setTextStyle(N)}setTextStyle(L){this.setState(()=>({textStyle:L}))}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}focus(){this.input.current&&this.input.current.focus()}maybeFocusAndSelectOnMount(L){const{focusOnMount:k,forceSelectAll:K}=this.props;this.state.everFocused&&k&&L&&L.focusOnMount===k||!this.input||!this.input.current||!k||(this.props.focusOnMount&&this.props.preventScrollOnFocus?this.input.current.focus({preventScroll:!0}):this.input.current.focus(),K&&this.input.current.select())}getIsInputLengthTooShort(){const{emojisShouldCountAsSingleCharacter:L,isRequired:k,minCharacterLimit:K,value:N}=this.props,{everReceivedUserInput:R}=this.state;if(!R||K==null)return!1;const U=y(N,L);return!k&&U===0?!1:U<K}getIsInputLengthTooLong(){const{maxCharacterLimit:L,value:k,emojisShouldCountAsSingleCharacter:K}=this.props;return L==null?!1:y(k,K)>L}renderDeprecatedErrorMaybe(){const{errorLevel:L,errorText:k,errorType:K,minCharacterLimit:N,maxCharacterLimit:R}=this.props;return k?t.createElement(i.Ay,{id:this.state.errorId,level:L,type:K,className:"margin_bottom_100","data-qa":"form_text_input_alert_on_error_text"},k):this.getIsInputLengthTooLong()?t.createElement(i.Ay,{id:this.state.errorId,level:i.A_.error,type:K,className:"margin_bottom_100"},(0,o.zI)(R)):this.getIsInputLengthTooShort()?t.createElement(i.Ay,{id:this.state.errorId,level:i.A_.error,type:K,className:"margin_bottom_100"},(0,o.r7)(N)):null}renderErrorMaybe(){const{errorText:L,minCharacterLimit:k,maxCharacterLimit:K}=this.props;return L?t.createElement(C.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-inline-alert"},L):this.getIsInputLengthTooLong()?t.createElement(C.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,o.zI)(K)):this.getIsInputLengthTooShort()?t.createElement(C.A,{id:this.state.errorId,className:"margin_bottom_100","data-qa":"form-text-max-char-alert"},(0,o.r7)(k)):null}renderHintMaybe(){const{hintText:L}=this.props;return L?t.createElement(a.A,{id:this.state.hintId,"data-qa":"form-text-hint"},L):null}renderTextInput(){const{className:L,errorId:k,errorLevel:K,errorText:N,errorType:R,hintId:U,hintText:x,id:B,isRequired:F,isInvalid:V,labelId:Y,name:w,onBlur:G,onChange:Ee,onCopy:ne,forceSelectAll:se,onFocus:ce,size:pe,prefix:ye,suffix:Ie,maxCharacterLimit:Se,minCharacterLimit:le,emojisShouldCountAsSingleCharacter:X,counterMinimumCharacters:J,icon:z,focusOnMount:te,useInlineAlert:$,showError:q,inputRef:re,preventScrollOnFocus:de,ariaDescribedById:oe,autoComplete:De,type:ae,readOnly:Z,...ie}=this.props,Ce=!!N||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||V,Re=n()({[`c-input_text--with_${K}`]:Ce,"c-input_text--with_hint":x,"c-input_text--with_icon":z},L),He=Y,be=(0,o.Yk)([Ce?this.state.errorId:null,oe,this.state.hintId,this.characterCounterId]),Ue={...this.state.textStyle,...this.getPrefixStyle()};return t.createElement(l.A,M({},ie,{style:Ue,onFocus:this.onFocus,onBlur:this.onBlur,ariaDescribedby:be,isInvalid:Ce,ariaLabelledby:He,ariaRequired:F,className:Re,id:B,name:w,onChange:Ee,onCopy:ne,forceSelectAll:se,ref:this.input,size:pe,autoComplete:De,type:ae,readOnly:Z??void 0}))}renderWrappedTextMaybe(){const{prefix:L,suffix:k,value:K,placeholder:N,maxCharacterLimit:R,counterMinimumCharacters:U,size:x,isDisabled:B,icon:F}=this.props;let V=this.renderTextInput();if(R){const Y=y(K,this.props.emojisShouldCountAsSingleCharacter);V=t.createElement(_.A,{id:this.characterCounterId,currentCount:Y,isDisabled:B,maxCharacterLimit:R,counterMinimumCharacters:U,size:x,ref:w=>{this.characterCount=w}},V)}return(L||k)&&(V=t.createElement(d,{className:F&&"c-input_text_overlay--icon",placeholder:N,size:x,prefix:L,suffix:k,value:K??void 0},V)),F&&(V=t.createElement(E,{icon:F,size:x},V)),V}render(){const L=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtext":!0,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.renderWrappedTextMaybe(),this.props.showError&&L,this.renderHintMaybe())}constructor(L){super(L),(0,D.v)(this,["onFocus","onBlur","getPrefixStyle"]);const{id:k}=L;this.state={errorId:(0,r.A)(this.props,"errorId",(0,o.Es)(k,"error")),everReceivedUserInput:!1,hintId:(0,r.A)(this.props,"hintId",(0,o.Es)(k,"hint")),isFocused:!1,everFocused:!1,textStyle:{}},L.maxCharacterLimit&&(this.characterCounterId=(0,o.Es)(k,"character-count")),this.input=L.inputRef||t.createRef()}},"FormTextInput");S.defaultProps={className:null,errorId:void 0,errorLevel:i.A_.error,errorText:null,errorType:i.QE.nestedBox,useInlineAlert:!1,hintId:void 0,hintText:null,isDisabled:!1,isInvalid:!1,isRequired:!1,labelId:null,maxCharacterLimit:null,minCharacterLimit:null,counterMinimumCharacters:0,emojisShouldCountAsSingleCharacter:!1,onBlur:u.A,onChange:u.A,onCopy:u.A,forceSelectAll:!1,readOnly:!1,onFocus:u.A,placeholder:void 0,size:l.F.medium,prefix:void 0,suffix:null,value:"",icon:void 0,focusOnMount:!1,preventScrollOnFocus:!1,showError:!0,inputRef:void 0,ariaDescribedById:void 0,onMouseEnter:u.A,onMouseLeave:u.A,autoComplete:"off",type:void 0,spellCheck:!1,min:0,max:0,autoCorrect:void 0,ariaLabel:void 0,width:0,autoClogProps:void 0,autoFocus:!1,role:void 0,onPaste:u.A,onKeyDown:u.A,onCompositionStart:u.A,onCompositionEnd:u.A},S.displayName="FormTextInput";const b=S},8472205500:(W,T,e)=>{"use strict";e.d(T,{A:()=>v});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2003990933),u=e(7715417323),i=e(5617110048),o=e(581167618),a=e(3391133100),_=e(2660476100),l=e(9205344153),p=e(8452232783),g=e(9665283624),c=e(4426213732),E=e(1224315998);function A(){return A=Object.assign||function(h){for(var f=1;f<arguments.length;f++){var y=arguments[f];for(var I in y)Object.prototype.hasOwnProperty.call(y,I)&&(h[I]=y[I])}return h},A.apply(this,arguments)}m(A,"_extends");const d={onChange:{action:E.UiAction.ENTER_TEXT}};let v=m(class extends t.PureComponent{componentDidMount(){if(this.getTextStyle(),this.props.focusOnMount){var f;(f=this.input.current)===null||f===void 0||f.focus()}}componentDidUpdate(f,y){if((this.props.value!==f.value||this.state.isFocused!==y.isFocused)&&this.getTextStyle(),this.props.value!==f.value&&!this.state.everReceivedUserInput&&this.setEverReceivedUserInput(),this.props.focusOnMount&&f.focusOnMount!==this.props.focusOnMount&&!this.state.isFocused){var I;(I=this.input.current)===null||I===void 0||I.focus()}}onBlur(){const{onBlur:f}=this.props;this.setFocus(!1),f&&f()}onFocus(){const{onFocus:f}=this.props;this.setFocus(!0),f&&f()}getTextStyle(){var f;const{maxCharacterLimit:y}=this.props;if(!y){this.setTextStyle({});return}const C={paddingRight:(f=this.characterCount)===null||f===void 0?void 0:f.getCharacterCountWidth()};this.setTextStyle(C)}setCharacterCountRef(f){this.characterCount=f}setEverReceivedUserInput(){this.setState(()=>({everReceivedUserInput:!0}))}setFocus(f){this.setState(()=>({isFocused:f}))}setInputRef(f){this.input=f}setTextStyle(f){this.setState(()=>({textStyle:f}))}blur(){this.input.current&&this.input.current.blur()}focus(){this.input.current&&this.input.current.focus()}getIsInputLengthTooShort(){const{isRequired:f,minCharacterLimit:y,value:I}=this.props,{everReceivedUserInput:C}=this.state;return!C||y==null||!f&&I.length===0?!1:I.length<y}getIsInputLengthTooLong(){const{maxCharacterLimit:f,value:y}=this.props;return f==null?!1:y.length>f}renderDeprecatedErrorMaybe(){const{showError:f,errorLevel:y,errorText:I,errorType:C,isRequired:D,maxCharacterLimit:M,minCharacterLimit:P,value:S}=this.props;return f?I?t.createElement(o.Ay,{id:this.state.errorId,level:y,type:C,className:"margin_bottom_100"},I):!D&&S.length===0?null:this.getIsInputLengthTooLong()?t.createElement(o.Ay,{id:this.state.errorId,level:o.A_.error,type:C,className:"margin_bottom_100"},(0,a.zI)(M)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(o.Ay,{id:this.state.errorId,level:o.A_.error,type:C,className:"margin_bottom_100"},(0,a.r7)(P)):null:null}renderErrorMaybe(){const{showError:f,errorText:y,isRequired:I,maxCharacterLimit:C,minCharacterLimit:D,value:M}=this.props;return f?y?t.createElement(g.A,{"data-qa":"form-text-area-inline-alert",id:this.state.errorId},y):!I&&M.length===0?null:this.getIsInputLengthTooLong()?t.createElement(g.A,{id:this.state.errorId,"data-qa":"form-text-area-max-char-alert"},(0,a.zI)(C)):this.getIsInputLengthTooShort()&&!this.state.isFocused?t.createElement(g.A,{id:this.state.errorId,"data-qa":"form-text-area-min-char-alert"},(0,a.r7)(D)):null:null}renderHintMaybe(){const{hintText:f}=this.props;return f?t.createElement(_.A,{id:this.state.hintId},f):null}renderTextArea(){const{className:f,showError:y,errorId:I,errorLevel:C,errorText:D,errorType:M,hintId:P,hintText:S,useInlineAlert:b,id:O,isRequired:L,isInvalid:k,labelId:K,name:N,onChange:R,onFocus:U,onBlur:x,maxCharacterLimit:B,minCharacterLimit:F,focusOnMount:V,autoClogProps:Y,ariaDescribedById:w,inputRef:G,...Ee}=this.props,{textStyle:ne}=this.state,se=!!D||this.getIsInputLengthTooLong()||this.getIsInputLengthTooShort()||k,ce=n()({[`c-input_textarea--with_${C}`]:se,"c-input_textarea--with_hint":S,"c-input_textarea--with_character_count":!!B,"c-input_text--with_inline_alert":b},f),pe=K,ye=(0,a.Yk)([se?this.state.errorId:void 0,w,this.state.hintId,this.characterCounterId]),Ie=t.createElement(p.A,A({},Ee,{ref:this.setInputRef,style:ne,ariaDescribedby:ye,isInvalid:se,ariaLabelledby:pe,ariaRequired:L,className:ce,id:O,"data-qa":Ee["data-qa"]||O,name:N,onChange:R,onFocus:this.onFocus,onBlur:this.onBlur}));return Y?t.createElement(i.A,{autoClogProps:Y,actionProps:d,elementType:E.ElementType.TEXTAREA},Ie):Ie}renderWrappedTextareaMaybe(){const{value:f,maxCharacterLimit:y,size:I,isDisabled:C}=this.props;let D=this.renderTextArea();return y&&(D=t.createElement(l.A,{id:this.characterCounterId,ref:this.setCharacterCountRef,currentCount:f==null?void 0:f.length,isDisabled:C,maxCharacterLimit:y,type:"multiline",size:I},D)),D}render(){const f=this.props.useInlineAlert?this.renderErrorMaybe():this.renderDeprecatedErrorMaybe();return t.createElement("div",{"data-qa-formtextarea":!0,className:"c-input_textarea__wrapper"},this.renderWrappedTextareaMaybe(),f,this.renderHintMaybe())}constructor(f){super(f);const{id:y}=this.props;(0,c.v)(this,["onFocus","onBlur","setInputRef","setCharacterCountRef"]),this.state={errorId:(0,r.A)(this.props,"errorId",(0,a.Es)(y,"error")),hintId:(0,r.A)(this.props,"hintId",(0,a.Es)(y,"hint")),isFocused:!1,everReceivedUserInput:!1,textStyle:{}},this.props.maxCharacterLimit&&(this.characterCounterId=(0,a.Es)(y,"character-count")),this.input=t.createRef()}},"FormTextareaInput");v.defaultProps={className:null,showError:!0,errorId:void 0,errorLevel:o.A_.error,errorText:null,errorType:o.QE.nestedBox,useInlineAlert:!1,hintText:null,hintId:void 0,isDisabled:!1,isRequired:!1,isInvalid:!1,labelId:null,onChange:u.A,onFocus:u.A,onBlur:u.A,placeholder:void 0,size:p.F.medium,value:"",maxCharacterLimit:null,minCharacterLimit:null,focusOnMount:!1,autoClogProps:void 0,type:void 0,ariaDescribedById:void 0,role:void 0,inputRef:void 0}},5166368300:(W,T,e)=>{"use strict";e.d(T,{A:()=>g,F:()=>_});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(5617110048),i=e(5797272849),o=e(1224315998);function a(){return a=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var d in A)Object.prototype.hasOwnProperty.call(A,d)&&(c[d]=A[d])}return c},a.apply(this,arguments)}m(a,"_extends");const _={small:"small",medium:"medium",large:"large"};var l;let p=m(class extends(l=t.Component){componentDidMount(){if(this.props.focusOnMount&&typeof this.props.refToForward!="function"){var E,A;(E=this.props.refToForward)===null||E===void 0||(A=E.current)===null||A===void 0||A.focus()}}onChange(E){this.props.onChange&&this.props.onChange(E.target.value)}onCopy(){this.props.onCopy&&this.props.onCopy()}onClick(E){this.props.readOnly&&this.props.forceSelectAll&&E.currentTarget.select()}blur(){if(typeof this.props.refToForward!="function"){var E,A;(E=this.props.refToForward)===null||E===void 0||(A=E.current)===null||A===void 0||A.blur()}}focus(){if(typeof this.props.refToForward!="function"){var E,A;(E=this.props.refToForward)===null||E===void 0||(A=E.current)===null||A===void 0||A.focus()}}render(){const{ariaDescribedby:E,isInvalid:A,ariaLabelledby:d,ariaRequired:v,className:h,id:f,isDisabled:y,name:I,placeholder:C,size:D,type:M,refToForward:P,ariaLabel:S,forceSelectAll:b,focusOnMount:O,autoClogProps:L,autoComplete:k,...K}=this.props,N=n()("c-input_text",{"c-input_text--large":D===_.large,"c-input_text--small":D===_.small,"c-input_text--with_error":A,"c-input_text--with_inline_alert":A,[i.E.small]:D===_.small,[i.E.large]:D===_.large},h),R=t.createElement("input",a({},K,{"aria-describedby":K["aria-describedby"]||E,"aria-invalid":K["aria-invalid"]||A,"aria-labelledby":K["aria-labelledby"]||d,"aria-required":K["aria-required"]||v,"aria-label":K["aria-label"]||S,autoComplete:k,className:N,disabled:y,id:f,name:I,onChange:this.onChange,onCopy:this.onCopy,onClick:this.onClick,placeholder:C,ref:P,type:M}));return L?t.createElement(u.A,{autoClogProps:L,actionProps:{onChange:{action:o.UiAction.ENTER_TEXT},onCopy:{action:o.UiAction.COPY_TO_CLIPBOARD}},elementType:o.ElementType.INPUT},R):R}constructor(E){super(E),this.onChange=this.onChange.bind(this),this.onCopy=this.onCopy.bind(this),this.onClick=this.onClick.bind(this)}},"TextInput");p.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,ariaLabel:"",className:null,isDisabled:!1,onChange:r.A,onCopy:r.A,forceSelectAll:!1,readOnly:!1,placeholder:"",size:"medium",value:"",type:"text",focusOnMount:!1,autoComplete:"off"},p.displayName="TextInput";const g=t.forwardRef((c,E)=>{const A=(0,t.useRef)(null);return t.createElement(p,a({},c,{refToForward:E||A}))})},8452232783:(W,T,e)=>{"use strict";e.d(T,{A:()=>c,F:()=>_});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(5617110048),i=e(5797272849),o=e(1224315998);function a(){return a=Object.assign||function(E){for(var A=1;A<arguments.length;A++){var d=arguments[A];for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(E[v]=d[v])}return E},a.apply(this,arguments)}m(a,"_extends");const _={small:"small",medium:"medium",large:"large"},l={onBlur:{action:o.UiAction.SAVE}};var p;let g=m(class extends(p=t.Component){componentDidMount(){this.props.focusOnMount&&this.props.refToForward&&this.props.refToForward.current&&this.props.refToForward.current.focus()}onChange(A){this.props.onChange(A.target.value)}render(){const{ariaDescribedby:A,isInvalid:d,ariaLabelledby:v,ariaRequired:h,className:f,placeholder:y,id:I,isDisabled:C,name:D,resize:M,size:P,refToForward:S,focusOnMount:b,autoClogProps:O,...L}=this.props,k=n()("c-input_textarea",{"c-input_textarea--large":P===_.large,"c-input_textarea--small":P===_.small,"c-input_textarea--resize_none":M==="none","c-input_textarea--resize_both":M==="both","c-input_textarea--resize_h":M==="horizontal","c-input_textarea--with_error":d,"c-input_textarea--with_inline_alert":d,[i.E.small]:P===_.small,[i.E.large]:P===_.large},f),K=t.createElement("textarea",a({},L,{"aria-describedby":A,"aria-invalid":d,"aria-labelledby":v,"aria-required":h,className:k,disabled:C,id:I,name:D,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onBlurCapture:this.props.onBlurCapture,placeholder:y,ref:S,value:this.props.value,style:this.props.style,maxLength:this.props.maxLength}));return O?t.createElement(u.A,{autoClogProps:O,actionProps:l,elementType:o.ElementType.TEXTAREA},K):K}constructor(A){super(A),this.onChange=this.onChange.bind(this)}},"TextareaInput");g.defaultProps={ariaDescribedby:"",isInvalid:!1,ariaLabelledby:"",ariaRequired:!1,className:null,isDisabled:!1,onChange:r.A,onFocus:r.A,onBlur:r.A,onBlurCapture:r.A,placeholder:"",resize:null,size:_.medium,style:void 0,maxLength:void 0,value:"",focusOnMount:!1,autoClogProps:void 0},g.displayName="TextareaInput";const c=t.forwardRef((E,A)=>t.createElement(g,a({},E,{refToForward:A||t.createRef()})))},4967176632:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3134334389),s=e(3564666345);function n(){return n=Object.assign||function(i){for(var o=1;o<arguments.length;o++){var a=arguments[o];for(var _ in a)Object.prototype.hasOwnProperty.call(a,_)&&(i[_]=a[_])}return i},n.apply(this,arguments)}m(n,"_extends");function r(i){let{className:o=void 0,initialValues:a,initialErrors:_=void 0,validate:l=void 0,validationSchema:p=void 0,validateOnBlur:g=!0,validateOnChange:c=!0,validateOnMount:E=!1,onReset:A=void 0,onSubmit:d,children:v,...h}=i;const f=A?{onReset:A}:{};return t.createElement(s.l1,n({initialValues:a,initialErrors:_,validate:l,validationSchema:p,validateOnBlur:g,validateOnChange:c,validateOnMount:E,onSubmit:d},f,h),y=>{let{handleSubmit:I,handleReset:C,...D}=y;return t.createElement("form",{className:o,onSubmit:I,onReset:C},v({...D}))})}m(r,"Form"),r.displayName="Form";const u=r},3155323475:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(9665283624);function u(i){let{className:o,errors:a}=i;var _;return a&&a.length>0?t.createElement(t.Fragment,null,a.map(l=>(0,t.isValidElement)(l.message)?t.cloneElement(l.message,{key:l.id,id:l.id,className:n()(o,"c-field_input__helpers")}):(_=!!l.message&&t.createElement(r.A,{className:n()(o,"c-field_input__helpers"),key:l.id,id:l.id},l.message))!==null&&_!==void 0?_:null)):null}m(u,"FieldErrors")},7953077036:(W,T,e)=>{"use strict";e.d(T,{$P:()=>l,DQ:()=>_,IM:()=>u,T$:()=>a,Wz:()=>g,Zr:()=>c,m4:()=>n,mw:()=>r});var t=e(6313685253),s=e(9113979368);const n={email:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,phone:/^[0-9._+-]{8,15}$/i},r=m(E=>{const A=typeof E=="boolean",d=typeof E=="string",v=A&&!E,h=d&&(!E||!E.trim()),f=Array.isArray(E)&&!E.length;return v||h||f||E===null?"Required":null},"required"),u=m((E,A)=>d=>{let v;return E==="email"||E==="phone"?v=n[E]:v=E,v.test(d)?null:A},"regexPattern"),i=u(n.email,"Please enter a valid email address."),o=u(n.phone,"Please enter a valid phone number."),a=m(E=>A=>!A||A.length<E?`Minimum of ${E} characters`:null,"minCharacterCount"),_=m(E=>A=>A.length>E?`Max character limit is ${E}`:null,"maxCharacterCount"),l=m(E=>A=>E.includes(A)?`Cannot use ${A}`:null,"tokenNotAllowed"),p=m(E=>A=>{let d=null,v;return A&&A.length&&(A.includes(",")?(v=A.split(",").filter(h=>!!E.includes(h)),d=`Cannot use ${v}`):E.includes(A)&&(v=A,d=`Cannot use ${v}`)),d},"tokensNotAllowed"),g=m(E=>A=>{const d=(0,t.A)(E,(v,h,f)=>{const y=h.map(I=>I(A[f],A)).filter(Boolean);return y.length>0&&(v[f]=y),v},{});return(0,s.A)(d)?void 0:d},"createValidation"),c=m(E=>A=>{const d=E.map(v=>v(A)).filter(Boolean);if(d.length>0)return d[0]},"createValidate")},9665283624:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3708320478),u=e(8683010724);function i(){return i=Object.assign||function(_){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(_[g]=p[g])}return _},i.apply(this,arguments)}m(i,"_extends");let o=m(class extends t.PureComponent{render(){const{children:l,className:p,id:g,...c}=this.props,E=n()("c-inline_alert",p);return t.createElement("div",i({},c,{className:E,id:g,"data-qa-error":!0}),t.createElement(u.A,{name:"info"}),t.createElement(r.z,{assertive:!0},t.createElement("span",{className:"c-inline_alert__text"},l)))}},"InlineAlert");o.defaultProps={className:"",id:""},o.displayName="InlineAlert";const a=o},440635146:(W,T,e)=>{"use strict";e.d(T,{ed:()=>A,tc:()=>p,zG:()=>d});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(1610251172),u=e(8214116048),i=e(4094753332),o=e(4413566926);const a=new o.Ay("keyboard_key");var _;(function(v){v.ArrowUp="\u2191",v.ArrowDown="\u2193",v.ArrowLeft="\u2190",v.ArrowRight="\u2192"})(_||(_={}));var l;(function(v){v.CmdOrCtrl="CmdOrCtrl",v.OptOrAlt="OptOrAlt"})(l||(l={}));const p={..._,...l},g=Object.values(_).map(v=>v.toString()),c={Cmd:"cmd-small",[_.ArrowUp]:"caret-up",[_.ArrowDown]:"caret-down",[_.ArrowLeft]:"caret-left",[_.ArrowRight]:"caret-right"},E=m(v=>v===l.CmdOrCtrl?(0,i.cX)()?"Cmd":"Ctrl":v===l.OptOrAlt?(0,i.cX)()?"Option":"Alt":v,"getKeyForOS"),A=m(v=>({"\u2191":a.t("up arrow"),"\u2193":a.t("down arrow"),"\u2190":a.t("left arrow"),"\u2192":a.t("right arrow"),Ctrl:a.t("control"),"\u2318":a.t("command"),Cmd:a.t("command"),Option:a.t("option"),Alt:a.t("alt"),".":a.t("period"),",":a.t("comma"),"[":a.t("left bracket"),"]":a.t("right bracket"),"+":a.t("plus"),"-":a.t("minus"),Esc:a.t("escape"),Strg:"Steuerung"}[v]||String(v)).toLowerCase(),"getNameForKey"),d=m(v=>{let{label:h,className:f,slim:y=!1,theme:I=u.Sx.Light,tooltip:C=!1}=v;const D=String(h),M=g.includes(D),P=E(D),S=c[P],b=n()(f,{"c-keyboard_key":!0,"c-keyboard_key__arrow_key":M,"c-keyboard_key--slim":y,"c-keyboard_key--dark":I===u.Sx.Dark,"c-keyboard_key__tooltip":C}),O=A(P);return t.createElement("div",{role:"img","aria-label":O,className:b},S?t.createElement(r.A,{type:S,size:y?"inherit":20,inline:y}):P)},"KeyboardKey");d.displayName="KeyboardKey"},9194155027:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(440635146),u=e(4094753332);const i=m(()=>(0,u.cX)()?t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"\xA0"):t.createElement("span",{"data-qa":"keyboard-keys-tip-key-delimiter",className:"c-keyboard_keys--delimiter"},"+"),"Delimiter");i.displayName="Delimiter";const o=m(_=>{let{isInline:l=!1,title:p,mainKey:g,modifier:c,modifiers:E,className:A,useSlimModifiers:d}=_;const v=n()("c-keyboard_keys",{"c-keyboard_keys--inline":l,"c-keyboard_key__tooltip_text":!(c||E)},A),h=n()("c-keyboard_keys--title",{"c-keyboard_keys--title-inline":l}),f=c?[c]:E,y=f==null?void 0:f.map(I=>t.createElement(t.Fragment,{key:`${I}_key`},t.createElement(r.zG,{label:I,tooltip:!0,slim:d}),t.createElement(i,null)));return t.createElement(t.Fragment,null,t.createElement("span",{className:h,"aria-hidden":"true"},p),t.createElement("span",{className:v},y,t.createElement(r.zG,{label:g,tooltip:!0})))},"KeyboardKeysTooltip");o.displayName="KeyboardKeysTooltip";const a=o},9742374352:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5617110048),u=e(8427910566),i=e(6538933722),o=e(1224315998),a=e(6695894399);function _(){return _=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var d in A)Object.prototype.hasOwnProperty.call(A,d)&&(c[d]=A[d])}return c},_.apply(this,arguments)}m(_,"_extends");const l={onClick:{action:o.UiAction.CLICK}},g=t.forwardRef(m(function(E,A){let{autoClogProps:d,className:v,href:h,invert:f=!1,children:y,...I}=E;const C=(0,t.useContext)(u.A),D=n()("c-link",{"c-link--focus-visible":C,"c-link--invert":f},v),M=I.target==="_blank"||(h==null?void 0:h.startsWith("mailto:")),P=t.createElement("a",_({},(0,a.A)(I),{className:D,href:h,ref:A}),y,M&&t.createElement(i.A,null));return d?t.createElement(r.A,{autoClogProps:d,actionProps:l,elementType:o.ElementType.LINK},P):P},"BaseLink"))},9163962844:(W,T,e)=>{"use strict";e.d(T,{A:()=>s,r:()=>t.rY});var t=e(2762351398);const s=t.Ay},2762351398:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>l,HY:()=>o,rY:()=>i});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(2312625946);function u(){return u=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var c=arguments[g];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(p[E]=c[E])}return p},u.apply(this,arguments)}m(u,"_extends");var i;(function(p){p.transparent="transparent",p.black="black",p.red="red",p.white="white",p.blue="blue",p.minGray="min_gray",p.themed="themed"})(i||(i={}));var o;(function(p){p.pill="pill",p.circle="circle"})(o||(o={}));const a=m((p,g)=>p>g?`${g}+`:String(p),"getCountText"),_=m(p=>{let{className:g,count:c,maxCount:E=9,style:A=i.black,toolTipText:d="",shape:v=o.pill}=p;if(!c||c<0)return null;const h=d?r.Ay:t.Fragment,f=d?{tip:d}:{};return t.createElement(h,u({},f),t.createElement("span",{"aria-hidden":"true",className:n()(g,"c-mention_badge",{"c-mention_badge--max":c>E,"c-mention_badge--pill":v===o.pill,"c-mention_badge--circle":v===o.circle,"c-mention_badge--transparent":A===i.transparent,"c-mention_badge--black":A===i.black,"c-mention_badge--red":A===i.red,"c-mention_badge--white":A===i.white,"c-mention_badge--blue":A===i.blue,"c-mention_badge--min_gray":A===i.minGray,"c-mention_badge--themed":A===i.themed},d&&"c-mention_badge--default"),"data-qa":"mention_badge"},a(c,E)))},"MentionBadge");_.displayName="MentionBadge";const l=t.memo(_)},3514831633:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>o,Dr:()=>n.A,YJ:()=>t.YJ,a:()=>s.A,bX:()=>u.Ay,c$:()=>r.Ay,cQ:()=>i.A});var t=e(3659245342),s=e(1357113878),n=e(8245211418),r=e(7417231112),u=e(8184841524),i=e(7433650413);const o=t.Ay},1357113878:(W,T,e)=>{"use strict";e.d(T,{A:()=>g});var t=e(3134334389),s=e(1658558415),n=e(6308822),r=e(3659245342),u=e(8245211418),i=e(7417231112),o=e(8184841524),a=e(8773153312),_=e(1959847761);function l(){return l=Object.assign||function(c){for(var E=1;E<arguments.length;E++){var A=arguments[E];for(var d in A)Object.prototype.hasOwnProperty.call(A,d)&&(c[d]=A[d])}return c},l.apply(this,arguments)}m(l,"_extends");const g=(0,t.memo)(m(function c(E){let{template:A,...d}=E;const v=(0,t.useMemo)(()=>A.map((h,f)=>{if(!h)return null;if(h.type===a.A.separator)return t.createElement(o.Ay,l({},h,{key:h.key||`separator-${f}`}));if(h.type===a.A.header)return t.createElement(i.Ay,{key:h.key||`header-${f}`,label:h.label,className:h.className});if(h.type===a.A.loading)return t.createElement(n.A,{key:h.key||"loading",size:"large"});if(h.type===a.A.custom)return h.ariaHidden===!1&&!(0,s.A)()?h.children:t.createElement("div",{"aria-hidden":h.ariaHidden===!1?"false":"true",key:h.key,"data-qa":h.dataQa},h.children);const y={children:h.children,className:h.className,classNameListItem:h.classNameListItem,label:h.label,description:h.description,icon:h.icon,badgeCount:h.badgeCount,badgeLabel:h.badgeLabel,badgeClassName:h.badgeClassName,shortcut:h.shortcut,showEnter:h.showEnter,onSelected:h.click,target:h.target,href:h.href,download:h.download,danger:h.danger,type:h.type,"data-qa":h.dataQa,disabled:h.disabled,showOfflineIcon:h.showOfflineIcon,showLinkIndicatorIcon:h.showLinkIndicatorIcon,checked:h.checked,indeterminate:h.indeterminate,autoClogProps:h.autoClogProps,onMount:h.onMount,onUnmount:h.onUnmount,ariaDescribedBy:h.ariaDescribedBy,ariaRole:h.ariaRole,ariaLabel:h.ariaLabel},I=h.key||(typeof h.label=="string"?h.label:`generated-key-${f}`);if(h.type===a.A.submenu){var C;const D=(C=h.renderSubmenu)!==null&&C!==void 0?C:M=>t.createElement(c,l({template:h.template||h.submenu},M,{width:h.submenuWidth}));return t.createElement(_.A,l({},y,{label:h.label,renderSubmenu:D,key:I}))}return t.createElement(u.A,l({key:I},y))}),[A]);return t.createElement(r.Ay,l({},d),v)},"MenuFromTemplate1"))},7417231112:(W,T,e)=>{"use strict";e.d(T,{$b:()=>l,Ay:()=>a,a6:()=>_});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323);function u(){return u=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var c=arguments[g];for(var E in c)Object.prototype.hasOwnProperty.call(c,E)&&(p[E]=c[E])}return p},u.apply(this,arguments)}m(u,"_extends");const i="_isSlackMenuItemHeader";function o(p){let{for:g,label:c,className:E,onMouseEnter:A=r.A}=p;return t.createElement("div",u({},g&&{id:l(g)},{"aria-hidden":"true",className:n()("c-menu_item__header",E),onMouseEnter:A,"data-qa":"menu-item-header"}),c)}m(o,"MenuItemHeader"),o.displayName="MenuItemHeader",o[i]=!0;const a=o;function _(p){return!!(p!=null&&p[i])}m(_,"isMenuItemHeader");function l(p){return`${p}-label`}m(l,"getMenuItemHeaderIdForGroup")},8245211418:(W,T,e)=>{"use strict";e.d(T,{A:()=>D});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3078252698),u=e(7715417323),i=e(6084388622),o=e(7420598276),a=e(1610251172),_=e(2762351398),l=e(8773153312),p=e(1963690015),g=e(8506855902),c=e(8683010724),E=e(1224315998),A=e(4094753332),d=e(4413566926),v=e(9391594207);const h=new d.Ay("menu");function f(M){return!!M&&!(0,r.A)(M)&&"label"in M}m(f,"isMenuItemShortcutObjectType");let y=m(class extends t.Component{componentDidMount(){this.props.onMount&&this.props.onMount()}componentWillUnmount(){this.props.onUnmount&&this.props.onUnmount()}onSelected(P){var S,b;(b=(S=this.props).menuCallbackBefore)===null||b===void 0||b.call(S,P),this.props.onSelected(P),this.props.menuCallback(this.props.menuCallbackId,P)}determineMenuRole(){const{type:P,ariaRole:S}=this.props;if(S)return S;switch(P){case l.A.radio:return"menuitemradio";case l.A.checkbox:return"menuitemcheckbox";default:return"menuitem"}}renderBadgeMaybe(){const{badgeLabel:P,badgeCount:S,badgeClassName:b,badgeVariant:O,highlighted:L}=this.props;return S?t.createElement(_.Ay,{count:S,style:L?_.rY.white:_.rY.red}):P?t.createElement(o.A,{className:b,variant:O},P):null}renderAdditionalIconMaybe(){const{additionalIcon:P}=this.props;return P?t.createElement("div",{className:"c-menu_item__additional-icon","data-qa":"menu_item_additional_icon",role:"presentation"},P):null}renderCaret(){return!this.props.withSubmenu||this.props.disabled?null:t.createElement("div",{className:"c-menu_item__submenu-indicator","data-qa":"menu_item_submenu_indicator",role:"presentation"},t.createElement(c.A,{name:this.props.showFullCarat?"caret-right-full":"caret-right"}))}renderEnterMaybe(){const{showEnter:P,highlighted:S}=this.props;return!P||!S?null:t.createElement(a.A,{legacy:!0,type:"enter",className:"c-menu_item__enter","data-qa":"menu_item_enter",role:"presentation"})}renderCheckmarkMaybe(){const{type:P,checked:S,indeterminate:b}=this.props,O=P===l.A.radio||P===l.A.checkbox;return O&&b?t.createElement(a.A,{className:"c-menu_item__checkbox_dash","data-qa":"menu_item_checkbox_dash",type:"form-checkbox-dash",size:"inherit",inline:!0}):O&&S?t.createElement("div",{className:"c-menu_item__checkmark"},t.createElement(c.A,{name:"check",size:"16",inline:!0,"data-qa":"menu_item_checkmark"})):null}renderIconMaybe(){const{icon:P}=this.props;return P?t.createElement("div",{className:"c-menu_item__icon","data-qa":"menu_item_icon",role:"presentation"},P):null}renderLinkIconMaybe(){const{href:P,showLinkIndicatorIcon:S}=this.props;return S===!1||S!==!0&&!P?null:t.createElement("div",{className:"c-menu_item__link_icon","data-qa":"menu_item_link_icon",role:"presentation"},t.createElement(c.A,{name:"new-window","data-qa":"menu_item_link_indicator"}))}renderShortcutMaybe(){const{shortcut:P,containerSize:S,experimentSkResponsiveMenusGroupOn:b,isResponsive:O}=this.props;if(!P||b&&O&&S&&S.width<300)return null;if(f(P)){const{label:L}=P;return t.createElement("div",{className:"c-menu_item__shortcut"},L)}return t.createElement("div",{className:"c-menu_item__shortcut"},P)}render(){const{autoClogProps:P,children:S,className:b,classNameListItem:O,danger:L,link:k,description:K,disabled:N,showOfflineIcon:R,highlighted:U,label:x,onMouseEnter:B,onMouseLeave:F,href:V,target:Y,download:w,type:G,withSubmenu:Ee,standaloneHoverEffect:ne,checked:se,indeterminate:ce,measureRef:pe,containerSize:ye,experimentSkResponsiveMenusGroupOn:Ie,isResponsive:Se,ariaDescribedBy:le,ariaLabelledBy:X,ariaLabel:J,disableHoverStyling:z}=this.props,te=n()(b,"c-menu_item__button",{"c-menu_item__button--highlighted":U&&!N&&!z,"c-menu_item__button--danger":L,"c-menu_item__button--link":k,"c-menu_item__button--disabled":N,"c-menu_item__button--with_submenu":Ee,"c-menu_item--button--subheader_child":G===l.A.subheaderChild,"c-menu_item__button--checked":(G===l.A.radio||G===l.A.checkbox)&&(se||ce),"c-menu_item--compact":G===l.A.compactItem,"c-menu_item--standalone":ne}),$=n()(O,"c-menu_item__li",{"c-menu_item__li--highlighted":U&&!z}),q=n()(O,"c-menu_item__label",{"c-menu_item__label--with_description":K}),re=Ee?"true":void 0,de=K?t.createElement("div",{className:"c-menu_item__description"},K):"",oe=this.props.activeMenuId,De=this.props.featureSubmenuRoleDescription?h.t("submenu"):void 0,ae=(0,A.cX)()&&Ee?De:void 0;return t.createElement("div",{ref:pe,className:$,onMouseEnter:B,onMouseLeave:F,"data-qa":`${this.props["data-qa"]}-wrapper`},t.createElement(i.Nm,{autoClogProps:{...P,elementType:E.ElementType.MENU_ITEM},ref:this.buttonRef,id:oe,className:te,disabled:N,onClick:this.onSelected,href:V,target:Y,download:w,"data-qa":this.props["data-qa"],role:this.determineMenuRole(),checked:se,"aria-checked":ce?"mixed":se,"aria-haspopup":re,tabIndex:-1,"aria-roledescription":ae,"aria-describedby":le,"aria-labelledby":X,"aria-label":J},this.renderCheckmarkMaybe(),this.renderIconMaybe(),t.createElement("div",{className:q},x,typeof S=="function"?S({highlighted:U}):S,!(Ie&&Se&&ye&&ye.width<300)&&de),this.renderShortcutMaybe(),this.renderBadgeMaybe(),this.renderAdditionalIconMaybe(),this.renderCaret(),this.renderEnterMaybe(),this.renderLinkIconMaybe(),R&&t.createElement("div",{className:"c-menu_item__icon c-menu_item__icon--offline","data-qa":"menu_item_icon",role:"presentation"},t.createElement(a.A,{type:"cloud-offline-small"}))))}constructor(P){super(P),this.onSelected=this.onSelected.bind(this),this.buttonRef=t.createRef()}},"MenuItem");y.defaultProps={children:void 0,highlighted:!1,onMouseEnter:u.A,onMouseLeave:u.A,onSelected:u.A,menuCallback:u.A,menuCallbackBefore:u.A,menuCallbackId:null,className:"",classNameListItem:"",label:"",description:"",danger:!1,link:!1,disabled:!1,showOfflineIcon:!1,href:null,showLinkIndicatorIcon:void 0,icon:null,shortcut:void 0,badgeCount:void 0,badgeLabel:void 0,badgeClassName:void 0,badgeVariant:void 0,showEnter:!1,target:void 0,download:void 0,type:l.A.default,withSubmenu:!1,"data-qa":"menu_item_button",activeMenuId:void 0,standaloneHoverEffect:void 0,autoClogProps:void 0,checked:void 0,indeterminate:void 0,featureSubmenuRoleDescription:!1,group:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0,ariaDescribedBy:void 0,ariaLabel:void 0,onMount:u.A,onUnmount:u.A,showFullCarat:!1,disableHoverStyling:!1},y.displayName="MenuItem";const I={MenuItem:y},C=m(M=>({experimentSkResponsiveMenusGroupOn:(0,g.IN)(M)}),"mapStateToProps"),D=(0,p.Ay)((0,v.N)(C)((0,g.BM)(y)))},8184841524:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>i,Ex:()=>r,HP:()=>o});var t=e(3134334389),s=e(4844578989),n=e.n(s);const r="_isSlackMenuSeparator";function u(a){let{className:_,noPadding:l,noPaddingAbove:p,noPaddingBelow:g,noFirstChild:c,noLastChild:E,dataQa:A="menu_separator__separator"}=a;const d=n()("c-menu_separator__li",{padding_0:l,padding_top_0:p,padding_bottom_0:g,"c-menu_separator__li--no_first_child":c,"c-menu_separator__li--no_last_child":E},_);return t.createElement("div",{className:d},t.createElement("hr",{className:"c-menu_separator__separator","data-qa":A}))}m(u,"MenuSeparator"),u.displayName="MenuSeparator",u[r]=!0;const i=u;function o(a){return!!(a!=null&&a[r])}m(o,"isMenuSeparator")},7433650413:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(5249175977),n=e(9392104102);function r(){return r=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var _=arguments[a];for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(o[l]=_[l])}return o},r.apply(this,arguments)}m(r,"_extends");const u=m(o=>{const{renderMenu:a,onPopoverOpen:_,onPopoverClose:l,isDisabled:p=!1,closeOnSelect:g=!0,onTriggerClose:c,onMenuItemSelected:E,onMenuKeyDown:A,...d}=o,v=m(()=>{_&&_()},"onOpenProp"),h=m(y=>{const{onClose:I,...C}=y,D=m((O,L)=>{I&&I(O),l&&l(O)},"onCloseProp"),M=m(O=>{I&&I(O),c&&c(O)},"onTriggerClose"),P=m((O,L)=>{g&&(I&&I(L),l&&l(L)),E&&E(O,L)},"onMenuItemSelected"),S=typeof o.children=="function"?o.children(n.t0):o.children,b=a({...y,children:S,onTriggerClose:M,onMenuItemSelected:P,onMenuKeyDown:A});return b?t.createElement(s.AM,r({shouldFade:!1,onClose:D,onOpen:v},C),b):!1},"renderPopover");if(h.displayName="renderPopover",p)return typeof o.children=="function"?o.children(n.t0):o.children;const f=o.isContextMenu?n.t0:{...d.triggerProps,"aria-haspopup":"menu"};return t.createElement(s.Wv,r({},d,{triggerProps:f,renderPopover:h}),o.children)},"MenuTrigger");u.displayName="MenuTrigger";const i=u},8773153312:(W,T,e)=>{"use strict";e.d(T,{A:()=>s,y:()=>t});const t={default:"default",compactItem:"compact_item",separator:"separator",submenu:"submenu",header:"header",loading:"loading",custom:"custom",subheaderChild:"subheader_child",radio:"radio",checkbox:"checkbox"},s=t},3659245342:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>x,YJ:()=>K});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(3078252698),u=e(9746734072),i=e(8424846741),o=e(7715417323);function a(B){return t.isValidElement(B)&&"children"in B.props}m(a,"hasChildren");function _(B){return B!=null&&typeof B=="object"&&"type"in B&&B.type===t.Fragment}m(_,"isFragment");function l(B){return B instanceof Array?B.map(l):_(B)&&a(B)?l(B.props.children):B}m(l,"defragment");function p(B){return t.Children.toArray(l(B))}m(p,"flattenChildren");var g=e(4481313819),c=e(4348392507);const E=m(B=>{let{"aria-labelledby":F,"aria-owns":V}=B;return V?t.createElement("div",{className:"offscreen",role:"group","aria-owns":V,"aria-labelledby":F}):null},"MenuItemGroup");E.displayName="MenuItemGroup";const A=E;var d=e(7417231112),v=e(8184841524),h=e(1963690015),f=e(8506855902),y=e(1959847761),I=e(8226269261),C=e(1224315998),D=e(337319621),M=e(9391594207);function P(){return P=Object.assign||function(B){for(var F=1;F<arguments.length;F++){var V=arguments[F];for(var Y in V)Object.prototype.hasOwnProperty.call(V,Y)&&(B[Y]=V[Y])}return B},P.apply(this,arguments)}m(P,"_extends");function S(B){const F=B&&B.type;return!!F&&(0,h.l0)(F)}m(S,"isMenuItem");function b(B){const F=B&&B.type;return!!F&&(0,y.e)(F)}m(b,"isSubmenu");function O(B){const F=B&&B.type;return F&&(0,v.HP)(F)}m(O,"isSeparator");function L(B){const F=B&&B.type;return F&&(0,d.a6)(F)}m(L,"isMenuItemHeader");let k=0;function K(){return k>0}m(K,"isMenuVisible");const N={ArrowUp:"selectprevious",Up:"selectprevious",ArrowDown:"selectnext",Down:"selectnext",ArrowLeft:"closesubmenu",Left:"closesubmenu",ArrowRight:"opensubmenu",Right:"opensubmenu",Escape:"closemenu",Enter:"select"," ":"select",Home:"selectfirst",End:"selectlast"};let R=m(class extends t.Component{componentDidMount(){this.focus(),k+=1}componentDidUpdate(F){this.props.kbNavActive&&!F.kbNavActive&&this.activateKBNav()}componentWillUnmount(){k-=1,this.props.onUnmount&&this.props.onUnmount()}menuItemHtmlId(F){return`${this.activeMenuId}-${F}`}onMenuNavigation(F){const V=this.getIndexOfNextMenuItemInDirection(F);this.setState(()=>({highlightedMenuItemIndex:V,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}))}onMouseEnterMenuItem(F){const V=this.state.highlightCanChangeOnMouseMovement?F:this.state.highlightedMenuItemIndex;if(this.setState(()=>({highlightedMenuItemIndex:V,contingentHighlightedMenuItemIndex:F,highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!1})),!!this.state.highlightCanChangeOnMouseMovement&&document.activeElement!==this.ariaMenuNode){var Y;(Y=this.ariaMenuNode)===null||Y===void 0||Y.focus()}}getAllMenuItemIndices(){const F=[];return p(this.props.children).filter(t.isValidElement).forEach((V,Y)=>{var w;!((w=this.ariaMenuNode)===null||w===void 0)&&w.querySelector(`#${this.menuItemHtmlId(Y)}`)&&(S(V)||b(V))&&F.push(Y)}),F}getIndexOfNextMenuItemInDirection(F){const V=this.getAllMenuItemIndices(),Y=V.indexOf(this.state.highlightedMenuItemIndex),w=V.length-1;if(F==="selectnext"){const Ee=Y<w?Y+1:0;return V[Ee]}const G=Y-1>=0?Y-1:w;return V[G]}getSelectedMenuItem(){const{highlightedMenuItemIndex:F}=this.state;if(!(F<0)&&this.menuChildren)return this.menuChildren[F]}focus(){const{kbNavActive:F,isSubmenu:V}=this.props;if(!F)return;if(!V){this.ariaMenuNode&&this.ariaMenuNode.focus();return}const Y=this.getAllMenuItemIndices();if(!Y.length){var w;(w=this.ariaMenuNode)===null||w===void 0||w.focus();return}this.setState(()=>({highlightedMenuItemIndex:Y[0]}),()=>{var G;(G=this.ariaMenuNode)===null||G===void 0||G.focus()})}registerKeyboardShortcutForMenuItem(F,V){if(!F||!V)return;const{label:Y,key:w}=F;(0,r.A)(Y)&&((0,r.A)(w)||(0,u.A)(w))&&(0,i.A)(w).forEach(G=>{this.keyboardShortcutsMap[G]=V})}renderMenuItem(F,V){const Y=this.onMouseEnterMenuItem.bind(this,V),{highlightedMenuItemIndex:w,highlightedMenuItemKbNavActive:G,isKeyboardHighlight:Ee}=this.state,{onMenuItemSelectedBefore:ne,stripTerminalSeparators:se,isResponsive:ce}=this.props;L(F)&&F.props.for&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[F.props.for]={key:F.props.for,"aria-labelledby":(0,d.$b)(F.props.for),"aria-owns":[],index:V});const pe={...F.props,onMouseEnter:Y,key:V},ye=this.menuItemHtmlId(V),{shortcut:Ie}=F.props;if(Ie&&this.registerKeyboardShortcutForMenuItem(Ie,ye),S(F)||b(F)){const J=w===V;if(pe.activeMenuId=ye,J&&Ee){var Se,le,X;(le=(Se=this.ariaMenuNode)===null||Se===void 0?void 0:Se.querySelector(`#${pe.activeMenuId}`))===null||le===void 0||(X=le.scrollIntoView)===null||X===void 0||X.call(le)}pe.menuCallbackBefore=ne,pe.menuCallback=this.onMenuItemSelected,pe.menuCallbackId||(pe.menuCallbackId=V),pe.highlighted=w===V,pe.isKeyboardHighlight=pe.highlighted&&Ee,pe.group&&(this.menuGroups||(this.menuGroups={}),this.menuGroups[pe.group]||(this.menuGroups[pe.group]={key:pe.group,"aria-owns":[],index:V}),this.menuGroups[pe.group]["aria-owns"].push(pe.activeMenuId))}if(b(F)&&(pe.isOpen=pe.highlighted&&!Ee||pe.highlighted&&G,pe.kbNavActive=pe.highlighted&&G,pe.returnKBNav=this.activateKBNav,pe.preventHighlightChange=this.preventHighlightChange,pe.allowHighlightChange=this.allowHighlightChange),O(F)&&se)if(!this.menuChildren)(0,D.Wo)().warn("Menu.renderMenuItem called without this.menuChildren");else{const J=this.menuChildren[V-1];if(O(J))return null;pe.noFirstChild=!0,pe.noLastChild=!0}return S(F)&&(pe.isResponsive=ce),t.cloneElement(F,pe)}renderMenuGroups(){return this.menuGroups?Object.values(this.menuGroups).filter(F=>F["aria-owns"].length>0).map(F=>({group:t.createElement(A,{key:F.key,"aria-labelledby":F["aria-labelledby"],"aria-owns":F["aria-owns"].join(" ")}),index:F.index})).sort((F,V)=>V.index-F.index):[]}renderMenuItems(){this.menuChildren=p(this.props.children).filter(t.isValidElement);const F=this.menuChildren.map(this.renderMenuItem,this);return this.renderMenuGroups().forEach(Y=>{let{group:w,index:G}=Y;F.splice(G,0,w)}),F}renderMenu(){const{noMargin:F,menuClassNames:V,"data-qa":Y,isUnstyled:w,isResponsive:G,experimentSkResponsiveMenusGroupOn:Ee}=this.props,ne=n()("c-menu__items",{"c-menu__items--no_margin":F}),se=this.state.highlightedMenuItemIndex!==-1?this.menuItemHtmlId(this.state.highlightedMenuItemIndex):null,ce=n()({"c-menu":!w,"c-menu--responsive":G&&Ee},V);return t.createElement("div",{className:ce,"data-qa":Y,style:{width:this.props.width}},t.createElement("div",{className:"c-menu__items_scroller"},t.createElement("div",{"aria-activedescendant":se??void 0,ref:this.setAriaMenuRef,className:ne,onKeyDown:this.onMenuKeyDown,onMouseLeave:this.onMouseLeaveMenu,"data-qa":"menu_items",role:"menu","aria-label":this.props["aria-label"],"aria-describedby":this.props["aria-describedby"],"aria-labelledby":this.props["aria-labelledby"],tabIndex:-1,"no-bootstrap":1},this.renderMenuItems())))}render(){const F=this.renderMenu(),{autoClogProps:V}=this.props;return V?t.createElement(g.A,P({elementType:C.ElementType.MENU},V),F):F}constructor(F){super(F),this.activeMenuId=`menu-${(0,I.A)()}`,this.menuChildren=[],this.keyboardShortcutsMap={},this.menuGroups={},this.onMenuItemSelected=(V,Y)=>{this.props.onMenuItemSelected&&this.props.onMenuItemSelected(V,Y)},this.onMenuKeyDown=V=>{var Y;const{kbNavActive:w,onMenuKeyDown:G,onCloseSubmenu:Ee,onTriggerClose:ne,windowRef:se}=this.props;if(!w)return;const{key:ce}=V,pe=N[ce],ye=(Y=this.keyboardShortcutsMap)===null||Y===void 0?void 0:Y[ce],Ie=this.getSelectedMenuItem(),Se=Ie?b(Ie):!1,le=this.getAllMenuItemIndices();(pe||ye)&&(V.stopPropagation(),V.preventDefault()),(pe==="selectnext"||pe==="selectprevious")&&this.onMenuNavigation(pe),pe==="closesubmenu"&&(Ee==null||Ee(V)),(pe==="select"||pe==="opensubmenu")&&Se&&this.setState(()=>({highlightedMenuItemKbNavActive:!0})),pe==="closemenu"&&(ne==null||ne(V)),pe==="selectfirst"&&this.setState(()=>({highlightedMenuItemIndex:le[0],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0})),pe==="selectlast"&&this.setState(()=>({highlightedMenuItemIndex:le[le.length-1],highlightedMenuItemKbNavActive:!1,isKeyboardHighlight:!0}));const X=this.menuItemHtmlId(this.state.highlightedMenuItemIndex);if(pe==="select"&&X&&!Se){var J,z;(z=(J=se.deref())===null||J===void 0?void 0:J.document.getElementById(X))===null||z===void 0||z.click(),ne==null||ne(V)}if(ye){var te,$;($=(te=se.deref())===null||te===void 0?void 0:te.document.getElementById(ye))===null||$===void 0||$.click(),ne==null||ne(V)}G==null||G(V,{isCurrentItemSubmenu:Se,closeMenu:ne,selectedMenuItem:Ie})},this.onMouseLeaveMenu=()=>{const V=this.state.highlightCanChangeOnMouseMovement?-1:this.state.highlightedMenuItemIndex;this.setState(()=>({highlightedMenuItemIndex:V,contingentHighlightedMenuItemIndex:-1}))},this.setAriaMenuRef=V=>{this.ariaMenuNode=V},this.activateKBNav=()=>{var V;(V=this.ariaMenuNode)===null||V===void 0||V.focus(),this.setState(Y=>({highlightedMenuItemKbNavActive:!1,highlightedMenuItemIndex:Y.highlightedMenuItemIndex===-1?this.getIndexOfNextMenuItemInDirection("selectnext"):Y.highlightedMenuItemIndex}))},this.allowHighlightChange=()=>{this.setState(V=>({highlightedMenuItemIndex:V.contingentHighlightedMenuItemIndex,highlightCanChangeOnMouseMovement:!0})),this.props.allowHighlightChange&&this.props.allowHighlightChange()},this.preventHighlightChange=()=>{this.setState(()=>({highlightCanChangeOnMouseMovement:!!this.props.resetHighlightOnChange})),this.props.preventHighlightChange&&this.props.preventHighlightChange()},this.state={highlightedMenuItemIndex:-1,contingentHighlightedMenuItemIndex:-1,highlightedMenuItemKbNavActive:!1,highlightCanChangeOnMouseMovement:!0,isKeyboardHighlight:!1}}},"Menu");R.defaultProps={menuClassNames:void 0,onMenuItemSelected:o.A,onMenuItemSelectedBefore:o.A,onTriggerClose:o.A,onCloseSubmenu:o.A,width:void 0,noMargin:!1,kbNavActive:!0,stripTerminalSeparators:!1,preventHighlightChange:o.A,allowHighlightChange:o.A,resetHighlightOnChange:!1,"data-qa":"menu","aria-label":void 0,onMenuKeyDown:o.A,onUnmount:o.A,isSubmenu:!1,isUnstyled:!1,autoClogProps:void 0,experimentSkResponsiveMenusGroupOn:!1,isResponsive:!0},R.displayName="Menu";const U=m(B=>({experimentSkResponsiveMenusGroupOn:(0,f.IN)(B)}),"mapStateToProps"),x=(0,c.A)((0,M.N)(U,null,null,{forwardRef:!0})(R))},1963690015:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>n,KJ:()=>t,l0:()=>s});const t="_isSlackMenuItem";function s(r){return!!r&&r[t]===!0}m(s,"isMenuItem");function n(r){return r[t]=!0,r}m(n,"wrapMenuItem")},4376397139:(W,T,e)=>{"use strict";e.d(T,{j:()=>i,A:()=>a});var t=e(3134334389),s=e(6105929840),n=e(4413566926);const r=new n.Ay("generic_dialog");function u(_){let{onClick:l,...p}=_;return t.createElement(s.A,{className:"c-multi_pane_modal__back",icon:"chevron-large-left",onClick:l,"aria-label":r.t("Back",{fallbackHash:"b52b36b7269fbfc58ec24bb724691951a3decbe8",fallbackHashNs:"member_actions"}),"data-qa":p["data-qa"]})}m(u,"ModalBackButton"),u.displayName="ModalBackButton";const i=t.memo(u);var o=e(1427522952);const a=o.A},1427522952:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7937864072),u=e(4979382452);function i(){return i=Object.assign||function(_){for(var l=1;l<arguments.length;l++){var p=arguments[l];for(var g in p)Object.prototype.hasOwnProperty.call(p,g)&&(_[g]=p[g])}return _},i.apply(this,arguments)}m(i,"_extends");function o(_){let{defaultPane:l,panes:p,...g}=_;const c=(0,r.A)(),[E,A]=(0,t.useState)({pane:l}),d=(0,t.useCallback)((f,y)=>A({pane:f,props:y}),[]),{render:v,modalProps:h}=p[E.pane];return v||c.error("MULTI_PANE_MODAL",`Unknown pane "${E.pane}"`),t.createElement(u.A,i({},g,h,{className:n()(g.className,h==null?void 0:h.className,"c-multi_pane_modal")}),t.createElement(t.Fragment,{key:E.pane},v({switchPane:d,...E.props})))}m(o,"MultiPaneModal"),o.displayName="MultiPaneModal";const a=o},8506855902:(W,T,e)=>{"use strict";e.d(T,{BM:()=>p,IN:()=>o});var t=e(3134334389),s=e(5950652755),n=e(5460331959),r=e(2843556239),u=e(4761125736);function i(){return i=Object.assign||function(g){for(var c=1;c<arguments.length;c++){var E=arguments[c];for(var A in E)Object.prototype.hasOwnProperty.call(E,A)&&(g[A]=E[A])}return g},i.apply(this,arguments)}m(i,"_extends");const o=m(g=>(0,u._Z)(g,"sk_responsive_menus")==="on","isSkResponsiveMenusEnabled");function a(g){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:250;const{windowRef:E}=(0,t.useContext)(r._0),A=m(v=>{!Array.isArray(v)||!v.length||requestAnimationFrame(()=>g(v))},"observer"),d=E.deref();return new d.ResizeObserver((0,s.A)(A,c))}m(a,"useResizeObserver");const _=m(()=>{var g,c,E;const{windowRef:A}=(0,t.useContext)(r._0),d=(0,t.useRef)((g=A.deref())===null||g===void 0?void 0:g.document.body),v=((c=d.current)===null||c===void 0?void 0:c.clientWidth)||0,h=((E=d.current)===null||E===void 0?void 0:E.clientHeight)||0,[f,y]=(0,t.useState)(v),[I,C]=(0,t.useState)(h),D=a(()=>{var M,P;y(((M=d.current)===null||M===void 0?void 0:M.clientWidth)||0),C(((P=d.current)===null||P===void 0?void 0:P.clientHeight)||0)},100);return(0,t.useEffect)(()=>{const M=d.current;return M&&D.observe(M),()=>{A&&M&&D.unobserve(M)}},[D,A]),{width:f,height:I}},"useWindowSize");function l(g){return c=>{const E=_();return t.createElement(g,i({},c,{windowSize:E}))}}m(l,"withWindowSize"),l.displayName="withWindowSize";function p(g){return c=>c.experimentSkResponsiveMenusGroupOn?t.createElement(n.A,null,E=>{let{measureRef:A,width:d,height:v}=E;return t.createElement(g,i({},c,{measureRef:A,containerSize:{width:d,height:v}}))}):t.createElement(g,i({},c))}m(p,"withContainerSize"),p.displayName="withContainerSize"},5846524816:(W,T,e)=>{"use strict";e.d(T,{A:()=>R});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(3398586081),i=e(5617110048),o=e(3391133100),a=e(2660476100),_=e(3155323475),l=e(45851552),p=e(5404505308),g=e(6696292586),c=e(4348392507),E=e(9359656550),A=e(7193040700),d=e(8683010724),v=e(4426213732),h=e(4413566926);function f(){return f=Object.assign||function(U){for(var x=1;x<arguments.length;x++){var B=arguments[x];for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(U[F]=B[F])}return U},f.apply(this,arguments)}m(f,"_extends");const y=new h.Ay("select");let I=m(class extends t.Component{componentDidMount(){const{focusOnMount:x=!1}=this.props;x&&this.onClick()}onKeyDown(x){const{shiftKey:B,ctrlKey:F,metaKey:V,altKey:Y,key:w}=x;if(!(B||F||V)){if(w==="Escape"&&!Y){this.onEsc(x);return}if(w===" "&&!Y){this.onSpacebar(x);return}if(w==="Enter"&&!Y){this.onEnter(x);return}if(w==="ArrowUp"&&Y){this.onAltArrowUp(x);return}if(w==="ArrowUp"&&!Y){this.onArrowUp(x);return}if(w==="ArrowDown"){this.onArrowDown(x);return}if(w==="Home"&&!Y){this.onHome(x);return}if(w==="End"&&!Y){this.onEnd(x);return}w==="Tab"&&!Y&&this.onTab()}}onEsc(x){const{selectState:B,setSelectState:F}=this.props,{isExpanded:V}=B;V&&(x.stopPropagation(),F(()=>({activeRowIndex:void 0,activeOption:void 0,initialActiveOption:void 0,isExpanded:!1})))}onArrowUp(x){const{selectState:B,setSelectState:F}=this.props,{isExpanded:V,options:Y}=B;if(V)return;x.preventDefault(),x.stopPropagation(),this.updateOptionsListPosition();const w=(0,l.A)(Y,Ee=>(0,E.oj)(Ee),0),G=Y[w];F(()=>({initialActiveOption:G,isExpanded:!0}))}onAltArrowUp(x){const{selectState:B}=this.props,{isExpanded:F}=B;if(!F)return;const V=this.props.listRef.current;V&&(x.stopPropagation(),x.preventDefault(),V.onEnter(x))}onArrowDown(x){const{selectState:B,setSelectState:F}=this.props,{isExpanded:V}=B;V||(x.preventDefault(),x.stopPropagation(),this.updateOptionsListPosition(),F(()=>({isExpanded:!0})))}onHome(x){const{selectState:B,setSelectState:F}=this.props,{isExpanded:V,options:Y}=B;if(V)return;x.preventDefault(),x.stopPropagation(),this.updateOptionsListPosition();const w=(0,l.A)(Y,Ee=>(0,E.oj)(Ee),0),G=Y[w];F(()=>({initialActiveOption:G,isExpanded:!0}))}onEnd(x){const{selectState:B,setSelectState:F}=this.props,{isExpanded:V,options:Y}=B;if(V)return;x.preventDefault(),x.stopPropagation(),this.updateOptionsListPosition();const w=(0,p.A)(Y,Ee=>(0,E.oj)(Ee)),G=Y[w];F(()=>({initialActiveOption:G,isExpanded:!0}))}onEnter(x){const{selectState:B}=this.props,{isExpanded:F}=B;F||(x.stopPropagation(),this.onClick())}onSpacebar(x){const{selectState:B}=this.props,{isExpanded:F}=B;F||(x.preventDefault(),x.stopPropagation(),this.onClick())}onTab(){const{setSelectState:x}=this.props;x(()=>({isExpanded:!1}))}onClick(){const{onClick:x=r.A,setSelectState:B,selectState:F}=this.props;this.updateOptionsListPosition(),x&&x(),B(()=>({isExpanded:!F.isExpanded}))}updateOptionsListPosition(){const{selectState:x}=this.props,{isExpanded:B}=x;if(!B&&this.measurePopoverEvent){var F;(F=this.props.windowRef.deref())===null||F===void 0||F.dispatchEvent(this.measurePopoverEvent)}}renderContent(x){const{renderSelectedOption:B,selectState:F,textSelect:V=!1,textSelectLabel:Y=void 0,selectDataQa:w=void 0,placeholderText:G=void 0}=this.props,{selectedOption:Ee}=F,ne=Ee?B(Ee):t.createElement("span",{className:"c-select_button__placeholder"},G||y.t("Please select an option")),se=V&&Y?t.createElement("span",{className:"c-select_button--text-select-label"},Y):void 0;return t.createElement("div",{id:x,"data-qa":w?`${w}-button-content`:null,className:"c-select_button__content",role:"none"},se,ne)}render(){const{ariaLabelledBy:x=void 0,ariaDescribedBy:B=void 0,ariaLabel:F=void 0,ariaControls:V=void 0,selectState:Y,size:w,width:G,textSelect:Ee=!1,selectDataQa:ne=void 0,classPrefix:se=void 0,onFocus:ce=r.A,onBlur:pe=r.A,onMouseEnter:ye=void 0,onMouseLeave:Ie=void 0,refToForward:Se}=this.props,{isDisabled:le,isExpanded:X,isInvalid:J,selectId:z,activeRowIndex:te}=Y,$=n()("c-select_button",`c-select_button--${w}`,{"c-select_button--disabled":le,"c-select_button--expanded":X,"c-select_button--text-select":Ee,"c-select_button--invalid":J,[`${se}__select_button`]:se}),q=Ee?{}:{width:G},re=(0,o.Es)(z,"button"),de=`${re}-option`,oe=(0,g.A)(te)&&X?(0,o.Es)(z,`option_${te}`):void 0;return t.createElement("div",{tabIndex:0,className:$,style:q,"data-qa":ne?`${ne}-button`:null,id:re,ref:Se,role:"combobox","aria-disabled":le?!0:void 0,"aria-labelledby":x,"aria-describedby":B,"aria-label":F,"aria-invalid":J,"aria-activedescendant":oe,"aria-expanded":X,"aria-haspopup":"listbox","aria-controls":V,onFocus:ce,onBlur:pe,onMouseEnter:ye,onMouseLeave:Ie,onClick:this.onClick,onKeyDown:this.onKeyDown},this.renderContent(de),t.createElement("div",{className:`c-select_button__icon c-select_button__icon--${w}`},t.createElement(d.A,{name:"caret-down",size:w===A.hu.SMALL?"inherit":"20"})))}constructor(x){super(x),(0,v.v)(this,["updateOptionsListPosition","onKeyDown","onClick"]);const{measurePopoverEventName:B=null}=this.props;B&&(this.measurePopoverEvent=new Event(B))}},"SelectButton");I.displayName="SelectButton";const C=(0,c.A)(I),D=t.forwardRef((U,x)=>t.createElement(C,f({},U,{refToForward:x})));var M=e(4640201401),P=e(3650946343),S=e(1224315998);function b(){return b=Object.assign||function(U){for(var x=1;x<arguments.length;x++){var B=arguments[x];for(var F in B)Object.prototype.hasOwnProperty.call(B,F)&&(U[F]=B[F])}return U},b.apply(this,arguments)}m(b,"basic_select_extends");const O=10,L={onOptionSelected:{action:S.UiAction.SELECT}},k=m(U=>U.map(x=>{let{id:B}=x;return B}),"getIdsFromHintOrErrors");let K=m(class extends t.Component{onHome(x){const B=this.listRef.current;if(!B||(B.isMouseMoveEnabled=!1,!B.shouldInterceptKeyEvent(x)))return;const{isExpanded:F}=this.props.selectState;F&&x.preventDefault(),B.movePrevious(0)}onEnd(x){const B=this.listRef.current;if(!B||(B.isMouseMoveEnabled=!1,!B.shouldInterceptKeyEvent(x)))return;const{isExpanded:F}=this.props.selectState;F&&x.preventDefault();const V=B.getOptionsList();if(!V)return;const Y=V.length-1;B.moveNext(Y)}onPageUp(x){const B=this.listRef.current;if(!B||(B.isMouseMoveEnabled=!1,!B.shouldInterceptKeyEvent(x)))return;const{isExpanded:F,activeRowIndex:V}=this.props.selectState;F&&x.preventDefault();const Y=V?Math.floor(V/O):0,w=Y>1?(Y-1)*O:0;B.movePrevious(w)}onPageDown(x){const B=this.listRef.current;if(!B||(B.isMouseMoveEnabled=!1,!B.shouldInterceptKeyEvent(x)))return;const{activeRowIndex:F,isExpanded:V}=this.props.selectState;V&&x.preventDefault();const Y=B.getOptionsList();if(!Y)return;const w=Y.length,G=Math.ceil(w/O),Ee=F?Math.floor(F/O):0,ne=Ee===G-1?w-1:(Ee+1)*O;B.moveNext(ne)}renderOptionsList(){const{ariaLabel:x,onOptionSelected:B,onOptionsListClose:F,renderOption:V,resultsInPopover:Y,overlayClassName:w,listClassName:G,selectState:Ee,setSelectState:ne,width:se,classPrefix:ce,minOptionsListWidth:pe,optionsRowHeight:ye,maxListHeight:Ie,onScrollablePage:Se,dynamicHeight:le,forceMaxHeight:X,includePadding:J,includeDividers:z,preventScroll:te,autoClogProps:$}=this.props,{isDisabled:q}=Ee;if(q)return null;const re=Y?t.createElement(M.A,{selectOptionsListRef:this.listRef,className:G,selectState:Ee,setSelectState:ne,renderOption:V,ariaLabel:x,onOptionSelected:B,onOptionsListClose:F,width:se,inputRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,classPrefix:ce,selectDataQa:this.fallbackDataQa,minOptionsListWidth:pe,optionsRowHeight:ye,popoverProps:w?{overlayClassName:w}:void 0,shouldAlwaysHaveActiveRow:!0,maxListHeight:Ie,onScrollablePage:Se,dynamicHeight:le,forceMaxHeight:X,includePadding:J,includeDividers:z,preventScroll:te,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0}):t.createElement(E.Ay,{ref:this.listRef,className:G,selectState:Ee,setSelectState:ne,renderOption:V,ariaLabel:x,onOptionSelected:B,onOptionsListClose:F,width:se,inputRef:this.inputContainerRef,classPrefix:ce,selectDataQa:this.fallbackDataQa,optionsRowHeight:ye,maxListHeight:Ie,shouldAlwaysHaveActiveRow:!0,dynamicHeight:le,forceMaxHeight:X,includePadding:J,includeDividers:z,preventScroll:te,keyCommandShortcuts:this.keyCommandShortcuts,shouldTokenizeOnSpace:!0});return $?t.createElement(i.A,{autoClogProps:$,actionProps:L,elementType:S.ElementType.DROPDOWN},re):re}render(){const{resultsInPopover:x,selectState:B,setSelectState:F,className:V,textSelect:Y,textSelectLabel:w,focusOnMount:G,onFocus:Ee,onBlur:ne,ariaLabel:se,ariaLabelledBy:ce,ariaDescribedBy:pe,buttonRef:ye,errors:Ie,hints:Se,size:le,renderSelectedOption:X}=this.props,{isExpanded:J,isInvalid:z,selectId:te}=B,$=(0,P.A)(Ie),q=(0,P.A)(Se);let re;Ie&&(re=$?k(Ie):void 0);let de;Se&&(de=q?k(Se):void 0);const oe=(0,o.Yk)([pe,re,de]);return t.createElement("div",{className:n()(V,"c-basic-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(D,b({},this.props,{size:le,renderSelectedOption:X,selectDataQa:this.fallbackDataQa,selectState:B,setSelectState:F,measurePopoverEventName:x?this.measurePopoverEventName:void 0,textSelect:Y,textSelectLabel:w,focusOnMount:G,onFocus:Ee,onBlur:ne,ariaLabel:se,ariaLabelledBy:ce,ariaDescribedBy:oe,"aria-invalid":z},J?{ariaControls:(0,o.Es)(te,"listbox")}:{},{ref:ye,listRef:this.listRef})),$&&Ie&&t.createElement(_.A,{errors:Ie}),q&&Se&&Se.map(ae=>{let{id:Z,message:ie}=ae;return t.createElement(a.A,{key:Z,id:Z},ie)}),this.renderOptionsList())}constructor(x){super(x),(0,v.v)(this,["renderOptionsList","onHome","onEnd","onPageUp","onPageDown"]),this.inputContainerRef=t.createRef(),this.listRef=t.createRef();const{selectId:B}=x.selectState;this.measurePopoverEventName=`measureSelectPopover--${B}`,this.fallbackDataQa=x.selectDataQa||B,this.keyCommandShortcuts=[{keys:["home"],handler:this.onHome},{keys:["end"],handler:this.onEnd},{keys:["pageup"],handler:this.onPageUp},{keys:["pagedown"],handler:this.onPageDown}]}},"ControlledBasicSelect");K.defaultProps={renderOption:U=>U.label,renderSelectedOption:U=>U.label,size:A.hu.MEDIUM,width:225,optionsRowHeight:A.bJ,errors:[],hints:[],ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,selectDataQa:void 0,resultsInPopover:!0,overlayClassName:void 0,listClassName:void 0,onClick:r.A,onOptionSelected:r.A,onOptionsListClose:r.A,className:void 0,classPrefix:void 0,textSelect:!1,textSelectLabel:void 0,minOptionsListWidth:void 0,focusOnMount:!1,onFocus:r.A,onBlur:r.A,maxListHeight:void 0,autoClogProps:void 0,onScrollablePage:!1,buttonRef:void 0,dynamicHeight:!1,forceMaxHeight:!1,includePadding:!0,includeDividers:!0},K.displayName="ControlledBasicSelect";let N=m(class extends t.Component{static getDerivedStateFromProps(x,B){const{selectedOption:F}=x,{selectedOption:V}=B;return!V||F!==void 0&&F!==V?{selectedOption:F}:null}setSelectState(x,B){return this.setState(x,B)}render(){const{isDisabled:x,isInvalid:B,isRequired:F,errors:V}=this.props,Y=B||(0,P.A)(V),w=(0,u.A)(()=>({...this.state,isDisabled:x,isInvalid:Y,isRequired:F}));return t.createElement(K,b({},this.props,{selectState:w(),setSelectState:this.setSelectState}))}constructor(x){super(x),this.state={activeRowIndex:void 0,isDisabled:x.isDisabled,isExpanded:x.isExpanded,isInvalid:x.isInvalid,isRequired:x.isRequired,options:x.options,selectId:x.selectId,selectedOption:x.selectedOption,selectType:A.US.BASIC},(0,v.v)(this,["setSelectState"])}},"BasicSelect");N.defaultProps={isDisabled:!1,isExpanded:!1,isRequired:!0,isInvalid:!1,errors:[],hints:[],onOptionSelected:r.A,onOptionsListClose:r.A,selectedOption:void 0,selectId:`basic-select-${(0,o.r9)()}`,maxListHeight:void 0,autoClogProps:void 0},N.displayName="BasicSelect";const R=N},5536692738:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>u,HH:()=>n.A,P2:()=>r.A,Z1:()=>s.A});var t=e(5846524816),s=e(2727264612),n=e(8274994582),r=e(320706952);const u=t.A},7090824688:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>P,Gn:()=>S,xn:()=>b,yW:()=>D});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(3398586081),i=e(5617110048),o=e(3391133100),a=e(2660476100),_=e(3155323475),l=e(868047630),p=e(9359656550),g=e(4640201401),c=e(5185985254),E=e(2742076544),A=e(7193040700),d=e(3650946343),v=e(7772530643),h=e(4426213732),f=e(1224315998);function y(){return y=Object.assign||function(O){for(var L=1;L<arguments.length;L++){var k=arguments[L];for(var K in k)Object.prototype.hasOwnProperty.call(k,K)&&(O[K]=k[K])}return O},y.apply(this,arguments)}m(y,"_extends");const I={onOptionSelected:{action:f.UiAction.SELECT}},C=m(O=>O.map(L=>{let{id:k}=L;return k}),"getIdsFromHintOrErrors");let D=m(class extends t.Component{renderOptionsList(L){var k;const{selectState:K,setSelectState:N,renderOption:R,emptyStateMessage:U,enableLoadingState:x,width:B,maxOptionsListHeight:F,minOptionsListWidth:V,inputRef:Y,resultsInPopover:w,isLoading:G,classPrefix:Ee,optionsRowHeight:ne,onOptionsListOpen:se,onOptionsListClose:ce,overlayClassName:pe,onScrollablePage:ye,onOptionSelected:Ie,shouldOptionBeSelected:Se,shouldTokenizeOnComma:le,shouldTokenizeOnSpace:X,autoClogProps:J,dynamicHeight:z,shouldAllowUnselectInMultiSelectMode:te,stayExpandedAfterSelection:$,optionsListFooterBannerContent:q,offsetY:re,offsetX:de}=this.props,{isDisabled:oe,loadInBackground:De}=K;if(oe)return null;const ae={key:`${K.selectId}-popover`};pe&&(ae.overlayClassName=pe),re&&(ae.offsetY=re);const Z=(k=this.additionalInfoContainerRef)===null||k===void 0?void 0:k.current;L&&Z&&(ae.offsetY=-Z.offsetHeight),de&&(ae.offsetX=de);const ie=w?t.createElement(g.A,{selectState:K,setSelectState:N,renderOption:R,emptyStateMessage:U,enableLoadingState:x,width:B,maxListHeight:F,multiSelectMode:!0,inputRef:Y,inputContainerRef:this.inputContainerRef,measurePopoverEventName:this.measurePopoverEventName,isLoading:G&&!De,classPrefix:Ee,selectDataQa:this.fallbackDataQa,optionsRowHeight:ne,onOpen:se,onOptionsListClose:ce,popoverProps:ae,onScrollablePage:ye,onOptionSelected:Ie,shouldOptionBeSelected:Se,shouldTokenizeOnComma:le,shouldTokenizeOnSpace:X,autoClogProps:J,dynamicHeight:z,shouldAllowUnselectInMultiSelectMode:te,stayExpandedAfterSelection:$,footerBannerContent:q,minOptionsListWidth:V}):t.createElement(p.Ay,{selectState:K,setSelectState:N,renderOption:R,emptyStateMessage:U,enableLoadingState:x,width:B,maxListHeight:F,multiSelectMode:!0,classPrefix:Ee,selectDataQa:this.fallbackDataQa,optionsRowHeight:ne,onOptionsListClose:ce,onOptionSelected:Ie,shouldOptionBeSelected:Se,shouldTokenizeOnComma:le,shouldTokenizeOnSpace:X,dynamicHeight:z,footerBannerContent:q});return J?t.createElement(i.A,{elementType:f.ElementType.DROPDOWN,actionProps:I,autoClogProps:J},ie):ie}render(){const{selectState:L,setSelectState:k,inputRef:K,maxHeight:N,placeholderText:R,size:U,width:x,isLoading:B,focusOnMount:F,resultsInPopover:V,onSelectedItemsChange:Y,onKeyDown:w,onKeyUp:G,className:Ee,classPrefix:ne,onFilterQueryChange:se,onFilterQueryPaste:ce,processOptions:pe,onBlur:ye,onOptionsListClosedBlur:Ie,onOptionsListClose:Se,expandOnFocus:le,ariaLabel:X,ariaLabelledBy:J,ariaDescribedBy:z,onTokenSelect:te,onInputFocused:$,forceRealName:q,autoClogProps:re,errors:de,hints:oe,disableIdParsing:De,customizeTokenProps:ae,iconType:Z,isTokenEditable:ie,ignoreSelectAllTokensAfterMount:Ce,disableCloseOnTab:Re,throttleForceRenderSelectContainer:He,forceRenderSelectContainerThrottleRate:be}=this.props;let Ue;de&&(Ue=(0,d.A)(de));let me;oe&&(me=(0,d.A)(oe));let ve;de&&(ve=Ue?C(de):void 0);let Fe;oe&&(Fe=me?C(oe):void 0);const Ke=(0,o.Yk)([z,ve,Fe]),j=!!(Ue&&de||me&&oe);return t.createElement("div",{className:n()(Ee,"c-multi-select"),"data-qa":this.fallbackDataQa,ref:this.inputContainerRef},t.createElement(l.A,{selectState:L,setSelectState:k,size:U,width:x,maxHeight:N,placeholderText:R,isLoading:B,inputRef:K,focusOnMount:F,measurePopoverEventName:V&&this.measurePopoverEventName,onSelectedItemsChange:Y,selectDataQa:this.fallbackDataQa,onKeyDown:w,onKeyUp:G,classPrefix:ne,onFilterQueryChange:se,onFilterQueryPaste:ce,processOptions:pe,onBlur:ye,onOptionsListClosedBlur:Ie,onOptionsListClose:Se,expandOnFocus:le,ariaLabel:X,ariaLabelledBy:J,ariaDescribedBy:Ke,onTokenSelect:te,onInputFocused:$,forceRealName:q,autoClogProps:re,customizeTokenProps:ae,iconType:Z,disableIdParsing:De,isTokenEditable:ie,ignoreSelectAllTokensAfterMount:Ce,disableCloseOnTab:Re,throttleForceRenderSelectContainer:He,forceRenderSelectContainerThrottleRate:be}),t.createElement("div",{className:"flow_root",ref:this.additionalInfoContainerRef},Ue&&de&&t.createElement(_.A,{errors:de}),me&&oe&&oe.map(ee=>{let{id:je,message:Te,className:Je}=ee;return t.createElement(a.A,{key:je,id:je,className:Je},Te)})),this.renderOptionsList(j))}constructor(L){super(L),(0,h.v)(this,["renderOptionsList"]),this.inputContainerRef=t.createRef(),this.additionalInfoContainerRef=t.createRef();const{selectId:k}=L.selectState;this.measurePopoverEventName=`measureSelectPopover--${k}`,this.fallbackDataQa=L.selectDataQa||k}},"ControlledMultiSelect");D.defaultProps={renderOption:O=>O.label,size:A.hu.MEDIUM,width:300,optionsRowHeight:A.bJ,maxHeight:void 0,maxOptionsListHeight:void 0,minOptionsListWidth:void 0,errors:[],hints:[],placeholderText:"",prefix:void 0,emptyStateMessage:void 0,isLoading:!1,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,enableLoadingState:!0,selectDataQa:void 0,focusOnMount:!1,onSelectedItemsChange:r.A,onKeyDown:r.A,onKeyUp:r.A,className:void 0,classPrefix:void 0,onFilterQueryChange:r.A,onFilterQueryPaste:r.A,processOptions:r.A,onBlur:r.A,onOptionsListClosedBlur:r.A,ariaLabelledBy:void 0,ariaDescribedBy:void 0,expandOnFocus:!1,onTokenSelect:r.A,onInputFocused:r.A,forceRealName:void 0,onOptionsListOpen:r.A,onOptionsListClose:r.A,onScrollablePage:!1,onOptionSelected:r.A,shouldOptionBeSelected:r.A,shouldTokenizeOnComma:!1,shouldTokenizeOnSpace:!1,autoClogProps:void 0,dynamicHeight:!1,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,isTokenEditable:!1,ignoreSelectAllTokensAfterMount:!1,optionsListFooterBannerContent:void 0,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:void 0},D.displayName="ControlledMultiSelect";let M=m(class extends t.Component{setSelectState(L,k){this.setState(K=>{let N=L();const{filter:R,options:U}=this.props;return N.filterQuery!==void 0&&N.filterQuery!==K.filterQuery&&R&&(N=R(U,N)),N},k)}render(){const{isDisabled:L,isInvalid:k,isRequired:K,customControlledMultiSelectComponent:N,errors:R}=this.props,U=k||(0,d.A)(R),x=N??D,B=(0,u.A)(()=>({...this.state,isDisabled:L,isInvalid:U,isRequired:K}));return t.createElement(x,y({},this.props,{selectState:B(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(L){super(L),this.state={filterQuery:"",options:L.options,isDisabled:L.isDisabled,isExpanded:L.isExpanded,isInvalid:L.isInvalid,isRequired:L.isRequired,selectId:L.selectId,selectedOptions:L.selectedOptions||[],shouldRefocusInputAfterSelection:!!L.showConfirmDialog,selectedTokenIndexes:L.selectedTokenIndexes||[]},this.inputRef=t.createRef(),(0,h.v)(this,["setSelectState"])}},"MultiSelect");M.defaultProps={selectedOptions:null,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,className:void 0,errors:[],hints:[],filter:v.k,selectId:`multi-select-${(0,o.r9)()}`,customControlledMultiSelectComponent:null,showConfirmDialog:void 0,autoClogProps:void 0,selectedTokenIndexes:[]},M.displayName="MultiSelect";const P=M,S=(0,c.A)(D),b=(0,E.A)(D)},630868093:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>S,Fw:()=>M,JJ:()=>D,mH:()=>b});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(3398586081),i=e(5617110048),o=e(3391133100),a=e(2660476100),_=e(3155323475),l=e(581574686),p=e(9359656550),g=e(4640201401),c=e(5185985254),E=e(2742076544),A=e(7193040700),d=e(3650946343),v=e(7772530643),h=e(4426213732),f=e(1224315998);function y(){return y=Object.assign||function(O){for(var L=1;L<arguments.length;L++){var k=arguments[L];for(var K in k)Object.prototype.hasOwnProperty.call(k,K)&&(O[K]=k[K])}return O},y.apply(this,arguments)}m(y,"_extends");const I={onOptionSelected:{action:f.UiAction.SELECT}},C=m(O=>O.map(L=>{let{id:k}=L;return k}),"getIdsFromHintOrErrors");let D=m(class extends t.Component{maybeRenderOptionsList(){const{selectState:L,setSelectState:k,renderOption:K,width:N,inputRef:R,ariaLabel:U,resultsInPopover:x,overlayClassName:B,offsetY:F,offsetX:V,onOptionSelected:Y,className:w,classPrefix:G,optionsRowHeight:Ee,onOpen:ne,emptyStateMessage:se,minOptionsListWidth:ce,maxOptionsListHeight:pe,isLoading:ye,onOptionsListClose:Ie,onScrollablePage:Se,enableLoadingState:le,autoClogProps:X,shouldAllowUnselectInSingleSelectMode:J,shouldOptionBeSelected:z,optionsListFooterBannerContent:te,includeWrapper:$=!0}=this.props;if(x&&(!this.props.inputRef||!this.props.inputRef.current))return null;const q={key:`${L.selectId}-popover`};B&&(q.overlayClassName=B),F&&(q.offsetY=F),V&&(q.offsetX=V);const re=x?t.createElement(g.A,{selectState:L,setSelectState:k,renderOption:K,width:N,inputRef:R,ariaLabel:U,onOptionSelected:Y,popoverProps:q,measurePopoverEventName:this.measurePopoverEventName,className:w,classPrefix:G,selectDataQa:this.fallbackDataQa,optionsRowHeight:Ee,onOpen:ne,emptyStateMessage:se,minOptionsListWidth:ce,maxListHeight:pe,isLoading:ye,onOptionsListClose:Ie,onScrollablePage:Se,enableLoadingState:le,autoClogProps:X,dropdownContainer:this.dropdownContainer,shouldAllowUnselectInSingleSelectMode:J,shouldOptionBeSelected:z,footerBannerContent:te,includeWrapper:$}):t.createElement(p.Ay,{selectState:L,setSelectState:k,renderOption:K,width:N,inputRef:R,ariaLabel:U,onOptionSelected:Y,classPrefix:G,selectDataQa:this.fallbackDataQa,emptyStateMessage:se,maxListHeight:pe,optionsRowHeight:Ee,onOptionsListClose:Ie,enableLoadingState:le,shouldAllowUnselectInSingleSelectMode:J,shouldOptionBeSelected:z,footerBannerContent:te,includeWrapper:$});return t.createElement(i.A,{elementType:f.ElementType.DROPDOWN,actionProps:I,autoClogProps:X},re)}render(){const{renderSelectedOption:L,className:k,classPrefix:K,placeholderText:N,size:R,width:U,selectState:x,setSelectState:B,inputRef:F,focusOnMount:V,showDropdownIcon:Y,isLoading:w,resultsInPopover:G,isDisabled:Ee,isRequired:ne,onFocus:se,onEsc:ce,ariaLabelledBy:pe,ariaDescribedBy:ye,inputIcon:Ie,maxCharacterLimit:Se,onOptionsListClose:le,ariaLabel:X,expandOnClick:J,searchOnClick:z,autoClogProps:te,errors:$,hints:q,expandOnFocus:re,hideSelectedOptionOnDropdownOpen:de,retainPreviousSelectionOnDelete:oe}=this.props,{isInvalid:De}=x,ae=(0,d.A)($),Z=(0,d.A)(q);let ie;$&&(ie=ae?C($):void 0);let Ce;q&&(Ce=Z?C(q):void 0);const Re=(0,o.Yk)([ye,ie,Ce]),He=De||ae;return t.createElement("div",{className:n()(k,"c-search-select"),"data-qa":this.fallbackDataQa},t.createElement(l.Ay,{selectState:{...x,isInvalid:He,isRequired:ne,isDisabled:Ee},setSelectState:B,renderSelectedOption:L,placeholderText:N,size:R,width:U,selectDataQa:this.fallbackDataQa,inputRef:F,focusOnMount:V,showDropdownIcon:Y,isLoading:w,resultsInPopover:G,measurePopoverEventName:G?this.measurePopoverEventName:void 0,classPrefix:K,onBlur:this.onBlur,onFocus:se,onEsc:ce,"aria-label":X,ariaLabelledBy:pe,ariaDescribedBy:Re,icon:Ie,maxCharacterLimit:Se,onOptionsListClose:le,expandOnClick:J,autoClogProps:te,searchOnClick:z,expandOnFocus:re,hideSelectedOptionOnDropdownOpen:de,retainPreviousSelectionOnDelete:oe}),ae&&$&&t.createElement(_.A,{errors:$}),Z&&q&&q.map(be=>{let{id:Ue,message:me,className:ve}=be;return me&&t.createElement(a.A,{key:Ue,id:Ue,className:ve},me)}),this.maybeRenderOptionsList())}constructor(L){super(L),this.onBlur=K=>{if(this.dropdownContainer){const N=this.dropdownContainer.current;if(N&&N.contains(K.relatedTarget)&&!this.props.isInvalidStateControlled){this.props.setSelectState(()=>({isInvalid:!1}));return}}this.props.onBlur&&this.props.onBlur(K)};const{selectId:k}=L.selectState;this.measurePopoverEventName=`measureSelectPopover--${k}`,this.fallbackDataQa=L.selectDataQa||k,this.dropdownContainer=t.createRef()}},"ControlledSearchSelect");D.defaultProps={autoClogProps:void 0,className:void 0,classPrefix:void 0,renderOption:O=>O.label,renderSelectedOption:O=>O.label,resultsInPopover:!0,overlayClassName:void 0,offsetY:void 0,offsetX:void 0,size:A.hu.MEDIUM,width:360,optionsRowHeight:A.bJ,errors:[],hints:[],ariaLabel:null,ariaLabelledBy:void 0,ariaDescribedBy:void 0,placeholderText:void 0,onOptionSelected:r.A,selectDataQa:void 0,showDropdownIcon:!0,focusOnMount:!1,isLoading:!1,isDisabled:!1,isInvalid:!1,isRequired:!0,onBlur:r.A,onFocus:r.A,onEsc:r.A,onOpen:r.A,onOptionsListClose:r.A,emptyStateMessage:void 0,minOptionsListWidth:void 0,maxOptionsListHeight:void 0,inputIcon:void 0,maxCharacterLimit:void 0,onScrollablePage:!1,expandOnClick:!0,enableLoadingState:!0,searchOnClick:!1,shouldAllowUnselectInSingleSelectMode:!0,shouldOptionBeSelected:r.A,isInvalidStateControlled:!1,shouldRefocusInputAfterSelection:void 0},D.displayName="ControlledSearchSelect";const M=(0,c.A)(D);let P=m(class extends t.Component{setSelectState(L,k){this.setState(K=>{let N=L();const{filter:R,options:U}=this.props;return N.filterQuery!==void 0&&N.filterQuery!==K.filterQuery&&R&&(N=R(U,N)),N},k)}render(){const{isRequired:L,isInvalid:k,isDisabled:K,showConfirmDialog:N}=this.props,R=N?M:D,U=(0,u.A)(()=>({...this.state,isInvalid:k,isRequired:L,isDisabled:K}));return t.createElement(R,y({},this.props,{selectState:U(),setSelectState:this.setSelectState,inputRef:this.inputRef}))}constructor(L){super(L),this.state={filterQuery:"",displayQuery:"",options:L.options,selectId:L.selectId,isExpanded:L.isExpanded,isInvalid:L.isInvalid,isDisabled:L.isDisabled,selectedOption:L.selectedOption,shouldRefocusInputAfterSelection:L.shouldRefocusInputAfterSelection},this.inputRef=this.props.inputRef?this.props.inputRef:t.createRef(),(0,h.v)(this,["setSelectState"])}},"SearchSelect");P.defaultProps={autoClogProps:void 0,isDisabled:!1,isExpanded:!1,isInvalid:!1,isRequired:!0,errors:[],hints:[],filter:v.k,onOptionSelected:r.A,selectId:`search-select-${(0,o.r9)()}`,selectedOption:void 0,showConfirmDialog:void 0,inputIcon:void 0,maxCharacterLimit:void 0,inputRef:void 0},P.displayName="SearchSelect";const S=P,b=(0,E.A)(D)},2727264612:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(441565466),n=e(3708320478),r=e(6044196829),u=e(8683010724),i=e(4413566926);const o=new i.Ay("form_inputs"),a=m(l=>{let{onCtaClick:p,errorCopy:g,ctaCopy:c}=l;const E=(0,s.A)();return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--error"},t.createElement(u.A,{name:"warning",inline:!0})),t.createElement("span",null,t.createElement(n.z,{uuid:E,deferBy:100},g||o.t("Selected entries contain errors.")),t.createElement(r.A,{onClick:p,className:"margin_left_25"},c||o.t("Delete all errors"))))},"MultiSelectErrorText");a.displayName="MultiSelectErrorText";const _=a},868047630:(W,T,e)=>{"use strict";e.d(T,{A:()=>K});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(8571983633),u=e(6696292586),i=e(3398586081),o=e(5950652755),a=e(7715417323),_=e(1545824888),l=e(5617110048),p=e(4348392507),g=e(1250195607),c=e(6308822),E=e(5797272849),A=e(3391133100),d=e(1610251172),v=e(7193040700),h=e(561151542),f=e(4426213732),y=e(1224315998),I=e(4094753332),C=e(4757466470);function D(){return D=Object.assign||function(N){for(var R=1;R<arguments.length;R++){var U=arguments[R];for(var x in U)Object.prototype.hasOwnProperty.call(U,x)&&(N[x]=U[x])}return N},D.apply(this,arguments)}m(D,"_extends");const M={onChange:{action:y.UiAction.ENTER_TEXT}},P={onClick:{action:y.UiAction.CLICK}},S=new Array(95).fill("").map((N,R)=>String.fromCharCode(R+32)),b=m(N=>t.createElement("span",D({className:"c-multi_select_input__space"},N),"\xA0"),"makeSpace"),O=1e3,L={leading:!0,trailing:!1};let k=m(class extends t.PureComponent{componentDidMount(){this.inputHeight=this.getInputHeight(),this.props.focusOnMount&&this.focus(),this.attachMutationObserver()}componentDidUpdate(R){var U;const x=R.selectState,{selectState:B,onTokenSelect:F,onSelectedItemsChange:V,setSelectState:Y,hasKeyboardFocus:w,isTokenEditable:G}=this.props,{selectedOptions:Ee,isExpanded:ne,isDisabled:se}=B,ce=this.getSelectedTokenIndexes();if(this.doesMutationObserverExist()||(this.attachMutationObserver(),this.focus()),this.props.focusOnMount&&R.focusOnMount!==this.props.focusOnMount&&this.focus(),((U=B.filterQuery)===null||U===void 0?void 0:U.length)&&B.filterQuery!==x.filterQuery&&this.caretPosInFilterQuery!==-1&&this.updateCaretPosInFilterQuery(),this.possiblyRepositionOptionsList(x),this.haveSelectedTokens()&&!(0,C.Ay)(x.selectedTokenIndexes,ce)&&Ee&&(ce==null||ce.forEach(le=>{F&&F(Ee[le])}),ne&&Y(()=>({isExpanded:!1})),this.scrollSelectedTokenIntoView()),x.isDisabled&&!se&&this.moveCursorAndScrollToFilterQuery(),!(0,C.Ay)(x.selectedOptions,Ee,3)){if(V&&typeof Ee<"u"){if(G){var Ie;const{isCurrentlyEditingToken:le}=this.state;if((((Ie=x.selectedOptions)===null||Ie===void 0?void 0:Ie.length)||0)<Ee.length){if(le){const X=Ee.pop();X&&Ee.splice(this.state.editTokenIndex,0,X),this.setTokenState(!1,0)}}else le&&Ee.length===0&&this.setTokenState(!1,0)}V(Ee)}this.scrollFilterQueryIntoView()}this.inputHeight=this.getInputHeight(),w&&!R.hasKeyboardFocus&&(0,r.A)(B.activeRowIndex)&&!this.allTokensAreSelected()&&this.selectAllTokens()}componentWillUnmount(){this.doesMutationObserverExist()&&this.removeMutationObserver(),this.updateQueryTimer&&clearTimeout(this.updateQueryTimer),this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel()}onBlur(R){const{selectState:U,setSelectState:x,hideFilterQueryOnBlur:B,onBlur:F,onOptionsListClosedBlur:V}=this.props,{selectedOptions:Y,filterQuery:w,isExpanded:G}=U,Ee=B&&w&&!G;this.setState(()=>({focused:!1})),this.deselectAllTokens(),Ee&&x(()=>({filterQuery:""})),this.caretPosInFilterQuery=-1,this.mouseDownOnToken=!1,F&&F(R,Y),!G&&V&&V()}onChange(){this.state.composing||this.onFilterQueryChanged()}setTokenState(R,U){this.props.isTokenEditable&&this.setState(()=>({isCurrentlyEditingToken:R,editTokenIndex:U}))}onFilterQueryChanged(){const{setSelectState:R,selectState:U,onFilterQueryChange:x}=this.props,B=this.filterQueryRef.current,F=B==null?void 0:B.textContent,V=U.filterQuery!==F;if(this.backspaceWasPressed&&!V){this.backspaceWasPressed=!1;return}const Y=F?F.length>0:!1;this.saveCaretPosInFilterQuery(),R(()=>({filterQuery:F,isExpanded:Y})),x&&x(F)}onFocus(R){this.setState(()=>({focused:!0}));const{expandOnFocus:U,onInputFocused:x,setSelectState:B,onFocus:F}=this.props;U&&B(()=>({isExpanded:!0})),this.mouseDownOnToken||this.moveCursorAndScrollToFilterQuery(),x&&x(R),this.mouseDownOnToken=!1,F&&F(R)}onCaretSelectionChange(){this.isCaretOutSideFilterQuery()?this.updateCaretPosInFilterQuery():this.saveCaretPosInFilterQuery()}onRangeSelectionChange(){var R;const U=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),x=U==null?void 0:U.getRangeAt(0),B=this.getTokensAsArray(),{selectState:F}=this.props,{filterQuery:V}=F,Y=B.reduce((pe,ye,Ie)=>U!=null&&U.containsNode(ye)?[...pe,Ie]:pe,[]),w=Y.length>0;if(!V&&!w&&!(U!=null&&U.isCollapsed)){this.ignoreSelectionChange=!0,U==null||U.collapseToEnd();return}if(this.isEntireFilterQuerySelected()&&!w){var G;this.ignoreSelectionChange=!0,x==null||x.setStartBefore((G=this.filterQueryRef.current)===null||G===void 0?void 0:G.firstChild);return}const Ee=Y[0],ne=Y[Y.length-1],se=B[Ee],ce=B[ne];if(!V&&w){this.ignoreSelectionChange=!0,x==null||x.setStartBefore(se),this.ignoreSelectionChange=!0,x==null||x.setEndAfter(ce),this.setSelectedTokenIndexes(Y);return}this.isEntireFilterQuerySelected()&&w&&(this.ignoreSelectionChange=!0,x==null||x.setStartBefore(se),this.setSelectedTokenIndexes(Y))}onSelectionChange(){var R;if(this.ignoreSelectionChange){this.ignoreSelectionChange=!1;return}const U=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();let x=null;if(U){const{type:B}=U;x=B}x==="Caret"&&this.onCaretSelectionChange(),x==="Range"&&this.onRangeSelectionChange()}onKeyDown(R){if(this.state.composing)return;const{key:U,ctrlKey:x,metaKey:B,altKey:F,shiftKey:V}=R,{selectState:Y,onKeyDown:w}=this.props,G=(0,I.cX)()?B:x,Ee=U==="Delete"&&((0,I.cX)()&&F||(0,I.uF)()&&G);(U==="Backspace"||Ee)&&this.onBackspace(R),!Ee&&U==="Delete"&&this.onDelete(R),U==="Escape"&&this.onEscape(R),(U==="Home"||B&&!V&&U==="ArrowLeft"||B&&!V&&U==="ArrowUp")&&this.onHome(R),(U==="End"||B&&!V&&U==="ArrowRight"||B&&!V&&U==="ArrowDown")&&this.onEnd(R),!B&&U==="ArrowLeft"&&!this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!0,this.onLeftArrow(R)),!B&&U==="ArrowRight"&&this.onRightArrow(R),U==="Tab"&&this.onTab(R),(U==="ArrowUp"||U==="ArrowDown")&&R.preventDefault(),U==="Enter"&&R.preventDefault(),!G&&S.includes(U)&&this.onCharacterKey(),w&&w(R,{hasActiveRowIndex:(0,u.A)(Y.activeRowIndex),isExpanded:!!Y.isExpanded})}onHome(R){R.preventDefault();const{selectState:U}=this.props,{selectedOptions:x}=U;x!=null&&x.length?this.setSelectedTokenIndexes([0],{initiator:R.type}):this.moveCursorToFilterQuery({cursorAtStart:!0})}onEnd(R){R.preventDefault();const{selectState:U}=this.props,{selectedTokenIndexes:x}=U;x!=null&&x.length&&this.deselectAllTokens(),this.moveCursorAndScrollToFilterQuery()}onKeyUp(R){const{selectState:U,onKeyUp:x}=this.props,B=this.getSelectedTokenIndexes(),F=this.getTokensAsArray();this.shouldMoveCursorToFilterQuery&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.shouldMoveCursorToFilterQuery=!1),this.updateSelectionOnKeyUp&&(B!=null&&B.length)&&(this.selectTextInNode(F[B[0]]),this.updateSelectionOnKeyUp=!1),this.leftArrowKeyWasPressed&&(this.leftArrowKeyWasPressed=!1),x&&x(R,{hasActiveRowIndex:(0,u.A)(U.activeRowIndex)})}onInputContainerMouseDown(R){R.preventDefault(),this.haveSelectedTokens()&&this.deselectAllTokens(),this.state.focused?this.moveCursorAndScrollToFilterQuery():this.focus()}onPaste(R){if(!R||!R.clipboardData)return;const{selectState:U}=this.props,{filterQuery:x}=U,{onFilterQueryPaste:B,setSelectState:F}=this.props;R.preventDefault();const V=R.clipboardData.getData("text"),Y=this.caretPosInFilterQuery||0,w=x||"",G=(x==null?void 0:x.length)||0,Ee=Y<=G?Y:G,ne=w.slice(0,Ee)+V+w.slice(Ee);F(()=>({filterQuery:ne})),B&&B(R)}onCharacterKey(){if(!this.haveSelectedTokens())return;const{setSelectState:R}=this.props,{selectState:U}=this.props,{filterQuery:x,selectedOptions:B}=U,F=this.getSelectedTokenIndexes(),V=B==null?void 0:B.filter((G,Ee)=>(F==null?void 0:F.indexOf(Ee))===-1),Y=this.getSelectedFilterQueryText(),w=x==null?void 0:x.replace(Y,"");R(()=>({selectedOptions:V,selectedTokenIndexes:[],filterQuery:w})),this.moveCursorToFilterQuery()}onBackspace(R){const{setSelectState:U}=this.props,{selectState:x,isTokenEditable:B}=this.props,{filterQuery:F}=x;if(this.ignoreSelectionChange=!0,this.allTokensAreSelected()&&(this.isEntireFilterQuerySelected()||!F)){R.preventDefault(),U(()=>({selectedOptions:[],selectedTokenIndexes:[],filterQuery:"",isExpanded:!1}));return}if(B&&(F==null?void 0:F.length)===1){R.preventDefault(),U(()=>({filterQuery:"",isExpanded:!1})),this.setTokenState(!1,0),this.moveCursorToFilterQuery();return}if(this.isEntireFilterQuerySelected()){R.preventDefault(),U(()=>({filterQuery:"",isExpanded:!1}));return}const Y=this.getTokensAsArray().length,w=this.getSelectedTokenIndexes(),G=this.isCaretAtStartOfFilterQuery();if(this.backspaceWasPressed=!0,G&&Y===0){R.preventDefault();return}if(!G&&!this.haveSelectedTokens()&&F)return;if(R.preventDefault(),!this.haveSelectedTokens()){this.setSelectedTokenIndexes([Y-1],{initiator:R.type});return}w==null||w.forEach(ce=>{this.removeToken(ce,"backspaceKey")});const Ee=w&&w[0],ne=Ee===0;let se=null;Ee&&(se=ne?[0]:[Ee-1]),se!=null&&se.length&&this.setSelectedTokenIndexes(se,{initiator:R.type})}onDelete(R){const{setSelectState:U}=this.props;if(this.ignoreSelectionChange=!0,this.isEntireFilterQuerySelected()){R.preventDefault(),U(()=>({filterQuery:"",isExpanded:!1}));return}const B=this.getTokensAsArray().length,F=this.getSelectedTokenIndexes();if(B===0||!this.haveSelectedTokens()||(R.preventDefault(),F==null||F.forEach(G=>{this.removeToken(G,"deleteKey")}),!(F!=null&&F.length)))return;const Y=F[F.length-1]===B-1,w=(F==null?void 0:F.length)===B;(Y||w)&&(this.moveCursorToFilterQuery({cursorAtStart:!0}),this.deselectAllTokens())}onEscape(R){const{selectState:U,setSelectState:x,onOptionsListClose:B}=this.props;U.isExpanded&&(R.stopPropagation(),B&&B(),x(()=>({isExpanded:!1})))}onLeftArrow(R){var U;const B=this.getTokensAsArray().length,F=this.getSelectedTokenIndexes(),V=(F==null?void 0:F.length)&&F[0],Y=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection();let w=null,G=null;if(Y){const{type:ye,anchorOffset:Ie}=Y;w=ye,G=Ie}const Ee=w==="Caret",ne=w==="Range";if(R.shiftKey&&ne&&this.isRangeSelectionOfFilterQueryComplete(G)){R.preventDefault();return}const se=Ee&&this.isCaretAtStartOfFilterQuery();if(B===0&&se){R.preventDefault();return}if(B===0)return;if(this.props.isTokenEditable&&this.state.isCurrentlyEditingToken&&se){R.preventDefault();return}if(this.allTokensAreSelected()){this.setSelectedTokenIndexes([0],{initiator:R.type});return}if(!this.haveSelectedTokens()&&se){this.setSelectedTokenIndexes([B-1],{initiator:R.type});return}if(ne&&this.haveSelectedTokens()&&V===0){R.preventDefault();return}this.haveSelectedTokens()&&typeof V=="number"&&this.setSelectedTokenIndexes([V-1],{initiator:R.type})}onRightArrow(R){var U;const x=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection(),B=(x==null?void 0:x.type)==="Range",V=this.getTokensAsArray().length,Y=this.getSelectedTokenIndexes(),w=(Y==null?void 0:Y.length)&&Y[0];if(typeof w!="number")return;if(!(B&&this.haveSelectedTokens()&&w<V-1)&&this.haveSelectedTokens()||this.allTokensAreSelected()){R.preventDefault(),this.shouldMoveCursorToFilterQuery=!0,this.deselectAllTokens();return}this.haveSelectedTokens()&&typeof w=="number"&&this.setSelectedTokenIndexes([w+1],{initiator:R.type})}onTab(R){const{shiftKey:U}=R,{expandOnFocus:x,selectState:B,onOptionsListClose:F,setSelectState:V,disableCloseOnTab:Y}=this.props;Y||(F&&F(),(U||x&&(0,r.A)(B.activeRowIndex))&&V(()=>({isExpanded:!1})))}onTokenMouseDown(R,U){const{focused:x,isCurrentlyEditingToken:B}=this.state,{selectState:F,isTokenEditable:V}=this.props;if(F.isDisabled)return;if(R.preventDefault(),this.mouseDownOnToken=!0,R.stopPropagation(),V&&!B){this.onTokenEdit(U);return}x||this.focus();const Y=this.getTokensAsArray();this.selectTextInNode(Y[U]);const w=this.getSelectedTokenIndexes();U!==(w==null?void 0:w[0])&&this.setSelectedTokenIndexes([U])}onTokenEdit(R){const{selectState:U,setSelectState:x,processOptions:B}=this.props,{selectedOptions:F}=U;this.setTokenState(!0,R);let V="";F&&F[R]&&(typeof F[R].label=="string"&&F[R].label!==F[R].value?V=F[R].label:V=F[R].value),this.removeToken(R,"editToken"),this.updateFilterQueryValue(V),B&&B([],V).then(Y=>{x(()=>({isExpanded:!0,options:Y,filterQuery:V}))})}onTokenRemoveMouseDown(R,U){const{focused:x,isCurrentlyEditingToken:B,editTokenIndex:F}=this.state;R.preventDefault(),this.mouseDownOnToken=!0,R.stopPropagation(),x||this.focus(),this.moveCursorToFilterQuery(),this.props.isTokenEditable&&B&&U<F&&this.setTokenState(!0,F-1),this.removeToken(U,"iconClick")}onFilterQueryMouseDown(R){var U;this.state.focused&&(!((U=this.filterQueryRef.current)===null||U===void 0)&&U.textContent)&&R.stopPropagation(),this.haveSelectedTokens()&&this.deselectAllTokens()}updateFilterQueryValue(R){const{onFilterQueryChange:U}=this.props;this.updateQueryTimer=setTimeout(()=>{U&&U(R),this.moveCursorToFilterQuery(),clearTimeout(this.updateQueryTimer)})}onPlaceholderMouseDown(){this.focus()}onSelectAll(R){var U;const{setSelectState:x}=this.props;R.preventDefault(),x(()=>({selectedTokenIndexes:[],isExpanded:!1}));const B=(U=this.filterQueryRef)===null||U===void 0?void 0:U.current;B!=null&&B.textContent&&this.selectTextInNode(B)}onCompositionStart(){this.setState(()=>({composing:!0}))}onCompositionEnd(){this.setState(()=>({composing:!1})),this.onFilterQueryChanged()}onCut(){const{selectState:R}=this.props,{filterQuery:U,selectedOptions:x}=R,B=this.getSelectedTokenIndexes(),F=x==null?void 0:x.filter((w,G)=>(B==null?void 0:B.indexOf(G))===-1),V=this.getSelectedFilterQueryText(),Y=U==null?void 0:U.replace(V,"");this.selectStateAfterMutation={selectedTokenIndexes:[],selectedOptions:F,filterQuery:Y,isExpanded:!1}}onNodeAdded(R){const{nodeName:U}=R;(U==="B"||U==="I")&&(this.removeMutationObserver(),this.runForceRenderSelectContainer())}onNodeRemoved(R){const{setSelectState:U}=this.props;if(this.selectStateAfterMutation){this.caretPosInFilterQuery=0,this.removeMutationObserver(),this.runForceRenderSelectContainer(!0),U(()=>this.selectStateAfterMutation),this.selectStateAfterMutation=null;return}R===this.filterQueryRef.current&&(this.removeMutationObserver(),this.runForceRenderSelectContainer(!0))}onMutation(R){R.forEach(U=>{U.addedNodes.forEach(this.onNodeAdded),U.removedNodes.forEach(this.onNodeRemoved)})}getOptionsListboxHtmlId(){var R;return(0,A.Es)((R=this.props.selectState.selectId)!==null&&R!==void 0?R:"","listbox")}getAriaPlaceholderText(){const{selectState:R,placeholderText:U}=this.props,{filterQuery:x,selectedOptions:B}=R;if(!x&&!(B&&B.length>0))return U}getAriaActiveDescendant(){const{selectState:R}=this.props,{selectId:U,activeRowIndex:x}=R;return(0,u.A)(x)?(0,A.Es)(U,`option_${x}`):void 0}getInputHeight(){const{inputRef:R}=this.props,U=R==null?void 0:R.current;return U?U.offsetHeight:null}getTokensAsArray(){var R,U;const x=(R=this.props.inputRef)===null||R===void 0||(U=R.current)===null||U===void 0?void 0:U.querySelectorAll(".c-token");return Array.prototype.slice.call(x)}getSelectedFilterQueryText(){var R;const{selectState:U}=this.props,{filterQuery:x}=U;if((x==null?void 0:x.length)===0)return"";const B=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),F=B==null?void 0:B.toString();if(!(B==null?void 0:B.containsNode(this.filterQueryRef.current,!0)))return"";const Y=F==null?void 0:F.split(`
`);return Y!=null&&Y.length?Y[Y.length-1].trim():""}setSelectedTokenIndexes(R){let{initiator:U}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};U==="keydown"&&(this.updateSelectionOnKeyUp=!0,this.ignoreSelectionChange=!0);const{setSelectState:x}=this.props;x(()=>({selectedTokenIndexes:R}))}getSelectedTokenIndexes(){const{selectState:R}=this.props,{selectedTokenIndexes:U}=R;return U||[]}allTokensAreSelected(){const R=this.getSelectedTokenIndexes(),U=this.getTokensAsArray();return R!=null&&R.length?R.length>0&&R.length===U.length:!1}attachMutationObserver(){var R;if(this.mutationObserver=new MutationObserver(this.onMutation),!((R=this.props.inputRef)===null||R===void 0)&&R.current){var U;this.mutationObserver.observe((U=this.props.inputRef)===null||U===void 0?void 0:U.current,{subtree:!0,childList:!0})}}deselectAllTokens(){this.setSelectedTokenIndexes([])}determineCaretPosInFilterQuery(){const{selectState:R}=this.props,{filterQuery:U}=R;if(this.caretPosInFilterQuery===-1||!U)return 0;const x=U==null?void 0:U.length;return typeof this.caretPosInFilterQuery=="number"&&this.caretPosInFilterQuery>x?x:this.caretPosInFilterQuery}doesMutationObserverExist(){return!!this.mutationObserver}removeMutationObserver(){var R;(R=this.mutationObserver)===null||R===void 0||R.disconnect(),this.mutationObserver=null}focus(){var R;const U=(R=this.props.inputRef)===null||R===void 0?void 0:R.current;U==null||U.focus()}forceRenderSelectContainer(){this.setState(()=>({selectContainerKey:Date.now()}))}runForceRenderSelectContainer(R){const{isLoading:U,throttleForceRenderSelectContainer:x}=this.props;x?(R&&this.forceRenderSelectContainerThrottled.cancel&&this.forceRenderSelectContainerThrottled.cancel(),U||this.forceRenderSelectContainerThrottled()):this.forceRenderSelectContainer()}haveSelectedTokens(){var R;return!!(!((R=this.getSelectedTokenIndexes())===null||R===void 0)&&R.length)}isCaretAtStartOfFilterQuery(){var R;if(this.isCaretOutSideFilterQuery())return!1;const{selectState:U}=this.props,{filterQuery:x}=U;if(!x)return!0;const B=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();let F=null;if(B){const{anchorOffset:V}=B;F=V}return F===0}isCaretOutSideFilterQuery(){var R,U;const x=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();let B=null;if(x){const{anchorNode:F}=x;B=F}return!(!((U=this.filterQueryRef.current)===null||U===void 0)&&U.contains(B))}isRangeSelectionOfFilterQueryComplete(R){const U=this.getSelectedFilterQueryText();if(!U)return!1;const{selectState:x}=this.props,B=x.filterQuery;return!B||!R?!1:U.substr(0,R)===(B==null?void 0:B.substr(0,R))}isEntireFilterQuerySelected(){const{selectState:R}=this.props,U=this.getSelectedFilterQueryText();return!!U&&U===R.filterQuery}moveCursorAndScrollToFilterQuery(){this.scrollFilterQueryIntoView(),this.moveCursorToFilterQuery()}moveCursorToFilterQuery(){let{cursorAtStart:R}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{cursorAtStart:!1};var U,x,B,F;const V=document.createRange(),Y=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection();Y==null||Y.removeAllRanges();const w=(x=this.filterQueryRef)===null||x===void 0?void 0:x.current,G=(w==null?void 0:w.firstChild)||w,Ee=R?0:(F=w==null||(B=w.textContent)===null||B===void 0?void 0:B.trim())===null||F===void 0?void 0:F.length;G!==null&&typeof Ee=="number"&&V.setStart(G,Ee),V.collapse(!0),Y==null||Y.addRange(V)}possiblyRepositionOptionsList(R){if(!this.measurePopoverEvent)return;const{selectState:U}=this.props,x=U.isExpanded&&!R.isExpanded,B=this.getInputHeight(),F=this.inputHeight!==B;if(x||F){var V;(V=this.props.windowRef.deref())===null||V===void 0||V.dispatchEvent(this.measurePopoverEvent)}}removeToken(R,U){const{selectState:x,setSelectState:B,isTokenEditable:F}=this.props,{selectedOptions:V,pendingQueries:Y,filterQuery:w}=x,G=Y?Y.length:0,Ee=V&&V[R]&&V[R].queryId,se=Ee&&G?Y==null?void 0:Y.filter(ce=>{let{queryId:pe}=ce;return pe!==Ee}):Y;B(()=>({selectedOptions:V==null?void 0:V.filter((ce,pe)=>pe!==R),selectedTokenIndexes:[],removalInitiator:U,removedItemIndex:R,pendingQueries:se})),F&&this.state.isCurrentlyEditingToken&&this.updateFilterQueryValue(w)}saveCaretPosInFilterQuery(){var R;const U=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection();this.caretPosInFilterQuery=U==null?void 0:U.anchorOffset}scrollFilterQueryIntoView(){const R=this.filterQueryRef.current;R&&R!=null&&R.scrollIntoView&&(R==null||R.scrollIntoView({block:"nearest"}))}scrollSelectedTokenIntoView(){const R=this.getSelectedTokenIndexes();if(!this.haveSelectedTokens())return;const U=this.getTokensAsArray();if(!(R!=null&&R.length))return;const x=R[R.length-1],B=U[x];B&&B.scrollIntoView&&B.scrollIntoView({block:"nearest"})}selectAllTokens(){var R;if(this.state.ignoreSelectAllTokensAfterMount){this.setState(()=>({ignoreSelectAllTokensAfterMount:!1}));return}const U=this.getTokensAsArray();if(U.length===0)return;const x=U[0],B=U[U.length-1],F=(R=this.props.windowRef.deref())===null||R===void 0?void 0:R.getSelection(),V=document.createRange();F==null||F.removeAllRanges(),V.setStartBefore(x),V.setEndAfter(B),F==null||F.addRange(V)}selectTextInNode(R){var U;if(!R)return;const x=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection(),B=document.createRange();this.ignoreSelectionChange=!0,x==null||x.removeAllRanges();const F=(0,I.cX)()?R:R.querySelector(".c-token__content");B.selectNode(F),this.ignoreSelectionChange=!0,x==null||x.addRange(B)}updateCaretPosInFilterQuery(){var R,U;const x=(R=this.filterQueryRef)===null||R===void 0?void 0:R.current;if(!x)return;const B=document.createRange(),F=(U=this.props.windowRef.deref())===null||U===void 0?void 0:U.getSelection();F==null||F.removeAllRanges();const V=this.determineCaretPosInFilterQuery();typeof V=="number"&&B.setStart((x==null?void 0:x.firstChild)||x,V),B.collapse(!0),F==null||F.addRange(B)}renderFilterQuery(){const{selectState:R,isTokenEditable:U,size:x}=this.props,{filterQuery:B,isDisabled:F}=R,{isCurrentlyEditingToken:V,editTokenIndex:Y}=this.state,w=F?void 0:this.onFilterQueryMouseDown,G=n()({"c-multi_select_input__filter_query":!0,[`c-multi_select_input__${x}_filter_query--edit`]:U&&V});return t.createElement("span",{className:G,ref:this.filterQueryRef,onMouseDown:w,key:Y},B)}renderInput(){const{selectState:R,selectDataQa:U,inputRef:x,ariaLabelledBy:B,ariaLabel:F,autoClogProps:V,iconType:Y,isTokenEditable:w}=this.props,{selectId:G,isDisabled:Ee,isExpanded:ne,isInvalid:se}=R,ce=Ee?void 0:0,pe=Ee?void 0:this.getAriaActiveDescendant(),ye=!Ee,Ie=ye,Se=Ee?void 0:this.onFocus,le=Ee?void 0:this.onBlur,X=Ee?void 0:this.onChange,J=Ee?void 0:this.onPaste,z=Ee?void 0:this.onKeyDown,te=Ee?void 0:this.onKeyUp,$=Ee?void 0:this.onSelectionChange,q=Ee?void 0:this.onCut,re=Ee?void 0:this.onCompositionStart,de=Ee?void 0:this.onCompositionEnd,oe=n()({"c-multi_select_input__input":!0,"c-multi_select_input__input--with-icon":!!Y}),De=t.createElement("div",{role:"combobox","aria-disabled":Ee,"aria-autocomplete":"list","aria-expanded":ne,"aria-controls":this.getOptionsListboxHtmlId(),"aria-activedescendant":pe,"aria-labelledby":B,"aria-label":F,"aria-placeholder":this.getAriaPlaceholderText(),"aria-invalid":se,id:G,className:oe,tabIndex:ce,contentEditable:ye,suppressContentEditableWarning:Ie,"data-qa":U?`${U}-input`:void 0,ref:x,onFocus:Se,onBlur:le,onInput:X,onCompositionStart:re,onCompositionEnd:de,onPaste:J,onKeyDown:z,onKeyUp:te,onSelect:$,onCut:q,"aria-multiline":!1},b(),w&&this.state.isCurrentlyEditingToken?this.renderEditableTokens():t.createElement(t.Fragment,null,this.renderTokens(),this.renderFilterQuery()),b({contentEditable:!1}));return V?t.createElement(l.A,{autoClogProps:V,actionProps:M,elementType:y.ElementType.INPUT},De):De}renderLoadingIndicator(){const{isLoading:R,size:U}=this.props;return R?t.createElement(c.A,{className:"c-multi_select_input__spinner",color:"blue",size:U===v.hu.LARGE?v.hu.LARGE:v.hu.MEDIUM}):null}renderPlaceholder(){const{selectState:R,placeholderText:U,iconType:x}=this.props,{filterQuery:B,selectedOptions:F,isDisabled:V}=R;if(this.state.composing||B||F&&F.length>0)return null;const Y=V?void 0:this.onPlaceholderMouseDown,w=n()({"c-multi_select_input__placeholder":!0,"c-multi_select_input__placeholder--with-icon":!!x});return t.createElement("div",{"aria-hidden":"true",className:w,onMouseDown:Y},U)}renderToken(R,U){let{icon:x,svgIcon:B,value:F,label:V,hoverText:Y,isLoading:w,isError:G,isMemberError:Ee,isTeamError:ne,isUnknown:se,emailTeam:ce}=R;const{forceRealName:pe,size:ye,selectState:Ie,customizeTokenProps:Se,disableIdParsing:le}=this.props,X=this.getSelectedTokenIndexes(),J=(X==null?void 0:X.indexOf(U))!==-1,{isDisabled:z,restrictedSelectedTokenIndexes:te,disabledSelectedTokenIndexes:$,invalidSelectedTokenIndexes:q}=Ie,re=!!te&&(te==null?void 0:te.indexOf(U))!==-1,de=!!$&&($==null?void 0:$.indexOf(U))!==-1,oe=!!q&&(q==null?void 0:q.indexOf(U))!==-1,De=z||de,ae=De?void 0:Ce=>this.onTokenMouseDown(Ce,U),Z=De?void 0:()=>this.renderTokenRemoveIcon(U),ie=ye;return t.createElement(t.Fragment,null,t.createElement(h.A,D({"data-qa":"multi_select_token_wrapper",className:"c-multi_select_input__token"},ae?{onMouseDown:ae}:{},{isDisabled:De,entityId:F,label:V,hoverText:Y,isLoading:w,isError:G,isMemberError:Ee,isTeamError:ne,isUnknown:se},ye?{size:ie}:{},{isSelected:J},Z?{renderIcon:Z}:{},{forceRealName:pe,icon:x,svgIcon:B,tabIndex:-1,contentEditable:!1},Se,{disableIdParsing:le},ce?{emailTeam:ce}:{},{isRestricted:re,isInvalid:oe})),"\xA0")}renderTokenRemoveIcon(R){return t.createElement(l.A,{actionProps:P,elementType:y.ElementType.BUTTON},t.createElement(d.A,{type:"times-medium",className:"c-multi_select_input__remove_token",id:"multi_select_input__remove_token","data-qa":"token_remove_icon","aria-hidden":"true",onMouseDown:(0,i.A)(U=>{this.onTokenRemoveMouseDown(U,R)})}))}renderTokens(){const{selectedOptions:R}=this.props.selectState;return R==null?void 0:R.map((U,x)=>t.createElement(t.Fragment,{key:U.key||U.value},this.renderToken(U,x)))}renderEditableTokens(){const{isCurrentlyEditingToken:R,editTokenIndex:U}=this.state,x=this.renderTokens()||[],B=this.renderFilterQuery();return R?x.splice(U,0,B):x==null||x.push(B),x}renderIcon(){const{iconType:R}=this.props;return R?t.createElement(d.A,{type:R,inline:!0}):null}render(){const{maxHeight:R,width:U,selectState:x,classPrefix:B,size:F}=this.props,{isDisabled:V,isInvalid:Y,selectedOptions:w,isExpanded:G}=x,Ee=w==null?void 0:w.length,ne=n()("c-multi_select_input",{"c-multi_select_input--disabled":V,"c-multi_select_input--focused":this.state.focused&&!V,"c-multi_select_input--large":F===v.hu.LARGE,"c-multi_select_input--invalid":Y,"c-multi_select_input--initial":!Ee,[`${B}__multi_select_input`]:B,[E.E.large]:F===v.hu.LARGE}),se=V?void 0:this.onInputContainerMouseDown;return t.createElement("div",{className:ne,style:{width:U,maxHeight:R},onMouseDown:se,key:this.state.selectContainerKey,"aria-owns":G?this.getOptionsListboxHtmlId():void 0},this.renderIcon(),this.renderInput(),this.renderLoadingIndicator(),this.renderPlaceholder())}constructor(R){super(R),(0,f.v)(this,["onFocus","onBlur","onChange","onPaste","onKeyDown","onKeyUp","onInputContainerMouseDown","onFilterQueryMouseDown","onPlaceholderMouseDown","onSelectionChange","onCut","onMutation","onNodeRemoved","onNodeAdded","onCompositionStart","onCompositionEnd"]);var U;this.state={composing:!1,focused:!1,selectContainerKey:Date.now(),isCurrentlyEditingToken:!1,editTokenIndex:0,ignoreSelectAllTokensAfterMount:(U=R.ignoreSelectAllTokensAfterMount)!==null&&U!==void 0?U:!1},this.caretPosInFilterQuery=-1,this.ignoreSelectionChange=!1,this.updateSelectionOnKeyUp=!1,R.measurePopoverEventName&&(this.measurePopoverEvent=new Event(R.measurePopoverEventName));var x;this.forceRenderSelectContainerThrottled=(0,o.A)(this.forceRenderSelectContainer,(x=R.forceRenderSelectContainerThrottleRate)!==null&&x!==void 0?x:O,L),this.filterQueryRef=t.createRef()}},"MultiSelectInput");k.defaultProps={inputRef:t.createRef(),maxHeight:96,placeholderText:void 0,onKeyDown:a.A,onKeyUp:a.A,size:v.hu.MEDIUM,width:300,isLoading:!1,classPrefix:void 0,selectDataQa:void 0,focusOnMount:!1,measurePopoverEventName:null,onSelectedItemsChange:a.A,onFilterQueryChange:a.A,onFilterQueryPaste:a.A,ariaLabelledBy:void 0,ariaLabel:void 0,expandOnFocus:!1,onTokenSelect:a.A,onInputFocused:a.A,forceRealName:void 0,onOptionsListClose:a.A,processOptions:N=>_.S.resolve(N),isTokenEditable:!1,hideFilterQueryOnBlur:!0,autoClogProps:void 0,customizeTokenProps:{},iconType:void 0,disableIdParsing:!1,hasKeyboardFocus:!1,onFocus:a.A,onBlur:a.A,onOptionsListClosedBlur:a.A,ignoreSelectAllTokensAfterMount:!1,throttleForceRenderSelectContainer:!1,forceRenderSelectContainerThrottleRate:O},k.displayName="MultiSelectInput";const K=(0,p.A)((0,g.A)(k))},8274994582:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(6308822),n=e(4413566926);const r=new n.Ay("form_inputs"),i=m(o=>{let{count:a,clientTheme:_,spinnerSize:l="large"}=o;return t.createElement("div",{className:"c-multi_select_helper_text c-multi_select_helper_text--loading"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container"},t.createElement(s.A,{color:_==="dark"?"white":"blue",size:l,inline:!0})),r.t("Loading {count, plural, =1 {# entry} other {# entries}}",{count:a}))},"MultiSelectLoadingText")},320706952:(W,T,e)=>{"use strict";e.d(T,{A:()=>a});var t=e(3134334389),s=e(441565466),n=e(3708320478),r=e(8683010724),u=e(4413566926);const i=new u.Ay("form_inputs"),o=m(_=>{let{count:l}=_;const p=(0,s.A)();return t.createElement("div",{className:"c-multi_select_helper_text"},t.createElement("span",{className:"c-multi_select_helper_text__icon_container c-multi_select_helper_text__icon_container--unknown"},t.createElement(r.A,{name:"emoji-missing",variation:"filled",inline:!0})),t.createElement(n.z,{uuid:`${p}-${l}`,deferBy:100},i.t("{count, plural, =1 {# entry has} other {# entries have}} multiple matches. Select entry to resolve.",{count:l})))},"MultiSelectUnknownText");o.displayName="MultiSelectUnknownText";const a=o},581574686:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>M});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(6696292586),u=e(7715417323),i=e(2843556239),o=e(6308822),a=e(3391133100),_=e(2219904496),l=e(5166368300),p=e(7193040700),g=e(8683010724),c=e(4426213732),E=e(4413566926),A=e(429204216);function d(){return d=Object.assign||function(P){for(var S=1;S<arguments.length;S++){var b=arguments[S];for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&(P[O]=b[O])}return P},d.apply(this,arguments)}m(d,"_extends");const v=new E.Ay("select"),h=1e4,f={ArrowLeft:!0,ArrowRight:!0},y={ArrowUp:!0,ArrowDown:!0},I={Backspace:!0,Delete:!0};let C=m(class extends t.Component{componentDidMount(){const{inputRef:S,focusOnMount:b,expandOnFocus:O}=this.props,L=S&&S.current;b&&(!this.state.hasFocus&&L&&L.focus(),O&&this.showOptionsList())}componentDidUpdate(S,b){const{inputRef:O,selectState:L,focusOnMount:k}=this.props,{selectedOption:K}=L,{selectState:N}=S,{selectedOption:R}=N,U=O&&O.current,{hasFocus:x,focusedViaMouse:B}=this.state;K&&x&&!B&&(K!==R||!b.hasFocus)&&setTimeout(()=>{U==null||U.select()},50),k&&S.focusOnMount!==k&&(this.state.hasFocus||U==null||U.focus())}componentWillUnmount(){this.blurTimeout&&clearTimeout(this.blurTimeout)}onClick(S){const{inputRef:b,selectState:O,onClick:L,expandOnClick:k,searchOnClick:K}=this.props,{isDisabled:N,isExpanded:R,selectedOption:U}=O;if(N)return;const x=b&&b.current;this.state.hasFocus||(this.setState(()=>({focusedViaMouse:!0})),x==null||x.focus()),(k||U)&&!R&&this.showOptionsList({searchOnClick:K}),L&&L(S)}onBlur(S){const{onBlur:b}=this.props;this.setState(()=>({hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1}),()=>{b&&b(S)})}onFocus(S){const{onFocus:b}=this.props;this.setState(()=>({hasFocus:!0}),()=>{b&&b(S)})}onInputChanged(S){const{selectState:b,setSelectState:O,expandOnClick:L,retainPreviousSelectionOnDelete:k}=this.props,{isExpanded:K,selectedOption:N}=b;if(this.backspaceOrDeletePressed&&S.length===0&&N){O(()=>({filterQuery:S,displayQuery:S,...k?{}:{selectedOption:null}}));return}K?!L&&!S&&O(()=>({isExpanded:!1})):this.showOptionsList(),O(()=>({filterQuery:S,displayQuery:S}))}onKeyPressedEnter(S){this.props.selectState.isExpanded?S.preventDefault():(this.showOptionsList(),S.stopPropagation())}onKeyPressedEscape(S){const{selectState:b,setSelectState:O,resultsInPopover:L,onEsc:k,onOptionsListClose:K}=this.props;b.isExpanded&&L&&(S.stopPropagation(),S==null||S.nativeEvent.stopImmediatePropagation(),k&&k(),K&&K(),O(()=>({isExpanded:!1})))}onKeyPressedTab(){const{setSelectState:S,onOptionsListClose:b,selectState:O}=this.props;b&&b();const{activeRowIndex:L,initialActiveOption:k}=O;typeof L!="number"&&!k&&S(()=>({isExpanded:!1}))}onUpOrDownPressed(S){S.preventDefault(),this.props.selectState.isExpanded||(this.showOptionsList(),S.stopPropagation())}onWrapperKeyDown(S){const{key:b}=S;if(y[b]){this.onUpOrDownPressed(S);return}if(b==="Enter"){this.onKeyPressedEnter(S);return}if(b==="Escape"){this.onKeyPressedEscape(S);return}b==="Tab"&&this.onKeyPressedTab()}onInputKeyDown(S){const{key:b}=S,O=I[b],L=f[b],k=O||L||(0,A.A)(S);this.setState(()=>({cursorVisible:k})),this.backspaceOrDeletePressed=O}maybeRenderIconOrLoading(){const{showDropdownIcon:S,isLoading:b,size:O,expandOnClick:L}=this.props;return b?t.createElement(o.A,{className:"c-select_input__spinner",color:"blue",size:O===p.hu.LARGE?"large":"medium"}):!S||!L?null:t.createElement("span",{className:"c-select_input__icon"},t.createElement(g.A,{name:"caret-down",size:"20"}))}showOptionsList(){let S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{searchOnClick:b}=S;this.updateOptionsListPosition(),this.props.setSelectState(()=>({isExpanded:!0,searchOnClick:b}))}updateOptionsListPosition(){const{selectState:S}=this.props,{isExpanded:b}=S;if(!b&&this.measurePopoverEvent){var O;(O=this.context.windowRef.deref())===null||O===void 0||O.dispatchEvent(this.measurePopoverEvent)}}renderInputContent(){const{selectState:S,renderSelectedOption:b,classPrefix:O,selectDataQa:L,hideSelectedOptionOnDropdownOpen:k}=this.props,{isExpanded:K,selectedOption:N}=S;if(this.state.cursorVisible||!N||K&&(k||S.filterQuery))return null;const R=n()("c-select_input__content",{[`${O}__select_input_content`]:O});return t.createElement("div",{className:R,"data-qa":L?`${L}-input-content`:null},t.createElement("span",{className:"c-select_input__content_text"},b&&b(N)))}getOptionsListboxHtmlId(){var S;return(0,a.Es)((S=this.props.selectState.selectId)!==null&&S!==void 0?S:"","listbox")}renderTextInput(){const{selectDataQa:S,inputRef:b,classPrefix:O,ariaLabelledBy:L,ariaDescribedBy:k,icon:K,maxCharacterLimit:N,size:R,selectState:U,autoClogProps:x,hideSelectedOptionOnDropdownOpen:B}=this.props,{activeRowIndex:F,filterQuery:V,isDisabled:Y,isExpanded:w,isInvalid:G,isRequired:Ee,selectedOption:ne,selectId:se=""}=U;let ce;V||!w&&ne||ne&&w&&!B?ce=null:ce=this.props.placeholderText||v.t("Please select an option");const pe=w&&(0,r.A)(F)?(0,a.Es)(se,`option_${F}`):null,ye=!this.state.cursorVisible&&ne&&!w,Ie=n()("c-select_input",{"c-select_input--offscreen":ye,"c-select_input--invalid":G,[`${O}__select_input`]:O}),Se=(0,a.Yk)([k,(0,a.Es)(se,"initial-focus")]),X=!this.state.focusedViaMouse&&this.state.hasFocus&&!this.state.cursorVisible&&B?V||ne&&ne.label:V,J={spellCheck:!1,className:Ie,id:se,name:se,"aria-activedescendant":pe,"aria-autocomplete":"list","aria-expanded":w,"aria-controls":this.getOptionsListboxHtmlId(),"aria-required":Ee,"aria-label":this.props["aria-label"],"aria-labelledby":L,"aria-describedby":Se,isInvalid:G,autoComplete:"off",isDisabled:Y,onChange:this.onInputChanged,placeholder:ce,value:X||"","data-qa":S?`${S}-input`:null,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onInputKeyDown,role:"combobox",autoClogProps:x};return K||N?t.createElement(_.A,d({},J,{icon:K,size:R,maxCharacterLimit:N,showError:!1,type:"text",inputRef:b,isInvalid:G})):t.createElement(l.A,d({},J,{ref:b}))}render(){const{icon:S,size:b,selectDataQa:O,width:L,classPrefix:k,showDropdownIcon:K,selectState:N}=this.props,{isInvalid:R,isExpanded:U}=N,x=n()("c-select_input__wrapper",{[`c-select_input--${b}`]:b,"c-select_input--with_icon_right":K,"c-select_input--with_icon_left":!!S,"c-select_input--invalid":R,[`${k}__select_input_wrapper`]:k}),B=n()("c-select_input__input_container",{[`${k}__select_input_container`]:k});return t.createElement("div",{role:"presentation",className:x,style:{width:L},onClick:this.onClick,onKeyDown:this.onWrapperKeyDown,"data-qa":O?`${O}-wrapper`:null},t.createElement("div",{className:B,"aria-owns":U?this.getOptionsListboxHtmlId():void 0},this.renderTextInput(),this.renderInputContent()),t.createElement("div",{className:"c-select_input__icon_container"},this.maybeRenderIconOrLoading()))}constructor(S){super(S),(0,c.v)(this,["onClick","onFocus","onBlur","onUpOrDownPressed","onKeyPressedEnter","onKeyPressedEscape","onKeyPressedTab","onWrapperKeyDown","onInputKeyDown","onInputChanged","showOptionsList","updateOptionsListPosition"]),this.selectInputRef=t.createRef(),this.backspaceOrDeletePressed=!1,this.measurePopoverEvent=void 0,this.blurTimeout=void 0,this.state={hasFocus:!1,focusedViaMouse:!1,cursorVisible:!1},S.measurePopoverEventName&&(this.measurePopoverEvent=new Event(S.measurePopoverEventName))}},"SelectInput");C.defaultProps={autoClogProps:void 0,inputRef:null,onClick:u.A,placeholderText:void 0,width:360,selectDataQa:void 0,showDropdownIcon:!0,icon:void 0,maxCharacterLimit:void 0,focusOnMount:!1,isLoading:!1,classPrefix:void 0,onFocus:u.A,onBlur:u.A,onEsc:u.A,resultsInPopover:!0,ariaLabelledBy:void 0,ariaDescribedBy:void 0,onOptionsListClose:u.A,expandOnClick:!0,searchOnClick:!1,expandOnFocus:!0,hideSelectedOptionOnDropdownOpen:!0},C.contextType=i._0,C.displayName="SelectInput";const D={SelectInput:C},M=C},9359656550:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>te,oj:()=>J});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(45851552),u=e(6696292586),i=e(2003990933),o=e(5404505308),a=e(7715417323),_=e(3478664464),l=e(166097325),p=e(1699044291),g=e(3398586081),c=e(9268023148),E=e(105789326),A=e(4426213732),d;(function($){$[$.ELEMENT=1]="ELEMENT",$[$.ATTRIBUTE=2]="ATTRIBUTE",$[$.TEXT=3]="TEXT",$[$.CDATA_SECTION=4]="CDATA_SECTION",$[$.ENTITY_REFERENCE=5]="ENTITY_REFERENCE",$[$.ENTITY=6]="ENTITY",$[$.PROCESSING_INSTRUCTION=7]="PROCESSING_INSTRUCTION",$[$.COMMENT=8]="COMMENT",$[$.DOCUMENT=9]="DOCUMENT",$[$.DOCUMENT_TYPE=10]="DOCUMENT_TYPE",$[$.DOCUMENT_FRAGMENT=11]="DOCUMENT_FRAGMENT",$[$.NOTATION=12]="NOTATION"})(d||(d={}));const v=new Set(["INPUT","TEXTAREA","SELECT"]),h=new Set([...v,"BUTTON"]),f="http://www.w3.org/1999/xhtml",y="http://www.w3.org/2000/svg";function I($){return($==null?void 0:$.nodeType)===d.TEXT}m(I,"isTextNode");function C($){return($==null?void 0:$.nodeType)===d.ELEMENT}m(C,"isElement");function D($){return C($)&&$.namespaceURI===f}m(D,"isHtmlElement");function M($){return C($)&&$.namespaceURI===y}m(M,"isSvgElement");function P($){return D($)||M($)}m(P,"isHtmlOrSvgElement");function S($){return D($)||M($)}m(S,"isElementCssInlineStyle");function b($){return L($,"a")}m(b,"isAnchorElement");function O($){return D($)&&h.has($.tagName)}m(O,"isInteractiveElement");function L($,q){return D($)&&$.localName===q}m(L,"isHtmlElementWithTagName");function k($){return I($)?$:null}m(k,"asTextNode");function K($){return C($)?$:null}m(K,"asElement");function N($){return D($)?$:null}m(N,"asHtmlElement");function R($,q){const re=$;return re.hasAttribute&&re.hasAttribute(q)}m(R,"hasAttribute");function U($,q){return R($,`data-${q}`)}m(U,"hasData");var x=e(8359728598),B=e(1887307248),F=e(4757466470),V=e(6882609392),Y=e(3652828077),w=e(2843556239),G=e(6308822),Ee=e(3391133100),ne=e(7193040700),se=e(1398359918),ce=e(8786006583),pe=e(8226269261);function ye($){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return(0,se.A)($,(de,oe)=>{if(de.type==="divider")return{type:"divider"};if(de.options){const{options:De,label:ae,...Z}=de,ie=`${de.label.toLowerCase()}${ne.Sx}${(0,pe.A)()}`,Ce=[{type:"heading",label:de.label,group:ie,optionsCount:de.options&&de.options.length||0,extras:Z}].concat(de.options.map((Re,He)=>{const be={type:"option",option:Re,optgroup:ie};return He===0&&(be.isFirstChild=!0),He===de.options.length-1&&(be.isLastChild=!0),be}));if(q){if($[oe-1]&&$[oe-1].value&&!$[oe-1].options&&Ce.unshift({type:"divider"}),(0,ce.A)($)===de)return Ce;Ce.push({type:"divider"})}return Ce}return{type:"option",option:de}})}m(ye,"formatOptions");var Ie=e(4413566926);function Se(){return Se=Object.assign||function($){for(var q=1;q<arguments.length;q++){var re=arguments[q];for(var de in re)Object.prototype.hasOwnProperty.call(re,de)&&($[de]=re[de])}return $},Se.apply(this,arguments)}m(Se,"_extends");const le=new Ie.Ay("select"),X=m($=>{var q;return $.type!=="heading"&&$.type!=="divider"&&!(!($==null||(q=$.option)===null||q===void 0)&&q.nonInteractive)},"isKeyboardNavigableOption"),J=m($=>{var q;return!$.isDisabled&&!(!($==null||(q=$.option)===null||q===void 0)&&q.nonInteractive)},"isSelectableOption");let z=m(class extends B.B{componentDidMount(){this.initKeyCommands();const{focusOnMount:q=!1,selectState:re,setSelectState:de,shouldIncludeActiveOption:oe=!1}=this.props,{selectType:De}=re;De===ne.US.BASIC&&q&&this.onOpen();const ae=this.getInitalActiveRowIndex(),Z=this.list.current;de(()=>({activeRowIndex:ae,...oe?{activeOption:this.getOptionFromList(ae)}:null})),ae!==-1&&Z&&Z.scrollToRow(ae),this.removeAriaAttrsFromGridNode()}componentWillUnmount(){const{focusOnMount:q=!1,preventScroll:re=!1}=this.props,{selectType:de}=this.props.selectState;this.keyCommands&&this.keyCommands.reset(),q&&de===ne.US.BASIC&&this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:re})}componentDidUpdate(q){var re;const{selectState:de,setSelectState:oe,shouldIncludeActiveOption:De=!1,dynamicHeight:ae=!1,optionsShallowEqualComparisonDepth:Z=4,shouldRerenderOnOptionChange:ie=!1}=this.props,{filterQuery:Ce,options:Re,initialActiveOption:He}=de,be=!(0,F.Ay)(q.selectState.options,Re,Z),Ue=Ce!==q.selectState.filterQuery;if(be||Ue){const Fe=typeof He<"u"?this.getActiveRowIndex():this.getFirstSelectableRowIndex();oe(()=>({activeRowIndex:Fe,...De?{activeOption:this.getOptionFromList(Fe)}:null}));const Ke=Fe||Fe===0;this.list.current&&Ke&&(this.list.current.forceUpdateGrid(),this.list.current.scrollToRow(Fe))}if(be&&!Ue&&ie){var me;(me=this.list.current)===null||me===void 0||me.recomputeRowHeights()}if(ae&&(de==null?void 0:de.options)!==((re=q.selectState)===null||re===void 0?void 0:re.options)){var ve;(ve=this.cellMeasurerCache)===null||ve===void 0||ve.clearAll(),this.list.current&&this.list.current.recomputeRowHeights()}this.removeAriaAttrsFromGridNode()}getInitalActiveRowIndex(){const{selectState:q,multiSelectMode:re=!1}=this.props,{selectedOption:de,initialActiveOption:oe}=q;return re||!de?this.getFirstSelectableRowIndex():oe?this.getActiveRowIndex():(0,r.A)(this.getOptionsList(),De=>{var ae;return X(De)&&(De==null||(ae=De.option)===null||ae===void 0?void 0:ae.value)===de.value})}getActiveRowIndex(){const{selectState:q}=this.props,{initialActiveOption:re}=q;if(!re)return;const de=(0,r.A)(this.getOptionsList(),oe=>{var De;return X(oe)&&(oe==null||(De=oe.option)===null||De===void 0?void 0:De.value)===re.value});if(de>=0)return de}getCurrentActiveElement(){var q,re;return(re=(q=this.context.windowRef.deref())===null||q===void 0?void 0:q.document.activeElement)!==null&&re!==void 0?re:null}getFirstSelectableRowIndex(){const{selectState:q,multiSelectMode:re=!1,customOptionCompare:de,shouldAlwaysHaveActiveRow:oe=!1}=this.props,{filterQuery:De}=q,ae=this.getOptionsList();let Z;if((De||oe)&&ae.length){const ie=(0,r.A)(ae,Ce=>X(Ce)&&!this.isOptionSelected(q,Ce.option,re,de),0);ie!==-1&&(Z=ie)}return Z}getRowHeight(q){var re;const{optionsRowHeight:de=ne.bJ,headingRowHeight:oe=null,dividerRowHeight:De=ne.r3}=this.props;return q.option&&(0,u.A)(q.option.height)?Number(q.option.height):q.type&&q.type==="divider"?De:q.type==="heading"&&(0,u.A)((re=q.extras)===null||re===void 0?void 0:re.height)?Number(q.extras.height):q.type&&q.type==="heading"&&oe!==null?oe:de}getClassName(q,re){const{unstyled:de=!1}=this.props;return de&&re?n()(re):n()(re,q)}getOptionFromList(q){const re=this.getOptionsList();return(0,i.A)(re,`[${q}].option`,null)}getOptionsList(){const{multiSelectMode:q=!1,selectState:re,includeDividers:de=!0}=this.props,{options:oe,isRequired:De,selectedOption:ae,filterQuery:Z,minQueryLength:ie}=re;let Ce=[];return ie&&ie>0&&ae&&!Z&&(Ce=[ae]),oe&&(!q&&ae&&!De?Ce=[ne.az,...oe]:Ce=oe),Ce=[...this.formatOptions(Ce,de)],Ce}getDataQaTag(q,re){const{selectDataQa:de=void 0,selectState:oe}=this.props,{isRequired:De}=oe,ae=q.value?q.value:q.label;let Z="";typeof ae=="string"&&(Z=ae.replace(/[^\w\s]/g,"").replace(/\s/g,"_").toLowerCase());const ie=De?re:re-1;return q.value?`${de}_option_${ie}`:`${de}_option_header_${Z}`}getNextActiveRowIndex(q){const re=this.getOptionsList();if(re&&!re.length)return-1;const de=re.length-1;if(q===de)return-1;const oe=(0,u.A)(q)?q+1:0,De=(0,r.A)(re,X,oe);return De!==-1&&re[De]?De:-1}getPreviousActiveRowIndex(q){if(q===0)return-1;const re=this.getOptionsList();if(re&&!re.length)return-1;const de=re.length-1,oe=(0,u.A)(q)?q-1:de,De=(0,o.A)(re,X,oe);return De!==-1&&re[De]?De:-1}getArialabelForItem(q){var re,de,oe,De;const{isFirstChild:ae,isLastChild:Z,optgroup:ie}=q;if(!ie)return null;const Ce=le.t("First item in group {group}, {value}",{group:ie&&ie.split(ne.Sx).slice(0,-1).join("-"),value:typeof((re=q.option)===null||re===void 0?void 0:re.label)=="string"?(de=q.option)===null||de===void 0?void 0:de.label:""}),Re=le.t("Last item in group {group}, {value}",{group:ie&&ie.split(ne.Sx).slice(0,-1).join("-"),value:typeof((oe=q.option)===null||oe===void 0?void 0:oe.label)=="string"?(De=q.option)===null||De===void 0?void 0:De.label:""});return ae?Ce:Z?Re:null}getEmptyStateMessage(){const{emptyStateMessage:q,selectState:re}=this.props,{filterQuery:de,minQueryLength:oe}=re;if(q)return q(de);if(oe){if(!de)return le.t("Type to search\u2026");if(de.length<oe)return le.t("Keep typing\u2026")}return le.t("No items")}getContainerStyle(){return{position:"relative",overflow:"visible"}}getListStyle(q){return{padding:q?ne.Hy:void 0,boxSizing:"content-box"}}onArrowDown(q){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(q))return;const{isExpanded:re,activeRowIndex:de}=this.props.selectState;re&&q.preventDefault();const oe=this.getNextActiveRowIndex(de);(0,u.A)(oe)&&oe!==-1&&this.moveNext(oe)}onArrowUp(q){if(this.isMouseMoveEnabled=!1,!this.shouldInterceptKeyEvent(q))return;const{isExpanded:re,activeRowIndex:de}=this.props.selectState;re&&q.preventDefault();const oe=this.getPreviousActiveRowIndex(de);(0,u.A)(oe)&&oe!==-1&&this.movePrevious(oe)}onEsc(q){const{shouldIncludeActiveOption:re=!1}=this.props;if(!this.props.selectState.isExpanded||!this.shouldInterceptKeyEvent(q))return;q.preventDefault();const{onOptionsListClose:de=a.A}=this.props;de&&de(),this.props.setSelectState(()=>({isExpanded:!1,activeRowIndex:void 0,...re?{activeOption:null}:null,filterQuery:"",displayQuery:""}))}onEnter(q){if(this.props.shouldDisableKeyPressedEnter||!this.shouldInterceptKeyEvent(q))return;q.preventDefault();const{activeRowIndex:re,initialActiveOption:de}=this.props.selectState,oe=this.getOptionsList();let De;typeof re=="number"&&(De=oe[re]&&oe[re].option||oe[re]),De=De||de,!(De&&!J(De))&&(this.onOptionSelected(De),this.onClose(q))}onTab(q){const{selectState:re,disableSelectOnTab:de=!1}=this.props;if(de||!this.shouldInterceptKeyEvent(q)||!re.isExpanded)return;const{onKeyPressedTab:oe=a.A}=this.props;if(oe&&oe!==a.A){oe(event);return}const{activeRowIndex:De,initialActiveOption:ae}=re,Z=this.getOptionsList();let ie;typeof De=="number"&&(ie=Z[De]&&Z[De].option||Z[De]),ie=ie||ae,ie&&q.preventDefault(),!(ie&&!J(ie))&&this.onOptionSelected(ie)}onShiftTab(q){if(!this.shouldInterceptKeyEvent(q))return;const{onKeyPressedShiftTab:re=a.A}=this.props;re&&re!==a.A&&re(q)}onMouseEnteredOption(q){const{shouldIncludeActiveOption:re=!1}=this.props;this.isMouseMoveEnabled&&(this.props.setSelectState(()=>({activeRowIndex:q,...re?{activeOption:this.getOptionFromList(q)}:null})),this.list.current&&this.list.current.forceUpdateGrid())}onMouseLeftOption(){const{shouldAlwaysHaveActiveRow:q=!1}=this.props;!this.isMouseMoveEnabled||q||this.clearActive()}onOptionClicked(q){this.onOptionSelected(q,!0)}onScroll(q){const{onScroll:re=a.A}=this.props;re&&re(q)}onOptionSelected(q){let re=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const{onOptionSelected:de=a.A,onOptionUnselected:oe=a.A,selectState:De,setSelectState:ae,multiSelectMode:Z=!1,inputRef:ie,customOptionCompare:Ce,shouldIncludeActiveOption:Re=!1,shouldOptionBeSelected:He,shouldAllowUnselectInMultiSelectMode:be=!1,shouldAllowUnselectInSingleSelectMode:Ue=!0,stayExpandedAfterSelection:me=!1}=this.props;if(De.shouldRefocusInputAfterSelection&&ie&&ie.current&&ie.current.focus(),q&&J(q)){if(He&&He(q)===!1){ae(()=>({activeRowIndex:void 0,filterQuery:"",isExpanded:!1}),()=>{de(q)});return}if(q.value===ne.yk)this.onClearSelectedOption();else if(Z){const{selectedOptions:ve,shouldRefocusInputAfterSelection:Fe}=De;if(!this.isOptionSelected(De,q,Z,Ce)&&ve)ae(()=>({selectedOptions:[...ve,q],activeRowIndex:void 0,...Re?{activeOption:null}:null,filterQuery:"",isExpanded:me}),()=>{de&&de(q)});else if(be){const j=(0,_.A)(ve,[q],(ee,je)=>ee.value===je.value);ae(()=>({selectedOptions:j,activeRowIndex:void 0,...Re?{activeOption:null}:null,filterQuery:"",isExpanded:me}),()=>{oe&&oe(q)})}!Fe&&!q.fromUnknown&&ie&&ie.current&&ie.current.focus()}else{const ve={isExpanded:!1,filterQuery:"",displayQuery:"",selectedOption:Ue?null:De.selectedOption};!(0,l.A)(De.selectedOption,q)&&(ve.selectedOption=q),ae(()=>({...ve}),()=>{de&&de(q,re)}),De.shouldRefocusInputAfterSelection&&ie&&ie.current&&ie.current.focus()}}}onOpen(){const{focusOnMount:q=!1,selectState:re}=this.props,{selectType:de}=re;!q&&de!==ne.US.BASIC||(this.previousFocus=this.getCurrentActiveElement(),this.listBody&&this.listBody.current&&this.listBody.current.focus())}onClose(q){q.key==="Escape"&&this.onEsc(q);const{focusOnMount:re=!1,preventScroll:de=!1}=this.props,{selectType:oe}=this.props.selectState;!re&&oe!==ne.US.BASIC||this.previousFocus&&this.getCurrentActiveElement()!==this.previousFocus&&this.previousFocus.focus({preventScroll:de})}onClearSelectedOption(){const{selectState:q,setSelectState:re,onOptionSelected:de=a.A,multiSelectMode:oe=!1,onMultiSelectClear:De=void 0}=this.props,{selectedOption:ae,selectedOptions:Z}=q;let ie=!1;ae?(re(()=>({selectedOption:null,isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{de&&de({value:null})}),ie=!0):oe&&Z&&Z.length&&(re(()=>({selectedOptions:[],isExpanded:!1,filterQuery:"",displayQuery:""}),()=>{De&&De()}),ie=!0),this.list.current&&ie&&this.list.current.forceUpdateGrid()}clearDynamicRowHeight(q){var re;(re=this.cellMeasurerCache)===null||re===void 0||re.clear(q,0),this.list.current&&this.list.current.recomputeRowHeights(q)}clearActive(){const{shouldIncludeActiveOption:q=!1}=this.props;this.props.setSelectState(()=>({activeRowIndex:void 0,...q?{activeOption:null}:null})),this.list.current&&this.list.current.forceUpdateGrid()}enableMouseMove(){this.isMouseMoveEnabled=!0}focusNode(q){q&&this.getCurrentActiveElement()!==q&&q.focus()}isFirstItemUnselectable(){const q=this.getOptionsList();return!X(q[0])}initKeyCommands(){var q;if(this.keyCommands)return;const{shouldTokenizeOnComma:re,shouldTokenizeOnSpace:de,keyCommandShortcuts:oe}=this.props,De=["enter"];re&&De.push("comma"),de&&De.push("space");const ae=[{keys:["down"],handler:this.onArrowDown},{keys:De,handler:this.onEnter,filter:ie=>ie.code.toLowerCase()==="comma"&&ie.key!==","},{keys:["up"],handler:this.onArrowUp},{keys:["tab"],handler:this.onTab},{keys:["shift+tab"],handler:this.onShiftTab}],Z=oe?ae.concat(oe):ae;this.keyCommands=new V.A((q=this.context.windowRef.deref())===null||q===void 0?void 0:q.document),this.keyCommands.bindAll(Z)}isOptionSelected(q,re,de,oe){let{selectedOptions:De,selectedOption:ae}=q;return de&&(!De||De&&!De.length)||!de&&!ae?!1:de?!oe&&re?De&&De.some(Z=>Z.value===re.value):De&&De.some(Z=>oe({selectedOption:Z,listOption:re})):ae&&re&&ae.value===re.value}isOptionActive(q,re,de){let{activeRowIndex:oe}=q;if(!oe&&oe!==0)return!1;const ae=re[oe];return(ae&&ae.option?ae.option:ae)===de}moveNext(q){const{setSelectState:re,shouldIncludeActiveOption:de=!1}=this.props,oe=this.getOptionFromList(q);if(!oe)return;const De=this.list.current;if(!De)return;re(()=>({activeRowIndex:q,...de?{activeOption:oe}:null,displayQuery:oe==null?void 0:oe.value})),this.debouncedEnableMouseMove(),De.forceUpdateGrid();const ae=q===1&&this.isFirstItemUnselectable()?0:q;De.scrollToRow(ae)}movePrevious(q){const{setSelectState:re,shouldIncludeActiveOption:de=!1}=this.props,oe=this.getOptionFromList(q);if(!oe)return;const De=this.list.current;if(!De)return;const ae=this.getOptionsList();if(!ae)return;if(re(()=>({activeRowIndex:q,...de?{activeOption:oe}:null,displayQuery:oe==null?void 0:oe.value})),this.debouncedEnableMouseMove(),De.forceUpdateGrid(),(oe==null?void 0:oe.height)!==0){De.scrollToRow(q);return}const Z=(0,p.A)(ae.slice(0,q)).findIndex(ie=>{var Ce;return(ie==null||(Ce=ie.option)===null||Ce===void 0?void 0:Ce.height)!==0});De.scrollToRow(q-Z-1)}shouldInterceptKeyEvent(q){return!q.target||!C(q.target)?!1:!!(R(q.target,"aria-autocomplete")||R(q.target,"aria-haspopup")||this.listBody.current&&this.listBody.current.contains(q.target))}removeAriaAttrsFromGridNode(){const q=this.listBody.current,re=q&&q.querySelector(".ReactVirtualized__Grid");re&&(re.removeAttribute("aria-label"),re.removeAttribute("aria-readonly"))}renderEmptyState(){const{unstyled:q=!1,width:re,isLoading:de=!1,selectDataQa:oe=void 0,includeWrapper:De=!0}=this.props;if(de)return null;const ae=this.getEmptyStateMessage();if(ae===null)return null;const Z=q||!De?+re:+re-ne.$_;return t.createElement("div",{"data-qa":oe?`${oe}-empty-state`:null,className:this.getClassName("c-select_options_list__empty_state"),style:{width:Z}},t.createElement("div",{role:"alert",className:this.getClassName("c-select_options_list__option c-select_options_list__option--empty-state")},ae))}renderList(){const{maxListHeight:q,width:re,includePadding:de,unstyled:oe=!1,useSlackScrollbar:De,dynamicHeight:ae=!1,forceMaxHeight:Z,includeWrapper:ie=!0,classPrefix:Ce=void 0}=this.props,Re=this.getOptionsList(),He=q||ne.CK,be=Re.map(Ke=>this.getRowHeight(Ke)||0).reduce((Ke,j)=>Ke+j,0),Ue=Z||be>=He?He:be,me=oe||!ie?+re:+re-ne.$_,ve=n()("c-select_options_list__virtual_list",{"c-select_options_list__virtual_list--slack_scrollbar":De,[`${Ce}__virtual_list`]:!!Ce}),Fe=ae&&this.cellMeasurerCache?this.cellMeasurerCache.rowHeight:Ke=>{let{index:j}=Ke;return this.getRowHeight(Re[j])};return this.cellMeasurerCache?t.createElement(Y.O,{className:ve,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(de),height:Ue,deferredMeasurementCache:this.cellMeasurerCache,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:Re?Re.length:0,rowHeight:Fe,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:me}):t.createElement(Y.O,{className:ve,containerRole:"presentation",containerStyle:this.getContainerStyle(),style:this.getListStyle(de),height:Ue,noRowsRenderer:this.renderEmptyState,onScroll:this.debouncedOnScroll,ref:this.list,rowCount:Re?Re.length:0,rowHeight:Fe,rowRenderer:this.renderRow,tabIndex:null,role:"presentation","no-bootstrap":1,width:me})}renderListBody(){const{enableLoadingState:q=!0,isLoading:re=!1}=this.props;if(re&&q)return this.renderLoadingState();const de=this.getOptionsList();return!de||de&&!de.length?this.renderEmptyState():this.renderList()}renderLoadingState(){const{width:q}=this.props,re=le.t("Loading results\u2026");return t.createElement("div",{className:this.getClassName("c-select_options_list__loading_state"),style:{width:q}},t.createElement(G.A,{size:"medium",inline:!0}),t.createElement("div",null,re))}renderRow(q){let{index:re,key:de,style:oe,parent:De}=q;var ae;const{classPrefix:Z=void 0,selectState:ie,multiSelectMode:Ce=!1,customOptionCompare:Re,unstyled:He=!1,dynamicHeight:be=!1,hideOptionsListCheckbox:Ue=!1}=this.props,{selectId:me}=ie,ve=this.getOptionsList();let Fe;ve[re].option?Fe=ve[re].option:Fe=ve[re];const{isPlaceholder:Ke}=Fe,{activeRowIndex:j}=ie,{selectedOption:ee,selectedOptions:je}=ie;let Te;typeof j=="number"&&(Te=this.isOptionActive({activeRowIndex:j},ve,Fe));const Je=this.isOptionSelected({selectedOptions:je,selectedOption:ee},Fe,Ce,Re),Ae=Fe.value===ne.yk,Me=ve[re].type==="heading",we=!!ve[re].optgroup,Ge=ve[re].type==="divider",Qe=!!Fe.isDisabled,fe=!!Fe.nonInteractive,Ve=Je&&!Me&&!Ge,Be=Me||fe||Ge,Ye=ve.filter(X),et=(0,r.A)(Ye,mt=>mt.option===Fe,0),at=Z?`${Z}__option`:"",gt=n()("c-select_options_list__option",at,(0,i.A)(Fe,"overrides.className",!1),{"c-select_options_list__option--active":Te&&(0,i.A)(Fe,"overrides.useHoverStyles",!0),"c-select_options_list__option--placeholder":Ke,"c-select_options_list__option--selected":Ve,"c-select_options_list__option--disabled":Qe,"c-select_options_list__group_header":Me,"c-select_options_list__group_option":we,"c-select_options_list__divider":Ge,"c-select_options_list__clear_option":Ae});let Mt=Ae?Fe.label:t.createElement("hr",{className:this.getClassName("c-select_options__divider")});!Ge&&!Ae&&(Mt=this.props.renderOption(Fe,{index:re,isActive:Te,isGroupHeader:Me,isClearOption:Ae,isSelected:Je&&!Me&&!Ge,clearDynamicRowHeight:this.clearDynamicRowHeight}));let Bt;if(He||!((ae=Fe.overrides)===null||ae===void 0)&&ae.unstyled)Bt=Mt;else{var Ct;Bt=t.createElement("span",{"data-qa":Fe.value,className:this.getClassName("c-select_options_list__option_label",{normal_wrap:(Ct=Fe.extras)===null||Ct===void 0?void 0:Ct.forceHeaderWrap})},Mt)}const Ft=Ye.length,kt=et===-1?void 0:et+1,Et=t.createElement("div",Se({"aria-hidden":Be?"true":null,"aria-selected":Je,"aria-label":Me?null:this.getArialabelForItem(ve[re]),className:this.getClassName(gt,at),"data-qa":Ge?void 0:this.getDataQaTag(Fe,re),id:(0,Ee.Es)(me,`option_${re}`),key:de},oe?{style:oe}:{},{onClick:Qe||fe?(0,g.A)(()=>this.onOptionSelected(Fe)):(0,g.A)(()=>{this.onOptionClicked(Fe)}),onMouseEnter:Qe||fe?a.A:(0,g.A)(()=>{this.onMouseEnteredOption(re)}),onMouseLeave:Qe||fe?a.A:this.onMouseLeftOption,role:"option",tabIndex:-1,"data-is-active":Te?"true":void 0,ref:Te?this.currentRow:null,optgroup:we?ve[re].optgroup:void 0,"aria-disabled":Qe||null,"aria-setsize":Ft,"aria-posinset":kt}),Ve&&!Ue&&t.createElement("span",{className:"c-select_options_list__selected","aria-hidden":"true"}),Bt);return!be||!this.cellMeasurerCache?Et:t.createElement(E.dl,{cache:this.cellMeasurerCache,columnIndex:0,rowIndex:re,key:de,parent:De},Et)}render(){const{className:q,ariaLabel:re,classPrefix:de=void 0,multiSelectMode:oe=!1,selectDataQa:De=void 0,selectState:ae,dropdownContainer:Z=void 0,footerBannerContent:ie}=this.props,{isExpanded:Ce,activeRowIndex:Re,selectId:He,selectType:be}=ae,Ue=n()("c-select_options_list",{[`${de}_options_list`]:de}),me=be===ne.US.BASIC&&Ce&&(0,u.A)(Re)?(0,Ee.Es)(He,`option_${Re}`):void 0,ve=t.createElement("div",{className:Ue,ref:this.listBody,"data-qa":De?`${De}-options-list`:null,id:(0,Ee.Es)(He,"listbox"),"aria-activedescendant":me,"aria-label":re??le.t("Options",{fallbackHash:"6bf5da9c080bee3a8142586c412aa39971137eee",fallbackHashNs:"team_profile"}),"aria-multiselectable":!!oe,role:"listbox",tabIndex:-1,onMouseMove:this.enableMouseMove},this.renderListBody()),{includeWrapper:Fe=!0}=this.props;if(!Fe)return ve;const Ke=n()("c-select_options_list__wrapper",{[`${q}`]:q,[`${de}_options_list_wrapper`]:de});return t.createElement("div",Se({className:this.getClassName(Ke),"data-qa":De?`${De}-options-list-wrapper`:"sk-select-options-list-wrapper"},Z?{ref:Z}:{}),ve,ie&&t.createElement("div",{className:"c-select_options_list__footer_banner"},ie))}constructor(q){super(q),this.isMouseMoveEnabled=!1,(0,A.v)(this,["getOptionsList","getOptionFromList","onClearSelectedOption","onArrowDown","onArrowUp","onEnter","onTab","onShiftTab","onMouseLeftOption","onScroll","renderRow","clearDynamicRowHeight","initKeyCommands"]),this.listBody=t.createRef(),this.list=t.createRef(),this.currentRow=t.createRef(),this.keyCommands=void 0,this.previousFocus=null,this.cellMeasurerCache=void 0,this.formatOptions=(0,x.A)(ye),this.enableMouseMove=this.enableMouseMove.bind(this),this.debouncedEnableMouseMove=(0,c.A)(this.enableMouseMove,200),this.debouncedOnScroll=(0,c.A)(this.onScroll.bind(this),200),ne.az.label=le.t("Clear selection");const{optionsRowHeight:re=ne.bJ,dynamicHeight:de=!1}=q;de&&(this.cellMeasurerCache=new E.jS({defaultHeight:re,fixedWidth:!0}))}},"SelectOptionsList");z.contextType=w._0,z.displayName="SelectOptionsList";const te=z},4640201401:(W,T,e)=>{"use strict";e.d(T,{A:()=>y});var t=e(3134334389),s=e(7715417323),n=e(9268023148),r=e(5617110048),u=e(2843556239),i=e(5249175977),o=e(9359656550),a=e(7193040700),_=e(4426213732),l=e(1224315998),p=e(2790183459);function g(){return g=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&(I[M]=D[M])}return I},g.apply(this,arguments)}m(g,"_extends");const c={onClose:{action:l.UiAction.CLOSE},onOpen:{action:l.UiAction.OPEN}},E=50,A=50,d=12,v=4,h=32;let f=m(class extends t.Component{componentDidMount(){this.maybeInstallListener(),this.measureOptionsListAndSetState()}componentDidUpdate(){this.maybeInstallListener()}componentWillUnmount(){this.maybeUninstallListener()}isMouseEvent(C){return(C==null?void 0:C.type)==="click"}didClickInput(C){const{inputRef:D}=this.props;if(!(D!=null&&D.current)||!this.isMouseEvent(C))return;const M=C.clientX,P=C.clientY,S=D.current.getBoundingClientRect();return M>S.left&&M<S.right&&P>S.top&&P<S.bottom}onClose(C){var D;const{selectState:M,inputRef:P,onOptionsListClose:S,setSelectState:b}=this.props;if(M.isExpanded){if(C instanceof KeyboardEvent){var O;(O=this.optionsListRef.current)===null||O===void 0||O.onClose(C)}P==null||(D=P.current)===null||D===void 0||D.focus(),S==null||S(this.didClickInput(C)),b(()=>({isExpanded:!1,activeRowIndex:void 0,filterQuery:"",displayQuery:""}))}}getOptionsListBounds(){const{inputRef:C,inputContainerRef:D=null}=this.props,M=D||C;return M&&M.current?M.current.getBoundingClientRect():null}getPopoverPosition(C){let{top:D,bottom:M}=C;var P;const S=D,b=(((P=this.context.windowRef.deref())===null||P===void 0?void 0:P.innerHeight)||0)-M,{selectState:O,maxListHeight:L=a.CK}=this.props,{options:k}=O;let K=0;const N=m(U=>U.map(x=>this.getRowHeight(x)).reduce((x,B)=>x+B,0),"calculateRowHeight");if(k){const U=[];k.forEach(x=>{if(x.options){U.push(x.label),x.options.forEach(B=>U.push(B));return}U.push(x)}),K=N(U)}const R=Math.min(K,L);return b<R&&b<S?"top-left":"bottom-left"}getRowHeight(C){const{optionsRowHeight:D=a.bJ}=this.props;return C.type&&C.type==="divider"?a.r3:D}maybeInstallListener(){var C,D;if(this.listenerInstalled)return;(C=this.context.windowRef.deref())===null||C===void 0||C.addEventListener("resize",this.onResize),(D=this.context.windowRef.deref())===null||D===void 0||D.addEventListener("scroll",this.onScroll);const{measurePopoverEventName:M=null}=this.props;if(M){var P;(P=this.context.windowRef.deref())===null||P===void 0||P.addEventListener(M,this.measureOptionsListAndSetState)}this.listenerInstalled=!0}maybeUninstallListener(){const{measurePopoverEventName:C=null}=this.props;if(this.listenerInstalled){var D,M;if(this.onResize.cancel(),this.onScroll.cancel(),(D=this.context.windowRef.deref())===null||D===void 0||D.removeEventListener("resize",this.onResize),(M=this.context.windowRef.deref())===null||M===void 0||M.removeEventListener("scroll",this.onScroll),C){var P;(P=this.context.windowRef.deref())===null||P===void 0||P.removeEventListener(C,this.measureOptionsListAndSetState)}this.listenerInstalled=!1}}measureOptionsListAndSetState(){this.listenerInstalled&&this.setState(()=>({optionsListBounds:this.getOptionsListBounds()}))}render(){var C,D;const{popoverProps:M={},selectState:P,minOptionsListWidth:S=null,onOpen:b=s.A,onScrollablePage:O=!1,autoClogProps:L=void 0,maxListHeight:k=a.CK,shouldAllowUnselectInSingleSelectMode:K,shouldAllowUnselectInMultiSelectMode:N,stayExpandedAfterSelection:R,selectOptionsListRef:U}=this.props,{selectId:x}=P,B=this.state.optionsListBounds||{width:0,bottom:0,left:0},F=this.getPopoverPosition({top:B.top,bottom:B.bottom}),V=F==="top-left",Y=((C=this.context.windowRef.deref())===null||C===void 0?void 0:C.innerWidth)||0;let w=B.width;S&&B.width<S&&(w=S);const G=B.left-d+w;let Ee=0;S&&G>Y&&(Ee=S-B.width);const se=(V?B.top:(((D=this.context.windowRef.deref())===null||D===void 0?void 0:D.innerHeight)||0)-B.bottom)-h,ce=Math.min(se,k),pe={...this.props,autoClogProps:L,width:w+d*2,maxListHeight:ce,shouldAllowUnselectInSingleSelectMode:K,shouldAllowUnselectInMultiSelectMode:N,stayExpandedAfterSelection:R},{pageYOffset:ye}=this.context.windowRef.deref()||{},Ie={top:B.top+ye+v,bottom:B.bottom+ye-v,left:B.left-(d+Ee),width:w};let Se;if(O){var le;Se={height:(le=this.context.windowRef.deref())===null||le===void 0?void 0:le.document.body.scrollHeight}}return t.createElement(r.A,g({elementType:l.ElementType.DROPDOWN,actionProps:c},L?{autoClogProps:L}:{}),t.createElement(i.AM,g({position:F,allowanceX:-d,ref:this.popover},M,{onClose:this.onClose,isOpen:!!P.isExpanded,key:`${x}-popover`,shouldFocusAfterRender:!1,targetBounds:Ie,ariaHideApp:!1,onOpen:b},typeof Se<"u"?{overlayStyle:Se}:{},{shouldPropagateOnClose:!0}),t.createElement(o.Ay,g({},pe,{ref:(0,p.A)(this.optionsListRef,U)}))))}constructor(C){super(C),this.popover=t.createRef(),this.optionsListRef=t.createRef(),this.state={optionsListBounds:null},(0,_.v)(this,["measureOptionsListAndSetState","onClose"]),this.onResize=(0,n.A)(this.measureOptionsListAndSetState,E,{maxWait:E}),this.onScroll=(0,n.A)(this.measureOptionsListAndSetState,A,{maxWait:A}),this.listenerInstalled=null}},"SelectPopoverOptionsList");f.contextType=u._0,f.defaultProps={includePadding:!0,window},f.displayName="SelectPopoverOptionsList";const y=f},5185985254:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3134334389),s=e(166097325);function n(){return n=Object.assign||function(u){for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(u[a]=o[a])}return u},n.apply(this,arguments)}m(n,"_extends");function r(u){let i=m(class extends t.Component{setSelectState(a,_){const l=a();l.selectedOptions&&!(0,s.A)(l.selectedOptions,this.selectedOptions)||l.selectedOption&&!(0,s.A)(l.selectedOption,this.selectedOption)?(this.props.setSelectState(()=>({...l,isExpanded:!1})),this.props.showConfirmDialog&&this.props.showConfirmDialog({onGo:()=>{this.props.setSelectState(a,_),this.selectedOptions=l.selectedOptions||this.selectedOptions,this.selectedOption=l.selectedOption||this.selectedOption}})):(this.props.setSelectState(a,_),this.selectedOptions=l.selectedOptions||this.selectedOptions,this.selectedOption=l.selectedOption||this.selectedOption)}render(){const{showConfirmDialog:a}=this.props,_=a?this.setSelectState:this.props.setSelectState;return t.createElement(u,n({},this.props,{setSelectState:_}))}constructor(a){super(a),this.setSelectState=this.setSelectState.bind(this),this.selectedOptions=a.selectedOptions,this.selectedOption=a.selectedOption}},"ConfirmSelectWrapper");return i.defaultProps={selectedOptions:[],selectedOption:null,showConfirmDialog:void 0},i.displayName="ConfirmSelectWrapper",i}m(r,"withConfirm")},2742076544:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(3134334389),s=e(166097325),n=e(9113979368),r=e(7715417323),u=e(9268023148),i=e(337319621);function o(){return o=Object.assign||function(l){for(var p=1;p<arguments.length;p++){var g=arguments[p];for(var c in g)Object.prototype.hasOwnProperty.call(g,c)&&(l[c]=g[c])}return l},o.apply(this,arguments)}m(o,"_extends");const a=(0,i.Wo)();function _(l){let p=m(class extends t.Component{componentDidMount(){const{searchOnClick:c,disableSearchOnMount:E,expandOnFocus:A,minQueryLength:d}=this.props,{filterQuery:v}=this.state;if(!c&&!E||A){const h=!d||v&&v.length>=d;v!==void 0&&h&&this.search(v)}}componentDidUpdate(c){const{isInvalid:E,selectedOption:A,selectedOptions:d,isDisabled:v,minQueryLength:h}=this.props,f={};c.isInvalid!==E&&(f.isInvalid=E),c.isDisabled!==v&&(f.isDisabled=v),(0,s.A)(c.selectedOption,A)||(f.selectedOption=A),(0,s.A)(c.selectedOptions,d)||(f.selectedOptions=d),(0,s.A)(c.minQueryLength,h)||(f.minQueryLength=h),(0,n.A)(f)||this.setSelectState(()=>f)}componentWillUnmount(){var c;(c=this.searchAbortController)===null||c===void 0||c.abort()}setSelectState(c,E){const A=c();if(A.filterQuery!==void 0&&A.filterQuery!==this.state.filterQuery||A.searchOnClick){var d;(d=this.searchAbortController)===null||d===void 0||d.abort(),!this.state.minQueryLength||A.filterQuery&&A.filterQuery.length>=this.state.minQueryLength?(this.setState(()=>({isLoading:!0,searchOnClick:!1})),this.search(A.filterQuery)):this.setState(()=>({isLoading:!1,options:[]}))}this.setState(()=>A,E)}search(c){const{search:E,onSearch:A=r.A,onSearchError:d=r.A,selectId:v,processOptions:h=m(y=>Promise.resolve(y),"processOptions")}=this.props;A(c),this.searchAbortController=new AbortController;const f=this.searchAbortController.signal;E(c,{abortSignal:f}).then(y=>{f.aborted||h(y,c).then(I=>{this.setSelectState(()=>({options:I})),this.setState(()=>({isLoading:!1}))})}).catch(y=>{f.aborted||(this.setState(()=>({isLoading:!1})),a.error(`Error when searching for select id: ${v}, error: ${y}`),d(y))})}render(){const c=this.props.inputRef||this.inputRef;return t.createElement(l,o({},this.props,{selectState:this.state,setSelectState:this.setSelectState,inputRef:c,isLoading:this.state.isLoading}))}constructor(c){super(c),this.inputRef=t.createRef(),this.setSelectState=this.setSelectState.bind(this),this.state={filterQuery:"",displayQuery:"",options:[],isExpanded:c.isExpanded,expandOnFocus:c.expandOnFocus,selectId:c.selectId,selectedOptions:c.selectedOptions||[],selectedOption:c.selectedOption||null,isRequired:c.isRequired,isLoading:!1,isDisabled:c.isDisabled,isInvalid:c.isInvalid,searchOnClick:c.searchOnClick,minQueryLength:c.minQueryLength,shouldRefocusInputAfterSelection:c.shouldRefocusInputAfterSelection},this.search=(0,u.A)(this.search,c.debounceWaitPeriod)}},"CustomSearchWrapper");return p.defaultProps={isRequired:!0,selectedOptions:null,selectedOption:null,isExpanded:!1,expandOnFocus:!1,isDisabled:!1,isInvalid:!1,debounceWaitPeriod:50,minQueryLength:0,onSearch:r.A,onSearchError:r.A,searchOnClick:!1,disableSearchOnMount:!1,processOptions:g=>Promise.resolve(g),shouldAllowUnselectInMultiSelectMode:!1,disableIdParsing:!1,autoClogProps:void 0},p.displayName="CustomSearchWrapper",p}m(_,"withCustomSearch")},2602118042:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(5846524816);function n(){return n=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var _=arguments[a];for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(o[l]=_[l])}return o},n.apply(this,arguments)}m(n,"_extends");const r={textSelectLabel:void 0,minOptionsListWidth:null,ariaLabel:""};function u(o){return t.createElement(s.A,n({},o,{textSelect:!0}))}m(u,"TextSelect"),u.displayName="TextSelect",u.defaultProps=r;const i=u},7193040700:(W,T,e)=>{"use strict";e.d(T,{$_:()=>r,CK:()=>o,Hy:()=>u,Sx:()=>a,US:()=>s,az:()=>l,bJ:()=>n,hu:()=>t,r3:()=>i,yk:()=>_});const t={SMALL:"small",MEDIUM:"medium",LARGE:"large"},s={BASIC:"basic",SEARCH:"search",MULTI:"multi"},n=28,r=2,u="12px 0",i=16,o=240,a="-",_="sk-select-clear",l={label:"Clear selection",value:_}},2864323261:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(8935440161);const s=m(function(r){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],o=arguments.length>3?arguments[3]:void 0;if(!o)return i;const{label:a,options:_}=o,l=new t.A(r,{fuzzyLimit:3,...u});if(!_)isFinite(l.normalizeAndScore(a))&&i.push(o);else{const p=[];_.forEach(g=>{const{label:c}=g;isFinite(l.normalizeAndScore(c))&&p.push(g)}),p.length&&i.push({label:o.label,options:p})}return i},"findMatches");function n(r,u){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return u?r.reduce((o,a)=>s(u,i,o,a),[]):r}m(n,"defaultFilter")},1507416e3:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(145735569);const s=m(n=>!n||!Array.isArray(n)?!1:n.some(r=>(0,t.hH)(r)),"__WEBPACK_DEFAULT_EXPORT__")},3650946343:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(9113979368),s=e(2101927269),n=e(2878685908),r=e(337319621);function u(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if((0,t.A)(i))return!1;const o=(0,s.A)(i,a=>(a&&!a.message&&(0,n.Cu)()&&(0,r.Wo)({label:"Invalid Error or Hint Object"}).error(`The following error or hint object is invalid: { id: ${a.id}, message: ${a.message}}`),a&&!!a.message));return!(0,t.A)(o)}m(u,"__WEBPACK_DEFAULT_EXPORT__")},2753496765:(W,T,e)=>{"use strict";e.d(T,{I:()=>o,t:()=>a});var t=e(3044566667);const s=[",","\uFF0C","\u3001",";","\uFF1B","|","\uFF5C","\\t","\\n","\\r"],n=new RegExp(`[${s}]`),r=new RegExp(`<(${t.gy})>`,"i"),u=new RegExp(`\\((${t.gy})\\)`,"i"),i=/(?=\s+[@\uFF20])/g;function o(_,l){let p=[];return l!=null&&l.entities&&(l!=null&&l.entities.members)&&typeof(l==null?void 0:l.entities.members)!="boolean"&&(l!=null&&l.entities.members.matchEmailField)&&(r.test(_)||u.test(_))?p=_.match(new RegExp(t.tN.CONTAINS_EMAIL,"gi")):n.test(_)?p=_.split(n):l!=null&&l.fromMetadata?p=_.split(/\s+/):l!=null&&l.entities&&l.entities.members&&i.test(_)&&(p=_.split(i)),(!p||!p.length)&&(p=_.split(/\s+/)),p.map(g=>g.trim()).filter(g=>Boolean(g))}m(o,"defaultSplitQuery");function a(_,l){let p=_;if(l!=null&&l.entities&&(l!=null&&l.entities.members)&&typeof(l==null?void 0:l.entities.members)!="boolean"&&(l!=null&&l.entities.members.matchEmailField)&&t.tN.CONTAINS_EMAIL.test(_)){var g;p=(g=_.match(t.tN.CONTAINS_EMAIL))===null||g===void 0?void 0:g[0]}return p}m(a,"parseQueryForSearch")},7772530643:(W,T,e)=>{"use strict";e.d(T,{k:()=>s});var t=e(2864323261);const s=m(function(r,u){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return u.filterQuery===void 0?u:{...u,options:(0,t.A)(r,u.filterQuery,i)}},"defaultFilter"),n=m((r,u)=>r.reduce((i,o)=>o(i),u),"applyTransforms")},1959847761:(W,T,e)=>{"use strict";e.d(T,{A:()=>n,e:()=>s.e});var t=e(1211063534),s=e(7001051039);const n=t.A},1211063534:(W,T,e)=>{"use strict";e.d(T,{A:()=>y});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(5950652755),u=e(7715417323),i=e(4426213732),o=e(8652526277),a=e(2843556239),_=e(8245211418),l=e(7001051039);function p(){return p=Object.assign||function(I){for(var C=1;C<arguments.length;C++){var D=arguments[C];for(var M in D)Object.prototype.hasOwnProperty.call(D,M)&&(I[M]=D[M])}return I},p.apply(this,arguments)}m(p,"_extends");const g=1,c=10,E=10,A=2,d=12,v=50;let h=m(class extends t.PureComponent{componentDidMount(){if(this.state.isOpen){var C;(C=this.context.windowRef.deref())===null||C===void 0||C.document.addEventListener("mousemove",this.onMouseMove)}}static getDerivedStateFromProps(C,D){return C.isOpen!==D.passedIsOpen?{isOpen:C.isOpen,passedIsOpen:C.isOpen}:null}componentDidUpdate(C){if(C.isOpen!==this.props.isOpen)if(this.state.isOpen){var D;this.forceUpdate(),(D=this.context.windowRef.deref())===null||D===void 0||D.document.addEventListener("mousemove",this.onMouseMove)}else{var M;(M=this.context.windowRef.deref())===null||M===void 0||M.document.removeEventListener("mousemove",this.onMouseMove)}this.state.isOpen||(this.initialTriggerBounds=void 0)}componentWillUnmount(){var C;(C=this.context.windowRef.deref())===null||C===void 0||C.document.removeEventListener("mousemove",this.onMouseMove)}onMouseMove(C){const D={x:C.clientX-C.movementX,y:C.clientY-C.movementY},M={x:C.clientX,y:C.clientY},P=this.mouseProgressingTowardsSubmenu(D,M);if(P!==this.state.mouseProgressingTowardsSubmenu){if(P){var S,b;(b=(S=this.props).preventHighlightChange)===null||b===void 0||b.call(S)}else if(!this.state.highlightChangePrevented){var O,L;(L=(O=this.props).allowHighlightChange)===null||L===void 0||L.call(O)}}this.setState(()=>({mouseProgressingTowardsSubmenu:P}))}onSubmenuItemSelected(C,D){var M,P;(P=(M=this.props).menuCallback)===null||P===void 0||P.call(M,this.props.menuCallbackId||0,D)}getContentBounds(){return this.submenuContainer?this.submenuContainer.getBoundingClientRect():void 0}getSubmenuContainerStyle(){const C=this.getContentBounds(),D=this.getTriggerBounds(),M={...this.props.submenuStyle},P=this.context.windowRef.deref();if((C==null?void 0:C.width)===void 0||(D==null?void 0:D.left)===void 0||!P)return M;const S=D.right+C.width>P.innerWidth,b=D.left>C.width,O=this.props.forceLeft||S&&b;S&&!b?M.left=P.innerWidth-C.width-c:O?M.left=D.left-C.width+A:M.left=D.right-A;const k=D.top-d,K=k+C.height>P.innerHeight-E;return M.top=K?P.innerHeight-E-C.height:k,M}getTriggerBounds(){return this.initialTriggerBounds||(this.initialTriggerBounds=this.trigger?this.trigger.getBoundingClientRect():void 0),this.initialTriggerBounds||void 0}setSubmenuRef(C){this.submenuContainer=C}setTriggerRef(C){this.trigger=C}allowHighlightChange(){this.setState(C=>({...C,highlightChangePrevented:!1}))}closeSubmenu(){var C,D;(D=(C=this.props).returnKBNav)===null||D===void 0||D.call(C),this.setState(()=>({isOpen:!1}),()=>{var M;(M=this.context.windowRef.deref())===null||M===void 0||M.document.removeEventListener("mousemove",this.onMouseMove)})}mouseProgressingTowardsSubmenu(C,D){const M=this.getContentBounds();if(!M)return!1;const{left:P,right:S,top:b,bottom:O}=M;if(D.x>=P&&D.x<=S&&D.y>=b&&D.y<=O)return!0;if(!C)return!1;const k=Math.abs(S-C.x)>Math.abs(P-C.x),K={x:k?P:S,y:b-g},N={x:k?P:S,y:O+g},R={x:k?C.x-g:C.x+g,y:C.y};return(0,o._i)(D,R,K,N)}preventHighlightChange(){this.setState(C=>({...C,highlightChangePrevented:!0}))}renderSubmenu(){if(!this.state.isOpen||this.props.disabled)return null;const C=this.props.renderSubmenu({onTriggerClose:this.closeSubmenu,onCloseSubmenu:this.closeSubmenu,onMenuItemSelected:this.onSubmenuItemSelected,kbNavActive:this.props.kbNavActive,preventHighlightChange:this.preventHighlightChange,allowHighlightChange:this.allowHighlightChange,isSubmenu:!0}),D=this.getSubmenuContainerStyle(),M=n()("c-submenu__container",{"c-submenu__container--legacy":!this.props.renderLegacySubmenu});return t.createElement("div",{role:"presentation",className:M,ref:this.setSubmenuRef,style:D,"data-qa":"submenu_container"},C)}render(){const{menuCallback:C,menuCallbackId:D,...M}=this.props;return t.createElement("div",{role:"presentation",className:"c-submenu","data-qa":"submenu_trigger_wrapper",ref:this.setTriggerRef},t.createElement(_.A,p({},M,{withSubmenu:!0})),this.renderSubmenu())}constructor(C){super(C),this.state={isOpen:!1,passedIsOpen:!1,mouseProgressingTowardsSubmenu:!1,highlightChangePrevented:!1},(0,i.v)(this,["closeSubmenu","setSubmenuRef","setTriggerRef","onSubmenuItemSelected","preventHighlightChange","allowHighlightChange"]),this.onMouseMove=(0,r.A)(this.onMouseMove.bind(this),v)}},"Submenu");h.defaultProps={isOpen:!1,menuCallback:u.A,menuCallbackId:0,kbNavActive:!1,returnKBNav:u.A,preventHighlightChange:u.A,allowHighlightChange:u.A,renderLegacySubmenu:!0,forceLeft:!1,submenuStyle:void 0,disabled:!1,showFullCarat:!1,icon:null},h.contextType=a._0,h.displayName="Submenu";const f={Submenu:h,SUBMENU_OVERLAP:A,MENU_VERTICAL_MARGIN:d,ALLOWANCE_X:c,ALLOWANCE_Y:E},y=(0,l.A)(h)},7001051039:(W,T,e)=>{"use strict";e.d(T,{A:()=>r,e:()=>n});var t=e(1963690015);const s="_isSlackSubmenuItem";function n(u){return!!u&&u[s]===!0}m(n,"isSubmenu");function r(u){return u[s]=!0,u[t.KJ]=!0,u}m(r,"wrapSubmenu")},4525741652:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3134334389),s=e(4844578989),n=e.n(s);function r(){return r=Object.assign||function(o){for(var a=1;a<arguments.length;a++){var _=arguments[a];for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&(o[l]=_[l])}return o},r.apply(this,arguments)}m(r,"_extends");const i=(0,t.forwardRef)((o,a)=>{let{tabContent:_,fullHeight:l,className:p,role:g="tabpanel",...c}=o;const E=n()(p,"c-tabs__tab_panel","c-tabs__tab_panel--active",{"c-tabs__tab_panel--full_height":l});return t.createElement("div",r({role:g,className:E,"data-qa":"tabs_content_container",ref:a},c),_)})},6130762911:(W,T,e)=>{"use strict";e.d(T,{T:()=>n});var t=e(3134334389);const s={isSelected:!1,hasMouseHover:!1,hasKeyboardFocus:!1,isUserAttentionOnTab:!1},n=(0,t.createContext)(s)},4986936311:(W,T,e)=>{"use strict";e.d(T,{A:()=>M});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(8628145494),u=e(9268023148),i=e(2830068825),o=e(1979293697);function a(P){return/\.(jpe?g|png|gif|bmp)$/i.test(P)}m(a,"hasImageExtention");const _=a;var l=e(4980558152),p=e(3749524846),g=e(9332393661),c=e(6084388622),E=e(1610251172),A=e(8683010724),d=e(6130762911),v=e(7239742441),h=e(4452574402);function f(){return f=Object.assign||function(P){for(var S=1;S<arguments.length;S++){var b=arguments[S];for(var O in b)Object.prototype.hasOwnProperty.call(b,O)&&(P[O]=b[O])}return P},f.apply(this,arguments)}m(f,"_extends");const y=m(P=>{let{icon:S,svgIcon:b,customIcon:O,className:L}=P;return t.createElement("div",{className:L,"data-qa":"tabs_item_render_icon"},!O&&S&&!b&&t.createElement(E.A,{type:S,size:"inherit",inline:!0}),!O&&b&&!S&&t.createElement(A.A,f({},b)),O&&O)},"TabsItemIcon");y.displayName="TabsItemIcon";const I=m(P=>P>=1e4?(0,v.$k)(P,{precision:4,decimal_places:0,lowercase:!0}):(0,h.Ay)(P),"formatNumber"),C=m(P=>{let{shouldFormatCount:S,titleCount:b,maxTitleCount:O}=P;if(!b)return b;const L=O&&b>O;let k=L?O:b;return S&&(k=I(k)),L?`${k}+`:k},"formatCount"),D=(0,t.forwardRef)((P,S)=>{let{label:b,onClick:O,title:L,isSelected:k,isFocused:K,focusOnMount:N,fullWidth:R,titleCount:U,maxTitleCount:x,icon:B,svgIcon:F,customIcon:V,formatCount:Y,isLoading:w,isCountLoading:G,isDisabled:Ee,iconPosition:ne="right",className:se="",contextMenuAriaLabel:ce,contextMenuTemplate:pe,ariaRole:ye="tab",ariaHaspopup:Ie=!1,...Se}=P;const le=(0,i.A)(S),[X,J]=(0,t.useState)(!1),z=(0,t.useContext)(p.A),te=n()(se,"c-tabs__tab","js-tab",{"c-tabs__tab--active":k,"c-tabs__tab--full_width":R}),$=b||L,q=typeof $=="string"&&_($)?t.createElement(g.A,{classes:"c-tabs__tab_image",image:$,ariaHidden:!0}):$,re=Se.id,de=(0,t.useCallback)(ve=>{O&&O(re,ve)},[re,O]),oe=C({shouldFormatCount:Y,titleCount:U,maxTitleCount:x}),De=(0,r.A)(K)?k:K,ae=(0,o.A)(De);(0,t.useEffect)(()=>{if(!De)return;const ve=(0,r.A)(ae);if(ve&&N||!ve&&!ae){var Fe;(Fe=le.current)===null||Fe===void 0||Fe.focus()}},[De,ae,N,le]);const Z=(0,t.useCallback)(()=>pe,[pe]),ie=(0,u.A)(()=>J(!0),25),Ce=(0,u.A)(()=>J(!1),25),Re=(0,t.useCallback)(()=>{Ce.cancel(),ie()},[ie,Ce]),He=(0,t.useCallback)(()=>{ie.cancel(),Ce()},[ie,Ce]),be=z&&(K??!1),Ue=(0,t.useMemo)(()=>({isSelected:k??!1,hasMouseHover:X,hasKeyboardFocus:be,isUserAttentionOnTab:k||X||be}),[be,X,k]);let me=t.createElement(c.Nm,f({},Se,{onClick:de,onMouseOver:Re,onMouseOut:He,role:ye,className:te,"aria-haspopup":Ie,tabIndex:De?0:-1,disabled:Ee,ref:le},ye!=="button"?{"aria-selected":k}:{}),w?t.createElement("span",{className:"c-tabs__tab_placeholder","data-qa":"tabs_item_placeholder"}):t.createElement(t.Fragment,null,(!!B||!!F||!!V)&&ne==="left"&&t.createElement(y,{icon:B,svgIcon:F,customIcon:V,className:"c-tabs__tab_icon--left"}),t.createElement("span",{className:"c-tabs__tab_content"},q),Number.isFinite(U)&&t.createElement("span",{className:"c-tabs__tab_count","data-qa":"tabs_item_render_count"},oe),G&&t.createElement("span",{className:"c-tabs__tab_count_placeholder","data-qa":"tabs_item_render_count_placeholder"}),(!!B||!!F||!!V)&&ne==="right"&&t.createElement(y,{icon:B,svgIcon:F,customIcon:V,className:"c-tabs__tab_icon--right"})));return pe&&(me=t.createElement(l.A,{getTemplate:Z,desktopAppOnly:!1,showSlackKitContextMenuOnDesktop:!0,width:"auto",menuAriaLabel:ce},me)),t.createElement(d.T.Provider,{value:Ue},me)});D.displayName="TabsItem";const M=D},2293211408:(W,T,e)=>{"use strict";e.d(T,{A:()=>Ee});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(3078252698);const o=m(ne=>(0,u.A)(ne),"isReactNodeAString");var a=e(4426213732),_=e(2790183459),l=e(2878685908),p=e(3527550343),g=e(4118237431),c=e(3514831633),E=e(8773153312),A=e(8683010724),d=e(4986936311),v=e(2312625946);const h={name:"ellipsis-horizontal",variation:"filled"},y=(0,t.forwardRef)((ne,se)=>{let{renderMenu:ce,position:pe,label:ye,id:Ie,isSelected:Se,isFocused:le}=ne;return t.createElement(c.cQ,{renderMenu:ce,position:pe||"bottom-left"},t.createElement(v.Ay,{tip:ye,position:"top",offsetY:6},t.createElement(d.A,{id:Ie,"aria-label":ye,isSelected:Se,isFocused:le,className:"c-tabs__tab_overflow",svgIcon:h,ref:se})))});var I=e(5238395322);const C=53,D=27;function M(ne){const se=ne.ownerDocument.defaultView;if(!se)return ne.offsetWidth;const ce=se.getComputedStyle(ne),pe=parseFloat(ce.getPropertyValue("margin-left"))+parseFloat(ce.getPropertyValue("margin-right"));return ne.offsetWidth+pe}m(M,"getWidth");function P(ne){const se=ne.ownerDocument.defaultView;if(!se)return ne.offsetHeight;const ce=se.getComputedStyle(ne),pe=parseFloat(ce.getPropertyValue("margin-top"))+parseFloat(ce.getPropertyValue("margin-bottom"));return ne.offsetHeight+pe}m(P,"getHeight");const S=m((ne,se)=>{let{outerElement:ce,innerElement:pe,threshold:ye,totalTabsLength:Ie,childElements:Se,containerSize:le,isHorizontal:X}=ne;if(!ce||!pe||!Se||Ie===0)return;const J=le-ye,z=X?M:P,te=Array.from(Se).map(oe=>z(oe));if((0,I.A)(te)<J&&te.length===Ie){se(Ie);return}let q=X?C:D,re=J,de=0;te.forEach(oe=>{q<J&&oe<=re&&(de+=1),q+=oe,re-=oe}),se(de)},"recalculateVisibleTabs");var b=e(4525741652),O=e(8226269261),L=e(8214116048),k=e(1224315998),K=e(337319621),N=e(4413566926);function R(){return R=Object.assign||function(ne){for(var se=1;se<arguments.length;se++){var ce=arguments[se];for(var pe in ce)Object.prototype.hasOwnProperty.call(ce,pe)&&(ne[pe]=ce[pe])}return ne},R.apply(this,arguments)}m(R,"_extends");const U=new N.Ay("slack-kit"),x=85,B=52,F=["ArrowLeft"],V=["ArrowRight"],Y=F.concat("ArrowUp"),w=V.concat("ArrowDown");let G=m(class extends t.PureComponent{setVisibleTabs(se){this.setState(()=>({numOfVisibleTabsShown:se}))}onResize(){var se,ce,pe,ye,Ie,Se,le,X,J,z;const te=this.props.orientation===L.t4.Horizontal,$=te?(se=this.tabsContainerRef)===null||se===void 0||(ce=se.current)===null||ce===void 0?void 0:ce.clientWidth:(pe=this.tabsContainerRef)===null||pe===void 0||(ye=pe.current)===null||ye===void 0?void 0:ye.clientHeight;if(!$)return;const q=te?x:B,re={outerElement:(Ie=this.tabsContainerRef)===null||Ie===void 0||(Se=Ie.current)===null||Se===void 0?void 0:Se.getBoundingClientRect(),innerElement:(le=this.lastVisibleTabRef)===null||le===void 0||(X=le.current)===null||X===void 0?void 0:X.getBoundingClientRect(),totalTabsLength:this.props.tabs.length,numOfVisibleTabsShown:this.state.numOfVisibleTabsShown,childElements:(J=this.tabsContainerRef)===null||J===void 0||(z=J.current)===null||z===void 0?void 0:z.children};S({...re,threshold:q,containerSize:$,isHorizontal:te},this.setVisibleTabs),this.setState(()=>({isResizeCalculationCompleted:!0}),()=>{var de,oe;return(oe=(de=this.props).onTabsResized)===null||oe===void 0?void 0:oe.call(de)})}componentDidMount(){this._isMounted=!0;const{maxSize:se}=this.props;if(se&&!this.resizeListener){var ce;this.resizeListener=(0,g.A)(this.onResize),this.resizeListener.observe((ce=this.tabsContainerRef)===null||ce===void 0?void 0:ce.current)}}componentDidUpdate(se,ce){var pe;const{defaultTabId:ye,tabs:Ie,currentTabId:Se,manualTabActivation:le}=this.props,{numOfVisibleTabsShown:X,selectedTabId:J}=this.state;var z;((z=(pe=se.tabs)===null||pe===void 0?void 0:pe.length)!==null&&z!==void 0?z:0)!==Ie.length&&this.updateSelectedTab(),se.currentTabId!==Se&&this.updateSelectedTab(),ye!==se.defaultTabId&&ye&&this.selectTab(ye,void 0);const te=ce.numOfVisibleTabsShown!==X,$=ce.selectedTabId!==J&&!le;(te||$)&&this.updateFocusedTabIndex(),this.focusWhenVisible&&(this.focusWhenVisible=!1,this.focus())}componentWillUnmount(){if(this._isMounted=!1,this.resizeListener){var se;(se=this.resizeListener)===null||se===void 0||se.disconnect(),this.resizeListener=null}}onFocus(se){const{focusedTabIndex:ce}=this.state,pe=this.getTabIndexById(se.target.id);if(pe===-1)return;pe!==ce&&this.focusTab(pe);const{onFocus:ye}=this.props;ye==null||ye(se)}onBlur(se){const{onBlur:ce}=this.props;ce==null||ce(se)}onKeyDown(se){const ce=se.key;if(se.shiftKey||se.metaKey||se.ctrlKey||se.altKey)return;const ye=this.props.orientation==="vertical",Ie=ye?w:V,Se=ye?Y:F;if(!["Home","End"].concat(Ie,Se).includes(ce))return;const X=Ie.includes(ce),J=Se.includes(ce);se.preventDefault(),X&&this.onNextArrow(se),J&&this.onPreviousArrow(se),ce==="Home"&&this.onHome(se),ce==="End"&&this.onEnd(se)}isSelectedTabVisible(){return this.getVisibleTabIds().includes(this.state.selectedTabId)}getHiddenTabs(){const{tabs:se}=this.props,{numOfVisibleTabsShown:ce}=this.state;return se.slice(ce,se.length)}getVisibleTabs(){var se,ce;const{tabs:pe,maxSize:ye}=this.props;if(!!!ye)return pe;const Se=((se=this)===null||se===void 0||(ce=se.state)===null||ce===void 0?void 0:ce.numOfVisibleTabsShown)||pe.length;return pe.length===Se?pe:pe.slice(0,Se).concat({id:this.overflowTabId})}getVisibleTabIds(){return this.getVisibleTabs().map(se=>{let{id:ce}=se;return ce})}getTabById(se){var ce;return(ce=this.props.tabs)===null||ce===void 0?void 0:ce.find(pe=>pe.id===se)}getTabIndexById(se){return this.getVisibleTabIds().indexOf(se)}onHome(se){if(this.state.focusedTabIndex===0)return;const{onTabWillChange:ce,manualTabActivation:pe,onTabChange:ye}=this.props,Ie=this.getVisibleTabIds(),Se=0;if(this.focusTab(Se),pe)return;const le=Ie[Se];le!==this.overflowTabId&&(ce==null?void 0:ce(le))!==!1&&this.setState(()=>({selectedTabId:le}),()=>{ye==null||ye(le,se)})}onEnd(se){const ce=this.getVisibleTabIds(),pe=ce.length-1;if(this.state.focusedTabIndex===pe)return;const{onTabWillChange:ye,manualTabActivation:Ie,onTabChange:Se}=this.props;if(this.focusTab(pe),Ie)return;const le=ce[pe];le!==this.overflowTabId&&(ye==null?void 0:ye(le))!==!1&&this.setState(()=>({selectedTabId:le}),()=>Se==null?void 0:Se(le,se))}onNextArrow(se){const{onTabWillChange:ce,manualTabActivation:pe,onTabChange:ye}=this.props,Ie=this.getVisibleTabIds(),Se=this.getTabIndexById(se.target.id),le=Se>=Ie.length-1?0:Se+1;if(this.focusTab(le),pe)return;const X=Ie[le];X!==this.overflowTabId&&(ce==null?void 0:ce(X))!==!1&&this.setState(()=>({selectedTabId:X}),()=>ye==null?void 0:ye(X,se))}onPreviousArrow(se){const{onTabWillChange:ce,manualTabActivation:pe,onTabChange:ye}=this.props,Ie=this.getVisibleTabIds(),Se=this.getTabIndexById(se.target.id),le=Se===0?Ie.length-1:Se-1;if(this.focusTab(le),pe)return;const X=Ie[le];X!==this.overflowTabId&&(ce==null?void 0:ce(X))!==!1&&this.setState(()=>({selectedTabId:X}),()=>ye==null?void 0:ye(X,se))}getNextTabId(){const{defaultTabId:se,tabs:ce,currentTabId:pe}=this.props,ye=se?this.getTabIndexById(se):void 0,Ie=pe?this.getTabIndexById(pe):void 0;return pe&&Ie?pe:se&&ye?se:ce[0].id}activePanelTabId(){return this.props.currentTabId||this.state.selectedTabId}updateSelectedTab(){if(!this._isMounted||!this.props.tabs.length)return;const se=this.getNextTabId();se!==this.state.selectedTabId&&this.setState(()=>({selectedTabId:se}))}focus(){if(this.isHidden)return this.focusWhenVisible=!0,!1;this.focusWhenVisible=!1;const{current:se}=this.selectedTabRef;if(se)return se.focus(),!0;const ce=this.activePanelTabId(),pe=this.getTabIndexById(ce);return this.focusTab(pe!==-1?pe:0),!0}focusTab(se){this.setState(()=>({focusedTabIndex:se}))}selectTab(se,ce){const{onTabWillChange:pe,onTabChange:ye}=this.props,Ie=this.getTabById(se);if(!Ie)return null;if((pe==null?void 0:pe(se))!==!1){if(Ie.isExternalLink){var Se;return(Se=Ie.onClick)===null||Se===void 0?void 0:Se.call(Ie,se,ce)}return this.setState(()=>({selectedTabId:se}),()=>{if(ye==null||ye(se,ce),this.props.focusOnFirstFocusableChildOnChange){const le=this.panelRef&&this.panelRef.current,X=(0,p.Fp)(le);X==null||X.focus()}}),null}}updateFocusedTabIndex(){const se=this.isSelectedTabVisible()?this.state.selectedTabId:this.overflowTabId;this.setState(()=>({focusedTabIndex:this.getVisibleTabIds().indexOf(se)}))}onTabClick(se,ce){var pe;const ye=this.getTabById(se);ye&&(ye.isExternalLink||this.selectTab(ye.id,ce),ye==null||(pe=ye.onClick)===null||pe===void 0||pe.call(ye,ye.id,ce))}get isHidden(){return!!this.props.maxSize&&!this.state.isResizeCalculationCompleted}renderOverflowTabLabel(se){const ce=U.t("More\u2026",{fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"});if(this.isSelectedTabVisible())return ce;const pe=this.getTabById(se);if(!pe)return ce;const ye=pe["aria-label"]||pe.label||pe.title;return!ye||!o(ye)?ce:U.t("More: {selectedTabLabel}",{selectedTabLabel:ye,fallbackHash:"4ac8baf107e91d808d6840701812f4abed7fa3b5",fallbackHashNs:"mentions"})}renderTabsItem(se,ce){const{tabs:pe,fullWidthMenu:ye,orientation:Ie,iconPosition:Se,focusOnMount:le}=this.props,{focusedTabIndex:X,selectedTabId:J}=this.state,z=X===ce,te=this.getTabIndexById(J)===ce?this.selectedTabRef:void 0,$=se.autoClogProps?{...this.autoClogProps,...se.autoClogProps,elementType:k.ElementType.TAB}:this.autoClogProps,q=ce===pe.length-1?this.lastVisibleTabRef:void 0,re=q?(0,_.A)(te,q):te,oe=this.activePanelTabId()===se.id;return se.id===this.overflowTabId?t.createElement(y,{renderMenu:this.renderOverflowMenu,position:"bottom-left",label:this.renderOverflowTabLabel(J),isSelected:!this.isSelectedTabVisible(),isFocused:z,ref:re,id:se.id,key:se.id}):t.createElement(d.A,{key:se.id,id:se.id,icon:se.icon,svgIcon:se.svgIcon,customIcon:se.customIcon,label:se.label||se.title,onClick:this.onTabClick,autoClogProps:$,isSelected:oe,isFocused:z,focusOnMount:le,isDisabled:se.isDisabled,fullWidth:ye||Ie==="vertical",titleCount:se.titleCount,maxTitleCount:se.maxTitleCount,"aria-label":se["aria-label"],"aria-describedby":se["aria-describedby"],"data-qa":se["data-qa"]||"tabs_item","aria-haspopup":se["aria-haspopup"],ref:re,formatCount:this.props.formatCount,isLoading:se.isLoading,isCountLoading:se.isCountLoading,iconPosition:Se,className:se.className,contextMenuAriaLabel:se.contextMenuAriaLabel,contextMenuTemplate:se.contextMenuTemplate})}renderTabsItems(){return this.getVisibleTabs().map((ce,pe)=>{typeof ce.label!="string"&&!t.isValidElement(ce.label)&&typeof ce.title!="string"&&!t.isValidElement(ce.title)&&!ce["aria-label"]&&((0,l.Cu)()||(0,l.b3)())&&(0,K.Wo)().error("Tabs requires either a label of type string, or an aria-label.");const ye=this.renderTabsItem(ce,pe);return ce.renderWrapper?t.createElement(t.Fragment,{key:ce.id},ce.renderWrapper(ye)):ye})}renderOverflowMenu(se){var ce;const{selectedTabId:pe}=this.state,ye=(ce=this.getHiddenTabs())===null||ce===void 0?void 0:ce.map(Ie=>({label:Ie.label||Ie.title,id:Ie.id,click:Se=>this.onTabClick(Ie.id,Se),key:Ie.id,type:E.A.radio,checked:Ie.id===pe,icon:Ie.svgIcon?t.createElement(A.A,R({size:"18"},Ie.svgIcon)):null,className:"c-tabs__tab_overflow_menu_item"}));return t.createElement(c.a,R({width:"200px"},se,{template:ye}))}renderTabPanelLabel(se){const ce=this.getTabById(se);if(!ce)return;const pe=ce["aria-label"]||ce.label||ce.title;if(o(pe))return pe}render(){var se;const{fullHeight:ce,fullWidthMenu:pe,className:ye,orientation:Ie,tabMenuClassnames:Se,tabPanelClassnames:le,ariaLabel:X,maxSize:J}=this.props,z=this.activePanelTabId();var te;const $=(te=(se=this.getTabById(z))===null||se===void 0?void 0:se.content)!==null&&te!==void 0?te:"",q=n()(ye,{"c-tabs__tab_container--full_height":ce,"c-tabs__tab_container--vertical":Ie==="vertical","c-tabs__tab_menu--overflow_ellipsis":!!J}),re=n()(Se,"c-tabs__tab_menu",{"c-tabs__tab_menu--full_width":pe,"c-tabs__tab_menu--vertical":Ie==="vertical","c-tabs__tab_menu--hidden":this.isHidden}),de=n()(le,{"c-tabs__tab_panel--vertical":Ie==="vertical"});return t.createElement("div",{className:q,"data-qa":"tabs_full_height_class"},t.createElement("div",{role:"tablist",className:re,"data-qa":"tabs_full_width_class",onKeyDown:this.onKeyDown,onFocus:this.onFocus,onBlur:this.onBlur,"aria-orientation":Ie,"aria-label":X,ref:this.tabsContainerRef},this.renderTabsItems()),$&&t.createElement(b.A,{tabContent:$,fullHeight:ce,ref:this.panelRef,className:de,"aria-label":this.renderTabPanelLabel(z)}))}constructor(se){var ce;super(se),(0,a.v)(this,["onKeyDown","onFocus","onBlur","onTabClick","onResize","renderOverflowMenu","setVisibleTabs"]),this.selectedTabRef=t.createRef(),this.panelRef=t.createRef(),this.tabsContainerRef=t.createRef(),this.lastVisibleTabRef=t.createRef(),this.resizeListener=null,this._isMounted=!1,this.focusWhenVisible=!1,se.autoClogProps&&(this.autoClogProps={...se.autoClogProps,elementType:k.ElementType.TAB});const pe=se.currentTabId||se.defaultTabId||((ce=se.tabs[0])===null||ce===void 0?void 0:ce.id),ye=this.getTabIndexById(pe);this.state={selectedTabId:pe,focusedTabIndex:ye!==-1?ye:0,numOfVisibleTabsShown:this.getVisibleTabs().length,isResizeCalculationCompleted:!1},this.overflowTabId=`sk-overflow-tab-${(0,O.A)()}`}},"Tabs");G.defaultProps={onTabChange:r.A,orientation:"horizontal",iconPosition:"right",manualTabActivation:!1,focusOnFirstFocusableChildOnChange:!0},G.displayName="Tabs";const Ee=G},4275787242:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3134334389),s=e(3708320478),n=e(5733135148);const r=m(u=>{let{children:i,duration:o,svgIconProps:a,toastClasses:_,position:l,offsetX:p,offsetY:g,showCloseButton:c,onCloseComplete:E,shouldAutoFade:A,shouldSkipToastDismissal:d,closeButtonClasses:v,svgIconClassName:h,announceContentAsAssertive:f}=u;return t.createElement(n.Ay,{fadeDelay:o,svgIconClassName:h,svgIconProps:a,toastClasses:_,offsetX:p,offsetY:g,position:l,showCloseButton:c,onCloseComplete:E,shouldAutoFade:A,shouldSkipToastDismissal:d,closeButtonClasses:v},t.createElement(s.z,{assertive:f},i))},"Toast");r.displayName="Toast",r.defaultProps={duration:6e3}},2855755676:(W,T,e)=>{"use strict";e.d(T,{F:()=>t,n:()=>s});const t={small:"small",medium:"medium",large:"large"},s={small:22,medium:26,large:32}},561151542:(W,T,e)=>{"use strict";e.d(T,{A:()=>F});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(7715417323),u=e(2768501508),i=e(6228854066),o=e(7905172576),a=e(276274568),_=e(5537045526),l=e(126225536),p=e(1030162945),g=e(7969928607),c=e(1407713935),E=e(4559887502),A=e(8798294025),d=e(6839188756),v=e(6308822),h=e(1610251172),f=e(7193040700),y=e(7506258436),I=e(8683010724),C=e(2312625946),D=e(2809903252),M=e(82287009),P=e(8040098042),S=e(6112179660),b=e(4327331459),O=e(7679173189),L=e(4862221402),k=e(9391594207),K=e(2235302340),N=e(9101533895),R=e(3677514771);function U(){return U=Object.assign||function(V){for(var Y=1;Y<arguments.length;Y++){var w=arguments[Y];for(var G in w)Object.prototype.hasOwnProperty.call(w,G)&&(V[G]=w[G])}return V},U.apply(this,arguments)}m(U,"_extends");let x=m(class extends t.Component{renderChannelToken(Y){const{channel:w,showMemberCounts:G,isSelected:Ee,channelHasNonUniqueName:ne}=this.props;let se;return(0,c.LI)(w)?se=t.createElement(i.Ay,{id:(0,A.e)(w),className:"c-token_channel"}):(0,c.yz)(w)?se=t.createElement(o.A,{mpim:w,className:"c-token_channel",isActive:Ee}):se=t.createElement(u.A,{channel:w,className:"c-token_channel",displayFormerNames:!1,showFilledIcon:!0,showMemberCounts:G,showTeamForLocalChannel:ne}),t.createElement("span",{className:Y,"data-qa":"token_channel"},se)}renderContent(){const{isLoading:Y,isUnknown:w,isError:G,isMemberError:Ee,isTeamError:ne,isInvalid:se,channel:ce,memberId:pe,teamName:ye,userGroupId:Ie,channelSection:Se,contentInnerClassName:le,emailTeam:X}=this.props;let J=n()("c-token_content__inner",le);return Y&&!se?(J+=" c-token_content__inner--loading",this.renderLoadingToken(J)):w?(J+=" c-token_content__inner--unknown",this.renderUnknownToken(J)):G?(J+=" c-token_content__inner--error",this.renderErrorToken(J)):X?(J+=" c-token_content__inner--email_with_team_icon",this.renderEmailTokenWithTeamIcon(J)):pe&&Ee?(J+=" c-token_content__inner--error",this.renderMemberErrorToken(J)):pe?(J+=" c-token_content__inner--member",this.renderMemberToken()):ce?this.renderChannelToken(J):ye&&ne?(J+=" c-token_content__inner--error",this.renderTeamErrorToken(J)):ye?(J+=" c-token_content__inner--team",this.renderTeamToken(J)):Se?(J+=" c-token_content__inner--channel_section",this.renderChannelSectionToken(J)):Ie?(J+=" c-token_content__inner--usergroup",this.renderUserGroupToken(J)):this.renderPlainToken(J)}renderErrorToken(Y){const{label:w}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__error_icon_container"},t.createElement(I.A,{size:"18",name:"warning","data-qa":"token_error_icon"})),t.createElement("span",{className:n()(Y,"c-token_content__label"),"data-qa":"token_error"},t.createElement(g.A,{text:w,inputIsEscaped:!0,emojiSize:p.lw.MEDIUM})))}renderLoadingToken(Y){const{size:w,label:G}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__loading_icon_container"},t.createElement(v.A,U({},w?{size:w}:{},{"data-qa":"token_loading_icon"}))),t.createElement("span",{className:n()(Y,"c-token_content__label"),"data-qa":"token_loading"},G))}renderMemberToken(){const{forceRealName:Y,isDisabled:w,memberId:G,size:Ee,hasNoAccess:ne,forceAvatarPresenceIndicator:se}=this.props;return t.createElement(i.Ay,{id:G,isDeactivated:w,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:Y,showStatus:!1,className:"c-token--member c-token__avatar margin_right_25","data-qa":"token_member",tokenSize:Ee,hasNoAccess:ne,forceAvatarPresenceIndicator:se})}renderMemberErrorToken(Y){const{forceRealName:w,isDisabled:G,memberId:Ee,size:ne}=this.props;return t.createElement(i.Ay,{id:Ee,isDeactivated:G,showPresence:!1,showTooltip:!1,useShortMode:!0,forceRealName:w,showStatus:!1,className:n()(Y,"c-token--member c-token__avatar"),"data-qa":"token_member",tokenSize:ne})}renderIcon(){const{icon:Y,svgIcon:w}=this.props;return w?t.createElement("span",{className:"c-token_content__icon"},t.createElement(I.A,U({"data-qa":"token_plain_icon",inline:!0,size:"inherit"},w))):Y?t.createElement(h.A,{"data-qa":"token_plain_icon",size:"inherit",className:"c-token_content__icon",type:Y,inline:!0}):null}renderPlainToken(Y){const{label:w}=this.props;return t.createElement("span",{className:Y},this.renderIcon(),t.createElement(D.A,{lines:1,withTooltip:!0},t.createElement("span",{className:"c-token_content__label","data-qa":"token_plain_label"},t.createElement(g.A,{text:w,inputIsEscaped:!0,emojiSize:p.lw.MEDIUM}))))}renderEmailTokenWithTeamIcon(Y){const{icon:w,label:G,emailTeam:Ee}=this.props;return t.createElement("span",{className:Y},w&&t.createElement(h.A,{"data-qa":"token_email_with_team_icon_icon",size:"inherit",className:"c-token_content__icon margin_right_50",type:w,inline:!0}),t.createElement("span",{className:"c-token_content__label margin_right_25","data-qa":"token_email_with_team_icon_content_label"},t.createElement(g.A,{text:G,inputIsEscaped:!0,emojiSize:p.lw.MEDIUM})),Ee&&t.createElement("span",{className:"c-member__secondary_content"},t.createElement(_.A,{team:Ee,"data-qa":"token_email_with_team_icon",size:i.Cg,className:"c-member__team_icon"})))}renderTeamToken(Y){const{teamId:w,teamName:G}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(_.A,{id:w,size:26,className:"c-token__team_icon","data-qa":"token_team_icon"}),t.createElement("span",{className:n()(Y,"c-token_content__label"),"data-qa":"token_team_name"},G))}renderTeamErrorToken(Y){const{teamId:w,teamName:G}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement(_.A,{id:w,size:26,className:"c-token__team_icon","data-qa":"token_team_icon_error"}),t.createElement("span",{className:n()(Y,"c-token_content__label"),"data-qa":"token_team_name_error"},G))}renderChannelSectionToken(Y){const{channelSection:w}=this.props;return w?t.createElement("span",{className:n()(Y,"c-token_content__label")},t.createElement(l.A,{channelSection:w})):null}renderUnknownToken(Y){const{label:w}=this.props;return t.createElement("div",{className:"inline_flex"},t.createElement("span",{className:"c-token__unknown_icon_container"},t.createElement(I.A,{size:"18",name:"emoji-missing",variation:"filled","data-qa":"token_unknown_icon"})),t.createElement("span",{className:n()(Y,"c-token_content__label"),"data-qa":"token_unknown"},w))}renderUserGroupToken(Y){const{userGroupId:w}=this.props;return t.createElement(a.A,{id:w,showDescription:!1,className:n()(Y,"c-token_content__label")})}render(){const{isDisabled:Y,isInvalid:w,isError:G,memberId:Ee,isMemberError:ne,isTeamError:se,isUnknown:ce,isLoading:pe,isSelected:ye,size:Ie,hoverText:Se,tabIndex:le,contentEditable:X,className:J,onMouseDown:z,enableProfileHoverCard:te,customizeProfileHoverCardProps:$,isRestricted:q}=this.props,re=n()("c-token",J,`c-token--${Ie}`,{"c-token--selected":ye,"c-token--disabled":Y,"c-token--invalid":w,"c-token--restricted":q,"c-token--error":G||ne||se,"c-token--unknown":ce,"c-token--loading":pe}),de=this.renderContent();let oe=de;Se&&de?oe=t.createElement(C.Ay,{tip:Se},de):Ee&&te&&(oe=(0,M.yN)({...$||{},memberId:Ee,children:de}));const De=this.props.renderIcon(this.props);return t.createElement("span",{className:re,"data-id":this.props["data-id"],"data-qa":this.props["data-qa"],tabIndex:le,contentEditable:X,onMouseDown:z},t.createElement("span",{className:"c-token__content","data-qa":"token_content"},oe),De)}},"Token");x.defaultProps={"data-qa":"select_token",isDisabled:!1,isInvalid:!1,isError:!1,isUnknown:!1,isLoading:!1,isSelected:!1,size:f.hu.MEDIUM,renderIcon:r.A,forceRealName:!1,contentEditable:!1,channelHasNonUniqueName:!1},x.displayName="Token";const B=m((V,Y)=>{const{entityId:w,disableIdParsing:G}=Y;let Ee;(0,b.A)(w)&&!G&&(Ee=w);let ne,se;if(((0,O.Ay)(w)||(0,O.JV)(w))&&!G){const Se=(0,R._J)(V,w);Se&&(ne=w,se=(0,d.F1)(Se))}let ce;(0,S.A)(w)&&!G&&(ce=(0,K.xe)(V,w));let pe;(0,L.A)(w)&&!G&&(pe=w);const ye=G?void 0:(0,N.OL)(V,w);let Ie;if((0,P.A)(w)&&ye){const Se=(0,N.MS)(V);Ie=(0,E.i)(Se,ye)}return{channel:ye,memberId:Ee,teamName:se,teamId:ne,userGroupId:pe,channelSection:ce,channelHasNonUniqueName:Ie}},"mapStateToProps"),F=(0,y.nM)((0,k.N)(B,null)(x))},5184226701:(W,T,e)=>{"use strict";e.d(T,{BD:()=>t,Cz:()=>r,LH:()=>u,LX:()=>i,T0:()=>s,UC:()=>n});const t={SharedChannel:"shared_channel",SingleChannelGuest:"ultra_restricted",MultiChannelGuest:"restricted",Member:"regular",ExternalSharedWorkspaceMember:"external_shared_workspace_member"},s={User:"user_invite",UserGroup:"user_group_invite",Email:"email_invite",Member:"member"},n={OpenConfirmationScreen:"add_to_channel_open_confirmation_screen"},r={OpenInviteTypeExternal:"comprehensible_invites_open_invite_type_external",InviteTypeExternalDefaultActionDisallowed:"comprehensible_invites_invite_type_external_default_action_disallowed",OpenSharedChannelNoteExternal:"comprehensible_invites_open_shared_channel_note_external",OpenSharedChannelExternalLimitedExternal:"comprehensible_invites_open_shared_channel_external_limited_external",OpenInviteTypeInternal:"comprehensible_invites_open_invite_type_internal",InviteTypeInternalDefaultActionDisallowed:"comprehensible_invites_invite_type_internal_default_action_disallowed",OpenSharedChannelNoteInternal:"comprehensible_invites_open_shared_channel_note_internal",OpenSharedChannelExternalLimitedInternal:"comprehensible_invites_open_shared_channel_external_limited_internal"};class u{constructor(a){this.ok=a.ok,this.invitee=a.email,this.inviteeType=s.Email,this.accessType=a.inviteType||t.Member,this.error=a.error,this.expirationTs=a.expiration_ts}}m(u,"InviteResult");function i(o){return o===t.Member||o===t.MultiChannelGuest||o===t.SingleChannelGuest}m(i,"isBaseInviteType")},9536443280:(W,T,e)=>{"use strict";e.d(T,{D:()=>t});var t;(function(s){s[s.available=0]="available",s[s.processing=1]="processing",s[s.none=2]="none"})(t||(t={}))},8178126019:(W,T,e)=>{"use strict";e.d(T,{Ao:()=>i.k,FQ:()=>u.q,IU:()=>a,Jg:()=>n.G,RW:()=>s.jB,YB:()=>l,fe:()=>t.T,iV:()=>_,mF:()=>r.I,on:()=>o,qU:()=>s.Sv});var t=e(1614054140),s=e(4349526263),n=e(5216556985),r=e(8485081141),u=e(6515569951),i=e(2164700852);const o={Generic:"generic",InternalInviteNotMember:"internal_not_member",InternalInviteNotMemberCanRequest:"internal_not_member_can_request",InternalInviteNoAccess:"internal_no_access",InternalInviteWasPreviouslyConnected:"internal_was_previously_connected",InternalInviteWasPreviouslyConnectedButNotMember:"internal_was_previously_connected_but_not_member",InvalidRecipientTeam:"invalid_recipient_team"};function a(p){return!!p&&!!p.channel}m(a,"isSharedChannelInvite");function _(p){return!!p&&!a(p)&&!l(p)}m(_,"isDirectMessageInvite");function l(p){return!!p&&!!p.shared_workspace}m(l,"isSharedWorkspaceInvite")},266169032:(W,T,e)=>{"use strict";e.d(T,{M:()=>t});const t={shareChannelCreate:"share_channel_create",channelInviteModal:"channel_invite_modal",scdmFreeStartTrialBanner:"scdm_free_start_trial_banner",messageLimitTrialOfferModal:"message_limit_trial_offer_modal",huddlesTrialEntryPointModal:"huddles_trial_entry_point_modal",slackConnectTrialEntryPointModal:"slack_connect_trial_entry_point_modal",canvasTrialOfferModal:"canvas_trial_offer_modal"}},7712314707:(W,T,e)=>{"use strict";e.d(T,{V:()=>n});var t=e(8389327410);const{BROADCAST:s}=t.Lv,n=m(r=>{var u;return((u=r)===null||u===void 0?void 0:u.type)===s},"isRichTextBroadcastElement")},475043867:(W,T,e)=>{"use strict";e.d(T,{P:()=>n});var t=e(8389327410);const{CHANNEL:s}=t.Lv,n=m(r=>{var u;return((u=r)===null||u===void 0?void 0:u.type)===s},"isRichTextChannelElement")},1843207890:(W,T,e)=>{"use strict";e.d(T,{i:()=>n});var t=e(8389327410);const{DATE:s}=t.Lv,n=m(r=>{var u;return((u=r)===null||u===void 0?void 0:u.type)===s},"isRichTextDateElement")},6659965705:(W,T,e)=>{"use strict";e.d(T,{H:()=>n});var t=e(8389327410);const{USER:s}=t.Lv,n=m(r=>{var u;return((u=r)===null||u===void 0?void 0:u.type)===s},"isRichTextUserElement")},9413477854:(W,T,e)=>{"use strict";e.d(T,{G:()=>n});var t=e(8389327410);const{USERGROUP:s}=t.Lv,n=m(r=>{var u;return((u=r)===null||u===void 0?void 0:u.type)===s},"isRichTextUsergroupElement")},1305633231:(W,T,e)=>{"use strict";e.d(T,{A:()=>X});var t=e(6696292586),s=e(498506970),n=e(3574134525),r=e(8389327410),u=e(5577180258),i=e(3037015781),o=e(1407713935),a=e(8920264989),_=e(6495946979),l=e(4282439381),p=e(6795568989),g=e(2647703359),c=e(9262712126),E=e(5082930587),A=e(8983164438),d=e(6188550180);function v(J){if(J<=0)return"";let z="",te=J;for(;te>0;)te-=1,z=String.fromCharCode("a".charCodeAt(0)+te%26)+z,te=Math.floor(te/26);return z}m(v,"convertNumberToLetterIncrement");const h=["","c","cc","ccc","cd","d","dc","dcc","dccc","cm","","x","xx","xxx","xl","l","lx","lxx","lxxx","xc","","i","ii","iii","iv","v","vi","vii","viii","ix"];function f(J){if(J<=0)return"";const z=J.toString().split("");let te="";for(let re=2;re>=0;re--){const de=parseInt(z.pop()||"0",10);te=(h[de+re*10]||"")+te}const $=z.join("")||"0",q=parseInt($,10)+1;return Array(q).join("m")+te}m(f,"convertNumberToRomanNumeral");var y=e(6954805277),I=e(2756015265),C=e(8525228540),D=e(5822647621),M=e(3903956190),P=e(3625342988),S=e(3695531806),b=e(735940183),O=e(9907843289),L=e(8847766420),k=e(9101533895),K=e(937317117),N=e(8276911661),R=e(1835177371);const U=new b.A("channel_token"),x=m((J,z)=>z.text||"","textToText"),B=m((J,z)=>`@${z.range}`,"broadcastToText"),F=m((J,z)=>z.value||"","colorToText"),V=m((J,z,te)=>{let{linkFormat:$}=te;const{text:q="",url:re=""}=z;if(!q&&!re)return"";if(!q)return re;switch($){case"default":return q;case"prefer_url":return re;case"bracket":return`[ ${q}: ${re} ]`;case"phrase":return`[ ${q} (${U.t("link",{fallbackHash:"4f0aa52d656a3d75867f784b7e9c5d23bf1321c0",fallbackHashNs:"search"})})]`;default:(0,E.Kh)($)}},"linkToText"),Y=m((J,z)=>{const te=(0,N.nv)(J,z.user_id);return`@${(0,c.Gt)(te)||z.user_id}`},"userToText"),w=m((J,z)=>{const te=(0,R.lJ)(J,z.usergroup_id);if(te===!1)return(0,M.k)({userGroupHandle:"",isUnknown:!0,isNonExistent:!0});const $=(0,i.lv)(te);var q;return(0,M.k)({userGroupHandle:$?"":(q=te.handle)!==null&&q!==void 0?q:"",isUnknown:(0,i.mX)(te),isNonExistent:(0,i.lv)(te)})},"userGroupToText"),G=m((J,z)=>{const te=(0,k.OL)(J,z.channel_id);var $;const q=($=(0,a.SB)(J,te,{publicChannelIncludeHashSign:!1,imIncludeAtSign:!1}))!==null&&$!==void 0?$:"",re=(0,i.mX)(te),de=(0,i.lv)(te),oe=(0,o.Zp)(te),De=(0,_.bl)(te);return de||oe&&!De?`#${U.t("private-channel")}`:(0,D.A)({channelName:q,isUnknown:re,isNonExistent:de})},"channelToText"),Ee=m((J,z,te)=>{let{convertEmoji:$}=te;const q=(0,d.A)(z,{state:J,localize:!1}),re=(0,C.bR)({state:J,locale:(0,O.Yp)(),name:q});return $==="phrase"?(0,I.A)(re||"",{state:J})||"":$==="unicode"&&(z!=null&&z.unicode)&&(0,p.d)(z.unicode)?(0,S.z)({codePointLikeString:z.unicode})||"":$==="unicode"&&!(z!=null&&z.unicode)?(0,P.A)(J,{messageText:q,teamId:(0,L.ZT)(J)}):re??""},"emojiToText"),ne=m((J,z)=>{const te=(0,K.Lp)(J,z.file_id);return(0,g.SB)(te)||z.file_id},"fileToText"),se=m((J,z,te)=>{let{convertEmoji:$}=te;const q=(0,d.A)({...z,type:r.Lv.EMOJI},{state:J,localize:!1}),re=(0,C.bR)({state:J,locale:(0,O.Yp)(),name:q});if($==="phrase"){var de;return(de=(0,I.U)(re||"",z.size||0,{state:J}))!==null&&de!==void 0?de:""}var oe;const De=(oe=$==="unicode"?(0,P.A)(J,{messageText:q,teamId:(0,L.ZT)(J)}):re)!==null&&oe!==void 0?oe:"";return(0,l.x)(J)?U.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:De,size:z.size}):`${z.size} ${De} emojis`},"emojiGroupToText"),ce=m((J,z)=>!z.timestamp&&z.fallback?z.fallback:(0,y.Yq)(z.timestamp,z.format,{...z.fallback&&{fallbackString:z.fallback}}),"dateToText"),pe=m((J,z)=>{let te;return Object.values(J.workflowBuilder.workflowEditor.workflowsById).find($=>{const q=$.variables.list;return te=(0,n.x)(q,z.id),te}),te?`@${te.label}`:z.id},"workflowTokenToText"),ye={[r.Lv.TEXT]:x,[r.Lv.USER]:Y,[r.Lv.USERGROUP]:w,[r.Lv.CHANNEL]:G,[r.Lv.BROADCAST]:B,[r.Lv.DATE]:ce,[r.Lv.COLOR]:F,[r.Lv.LINK]:V,[r.Lv.EMOJI]:Ee,[r.Lv.FILE]:ne,[r.Lv.CANVAS]:ne,[r.Lv._EMOJI_GROUP]:se,[r.Lv.WORKFLOWTOKEN]:pe};function Ie(J){let{indent:z}=J;return!(0,t.A)(z)||z%3===0?"\u2022":z%3===1?"\u25E6":z%3===2?"\u25A0":"\u2022"}m(Ie,"getUnorderedListCharacter");function Se(J){let{indent:z,incr:te}=J;return!(0,t.A)(z)||z%3===0?te:z%3===1?v(te):z%3===2?f(te):te}m(Se,"getOrderedListCharacter");function le(J,z){return(0,l.x)(J)?(0,u.A)((0,s.A)(z)):z}m(le,"maybeGroupEmojies");function X(J,z){let{convertEmoji:te="text",linkFormat:$="default"}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!z||!z.length)return"";const q=m(oe=>{if(!oe||!oe.elements)return"";const De=[];return oe.elements.forEach(ae=>{if(!ae||!ae.type)return;const Z=ye[ae.type];var ie;const Ce=(ie=Z==null?void 0:Z(J,ae,{convertEmoji:te,linkFormat:$}))!==null&&ie!==void 0?ie:"";De.push(Ce)}),De.join("")},"convertSection"),re=[];return le(J,z[0].elements).forEach(oe=>{if(!(!oe||!oe.type))if((0,A.C)(oe)){const De=oe.offset||0,ae=oe.indent||0;let Z=1+De;oe.elements.forEach(ie=>{const Ce=q(ie);if(oe.style==="ordered"){const Re=Se({indent:ae,incr:Z});re.push(`${Re}. ${Ce}.`),Z+=1}else{const Re=Ie({indent:ae});re.push(`${Re} ${Ce}.`)}})}else re.push(q(oe))}),re.join(`
`)}m(X,"convertRichTextToPlainText")},6188550180:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(8389327410),s=e(6795568989),n=e(8525228540),r=e(9907843289),u=e(3829348308);function i(o,a){let{state:_,localize:l}=a;if(!o||o.type!==t.Lv.EMOJI)return"";const p=o.skinTone||o.skin_tone,g=o.unicode;let c;return!g&&p?c=`:${o.name}::skin-tone-${p}:`:!p&&!g?c=`:${o.name}:`:g&&(0,s.d)(g)&&(c=`:${(0,u.qJ)(_,g)}:`),l?(0,n.bR)({state:_,locale:(0,r.Yp)(),name:c})||"":c}m(i,"getEmojiElementAsText")},9802930866:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(7715417323),s=e(8389327410);function n(r){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return r?r.reduce((o,a)=>{if(a.type===s.Lv.LIST){const l=(a.elements||[]).map(p=>p.elements.reduce((g,c)=>i(g,c),u));return o.concat(l)}const _=(a.elements||[]).reduce((l,p)=>i(l,p),u);return o.concat([_])},[]):[]}m(n,"richTextChunkReduce")},411655882:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(362134992),s=e(9671714094),n=e(8933111773);function r(){return(0,t.A)(Object.entries(s.N).filter(u=>{let[i,o]=u;return o.is_enabled_by_default}).map(u=>{let[i,o]=u;return(0,n.A)(i)}))}m(r,"getAllBroadcastKeywords")},2229186:(W,T,e)=>{"use strict";e.d(T,{A:()=>E});var t=e(362134992),s=e(9548888903),n=e(2233365467),r=e(9280052135),u=e(1407713935),i=e(8920264989),o=e(6113051341),a=e(2350349607),_=e(324756633),l=e(641827819),p=e(8933111773),g=e(7582939986),c=e(9101533895);function E(A,d){const v=(0,c.OL)(A,d),h=(0,r.l)(A);if(!v)return[];const f=[];if((0,l.W)(A,d)&&f.push((0,p.A)("BKeveryone")),((0,a.V)(v)||(0,u.yz)(v))&&(!(0,o.N)(v)||(0,l.W)(A,d))&&(0,_.S)(A,d)&&(f.push((0,p.A)("BKchannel")),f.push((0,p.A)("BKhere"))),(0,u.U_)(v))switch((0,n.dM)(v)){case s.hM.Account:f.push((0,p.A)("BKsf:accountteam",(0,i.SB)(A,v),!0));break;case s.hM.Opportunity:f.push((0,p.A)("BKsf:dealteam",(0,i.SB)(A,v),!0));break;default:break}if(h){const y=(0,c.Pu)(A,g.Q$);(v==null?void 0:v.id)===(y==null?void 0:y.id)&&f.push((0,p.A)("BKassistant:einstein",null,!1,!0))}return(0,t.A)(f)}m(E,"getBroadcastKeywordsForUser")},3342113153:(W,T,e)=>{"use strict";e.d(T,{Kx:()=>g,Zo:()=>E,_E:()=>A,cv:()=>c,e3:()=>p,gi:()=>a,zU:()=>_});var t=e(5605150493),s=e(735940183),n=e(9101533895),r=e(4761125736),u=e(8276911661),i=e(1835177371);const o=new s.A("channel_modal"),a={hasNameRequiredWarning:!1,hasMaxLengthWarning:!1,hasSpecialsWarning:!1,hasPunctuationWarning:!1,hasNameTakenWarning:!1,hasUnknownWarning:!1,hasRestriction:!1};function _(){return 80}m(_,"getMaxLength");const l=/[ .,;'`~!@#$%^&*+=)(\\/:"<>?|\u2018\u2019{}[\]]/;function p(d){return d?l.test(d.trim()):!1}m(p,"hasSpecialCharacters");function g(d){return d?d.replace(new RegExp(l,"g"),""):""}m(g,"replaceSpecialCharacters");function c(d){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v,f=arguments.length>3&&arguments[3]!==void 0?arguments[3]:80,y=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const I=!v.trim(),C=(0,t.A)(v)>f,D=p(v),M=/^[-|_]+$/.test(v),P=/[A-Z]/.test(v);let S=!1;return v!==h&&d&&!y&&(S=!!((0,n.Os)(d,v)||(0,u.MV)(d,v)||(0,i.xw)(d,v))),{hasNameRequiredWarning:I,hasMaxLengthWarning:C,hasSpecialsWarning:D,hasPunctuationWarning:M,hasLowercaseWarning:P,hasNameTakenWarning:S}}m(c,"channelNameValidation");function E(d){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{maxChannelNameLength:h,workspaceName:f,experimentFriendlyChannelNamesGroupOn:y}=v;if(d){if(d.hasNameRequiredWarning)return o.t("Give your channel a name to continue. You can always change the name later.");if(d.hasMaxLengthWarning)return o.t("Channel names can\u2019t be longer than {maxLength} characters.",{maxLength:h,fallbackHash:"127ff0ed3a8e172f76150b0968fc50ca66bb01f0",fallbackHashNs:"ui_validation"});if(d.hasSpecialsWarning)return y?o.t("Channel names can\u2019t contain the punctuation you included."):o.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(d.hasPunctuationWarning)return o.t("Channel names can\u2019t contain spaces or punctuation. Use dashes to separate words.");if(d.hasNameTakenWarning)return f?o.t("That name is already taken by a channel, username, or user group in {workspaceName}.",{workspaceName:f,fallbackHash:"2be2d42952863ce22e9194e94d15cd3eea63bbcc",fallbackHashNs:"ui_validation"}):o.t("That name is already taken by a channel, username, or user group in this workspace.");if(d.hasRestriction)return o.t("Your organization\u2019s settings have changed and may limit who can create channels. Contact an Admin or channel Owner to add people.");if(d.hasUnknownWarning)return o.t("For some weird reason, that didn\u2019t work. Please try again to continue.")}}m(E,"getErrorStringFromChannelNameErrors");const A=m(d=>(0,r._Z)(d,"friendly_channel_names")==="on","isFriendlyChannelNamesEnabled")},755982243:(W,T,e)=>{"use strict";e.d(T,{w:()=>n});var t=e(3193155968);function s(r){var u;return(u=r.ownerDocument)===null||u===void 0?void 0:u.defaultView}m(s,"getWindowForElement");function n(r){return!t.TQ.includes(r)}m(n,"shouldViewNavigateInContext")},1236965385:(W,T,e)=>{"use strict";e.d(T,{$A:()=>i,ce:()=>u,hO:()=>n});var t=e(3134334389),s=e(1224315998);const n=m(o=>({action:s.UiAction.IMPRESSION,uiPage:window.location.href,...o}),"getAuthImpressionTrackParams"),r=m(o=>({action:s.UiAction.CLICK,uiPage:window.location.href,...o}),"getAuthClickTrackParams"),u=m(o=>({uiPage:window.location.href,...o}),"getAuthTrackParams");function i(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;const a=(0,t.useRef)(null),_=(0,t.useCallback)(g=>c=>{if(a.current={track:c},o){var E;a==null||(E=a.current)===null||E===void 0||E.track(n(g))}},[a,o]),l=(0,t.useCallback)(g=>()=>{var c;a==null||(c=a.current)===null||c===void 0||c.track(r(g))},[a]),p=(0,t.useCallback)(g=>()=>{var c;a==null||(c=a.current)===null||c===void 0||c.track(u(g))},[a]);return{trackClog:a,trackClogAuthRef:_,clogAuthLoginClick:l,clogAuthLoginAction:p}}m(i,"useAuthClogger")},3170230049:(W,T,e)=>{"use strict";e.d(T,{e:()=>s});var t=e(56548687);function s(n){return(0,t.e)({state:n})}m(s,"getClogger")},6089229811:(W,T,e)=>{"use strict";e.d(T,{LC:()=>s,av:()=>n,ev:()=>t});const t={NONE:"none",OPTIONAL_ID_ONLY:"optional_id_only",EXTENSIVE:"extensive",OPTIONAL_AND_REGIONAL_IDS:"optional_and_regional_ids"},s={AE_TRN:"ae_trn",AU_ABN:"au_abn",CA_BN:"ca_bn",CA_GST_HST:"ca_gst_hst",CA_QST:"ca_qst",CH_VAT:"ch_vat",CL_TIN:"cl_tin",ES_CIF:"es_cif",EU_VAT:"eu_vat",GE_VAT:"ge_vat",HK_BR:"hk_br",ID_NPWP:"id_npwp",IN_GST:"in_gst",JP_CN:"jp_cn",KR_BRN:"kr_brn",MX_RFC:"mx_rfc",MY_ITN:"my_itn",MY_SST:"my_sst",NO_VAT:"no_vat",NZ_GST:"nz_gst",RU_INN:"ru_inn",SA_VAT:"sa_vat",SG_GST:"sg_gst",SG_UEN:"sg_uen",TH_VAT:"th_vat",TR_TIN:"tr_tin",TW_VAT:"tw_vat",UNKNOWN:"unknown",ZA_VAT:"za_vat",UA_VAT:"ua_vat",KE_PIN:"ke_pin",EG_TIN:"eg_tin"},n=20},3246555800:(W,T,e)=>{"use strict";e.d(T,{FL:()=>o,HC:()=>E,Je:()=>g,KV:()=>A,L$:()=>_,P7:()=>p,RL:()=>l,Y3:()=>u,b6:()=>a,jM:()=>d,zb:()=>i});var t=e(8086952004),s=e(6089229811);function n(v,h,f,y){if(f&&y){var I,C;return v==null||(I=v[h])===null||I===void 0||(C=I.regional_overrides)===null||C===void 0?void 0:C[f]}return v==null?void 0:v[h]}m(n,"getTaxConfig");function r(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=n(v,h,f,y);var C;return(C=I==null?void 0:I.tax_id_form_variant)!==null&&C!==void 0?C:s.ev.NONE}m(r,"getTaxUiFormType");function u(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return r(v,h,f,y)===s.ev.EXTENSIVE}m(u,"shouldShowMultipartTaxUI");function i(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=r(v,h,f,y);return I===s.ev.EXTENSIVE||I===s.ev.OPTIONAL_ID_ONLY||I===s.ev.OPTIONAL_AND_REGIONAL_IDS}m(i,"shouldShowTaxIdInputField");function o(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;return r(v,h,f,y)===s.ev.OPTIONAL_AND_REGIONAL_IDS}m(o,"shouldCollectRegionalTaxId");function a(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=r(v,h,f,y);return I===s.ev.OPTIONAL_ID_ONLY||I===s.ev.OPTIONAL_AND_REGIONAL_IDS}m(a,"isTaxIdOptional");function _(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=n(v,h,f,y);var C;return(C=I==null?void 0:I.stripe_tax_id_type)!==null&&C!==void 0?C:null}m(_,"getTaxIdType");function l(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=n(v,h,f,y);return I==null?void 0:I.tax_name}m(l,"getTaxName");function p(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=n(v,h,f,y);var C;const D=(C=I==null?void 0:I.tax_id_max_length)!==null&&C!==void 0?C:0;return Number.isInteger(D)&&D>0?D:s.av}m(p,"getTaxIdMaxLength");function g(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=n(v,h,f,y);var C;const D=(C=I==null?void 0:I.tax_id_examples)!==null&&C!==void 0?C:[];var M;return(M=D[0])!==null&&M!==void 0?M:""}m(g,"getTaxIdExample");function c(v,h,f,y){var I;const C=n(v,h,f,y),D=C==null||(I=C.tax_id_validation_regex)===null||I===void 0?void 0:I.replace(/\//g,"");return D?new RegExp(D,"i"):null}m(c,"getTaxIdValidator");function E(v,h,f,y){let I=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const C=c(v,h,f,I);return!C||!y&&a(v,h,f,I)?!0:y&&C?C.test(y):!1}m(E,"isTaxIdValid");function A(v,h,f){let y=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;const I=n(v,h,f,y);return!!(I!=null&&I.should_ask_is_vat_registered)}m(A,"shouldAskIsVatRegistered");function d(v,h){return(0,t.A)(v,f=>f.iso_code===h)}m(d,"getCountryByCode")},9702400417:(W,T,e)=>{"use strict";e.d(T,{A:()=>i,Q:()=>u});var t=e(9907843289),s=e(4452574402);const n={USD:{"fr-FR":{string:"dollar des \xC9tats-Unis",correction:"dollar am\xE9ricain"},"pt-BR":{string:"D\xF3lar",correction:"d\xF3lar"},"zh-CN":{string:"\u7F8E\u5143",correction:"USD \u7F8E\u5143"}},JPY:{"pt-BR":{string:"Iene",correction:"iene"},"zh-CN":{string:"\u65E5\u5143",correction:"JPY \u65E5\u5143"}},EUR:{"pt-BR":{string:"Euro",correction:"euro"},"zh-CN":{string:"\u6B27\u5143",correction:"EUR \u6B27\u5143"}},GBP:{"zh-CN":{string:"\u82F1\u9551",correction:"GBP \u82F1\u9551"},"ko-KR":{string:"\uC601\uAD6D \uD30C\uC6B4\uB4DC",correction:"\uC601\uAD6D\uB839 \uD30C\uC6B4\uB4DC \uC2A4\uD138\uB9C1"}}};function r(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,a=arguments.length>1?arguments[1]:void 0,{displayTrailingZeroes:_=!1,currencyDisplay:l="symbol",renderCurrencyText:p=!1,minimumFractionDigits:g=0}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!a)return;const c=(0,t.Yp)(),E={coerce:!0,style:"currency",currency:a,currencyDisplay:l};if(o%100===0&&!_?E.minimumFractionDigits=0:g&&(E.minimumFractionDigits=g),p){E.minimumFractionDigits=0,E.currencyDisplay="name";const d=/\d+(\s)|\d/g,v=(0,s.ZV)(0,c,E).replace(d,""),h=n[a];if(h&&h[c]){const{string:f,correction:y}=h[c];return v.replace(f,y)}return v}let A=(0,s.ZV)(o,c,E);if(a==="USD")switch(c){case"en-US":A+=" USD";break;case"en-GB":A=A.replace("US$","$US");break;case"fr-FR":A=A.replace("$US","$\xA0US");break;case"ja-JP":A=A.replace("$","US$");break;case"de-DE":A=A.replace("$","USD");break;case"es-ES":A=A.replace("US$","USD");break;case"es-LA":break;case"it-IT":A=A.replace("USD","$");break;case"zh-CN":A=A.replace("US$","$");break;default:break}else a==="GBP"&&c==="ko-KR"?A=`${A.replace("\xA3","")}\uD30C\uC6B4\uB4DC`:(a==="JPY"&&c==="it-IT"||c==="fr-FR")&&(A=A.replace("JPY","\xA5"));if(c==="zh-TW")switch(a){case"USD":A=A.substring(3),A+=" \u7F8E\u5143";break;case"EUR":A=A.substring(1),A+=" \u6B50\u5143";break;case"GBP":A=A.substring(1),A+=" \u82F1\u938A";break;case"JPY":A=A.substring(1),A+=" \u65E5\u5713";break;default:break}return A}m(r,"formatCurrency");const u=m(o=>{var a;const _=(0,t.Yp)(),l=(0,s.Zi)(_,{style:"currency",currency:o}).formatToParts(0);var p;return(p=(a=l==null?void 0:l.find(g=>(g==null?void 0:g.type)==="currency"))===null||a===void 0?void 0:a.value)!==null&&p!==void 0?p:null},"getCurrencySymbol"),i=r},3044566667:(W,T,e)=>{"use strict";e.d(T,{gy:()=>s,tN:()=>n,zQ:()=>t});const t={EMPTY:"empty",INVALID:"invalid",INVALID_DOMAIN:"invalid_domain",TOO_MANY:"too_many"},s="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",n={EMAIL:new RegExp(`^${s}$`,"i"),CONTAINS_EMAIL:new RegExp(`${s}`,"i"),DOMAIN:/^@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i}},2756015265:(W,T,e)=>{"use strict";e.d(T,{A:()=>l,U:()=>_});var t=e(6845144532),s=e(4282439381),n=e(8525228540),r=e(5799716058),u=e(735940183),i=e(9907843289);const o=new u.A("emoji");function a(p,g){const c=(0,i.Yp)();return(0,n.WX)({state:p,locale:c,text:g})}m(a,"getLocalizedEmojiName");function _(p,g,c){let{state:E}=c;const A=a(E,p),d=(0,s.x)(E),v=A&&(0,r.Y)(A,g,d);if(A){const h=(0,t.F)().getLocaleForLastViewedTeam();return(0,i.DU)(h)?v:` ${v} `}return d?o.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:p,size:g}):`${g} ${p} emojis`}m(_,"convertEmojiGroupNameToPhrase");function l(p,g){let{state:c}=g;const E=a(c,p),A=E&&(0,r.A)(E);if(E){const d=(0,t.F)().getLocaleForLastViewedTeam();return(0,i.DU)(d)?A:` ${A} `}return p}m(l,"convertEmojiNameToPhrase")},6818330210:(W,T,e)=>{"use strict";e.d(T,{H:()=>n});var t=e(9113979368),s=e(9936232041);function n(r,u){if(!u||(0,t.A)(u))return{name:r};const i=(0,s.A)(r);if(!i)return{name:r};const{name:o,skinTone:a}=i,_=u[o];if(!_||(0,t.A)(_))return{name:r};const l=_.display_alias,p=l??o,g=a?`:${p}::skin-tone-${a}:`:`:${p}:`,c=_.display_url;return{name:g,url:c}}m(n,"getEmojiDisplayInfoFromMap")},2354051480:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(7582939986);let s;const n=m(()=>{if(s)return s;const r=Object.keys(t.dq).map(u=>u.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"));return s=new RegExp(`(^|\\s)(${r.join("|")})(?=$|[\\s|\\?\\.,!])`,"g"),s},"__WEBPACK_DEFAULT_EXPORT__")},7854655276:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3078252698),s=e(735940183);const n=new s.A("emoji");function r(u){const i=(0,t.A)(u)?u:u.toString(),o={1:()=>n.t("No skin tone"),2:()=>n.t("light skin tone"),3:()=>n.t("medium-light skin tone"),4:()=>n.t("medium skin tone"),5:()=>n.t("medium-dark skin tone"),6:()=>n.t("dark skin tone")},a={"2-3":()=>n.t("left light skin tone and right medium-light skin tone"),"2-4":()=>n.t("left light skin tone and right medium skin tone"),"2-5":()=>n.t("left light skin tone and right medium-dark skin tone"),"2-6":()=>n.t("left light skin tone and right dark skin tone"),"3-2":()=>n.t("left medium-light skin tone and right light skin tone"),"3-4":()=>n.t("left medium-light skin tone and right medium skin tone"),"3-5":()=>n.t("left medium-light skin tone and right medium-dark skin tone"),"3-6":()=>n.t("left medium-light skin tone and right dark skin tone"),"4-2":()=>n.t("left medium skin tone and right light skin tone"),"4-3":()=>n.t("left medium skin tone and right medium-light skin tone"),"4-5":()=>n.t("left medium skin tone and right medium-dark skin tone"),"4-6":()=>n.t("left medium skin tone and right dark skin tone"),"5-2":()=>n.t("left medium-dark skin tone and right light skin tone"),"5-3":()=>n.t("left medium-dark skin tone and right medium-light skin tone"),"5-4":()=>n.t("left medium-dark skin tone and right medium skin tone"),"5-6":()=>n.t("left medium-dark skin tone and right dark skin tone"),"6-2":()=>n.t("left dark skin tone and right light skin tone"),"6-3":()=>n.t("left dark skin tone and right medium-light skin tone"),"6-4":()=>n.t("left dark skin tone and right medium skin tone"),"6-5":()=>n.t("left dark skin tone and right medium-dark skin tone")},_=a[i]?a[i]():null;return _||o[i]&&o[i]()}m(r,"__WEBPACK_DEFAULT_EXPORT__")},1301184890:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(6533394955),s=e(3829348308);function n(r,u){const i=u&&(0,t.$D)(u);return i&&(0,s.ux)(i,{text:r,teamId:u})?i&&(0,s.pA)(i,{text:r,teamId:u}):new Error(`invalid emojiName passed to isEmojiMultiSkinToneCapable: ${r}`)}m(n,"isEmojiMultiSkinToneCapable")},5799716058:(W,T,e)=>{"use strict";e.d(T,{A:()=>o,Y:()=>i});var t=e(7854655276),s=e(9936232041),n=e(735940183);const r=/_|-/g,u=new n.A("emoji"),i=m(function(a,_){let l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(!a||!_)return null;const{name:p,skinTone:g}=(0,s.A)(a)||{};if(!p)return l?u.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:a,size:_}):`${_} ${a} emojis`;const c=p.replace(r," "),E=l?u.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}}",{emojiName:c,size:_}):`${_} ${c} emojis`;if(!g)return E;const A=(0,t.A)(g);return A===""?E:l?u.t("{size} {emojiName} {size, plural, =1 {emoji} other {emojis}} with {skinToneDescription}",{emojiName:c,size:_,skinToneDescription:A}):`${_} ${c} emojis with ${A}`},"makePhraseForEmojiGroup");function o(a){let _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!a)return a;const{name:l,skinTone:p}=(0,s.A)(a)||{};if(!l)return a;const g=l.replace(r," "),c=u.t("{emojiPhrase} emoji",{emojiPhrase:g});if(!p)return c===""?g:c;const E=(0,t.A)(p);return E===""?c===""?g:c:_?u.t("React with {emojiPhrase} emoji {skinToneDescription}",{emojiPhrase:g,skinToneDescription:E}):u.t("{emojiPhrase} emoji with {skinToneDescription}",{emojiPhrase:g,skinToneDescription:E})}m(o,"__WEBPACK_DEFAULT_EXPORT__")},3259512346:(W,T,e)=>{"use strict";e.d(T,{s:()=>n});var t=e(4094753332),s=e(6089972488);function n(r){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window.process&&window.process.versions&&window.process.versions.electron,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:window.navigator.userAgent;if(!(0,t.y3)(i)||!u)return!1;const o=(0,s.P)(r),a=(0,s.P)(u);return(0,s.Z)(a,o)>=0}m(n,"isElectronAndAtLeastVersion")},1033764764:(W,T,e)=>{"use strict";e.d(T,{UK:()=>a,Z$:()=>r,hZ:()=>i});const t=["B","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=["B","kB","MB","GB","TB","PB","EB","ZB","YB"],n=m(function(l,p,g){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;if(l===0)return 0;if(p===g)return parseFloat(l.toFixed(c));const A=E?1024:1e3,d=E?t:s,v=d.findIndex(f=>f.toLowerCase()===p.toLowerCase()),h=d.findIndex(f=>f.toLowerCase()===g.toLowerCase());if(v===-1)throw new Error(`Unknown currentType '${p}' passed to convertToSize`);if(h===-1)throw new Error(`Unknown desiredType '${g}' passed to convertToSize`);return v<h?parseFloat((l/A**(h-v)).toFixed(c)):parseFloat((l*A**(v-h)).toFixed(c))},"convertToSize"),r=m(function(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"B",g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;if(l===0)return{size:0,type:"B"};const E=c?1024:1e3,A=c?t:s;let d=Math.log(l)/Math.log(E);d<1&&(d=-Math.floor(Math.log(Math.abs(d))/Math.log(10)+1));const v=A.findIndex(f=>f.toLowerCase()===p.toLowerCase()),h=Math.max(Math.min(v+Math.floor(d),A.length-1),0);if(v===-1)throw new Error(`Unknown currentType '${p}' passed to convertToSize`);return{size:n(l,p,A[h],g,c),type:A[h]}},"convertToOptimumSize"),u=m(function(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return n(l,"B","KB",p,!1)},"convertBytesToKilobytes"),i=m(function(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return n(l,"B","MB",p,!1)},"convertBytesToMegabytes"),o=m(function(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return n(l,"B","GB",p,!1)},"convertBytesToGigabytes"),a=m(function(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return n(l,"KB","MB",p,!1)},"convertKilobytesToMegabytes"),_=m(function(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return n(l,"KB","GB",p,!1)},"convertKilobytesToGigabytes")},887579008:(W,T,e)=>{"use strict";e.d(T,{A:()=>O});var t=e(6249041335),s=e(9599231336),n=e(7582939986),r=e(2354051480);const u=/[-[\]{}()*+?.,\\^$|#\s]/g,i=/\n?(6\)|7\))/,o=m(L=>{let k=0;const K=[];let N=L.replace((0,r.A)(),(R,U,x,B)=>{const F=k;k=B+R.length;const V=x.indexOf("(")!==-1,Y=x.indexOf(")")!==-1;if((V||Y)&&K.indexOf(x)===-1&&K.push(x),Y&&!V){const w=L.substring(F,B);if(w.indexOf("(")!==-1&&w.indexOf(")")===-1)return R}if(R===`
8)`){const w=L.substring(0,B);if(i.test(w))return R}return n.dq[x]?`${U}:${n.dq[x]}:`:R});if(K.length){const R=K.map(x=>x.replace(u,"\\$&")),U=new RegExp(`(\\(.+)(${R.join("|")})(.+\\))`,"g");N=N.replace(U,(x,B,F,V)=>n.dq[F]?`${B}:${n.dq[F]}:${V}`:x)}return N},"replace_emoticons_with_colons"),a=/(^|\n)>(?![\W_](?:<|>|[|/\\[\]{}()Dpb](?=\s|$)))(([^\n]*)(\n>[^\n]*)*)/g;function _(L){const k=[];let K=0;return{text:L.replace(a,R=>{K+=1;const U=`quoted-text-placeholder-${Date.now()}-${K}`;return k.push({match:R,placeholder:U}),U}),quotedSections:k}}m(_,"replaceQuotedText");var l=e(5342516244),p=e(1842363787),g=e(9907843289),c=e(9846149684),E=e(9974473728),A=e(8207536819),d=e(8040098042),v=e(4862221402),h=e(2414816894);function f(L){return(0,h.A)(L)?L.replace(/^BK/,""):""}m(f,"getBroadcastKeyword");var y=e(5003409852);function I(L,k,K){const N=[];return{text:L.replace(c.Y,(U,x,B)=>{let F;if((0,h.A)(x)?F=`<!${f(x)}>`:(0,y.A)(x)?F=k?(0,A.A)(B):B:(0,v.A)(x)?F=`<!subteam^${x}|${B}>`:(0,d.A)(x)?F=K?`<#${x}|${B.substr(1)}>`:void 0:F=`<@${x}>`,!F)return U;const Y=`mention-${N.length+1}-${Date.now()}`;return N.push({mention:F,placeholder:Y}),Y}),mentions:N}}m(I,"replaceFormatMentions");var C=e(3829348308),D=e(6866036454),M=e(1317368584),P=e(2047021170);const S=/(^|\s|\{|\[|\(|&gt;|&lt;|\*|_|\/|"|\u201C|\u2018|')#([^~`!@#$%^&*()+=[\]{}\\|;:'"\u201D\u2019,.<>/?\s]+)/g,b=/(^|\S)( +)(\n|$)/gm;function O(L,k){let{isInternalMessage:K}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!L||!k)return"";const N=!K,R=(0,M.A)(L),U=(0,P.ty)(L,"convert_emoticons"),x=(0,D.A)(L),B=(0,s.P)(L),F=!0;let V=k,Y=[];V=(0,l.A)(V),V=(0,p.kW)(Y,V,{replace_pre:!0,replace_code:!0});const w=I(V,N,F);if(V=w.text,V=V.replace(b,"$1$3"),U&&!B){const Ee=_(V);V=Ee.text,V=o(V),Ee.quotedSections.forEach(ne=>{V=V.replace(ne.placeholder,()=>ne.match)})}N&&(V=(0,p.wx)(V,"CLEAN",{jumbomoji:R,allow_intra_word_formatting:!0})),w.mentions.forEach(Ee=>{V=V.replace(Ee.placeholder,()=>Ee.mention)});const G=(0,C.CK)(L);return Y=Y.map(Ee=>{const ne={...Ee},se=(0,c.A)(ne.str,{highlightWords:x,shouldRenderEmojiAsText:B,emojiNames:G,locale:(0,g.Yp)(),useChannelTagging:F});return ne.str=(0,E.A)(se),N&&(ne.str=(0,p.wx)(ne.str,"CLEAN",{jumbomoji:R,allow_intra_word_formatting:!0})),ne}),V=(0,p.Ki)(Y,V),(0,t.A)(V)}m(O,"clean_message_text_with_state")},4173622771:(W,T,e)=>{"use strict";e.d(T,{Y:()=>n});var t=e(8933111773),s=e(770649013);function n(r){let{type:u,tsfMode:i="NORMAL"}=r;if(!u)return null;let o;return u==="group"?o="group":o=(0,s.A)((0,t.A)(`BK${u}`)),i==="EDIT"?`<@BK${u}|@${o}>`:`@${o}`}m(n,"formatBroadcastCommand")},3625342988:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(8509961938),s=e(3829348308);const r=m(function(u){let{messageText:i,teamId:o}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!i||!o)return"";const a=(0,t.A)();return i.replace(a,_=>{const l=(0,s.Zc)(u,{text:_,teamId:o});return l||_})},"replaceTextEmojiWithNative")},5342516244:(W,T,e)=>{"use strict";e.d(T,{A:()=>t});const t=m(s=>s?s.replace(/\u00A0/g," ").replace(/\u000D/g,`
`).replace(/\u000A/g,`
`):"","__WEBPACK_DEFAULT_EXPORT__")},3802883493:(W,T,e)=>{"use strict";e.d(T,{TU:()=>n});const t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",s=10;function n(l,p){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:s;if(l!==null&&_(l,g,c),p!==null&&_(p,g,c),l!==null&&p!==null&&l>=p)throw new Error(`${l} >= ${p}`);if(l===null){if(p===null){const I=5*10**(c-1);return o(I,c)}const y=i(p,c);return y.toString()<p&&p.slice(c+1)!==""?o(y,c):o(y-1,c)}if(p===null){const y=i(l,c);return o(y+1,c)}const E=i(l,c),A=i(p,c),d=l.slice(c+1),v=p.slice(c+1);if(E===A){const y=u(d,v,g);return`${o(E,c)}.${y}`}const h=E+1;if(h<A)return o(h,c);const f=u(d,null,g);return`${o(E,c)}.${f}`}m(n,"generateKeyBetween");function r(l,p,g){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,E=arguments.length>4&&arguments[4]!==void 0?arguments[4]:s;if(g===0)return[];if(g===1)return[n(l,p,c,E)];if(p===null){let v=n(l,p,c,E);const h=[v];for(let f=0;f<g-1;f++)v=n(v,p,c,E),h.push(v);return h}if(l===null){let v=n(l,p,c,E);const h=[v];for(let f=0;f<g-1;f++)v=n(l,v,c,E),h.push(v);return h.reverse(),h}const A=Math.floor(g/2),d=n(l,p,c,E);return[...r(l,d,A,c,E),d,...r(d,p,g-A-1,c,E)]}m(r,"generateNKeysBetween");function u(l,p,g){const c=g[0];if(p!==null&&l>=p)throw new Error(`${l} >= ${p}`);if(l.slice(-1)===c||p&&p.slice(-1)===c)throw new Error("trailing zero");if(p){let d=0;for(;(l[d]||c)===p[d];)d+=1;if(d>0)return p.slice(0,d)+u(l.slice(d),p.slice(d),g)}const E=l?g.indexOf(l[0]):0,A=p!==null?g.indexOf(p[0]):g.length;if(A-E>1){const d=Math.round(.5*(E+A));return g[d]}return p&&p.length>1?p.slice(0,1):g[E]+u(l.slice(1),null,g)}m(u,"midpoint");function i(l,p){const g=l.slice(0,p);return Number(g)}m(i,"getIntegerPart");function o(l,p){if(l>=10**p)throw new Error(`Integer overflow at ${l} for fixed length ${p}`);if(l<0)throw new Error(`Integer underflow at ${l} for fixed length ${p}`);return l.toString().padStart(p,"0")}m(o,"formatInteger");function a(l,p){const g=l.length;if(g<p)throw new Error("Invalid integer portion, length too short");if(g===p){const c=l.indexOf(".");if(c>=0)throw new Error(`Unexpected . at position ${c} in string of exact length ${p}`);const E=Number(l);if(isNaN(E))throw new Error(`Invalid integer portion - not a valid integer ${l}`)}else if(l[p]!==".")throw new Error(`Expected . after int_fixed length ${p} and got ${l[p]}`)}m(a,"validateIntegerLength");function _(l,p,g){if(a(l,g),g!==l.length&&l.slice(g).endsWith(p[0]))throw new Error(`Fractional portion must not end with ${p[0]}`)}m(_,"validateOrderKey")},8556787853:(W,T,e)=>{"use strict";e.d(T,{Ac:()=>p,Ay:()=>_,lF:()=>l});var t=e(7174777686),s=e(6839188756),n=e(7582939986),r=e(6409159738),u=e(9114759771),i=e(2047021170),o=e(3677514771);const a=m((g,c,E)=>{const A=E?g*2:g,d=E?c*2:c,h=A>n.QI||d>n.Jo?Math.min(n.QI/A,n.Jo/d):1,f=Math.floor(A*h),y=Math.floor(d*h);return{width:f,height:y}},"getConstrainedMediaDimensions");function _(g){let{url:c,width:E,height:A,rotate:d,renderSvg:v,stopAnimations:h,sizeForRetina:f,convertIco:y,isEmoji:I}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!c)return null;const C=(0,s.Uz)((0,o.H7)(g));if(!C||c.indexOf(C)===0||c.indexOf("/img/")===0)return c;if(c.indexOf("https://")===0&&!I){const O=(0,u.yz)(c,!0),L=(0,r.QL)();if((0,t.A)(L,O)){if(h&&O==="slack-imgs.com"){const k=new URL(c),K=k.searchParams.has("o1")?`${k.searchParams.get("o1")}.gu`:"gu";return k.searchParams.set("o1",K),k.href}return c}}const D=new URL(C);D.searchParams.set("c",n.lW);const{width:M,height:P}=E&&A?a(E,A,f):{},S=[];return M&&P&&(S.push(`wi${M}`),S.push(`he${P}`),S.push("si")),d&&S.push("ro"),v&&S.push("sv2"),(h||!(0,i.ty)(g,"a11y_animations"))&&S.push("gu"),y&&S.push("ip"),S.length&&D.searchParams.set("o1",S.join(".")),D.searchParams.set("url",c),D.href}m(_,"getImgProxyUrl");const l=m(async g=>{const c=new URL(g);try{return!!(await fetch(`https://${c.hostname}/?url=${c.searchParams.get("url")}`,{method:"HEAD",mode:"cors"})).headers.get("x-slack-animated")}catch(E){if(E)return!1}return!1},"isImageAnimated"),p=m(g=>g.replace(".gu",""),"getAnimatedImgUrl")},8257102208:(W,T,e)=>{"use strict";e.d(T,{$q:()=>o,W4:()=>l});var t=e(3262078016),s=e(2647703359),n=e(497761763),r=e(7732872146),u=e(7102510068),i=e(937317117);function o(p,g){if(!g)return null;const c=(0,r.Ay)(g);return _(p,c)}m(o,"getListIdFromUrl");function a(p){for(const g of u.h)if(g.urlType===t.CollabUrlType.SLACK_LIST){const c=g.regExp,E=p.match(c);if(!E||E.length<1)continue;return E}return null}m(a,"matchListCollabUrlRegex");function _(p,g){const c=g.href,E=a(c);if(!E)return null;const A=E[6];if(!A||!(0,n.A)(A))return null;const d=(0,i.Lp)(p,A);return(0,s.l7)(d)?A:null}m(_,"getListIdFromParsedUrl");function l(p,g){const c=_(p,g);if(!c)return null;const E=(0,i.Lp)(p,c);return E&&((0,s.sR)(E)||(0,s.Bp)(E))?c:null}m(l,"getListFileIdWithoutAccessFromParsedUrl")},6415587347:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>on});var t=e(3783723764),s=e(8840779375),n=e(2604971659),r=e(4103274853),u=e(2208015175),i=e(397660785),o=e(7582939986),a=e(6363331542),_=e(2256285620),l=e.n(_),p=e(6906793909),g=e.n(p),c=e(1060768686),E=e.n(c),A=e(2979422297),d=e.n(A),v=e(983107878),h=e.n(v),f=e(2316786074),y=e.n(f),I=e(3708998647),C=e.n(I),D=e(5098468056),M=e.n(D),P=e(4923972147),S=e.n(P),b=e(3224273568),O=e.n(b),L=e(8390767423),k=e.n(L),K=e(1957386787),N=e.n(K),R=e(4245237474),U=e.n(R),x=e(7523979550),B=e.n(x),F=e(77360885),V=e.n(F),Y=e(451984622),w=e.n(Y),G=e(2200759559),Ee=e.n(G),ne=e(7272988726),se=e.n(ne),ce=e(2261459203),pe=e.n(ce),ye=e(3431559584),Ie=e.n(ye),Se=e(4165874747),le=e.n(Se),X=e(1023719767),J=e.n(X),z=e(3710970638),te=e.n(z),$=e(4814900690),q=e.n($),re=e(7183565897),de=e.n(re),oe=e(1889110914),De=e.n(oe),ae=e(669259003),Z=e.n(ae),ie=e(7331486018),Ce=e.n(ie),Re=e(1001408479),He=e.n(Re),be=e(7428983508),Ue=e.n(be),me=e(350135845),ve=e.n(me),Fe=e(474239361),Ke=e.n(Fe),j=e(1302153452),ee=e.n(j),je=e(9825918216),Te=e.n(je),Je=e(3333214639),Ae=e.n(Je),Me=e(5156772208),we=e.n(Me),Ge=e(4948097913),Qe=e.n(Ge),fe=e(5908867676),Ve=e.n(fe),Be=e(2295488157),Ye=e.n(Be),et=e(9948433110),at=e.n(et),gt=e(3963460214),Mt=e.n(gt),Bt=e(9267813754),Ct=e.n(Bt),Ft=e(2981982679),kt=e.n(Ft),Et=e(9833689275),mt=e.n(Et),Rt=e(9777215928),Ht=e.n(Rt),ft=e(9602720019),Jt=e.n(ft),Zt=e(9241168512),Tt=e.n(Zt),Pt=e(4840951141),Kt=e.n(Pt),dn=e(7129884748),sn=e.n(dn),H=e(4063699741),Ne=e.n(H);function Pe(Vt){return(0,t.A)((0,s.A)((0,n.A)(Vt),qt=>parseInt(qt,10)),null,"desc")}m(Pe,"makeOrderedIconSizes");function qe(Vt){return(0,r.A)(Vt,qt=>Pe(qt))}m(qe,"makeOrderedNamedIconSizes");const At={24:y(),32:C(),36:M(),72:S(),192:O()},xt={24:l(),32:g(),36:E(),72:d(),192:h()},jt={fancy:{20:k(),24:N(),32:U(),36:B(),48:V(),72:w(),192:Ee(),360:se(),512:pe(),1024:Ie()},frowny:{20:le(),24:J(),32:te(),36:q(),48:de(),72:De(),192:Z(),360:Ce(),512:He(),1024:Ue()},neutral:{20:ve(),24:Ke(),32:ee(),36:Te(),48:Ae(),72:we(),192:Qe(),360:Ve(),512:Ye(),1024:at()},sad_surprise:{20:Mt(),24:Ct(),32:kt(),36:mt(),48:Ht(),72:Jt(),192:Tt(),360:Kt(),512:sn(),1024:Ne()}},Xt=24,en=Pe(xt),Qt=qe(jt),ht="image_";function Nt(Vt){const qt=[];return(0,u.A)(Vt,(rn,vn)=>{if(vn.indexOf(ht)!==0)return;const Rn=vn.slice(ht.length);qt.unshift(parseInt(Rn,10))}),qt}m(Nt,"getSizeOptionsFromProfile");function on(Vt){let{size:qt,teamOrEnterpriseId:rn,memberId:vn,avatarHash:Rn,emoji:Pn,isBot:In=!1,botImages:Nn=!1,slackbotFeels:Jn=null,isUserHidden:ts=!1}=Vt,Un,bn,Ln=!1;if(!qt||!In&&!ts&&(!rn||!vn||!Rn)&&!Pn)return{};if(Pn)return{emoji:Pn,isDefault:!1};if(ts){const Gn=(0,a.A)(qt,en),Zn=(0,a.A)(qt*2,en);Un=At[Gn||Xt],bn=At[Zn||Xt],Ln=!0}else if(vn===o.Q$&&Jn&&jt[Jn]){const Gn=(0,a.A)(qt,Qt[Jn]),Zn=(0,a.A)(qt*2,Qt[Jn]);Un=jt[Jn][Gn||Xt],bn=jt[Jn][Zn||Xt]}else if(!In||rn&&vn&&Rn){const Gn=(0,a.A)(qt),Zn=(0,a.A)(qt*2),ns=(0,i.Z)(rn);Un=`${ns}${rn}-${vn}-${Rn}-${Gn}`,bn=`${ns}${rn}-${vn}-${Rn}-${Zn}`}else if(Nn){const Gn=Nt(Nn),Zn=(0,a.A)(qt,Gn),ns=(0,a.A)(qt*2,Gn);Un=Nn[ht+Zn],bn=Nn[ht+ns]}if(In&&!Un&&!bn&&!Pn){const Gn=(0,a.A)(qt,en),Zn=(0,a.A)(qt*2,en);Un=xt[Gn||Xt],bn=xt[Zn||Xt],Ln=!0}return{imageUrl:Un,imageUrl2x:bn,emoji:Pn,isDefault:Ln}}m(on,"getMemberProfileImage")},92812954:(W,T,e)=>{"use strict";e.d(T,{d:()=>r});var t=e(5096647761),s=e(3792998666),n=e(8276911661);function r(u,i){if(!i)return"member";const o=(0,n.nv)(u,i);let a="member";return(0,t.g)(o)?a="external":(0,s.Ez)(o)&&!(0,s.Yd)(o)?a="ra":(0,s.Yd)(o)&&(a="ura"),a}m(r,"getMemberType")},9899967630:(W,T,e)=>{"use strict";e.d(T,{cR:()=>a,dR:()=>E});var t=e(3262078016),s=e(2647703359),n=e(497761763),r=e(7732872146),u=e(7102510068),i=e(4761125736),o=e(937317117);function a(A,d){if(!d)return null;const v=(0,r.Ay)(d);return g(A,v)}m(a,"getQuipFileIdFromUrl");function _(A,d){if(!d)return null;const v=parseUrl(d);return c(A,v)}m(_,"getQuipFileIdWithAccessFromUrl");function l(A,d){if(!d)return null;const v=parseUrl(d);return E(A,v)}m(l,"getQuipFileIdWithoutAccessFromUrl");function p(A){for(const d of u.h)if(d.urlType===t.CollabUrlType.SLACK_DOCUMENT||d.urlType===t.CollabUrlType.SLACK_DOCUMENT_SECTION){const v=d.regExp,h=A.match(v);if(!h||h.length<1)continue;return h}return null}m(p,"matchCanvasCollabUrlRegex");function g(A,d){const v=d.href,h=p(v);if(!h)return null;const f=h[6];if(!f||!(0,n.A)(f))return null;const y=(0,o.Lp)(A,f);return(0,s.DQ)(y)?f:null}m(g,"getQuipFileIdFromParsedUrl");function c(A,d){const v=g(A,d);if(!v)return null;const h=getFileById(A,v);if(!h)return null;const f=getGroupForUser(A,"canvas_ts_sfdc_slack_connect_sharing")==="on";return isNotVisible(h)||f&&isExternalAccessDenied(h)?null:v}m(c,"getQuipFileIdWithAccessFromParsedUrl");function E(A,d){const v=g(A,d);if(!v)return null;const h=(0,o.Lp)(A,v);if(!h)return null;const f=(0,i._Z)(A,"canvas_ts_sfdc_slack_connect_sharing")==="on";return(0,s.sR)(h)||f&&(0,s.Bp)(h)?v:null}m(E,"getQuipFileIdWithoutAccessFromParsedUrl")},3695531806:(W,T,e)=>{"use strict";e.d(T,{z:()=>s});var t=e(6795568989);const s=m(n=>{let{codePointLikeString:r}=n;if(!(0,t.d)(r))return;const u=16;return r.split("-").map(i=>String.fromCodePoint(parseInt(i,u))).join("")},"getUnicodeFromCodePointLikeString")},8520727613:(W,T,e)=>{"use strict";e.d(T,{A:()=>i});var t=e(3009309149),s=e(6533394955),n=e(4761125736),r=e(9012396182);const u=(0,t.Ay)((o,a,_)=>((0,r.getAllWorkspaces)(o)||[]).some(p=>{var g;const c=(g=(0,s.oK)(p))===null||g===void 0?void 0:g.getState();return c?(0,n._Z)(c,a)===_:!1}));u.meta={name:"createSelector",key:"createSelectorhasGroupForAnyTeam",description:(o,a,_)=>((0,r.getAllWorkspaces)(o)||[]).some(p=>{var g;const c=(g=(0,s.oK)(p))===null||g===void 0?void 0:g.getState();return c?(0,n._Z)(c,a)===_:!1})};const i=u},5770715593:(W,T,e)=>{"use strict";e.d(T,{C9:()=>o,Gl:()=>u,VQ:()=>i,XU:()=>s,dL:()=>n,rU:()=>r,x_:()=>a});var t=e(4761125736);const s=m(_=>(0,t._Z)(_,"help_shareables_tm")==="on","isHelpShareablesTmExperimentOn"),n=m(_=>(0,t._Z)(_,"help_articles_in_search")==="treatment","isHelpArticlesInSearchExperimentTreatment"),r=m(_=>(0,t._Z)(_,"help_smarticles")==="on","isHelpSmarticlesExperimentOn"),u=m(_=>(0,t._Z)(_,"help_navigation")==="on","isHelpNavigationExperimentOn"),i=m(_=>(0,t._Z)(_,"help_tour")==="treatment","isHelpTourExperimentTreatment"),o=m(_=>(0,t._Z)(_,"help_tips")==="on","isHelpTipsExperimentOn"),a=m(_=>(0,t._Z)(_,"help_slider_a11y_translations")==="on","isHelpSliderA11yTranslationsExperimentOn")},2899237032:(W,T,e)=>{"use strict";e.d(T,{v:()=>s});var t=e(6845144532);function s(n){const r=(0,t.F)().getLocaleForLastViewedTeam().toLowerCase();return r==="en-us"?n:`/intl/${r}${n}`}m(s,"getLocalizedPath")},4240442510:(W,T,e)=>{"use strict";e.d(T,{A:()=>l});var t=e(8876859727),s=e(7105906370),n=e(735940183),r=e(2384831516),u=e(4761125736),i=e(6324904206),o=e(3193155968);const a=new n.A("view"),_=(0,r.Mz)((p,g)=>{let{tab:c}=g;const E=(0,s.We)(p),A=(0,u._Z)(p,"activity_inbox")==="on",d=(0,t.UF)(p),v=A?o.k6.ActivityInbox:o.k6.Activity,h=(0,i.NJ)(p);let f;switch(c){case o.k6.Home:f=a.t("Home");break;case o.k6.DMs:f=a.t("DMs");break;case v:f=a.t("Activity");break;case o.k6.Later:f=a.t("Later");break;case o.k6.SalesHome:f=a.t("Sales");break;case o.k6.Search:f=a.t("Search");break;case o.k6.ConversationalSearch:f=d?a.t("AI Search"):"";break;case o.k6.Canvases:f=a.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case o.k6.Files:f=a.t("Files",{ns:"search"});break;case o.k6.UnifiedFiles:f=a.t("Files");break;case o.k6.Channels:f=a.t("Channels",{ns:"search"});break;case o.k6.People:f=a.t("People",{ns:"search"});break;case o.k6.Platform:f=a.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case o.k6.ExternalConnections:f=a.t("External");break;case o.k6.Huddles:f=h?a.t("Calendar",{fallbackHash:"adab5090ac6a1b7b5420faac7be86c41721ba27c",fallbackHashNs:"today"}):a.t("Huddles");break;case o.k6.Assistant:f=E?a.t("Ask Slack"):"Ask Slack";break;case o.k6.Browse:f=a.t("More");break;case o.k6.Lists:f=a.t("Lists");break;case o.k6.Todos:f=a.t("To-dos",{fallbackHash:"6ce08d6beeac566483a902187fb3bd8302fafde9",fallbackHashNs:"todos"});break;case o.k6.Solutions:f=a.t("Templates");break;case o.k6.Agents:f="Agentforce";break;case o.k6.SlackKitPlayground:f="Slack Kit Playground";break;case o.k6.BBM:f="";break;case o.k6.Admin:f=a.t("Admin",{fallbackHash:"4e7afebcfbae000b22c7c85e5560f89a2a0280b4",fallbackHashNs:"enterprise_dashboard"});break;case o.k6.Today:f=a.t("Today",{fallbackHashNs:"calendar",fallbackHash:"24345a14377fd821d3932f4e82f6431640955b0b"});break;default:f="";break}return f});_.meta={name:"createSelector",key:"createSelectorgetTabLabel",description:(p,g)=>{let{tab:c}=g;const E=(0,s.We)(p),A=(0,u._Z)(p,"activity_inbox")==="on",d=(0,t.UF)(p),v=A?o.k6.ActivityInbox:o.k6.Activity,h=(0,i.NJ)(p);let f;switch(c){case o.k6.Home:f=a.t("Home");break;case o.k6.DMs:f=a.t("DMs");break;case v:f=a.t("Activity");break;case o.k6.Later:f=a.t("Later");break;case o.k6.SalesHome:f=a.t("Sales");break;case o.k6.Search:f=a.t("Search");break;case o.k6.ConversationalSearch:f=d?a.t("AI Search"):"";break;case o.k6.Canvases:f=a.t("Canvases",{fallbackHash:"e2d397a06197e996f48faa9c0abfd3a2a80d15de",fallbackHashNs:"search"});break;case o.k6.Files:f=a.t("Files",{ns:"search"});break;case o.k6.UnifiedFiles:f=a.t("Files");break;case o.k6.Channels:f=a.t("Channels",{ns:"search"});break;case o.k6.People:f=a.t("People",{ns:"search"});break;case o.k6.Platform:f=a.t("Automations",{fallbackHash:"4186e4384191cd367f88423e6488c26e96a3807d",fallbackHashNs:"search"});break;case o.k6.ExternalConnections:f=a.t("External");break;case o.k6.Huddles:f=h?a.t("Calendar",{fallbackHash:"adab5090ac6a1b7b5420faac7be86c41721ba27c",fallbackHashNs:"today"}):a.t("Huddles");break;case o.k6.Assistant:f=E?a.t("Ask Slack"):"Ask Slack";break;case o.k6.Browse:f=a.t("More");break;case o.k6.Lists:f=a.t("Lists");break;case o.k6.Todos:f=a.t("To-dos",{fallbackHash:"6ce08d6beeac566483a902187fb3bd8302fafde9",fallbackHashNs:"todos"});break;case o.k6.Solutions:f=a.t("Templates");break;case o.k6.Agents:f="Agentforce";break;case o.k6.SlackKitPlayground:f="Slack Kit Playground";break;case o.k6.BBM:f="";break;case o.k6.Admin:f=a.t("Admin",{fallbackHash:"4e7afebcfbae000b22c7c85e5560f89a2a0280b4",fallbackHashNs:"enterprise_dashboard"});break;case o.k6.Today:f=a.t("Today",{fallbackHashNs:"calendar",fallbackHash:"24345a14377fd821d3932f4e82f6431640955b0b"});break;default:f="";break}return f}};const l=_},6910192640:(W,T,e)=>{"use strict";e.d(T,{A:()=>P,o:()=>D});var t=e(537208959),s=e(4626613428),n=e(8876859727),r=e(7105906370),u=e(8180302442),i=e(5624319675),o=e(8956161330),a=e(7244076749),_=e(1340402138),l=e(6470070112),p=e(6642124196),g=e(1552255081),c=e(920478515),E=e(6839188756),A=e(3402139184),d=e(2584999337),v=e(2384831516),h=e(2284446909),f=e(5332875232),y=e(3677514771),I=e(3193155968);const C={[I.k6.Home]:S=>!(0,_.R)(S),[I.k6.Search]:()=>!1,[I.k6.ConversationalSearch]:S=>(0,n.fn)(S),[I.k6.Activity]:S=>!(0,t.Lh)(S)&&(0,s.Ty)(S),[I.k6.ActivityInbox]:S=>(0,t.Lh)(S)&&(0,s.Ty)(S),[I.k6.DMs]:S=>(0,s.Ty)(S),[I.k6.UnifiedFiles]:S=>(0,d.a)(S)&&(0,s.Ty)(S),[I.k6.SlackKitPlayground]:S=>(0,a.b)()&&(0,s.Ty)(S),[I.k6.Solutions]:S=>(0,u.g)(S),[I.k6.Agents]:S=>(0,i.mr)(S)&&(0,s.Ty)(S)&&(0,h.sL)(S).length>=1,[I.k6.Later]:S=>(0,c.Bp)(S),[I.k6.Assistant]:S=>(0,r.We)(S)&&(0,s.Ty)(S),[I.k6.Canvases]:S=>(0,g.F)(S)&&!(0,_.R)(S)&&!(0,d.a)(S),[I.k6.Files]:S=>!(0,_.R)(S)&&(0,s.Ty)(S)&&!(0,d.a)(S),[I.k6.Channels]:S=>!(0,_.R)(S)&&(0,s.Ty)(S),[I.k6.Platform]:()=>!0,[I.k6.People]:S=>!(0,_.R)(S)&&(0,s.Ty)(S),[I.k6.Huddles]:S=>(0,l.Wd)(S)&&!(0,f.LS)(S)&&!(0,_.R)(S),[I.k6.SalesHome]:S=>(0,o.hx)(S),[I.k6.Lists]:S=>((0,E.tc)((0,y.H7)(S))&&(0,p.isListsEnableFreemiumAccessEnabled)(S)||(0,p.teamHasFullListsAccess)(S))&&!(0,_.R)(S)&&!(0,d.a)(S),[I.k6.Todos]:S=>(0,p.isTodosEnabled)(S),[I.k6.ExternalConnections]:()=>!0,[I.k6.Today]:S=>(0,A.d)(S)},D=m(S=>(0,v.Mz)(b=>C[S](b)),"makeSelectVisibleTab"),P=m((S,b)=>D(b)(S),"getTabVisibility")},505908973:(W,T,e)=>{"use strict";e.d(T,{A:()=>Y});var t=e(537208959),s=e(352142497),n=e(5858219536),r=e(2052624953),u=e(8876859727),i=e(6174202672),o=e(6644049054),a=e(7105906370),_=e(5144644376),l=e(8180302442),p=e(5624319675),g=e(6226774595),c=e(8956161330),E=e(5996639710),A=e(9280052135),d=e(7244076749),v=e(9132066222),h=e(3937186022),f=e(8646192222),y=e(6642124196),I=e(9889493721),C=e(1552255081),D=e(6839188756),M=e(3402139184),P=e(3559837422),S=e(7069714209),b=e(6695353875),O=e(7097705154),L=e(2584999337),k=e(7274827479),K=e(3875705815),N=e(4761125736),R=e(5332875232),U=e(6546426766),x=e(3677514771),B=e(418103123);const F={[s.D.KeyboardShortcuts]:()=>!0,[s.D.WhatsNew]:()=>!0,[s.D.RecentCanvases]:()=>!1,[s.D.CanvasesSharedWithYou]:w=>(0,N._Z)(w,"canvas_collection_prototype")==="on"&&(0,C.F)(w),[s.D.CanvasesCreatedByYou]:w=>(0,N._Z)(w,"canvas_collection_prototype")==="on"&&(0,C.F)(w),[s.D.BrowseCanvases]:w=>(0,C.F)(w),[s.D.RecentFiles]:()=>!0,[s.D.FilesCreatedByYou]:()=>!0,[s.D.FilesSharedWithYou]:()=>!0,[s.D.BrowseExternalWorkspace]:S.U,[s.D.BrowseChannels]:()=>!0,[s.D.BrowsePeople]:()=>!0,[s.D.ExternalOrganizations]:()=>!0,[s.D.ExternalOrganization]:()=>!0,[s.D.ExternalPeople]:()=>!1,[s.D.SlackConnectChannels]:()=>!1,[s.D.SlackConnectInvitations]:()=>!0,[s.D.BrowseUserGroups]:w=>!(0,P.sV)(w)&&(0,D.qR)((0,x.H7)(w)),[s.D.SlackConnect]:w=>(0,o.A)(w),[s.D.Channel]:()=>!0,[s.D.AppSpace]:()=>!0,[s.D.RecentPlatform]:w=>(0,I.MA)(w),[s.D.BrowseWorkflowsManagedByYou]:w=>(0,I.EH)(w),[s.D.BrowseYourWorkflowTemplates]:w=>(0,I.M7)(w),[s.D.BrowseShortcuts]:w=>(0,I.S0)(w),[s.D.BrowseWorkflowTemplates]:w=>(0,I.fh)(w),[s.D.BrowseApps]:w=>(0,I.pr)(w),[s.D.OrgDirectory]:()=>!0,[s.D.Page]:()=>!0,[s.D.Threads]:()=>!0,[s.D.Thread]:()=>!0,[s.D.Profile]:()=>!0,[s.D.FileDetails]:()=>!0,[s.D.Help]:()=>!0,[s.D.UserGroup]:()=>!0,[s.D.Feedback]:()=>!0,[s.D.List]:w=>(0,y.isListsEnabled)(w),[s.D.ListRecord]:w=>(0,y.isListsEnabled)(w),[s.D.ListRecordDetails]:w=>(0,y.isListsEnabled)(w),[s.D.ListRecordThread]:w=>(0,y.isListsEnabled)(w),[s.D.ListRecordHistory]:w=>(0,y.isListsEnabled)(w),[s.D.ListHistory]:w=>(0,y.isListsHistoryEnabled)(w),[s.D.DeletedLists]:w=>(0,y.isListsEnabled)(w),[s.D.Tasks]:w=>(0,y.isTodosEnabled)(w),[s.D.AssignedTasks]:w=>(0,y.isTodosEnabled)(w),[s.D.Reminders]:w=>(0,y.isTodosEnabled)(w),[s.D.Saved]:w=>(0,y.isTodosEnabled)(w),[s.D.ComposeList]:()=>!0,[s.D.Compose]:()=>!0,[s.D.QuipCommentThread]:()=>!0,[s.D.QuipCommentStream]:()=>!0,[s.D.QuipActivityHistory]:()=>!0,[s.D.QuipAutomationsOverview]:()=>!0,[s.D.Quip]:()=>!0,[s.D.Canvas]:()=>!0,[s.D.ChannelCanvas]:()=>!0,[s.D.CanvasBrowser]:w=>(0,C.F)(w),[s.D.DeletedCanvases]:w=>(0,C.F)(w),[s.D.PaidBenefits]:()=>!0,[s.D.Setup]:()=>!0,[s.D.SearchEmpty]:()=>!0,[s.D.AboutWorkspace]:()=>!1,[s.D.Unknown]:()=>!0,[s.D.MorePeopleSidebar]:()=>!0,[s.D.MoreCanvasesSidebar]:()=>!0,[s.D.MoreSolutionsSidebar]:w=>(0,l.g)(w),[s.D.AppPopout]:()=>!0,[s.D.ChannelList]:()=>!0,[s.D.BrowseFiles]:()=>!0,[s.D.BrowseUnifiedFiles]:w=>(0,L.a)(w),[s.D.BrowseUnifiedFilesCanvases]:w=>(0,L.a)(w),[s.D.BrowseUnifiedFilesLists]:w=>(0,L.a)(w),[s.D.BrowseUnifiedFilesOther]:w=>(0,L.a)(w),[s.D.DeletedUnifiedFiles]:w=>(0,L.a)(w),[s.D.SlackKitPlayground]:()=>(0,d.b)(),[s.D.Solutions]:w=>(0,l.g)(w),[s.D.Admin]:()=>!1,[s.D.ActivityChannelUnreadsList]:w=>(0,t.Lh)(w),[s.D.Agents]:w=>(0,p.mr)(w),[s.D.AgentConversation]:w=>(0,p.mr)(w),[s.D.AgentHomeConversation]:w=>(0,p.mr)(w),[s.D.MoreAgentsSidebar]:w=>(0,p.mr)(w),[s.D.SolutionsFiltered]:w=>(0,l.g)(w),[s.D.BrowseYourSolutions]:w=>(0,_.n)(w),[s.D.BrowseYourCompanySolutions]:w=>(0,_.n)(w),[s.D.BrowseLists]:w=>(0,y.teamHasFullListsAccess)(w),[s.D.DmsList]:()=>!0,[s.D.BrowseList]:()=>!0,[s.D.ActivityList]:()=>!0,[s.D.LaterList]:()=>!0,[s.D.Search]:()=>!0,[s.D.MoreFilesSidebar]:()=>!0,[s.D.MoreListsSidebar]:()=>!0,[s.D.UnifiedFilesSidebar]:w=>(0,L.a)(w),[s.D.MoreChannelsSidebar]:()=>!1,[s.D.Inbox]:()=>!1,[s.D.ActivityInbox]:w=>(0,t.Lh)(w),[s.D.ActivityEmpty]:w=>(0,t.Lh)(w),[s.D.MorePlatformSidebar]:()=>!0,[s.D.MoreHuddlesSidebar]:()=>!0,[s.D.MoreExternalConnectionsSidebar]:()=>!0,[s.D.HelpBrowser]:()=>!0,[s.D.Huddle]:()=>!0,[s.D.BrowseHuddles]:w=>(0,R.LS)(w),[s.D.KeyboardShortcutsBrowser]:()=>!0,[s.D.WhatsNewBrowser]:()=>!0,[s.D.FeedbackBrowser]:()=>!0,[s.D.ExternalWorkspaceAllowedOrgPane]:()=>!1,[s.D.ExternalWorkspaceSidebar]:()=>!1,[s.D.ExternalWorkspacePeopleBrowser]:()=>!1,[s.D.ExternalWorkspaceChannelBrowser]:()=>!1,[s.D.PostEvent]:()=>!1,[s.D.AiSummaryDetails]:w=>(0,k.Jd)(w),[s.D.DailyDigest]:w=>(0,k.hS)(w),[s.D.SearchSummary]:w=>(0,k.Sl)(w),[s.D.AssistantList]:w=>(0,A.l)(w),[s.D.Today]:w=>(0,B._)(w),[s.D.WorkObject]:w=>(0,h.HZ)(w),[s.D.TableauDetails]:w=>(0,g.Z0)(w),[s.D.Record]:()=>!0,[s.D.RecordChannelCreate]:()=>!0,[s.D.RecordChannelRelatedList]:()=>!0,[s.D.RecordRelatedConversationsChannelsList]:w=>(0,E.B)(w),[s.D.RecordRelatedConversationsThreadsList]:w=>(0,E.B)(w),[s.D.SalesAdministration]:()=>!0,[s.D.SalesBulkGrid]:()=>!0,[s.D.SalesHome]:w=>(0,c.hx)(w),[s.D.SalesLogActivity]:()=>!0,[s.D.SalesCreateRecord]:()=>!0,[s.D.SalesListViewBrowser]:()=>!0,[s.D.SalesSidebar]:()=>!0,[s.D.SalesNotifications]:()=>!0,[s.D.SalesAutoSlackLaunchpad]:w=>(0,U.LI)(w),[s.D.AssistantThread]:()=>!0,[s.D.ChannelFiles]:w=>(0,N._Z)(w,"channel_canvas_in_bbar")==="on",[s.D.AiApp]:w=>(0,r.wP)(w),[s.D.AboutAiApp]:w=>(0,r.wP)(w),[s.D.MultiTurnSearch]:w=>(0,r.wP)(w)&&(0,u.fn)(w),[s.D.WorkflowDetails]:()=>!0,[s.D.WorkflowEditor]:w=>(0,I.ji)(w),[s.D.WorkflowBeingCreated]:w=>(0,I.ji)(w),[s.D.BookmarksFolder]:w=>(0,v.U6)(w),[s.D.ActionItems]:w=>(0,k.FV)(w),[s.D.BBMMain]:w=>(0,f.mL)(w)&&(0,K.V)(w),[s.D.BBMWorkspaceSwitcher]:w=>(0,f.mL)(w)&&(0,K.V)(w),[s.D.SearchInChannel]:w=>(0,b.k8)(w),[s.D.HuddleTranscriptDetails]:w=>(0,k.Vf)(w),[s.D.HuddlePageCanvas]:()=>!0,[s.D.BBMMore]:w=>(0,f.mL)(w)&&(0,K.V)(w),[s.D.AssistantHome]:w=>(0,a.We)(w),[s.D.TodayV2]:w=>(0,M.d)(w),[s.D.MultiTurnSearchSidebar]:w=>(0,r.wP)(w)&&(0,u.fn)(w),[s.D.AboutUserGroup]:()=>!1,[s.D.MeetingDetails]:w=>(0,R.a0)(w),[s.D.AiMessageAnalysis]:w=>(0,i.x)(w),[s.D.BrowseUnifiedFilesGoogleDrive]:w=>(0,n.c)(w),[s.D.BrowseUnifiedFilesOnedrive]:w=>(0,n.c)(w),[s.D.BrowseUnifiedFilesExternalResults]:w=>(0,u.vE)(w),[s.D.ConversationCreate]:w=>(0,O.H)(w)},Y=m((w,G)=>F[G](w),"getViewTypeVisibility")},5731054235:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(9636997165);let s=null;function n(){if(s===null){var r,u;s=(document==null||(r=document.documentElement)===null||r===void 0||(u=r.dataset)===null||u===void 0?void 0:u.app)===t.u.APP_POPOUTS}return s}m(n,"isAppPopouts")},8800777280:(W,T,e)=>{"use strict";e.d(T,{A:()=>t});function t(s,n){return!s||!n?!1:n(s)?!0:t(s.parentElement||void 0,n)}m(t,"isContainedBy")},6045540917:(W,T,e)=>{"use strict";e.d(T,{h:()=>u});var t=e(8170643398),s=e(5765052177),n=e(3986753718),r=e(8276911661);function u(i,o){if(!o)return!1;const a=(0,r.nv)(i,o),_=(0,t.zU)(a),l=(0,s.C)(a);return!_&&!l&&!!o&&!!(0,n.t6)(i,o)}m(u,"isDnd")},4058658129:(W,T,e)=>{"use strict";e.d(T,{z:()=>n});var t=e(2384831516),s=e(4761125736);const n=(0,t.Mz)(r=>(0,s._Z)(r,"mpim_omniswitcher_display_topic")==="on");n.meta={name:"createSelector",key:"createSelectorisMpdmOmniswitcherDisplayTopicEnabled",description:r=>(0,s._Z)(r,"mpim_omniswitcher_display_topic")==="on"}},8707546752:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(2774532222),s=e(7582939986);function n(r){return(0,t.A)(r,s.Rw)}m(n,"isSlackAction")},7097705154:(W,T,e)=>{"use strict";e.d(T,{H:()=>n});var t=e(2384831516),s=e(4761125736);const n=(0,t.Mz)(r=>(0,s._Z)(r,"streamlined_conversation_flow")==="treatment");n.meta={name:"createSelector",key:"createSelectorisStreamlinedConversationFlowEnabled",description:r=>(0,s._Z)(r,"streamlined_conversation_flow")==="treatment"}},6605261507:(W,T,e)=>{"use strict";e.d(T,{Dl:()=>r,Mk:()=>s,qF:()=>n});var t=e(1269024372);const s=["about","canvas"],n=["app","about","settings","chat"];function r(u){return s.indexOf(u)!==-1||n.indexOf(u)!==-1||Object.keys(t.e).indexOf(u)!==-1}m(r,"isValidTabRoute")},2249017398:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(9636997165);let s=null;function n(){if(s===null){var r,u;s=(document==null||(r=document.documentElement)===null||r===void 0||(u=r.dataset)===null||u===void 0?void 0:u.app)===t.u.WORKFLOW_BUILDER}return s}m(n,"isWorkflowBuilder")},1466694191:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});const t=/^(quip|Qp):F[A-Z0-9]{8,}-(Qpv:[a-z0-9:]{8,}&Qpvs:[0-9]{1,})?$/;function s(n){return n?t.test(n):!1}m(s,"looksLikeQuipHistoryId")},8305125093:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});const t=/^Wt[A-Z0-9]{7,}$/;function s(n){return n?t.test(n):!1}m(s,"looksLikeWorkflowTemplateId")},6904279885:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(9746734072),s=e(735940183);const n=new s.A("a11y");function r(){let{channelName:u,previousChannelName:i,workspaceName:o,orgName:a,isOrgGlobalSharedPublicOrPrivateChannel:_,isOrgSharedPublicOrPrivateChannel:l,isExternallySharedChannel:p,isArchived:g,isCurrent:c,hasUnreads:E,hasNotifications:A,isPrivate:d,isNotMember:v,isMuted:h,isStarred:f,hasDraft:y}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const I=(()=>{if(p&&o&&o.length>0){const D=(0,t.A)(o)?o:[o];return n.t("shared with {workspaceName}",{workspaceName:D[0]})}return _&&a?n.t("shared across all {orgName} workspaces",{orgName:a}):l?n.t("shared channel"):""})(),C=(()=>g?n.t("archived channel"):c&&E&&A&&d&&v&&h&&f&&y?n.t("current channel, has unread messages and notifications, private, not a member, muted, starred, has a draft message"):!c&&E&&A&&d&&v&&h&&f&&y?n.t("has unread messages and notifications, private, not a member, muted, starred, has a draft message"):c&&!E&&A&&d&&v&&h&&f&&y?n.t("current channel, has notifications, private, not a member, muted, starred, has a draft message"):!c&&!E&&A&&d&&v&&h&&f&&y?n.t("has notifications, private, not a member, muted, starred, has a draft message"):c&&E&&!A&&d&&v&&h&&f&&y?n.t("current channel, has unread messages, private, not a member, muted, starred, has a draft message"):!c&&E&&!A&&d&&v&&h&&f&&y?n.t("has unread messages, private, not a member, muted, starred, has a draft message"):c&&!E&&!A&&d&&v&&h&&f&&y?n.t("current channel, private, not a member, muted, starred, has a draft message"):!c&&!E&&!A&&d&&v&&h&&f&&y?n.t("private, not a member, muted, starred, has a draft message"):c&&E&&A&&!d&&v&&h&&f&&y?n.t("current channel, has unread messages and notifications, not a member, muted, starred, has a draft message"):!c&&E&&A&&!d&&v&&h&&f&&y?n.t("has unread messages and notifications, not a member, muted, starred, has a draft message"):c&&!E&&A&&!d&&v&&h&&f&&y?n.t("current channel, has notifications, not a member, muted, starred, has a draft message"):!c&&!E&&A&&!d&&v&&h&&f&&y?n.t("has notifications, not a member, muted, starred, has a draft message"):c&&E&&!A&&!d&&v&&h&&f&&y?n.t("current channel, has unread messages, not a member, muted, starred, has a draft message"):!c&&E&&!A&&!d&&v&&h&&f&&y?n.t("has unread messages, not a member, muted, starred, has a draft message"):c&&!E&&!A&&!d&&v&&h&&f&&y?n.t("current channel, not a member, muted, starred, has a draft message"):!c&&!E&&!A&&!d&&v&&h&&f&&y?n.t("not a member, muted, starred, has a draft message"):c&&E&&A&&d&&!v&&h&&f&&y?n.t("current channel, has unread messages and notifications, private, muted, starred, has a draft message"):!c&&E&&A&&d&&!v&&h&&f&&y?n.t("has unread messages and notifications, private, muted, starred, has a draft message"):c&&!E&&A&&d&&!v&&h&&f&&y?n.t("current channel, has notifications, private, muted, starred, has a draft message"):!c&&!E&&A&&d&&!v&&h&&f&&y?n.t("has notifications, private, muted, starred, has a draft message"):c&&E&&!A&&d&&!v&&h&&f&&y?n.t("current channel, has unread messages, private, muted, starred, has a draft message"):!c&&E&&!A&&d&&!v&&h&&f&&y?n.t("has unread messages, private, muted, starred, has a draft message"):c&&!E&&!A&&d&&!v&&h&&f&&y?n.t("current channel, private, muted, starred, has a draft message"):!c&&!E&&!A&&d&&!v&&h&&f&&y?n.t("private, muted, starred, has a draft message"):c&&E&&A&&!d&&!v&&h&&f&&y?n.t("current channel, has unread messages and notifications, muted, starred, has a draft message"):!c&&E&&A&&!d&&!v&&h&&f&&y?n.t("has unread messages and notifications, muted, starred, has a draft message"):c&&!E&&A&&!d&&!v&&h&&f&&y?n.t("current channel, has notifications, muted, starred, has a draft message"):!c&&!E&&A&&!d&&!v&&h&&f&&y?n.t("has notifications, muted, starred, has a draft message"):c&&E&&!A&&!d&&!v&&h&&f&&y?n.t("current channel, has unread messages, muted, starred, has a draft message"):!c&&E&&!A&&!d&&!v&&h&&f&&y?n.t("has unread messages, muted, starred, has a draft message"):c&&!E&&!A&&!d&&!v&&h&&f&&y?n.t("current channel, muted, starred, has a draft message"):!c&&!E&&!A&&!d&&!v&&h&&f&&y?n.t("muted, starred, has a draft message"):c&&E&&A&&d&&v&&!h&&f&&y?n.t("current channel, has unread messages and notifications, private, not a member, starred, has a draft message"):!c&&E&&A&&d&&v&&!h&&f&&y?n.t("has unread messages and notifications, private, not a member, starred, has a draft message"):c&&!E&&A&&d&&v&&!h&&f&&y?n.t("current channel, has notifications, private, not a member, starred, has a draft message"):!c&&!E&&A&&d&&v&&!h&&f&&y?n.t("has notifications, private, not a member, starred, has a draft message"):c&&E&&!A&&d&&v&&!h&&f&&y?n.t("current channel, has unread messages, private, not a member, starred, has a draft message"):!c&&E&&!A&&d&&v&&!h&&f&&y?n.t("has unread messages, private, not a member, starred, has a draft message"):c&&!E&&!A&&d&&v&&!h&&f&&y?n.t("current channel, private, not a member, starred, has a draft message"):!c&&!E&&!A&&d&&v&&!h&&f&&y?n.t("private, not a member, starred, has a draft message"):c&&E&&A&&!d&&v&&!h&&f&&y?n.t("current channel, has unread messages and notifications, not a member, starred, has a draft message"):!c&&E&&A&&!d&&v&&!h&&f&&y?n.t("has unread messages and notifications, not a member, starred, has a draft message"):c&&!E&&A&&!d&&v&&!h&&f&&y?n.t("current channel, has notifications, not a member, starred, has a draft message"):!c&&!E&&A&&!d&&v&&!h&&f&&y?n.t("has notifications, not a member, starred, has a draft message"):c&&E&&!A&&!d&&v&&!h&&f&&y?n.t("current channel, has unread messages, not a member, starred, has a draft message"):!c&&E&&!A&&!d&&v&&!h&&f&&y?n.t("has unread messages, not a member, starred, has a draft message"):c&&!E&&!A&&!d&&v&&!h&&f&&y?n.t("current channel, not a member, starred, has a draft message"):!c&&!E&&!A&&!d&&v&&!h&&f&&y?n.t("not a member, starred, has a draft message"):c&&E&&A&&d&&!v&&!h&&f&&y?n.t("current channel, has unread messages and notifications, private, starred, has a draft message"):!c&&E&&A&&d&&!v&&!h&&f&&y?n.t("has unread messages and notifications, private, starred, has a draft message"):c&&!E&&A&&d&&!v&&!h&&f&&y?n.t("current channel, has notifications, private, starred, has a draft message"):!c&&!E&&A&&d&&!v&&!h&&f&&y?n.t("has notifications, private, starred, has a draft message"):c&&E&&!A&&d&&!v&&!h&&f&&y?n.t("current channel, has unread messages, private, starred, has a draft message"):!c&&E&&!A&&d&&!v&&!h&&f&&y?n.t("has unread messages, private, starred, has a draft message"):c&&!E&&!A&&d&&!v&&!h&&f&&y?n.t("current channel, private, starred, has a draft message"):!c&&!E&&!A&&d&&!v&&!h&&f&&y?n.t("private, starred, has a draft message"):c&&E&&A&&!d&&!v&&!h&&f&&y?n.t("current channel, has unread messages and notifications, starred, has a draft message"):!c&&E&&A&&!d&&!v&&!h&&f&&y?n.t("has unread messages and notifications, starred, has a draft message"):c&&!E&&A&&!d&&!v&&!h&&f&&y?n.t("current channel, has notifications, starred, has a draft message"):!c&&!E&&A&&!d&&!v&&!h&&f&&y?n.t("has notifications, starred, has a draft message"):c&&E&&!A&&!d&&!v&&!h&&f&&y?n.t("current channel, has unread messages, starred, has a draft message"):!c&&E&&!A&&!d&&!v&&!h&&f&&y?n.t("has unread messages, starred, has a draft message"):c&&!E&&!A&&!d&&!v&&!h&&f&&y?n.t("current channel, starred, has a draft message"):!c&&!E&&!A&&!d&&!v&&!h&&f&&y?n.t("starred, has a draft message"):c&&E&&A&&d&&v&&h&&!f&&y?n.t("current channel, has unread messages and notifications, private, not a member, muted, has a draft message"):!c&&E&&A&&d&&v&&h&&!f&&y?n.t("has unread messages and notifications, private, not a member, muted, has a draft message"):c&&!E&&A&&d&&v&&h&&!f&&y?n.t("current channel, has notifications, private, not a member, muted, has a draft message"):!c&&!E&&A&&d&&v&&h&&!f&&y?n.t("has notifications, private, not a member, muted, has a draft message"):c&&E&&!A&&d&&v&&h&&!f&&y?n.t("current channel, has unread messages, private, not a member, muted, has a draft message"):!c&&E&&!A&&d&&v&&h&&!f&&y?n.t("has unread messages, private, not a member, muted, has a draft message"):c&&!E&&!A&&d&&v&&h&&!f&&y?n.t("current channel, private, not a member, muted, has a draft message"):!c&&!E&&!A&&d&&v&&h&&!f&&y?n.t("private, not a member, muted, has a draft message"):c&&E&&A&&!d&&v&&h&&!f&&y?n.t("current channel, has unread messages and notifications, not a member, muted, has a draft message"):!c&&E&&A&&!d&&v&&h&&!f&&y?n.t("has unread messages and notifications, not a member, muted, has a draft message"):c&&!E&&A&&!d&&v&&h&&!f&&y?n.t("current channel, has notifications, not a member, muted, has a draft message"):!c&&!E&&A&&!d&&v&&h&&!f&&y?n.t("has notifications, not a member, muted, has a draft message"):c&&E&&!A&&!d&&v&&h&&!f&&y?n.t("current channel, has unread messages, not a member, muted, has a draft message"):!c&&E&&!A&&!d&&v&&h&&!f&&y?n.t("has unread messages, not a member, muted, has a draft message"):c&&!E&&!A&&!d&&v&&h&&!f&&y?n.t("current channel, not a member, muted, has a draft message"):!c&&!E&&!A&&!d&&v&&h&&!f&&y?n.t("not a member, muted, has a draft message"):c&&E&&A&&d&&!v&&h&&!f&&y?n.t("current channel, has unread messages and notifications, private, muted, has a draft message"):!c&&E&&A&&d&&!v&&h&&!f&&y?n.t("has unread messages and notifications, private, muted, has a draft message"):c&&!E&&A&&d&&!v&&h&&!f&&y?n.t("current channel, has notifications, private, muted, has a draft message"):!c&&!E&&A&&d&&!v&&h&&!f&&y?n.t("has notifications, private, muted, has a draft message"):c&&E&&!A&&d&&!v&&h&&!f&&y?n.t("current channel, has unread messages, private, muted, has a draft message"):!c&&E&&!A&&d&&!v&&h&&!f&&y?n.t("has unread messages, private, muted, has a draft message"):c&&!E&&!A&&d&&!v&&h&&!f&&y?n.t("current channel, private, muted, has a draft message"):!c&&!E&&!A&&d&&!v&&h&&!f&&y?n.t("private, muted, has a draft message"):c&&E&&A&&!d&&!v&&h&&!f&&y?n.t("current channel, has unread messages and notifications, muted, has a draft message"):!c&&E&&A&&!d&&!v&&h&&!f&&y?n.t("has unread messages and notifications, muted, has a draft message"):c&&!E&&A&&!d&&!v&&h&&!f&&y?n.t("current channel, has notifications, muted, has a draft message"):!c&&!E&&A&&!d&&!v&&h&&!f&&y?n.t("has notifications, muted, has a draft message"):c&&E&&!A&&!d&&!v&&h&&!f&&y?n.t("current channel, has unread messages, muted, has a draft message"):!c&&E&&!A&&!d&&!v&&h&&!f&&y?n.t("has unread messages, muted, has a draft message"):c&&!E&&!A&&!d&&!v&&h&&!f&&y?n.t("current channel, muted, has a draft message"):!c&&!E&&!A&&!d&&!v&&h&&!f&&y?n.t("muted, has a draft message"):c&&E&&A&&d&&v&&!h&&!f&&y?n.t("current channel, has unread messages and notifications, private, not a member, has a draft message"):!c&&E&&A&&d&&v&&!h&&!f&&y?n.t("has unread messages and notifications, private, not a member, has a draft message"):c&&!E&&A&&d&&v&&!h&&!f&&y?n.t("current channel, has notifications, private, not a member, has a draft message"):!c&&!E&&A&&d&&v&&!h&&!f&&y?n.t("has notifications, private, not a member, has a draft message"):c&&E&&!A&&d&&v&&!h&&!f&&y?n.t("current channel, has unread messages, private, not a member, has a draft message"):!c&&E&&!A&&d&&v&&!h&&!f&&y?n.t("has unread messages, private, not a member, has a draft message"):c&&!E&&!A&&d&&v&&!h&&!f&&y?n.t("current channel, private, not a member, has a draft message"):!c&&!E&&!A&&d&&v&&!h&&!f&&y?n.t("private, not a member, has a draft message"):c&&E&&A&&!d&&v&&!h&&!f&&y?n.t("current channel, has unread messages and notifications, not a member, has a draft message"):!c&&E&&A&&!d&&v&&!h&&!f&&y?n.t("has unread messages and notifications, not a member, has a draft message"):c&&!E&&A&&!d&&v&&!h&&!f&&y?n.t("current channel, has notifications, not a member, has a draft message"):!c&&!E&&A&&!d&&v&&!h&&!f&&y?n.t("has notifications, not a member, has a draft message"):c&&E&&!A&&!d&&v&&!h&&!f&&y?n.t("current channel, has unread messages, not a member, has a draft message"):!c&&E&&!A&&!d&&v&&!h&&!f&&y?n.t("has unread messages, not a member, has a draft message"):c&&!E&&!A&&!d&&v&&!h&&!f&&y?n.t("current channel, not a member, has a draft message"):!c&&!E&&!A&&!d&&v&&!h&&!f&&y?n.t("not a member, has a draft message"):c&&E&&A&&d&&!v&&!h&&!f&&y?n.t("current channel, has unread messages and notifications, private, has a draft message"):!c&&E&&A&&d&&!v&&!h&&!f&&y?n.t("has unread messages and notifications, private, has a draft message"):c&&!E&&A&&d&&!v&&!h&&!f&&y?n.t("current channel, has notifications, private, has a draft message"):!c&&!E&&A&&d&&!v&&!h&&!f&&y?n.t("has notifications, private, has a draft message"):c&&E&&!A&&d&&!v&&!h&&!f&&y?n.t("current channel, has unread messages, private, has a draft message"):!c&&E&&!A&&d&&!v&&!h&&!f&&y?n.t("has unread messages, private, has a draft message"):c&&!E&&!A&&d&&!v&&!h&&!f&&y?n.t("current channel, private, has a draft message"):!c&&!E&&!A&&d&&!v&&!h&&!f&&y?n.t("private, has a draft message"):c&&E&&A&&!d&&!v&&!h&&!f&&y?n.t("current channel, has unread messages and notifications, has a draft message"):!c&&E&&A&&!d&&!v&&!h&&!f&&y?n.t("has unread messages and notifications, has a draft message"):c&&!E&&A&&!d&&!v&&!h&&!f&&y?n.t("current channel, has notifications, has a draft message"):!c&&!E&&A&&!d&&!v&&!h&&!f&&y?n.t("has notifications, has a draft message"):c&&E&&!A&&!d&&!v&&!h&&!f&&y?n.t("current channel, has unread messages, has a draft message"):!c&&E&&!A&&!d&&!v&&!h&&!f&&y?n.t("has unread messages, has a draft message"):c&&!E&&!A&&!d&&!v&&!h&&!f&&y?n.t("current channel, has a draft message"):!c&&!E&&!A&&!d&&!v&&!h&&!f&&y?n.t("has a draft message"):c&&E&&A&&d&&v&&h&&f&&!y?n.t("current channel, has unread messages and notifications, private, not a member, muted, starred"):!c&&E&&A&&d&&v&&h&&f&&!y?n.t("has unread messages and notifications, private, not a member, muted, starred"):c&&!E&&A&&d&&v&&h&&f&&!y?n.t("current channel, has notifications, private, not a member, muted, starred"):!c&&!E&&A&&d&&v&&h&&f&&!y?n.t("has notifications, private, not a member, muted, starred"):c&&E&&!A&&d&&v&&h&&f&&!y?n.t("current channel, has unread messages, private, not a member, muted, starred"):!c&&E&&!A&&d&&v&&h&&f&&!y?n.t("has unread messages, private, not a member, muted, starred"):c&&!E&&!A&&d&&v&&h&&f&&!y?n.t("current channel, private, not a member, muted, starred"):!c&&!E&&!A&&d&&v&&h&&f&&!y?n.t("private, not a member, muted, starred"):c&&E&&A&&!d&&v&&h&&f&&!y?n.t("current channel, has unread messages and notifications, not a member, muted, starred"):!c&&E&&A&&!d&&v&&h&&f&&!y?n.t("has unread messages and notifications, not a member, muted, starred"):c&&!E&&A&&!d&&v&&h&&f&&!y?n.t("current channel, has notifications, not a member, muted, starred"):!c&&!E&&A&&!d&&v&&h&&f&&!y?n.t("has notifications, not a member, muted, starred"):c&&E&&!A&&!d&&v&&h&&f&&!y?n.t("current channel, has unread messages, not a member, muted, starred"):!c&&E&&!A&&!d&&v&&h&&f&&!y?n.t("has unread messages, not a member, muted, starred"):c&&!E&&!A&&!d&&v&&h&&f&&!y?n.t("current channel, not a member, muted, starred"):!c&&!E&&!A&&!d&&v&&h&&f&&!y?n.t("not a member, muted, starred"):c&&E&&A&&d&&!v&&h&&f&&!y?n.t("current channel, has unread messages and notifications, private, muted, starred"):!c&&E&&A&&d&&!v&&h&&f&&!y?n.t("has unread messages and notifications, private, muted, starred"):c&&!E&&A&&d&&!v&&h&&f&&!y?n.t("current channel, has notifications, private, muted, starred"):!c&&!E&&A&&d&&!v&&h&&f&&!y?n.t("has notifications, private, muted, starred"):c&&E&&!A&&d&&!v&&h&&f&&!y?n.t("current channel, has unread messages, private, muted, starred"):!c&&E&&!A&&d&&!v&&h&&f&&!y?n.t("has unread messages, private, muted, starred"):c&&!E&&!A&&d&&!v&&h&&f&&!y?n.t("current channel, private, muted, starred"):!c&&!E&&!A&&d&&!v&&h&&f&&!y?n.t("private, muted, starred"):c&&E&&A&&!d&&!v&&h&&f&&!y?n.t("current channel, has unread messages and notifications, muted, starred"):!c&&E&&A&&!d&&!v&&h&&f&&!y?n.t("has unread messages and notifications, muted, starred"):c&&!E&&A&&!d&&!v&&h&&f&&!y?n.t("current channel, has notifications, muted, starred"):!c&&!E&&A&&!d&&!v&&h&&f&&!y?n.t("has notifications, muted, starred"):c&&E&&!A&&!d&&!v&&h&&f&&!y?n.t("current channel, has unread messages, muted, starred"):!c&&E&&!A&&!d&&!v&&h&&f&&!y?n.t("has unread messages, muted, starred"):c&&!E&&!A&&!d&&!v&&h&&f&&!y?n.t("current channel, muted, starred"):!c&&!E&&!A&&!d&&!v&&h&&f&&!y?n.t("muted, starred"):c&&E&&A&&d&&v&&!h&&f&&!y?n.t("current channel, has unread messages and notifications, private, not a member, starred"):!c&&E&&A&&d&&v&&!h&&f&&!y?n.t("has unread messages and notifications, private, not a member, starred"):c&&!E&&A&&d&&v&&!h&&f&&!y?n.t("current channel, has notifications, private, not a member, starred"):!c&&!E&&A&&d&&v&&!h&&f&&!y?n.t("has notifications, private, not a member, starred"):c&&E&&!A&&d&&v&&!h&&f&&!y?n.t("current channel, has unread messages, private, not a member, starred"):!c&&E&&!A&&d&&v&&!h&&f&&!y?n.t("has unread messages, private, not a member, starred"):c&&!E&&!A&&d&&v&&!h&&f&&!y?n.t("current channel, private, not a member, starred"):!c&&!E&&!A&&d&&v&&!h&&f&&!y?n.t("private, not a member, starred"):c&&E&&A&&!d&&v&&!h&&f&&!y?n.t("current channel, has unread messages and notifications, not a member, starred"):!c&&E&&A&&!d&&v&&!h&&f&&!y?n.t("has unread messages and notifications, not a member, starred"):c&&!E&&A&&!d&&v&&!h&&f&&!y?n.t("current channel, has notifications, not a member, starred"):!c&&!E&&A&&!d&&v&&!h&&f&&!y?n.t("has notifications, not a member, starred"):c&&E&&!A&&!d&&v&&!h&&f&&!y?n.t("current channel, has unread messages, not a member, starred"):!c&&E&&!A&&!d&&v&&!h&&f&&!y?n.t("has unread messages, not a member, starred"):c&&!E&&!A&&!d&&v&&!h&&f&&!y?n.t("current channel, not a member, starred"):!c&&!E&&!A&&!d&&v&&!h&&f&&!y?n.t("not a member, starred"):c&&E&&A&&d&&!v&&!h&&f&&!y?n.t("current channel, has unread messages and notifications, private, starred"):!c&&E&&A&&d&&!v&&!h&&f&&!y?n.t("has unread messages and notifications, private, starred"):c&&!E&&A&&d&&!v&&!h&&f&&!y?n.t("current channel, has notifications, private, starred"):!c&&!E&&A&&d&&!v&&!h&&f&&!y?n.t("has notifications, private, starred"):c&&E&&!A&&d&&!v&&!h&&f&&!y?n.t("current channel, has unread messages, private, starred"):!c&&E&&!A&&d&&!v&&!h&&f&&!y?n.t("has unread messages, private, starred"):c&&!E&&!A&&d&&!v&&!h&&f&&!y?n.t("current channel, private, starred"):!c&&!E&&!A&&d&&!v&&!h&&f&&!y?n.t("private, starred"):c&&E&&A&&!d&&!v&&!h&&f&&!y?n.t("current channel, has unread messages and notifications, starred"):!c&&E&&A&&!d&&!v&&!h&&f&&!y?n.t("has unread messages and notifications, starred"):c&&!E&&A&&!d&&!v&&!h&&f&&!y?n.t("current channel, has notifications, starred"):!c&&!E&&A&&!d&&!v&&!h&&f&&!y?n.t("has notifications, starred"):c&&E&&!A&&!d&&!v&&!h&&f&&!y?n.t("current channel, has unread messages, starred"):!c&&E&&!A&&!d&&!v&&!h&&f&&!y?n.t("has unread messages, starred"):c&&!E&&!A&&!d&&!v&&!h&&f&&!y?n.t("current channel, starred"):!c&&!E&&!A&&!d&&!v&&!h&&f&&!y?n.t("starred"):c&&E&&A&&d&&v&&h&&!f&&!y?n.t("current channel, has unread messages and notifications, private, not a member, muted"):!c&&E&&A&&d&&v&&h&&!f&&!y?n.t("has unread messages and notifications, private, not a member, muted"):c&&!E&&A&&d&&v&&h&&!f&&!y?n.t("current channel, has notifications, private, not a member, muted"):!c&&!E&&A&&d&&v&&h&&!f&&!y?n.t("has notifications, private, not a member, muted"):c&&E&&!A&&d&&v&&h&&!f&&!y?n.t("current channel, has unread messages, private, not a member, muted"):!c&&E&&!A&&d&&v&&h&&!f&&!y?n.t("has unread messages, private, not a member, muted"):c&&!E&&!A&&d&&v&&h&&!f&&!y?n.t("current channel, private, not a member, muted"):!c&&!E&&!A&&d&&v&&h&&!f&&!y?n.t("private, not a member, muted"):c&&E&&A&&!d&&v&&h&&!f&&!y?n.t("current channel, has unread messages and notifications, not a member, muted"):!c&&E&&A&&!d&&v&&h&&!f&&!y?n.t("has unread messages and notifications, not a member, muted"):c&&!E&&A&&!d&&v&&h&&!f&&!y?n.t("current channel, has notifications, not a member, muted"):!c&&!E&&A&&!d&&v&&h&&!f&&!y?n.t("has notifications, not a member, muted"):c&&E&&!A&&!d&&v&&h&&!f&&!y?n.t("current channel, has unread messages, not a member, muted"):!c&&E&&!A&&!d&&v&&h&&!f&&!y?n.t("has unread messages, not a member, muted"):c&&!E&&!A&&!d&&v&&h&&!f&&!y?n.t("current channel, not a member, muted"):!c&&!E&&!A&&!d&&v&&h&&!f&&!y?n.t("not a member, muted"):c&&E&&A&&d&&!v&&h&&!f&&!y?n.t("current channel, has unread messages and notifications, private, muted"):!c&&E&&A&&d&&!v&&h&&!f&&!y?n.t("has unread messages and notifications, private, muted"):c&&!E&&A&&d&&!v&&h&&!f&&!y?n.t("current channel, has notifications, private, muted"):!c&&!E&&A&&d&&!v&&h&&!f&&!y?n.t("has notifications, private, muted"):c&&E&&!A&&d&&!v&&h&&!f&&!y?n.t("current channel, has unread messages, private, muted"):!c&&E&&!A&&d&&!v&&h&&!f&&!y?n.t("has unread messages, private, muted"):c&&!E&&!A&&d&&!v&&h&&!f&&!y?n.t("current channel, private, muted"):!c&&!E&&!A&&d&&!v&&h&&!f&&!y?n.t("private, muted"):c&&E&&A&&!d&&!v&&h&&!f&&!y?n.t("current channel, has unread messages and notifications, muted"):!c&&E&&A&&!d&&!v&&h&&!f&&!y?n.t("has unread messages and notifications, muted"):c&&!E&&A&&!d&&!v&&h&&!f&&!y?n.t("current channel, has notifications, muted"):!c&&!E&&A&&!d&&!v&&h&&!f&&!y?n.t("has notifications, muted"):c&&E&&!A&&!d&&!v&&h&&!f&&!y?n.t("current channel, has unread messages, muted"):!c&&E&&!A&&!d&&!v&&h&&!f&&!y?n.t("has unread messages, muted"):c&&!E&&!A&&!d&&!v&&h&&!f&&!y?n.t("current channel, muted"):!c&&!E&&!A&&!d&&!v&&h&&!f&&!y?n.t("muted"):c&&E&&A&&d&&v&&!h&&!f&&!y?n.t("current channel, has unread messages and notifications, private, not a member"):!c&&E&&A&&d&&v&&!h&&!f&&!y?n.t("has unread messages and notifications, private, not a member"):c&&!E&&A&&d&&v&&!h&&!f&&!y?n.t("current channel, has notifications, private, not a member"):!c&&!E&&A&&d&&v&&!h&&!f&&!y?n.t("has notifications, private, not a member"):c&&E&&!A&&d&&v&&!h&&!f&&!y?n.t("current channel, has unread messages, private, not a member"):!c&&E&&!A&&d&&v&&!h&&!f&&!y?n.t("has unread messages, private, not a member"):c&&!E&&!A&&d&&v&&!h&&!f&&!y?n.t("current channel, private, not a member"):!c&&!E&&!A&&d&&v&&!h&&!f&&!y?n.t("private, not a member"):c&&E&&A&&!d&&v&&!h&&!f&&!y?n.t("current channel, has unread messages and notifications, not a member"):!c&&E&&A&&!d&&v&&!h&&!f&&!y?n.t("has unread messages and notifications, not a member"):c&&!E&&A&&!d&&v&&!h&&!f&&!y?n.t("current channel, has notifications, not a member"):!c&&!E&&A&&!d&&v&&!h&&!f&&!y?n.t("has notifications, not a member"):c&&E&&!A&&!d&&v&&!h&&!f&&!y?n.t("current channel, has unread messages, not a member"):!c&&E&&!A&&!d&&v&&!h&&!f&&!y?n.t("has unread messages, not a member"):c&&!E&&!A&&!d&&v&&!h&&!f&&!y?n.t("current channel, not a member"):!c&&!E&&!A&&!d&&v&&!h&&!f&&!y?n.t("not a member"):c&&E&&A&&d&&!v&&!h&&!f&&!y?n.t("current channel, has unread messages and notifications, private"):!c&&E&&A&&d&&!v&&!h&&!f&&!y?n.t("has unread messages and notifications, private"):c&&!E&&A&&d&&!v&&!h&&!f&&!y?n.t("current channel, has notifications, private"):!c&&!E&&A&&d&&!v&&!h&&!f&&!y?n.t("has notifications, private"):c&&E&&!A&&d&&!v&&!h&&!f&&!y?n.t("current channel, has unread messages, private"):!c&&E&&!A&&d&&!v&&!h&&!f&&!y?n.t("has unread messages, private"):c&&!E&&!A&&d&&!v&&!h&&!f&&!y?n.t("current channel, private"):!c&&!E&&!A&&d&&!v&&!h&&!f&&!y?n.t("private"):c&&E&&A&&!d&&!v&&!h&&!f&&!y?n.t("current channel, has unread messages and notifications"):!c&&E&&A&&!d&&!v&&!h&&!f&&!y?n.t("has unread messages and notifications"):c&&!E&&A&&!d&&!v&&!h&&!f&&!y?n.t("current channel, has notifications"):!c&&!E&&A&&!d&&!v&&!h&&!f&&!y?n.t("has notifications"):c&&E&&!A&&!d&&!v&&!h&&!f&&!y?n.t("current channel, has unread messages"):!c&&E&&!A&&!d&&!v&&!h&&!f&&!y?n.t("has unread messages"):c&&!E&&!A&&!d&&!v&&!h&&!f&&!y?n.t("current channel"):"")();return i&&!I&&!C?n.t("{channelName}, previously {previousChannelName}",{channelName:u,previousChannelName:i}):!i&&!I&&C?n.t("{channelName} ({context})",{channelName:u,context:C}):i&&!I&&C?n.t("{channelName}, previously {previousChannelName} ({context})",{channelName:u,previousChannelName:i,context:C}):!i&&I&&!C?n.t("{channelName}, {workspaceDescription}",{channelName:u,workspaceDescription:I}):i&&I&&!C?n.t("{channelName}, previously {previousChannelName}, {workspaceDescription}",{channelName:u,workspaceDescription:I,previousChannelName:i}):!i&&I&&C?n.t("{channelName}, {workspaceDescription} ({context})",{channelName:u,workspaceDescription:I,context:C}):i&&I&&C?n.t("{channelName}, previously {previousChannelName}, {workspaceDescription} ({context})",{channelName:u,workspaceDescription:I,previousChannelName:i,context:C}):u||""}m(r,"makeAriaLabelForChannel")},1269024372:(W,T,e)=>{"use strict";e.d(T,{e:()=>s,k:()=>n});var t=e(352142497);const s={recent:t.D.RecentPlatform,"workflows-managed-by-you":t.D.BrowseWorkflowsManagedByYou,workflows:t.D.BrowseShortcuts,"all-workflows":t.D.BrowseShortcuts,templates:t.D.BrowseWorkflowTemplates,apps:t.D.BrowseApps};function n(r){return s[r]}m(n,"maybeGetAutomationsTab")},264208541:(W,T,e)=>{"use strict";e.d(T,{Ey:()=>i,Hn:()=>o,gs:()=>a,mw:()=>l,nS:()=>_});var t=e(8665296019),s=e(1033764764),n;let r=!!(!(window==null||(n=window.performance)===null||n===void 0)&&n.memory);function u(){return r?window.performance.memory.jsHeapSizeLimit:null}m(u,"getMemoryLimit");function i(){return r?window.performance.memory.totalJSHeapSize:null}m(i,"getMemoryTotal");function o(){return r?window.performance.memory.usedJSHeapSize:null}m(o,"getMemoryUsed");function a(){return r}m(a,"supportsMemoryMeasurement");function _(g){const c=g/1e3/1e3;return`${c<100?c.toPrecision(3):Math.round(c)} MB`}m(_,"humanizeBytes");function l(g,c){const E=(0,t.A)(g,A=>{let{memory:d}=A;return d[c]||0});return Math.ceil((0,s.UK)(E))}m(l,"sumMemoryMetricsByKey"),Object.defineProperties({},{SUPPORTS_MEMORY_MEASUREMENT:{get:()=>r,set:g=>{r=g}}})},5737576046:(W,T,e)=>{"use strict";e.d(T,{Pw:()=>l,bC:()=>o,wn:()=>_,zC:()=>a});var t=e(1703559452),s=e(1022424641),n=e(337319621),r=e(8800777280),u=e(168261570);const i={};function o(p){let{channelId:g,functions:c,getInputInstance:E,threadTs:A,viewContext:d}=p;if(!E)throw new Error('Missing required "getInputInstance" param');const v=`${d}-${g}-${A}`;return i[v]&&(0,n.Ay)().warn(`Registering duplicate input (key: "${v}")`),i[v]={clear:()=>{var h,f;(h=E())===null||h===void 0||(f=h.clear)===null||f===void 0||f.call(h)},clearHistory:()=>{var h,f;(h=E())===null||h===void 0||(f=h.clearHistory)===null||f===void 0||f.call(h)},focus:()=>{var h,f;(h=E())===null||h===void 0||(f=h.focus)===null||f===void 0||f.call(h)},getContents:()=>{var h,f;return(h=E())===null||h===void 0||(f=h.getContents)===null||f===void 0?void 0:f.call(h)},getDisplayValue:()=>{var h,f;return(h=E())===null||h===void 0||(f=h.displayValue)===null||f===void 0?void 0:f.call(h)},getLength:()=>{var h,f;return(h=E())===null||h===void 0||(f=h.getLength)===null||f===void 0?void 0:f.call(h)},getSelection:()=>{var h,f;return(h=E())===null||h===void 0||(f=h.getSelection)===null||f===void 0?void 0:f.call(h)},getText:()=>{var h,f;return(h=E())===null||h===void 0||(f=h.value)===null||f===void 0?void 0:f.call(h)},hasFocus:()=>{var h,f;return(h=E())===null||h===void 0||(f=h.hasFocus)===null||f===void 0?void 0:f.call(h)},insertContentsAtCursor:function(){for(var h=arguments.length,f=new Array(h),y=0;y<h;y++)f[y]=arguments[y];var I,C;(I=E())===null||I===void 0||(C=I.insertContentsAtCursor)===null||C===void 0||C.call(I,...f)},isEmpty:()=>{var h,f;return!!(!((h=E())===null||h===void 0||(f=h.isEmpty)===null||f===void 0)&&f.call(h))},isEnabled:()=>{var h,f;return!!(!((h=E())===null||h===void 0||(f=h.isEnabled)===null||f===void 0)&&f.call(h))},prependContents:h=>{var f,y;(f=E())===null||f===void 0||(y=f.prependContents)===null||y===void 0||y.call(f,h)},setContents:function(){for(var h=arguments.length,f=new Array(h),y=0;y<h;y++)f[y]=arguments[y];var I,C;(I=E())===null||I===void 0||(C=I.setContents)===null||C===void 0||C.call(I,...f)},setCursor:function(){for(var h=arguments.length,f=new Array(h),y=0;y<h;y++)f[y]=arguments[y];var I,C;(I=E())===null||I===void 0||(C=I.setCursor)===null||C===void 0||C.call(I,...f)},setCursorAtEnd:()=>{var h,f;(h=E())===null||h===void 0||(f=h.setCursorAtEnd)===null||f===void 0||f.call(h)},setPlaceholder:h=>{var f,y;(f=E())===null||f===void 0||(y=f.setPlaceholder)===null||y===void 0||y.call(f,h)},setText:function(){for(var h=arguments.length,f=new Array(h),y=0;y<h;y++)f[y]=arguments[y];var I,C;(I=E())===null||I===void 0||(C=I.value)===null||C===void 0||C.call(I,...f)},...c},()=>{delete i[v]}}m(o,"registerInputAuto");function a(p){let{viewContext:g,channelId:c,threadTs:E}=p;return i[`${g}-${c}-${E||void 0}`]}m(a,"getInputProxy");function _(p){if(!p||!(0,u.A)(p))return null;let g,c,E;return(0,r.A)(p,d=>d.getAttribute("data-message-input")?(g=d.getAttribute("data-channel-id"),c=d.getAttribute("data-thread-ts"),E=d.getAttribute("data-view-context"),!0):!1)?a({viewContext:E,channelId:g,threadTs:c}):null}m(_,"getProxyForElement");function l(){let{channelId:p,threadTs:g}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const c=`${p}-${g}`,E=Object.keys(i);return(0,t.A)(E,A=>(0,s.A)(A,c))}m(l,"isInputRegistered")},662226046:(W,T,e)=>{"use strict";e.d(T,{R2:()=>A,bP:()=>d,ec:()=>I,fU:()=>y,p6:()=>M,qe:()=>C,x2:()=>S,yj:()=>P});var t=e(6858020025),s=e(3783303734),n=e(4094753332),r=e(337319621),u=e(3855029223),i=e(2872463257),o=e(8847766420),a=e(5795074931);const _="notification:sent",l="notification:received",p="notification:opened",g="notification:quick_reply",c="notification:read_in_app",E=100;function A(b){try{return JSON.stringify(b)}catch(O){return(0,r.Wo)().warn("encodeNotificationTracePassthrough json stringify error",O),""}}m(A,"encodeNotificationTracePassthrough");function d(b){try{const{traceId:O,parentSpanId:L}=JSON.parse(b);return{traceId:O,parentSpanId:L}}catch(O){return(0,r.Wo)().warn("decodeNotificationTracePassthrough json parse error",O),{traceId:"",parentSpanId:""}}}m(d,"decodeNotificationTracePassthrough");function v(b){let{tracer:O,name:L,parentSpanId:k,traceId:K}=b;return O.createSpan({name:L,samplingOptions:{sampleType:i.nl.ALWAYS},options:{parentSpanId:k,traceId:K}})}m(v,"createSpan");function h(b){let{tracer:O,name:L,parentSpanId:k,traceId:K}=b;const N=v({tracer:O,name:L,parentSpanId:k,traceId:K});return N.close(),N}m(h,"createAndCloseSpan");function f(b,O){let{tracer:L,message:k}=O;const K=h({tracer:L,name:_}),N=(0,n.y3)()?"desktop":"browser",R=(0,a.WR)(b),U=(0,o.ZT)(b),x=(0,t.A)(k==null?void 0:k.ts,".",""),B=k==null?void 0:k.channel,F=`${R}-${B}-${x}`;return K.addTags({platform:N,encoded_user_id:R,encoded_team_id:U,encoded_channel_id:B,message_ts:x,notification_id:F}),K}m(f,"createAndCloseNotificationSentSpan");function y(b,O){let{message:L}=O;if(!L||!(L!=null&&L.ts)||!(L!=null&&L.channel))return;const k=(0,u.E)({state:b});let K,N;const R=[];if((L==null?void 0:L.type)==="desktop_notification"&&(L!=null&&L.trace_ctx))K=L.trace_ctx["x-b3-traceid"],N=L.trace_ctx["x-b3-spanid"];else{const x=f(b,{tracer:k,message:L});R.push(x),N=x.getId(),K=x.getTraceId()}const U=h({name:l,tracer:k,traceId:K,parentSpanId:N});return R.push(U),k.reportSpans(R),{traceId:K,parentSpanId:N}}m(y,"traceNotificationSentAndReceived");function I(b,O){let{notificationTracePassthroughData:L}=O;if(!L)return;const{traceId:k,parentSpanId:K}=L,N=(0,u.E)({state:b}),R=h({tracer:N,traceId:k,parentSpanId:K,name:p});N.reportSpans([R])}m(I,"traceNotificationOpened");function C(b,O){let{notificationTracePassthroughData:L,clientMsgId:k}=O;if(!L||!k)return;const{traceId:K,parentSpanId:N}=L,R=(0,u.E)({state:b}),U=h({tracer:R,traceId:K,parentSpanId:N,name:g});U.addTags({reply_message_client_message_id:k}),R.reportSpans([U])}m(C,"traceNotificationQuickReply");let D={};function M(b){return!!D[b]}m(M,"messageHasPendingNotificationTrace");function P(b,O){let{timestamp:L,notificationTracePassthroughData:k}=O;if(!k)return;(0,s.A)(D)>E&&((0,r.Ay)({state:b}).error("notification-tracing-utils: notificationTracePassThroughData exceeded maximum size"),D={});const{traceId:K,parentSpanId:N}=k,R=(0,u.E)({state:b}),U=v({tracer:R,traceId:K,parentSpanId:N,name:c});D[L]=U}m(P,"openNotificationReadSpan");function S(b,O){let{timestamp:L}=O;if(!L)return;const k=D[L];if(!k)return;const K=(0,u.E)({state:b});k.close(),K.reportSpans([k]),delete D[L]}m(S,"closeAndReportNotificationReadSpan")},5123689463:(W,T,e)=>{"use strict";e.d(T,{Kk:()=>l,N_:()=>c,Oh:()=>g,iu:()=>E,px:()=>a,rk:()=>_});var t=e(8786006583),s=e(7101754232),n=e(3929724715),r=e(9022734571),u=e(2523456537),i=e(7732872146);function o(d){const{hostname:v,pathname:h,search:f}=d;if(!v||!h)return;const y=v.split("."),I=h.split("/").slice(1);if(!(0,u.A)(v)||I.length<2)return;const C=I[0];switch(C){case"messages":case"archives":case"conversation":case"files":case"search":case"lists":break;default:return}const D=y[0],M=(0,t.A)(f.split("?")),P=M&&(0,r.nT)(M);let S;return P&&P.thread_ts&&(S=P.thread_ts),{team:D,type:C,path:I,threadTs:S}}m(o,"parsePermalinkFromUrlObject");function a(d){return _((0,i.Ay)(d))}m(a,"getPermalinkIdentifier");function _(d){const v=o(d);if(!v)return;const{path:h}=v;return h?h&&h[1]:!1}m(_,"getPermalinkIdentifierFromUrlObject");function l(d){let{team:v,channelId:h,ts:f,threadTs:y}=d,I=h&&(0,n.Bn)({team:v,channelId:h,archive:!0});return h&&f&&(I+=`/p${f.replace(".","")}`),h&&f&&y&&y!==f&&(I+=`?thread_ts=${y}&cid=${h}`),I}m(l,"getXWSPermalink");function p(d){let{encodedSearchString:v}=d;return`/search/${v}`}m(p,"getSearchPermalink");function g(d,v){return`/archives/${d}/tabs/${v}`}m(g,"getChannelTabPermalink");function c(d){return`/create/channel/${(0,s.R)(d)?d:d.toLowerCase().replace("_solution","_template")}`}m(c,"getChannelTemplatePermalink");function E(d){let{channelId:v,ts:h,threadTs:f}=d,y="/archives";return v&&(y+=`/${v}`),v&&h&&(y+=`/p${h.replace(".","")}`),v&&h&&f&&f!==h&&(y+=`?thread_ts=${f}&cid=${v}`),y}m(E,"getPermalink");var A=null},1369898444:(W,T,e)=>{"use strict";e.d(T,{M:()=>u,W:()=>r});var t=e(7002741921),s=e(2878685908),n=e(8749908259);function r(i,o){const a={resources:[],frames:[],stacks:[],samples:[]},_=new Map,l=new Map,p=new Map;function g(v){if(p.has(v))return p.get(v);const h=a.resources.length;return a.resources.push(i.resources[v]),p.set(v,h),h}m(g,"mapResource");function c(v){if(l.has(v))return l.get(v);const h=i.frames[v],f=a.frames.length;return h.resourceId!=null?a.frames.push({...h,resourceId:g(h.resourceId)}):a.frames.push(h),l.set(v,f),f}m(c,"mapFrame");function E(v){if(_.has(v))return _.get(v);const h=i.stacks[v],f=h.parentId?E(h.parentId):void 0,y=c(h.frameId),I=a.stacks.length;return a.stacks.push(f!=null?{parentId:f,frameId:y}:{frameId:y}),_.set(v,I),I}m(E,"mapStack");function A(v){v.stackId==null?a.samples.push(v):a.samples.push({timestamp:v.timestamp,stackId:E(v.stackId)})}m(A,"addSample");let d=0;for(const{start:v,end:h}of o){for(;d<i.samples.length&&i.samples[d].timestamp<v;)d+=1;for(;d<i.samples.length&&i.samples[d].timestamp<=h;)A(i.samples[d]),d+=1}return a}m(r,"filterTrace");function u(){return!(0,s.b3)()&&(0,t._)("self_profiling","enabled")&&!(0,n.b)()}m(u,"isProfilingEnabled")},5332109660:(W,T,e)=>{"use strict";e.d(T,{D:()=>t});const t=m(s=>{const n=s.split(":");return{salesforceOrgId:n[1]||"",rawRecordId:n[2]||"",relatedListId:n[3]||""}},"parseSalesforceCompositeId")},7948868735:(W,T,e)=>{"use strict";e.d(T,{F:()=>n});var t=e(1545824888),s=e(4615579178);class n extends s.l{fetchData(){return t.S.resolve()}onCacheData(u){super.onCacheData(u);const i=1e3*60*60*4;this.refreshTimer&&clearTimeout(this.refreshTimer),this.refreshTimer=null,this.refreshTimer=setTimeout(()=>{this._callCacheGet()},this.timeoutMs+Math.random()*i)}getStaleWhileRevalidate(u){return this.isStaleOrUndefined()&&(this._callCacheGet(),this.cachedData===void 0)?u:this.cachedData}constructor(){super(()=>this.fetchData(),1008e5,!1),this.refreshTimer=null}}m(n,"AutocompleteCache")},9186097751:(W,T,e)=>{"use strict";e.d(T,{S1:()=>E});var t=e(1545824888),s=e(1520110262),n=e(7679173189),r=e(7948868735),u=e(6533394955);const i=.014,o=.094,a=.148,_=.132,l=.179;class p extends r.F{fetchData(){return(0,n.Am)(this.teamId)?(0,u.Qw)(this.teamId,(0,s.yp)()).catch(d=>({exception:d})).then(d=>new g({topEmojis:d.top_emojis,topMpims:d.top_mpims,topChannels:d.top_channels,topUsers:d.top_users,emojiFeatures:d.emoji_features,mpimFeatures:d.mpim_features,channelFeatures:d.channel_features,userFeatures:d.user_features,mpimCtr:d.mpim_ctr,channelCtr:d.channel_ctr,userCtr:d.user_ctr,emojiCtr:d.emoji_ctr,otherCtr:d.other_ctr,defaultFeatureNames:d.default_features,topAppActions:d.top_app_actions,topGlobalActions:d.top_global_actions,topSlashCommands:d.top_slash_commands,topWorkflowTriggers:d.top_workflow_triggers,topChannelActions:d.top_channel_actions,appActionCtr:d.app_action_ctr,globalActionCtr:d.global_action_ctr,slashCommandCtr:d.slash_command_ctr,workflowTriggerCtr:d.workflow_trigger_ctr,channelActionCtr:d.channel_action_ctr,usersHasDmed:d.users_has_dmed,channelPriority28D:d.channel_priority_28d,channelPriority90D:d.channel_priority_90d,userAffinity:d.user_affinity})):t.S.resolve(new g)}getStaleWhileRevalidate(){return super.getStaleWhileRevalidate(new g)}constructor(d){super(),this.teamId=d}}m(p,"AutocompleteFeaturesCache");class g{getFeatures(d,v){const h=this.topEntities[v],f=this.featureNames[v]||this.featureNames.default,y=this.defaultEntityFeatures[v],I=h&&h[d];if(I&&f){const C={};for(let M=0;M<f.length;M++)C[f[M]]=I[M];const D={team_ctr_90dd:y.team_ctr_90dd,user_ctr_30dd:y.user_ctr_30dd};for(const M of Object.keys(y))D[M]=C[M]||y[M];return D}return y}getEntityCtr(d){return this.entityCtr[d]||this.otherEntityCtr}getUserDmChannelMetadata(d){return this.usersHasDmed?this.usersHasDmed[d]:null}getProcessedPriorityFeatures(){if(!this.priorityFeatures)return null;const{channelPriority28D:d,channelPriority90D:v,userAffinity:h,usersHasDmed:f}=this.priorityFeatures,y={topChannels28D:[],topChannels90D:[],topUsers:[],topUsersHasDmed:[]},I=m(C=>Object.entries(C).sort((D,M)=>{const P=D[1],S=M[1],b=typeof P=="number"?P:P.last_read_abs;return(typeof S=="number"?S:S.last_read_abs)-b}).slice(0,50).map(D=>D[0]),"processPriorityFeature");if(d){const C=I(d);y.topChannels28D=C}if(v){const C=I(v);y.topChannels90D=C}if(h){const C=I(h);y.topUsers=C}if(f){const C=I(f);y.topUsersHasDmed=C}return y}constructor({topEmojis:d,topMpims:v,topChannels:h,topUsers:f,emojiFeatures:y,mpimFeatures:I,channelFeatures:C,userFeatures:D,mpimCtr:M,channelCtr:P,userCtr:S,emojiCtr:b,otherCtr:O,defaultFeatureNames:L,topAppActions:k,topGlobalActions:K,topSlashCommands:N,topWorkflowTriggers:R,topChannelActions:U,appActionCtr:x,globalActionCtr:B,slashCommandCtr:F,workflowTriggerCtr:V,channelActionCtr:Y,usersHasDmed:w,channelPriority28D:G,channelPriority90D:Ee,userAffinity:ne}={}){this.topEntities={emoji:d,mpim:v,channel:h,member:f,appAction:k,globalAction:K,slashCommand:N,workflowTrigger:R,channelAction:U},this.featureNames={emoji:y,mpim:I,channel:C,member:D,default:L},this.otherEntityCtr=O??l,this.entityCtr={mpim:M??i,channel:P??a,member:S??_,emoji:b??o,appAction:x??this.otherEntityCtr,globalAction:B??this.otherEntityCtr,slashCommand:F??this.otherEntityCtr,workflowTrigger:V??this.otherEntityCtr,channelAction:Y??this.otherEntityCtr},this.defaultEntityFeatures={};for(const se of Object.keys(this.entityCtr))this.defaultEntityFeatures[se]={team_ctr_90dd:this.getEntityCtr(se),user_ctr_30dd:this.getEntityCtr(se)};this.usersHasDmed=w,this.priorityFeatures={channelPriority28D:G,channelPriority90D:Ee,userAffinity:ne,usersHasDmed:w}}}m(g,"AutocompleteFeatures");const c={};function E(A){let{teamId:d,enterpriseId:v}=A;const h=v||d||"_default";return c[h]||(c[h]=new p(d)),c[h]}m(E,"getAutocompleteFeaturesCache")},4256321479:(W,T,e)=>{"use strict";e.d(T,{E:()=>o});var t=e(5276466411),s=e(7948868735),n=e(6533394955),r=e(474652310);class u extends s.F{handleFileDeletion(_){if(this.cachedData&&this.cachedData.length>0){const l=this.cachedData.filter(p=>!(_!=null&&_.includes(p.id)));this.cachedData=l}}fetchData(){return(0,n.Qw)(this.teamId,(0,t.z)({reason:"fetch-search-autocomplete-top-engaged-files"})).then(_=>((0,n.Qw)(this.teamId,(0,r.b)({files:_.files})),_.files))}constructor(_,l){super(),this.teamId=_,this.timeoutMs=l}}m(u,"AutocompleteTopEngagedFilesCache");const i={};function o(a){let{teamId:_}=a;const l=_||"_default",p=36e5;return i[l]||(i[l]=new u(_,p)),i[l]}m(o,"getAutocompleteTopEngagedFilesCache")},1948374838:(W,T,e)=>{"use strict";e.d(T,{X:()=>u});var t=e(2223860501),s=e(8847766420);let n=m(class{isStale(){return Date.now()-this.updatedDate>this.timeoutMs}isPrefixStale(){return Date.now()-this.prefixUpdatedDate>this.prefixTimeoutMs}clearIfStale(){this.isStale()&&(this.queryCache.clear(),this.updatedDate=Date.now())}clearPrefixIfStale(){this.isPrefixStale()&&(this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now())}contains(o){const a=this.queryCache.has(o);return this.clearIfStale(),a}containsPrefixOf(o){return this.clearPrefixIfStale(),this.prefixQueryCache.containsPrefix(o)}add(o){return this.clearIfStale(),this.queryCache.add(o)}addAsPrefix(o){return this.clearPrefixIfStale(),this.prefixQueryCache.add(o)}setRequestInFlight(){this.inFlightRequestStartTime=Date.now()}clearRequestInFlight(){delete this.inFlightRequestStartTime}isRequestInFlight(){return this.inFlightRequestStartTime?Date.now()-this.inFlightRequestStartTime<this.inFlightRequestTimeoutMs:!1}reset(){this.queryCache.clear(),this.updatedDate=Date.now(),this.prefixQueryCache.clear(),this.prefixUpdatedDate=Date.now(),this.clearRequestInFlight()}constructor(){this.queryCache=new t.A,this.prefixQueryCache=new t.A,this.updatedDate=Date.now(),this.prefixUpdatedDate=Date.now(),this.timeoutMs=1e3*60*60*8,this.prefixTimeoutMs=1e3*60*15,this.inFlightRequestTimeoutMs=400}},"WorkflowTriggersAutocompleteQueryCache");const r={};function u(i){const o=(0,s.ZT)(i),_=(0,s.jV)(i)||o||"";return r[_]||(r[_]=new n),r[_]}m(u,"getWorkflowTriggersAutocompleteQueryCache")},8170659516:(W,T,e)=>{"use strict";e.d(T,{A:()=>u});var t=e(3502457281),s=e(3929724715),n=e(8921478798),r=e(5795074931);function u(i){let{state:o,mpim:a,matchData:_}=i;const l=(0,r.WR)(o);let p=[];if((0,s.Ug)(a)&&(p=(0,s.Ug)(a).filter(d=>l!==d)),!_)return p;const g=!1,c=!1,E=[];_.forEach(d=>{d.map(h=>({name:(0,n.I)(o,h.id,g,c),...h})).sort((h,f)=>h.score<f.score?1:h.score>f.score?-1:(0,t.Ay)(h.name,f.name)).filter(h=>isFinite(h.score)).forEach(h=>{p.includes(h.id)&&(E.push(h.id),p.splice(p.indexOf(h.id),1))})});const A=p.map(d=>({id:d,name:(0,n.I)(o,d,g,c)})).sort((d,v)=>(0,t.Ay)(d.name,v.name)).map(d=>d.id);return[...E,...A]}m(u,"getMemberDisplayOrderForSearcherMPIM")},220244708:(W,T,e)=>{"use strict";e.d(T,{B:()=>r});var t=e(6495946979),s=e(8170643398),n=e(3730613858);function r(u,i,o){if((0,s.fy)(i))return(0,t.bl)(o);const a=(0,n.Ql)(u,o.id,i.id);return!!(a.isKnown&&a.isMember)}m(r,"isUserKnownToBeMemberOfChannel")},9703079150:(W,T,e)=>{"use strict";e.d(T,{t:()=>s});var t=e(5853759500);class s{score(r){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=0;const o=r.featureList.length;for(let a=0;a<o;a++)i+=this._weightForFeature(r.featureList[a],u.source||null)*((0,t.W0)(r.featureList[a])||0);return i}explain(r){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=u.source||null,o=r.featureList.map(l=>({id:l.id,name:l.name,value:l.valueOrNull,weight:this._weightForFeature(l,i),globalWeight:this._globalWeightForFeature(l),score:this._weightForFeature(l,i)*(0,t.W0)(l)})),a=o.filter(l=>l.score).sort((l,p)=>p.score-l.score),_=o.filter(l=>l.value&&!l.score&&l.name!=="ID");return{score:this.score(r,u),features:[...a,..._],remoteModel:this.isRemote}}_globalWeightForFeature(r){return this.weights[r.name]||0}_weightForFeature(r){let u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,i=0;r.name==="USER_IS_EXTERNAL"&&(i=-1);const o=this.weights[r.name]||0,_=u&&(u==="composer_page__destination"||u.startsWith("share"))?"WRITE":"READ",l=this.weights[`${_}_${r.name}`]||0;return o+l+i}constructor(r,u=!1){this.isRemote=u,this.weights=r}}m(s,"LinearModel")},888345940:(W,T,e)=>{"use strict";e.d(T,{A:()=>z});var t=e(7715417323),s=e(5729325965),n=e(1703559452),r=e(4249070636),u=e(5238395322),i=e(8086952004),o=e(2003990933),a=e(4874502712);class _{get($){if(!this.cache.has($))return;const q=this.cache.get($);return this.cache.delete($),this.cache.set($,q),q}set($,q){if(this.cache.has($))this.cache.delete($);else if(this.cache.size>=this.maxSize){const re=this.cache.keys().next().value;this.cache.delete(re)}this.cache.set($,q)}has($){return this.cache.has($)}delete($){this.cache.has($)&&this.cache.delete($)}size(){return this.cache.size}clear(){this.cache.clear()}constructor($=20){this.cache=new Map,this.maxSize=$}}m(_,"LRUCacheMapOnly");var l=e(3037015781),p=e(8496310524),g=e(7111365413),c=e(3929724715),E=e(1407713935),A=e(8920264989),d=e(8798294025),v=e(395285811),h=e(3890290905);const f=m(te=>te&&(te.displayName||te.display_name||(0,h.Y)(te)),"getEmojiDisplayName"),y=m(te=>te?(te.aliases?[te,...te.aliases]:[te]).map(q=>({name:(0,h.Y)(q),displayName:f(q)})):null,"getAllEmojiNameObjects");var I=e(2647703359),C=e(102566929),D=e(5455782105),M=e(8170643398),P=e(9262712126),S=e(6120301420),b=e(3212336858),O=e(6839188756),L=e(2546018671),k=e(1033870301),K=e(337319621),N=e(4058658129),R=e(6163112184),U=e(8088280230);const x={china:["pinching_hand","pinching-hand"],dead:["older_adult"],dump:["hindu_temple"],fail:["family"],gross:["flag-progress-pride"],hi:["shit"],hit:["shit"],hitler:["white_flower"],it:["shit"],macht:["mannlichkeitssymbol"],sh:["shit"],shi:["shit"],shoot:["school_satchel"],s:["shit"],sit:["shit"],sith:["person_with_headscarf"],war:["man-wearing-turban"],whine:["menorah_with_nine_branches"],worst:["woman-wrestling"],wrong:["woman-rowing-boat"]};var B=e(1917953477),F=e(8935440161),V=e(6312133237),Y=e(8518663094),w=e(2332798892);const G=m(te=>(te||"").split(/\s+/)[0],"getFirstWord"),Ee=m(te=>["/","\uFF0F"].includes((te||"").charAt(0))?te:`/${te}`,"prependSlashToStr"),ne=m(te=>((te||"").split(/[^\S\n\r]+/g)||[]).length>1,"strHasSpace");var se=e(8847766420),ce=e(2762206868),pe=e(9101533895),ye=e(4761125736),Ie=e(8276911661),Se=e(3677514771);const le=/\s+/g,X=/[-]+/g,J=new _(2e3);let z=m(class{filterMembers($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if((0,M.Zx)(oe)||this.shouldFilterItem(oe,re))return de;if(!this.query&&this.allowEmptyQuery){const ie={item:oe,score:0,id:oe.id};return this.selfFirst&&(0,M.fy)(oe)&&(ie.isSelf=!0),de.push(ie),de}const{score:De,scoreDetails:ae}=this.scoreMember(oe),Z={item:oe,score:De,scoreDetails:ae,id:oe.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(Z.isExactMatch=this.isMemberExactMatch(oe),Z.exactMatchDetails=this.getMemberExactMatchDetails(oe)),this.selfFirst&&(0,M.fy)(oe)&&(Z.isSelf=!0),De<=this.fuzzyLimit&&de.push(Z),de},[])}scoreMember($){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher;const re=1/0,de={};if(this.queryIsMaybeSelf&&(0,M.fy)($))de.self_score=0;else{const Z=(0,P.j_)($),ie=(0,P.sJ)($);de.real_name=Z?q.score(Z):re,de.display_name=ie?q.score(ie):re}if(this.shouldMatchEmail){const Z=(0,P.ZL)($);de.email=Z?this.forwardOnlyMatcher.score(Z):1/0}var oe;const De=(oe=(0,s.A)(Object.values(de)))!==null&&oe!==void 0?oe:re,ae=Object.entries(de).reduce((Z,ie)=>{let[Ce,Re]=ie;return isFinite(Re)&&(Z[Ce]=Re),Z},{});return{score:De,scoreDetails:ae}}filterChannels($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if((0,E.cb)(oe)||(0,E.Zx)(oe)||(0,v.jT)(oe)||this.shouldFilterItem(oe,re))return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=(0,V.B)((0,A.SB)($,oe,{publicChannelIncludeHashSign:!1})),ae=this.matcher.score(De),Z={item:oe,score:ae,id:oe.id};this.preferExactMatch&&(Z.isExactMatch=this.isChannelExactMatchPreNormalized(De));const ie=this.options.entities&&this.options.entities.channels&&this.options.entities.channels.searchPreviousNames,Ce=oe.previous_names&&oe.previous_names.length;let Re=!1;if(ie&&Ce){var He;const be=oe==null||(He=oe.previous_names)===null||He===void 0?void 0:He.map(ve=>({score:this.matcher.normalizeAndScore(ve),name:ve}));Z.previousNameScores=be,Re=(0,n.A)(be,ve=>ve.score<=this.fuzzyLimit);const Ue=Re&&ae>this.fuzzyLimit;let me;if(Ue){const ve=(0,r.A)(be,"score");me=ve&&ve.name}Z.bestPreviousNameMatch=me}return ae<=this.fuzzyLimit||Re?de.push(Z):this.rawQuery===oe.id&&de.push({item:oe,score:0,id:oe.id}),de},[])}filterTeams($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if((0,O.Zx)(oe)||this.shouldFilterItem(oe,re))return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=this.matcher.normalizeAndScore((0,O.F1)(oe)),ae={item:oe,score:De,id:oe.id};return this.preferExactMatch&&(ae.isExactMatch=this.isTeamExactMatch(oe)),De<=this.fuzzyLimit&&de.push(ae),de},[])}filterUserGroups($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if((0,L.Zx)(oe)||this.shouldFilterItem(oe,re))return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=this.scoreUserGroupName(oe),ae={item:oe,score:De,id:oe.id};return this.preferExactMatch&&(ae.isExactMatch=this.isUsergroupExactMatch(oe)),De<=this.fuzzyLimit&&de.push(ae),de},[])}scoreUserGroupName($){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,re=1/0,de=1/0;const oe=(0,L.TZ)($)||(0,L.ue)($).toLocaleLowerCase(),De=(0,L.x_)($,{includeAtSign:!1});return re=q.normalizeAndScore(oe),De&&(de=q.normalizeAndScore(De)),Math.min(re,de)}getSubQueryMatchers(){return this.query.split(/[,| ]/).filter(q=>!!q).map(q=>{const re=q.charAt(0)==="@"?q.substring(1):q;return new F.A(re,{fuzzyLimit:this.fuzzyLimit,matchBeyondWordBoundaries:this.options.matchBeyondWordBoundaries})})}filterMpims($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const de=(0,R.h)($),oe=(0,N.z)($);return q.reduce((De,ae)=>{var Z;if(this.shouldFilterItem(ae,re))return De;if(!this.query&&this.allowEmptyQuery)return De.push({item:ae,score:0,id:ae.id}),De;if((de||oe)&&(!((Z=ae.topic)===null||Z===void 0)&&Z.value)){const Ke=(0,V.B)(ae.topic.value),j=this.matcher.score(Ke),ee={item:ae,score:j,id:ae.id};if(this.preferExactMatch&&(ee.isExactMatch=this.isChannelExactMatchPreNormalized(Ke)),j<=this.fuzzyLimit)return De.push(ee),De}const ie=(0,c.Ug)(ae);if(!ie)return De;const Ce=ie.map(Ke=>(0,Ie.nv)($,Ke)).filter(Ke=>!(0,M.fy)(Ke)&&!(0,M.Zx)(Ke)),Re={},He={},be=[];let Ue=0;const me=this.getSubQueryMatchers();for(const Ke of me){const j=[];let ee=1/0;for(const je of Ce){const{score:Te,scoreDetails:Je}=this.scoreMember(je,Ke),Ae=Re==null?void 0:Re[je.id];Te<(Ae!==void 0?Ae:1/0)&&(Re[je.id]=Te,He[je.id]={score_details:Je}),j.push({id:je.id,score:Te}),Te<ee&&(ee=Te)}be.push(j),Ue+=ee}let ve;isFinite(Ue)?ve=(0,u.A)(Object.values(Re).filter(isFinite)):ve=Ue;const Fe={id:ae.id,item:ae,score:ve,scoreDetailsByMember:He,subqueryScoresByMember:be};return ve<=this.fuzzyLimit?De.push(Fe):this.rawQuery===ae.id&&De.push({item:ae,score:0,id:ae.id}),De},[])}filterIms($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if(this.shouldFilterItem(oe,re))return de;const De=(0,d.e)(oe);if(!De)return de;const ae=(0,Ie.nv)($,De);if((0,M.Zx)(ae))return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const{score:Z,scoreDetails:ie}=this.scoreMember(ae),Ce={item:oe,score:Z,scoreDetails:ie,id:oe.id};return!this.avoidExactMatchForMembers&&this.preferExactMatch&&(Ce.isExactMatch=this.isMemberExactMatch(ae),Ce.exactMatchDetails=this.getMemberExactMatchDetails(ae)),Z<=this.fuzzyLimit?de.push(Ce):this.rawQuery===oe.id&&de.push({item:oe,score:0,id:oe.id}),de},[])}filterViews($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if(this.shouldFilterItem(oe,re))return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=this.matcher.normalizeAndScore(oe.name),ae={item:oe,score:De,id:oe.id};return this.preferExactMatch&&(ae.isExactMatch=this.isViewOrModalExact(oe)),De<=this.fuzzyLimit&&de.push(ae),de},[])}filterModals($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if(this.shouldFilterItem(oe,re))return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=this.matcher.normalizeAndScore(oe.name),ae={item:oe,score:De,id:oe.id};return this.preferExactMatch&&(ae.isExactMatch=this.isViewOrModalExact(oe)),De<=this.fuzzyLimit&&de.push(ae),de},[])}filterAppActions($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if((0,l.GU)(oe)||this.shouldFilterItem(oe,re))return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=(0,p.u)(oe),ae=(0,ce.sO)($,oe.app_id),Z=!(0,l.GU)(ae)&&(0,g.fj)(ae),ie=Z?[`${De} ${Z}`,`${Z} ${De}`]:[De],Ce=ie.map(be=>this.matcher.normalizeAndScore(be)),Re=Math.min(...Ce),He={item:oe,score:Re,id:oe.id};return this.preferExactMatch&&(He.isExactMatch=!!(this.query&&ie.map(V.B).includes(this.query))),Re<=this.fuzzyLimit&&de.push(He),de},[])}filterApps($,q,re,de){let oe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:t.A;const De={};return q!=null&&q.length&&q.forEach(ae=>{const Z=ae.app_id;Z&&!De[Z]&&(De[Z]={id:Z,name:ae.appName})}),re!=null&&re.length&&re.forEach(ae=>{const Z=ae==null?void 0:ae.appId;Z&&!De[Z]&&(De[Z]={id:Z,name:ae==null?void 0:ae.appName})}),de!=null&&de.length&&de.forEach(ae=>{const Z=ae.appId;Z&&!De[Z]&&(De[Z]={id:Z,name:ae.appName})}),this.filterShortcuts($,Object.values(De),!1,oe)}filterShortcuts($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,de=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t.A;return q.reduce((oe,De)=>{if((0,l.GU)(De)||this.shouldFilterItem(De,de))return oe;if(!this.query&&this.allowEmptyQuery)return oe.push({item:De,score:0,id:De.id}),oe;const{score:ae,scoreDetails:Z,bestNameMatch:ie,bestNameIsExactMatch:Ce}=this.scoreShortcut(De,re),Re={item:De,id:De.id,score:ae};if(re){Re.firstWordOfRawQuery=G(this.query);const He=(0,w.A)(De,Ee(Re.firstWordOfRawQuery),{allowPartialMatches:!1});Re.commandMatch=He&&this.isOpenedWithSlash,Re.isExactMatch=Re.commandMatch}return Re.scoreDetails=Z,Re.bestNameMatch=ie,Re.bestNameIsExactMatch=Ce,Re.isExactMatch=Re.isExactMatch||Ce,(ae<=this.fuzzyLimit||Re.commandMatch)&&oe.push(Re),oe},[])}scoreShortcut($){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const de=this.isQueryExactlySlash?[]:$.aliases||[];let oe=(0,V.B)((0,b.fK)($));const De={name:re.score(oe),label:re.normalizeAndScore($.label),desc:re.normalizeAndScore((0,b.Hv)($)),app_name:re.normalizeAndScore((0,b.qA)($))};q&&De.name!==void 0&&De.name>0&&(De.name-=1);let ae,Z,ie;de.forEach(be=>{let Ue=(0,V.B)(be);!this.query.startsWith("/")&&!this.query.startsWith("\uFF0F")&&(Ue=(0,B.O)(Ue));const me=re.score(Ue);Ue=(0,B.O)(Ue),!ie&&(ae===void 0||me<ae)&&(ae=me,Z=Ue),this.normalizedQuery===Ue&&(ie=!0,Z=Ue)}),ae!==void 0&&isFinite(ae)&&(De.aliases=ae);var Ce;const Re=(Ce=(0,s.A)(Object.values(De)))!==null&&Ce!==void 0?Ce:1/0;oe=(0,B.O)(oe),!ie&&isFinite(De.name)&&(ae===void 0||De.name<ae)&&(Z=oe),this.normalizedQuery===oe&&(ie=!0,Z=oe);const He=Object.entries(De).reduce((be,Ue)=>{let[me,ve]=Ue;return isFinite(ve)&&(be[me]=ve),be},{});return{score:Re,scoreDetails:He,bestNameMatch:Z,bestNameIsExactMatch:ie}}filterWorkflowTriggers($,q){const re=(0,a.y)($);return q.reduce((de,oe)=>{if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=this.scoreWorkflowTrigger(oe,this.matcher,re),ae={item:oe,score:De,id:oe.id};return this.preferExactMatch&&(ae.isExactMatch=this.isTriggerExactMatch(oe)),De<=this.fuzzyLimit&&de.push(ae),de},[])}scoreWorkflowTrigger($){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;var de;const oe={name:q.normalizeAndScore($.name),description:q.normalizeAndScore($.description),appName:q.normalizeAndScore((de=$.workflow.app)===null||de===void 0?void 0:de.name),...re?{shareUrl:q.normalizeAndScore($.share_url)}:{}};var De;return(De=(0,s.A)(Object.values(oe)))!==null&&De!==void 0?De:1/0}filterBroadcastKeywords($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if(this.shouldFilterItem(oe,re))return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=this.scoreBroadcastKeyword(oe),ae={item:oe,score:De,id:oe.id};return this.preferExactMatch&&(ae.isExactMatch=this.isBroadcastKeywordExactMatch(oe)),De<=this.fuzzyLimit&&de.push(ae),de},[])}scoreBroadcastKeyword($){let q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher,re=1/0,de=1/0;const oe=q.normalizeAndScore($.name);return $.id==="BKchannel"&&(re=q.normalizeAndScore("group")),$.ms_name!==$.name&&(de=q.normalizeAndScore($.ms_name)),Math.min(oe,de,re)}filterEmoji($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const de=[];return q.forEach(oe=>{if(this.shouldFilterItem(oe,re))return;if(!this.query&&this.allowEmptyQuery){var De;de.push({item:oe,emojiScore:0,emojiMatchIndices:[],score:0,id:(De=oe.id)!==null&&De!==void 0?De:oe.name});return}var ae;const Z=(ae=y(oe))!==null&&ae!==void 0?ae:[];let ie=1/0,Ce,Re,He,be,Ue,me;Z.forEach(je=>{let{name:Te,displayName:Je}=je;if(Te){const Ae=(0,V.B)(Te),Me=this.scoreEmojiName(Ae);(Me.score<ie||ie===1/0)&&(ie=Me.score,Ce=Me.matchIndices,Re=Te,He=Te,Ue=Me.queryLengthRatio,me=Me.totalComboBreaks,be=this.query===Ae||Te==="ok_hand"&&this.query==="ok")}if(Je&&Je!==Te){const Ae=(0,V.B)(Je),Me=this.scoreEmojiName(Ae);(Me.score<ie||ie===1/0)&&(ie=Me.score,Ce=Me.matchIndices,Re=Je,He=Te,Ue=Me.queryLengthRatio,me=Me.totalComboBreaks,be=this.query===Ae)}});const ve=this.options&&this.options.entities&&this.options.entities.emoji&&this.options.entities.emoji.matchKeywords,Fe=oe.keywords,Ke=!!(Fe&&Fe.length&&Array.isArray(Fe));Fe&&Fe.length&&!Array.isArray(Fe)&&(0,K.Ay)({state:$}).error("https://slack.zendesk.com/agent/tickets/2393782",`Emoji keywords for ${oe.name} is not an array - ${oe.keywords}`);let j=!1;if(ie===1/0&&ve&&Ke&&(j=oe.keywords.some(je=>this.matcher.normalizeAndScore(je)<1/0),j&&(Re=oe&&(oe.displayName||oe.name))),ie!==1/0||j){const je=(0,i.A)(Z,Ae=>{let{name:Me}=Ae;return Me===He}),Te=je&&je.displayName;var ee;const Je={item:oe,score:ie,emojiScore:ie,emojiBestNameMatch:Re,emojiBestNameMatchCanonical:He,emojiBestNameMatchLocalized:Te,emojiMatchIndices:Ce,emojiQueryLengthRatio:Ue,emojiTotalComboBreaks:me,id:(ee=oe.id)!==null&&ee!==void 0?ee:oe.name};this.preferExactMatch&&(Je.isExactMatch=be,Je.isEmojiExactMatch=be),de.push(Je)}}),de}scoreEmojiName($){const q={score:1/0,matchIndices:[],queryLengthRatio:0,totalComboBreaks:null};if(!$)return q;if($==="ok_hand"&&this.query==="ok")return{score:0,matchIndices:[0,1],queryLengthRatio:1,totalComboBreaks:0};if(x[this.query]&&x[this.query].indexOf($)!==-1)return q;const re=this.query.length,de=[];let oe=2,De=5;re<3?(oe=0,De=0):re===3?(oe=1,De=1):re===4&&(oe=1);let ae=1/0,Z=0,ie=null,Ce=$.indexOf(this.query);if(Ce===-1&&(Ce=$.indexOf(this.query[0])),Ce!==-1){let He=$,be=this.query;if(this.options.optimizeEmojiRegexWork)if(be=this.modifiedQueryForEmojiMatching,J.has($)){var Re;He=(Re=J.get($))!==null&&Re!==void 0?Re:$}else He=$.replace(X,"_"),J.set($,He);else be=this.query.replace(le,"").replace(X,"_"),He=$.replace(X,"_");const Ue=be.split("");ie=0;let me=0,ve=0,Fe=!0;for(let Ke=Ce;Ke<He.length;Ke++){if(He[Ke]===Ue[0]){if(Fe=!0,de.push(Ke),Ue.shift(),ve>me&&(me=ve),ve=0,Ue.length===0)break}else Fe&&(ie+=1),Fe=!1,ve+=1;if(ie>oe)return{score:ae,matchIndices:de,queryLengthRatio:Z,totalComboBreaks:ie};if(ve>De)return{score:ae,matchIndices:de,queryLengthRatio:Z,totalComboBreaks:ie}}if(Ue.length>0)return q;Z=be.length/He.length,ae=1-Z,ie>0&&(ae+=ie)}return{score:ae,matchIndices:de,queryLengthRatio:Z,totalComboBreaks:ie}}filterFiles($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;const de=(0,S.hq)($),oe=(0,se.Kc)($),De=(0,Se._J)($,oe),ae=(0,D.k)($),Z=De&&(0,O.qR)(De),ie=!ae&&!Z,Ce=(0,ye._Z)($,"native_dlp_canvas")==="on";return q.reduce((Re,He)=>{var be,Ue;if((0,l.GU)(He)||(0,I.sR)(He))return Re;const me=(be=this.options)===null||be===void 0||(Ue=be.entities)===null||Ue===void 0?void 0:Ue.files,ve=!!(me!=null&&me.includeChannelCanvases)||!!(me!=null&&me.onlyChannelCanvases);if(He&&(0,I.aD)(He)&&!ve)return Re;const Fe=He&&(0,I.CA)(He),Ke=He==null?void 0:He.user_team,j=Ke?(0,Se._J)($,Ke):null;var ee;const Te=((ee=(0,O.Ss)(j??void 0))!==null&&ee!==void 0?ee:Ke)!==oe;if(Fe&&(Te||ie)||Ce&&(0,I.Sp)(He)||He&&de&&(me!=null&&me.onlyChannelCanvases||ie)&&(0,I.wL)(He)||this.shouldFilterItem(He,re))return Re;if(!this.query&&this.allowEmptyQuery)return Re.push({item:He,score:0,id:He.id}),Re;const Je=this.scoreFile($,He),Ae={item:He,score:Je,id:He.id};return this.preferExactMatch&&(Ae.isExactMatch=this.isFileExactMatch(He)),Je<=this.fuzzyLimit&&Re.push(Ae),Re},[])}scoreFile($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.matcher;const de=q.name?re.normalizeAndScore(q.name):1/0,oe=q.title&&q.name!==q.title?re.normalizeAndScore(q.title):1/0,De=q.external_url&&this.queryHasLink?re.normalizeAndScore(q.external_url):1/0,ae=q.permalink&&this.queryHasLink?re.normalizeAndScore(q.permalink):1/0;let Z=1/0;if((0,I.aD)(q)){const ie=(0,C.Iz)(q),Ce=(0,pe.OL)($,ie);if(Ce){const Re=(0,V.B)((0,A.SB)($,Ce,{publicChannelIncludeHashSign:!1}));Z=this.matcher.score(Re)}}return Math.min(de,oe,De,ae,Z)}filterLists($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if(this.shouldFilterItem(oe,re))return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=this.scoreList(oe),ae={item:oe,score:De,id:oe.id};return this.preferExactMatch&&(ae.isExactMatch=this.isListExactMatch(oe)),De<=this.fuzzyLimit&&de.push(ae),de},[])}scoreList($){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore($.title)}filterListRecords($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if(this.shouldFilterItem(oe,re)||!oe.name||!oe.listTitle)return de;if(!this.query&&this.allowEmptyQuery)return de.push({item:oe,score:0,id:oe.id}),de;const De=this.scoreListRecord(oe),ae={item:oe,score:De,id:oe.id};return this.preferExactMatch&&(ae.isExactMatch=this.isListRecordExactMatch(oe)),De<=this.fuzzyLimit&&de.push(ae),de},[])}scoreListRecord($){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.matcher).normalizeAndScore($.name)}filterChannelSections($,q){let re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.A;return q.reduce((de,oe)=>{if(this.shouldFilterItem(oe,re))return de;const De=(0,k.v2)($,oe),ae=this.matcher.normalizeAndScore(De),Z={item:oe,score:ae,id:oe.id};return!this.query&&this.allowEmptyQuery?(de.push(Z),de):(ae<=this.fuzzyLimit&&de.push(Z),de)},[])}shouldFilterItem($,q){return q($)===!1||this.filter($)===!1}getMemberExactMatchDetails($){const q={},re=(0,P.j_)($),de=(0,P.sJ)($);return q.real_name=re===this.query,q.display_name=de===this.query,this.shouldMatchEmail&&(q.email=(0,P.ZL)($)===this.query),q}isMemberExactMatch($){return!this.query||!this.query.length?!1:(0,n.A)(this.getMemberExactMatchDetails($),Boolean)}isChannelExactMatchPreNormalized($){return!this.query||!this.query.length?!1:$===this.query}isFileExactMatch($){if(!this.query||!this.query.length)return!1;var q,re;return(0,V.B)($.name)===this.query||(0,V.B)($.title)===this.query||(0,V.B)((q=$.external_url)!==null&&q!==void 0?q:void 0)===this.query||(0,V.B)((re=$.permalink)!==null&&re!==void 0?re:void 0)===this.query}isListExactMatch($){return!this.query||!this.query.length?!1:(0,V.B)($.title)===this.query}isListRecordExactMatch($){return!this.query||!this.query.length?!1:(0,V.B)($.name)===this.query}isTeamExactMatch($){return!this.query||!this.query.length?!1:(0,V.B)((0,O.F1)($))===this.query}isUsergroupExactMatch($){return!this.query||!this.query.length?!1:(0,V.B)((0,L.x_)($))===this.query||(0,V.B)((0,L.ue)($))===this.query}isTriggerExactMatch($){return!this.query||!this.query.length?!1:(0,V.B)($.name)===this.query}isBroadcastKeywordExactMatch($){return!this.query||!this.query.length?!1:(0,V.B)($.name)===this.query||(0,V.B)($.ms_name)===this.query}isViewOrModalExact($){return!this.query||!this.query.length?!1:(0,V.B)($.name)===this.query}filterHelpArticles($,q){const de=q.reduce((oe,De)=>{const ae=(0,V.B)(De.title),Z=this.substringMatcher.normalizeAndScore(De.title);return Z>this.fuzzyLimit?oe:oe.concat({item:{...De,id:String(De.id)},score:Z,isExactMatch:ae===this.query,id:String(De.id)})},[]).sort((oe,De)=>oe.score-De.score);return de.slice(0,Math.min(5,de.length))}filterSalesListViews($,q){return q.reduce((de,oe)=>{const De=oe.label;if(!De)return de;const ae=(0,V.B)(De),Z=this.substringMatcher.normalizeAndScore(ae);if(Z>this.fuzzyLimit)return de;const ie=oe.id;return de.concat({item:{...oe,id:ie,name:De},score:Z,isExactMatch:ae===this.query,id:ie})},[])}constructor({query:$="",options:q={entities:{}}}){var re,de,oe,De,ae,Z,ie,Ce,Re,He,be,Ue,me,ve;this.options=q,this.rawQuery=$,this.query=(0,V.B)($);var Fe;this.fuzzyLimit=(Fe=this.options.fuzzyLimit)!==null&&Fe!==void 0?Fe:3,this.allowEmptyQuery=!!this.options.allowEmptyQuery,this.preferExactMatch=!!(this.options.sort&&this.options.sort.preferExactMatch),this.avoidExactMatchForMembers=!!(!((re=this.options)===null||re===void 0||(de=re.sort)===null||de===void 0)&&de.avoidExactMatchForMembers),this.selfFirst=!!(!((oe=this.options)===null||oe===void 0||(De=oe.sort)===null||De===void 0)&&De.selfFirst),this.filter=this.options.filter||t.A,this.modifiedQueryForEmojiMatching=q!=null&&q.optimizeEmojiRegexWork&&(!(q==null||(ae=q.entities)===null||ae===void 0)&&ae.emoji)?this.query.replace(le,"").replace(X,"_"):this.query,this.shouldMatchEmail=(0,o.A)(this.options,"entities.members.matchEmailField")||(0,o.A)(this.options,"entities.channels.matchEmailField"),this.queryIsMaybeSelf=(0,Y.t)($),this.queryHasLink=(0,U.A)({input:this.query}).length>0,this.normalizedQuery=this.query,!((Z=this.options)===null||Z===void 0||(ie=Z.entities)===null||ie===void 0||(Ce=ie.shortcuts)===null||Ce===void 0)&&Ce.queryStartsWithSlash&&(this.query=Ee(this.query)),this.matcher=new F.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,matchBeyondWordBoundaries:this.options.matchBeyondWordBoundaries}),this.forwardOnlyMatcher=new F.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,searchForwardOnly:this.options.fuzzyEmailSearchForwardOnly,matchBeyondWordBoundaries:this.options.matchBeyondWordBoundaries}),this.substringMatcher=new F.A(this.query,{fuzzyLimit:this.fuzzyLimit,fuzzyJumpLimit:this.options.fuzzyJumpLimit,fuzzyCJK:this.options.fuzzyCJK,substringsOnly:!0}),this.isOpenedWithSlash=!!(!((Re=this.options)===null||Re===void 0||(He=Re.entities)===null||He===void 0||(be=He.shortcuts)===null||be===void 0)&&be.isOpenedWithSlash),this.isQueryExactlySlash=!!(!((Ue=this.options)===null||Ue===void 0||(me=Ue.entities)===null||me===void 0||(ve=me.shortcuts)===null||ve===void 0)&&ve.isQueryExactlySlash)}},"SearcherMatcher")},6897117289:(W,T,e)=>{"use strict";e.d(T,{A:()=>D});var t=e(3367239067),s=e(1703559452),n=e(7264301376),r=e(129753175),u=e(3502457281),i=e(3929724715),o=e(1407713935),a=e(8920264989),_=e(6007206761),l=e(6495946979),p=e(8170643398),g=e(9262712126),c=e(3534324375),E=e(6839188756),A=e(7578434623),d=e(181849556),v=e(220244708);class h{preprocessText(P,S){if(typeof P!="string")throw new TypeError("Input text must be a string.");let b=P.replace(/\s+?/g,"").toLowerCase();return S&&(b=b.replace(/[-_]/g,"")),Array.from(b)}extractNGrams(P){if(!Array.isArray(P)||P.some(k=>typeof k!="string"))throw new TypeError("textChars must be an array of strings.");const S=new Map,b=P.length,[O,L]=this.ngramRange;for(let k=O;k<=L;k++)for(let K=0;K<=b-k;K++){const N=P.slice(K,K+k).join(""),R=K+1,U=S.get(N)||[];U.push(R),S.set(N,U)}return S}computeTermFrequencies(P){if(!(P instanceof Map))throw new TypeError("ngrams must be a Map.");const S=new Map;return P.forEach((b,O)=>{if(!Array.isArray(b)||b.some(k=>typeof k!="number"))throw new TypeError("Positions must be arrays of numbers.");const L=b.reduce((k,K)=>k+1/K,0);S.set(O,L)}),S}cosineSimilarity(P,S){if(!(P instanceof Map)||!(S instanceof Map))throw new TypeError("tfQuery and tfCandidate must be Map instances.");const b=new Set([...P.keys(),...S.keys()]);let O=0,L=0,k=0;return b.forEach(N=>{const R=P.get(N)||0,U=S.get(N)||0;O+=R*U,L+=R*R,k+=U*U}),L===0||k===0?0:O/(Math.sqrt(L)*Math.sqrt(k))}computeSimilarity(P,S){if(typeof P!="string"||typeof S!="string")return 0;const O=/[-_]/.test(P),L=this.preprocessText(P,!1),k=this.preprocessText(S,!O),K=this.extractNGrams(L),N=this.extractNGrams(k),R=this.computeTermFrequencies(K),U=this.computeTermFrequencies(N);return this.cosineSimilarity(R,U)}constructor(P=[2,3]){if(!Array.isArray(P)||P.length!==2||typeof P[0]!="number"||typeof P[1]!="number"||P[0]>P[1]||P[0]<1)throw new Error("ngramRange must be an array of two numbers where minN >= 1 and minN <= maxN.");this.ngramRange=P}}m(h,"PositionAwareFuzzyMatcher");var f=e(5795074931),y=e(9101533895),I=e(8276911661);const C={starredChannel:10,memberOfThisChannel:25,archivedChannel:-50,deactivatedMember:-50,mpimWithDeactivatedMember:-50,channelFromAnotherTeam:-15,notInChannel:-25,userGroupOrKeyword:-25,fuzzyMatch:50,emojiMatch:150,exactMatch:100,matchesPreviousName:-50,workflowAssociatedWithChannel:250,popularEmoji:1,isSelf:250};let D=m(class{sort(P,S){var b;const O=(0,A.Cy)({state:P});O.mark("modern-searcher-sorting-mark");const{members:L,channels:k,mpims:K,ims:N,teams:R,userGroups:U,emoji:x,broadcastKeywords:B,views:F,modals:V,appActions:Y,channelSections:w,emails:G,files:Ee,lists:ne,listRecords:se,slashCommands:ce,slackGlobalActions:pe,quipShortcutCommands:ye,canvasAiSuggestions:Ie,channelActions:Se,fakeGlobalActions:le,callActions:X,apps:J,helpArticles:z,workflowTriggers:te,salesListViews:$}=S,q={memberChannels:[],nonmemberChannels:[],archivedChannels:[]};k&&k.reduce((Z,ie)=>(0,_.F)(ie.item)?(Z.archivedChannels.push(ie),Z):((0,l.bl)(ie.item)?Z.memberChannels.push(ie):Z.nonmemberChannels.push(ie),Z),q);let re=[...L||[],...q.memberChannels,...K||[],...N||[],...x||[],...U||[],...B||[],...F||[],...V||[],...Y||[],...w||[],...G||[],...Ee||[],...ne||[],...se||[],...X||[],...Se||[],...le||[],...J||[],...z||[],...te||[],...$||[]],de=[...q.nonmemberChannels,...R||[],...ce||[],...pe||[],...ye||[],...Ie||[]],oe=q.archivedChannels;const De=this.getSortFuzzyFunction(P,{localeAware:!0});this.options.flat||(re=this.precomputeMatchNames(P,re).sort(De),de=this.precomputeMatchNames(P,de).sort(De),oe=this.precomputeMatchNames(P,oe).sort(De));let ae=[...re,...de,...oe];return this.options.flat&&ae.sort(De),this.options.preferExactMatch&&(ae=[...(0,t.A)(ae,ie=>ie.isExactMatch),...ae]),this.options.frecency&&(this.options.normalize=!0,O.mark("modern-searcher-frecency-sort-mark"),this.options.modelOnly?ae=(0,d.jW)(P,{query:this.query,list:ae,bonusPoints:this.getFrecencyBonusPointsFunction(P)}):ae=(0,d.Zh)(P,{query:this.query,list:ae,bonusPoints:this.getFrecencyBonusPointsFunction(P)}),O.measureAndClear("modern-searcher-frecency-sort-mark","modern-searcher-frecency-sort")),this.options.selfFirst&&!(!((b=ae[0])===null||b===void 0)&&b.isSelf)&&(ae=[...(0,t.A)(ae,ie=>ie.isSelf),...ae]),O.measureAndClear("modern-searcher-sorting-mark","modern-searcher-sorting"),ae}precomputeMatchNames(P,S){return S.map(b=>({...b,name:this.getNameForComparison(P,b)}))}getSortFuzzyFunction(P,S){let{localeAware:b}=S;return(O,L)=>{if((0,o.yz)(O.item)&&!(0,o.yz)(L.item))return 1;if((0,o.yz)(L.item)&&!(0,o.yz)(O.item)||(0,o.LI)(O.item)&&!(0,o.LI)(L.item))return-1;if((0,o.LI)(L.item)&&!(0,o.LI)(O.item))return 1;if(!(0,o.yz)(O.item)&&!(0,o.yz)(L.item)){const B=O.score-L.score;if(B!==0)return B}if((0,o.yz)(O.item)&&(0,o.yz)(L.item)){const B=O.score-L.score;if(B!==0)return B;var k,K;const F=((k=(0,i.N4)(O.item))!==null&&k!==void 0?k:0)-((K=(0,i.N4)(L.item))!==null&&K!==void 0?K:0);if(F!==0)return F}var N;const R=(N=O.name)!==null&&N!==void 0?N:"";var U;const x=(U=L.name)!==null&&U!==void 0?U:"";return b?(0,u.Ay)(R,x):R>x?1:x>R?-1:0}}getFrecencyBonusPointsFunction(P){return S=>{var b,O;const{item:L}=S,k={};if((0,o.yz)(L)){if(k.isMpim=0,this.options.preferMpimsWithActiveMembers){const K=(0,i.Ug)(L);if(!K)return k;const N=K.map(R=>(0,I.nv)(P,R));(0,s.A)(N,R=>(0,p.oy)(R)||(0,p.eJ)(R))&&(k.isMpimWithDeactivatedMember=C.mpimWithDeactivatedMember)}return k}if(S.isExactMatch?(k.isExactMatch=C.exactMatch,S.isEmojiExactMatch&&(k.isEmojiExactMatch=C.exactMatch)):S.emojiScore?k.emojiScoreBonus=this.calculateContinuousFuzzyBonusPoints(S,C.emojiMatch):(0,_.F)(L)||(0,p.oy)(L)||(0,p.eJ)(L)||(k.fuzzyScoreBonus=this.calculateContinuousFuzzyBonusPoints(S,C.fuzzyMatch)),S.bestPreviousNameMatch&&(k.onlyMatchesPreviousName=C.matchesPreviousName),this.options.preferChannelMembers&&L.presence&&this.options.currentChannel&&(0,v.B)(P,L,this.options.currentChannel)&&(k.isMemberOfThisChannel=C.memberOfThisChannel),(0,o.jq)(L)&&(0,i.m2)(P,L)&&(k.isStarred=C.starredChannel),(0,p.NB)(L)){const K=(0,y.Pu)(P,L.id);K&&(0,i.m2)(P,K)&&(k.isStarred=C.starredChannel)}return L.is_emoji&&(L.name==="thumbsup"||L.name==="point_up")&&(k.isPopularEmojiVariant=C.popularEmoji),this.options.selfFirst&&(0,p.fy)(L)&&(k.isSelf=C.isSelf),this.options.preferChannelWorkflows&&L.type==="channel_action"&&L.channelId===((b=this.options)===null||b===void 0||(O=b.currentChannel)===null||O===void 0?void 0:O.id)&&(k.isWorkflowAssociatedWithChannel=C.workflowAssociatedWithChannel),((0,o.rW)(L)||(0,o.Zp)(L))&&((0,_.F)(L)&&(k.isArchived=C.archivedChannel),(0,o.rW)(L)&&this.options.preferChannelsUserBelongsTo&&!(0,_.F)(L)&&!(0,l.bl)(L)&&(k.isNotChannelMember=C.notInChannel),(0,f.u8)(P)&&(0,i.lo)(L)&&(k.isChannelFromAnotherTeam=C.channelFromAnotherTeam)),(0,p.NB)(L)&&((0,p.oy)(L)||(0,p.eJ)(L))&&(k.isDeactivatedMember=C.deactivatedMember),(L.is_usergroup||L.is_broadcast_keyword)&&(k.isUserGroupOrKeyword=C.userGroupOrKeyword),k}}calculateNormalizedFuzzyBonusPoints(P,S,b){const O=P[S];if(!(0,n.A)(O))return 0;const L=.5**O;return Math.round(b*L)}calculateContinuousFuzzyBonusPoints(P,S){const b=m((k,K)=>k&&k.trim()?k:K,"getSafeString");return m(()=>{const k=P.item,K=P.item.name;if((0,p.NB)(k)){const N=b((0,g.j_)(k),K),R=b((0,g.sJ)(k),K);if(N===R)return this.positionAwareFuzzyMatcher.computeSimilarity(this.query,N);const U=this.positionAwareFuzzyMatcher.computeSimilarity(this.query,N),x=this.positionAwareFuzzyMatcher.computeSimilarity(this.query,R);return Math.max(U,x)}return this.positionAwareFuzzyMatcher.computeSimilarity(this.query,K)},"computeFuzzyScore")()*S}getNameForComparison(P,S){let b;const O=S.item;return(0,o.yz)(O)?b=O.name_normalized:(0,o.mz)(O)?b=(0,r.A)((0,a.SB)(P,O,{publicChannelIncludeHashSign:!1})):(0,p.NB)(O)?b=(0,c.sE)(P,O):O.is_usergroup?b=O.handle||O.name:O.team_name?b=(0,r.A)((0,E.F1)(O)):O.isEmail?b=(0,r.A)(O.value):O.title?b=O.title:b=O.name,b}constructor({query:P,options:S={}}){this.options=S,this.query=P,this.positionAwareFuzzyMatcher=new h([2,3])}},"SearcherSorter")},9868740303:(W,T,e)=>{"use strict";e.d(T,{A:()=>oe});var t=e(8571983633),s=e(9746734072),n=e(9113979368),r=e(897091071),u=e(7715417323),i=e(1703559452),o=e(2141441167),a=e(5503876160),_=e(2156087151),l=e(1545824888),p=e(2664504268),g=e(7599421656),c=e(3924280006),E=e(9552526132),A=e(2028988448),d=e(5613323535),v=e(1197508738),h=e(5455782105),f=e(3212336858),y=e(9931116838),I=e(411655882),C=e(2229186),D=e(1224315998),M=e(9392104102),P=e(82287009),S=e(7578434623),b=e(5770715593),O=e(4096483543),L=e(6471801899),k=e(1917953477),K=e(888345940),N=e(6897117289),R=e(7646553093),U=e(8847766420),x=e(7260478587),B=e(4119164726),F=e(6533394955),V=e(6451390137),Y=e(2854654447),w=e(9107158149),G=e(7688940281),Ee=e(2235302340),ne=e(9101533895),se=e(6728717861),ce=e(7600673124),pe=e(3829348308),ye=e(4761125736),Ie=e(937317117),Se=e(761034736),le=e(970158643),X=e(6304789565),J=e(9174292896);const z=(0,X.Ay)("Fetch list records for lists mentions",async(De,ae,Z)=>{let{query:ie}=Z;const Ce=(0,L.V3)(ie);if(!Ce)return;const{listTitle:Re}=Ce,He=(0,le.Mr)(ae()),be=(0,L.xL)(He,Re);if(!be)return;const Ue=be.id;await De((0,J.D)({listId:Ue}))});z.meta={name:"createThunk",key:"createThunkfetchForMentions",description:"Fetch list records for lists mentions"};var te=e(4525672255),$=e(8276911661),q=e(1835177371);class re{search(ae){let{query:Z,options:ie}=ae;var Ce;if(this.maybeStartSession(Z),((0,t.A)(Z)||!Z.length)&&!ie.allowEmptyQuery)return l.S.resolve(M.Ml);if((0,s.A)(Z))return this.bulkSearch({queryRecords:Z,options:ie});const Re=(0,F.$D)(this.teamId),He=(0,S.Cy)({state:Re}),be=(0,p.A)();He.mark(`modern-searcher-search-mark-${be}`);const Ue=(0,k.O)(Z??"");d.LI.start({label:d.gC.Searcher,id:be,options:{teamId:(0,U.ZT)(Re),tags:this.getTraceTags({query:Ue,options:ie})}});const me=(Ce=d.LI.get({label:d.gC.Searcher,id:be}))===null||Ce===void 0?void 0:Ce.createChildSpan({name:"searcher:search"}),ve=(0,c.aw)(ie,c.lp,Z);if((0,ye._Z)(Re,"ml_fuzzy_match_beyond_word_boundaries")==="treatment"&&(ve.matchBeyondWordBoundaries=!0,ve.fuzzyLimit=6),(0,n.A)(ve))return l.S.resolve(M.Ml);if((0,v.x)(Re)!==se.M9.ONLINE||!(ie!=null&&ie.allowEmptyQueryRemoteSearch)&&!Ue.length&&(0,O.A)()&&(0,ye._Z)(Re,"searcher_local_empty_string")==="treatment"&&!ie.entities.lists)return l.S.resolve(this.searchLocal({query:Ue,options:ve,autoTraceId:be,parentSpanId:me==null?void 0:me.getId()}));const Ke=this.fetchRemote({query:Ue,options:ve,autoTraceId:be,parentSpanId:me==null?void 0:me.getId()}).then(j=>this.processFetchedEntities({query:Ue,data:j,options:ve,autoTraceId:be,parentSpanId:me==null?void 0:me.getId()}));if(ve.tiered){const j=this.searchLocal({query:Ue,options:ve,autoTraceId:be,parentSpanId:me==null?void 0:me.getId()});return j.promise=Ke.finally(()=>{me==null||me.close(),d.LI.stop({label:d.gC.Searcher,id:be})}),l.S.resolve(j).finally(()=>{He.measureAndClear(`modern-searcher-search-mark-${be}`,"modern-searcher-search-tiered")})}return Ke.finally(()=>{He.measureAndClear(`modern-searcher-search-mark-${be}`,"modern-searcher-search"),me==null||me.close(),d.LI.stop({label:d.gC.Searcher,id:be})})}flattenResultsWithQueryId(ae){let{returnedResults:Z,queryIds:ie}=ae;const Ce=Z;for(let Re=0;Re<Z.length;Re++)for(let He=0;He<Z[Re].length;He++)Ce[Re][He].queryId=ie[Re];return(0,r.A)(Ce)}bulkSearch(ae){let{queryRecords:Z,options:ie}=ae;const Ce=(0,F.$D)(this.teamId),Re=(0,S.Cy)({state:Ce}),He=(0,p.A)();Re.mark(`modern-searcher-search-mark-${He}`);const be=(0,c.aw)(ie,c.lp,"");if((0,n.A)(be))return l.S.resolve(M.Ml);const Ue=Z.map(ee=>ee.query),me=Z.map(ee=>ee.queryId),ve=Ue.map(ee=>(0,k.O)(ee));let Fe,Ke;if((0,v.x)(Ce)!==se.M9.ONLINE)return Ke=ve.map(ee=>this.searchLocal({query:ee,options:be})),Fe=this.flattenResultsWithQueryId({returnedResults:Ke,queryIds:me}),l.S.resolve(Fe);const j=this.fetchRemote({query:ve,options:be}).then(ee=>(Ke=ee.map((je,Te)=>this.processFetchedEntities({query:ve[Te],data:je,options:be})),this.flattenResultsWithQueryId({returnedResults:Ke,queryIds:me})));return be.tiered?(Ke=ve.map(ee=>this.searchLocal({query:ee,options:be})),Fe=this.flattenResultsWithQueryId({returnedResults:Ke,queryIds:me}),Fe.promise=j,l.S.resolve(Fe).finally(()=>{Re.measureAndClear(`modern-searcher-search-mark-${He}`,"modern-searcher-search-tiered")})):j.finally(()=>{Re.measureAndClear(`modern-searcher-search-mark-${He}`,"modern-searcher-search")})}searchLocal(ae){let{query:Z,options:ie,autoTraceId:Ce,parentSpanId:Re}=ae;var He;const be=(0,F.$D)(this.teamId);let Ue=Ce;Ue||(Ue=(0,p.A)(),d.LI.start({label:d.gC.Searcher,id:Ue,options:{teamId:(0,U.ZT)(be),tags:this.getTraceTags({query:Z,options:ie})}}));const me=(He=d.LI.get({label:d.gC.Searcher,id:Ue}))===null||He===void 0?void 0:He.createChildSpan({name:"searcher:search_local",additionalSpanOptions:{parentSpanId:Re}});if(!Z.length&&!ie.allowEmptyQuery)return[];const ve=(0,c.aw)(ie,c.lp,Z);if((0,n.A)(ve))return[];const Fe=(0,k.O)(Z),Ke=this.fetchLocal({query:Z,options:ve}),j=this.processFetchedEntities({query:Fe,data:Ke,options:ve,autoTraceId:Ue,parentSpanId:me==null?void 0:me.getId()});return me==null||me.close(),j}fetchRemote(ae){let{query:Z,options:ie,autoTraceId:Ce,parentSpanId:Re}=ae;var He;const be=(0,F.$D)(this.teamId),Ue=(He=d.LI.get({label:d.gC.Searcher,id:Ce}))===null||He===void 0?void 0:He.createChildSpan({name:"searcher:fetch_remote",additionalSpanOptions:{parentSpanId:Re}});this.pendingRequests.forEach(we=>we.cancel()),this.pendingRequests=[];const me=[],ve=[],{channels:Fe,emoji:Ke,files:j,lists:ee,members:je,teams:Te,userGroups:Je,appActions:Ae,workflowTriggers:Me}=ie.entities;if(je){let we;(0,s.A)(Z)?we=(0,F.Qw)(this.teamId,(0,c.U7)({queries:Z,options:ie})):we=(0,F.Qw)(this.teamId,(0,c.QH)({query:Z,options:ie})),this.pendingRequests.push(we),je.runaway?ve.push(we):me.push(we)}if(Fe&&!(0,s.A)(Z)){const we=(0,F.Qw)(this.teamId,(0,c.J6)({query:Z,options:ie}));this.pendingRequests.push(we),Fe.runaway?ve.push(we):me.push(we)}if(Ke&&!(0,s.A)(Z)){const we=(0,F.Qw)(this.teamId,(0,c.LR)({query:Z,options:ie}));this.pendingRequests.push(we),Ke.runaway?ve.push(we):me.push(we)}if(j&&!(0,s.A)(Z)&&((0,_.A)(Z)||Z.length>3)){const we=(0,F.Qw)(this.teamId,(0,c.cD)({query:Z,options:ie}));this.pendingRequests.push(we),j.runaway?ve.push(we):me.push(we)}if(ee&&!(0,s.A)(Z)){const we=l.S.resolve((0,F.Qw)(this.teamId,Z.indexOf(">")<0?(0,te.E)({query:Z}):z({query:Z})));this.pendingRequests.push(we),ee.runaway?ve.push(we):me.push(we)}if(Je){let we;(0,s.A)(Z)?we=(0,F.Qw)(this.teamId,(0,c.eR)({queries:Z,options:ie})):we=(0,F.Qw)(this.teamId,(0,c.UC)({query:Z,options:ie})),this.pendingRequests.push(we),Je.runaway?ve.push(we):me.push(we)}if(Te&&((0,h.k)(be)||Te.onlyExternal||Te.includeExternal)&&!(0,s.A)(Z)){const we=(0,F.Qw)(this.teamId,(0,c.DF)({query:Z,options:ie}));this.pendingRequests.push(we),Te.runaway?ve.push(we):me.push(we)}if((0,y.e)(be)&&Ae){const we=l.S.resolve((0,F.Qw)(this.teamId,(0,Y.G)())).timeout(2e3).catch(u.A);this.pendingRequests.push(we),Ae.runaway?ve.push(we):me.push(we)}if(Me&&!(0,s.A)(Z)){const we=(0,F.Qw)(this.teamId,(0,c.fx)({query:Z}));Me.runaway?ve.push(we):me.push(we)}return l.S.all(me).then(we=>{let Ge;if((0,s.A)(Z))Ge=Z.map(Be=>this.fetchLocal({query:Be,options:ie})).map(Be=>{const Ye={...Be};return Ye.remoteIds=(0,c.jl)(we),Ye});else{if(Ge=this.fetchLocal({query:Z,options:ie}),Ge.remoteIds=(0,c.jl)(we),je&&je.onlyFromExternalWorkspaceId){var Qe,fe;Ge.members=(fe=(Qe=we.find(Be=>!!Be.members))===null||Qe===void 0?void 0:Qe.members)!==null&&fe!==void 0?fe:M.Ml}const Ve=(0,i.A)((0,o.A)(Ge),"length");if(ve.length&&!Ve)return l.S.all(ve).then(()=>this.fetchLocal({query:Z,options:ie}))}return Ue==null||Ue.close(),Ge}).finally(()=>{this.pendingRequests=[]})}fetchLocal(ae){let{query:Z,options:ie}=ae;const Ce=(0,F.$D)(this.teamId);(0,c.ZD)(ie);const Re={},{members:He,channels:be,teams:Ue,userGroups:me,appActions:ve,views:Fe,broadcastKeywords:Ke,emoji:j,files:ee,lists:je,channelSections:Te,emails:Je,modals:Ae,shortcuts:Me,workflowTriggers:we,helpArticles:Ge,canvasAiSuggestions:Qe}=ie.entities;if(be&&(be.includePublic||be.includePrivate)&&(Re.channels=(0,c.AC)(Ce,ie)),be&&be.includeMpims&&(Re.mpims=(0,ne.FS)(Ce)),be&&be.includeIms&&(Re.ims=(0,ne._B)(Ce)),He&&(Re.members=He.onlyFromExternalWorkspaceId?M.Ml:(0,$.I_)(Ce).filter(Be=>(0,w.zP)(Ce,Be.id)&&!(0,ce.y)(Ce,Be.id))),Ue&&(Re.teams=(0,c.mi)(Ce,ie)),me&&(Re.userGroups=(0,q.jJ)(Ce)),ve&&(Re.appActions=(0,g.B)(Ce)?(0,V.PL)(Ce):(0,c.g2)(Ce,ve.channel)),ee&&(Re.files=(0,Ie.Gn)(Ce)),je&&(Z.indexOf(">")<0?Re.lists=(0,le.C0)(Ce):Re.listRecords=(0,le.vD)(Ce,Z)),Fe&&(Re.views=(0,c.mK)(Ce)),Ae&&(Re.modals=(0,c.A$)(Ce)),Ke){var fe;const Be=Ke.currentChannel?Ke.currentChannel.id:null;Re.broadcastKeywords=!((fe=ie.entities.broadcastKeywords)===null||fe===void 0)&&fe.includeAll||!Be?(0,I.A)():(0,C.A)(Ce,Be)}if(j&&(Re.emoji=(0,pe.Gt)(Ce)),Te&&(Re.channelSections=(0,o.A)((0,Ee.jV)(Ce))),(Me!=null&&Me.slashCommands||Me!=null&&Me.fakeGlobalActions)&&!(Me!=null&&Me.isAnnounceOnly)&&(Re.slashCommands=(0,g.B)(Ce)?(0,P.A_)(Ce,Me.channel,!!Me.threadTs,!0).map(Be=>({...Be,id:(0,f.Bs)(Be),isSlashCommand:!0})):(0,c.lS)(Ce,Me.channel,Me.threadTs)),Me!=null&&Me.slackGlobalActions&&(Re.slackGlobalActions=(0,P.Yk)(Ce,Me.channel,Me.threadTs)),Me!=null&&Me.quipShortcutCommands&&(Re.quipShortcutCommands=(0,B.Aw)(Ce,!!Z)),Me!=null&&Me.channelActions&&(Re.channelActions=(0,G.fo)(Ce,Me.channel)),Me!=null&&Me.fakeGlobalActions&&(Re.fakeGlobalActions=(0,P.JL)(Ce,Me.channel,Me.threadTs)),Me!=null&&Me.callActions&&(Re.callActions=(0,P.Uw)(Ce,Me.channel,Me.threadTs,Me.isAnnounceOnly)),we){const Be=(0,P.NJ)(Ce);we.includeAutomated?Re.workflowTriggers=Be:Re.workflowTriggers=Be.filter(Ye=>Ye.type===E.M.Shortcut)}Je&&(Re.emails=(0,c.FF)(Z));const Ve=(0,b.dL)(Ce);return Ge&&Ve&&(Re.helpArticles=(0,Se.Fb)(Ce,"searcher/fetch_all_articles")),Qe&&(Re.canvasAiSuggestions=(0,x.rW)(Ce,ie)),(0,c.S)(),Re}processFetchedEntities(ae){let{query:Z,data:ie,options:Ce,autoTraceId:Re,parentSpanId:He}=ae;var be,Ue,me;const ve=(0,F.$D)(this.teamId),Fe=(be=d.LI.get({label:d.gC.Searcher,id:Re}))===null||be===void 0?void 0:be.createChildSpan({name:"searcher:process",additionalSpanOptions:{parentSpanId:He}});(0,c.ZD)(Ce);const Ke={},j=new K.A({query:Z,options:Ce}),ee=(0,S.Cy)({state:ve});ee.mark("modern-searcher-matching-mark");const je=(Ue=d.LI.get({label:d.gC.Searcher,id:Re}))===null||Ue===void 0?void 0:Ue.createChildSpan({name:"searcher:searcher_match",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});if(ie.channels&&(Ke.channels=j.filterChannels(ve,ie.channels,(0,c.sr)(ve,Ce.entities.channels))),ie.members&&(Ke.members=j.filterMembers(ve,ie.members,(0,c.bE)(ve,Ce.entities.members))),ie.emails&&ie.members&&!(!(Ke==null||(me=Ke.members)===null||me===void 0)&&me.length)&&(Ke.emails=ie.emails),ie.mpims&&(Ke.mpims=j.filterMpims(ve,ie.mpims,(0,c.AQ)(ve,Ce.entities.channels))),ie.ims&&(Ke.ims=j.filterIms(ve,ie.ims,(0,c.EM)(ve,Ce.entities.channels))),ie.userGroups&&(Ke.userGroups=j.filterUserGroups(ve,ie.userGroups,(0,c.H9)(ve,Ce.entities.userGroups))),ie.teams&&(Ke.teams=j.filterTeams(ve,ie.teams,(0,c.A1)(ve,Ce.entities.teams))),ie.views&&(Ke.views=j.filterViews(ve,ie.views)),ie.modals&&(Ke.modals=j.filterModals(ve,ie.modals)),ie.appActions&&(Ke.appActions=j.filterAppActions(ve,ie.appActions)),ie.slashCommands&&(Ke.slashCommands=j.filterShortcuts(ve,ie.slashCommands,!0)),ie.slackGlobalActions&&(Ke.slackGlobalActions=j.filterShortcuts(ve,ie.slackGlobalActions)),ie.quipShortcutCommands&&(Ke.quipShortcutCommands=j.filterShortcuts(ve,ie.quipShortcutCommands)),ie.canvasAiSuggestions&&(Ke.canvasAiSuggestions=j.filterShortcuts(ve,ie.canvasAiSuggestions)),ie.channelActions&&(Ke.channelActions=j.filterShortcuts(ve,ie.channelActions)),ie.fakeGlobalActions&&(Ke.fakeGlobalActions=j.filterShortcuts(ve,ie.fakeGlobalActions)),ie.callActions&&(Ke.callActions=j.filterShortcuts(ve,ie.callActions)),ie.workflowTriggers&&(Ke.workflowTriggers=j.filterWorkflowTriggers(ve,ie.workflowTriggers)),ie.broadcastKeywords&&(Ke.broadcastKeywords=j.filterBroadcastKeywords(ve,ie.broadcastKeywords)),ie.emoji&&(Ke.emoji=j.filterEmoji(ve,ie.emoji)),ie.channelSections&&(Ke.channelSections=j.filterChannelSections(ve,ie.channelSections,Be=>{var Ye,et;return!!(!((Ye=Ce.entities.channelSections)===null||Ye===void 0||(et=Ye.includeTypes)===null||et===void 0)&&et[Be.type])})),ie.files&&(Ke.files=j.filterFiles(ve,ie.files,(0,c.Do)(ve,Ce.entities.files))),ie.lists&&(Ke.lists=j.filterLists(ve,ie.lists)),ie.listRecords){var Te;const{recordQuery:Be}=(Te=(0,L.V3)(Z))!==null&&Te!==void 0?Te:{},Ye=new K.A({query:Be,options:Ce});Ke.listRecords=Ye.filterListRecords(ve,ie.listRecords)}ie.helpArticles&&(Ke.helpArticles=j.filterHelpArticles(ve,ie.helpArticles)),ee.measureAndClear("modern-searcher-matching-mark","modern-searcher-matching"),je==null||je.close();const Je=(0,c.SI)(Ke,ie.remoteIds||{});let Ae=(0,r.A)(Object.values(Je));const Me=500,we=3;var Ge;const Qe=Math.min(((Ge=Ce==null?void 0:Ce.limit)!==null&&Ge!==void 0?Ge:1)*we,Me);if(Ce.sort&&!Ce.sort.bypassSorting){var fe;let Be=!1;Ae.length<Qe&&(Be=!0);const Ye=new N.A({query:Z,options:{modelOnly:Be,...Ce.sort}}),et=(fe=d.LI.get({label:d.gC.Searcher,id:Re}))===null||fe===void 0?void 0:fe.createChildSpan({name:"searcher:searcher_sort",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});Ae=Ye.sort(ve,Je),et==null||et.close()}if(Ce.sort&&Ce.sort.frecency&&!Ce.sort.bypassSorting){var Ve;const Be=(Ve=d.LI.get({label:d.gC.Searcher,id:Re}))===null||Ve===void 0?void 0:Ve.createChildSpan({name:"searcher:sorter_sort",additionalSpanOptions:{parentSpanId:Fe==null?void 0:Fe.getId()}});Ae=new R.A({query:Z,options:Ce.sort,teamId:(0,U.ZT)(ve),enterpriseId:(0,h.k)(ve)&&(0,U.jV)(ve)?(0,U.jV)(ve):void 0}).sort(ve,Ae.slice(0,Qe)),Be==null||Be.close()}return Ce.limit&&(Ae=(0,a.A)(Ae,Ce.limit)),Ce.returnMetadata||(Ae=Ae.map(Be=>Be.item)),(0,c.S)(),Ae||[]}clogSearcherAccept(ae){let{clogger:Z,data:ie}=ae;const{source:Ce,query:Re,results:He,selectedItemId:be,displayedItemIds:Ue}=ie,me=15;if(!be)return;const ve=Ue?Ue.length:He.length,Fe=Ue?Ue.indexOf(be):He.findIndex(Qe=>Qe.item.id===be);if(Fe<0)return;const Ke=He.find(Qe=>Qe.item.id===be);if(!Ke)return;const j=Ke.type||"other",ee=(0,s.A)(Re)?Re.map(Qe=>(0,k.O)(Qe)):(0,k.O)(Re),je=Ke.source||"local";let Te;Ke.type==="mpim"?Te=Ke.scoreDetailsByMember:Ke.type==="member"?Te={[be]:{is_exact_match:Ke.isExactMatch,exact_match_details:Ke.exactMatchDetails,score_details:Ke.scoreDetails}}:Ke.type==="emoji"?Te={[be]:{is_exact_match:Ke.isExactMatch}}:Ke.type==="canvasAiSuggestions"&&(Te=Ke.item.category);let Je=[];He.some(Qe=>Qe.featureVectorRaw)&&(Ue?Je=Ue.map(Qe=>{const fe=He.find(Ve=>Ve.item.id===Qe);return fe&&fe.featureVectorRaw.serialize()||""}):Je=He.map(Qe=>{var fe,Ve;return Qe==null||(fe=Qe.featureVectorRaw)===null||fe===void 0||(Ve=fe.serialize)===null||Ve===void 0?void 0:Ve.call(fe)}));let Me;(0,s.A)(ee)?Me=ee.reduce((Qe,fe)=>Qe+(0,c.Cs)((0,k.O)(fe)),0):Me=(0,c.Cs)(ee);var we;const Ge={source:Ce,query_length:ee.length?ee.length:0,query_terms_length:Me,results_length:ve,selected_position:Fe,selected_type:j,selected_item_id:be,selected_source:je,selected_match_details:Te,feature_vector_list:Je.slice(0,me),session_length:Date.now()-((we=this.sessionTs)!==null&&we!==void 0?we:0)};Z.track(D.EventId.SEARCHER_ACCEPT,Ge),this.endSession()}clogSearcherReject(ae){let{clogger:Z,data:ie}=ae;const{source:Ce,query:Re,results:He,displayedItemIds:be}=ie,Ue=be!==void 0?be.length:He.length,me=(0,s.A)(Re)?Re.map(j=>(0,k.O)(j)):(0,k.O)(Re);let ve;(0,s.A)(me)?ve=me.reduce((j,ee)=>j+(0,c.Cs)((0,k.O)(ee)),0):ve=(0,c.Cs)(me);var Fe;const Ke={source:Ce,query_length:me.length?me.length:0,query_terms_length:ve,results_length:Ue,session_length:Date.now()-((Fe=this.sessionTs)!==null&&Fe!==void 0?Fe:0)};Z.track(D.EventId.SEARCHER_REJECT,Ke),this.endSession()}maybeStartSession(ae){!this.sessionId&&ae!==void 0&&ae.length&&(this.sessionTs=Date.now(),this.sessionId=(0,p.A)())}endSession(){this.sessionTs=null,this.sessionId=null}getTraceTags(ae){let{query:Z,options:ie}=ae;var Ce;const Re=ie.entities;return{source:(ie==null?void 0:ie.searchViewContext)||((Ce=ie.sort)===null||Ce===void 0?void 0:Ce.source),tiered:ie.tiered,is_searcher_sessions:!0,entities:Object.keys(Re).filter(He=>!!Re[He]).sort().toString(),query_length:Z.length}}constructor(ae){this.teamId=ae,this.pendingRequests=[],this.sessionId=null,this.sessionTs=null}}m(re,"Searcher");const de={};function oe(De){let{teamId:ae,key:Z}=De;if(!ae)throw new Error("Searcher must be instantiated with a team id");return de[ae]&&!de[ae][Z]&&(de[ae][Z]=new re(ae)),de[ae]||(de[ae]={},de[ae][Z]=new re(ae)),de[ae][Z]}m(oe,"getSearcher"),(0,A.ul)("searcherObj",{search:(De,ae)=>new re(De).search(ae),searchLocal:(De,ae)=>{new re(De).searchLocal(ae)}})},4342685672:(W,T,e)=>{"use strict";e.d(T,{In:()=>n,KV:()=>s,nK:()=>r});var t=e(4761125736);const s="autocompleteFallback";function n(){return s}m(n,"getModelForSorter");function r(u){return(0,t._Z)(u,"searcher_sessions_phase_1")==="treatment"}m(r,"shouldUseSearcherSessions")},5853759500:(W,T,e)=>{"use strict";e.d(T,{Tv:()=>S,W0:()=>j});var t=e(1703559452),s=e(5238395322),n=e(8571983633),r=e(2774532222),u=e(7110454183),i=e(1022424641),o=e(8274921051),a=e(3929724715),_=e(1407713935),l=e(6007206761),p=e(4630136761),g=e(6495946979),c=e(8170643398),E=e(4562579337),A=e(5096647761),d=e(337319621),v=e(3051657319),h=e(7715417323);class f{writeNumericalFeature(Ne,Pe){!Ne||!isFinite(Ne)||(this.writeIdAndType(Pe,o.c.NUMERICAL),this.ensureCapacity(4),this.view.setFloat32(this.offset,Ne),this.offset+=4)}writeBinaryFeature(Ne,Pe){Ne&&this.writeIdAndType(Pe,o.c.BINARY)}writeTextFeature(Ne,Pe){if(!Ne)return;this.writeIdAndType(Pe,o.c.TEXT);const qe=unescape(encodeURIComponent(Ne));this.ensureCapacity(2+qe.length),this.view.setUint16(this.offset,qe.length),this.offset+=2,(0,v.A)(qe.length).forEach(At=>{this.view.setUint8(this.offset,qe.charCodeAt(At)),this.offset+=1})}writeNullFeature(){(0,h.A)()}writeIdAndType(Ne,Pe){this.ensureCapacity(2),this.view.setUint16(this.offset,Ne<<3|Pe),this.offset+=2}ensureCapacity(Ne){this.offset+Ne>this.buffer.byteLength&&this.resize(this.offset+Ne)}resize(Ne){if(this.buffer.byteLength>=Ne)return;const Pe=new ArrayBuffer(2*this.buffer.byteLength);new Uint8Array(Pe).set(new Uint8Array(this.buffer)),this.buffer=Pe,this.view=new DataView(this.buffer)}serialize(){return btoa(String.fromCharCode(...new Uint8Array(this.buffer.slice(0,this.offset))))}constructor(){this.buffer=new ArrayBuffer(256),this.view=new DataView(this.buffer),this.offset=0}}m(f,"BinaryFeatureVectorSerializer");var y=e(3395271606);const I=(0,y.A)(o.Q);function C(H){return I[H]}m(C,"getFeatureNameFromId");var D=e(9150404500);const M={globalFeatures:["ID","FRECENCY","RAW_FRECENCY","FRECENCY_BONUS","FRECENCY_LOG_HIT_COUNT","FRECENCY_LOG_HIT_COUNT_SCALED","FRECENCY_HIT_COUNT","FRECENCY_WEIGHT_HIT_VISITS","FRECENCY_WEIGHT_ITEM_VISITS","FRECENCY_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT","FRECENCY_LOG_ITEM_COUNT_SCALED","FRECENCY_HIT_VISITS_4H","FRECENCY_HIT_VISITS_1D","FRECENCY_HIT_VISITS_3D","FRECENCY_HIT_VISITS_1W","FRECENCY_HIT_VISITS_1M","FRECENCY_HIT_VISITS_90D","FRECENCY_ITEM_VISITS_4H","FRECENCY_ITEM_VISITS_1D","FRECENCY_ITEM_VISITS_3D","FRECENCY_ITEM_VISITS_1W","FRECENCY_ITEM_VISITS_1M","FRECENCY_ITEM_VISITS_90D","FUZZY_SCORE","FUZZY_SCORE_50","FUZZY_SCORE_25","FUZZY_SCORE_ALL","FUZZY_SCORE_SCALED_EXP","FUZZY_SCORE_SCALED_FLIPPED","FUZZY_SCORE_SCALED_SUBTRACT","NAV_EXACT_MATCH","NAV_EXACT_PREFIX_MATCH","NAV_NORMAL_MATCH","NAV_NORMAL_PREFIX_MATCH","NAV_NORMAL_MATCH_NO_USER","NAV_NORMAL_PREFIX_MATCH_NO_USER","NAV_QUERY_LENGTH","NAV_TEXT_LENGTH","NAV_QUERY_RATIO_LENGTH_STRING","EXACT_MATCH_LOG_RESULTS","USER_ENTITY_TYPE_CTR_30DD","NUM_RESULTS"],userFeatures:["TYPE_NAVIGATION_USER","USER_PRIORITY","USER_IS_ACTIVE","USER_IS_EXTERNAL","USER_IS_CURRENT_USER","MEMBER_OF_CURRENT_CHANNEL","CURRENT_USER_TEXTY","USER_SAME_TEAM","USER_IS_BOT","USER_IS_DEACTIVATED","USER_IS_IN_CURRENT_THREAD","MEMBER_FILTER_USER_IN_CHANNEL","FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL","USER_DM_IS_UNREAD","USER_DM_IS_STARRED","USER_DM_READ_AGE_DECAY_7D","USER_DM_READ_AGE_DECAY_2H","USER_DM_READ_AGE_DECAY_7D_V2","USER_DM_READ_AGE_DECAY_2H_V2","USER_DM_LATEST_MSG_AGE_DECAY_7D","USER_DM_LATEST_MSG_AGE_DECAY_2H","USER_DM_LATEST_MSG_AGE_DECAY_7D_V2","USER_DM_LATEST_MSG_AGE_DECAY_2H_V2","USER_DM_IS_FROZEN","USER_DM_HAS_DRAFT","USER_DM_NULL","USER_DM_EMPTY","USER_DM_NOT_OPEN","USER_DM_OPEN","USER_DM_LATEST_OLDER_30D","USER_DM_LATEST_OLDER_90D","USER_DM_EMPTY_V2","USER_DM_LATEST_OLDER_30D_V2","USER_DM_LATEST_OLDER_90D_V2","USER_HAS_DMED","USER_DM_READ_AGE_DECAY_2H_V3","USER_DM_READ_AGE_DECAY_7D_V3","USER_DM_READ_OLDER_7D","USER_DM_READ_OLDER_30D","USER_DM_READ_OLDER_90D","USER_QUERY_RATIO_LENGTH_STRING","NAV_NORMAL_PREFIX_MATCH_USER","NAV_NORMAL_MATCH_USER","USER_FIRST_NAME_NORMAL_MATCH","USER_FIRST_NAME_NORMAL_PREFIX_MATCH","USER_FIRST_NAME_EXACT_MATCH","USER_FIRST_NAME_EXACT_PREFIX_MATCH","USER_LAST_NAME_NORMAL_MATCH","USER_LAST_NAME_NORMAL_PREFIX_MATCH","USER_LAST_NAME_EXACT_MATCH","USER_LAST_NAME_EXACT_PREFIX_MATCH","USER_EMAIL_MATCH","USER_EMAIL_ONLY_MATCH","QUERY_IS_SELF","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","USER_MPIM_READ_AGE_DECAY_7D","USER_MPIM_READ_AGE_DECAY_2H","USER_MPIM_LATEST_MSG_AGE_DECAY_7D","USER_MPIM_LATEST_MSG_AGE_DECAY_2H","USER_MPIM_FRECENCY_LOG_ITEM_COUNT","USER_MPIM_FRECENCY_LOG_HIT_COUNT","MEMBER_OF_SEARCHER_DEFAULT_TEAM","HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER","NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER"],channelFeatures:["TYPE_NAVIGATION_CHANNEL","CHANNEL_IS_MEMBER","CHANNEL_PRIORITY","CHANNEL_IS_STARRED","CHANNEL_IS_ARCHIVED","CHANNEL_IS_OTHER_TEAM","CHANNEL_IS_FROZEN","CHANNEL_HAS_DRAFT","CHANNEL_QUERY_RATIO_LENGTH_STRING","QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL","NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS","CHANNEL_IS_UNREAD","CHANNEL_READ_AGE_DECAY_2H","CHANNEL_READ_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_7D","CHANNEL_LATEST_MSG_AGE_DECAY_2H","CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH","CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH","ONLY_MATCHES_PREVIOUS_NAME","CHANNEL_TEAM_CTR_90DD","CHANNEL_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION"],mpimFeatures:["TYPE_NAVIGATION_MPIM","MPIM_IS_STARRED","MPIM_READ_AGE_DECAY_2H","MPIM_READ_AGE_DECAY_7D","MPIM_LATEST_MSG_AGE_DECAY_2H","MPIM_LATEST_MSG_AGE_DECAY_7D","MPIM_IS_UNREAD","MPIM_WITH_DEACTIVATED_USER","MPIM_PRIORITY","MPIM_QUERY_RATIO_LENGTH_STRING","MPIM_MEMBERS","MPIM_MEMBER_NAME_MATCHES","MPIM_MEMBER_ALL_MATCHES","MPIM_MATCHER_SCORE","MPIM_MATCHER_SCORE_0","MPIM_MATCHER_SCORE_1","MPIM_MATCHER_SCORE_2","MPIM_MATCHER_SCORE_3","MPIM_TEAM_CTR_90DD","MPIM_USER_CTR_30DD","HISTORY_AGE_DECAY_2H","HISTORY_AGE_DECAY_7D","HISTORY_POSITION","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H","MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H","MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H","MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D","MPIM_USERS_PCT_NON_EMPTY_DMS","MPIM_USERS_PCT_NON_NULL_DMS","MPIM_USERS_ALL_INTERNAL","MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS","MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH"],viewFeatures:["TYPE_NAVIGATION_VIEW"],fileFeatures:["TYPE_NAVIGATION_FILE","FILE_SUGGESTION_SCORE","FILE_AGE_DECAY_7D","FILE_AGE_DECAY_28D","FILE_AGE_DECAY_90D","FILE_FROM_CURRENT_USER","FILE_LOG_PUBLIC_SHARES","FILE_LOG_PRIVATE_SHARES","FILE_LOG_ACTIONS","FILE_LATEST_ACTION_AGE_DECAY_2H","FILE_LATEST_ACTION_AGE_DECAY_7D","FILE_LATEST_ACTION_AGE_DECAY_90D","FILE_LATEST_SHARE_AGE_DECAY_2H","FILE_LATEST_SHARE_AGE_DECAY_7D","FILE_LATEST_SHARE_AGE_DECAY_90D","FILE_CHANNEL_CTR","FILE_SUGGESTIONS_SEARCHER","FILE_USER_CTR","FILE_NAME_CONTAINS_QUERY_NORMALIZED","FILE_IS_CANVAS","FILE_HAS_DMS_WITH_CREATOR","FILE_HAS_DMS_WITH_CREATOR_V2","FILE_LATEST_VIEW_BY_USER_OLDER_90D"],linkFeatures:["TYPE_NAVIGATION_LINK"],modalFeatures:["TYPE_NAVIGATION_MODAL"],teamFeatures:["TYPE_NAVIGATION_TEAM"],emojiFeatures:["EMOJI_EXACT_MATCH","EMOJI_QUERY_LENGTH_RATIO","EMOJI_TOTAL_COMBO_BREAKS","EMOJI_COMBO_BREAK_0","EMOJI_COMBO_BREAK_1","EMOJI_COMBO_BREAK_2","EMOJI_COMBO_BREAK_3","TYPE_EMOJI","FRECENCY_HIT_VISIT_DECAY_2H","FRECENCY_HIT_VISIT_DECAY_7D","FRECENCY_ITEM_VISIT_DECAY_2H","FRECENCY_ITEM_VISIT_DECAY_7D","EMOJI_TEAM_CTR_90DD","EMOJI_USER_CTR_30DD"],broadcastKeywordFeatures:["IS_BROADCAST_KEYWORD","HERE_KEYWORD","HERE_KEYWORD_EXACT_MATCH","BROADCAST_KEYWORD_NORMAL_MATCH"],queryFeatures:["TYPE_QUERY","TYPE_USER_QUERY","TYPE_QUERY_HISTORY","ACTIVE_TOKEN_STRING","ACTIVE_TOKEN_MEMBER","ACTIVE_TOKEN_PHRASE","ACTIVE_TOKEN_QUERY_SUGGESTION","ACTIVE_TOKEN_FILTER_DURING","ACTIVE_TOKEN_FILTER_FROM","ACTIVE_TOKEN_FILTER_IN","ACTIVE_TOKEN_FILTER_TO","ACTIVE_TOKEN_FILTER_BEFORE","ACTIVE_TOKEN_FILTER_HAS","ACTIVE_TOKEN_FILTER_IS","ACTIVE_TOKEN_FILTER_ON","ACTIVE_TOKEN_FILTER_AFTER","ACTIVE_TOKEN_FILTER_WITH","QUERY_SUGGESTION_SCORE_V2","QUERY_FRECENCY_RAW","QUERY_FRECENCY_WEIGHT_HIT_VISITS","QUERY_FRECENCY_HIT_COUNT","QUERY_FRECENCY_WEIGHT_ITEM_VISITS","QUERY_FRECENCY_ITEM_COUNT","QUERY_FUZZY_SCORE","QUERY_FRECENCY_BONUS","QUERY_HISTORY_AGE_DECAY_30D","QUERY_HISTORY_LOG_INDEX","FILTER_USER_IS_ACTIVE","FILTER_USER_IS_CURRENT_USER","FILTER_USER_DM_IS_STARRED","FILTER_USER_DM_IS_UNREAD","FILTER_USER_DM_READ_AGE_DECAY_7D","FILTER_USER_DM_READ_AGE_DECAY_2H","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D","FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H","FILTER_USER_FIRST_NAME_NORMAL_MATCH","FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_LAST_NAME_NORMAL_MATCH","FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH","FILTER_USER_PRIORITY","FILTER_CHANNEL_IS_ARCHIVED","FILTER_CHANNEL_IS_MEMBER","FILTER_CHANNEL_IS_STARRED","FILTER_CHANNEL_IS_UNREAD","FILTER_CHANNEL_READ_AGE_DECAY_7D","FILTER_CHANNEL_READ_AGE_DECAY_2H","FILTER_CHANNEL_PRIORITY","STRING_EXACT_MATCH","STRING_EXACT_PREFIX_MATCH","STRING_NORMAL_MATCH","STRING_NORMAL_PREFIX_MATCH","STRING_SAME_NUMBER_WORDS","EXCESS_STRING_LENGTH","SUGGESTION_TEXT_LENGTH","QUERY_LENGTH","QUERY_RATIO_LENGTH_STRING","QUERY_TOKEN_NORMAL_MATCH","QUERY_TOKEN_NORMAL_PREFIX_MATCH","QUERY_LOG_HIT_COUNT"],appActionFeatures:["TYPE_APP_ACTION","APP_ACTION_TEAM_CTR","APP_ACTION_USER_CTR","OS_APP_ACTION"],shortcutFeatures:["APP_NAME_PREFIX_MATCH","SHORTCUT_ENTITY_TYPE_CTR","BEST_NAME_MATCH_LOG_RESULTS"],slashCommandFeatures:["TYPE_SLASH_COMMAND","SLASH_COMMAND_TEAM_CTR","SLASH_COMMAND_USER_CTR"],globalActionFeatures:["TYPE_GLOBAL_ACTION","IS_INVITE_WORKSPACE","GLOBAL_ACTION_TEAM_CTR","GLOBAL_ACTION_USER_CTR"],channelActionFeatures:["TYPE_CHANNEL_ACTION","CHANNEL_ACTION_TEAM_CTR","CHANNEL_ACTION_USER_CTR"],appFeatures:["TYPE_APP"],messageFeatures:["TYPE_NAVIGATION_MESSAGE"],workflowTriggerFeatures:["TYPE_WORKFLOW_TRIGGER","WORKFLOW_TRIGGER_TEAM_CTR","WORKFLOW_TRIGGER_USER_CTR"],channelAssociatedWorkflowFeatures:["HAS_CHANNEL_ASSOCIATION"]};var P=e(6312133237);function S(H,Ne){return ve.fromSuggestion(H,Ne)}m(S,"featureVectorForSuggestion");function b(){return(0,d.Wo)({label:"SORTER-RANKING"})}m(b,"getLogger");function O(H){return Number.isInteger(H)}m(O,"isIntegerWithType");const L=60*60,k=24*L;var K,N,R,U,x,B,F,V,Y,w,G,Ee,ne,se,ce,pe,ye,Ie,Se,le,X,J,z,te,$,q,re,de,oe,De,ae,Z,ie,Ce,Re,He,be,Ue;const me={FRECENCY:H=>Te({id:o.Q.FRECENCY,value:Ae(H)}),TYPE_NAVIGATION_CHANNEL:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;return Te({id:o.Q.TYPE_NAVIGATION_CHANNEL,value:Pe})},TYPE_NAVIGATION_FILE:H=>Te({id:o.Q.TYPE_NAVIGATION_FILE,value:H.suggestionType===D.fd.FILE_NAVIGATION}),TYPE_NAVIGATION_LINK:H=>Te({id:o.Q.TYPE_NAVIGATION_LINK,value:H.suggestionType===D.fd.LINK_NAVIGATION}),TYPE_NAVIGATION_MODAL:H=>Te({id:o.Q.TYPE_NAVIGATION_MODAL,value:H.suggestionType===D.fd.MODAL_NAVIGATION}),TYPE_NAVIGATION_MPIM:H=>Te({id:o.Q.TYPE_NAVIGATION_MPIM,value:!!(0,_.yz)(H.item)}),TYPE_NAVIGATION_USER:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.TYPE_NAVIGATION_USER,value:Pe})},TYPE_QUERY:H=>Te({id:o.Q.TYPE_QUERY,value:H.suggestionType===D.fd.QUERY}),TYPE_QUERY_HISTORY:H=>Te({id:o.Q.TYPE_QUERY_HISTORY,value:H.suggestionType===D.fd.QUERY_HISTORY}),ACTIVE_TOKEN_FILTER_IN:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_IN,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_IN}),ACTIVE_TOKEN_FILTER_FROM:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_FROM,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_FROM}),ACTIVE_TOKEN_FILTER_TO:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_TO,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_TO}),ACTIVE_TOKEN_FILTER_BEFORE:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_BEFORE,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_BEFORE}),ACTIVE_TOKEN_FILTER_DURING:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_DURING,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_DURING}),ACTIVE_TOKEN_FILTER_ON:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_ON,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_ON}),ACTIVE_TOKEN_FILTER_AFTER:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_AFTER,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_AFTER}),ACTIVE_TOKEN_FILTER_HAS:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_HAS,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_HAS}),ACTIVE_TOKEN_FILTER_IS:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_IS,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_IS}),ACTIVE_TOKEN_FILTER_WITH:H=>Te({id:o.Q.ACTIVE_TOKEN_FILTER_WITH,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.FILTER_WITH}),ACTIVE_TOKEN_MEMBER:H=>Te({id:o.Q.ACTIVE_TOKEN_MEMBER,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.MEMBER}),ACTIVE_TOKEN_STRING:H=>Te({id:o.Q.ACTIVE_TOKEN_STRING,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.STRING}),ACTIVE_TOKEN_PHRASE:H=>Te({id:o.Q.ACTIVE_TOKEN_PHRASE,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.PHRASE}),STRING_EXACT_MATCH:H=>Je({id:o.Q.STRING_EXACT_MATCH,suggestion:H,extractionFunction:Ct}),STRING_EXACT_PREFIX_MATCH:H=>Je({id:o.Q.STRING_EXACT_PREFIX_MATCH,suggestion:H,extractionFunction:Ft}),STRING_NORMAL_MATCH:H=>Je({id:o.Q.STRING_NORMAL_MATCH,suggestion:H,extractionFunction:kt}),STRING_NORMAL_PREFIX_MATCH:H=>Je({id:o.Q.STRING_NORMAL_PREFIX_MATCH,suggestion:H,extractionFunction:Et}),STRING_SAME_NUMBER_WORDS:H=>Je({id:o.Q.STRING_SAME_NUMBER_WORDS,suggestion:H,extractionFunction:mt}),EXCESS_STRING_LENGTH:H=>Je({id:o.Q.EXCESS_STRING_LENGTH,suggestion:H,extractionFunction:Rt}),ID:H=>Te({id:o.Q.ID,value:H.logId||H.id}),FILE_SUGGESTION_SCORE:H=>Te({id:o.Q.FILE_SUGGESTION_SCORE,value:we(H)}),ACTIVE_TOKEN_QUERY_SUGGESTION:H=>Te({id:o.Q.ACTIVE_TOKEN_QUERY_SUGGESTION,value:H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.API}),QUERY_SUGGESTION_SCORE_V2:H=>Te({id:o.Q.QUERY_SUGGESTION_SCORE_V2,value:Me(H)}),TYPE_NAVIGATION_TEAM:H=>Te({id:o.Q.TYPE_NAVIGATION_TEAM,value:H&&H.suggestionType===D.fd.TEAM_NAVIGATION}),TYPE_NAVIGATION_VIEW:H=>Te({id:o.Q.TYPE_NAVIGATION_VIEW,value:H&&H.suggestionType===D.fd.VIEW_NAVIGATION}),TYPE_USER_QUERY:H=>Te({id:o.Q.TYPE_USER_QUERY,value:H&&H.suggestionType===D.fd.QUERY_USER}),NAV_EXACT_MATCH:H=>Je({id:o.Q.NAV_EXACT_MATCH,suggestion:H,extractionFunction:Ct,text:fe(H)}),NAV_EXACT_PREFIX_MATCH:H=>Je({id:o.Q.NAV_EXACT_PREFIX_MATCH,suggestion:H,extractionFunction:Ft,text:fe(H)}),NAV_NORMAL_MATCH:H=>Je({id:o.Q.NAV_NORMAL_MATCH,suggestion:H,extractionFunction:kt,text:fe(H)}),CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;var qe,At;return Je({id:o.Q.CHANNEL_IS_PREVIOUS_NAME_EXACT_MATCH,suggestion:H,extractionFunction:xt=>{let{text:jt,query:Xt}=xt;return jt?(0,t.A)(jt.split(",").map(en=>Ct({text:en,query:Xt}))):!1},text:Pe?(qe=H.item)===null||qe===void 0||(At=qe.previous_names)===null||At===void 0?void 0:At.join(","):null})},CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;var qe,At;return Je({id:o.Q.CHANNEL_IS_PREVIOUS_NAME_PREFIX_MATCH,suggestion:H,extractionFunction:xt=>{let{text:jt,query:Xt}=xt;return jt?(0,t.A)(jt.split(",").map(en=>Ft({text:en,query:Xt}))):!1},text:Pe?H==null||(qe=H.item)===null||qe===void 0||(At=qe.previous_names)===null||At===void 0?void 0:At.join(","):null})},CHANNEL_IS_ARCHIVED:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;return Te({id:o.Q.CHANNEL_IS_ARCHIVED,value:Pe&&(0,l.F)(H.item)})},CHANNEL_IS_MEMBER:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;return Te({id:o.Q.CHANNEL_IS_MEMBER,value:Pe&&(0,g.bl)(H.item)})},CHANNEL_IS_STARRED:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;return Te({id:o.Q.CHANNEL_IS_STARRED,value:Pe&&H.isStarred})},MPIM_IS_STARRED:H=>Te({id:o.Q.MPIM_IS_STARRED,value:(0,_.yz)(H.item)&&H.isStarred}),CHANNEL_IS_UNREAD:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;return Te({id:o.Q.CHANNEL_IS_UNREAD,value:Pe&&(0,a.KJ)(H.item)})},MPIM_IS_UNREAD:H=>Te({id:o.Q.MPIM_IS_UNREAD,value:(0,_.yz)(H.item)&&(0,a.KJ)(H.item)}),MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS:H=>Te({id:o.Q.MPIM_NUM_OTHER_MEMBERS_EQUALS_NUM_QUERY_WORDS,value:(0,_.yz)(H.item)&&H.mpimNumOtherMembersEqualsNumQueryWords}),MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH:H=>Te({id:o.Q.MPIM_ALL_OTHER_MEMBERS_NAMES_HAVE_PREFIX_MATCH,value:(0,_.yz)(H.item)&&H.allOtherMemberNamesHavePrefixMatch}),CHANNEL_IS_OTHER_TEAM:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;return Te({id:o.Q.CHANNEL_IS_OTHER_TEAM,value:Pe&&(0,a.lo)(H.item)})},USER_IS_ACTIVE:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_IS_ACTIVE,value:Pe&&(0,c.ls)(H.item)})},USER_IS_DEACTIVATED:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_IS_DEACTIVATED,value:Pe&&!(0,c.ls)(H.item)})},USER_IS_IN_CURRENT_THREAD:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_IS_IN_CURRENT_THREAD,value:Pe&&!1})},MEMBER_FILTER_USER_IN_CHANNEL:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.MEMBER_FILTER_USER_IN_CHANNEL,value:Pe&&!1})},FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.FROM_AND_CHANNEL_FILTERS_USER_IN_CHANNEL,value:Pe&&!1})},USER_IS_EXTERNAL:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_IS_EXTERNAL,value:Pe&&(0,A.g)(H.item)})},USER_IS_BOT:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_IS_BOT,value:Pe&&(0,E.A)(H.item)})},USER_SAME_TEAM:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_SAME_TEAM,value:Pe&&!!H.sameTeam})},USER_IS_CURRENT_USER:(H,Ne)=>{let{isCurrentUser:Pe}=Ne;return Te({id:o.Q.USER_IS_CURRENT_USER,value:Pe})},USER_DM_IS_STARRED:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_DM_IS_STARRED,value:Pe&&H.im&&H.imIsStarred})},USER_DM_IS_UNREAD:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_DM_IS_UNREAD,value:Pe&&H.im&&(0,a.KJ)(H.im)})},CHANNEL_PRIORITY:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;return Te({id:o.Q.CHANNEL_PRIORITY,value:Pe&&(H==null?void 0:H.priority)})},CHANNEL_READ_AGE_DECAY_7D:(H,Ne)=>{let{itemIsChannel:Pe,now:qe}=Ne;return Te({id:o.Q.CHANNEL_READ_AGE_DECAY_7D,value:Pe&&Tt(qe,parseFloat((K=H.lastReadTs)!==null&&K!==void 0?K:""),7*k)||0})},CHANNEL_READ_AGE_DECAY_2H:(H,Ne)=>{let{itemIsChannel:Pe,now:qe}=Ne;return Te({id:o.Q.CHANNEL_READ_AGE_DECAY_2H,value:Pe&&Tt(qe,parseFloat((N=H.lastReadTs)!==null&&N!==void 0?N:""),2*L)||0})},MPIM_READ_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_READ_AGE_DECAY_2H,value:(0,_.yz)(H.item)&&Tt(Pe,parseFloat((R=H.lastReadTs)!==null&&R!==void 0?R:""),2*L)||0})},MPIM_READ_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_READ_AGE_DECAY_7D,value:(0,_.yz)(H.item)&&Tt(Pe,parseFloat((U=H.lastReadTs)!==null&&U!==void 0?U:""),7*k)||0})},USER_DM_READ_AGE_DECAY_7D:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_READ_AGE_DECAY_7D,value:Pe&&H.im&&Tt(qe,parseFloat((x=H.lastReadTs)!==null&&x!==void 0?x:""),7*k)||0})},USER_DM_READ_AGE_DECAY_7D_V2:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_READ_AGE_DECAY_7D_V2,value:Pe&&H.im&&Tt(qe,parseFloat((B=H.lastReadImTs)!==null&&B!==void 0?B:""),7*k)||0})},USER_DM_READ_AGE_DECAY_7D_V3:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_READ_AGE_DECAY_7D_V3,value:Pe&&Tt(qe,parseFloat((F=Bt(H))!==null&&F!==void 0?F:""),7*k)||0})},USER_DM_READ_AGE_DECAY_2H:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_READ_AGE_DECAY_2H,value:Pe&&H.im&&Tt(qe,parseFloat((V=H.lastReadTs)!==null&&V!==void 0?V:""),2*L)||0})},USER_DM_READ_AGE_DECAY_2H_V2:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_READ_AGE_DECAY_2H_V2,value:Pe&&H.im&&Tt(qe,parseFloat((Y=H.lastReadImTs)!==null&&Y!==void 0?Y:""),2*L)||0})},USER_DM_READ_AGE_DECAY_2H_V3:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_READ_AGE_DECAY_2H_V3,value:Pe&&Tt(qe,parseFloat((w=Bt(H))!==null&&w!==void 0?w:""),2*L)||0})},USER_DM_NULL:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_DM_NULL,value:Pe&&!H.im})},USER_DM_EMPTY:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_DM_EMPTY,value:Pe&&H.im&&!parseFloat((G=H.latestTs)!==null&&G!==void 0?G:"")})},USER_DM_EMPTY_V2:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_DM_EMPTY_V2,value:Pe&&H.im&&!parseFloat((Ee=H.latestImTs)!==null&&Ee!==void 0?Ee:"")})},USER_HAS_DMED:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_HAS_DMED,value:Pe&&!!parseFloat((ne=Bt(H))!==null&&ne!==void 0?ne:"")})},USER_DM_NOT_OPEN:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_DM_NOT_OPEN,value:Pe&&H.im&&!(0,a.nT)(H.im)})},USER_DM_OPEN:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_DM_OPEN,value:Pe&&H.im&&(0,a.nT)(H.im)})},USER_DM_LATEST_OLDER_30D:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_LATEST_OLDER_30D,value:Pe&&Kt(qe,parseFloat((se=H.latestTs)!==null&&se!==void 0?se:""),30*k)})},USER_DM_LATEST_OLDER_30D_V2:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_LATEST_OLDER_30D_V2,value:Pe&&Kt(qe,parseFloat((ce=H.latestImTs)!==null&&ce!==void 0?ce:""),30*k)})},USER_DM_LATEST_OLDER_90D:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_LATEST_OLDER_90D,value:Pe&&Kt(qe,parseFloat((pe=H.latestTs)!==null&&pe!==void 0?pe:""),90*k)})},USER_DM_LATEST_OLDER_90D_V2:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_LATEST_OLDER_90D_V2,value:Pe&&Kt(qe,parseFloat((ye=H.latestImTs)!==null&&ye!==void 0?ye:""),90*k)})},USER_DM_READ_OLDER_7D:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_READ_OLDER_7D,value:Pe&&Kt(qe,parseFloat((Ie=Bt(H))!==null&&Ie!==void 0?Ie:""),7*k)})},USER_DM_READ_OLDER_30D:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_READ_OLDER_30D,value:Pe&&Kt(qe,parseFloat((Se=Bt(H))!==null&&Se!==void 0?Se:""),30*k)})},USER_DM_READ_OLDER_90D:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_READ_OLDER_90D,value:Pe&&Kt(qe,parseFloat((le=Bt(H))!==null&&le!==void 0?le:""),90*k)})},USER_MPIM_READ_AGE_DECAY_7D:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_MPIM_READ_AGE_DECAY_7D,value:Pe&&H.mpimFeatures&&Tt(qe,H.mpimFeatures.lastReadTs,7*k)||0})},USER_MPIM_READ_AGE_DECAY_2H:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_MPIM_READ_AGE_DECAY_2H,value:Pe&&H.mpimFeatures&&Tt(qe,H.mpimFeatures.lastReadTs,2*L)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_7D:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_7D,value:Pe&&H.mpimFeatures&&Tt(qe,H.mpimFeatures.latestMsgTs,7*k)||0})},USER_MPIM_LATEST_MSG_AGE_DECAY_2H:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_MPIM_LATEST_MSG_AGE_DECAY_2H,value:Pe&&H.mpimFeatures&&Tt(qe,H.mpimFeatures.latestMsgTs,2*L)||0})},USER_MPIM_FRECENCY_LOG_ITEM_COUNT:(H,Ne)=>{let{itemIsMember:Pe}=Ne;var qe;return Te({id:o.Q.USER_MPIM_FRECENCY_LOG_ITEM_COUNT,value:Pe&&((qe=H.mpimFeatures)===null||qe===void 0?void 0:qe.itemCount)&&Math.log1p(H.mpimFeatures.itemCount)||0})},USER_MPIM_FRECENCY_LOG_HIT_COUNT:(H,Ne)=>{let{itemIsMember:Pe}=Ne;var qe;return Te({id:o.Q.USER_MPIM_FRECENCY_LOG_HIT_COUNT,value:Pe&&((qe=H.mpimFeatures)===null||qe===void 0?void 0:qe.hitCount)&&Math.log1p(H.mpimFeatures.hitCount)||0})},QUERY_LENGTH:H=>Je({id:o.Q.QUERY_LENGTH,suggestion:H,extractionFunction:Jt}),NAV_QUERY_LENGTH:H=>Je({id:o.Q.NAV_QUERY_LENGTH,suggestion:H,extractionFunction:Jt,text:fe(H)}),SUGGESTION_TEXT_LENGTH:H=>Je({id:o.Q.SUGGESTION_TEXT_LENGTH,suggestion:H,extractionFunction:Zt}),NAV_TEXT_LENGTH:H=>Je({id:o.Q.NAV_TEXT_LENGTH,suggestion:H,extractionFunction:Zt,text:fe(H)}),RAW_FRECENCY:H=>Te({id:o.Q.RAW_FRECENCY,value:H.rawFrecencyScore}),MPIM_PRIORITY:H=>Te({id:o.Q.MPIM_PRIORITY,value:(0,_.yz)(H.item)&&(H==null?void 0:H.priority)}),QUERY_RATIO_LENGTH_STRING:H=>Je({id:o.Q.QUERY_RATIO_LENGTH_STRING,suggestion:H,extractionFunction:Ht}),NAV_QUERY_RATIO_LENGTH_STRING:H=>Je({id:o.Q.NAV_QUERY_RATIO_LENGTH_STRING,suggestion:H,extractionFunction:Ht,text:fe(H)}),USER_QUERY_RATIO_LENGTH_STRING:H=>Je({id:o.Q.USER_QUERY_RATIO_LENGTH_STRING,suggestion:H,extractionFunction:Ht,text:Ve(H,D.fd.USER_NAVIGATION)}),CHANNEL_QUERY_RATIO_LENGTH_STRING:H=>Je({id:o.Q.CHANNEL_QUERY_RATIO_LENGTH_STRING,suggestion:H,extractionFunction:Ht,text:Ve(H,D.fd.CHANNEL_NAVIGATION)}),MPIM_QUERY_RATIO_LENGTH_STRING:H=>Je({id:o.Q.MPIM_QUERY_RATIO_LENGTH_STRING,suggestion:H,extractionFunction:Ht,text:Ve(H,D.fd.MPIM_NAVIGATION)}),MPIM_WITH_DEACTIVATED_USER:H=>Te({id:o.Q.MPIM_WITH_DEACTIVATED_USER,value:(0,_.yz)(H.item)&&H.isMpimWithDeactivatedMember}),NAV_NORMAL_PREFIX_MATCH:H=>Je({id:o.Q.NAV_NORMAL_PREFIX_MATCH,suggestion:H,extractionFunction:Et,text:fe(H)}),FRECENCY_BONUS:H=>Te({id:o.Q.FRECENCY_BONUS,value:(0,s.A)(Object.values(H.bonusPointMap||{}))||0}),USER_FIRST_NAME_EXACT_MATCH:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Je({id:o.Q.USER_FIRST_NAME_EXACT_MATCH,suggestion:H,extractionFunction:Ct,text:Pe&&(0,c.XS)(H.item)})},USER_FIRST_NAME_EXACT_PREFIX_MATCH:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Je({id:o.Q.USER_FIRST_NAME_EXACT_PREFIX_MATCH,suggestion:H,extractionFunction:Ft,text:Pe&&(0,c.XS)(H.item)})},USER_FIRST_NAME_NORMAL_MATCH:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Je({id:o.Q.USER_FIRST_NAME_NORMAL_MATCH,suggestion:H,extractionFunction:kt,text:Pe&&(0,c.XS)(H.item)})},USER_FIRST_NAME_NORMAL_PREFIX_MATCH:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Je({id:o.Q.USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:H,extractionFunction:Et,text:Pe&&(0,c.XS)(H.item)})},USER_LAST_NAME_EXACT_MATCH:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Je({id:o.Q.USER_LAST_NAME_EXACT_MATCH,suggestion:H,extractionFunction:Ct,text:Pe&&(0,c.lQ)(H.item)})},USER_LAST_NAME_EXACT_PREFIX_MATCH:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Je({id:o.Q.USER_LAST_NAME_EXACT_PREFIX_MATCH,suggestion:H,extractionFunction:Ft,text:Pe&&(0,c.lQ)(H.item)})},USER_LAST_NAME_NORMAL_MATCH:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Je({id:o.Q.USER_LAST_NAME_NORMAL_MATCH,suggestion:H,extractionFunction:kt,text:Pe&&(0,c.lQ)(H.item)})},USER_LAST_NAME_NORMAL_PREFIX_MATCH:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Je({id:o.Q.USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:H,extractionFunction:Et,text:Pe&&(0,c.lQ)(H.item)})},USER_EMAIL_MATCH:H=>{var Ne,Pe;return Te({id:o.Q.USER_EMAIL_MATCH,value:((Ne=H.scoreDetails)===null||Ne===void 0?void 0:Ne.email)!==void 0?((Pe=H.scoreDetails)===null||Pe===void 0?void 0:Pe.email)>=0:!1})},USER_EMAIL_ONLY_MATCH:H=>{var Ne,Pe;return Te({id:o.Q.USER_EMAIL_ONLY_MATCH,value:((Ne=H.scoreDetails)===null||Ne===void 0?void 0:Ne.email)!==void 0&&((Pe=H.scoreDetails)===null||Pe===void 0?void 0:Pe.email)>=0&&Object.keys((X=H.scoreDetails)!==null&&X!==void 0?X:{}).length===1})},USER_PRIORITY:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_PRIORITY,value:Pe&&H.im&&(H==null?void 0:H.priority)||0})},ONLY_MATCHES_PREVIOUS_NAME:H=>Te({id:o.Q.ONLY_MATCHES_PREVIOUS_NAME,value:H.bestPreviousNameMatch?1:null}),FRECENCY_WEIGHT_HIT_VISITS:H=>Te({id:o.Q.FRECENCY_WEIGHT_HIT_VISITS,value:H.weightHitVisits}),FRECENCY_HIT_VISITS_4H:H=>Te({id:o.Q.FRECENCY_HIT_VISITS_4H,value:H.hitVisits4h}),FRECENCY_HIT_VISITS_1D:H=>Te({id:o.Q.FRECENCY_HIT_VISITS_1D,value:H.hitVisits1d}),FRECENCY_HIT_VISITS_3D:H=>Te({id:o.Q.FRECENCY_HIT_VISITS_3D,value:H.hitVisits3d}),FRECENCY_HIT_VISITS_1W:H=>Te({id:o.Q.FRECENCY_HIT_VISITS_1W,value:H.hitVisits1w}),FRECENCY_HIT_VISITS_1M:H=>Te({id:o.Q.FRECENCY_HIT_VISITS_1M,value:H.hitVisits1m}),FRECENCY_HIT_VISITS_90D:H=>Te({id:o.Q.FRECENCY_HIT_VISITS_90D,value:H.hitVisits90d}),FRECENCY_ITEM_VISITS_4H:H=>Te({id:o.Q.FRECENCY_ITEM_VISITS_4H,value:H.itemVisits4h}),FRECENCY_ITEM_VISITS_1D:H=>Te({id:o.Q.FRECENCY_ITEM_VISITS_1D,value:H.itemVisits1d}),FRECENCY_ITEM_VISITS_3D:H=>Te({id:o.Q.FRECENCY_ITEM_VISITS_3D,value:H.itemVisits3d}),FRECENCY_ITEM_VISITS_1W:H=>Te({id:o.Q.FRECENCY_ITEM_VISITS_1W,value:H.itemVisits1w}),FRECENCY_ITEM_VISITS_1M:H=>Te({id:o.Q.FRECENCY_ITEM_VISITS_1M,value:H.itemVisits1m}),FRECENCY_ITEM_VISITS_90D:H=>Te({id:o.Q.FRECENCY_ITEM_VISITS_90D,value:H.itemVisits90d}),FRECENCY_HIT_COUNT:H=>Te({id:o.Q.FRECENCY_HIT_COUNT,value:H.hitCount}),FRECENCY_WEIGHT_ITEM_VISITS:H=>Te({id:o.Q.FRECENCY_WEIGHT_ITEM_VISITS,value:H.weightItemVisits}),FRECENCY_ITEM_COUNT:H=>Te({id:o.Q.FRECENCY_ITEM_COUNT,value:H.itemCount}),NAV_NORMAL_MATCH_USER:H=>Je({id:o.Q.NAV_NORMAL_MATCH_USER,suggestion:H,extractionFunction:Ne=>{let{text:Pe,normalizedQuery:qe}=Ne;return kt({text:Pe,normalizedQuery:qe})&&!Et({text:(0,c.XS)(H.item),normalizedQuery:qe})},text:Ve(H,D.fd.USER_NAVIGATION)}),NAV_NORMAL_PREFIX_MATCH_USER:H=>Je({id:o.Q.NAV_NORMAL_PREFIX_MATCH_USER,suggestion:H,extractionFunction:Ne=>{let{text:Pe,normalizedQuery:qe}=Ne;return Et({text:Pe,normalizedQuery:qe})&&!Et({text:(0,c.XS)(H.item),normalizedQuery:qe})},text:Ve(H,D.fd.USER_NAVIGATION)}),NAV_NORMAL_MATCH_NO_USER:H=>Je({id:o.Q.NAV_NORMAL_MATCH_NO_USER,suggestion:H,extractionFunction:kt,text:Be(H)}),NAV_NORMAL_PREFIX_MATCH_NO_USER:H=>Je({id:o.Q.NAV_NORMAL_PREFIX_MATCH_NO_USER,suggestion:H,extractionFunction:Et,text:Be(H)}),CHANNEL_LATEST_MSG_AGE_DECAY_7D:(H,Ne)=>{let{itemIsChannel:Pe,now:qe}=Ne;return Te({id:o.Q.CHANNEL_LATEST_MSG_AGE_DECAY_7D,value:Pe&&Tt(qe,parseFloat((J=H.latestTs)!==null&&J!==void 0?J:""),7*k)||0})},CHANNEL_LATEST_MSG_AGE_DECAY_2H:(H,Ne)=>{let{itemIsChannel:Pe,now:qe}=Ne;return Te({id:o.Q.CHANNEL_LATEST_MSG_AGE_DECAY_2H,value:Pe&&Tt(qe,parseFloat((z=H.latestTs)!==null&&z!==void 0?z:""),2*L)||0})},MPIM_LATEST_MSG_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_LATEST_MSG_AGE_DECAY_2H,value:(0,_.yz)(H.item)&&Tt(Pe,parseFloat((te=H.latestTs)!==null&&te!==void 0?te:""),2*L)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_2H,value:(0,_.yz)(H.item)&&Tt(Pe,H.maxLatestMsgTsOfAllMembers,2*L)||0})},MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_USERS_MAX_LATEST_MSG_AGE_DECAY_7D,value:(0,_.yz)(H.item)&&Tt(Pe,H.maxLatestMsgTsOfAllMembers,7*k)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_2H,value:(0,_.yz)(H.item)&&Tt(Pe,H.avgLatestMsgTsOfAllMembers,2*L)||0})},MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_USERS_AVG_LATEST_MSG_AGE_DECAY_7D,value:(0,_.yz)(H.item)&&Tt(Pe,H.avgLatestMsgTsOfAllMembers,7*k)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_2H,value:(0,_.yz)(H.item)&&Tt(Pe,H.maxLastReadTsOfAllMembers,2*L)||0})},MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_USERS_MAX_MSG_READ_AGE_DECAY_7D,value:(0,_.yz)(H.item)&&Tt(Pe,H.maxLastReadTsOfAllMembers,7*k)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_2H,value:(0,_.yz)(H.item)&&Tt(Pe,H.avgLastReadTsOfAllMembers,2*L)||0})},MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_USERS_AVG_MSG_READ_AGE_DECAY_7D,value:(0,_.yz)(H.item)&&Tt(Pe,H.avgLastReadTsOfAllMembers,7*k)||0})},MPIM_USERS_PCT_NON_EMPTY_DMS:H=>Te({id:o.Q.MPIM_USERS_PCT_NON_EMPTY_DMS,value:(0,_.yz)(H.item)&&H.pctNonEmptyDmsForAllMembers||0}),MPIM_USERS_PCT_NON_NULL_DMS:H=>Te({id:o.Q.MPIM_USERS_PCT_NON_NULL_DMS,value:(0,_.yz)(H.item)&&H.pctNonNullDmsForAllMembers||0}),MPIM_USERS_ALL_INTERNAL:H=>Te({id:o.Q.MPIM_USERS_ALL_INTERNAL,value:(0,_.yz)(H.item)&&H.isMpimWithOnlyInternalMembers}),MPIM_LATEST_MSG_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.MPIM_LATEST_MSG_AGE_DECAY_7D,value:(0,_.yz)(H.item)&&Tt(Pe,parseFloat(($=H.latestTs)!==null&&$!==void 0?$:""),7*k)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D,value:Pe&&H.im&&Tt(qe,parseFloat((q=H.latestTs)!==null&&q!==void 0?q:""),7*k)||0})},USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_LATEST_MSG_AGE_DECAY_7D_V2,value:Pe&&H.im&&Tt(qe,parseFloat((re=H.latestImTs)!==null&&re!==void 0?re:""),7*k)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H,value:Pe&&H.im&&Tt(qe,parseFloat((de=H.latestTs)!==null&&de!==void 0?de:""),2*L)||0})},USER_DM_LATEST_MSG_AGE_DECAY_2H_V2:(H,Ne)=>{let{itemIsMember:Pe,now:qe}=Ne;return Te({id:o.Q.USER_DM_LATEST_MSG_AGE_DECAY_2H_V2,value:Pe&&H.im&&Tt(qe,parseFloat((oe=H.latestImTs)!==null&&oe!==void 0?oe:""),2*L)||0})},FRECENCY_LOG_HIT_COUNT:H=>Te({id:o.Q.FRECENCY_LOG_HIT_COUNT,value:Math.log1p((De=H.hitCount)!==null&&De!==void 0?De:0)||0}),FRECENCY_LOG_HIT_COUNT_SCALED:H=>Te({id:o.Q.FRECENCY_LOG_HIT_COUNT_SCALED,value:H.logHitCountScaled}),FRECENCY_LOG_ITEM_COUNT:H=>Te({id:o.Q.FRECENCY_LOG_ITEM_COUNT,value:Math.log1p((ae=H.itemCount)!==null&&ae!==void 0?ae:0)||0}),FRECENCY_LOG_ITEM_COUNT_SCALED:H=>Te({id:o.Q.FRECENCY_LOG_ITEM_COUNT_SCALED,value:H.logItemCountScaled}),QUERY_FRECENCY_RAW:H=>Te({id:o.Q.QUERY_FRECENCY_RAW,value:(H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER)&&H.scoringContext.frecencyScoreRaw}),QUERY_FRECENCY_WEIGHT_HIT_VISITS:H=>Te({id:o.Q.QUERY_FRECENCY_WEIGHT_HIT_VISITS,value:(H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER)&&H.scoringContext.frecencyWeightHitVisits}),QUERY_FRECENCY_HIT_COUNT:H=>Te({id:o.Q.QUERY_FRECENCY_HIT_COUNT,value:(H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER)&&H.scoringContext.frecencyHitCount}),QUERY_LOG_HIT_COUNT:H=>Te({id:o.Q.QUERY_LOG_HIT_COUNT,value:(H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER)&&dn(H.scoringContext.frecencyHitCount)||H.suggestionType===D.fd.QUERY_HISTORY&&dn((Z=H.count)!==null&&Z!==void 0?Z:0)||0}),QUERY_FRECENCY_WEIGHT_ITEM_VISITS:H=>Te({id:o.Q.QUERY_FRECENCY_WEIGHT_ITEM_VISITS,value:(H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER)&&H.scoringContext.frecencyWeightItemVisits}),QUERY_FRECENCY_ITEM_COUNT:H=>Te({id:o.Q.QUERY_FRECENCY_ITEM_COUNT,value:(H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER)&&H.scoringContext.frecencyItemCount}),QUERY_FUZZY_SCORE:H=>Te({id:o.Q.QUERY_FUZZY_SCORE,value:(H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER)&&H.scoringContext.fuzzyScore}),QUERY_FRECENCY_BONUS:H=>{var Ne;return Te({id:o.Q.QUERY_FRECENCY_BONUS,value:(H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER)&&(0,s.A)(Object.values(((Ne=H.scoringContext)===null||Ne===void 0?void 0:Ne.frecencyScoreBonus)||{}))||0})},QUERY_HISTORY_LOG_INDEX:H=>Te({id:o.Q.QUERY_HISTORY_LOG_INDEX,value:H.suggestionType===D.fd.QUERY_HISTORY&&dn(H.index)||0}),QUERY_HISTORY_AGE_DECAY_30D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.QUERY_HISTORY_AGE_DECAY_30D,value:H.suggestionType===D.fd.QUERY_HISTORY&&Tt(Pe,H.lastUpdateTs,30*k)||0})},FUZZY_SCORE:H=>Te({id:o.Q.FUZZY_SCORE,value:H.score}),FUZZY_SCORE_SCALED_EXP:H=>Te({id:o.Q.FUZZY_SCORE_SCALED_EXP,value:O(H.score)&&.5**Math.min(H.score,10)}),FUZZY_SCORE_SCALED_FLIPPED:H=>Te({id:o.Q.FUZZY_SCORE_SCALED_FLIPPED,value:O(H.score)&&10-Math.min(H.score,10)}),FUZZY_SCORE_SCALED_SUBTRACT:H=>Te({id:o.Q.FUZZY_SCORE_SCALED_SUBTRACT,value:O(H.score)&&Math.min(H.score,10)-1}),FUZZY_SCORE_50:H=>Te({id:o.Q.FUZZY_SCORE_50,value:H.bonusPointMap&&H.bonusPointMap.fuzzyScoreBonus===50}),FUZZY_SCORE_25:H=>Te({id:o.Q.FUZZY_SCORE_25,value:H.bonusPointMap&&H.bonusPointMap.fuzzyScoreBonus===25}),FUZZY_SCORE_ALL:H=>Te({id:o.Q.FUZZY_SCORE_ALL,value:H.bonusPointMap&&H.bonusPointMap.fuzzyScoreBonus&&H.bonusPointMap.fuzzyScoreBonus<25}),FILTER_USER_IS_ACTIVE:H=>Te({id:o.Q.FILTER_USER_IS_ACTIVE,value:H.lastSuggestionToken&&H.lastTokenMemberOrNull&&(0,c.ls)(H.lastTokenMemberOrNull)}),FILTER_USER_IS_CURRENT_USER:H=>Te({id:o.Q.FILTER_USER_IS_CURRENT_USER,value:H.lastSuggestionToken&&H.lastTokenMemberOrNull&&(0,c.fy)(H.lastTokenMemberOrNull)}),FILTER_USER_DM_IS_STARRED:H=>Te({id:o.Q.FILTER_USER_DM_IS_STARRED,value:H.lastTokenIm&&H.lastTokenImIsStarred}),FILTER_USER_DM_IS_UNREAD:H=>Te({id:o.Q.FILTER_USER_DM_IS_UNREAD,value:H.lastTokenIm&&(0,a.KJ)(H.lastTokenIm)}),FILTER_USER_DM_READ_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILTER_USER_DM_READ_AGE_DECAY_7D,value:H.lastTokenIm&&Tt(Pe,H.lastTokenImLastRead,7*k)||0})},FILTER_USER_DM_READ_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILTER_USER_DM_READ_AGE_DECAY_2H,value:H.lastTokenIm&&Tt(Pe,H.lastTokenImLastRead,2*L)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_7D,value:H.lastTokenIm&&Tt(Pe,parseFloat((ie=H.lastTokenImLatest)!==null&&ie!==void 0?ie:""),7*k)||0})},FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILTER_USER_DM_LATEST_MSG_AGE_DECAY_2H,value:H.lastTokenIm&&Tt(Pe,parseFloat((Ce=H.lastTokenImLatest)!==null&&Ce!==void 0?Ce:""),2*L)||0})},FILTER_USER_FIRST_NAME_NORMAL_MATCH:H=>Je({id:o.Q.FILTER_USER_FIRST_NAME_NORMAL_MATCH,suggestion:H,extractionFunction:kt,text:at(H)}),FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH:H=>Je({id:o.Q.FILTER_USER_FIRST_NAME_NORMAL_PREFIX_MATCH,suggestion:H,extractionFunction:Et,text:at(H)}),FILTER_USER_LAST_NAME_NORMAL_MATCH:H=>Je({id:o.Q.FILTER_USER_LAST_NAME_NORMAL_MATCH,suggestion:H,extractionFunction:kt,text:gt(H)}),FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH:H=>Je({id:o.Q.FILTER_USER_LAST_NAME_NORMAL_PREFIX_MATCH,suggestion:H,extractionFunction:Et,text:gt(H)}),FILTER_USER_PRIORITY:H=>Te({id:o.Q.FILTER_USER_PRIORITY,value:H.lastTokenIm&&(H==null?void 0:H.priority)}),HERE_KEYWORD:H=>Te({id:o.Q.HERE_KEYWORD,value:H.name==="here"}),HERE_KEYWORD_EXACT_MATCH:H=>Te({id:o.Q.HERE_KEYWORD_EXACT_MATCH,value:H.name==="here"&&H.query==="here"}),IS_BROADCAST_KEYWORD:H=>Te({id:o.Q.IS_BROADCAST_KEYWORD,value:!!(H.type&&H.type==="broadcastKeyword")}),BROADCAST_KEYWORD_NORMAL_MATCH:H=>Te({id:o.Q.BROADCAST_KEYWORD_NORMAL_MATCH,value:!!(H.type&&H.type==="broadcastKeyword"&&kt({text:(Re=H.name)!==null&&Re!==void 0?Re:"",normalizedQuery:H.normalizedQuery}))}),EMOJI_EXACT_MATCH:H=>Te({id:o.Q.EMOJI_EXACT_MATCH,value:H.bonusPointMap&&H.bonusPointMap.isEmojiExactMatch&&1}),QUERY_TOKEN_NORMAL_MATCH:H=>Je({id:o.Q.QUERY_TOKEN_NORMAL_MATCH,suggestion:H,extractionFunction:kt,text:Mt(H)}),QUERY_TOKEN_NORMAL_PREFIX_MATCH:H=>Je({id:o.Q.QUERY_TOKEN_NORMAL_PREFIX_MATCH,suggestion:H,extractionFunction:Et,text:Mt(H)}),FILTER_CHANNEL_IS_ARCHIVED:H=>Te({id:o.Q.FILTER_CHANNEL_IS_ARCHIVED,value:(0,l.F)(H.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_MEMBER:H=>Te({id:o.Q.FILTER_CHANNEL_IS_MEMBER,value:(0,g.bl)(H.lastTokenChannelOrNull)}),FILTER_CHANNEL_IS_STARRED:H=>Te({id:o.Q.FILTER_CHANNEL_IS_STARRED,value:H.lastTokenChannelIsStarred}),FILTER_CHANNEL_IS_UNREAD:H=>Te({id:o.Q.FILTER_CHANNEL_IS_UNREAD,value:(0,a.KJ)(H.lastTokenChannelOrNull)}),FILTER_CHANNEL_READ_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILTER_CHANNEL_READ_AGE_DECAY_7D,value:Tt(Pe,H.lastTokenChannelLastRead,7*k)})},FILTER_CHANNEL_READ_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILTER_CHANNEL_READ_AGE_DECAY_2H,value:Tt(Pe,H.lastTokenChannelLastRead,2*L)})},FILTER_CHANNEL_PRIORITY:H=>Te({id:o.Q.FILTER_CHANNEL_PRIORITY,value:H==null?void 0:H.priority}),CHANNEL_IS_FROZEN:(H,Ne)=>{let{itemIsChannel:Pe}=Ne;return Te({id:o.Q.CHANNEL_IS_FROZEN,value:Pe&&(0,p.Zz)(H.item)})},USER_DM_IS_FROZEN:(H,Ne)=>{let{itemIsMember:Pe}=Ne;return Te({id:o.Q.USER_DM_IS_FROZEN,value:Pe&&H.im&&(0,p.Zz)(H.im)})},CHANNEL_HAS_DRAFT:H=>Te({id:o.Q.CHANNEL_HAS_DRAFT,value:H.hasDraft}),USER_DM_HAS_DRAFT:H=>Te({id:o.Q.USER_DM_HAS_DRAFT,value:H.imHasDraft}),EMOJI_QUERY_LENGTH_RATIO:H=>Te({id:o.Q.EMOJI_QUERY_LENGTH_RATIO,value:H.emojiQueryLengthRatio}),EMOJI_TOTAL_COMBO_BREAKS:H=>Te({id:o.Q.EMOJI_TOTAL_COMBO_BREAKS,value:H.emojiTotalComboBreaks}),EMOJI_COMBO_BREAK_0:H=>Te({id:o.Q.EMOJI_COMBO_BREAK_0,value:H.emojiTotalComboBreaks===0}),EMOJI_COMBO_BREAK_1:H=>Te({id:o.Q.EMOJI_COMBO_BREAK_1,value:H.emojiTotalComboBreaks===1}),EMOJI_COMBO_BREAK_2:H=>Te({id:o.Q.EMOJI_COMBO_BREAK_2,value:H.emojiTotalComboBreaks===2}),EMOJI_COMBO_BREAK_3:H=>Te({id:o.Q.EMOJI_COMBO_BREAK_3,value:H.emojiTotalComboBreaks===3}),TYPE_APP_ACTION:H=>Te({id:o.Q.TYPE_APP_ACTION,value:H.suggestionType===D.fd.APP_ACTION}),OS_APP_ACTION:(H,Ne)=>{let{source:Pe}=Ne;return Te({id:o.Q.OS_APP_ACTION,value:(Pe==null?void 0:Pe.startsWith("omniswitcher"))&&H.suggestionType===D.fd.APP_ACTION})},TYPE_APP:H=>Te({id:o.Q.TYPE_APP,value:H.suggestionType===D.fd.APP}),TYPE_SLASH_COMMAND:H=>Te({id:o.Q.TYPE_SLASH_COMMAND,value:H.suggestionType===D.fd.SLASH_COMMAND}),TYPE_GLOBAL_ACTION:H=>Te({id:o.Q.TYPE_GLOBAL_ACTION,value:H.suggestionType===D.fd.GLOBAL_ACTION}),IS_INVITE_WORKSPACE:H=>Te({id:o.Q.IS_INVITE_WORKSPACE,value:H.id==="slack-invite-to-workspace"}),TYPE_CHANNEL_ACTION:H=>Te({id:o.Q.TYPE_CHANNEL_ACTION,value:H.suggestionType===D.fd.CHANNEL_ACTION}),TYPE_WORKFLOW_TRIGGER:H=>Te({id:o.Q.TYPE_WORKFLOW_TRIGGER,value:H.suggestionType===D.fd.WORKFLOW_TRIGGER}),TYPE_NAVIGATION_MESSAGE:H=>Te({id:o.Q.TYPE_NAVIGATION_MESSAGE,value:H.suggestionType===D.fd.MESSAGE_NAVIGATION}),TYPE_EMOJI:H=>Te({id:o.Q.TYPE_EMOJI,value:H.suggestionType===D.fd.EMOJI}),HAS_CHANNEL_ASSOCIATION:H=>Te({id:o.Q.HAS_CHANNEL_ASSOCIATION,value:H.associatedWithCurrentChannel}),MEMBER_OF_CURRENT_CHANNEL:H=>Te({id:o.Q.MEMBER_OF_CURRENT_CHANNEL,value:H.isMemberOfCurrentChannel}),QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL:H=>Je({id:o.Q.QUERY_LENGTH_DECAY_NORMAL_MATCH_CHANNEL,suggestion:H,extractionFunction:ft,text:Ve(H,D.fd.CHANNEL_NAVIGATION)}),FRECENCY_HIT_VISIT_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FRECENCY_HIT_VISIT_DECAY_2H,value:Tt(Pe,H.latestHitVisit,2*L)||0})},FRECENCY_HIT_VISIT_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FRECENCY_HIT_VISIT_DECAY_7D,value:Tt(Pe,H.latestHitVisit,7*k)||0})},FRECENCY_ITEM_VISIT_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FRECENCY_ITEM_VISIT_DECAY_2H,value:Tt(Pe,H.latestItemVisit,2*L)||0})},FRECENCY_ITEM_VISIT_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FRECENCY_ITEM_VISIT_DECAY_7D,value:Tt(Pe,H.latestItemVisit,7*k)||0})},MPIM_MEMBERS:H=>Te({id:o.Q.MPIM_MEMBERS,value:H.item.members.length}),MPIM_MEMBER_NAME_MATCHES:H=>Te({id:o.Q.MPIM_MEMBER_NAME_MATCHES,value:H.scoreDetailsByMember&&Object.values(H.scoreDetailsByMember).filter(Ne=>((He=Ne.score_details.real_name)!==null&&He!==void 0?He:-1/0)>=0||((be=Ne.score_details.display_name)!==null&&be!==void 0?be:-1/0)>=0).length}),MPIM_MEMBER_ALL_MATCHES:H=>Te({id:o.Q.MPIM_MEMBER_ALL_MATCHES,value:H.scoreDetailsByMember&&Object.keys(H.scoreDetailsByMember).length}),MPIM_MATCHER_SCORE:H=>Te({id:o.Q.MPIM_MATCHER_SCORE,value:H.score}),MPIM_MATCHER_SCORE_0:H=>Te({id:o.Q.MPIM_MATCHER_SCORE_0,value:H.score===0}),MPIM_MATCHER_SCORE_1:H=>Te({id:o.Q.MPIM_MATCHER_SCORE_1,value:H.score===1}),MPIM_MATCHER_SCORE_2:H=>Te({id:o.Q.MPIM_MATCHER_SCORE_2,value:H.score===2}),MPIM_MATCHER_SCORE_3:H=>Te({id:o.Q.MPIM_MATCHER_SCORE_3,value:H.score===3}),EMOJI_TEAM_CTR_90DD:H=>{var Ne;return Te({id:o.Q.EMOJI_TEAM_CTR_90DD,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.team_ctr_90dd})},EMOJI_USER_CTR_30DD:H=>{var Ne;return Te({id:o.Q.EMOJI_USER_CTR_30DD,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.user_ctr_30dd})},MPIM_TEAM_CTR_90DD:H=>{var Ne;return Te({id:o.Q.MPIM_TEAM_CTR_90DD,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.team_ctr_90dd})},MPIM_USER_CTR_30DD:H=>{var Ne;return Te({id:o.Q.MPIM_USER_CTR_30DD,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.user_ctr_30dd})},CHANNEL_TEAM_CTR_90DD:H=>{var Ne;return Te({id:o.Q.CHANNEL_TEAM_CTR_90DD,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.team_ctr_90dd})},CHANNEL_USER_CTR_30DD:H=>{var Ne;return Te({id:o.Q.CHANNEL_USER_CTR_30DD,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.user_ctr_30dd})},USER_ENTITY_TYPE_CTR_30DD:H=>Te({id:o.Q.USER_ENTITY_TYPE_CTR_30DD,value:H.entityTypeCtr}),NUM_RESULTS:H=>Te({id:o.Q.NUM_RESULTS,value:H.numResults}),QUERY_IS_SELF:H=>{var Ne;return Te({id:o.Q.QUERY_IS_SELF,value:((Ne=H.scoreDetails)===null||Ne===void 0?void 0:Ne.self_score)===0})},CURRENT_USER_TEXTY:(H,Ne)=>{let{isCurrentUser:Pe,source:qe}=Ne;return Te({id:o.Q.CURRENT_USER_TEXTY,value:qe==="texty-autocomplete"&&Pe})},FILE_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_AGE_DECAY_7D,value:H.item&&Tt(Pe,H.item.created,7*k)})},FILE_AGE_DECAY_28D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_AGE_DECAY_28D,value:H.item&&Tt(Pe,H.item.created,28*k)})},FILE_AGE_DECAY_90D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_AGE_DECAY_90D,value:H.item&&Tt(Pe,H.item.created,90*k)})},FILE_FROM_CURRENT_USER:H=>Te({id:o.Q.FILE_FROM_CURRENT_USER,value:H.fromCurrentUser}),NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:H=>Je({id:o.Q.NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS,suggestion:H,extractionFunction:kt,text:Ve(H,D.fd.CHANNEL_NAVIGATION),multiplier:dn(H.numResults)}),FILE_LOG_PUBLIC_SHARES:H=>{var Ne,Pe;return Te({id:o.Q.FILE_LOG_PUBLIC_SHARES,value:((Ne=H.item)===null||Ne===void 0||(Pe=Ne.shares)===null||Pe===void 0?void 0:Pe.public)&&dn(Object.keys(H.item.shares.public).length)})},FILE_LOG_PRIVATE_SHARES:H=>{var Ne,Pe;return Te({id:o.Q.FILE_LOG_PRIVATE_SHARES,value:((Ne=H.item)===null||Ne===void 0||(Pe=Ne.shares)===null||Pe===void 0?void 0:Pe.private)&&dn(Object.keys(H.item.shares.private).length)})},FILE_LOG_ACTIONS:H=>{var Ne;return Te({id:o.Q.FILE_LOG_ACTIONS,value:((Ne=H.item)===null||Ne===void 0?void 0:Ne.actions)&&dn(H.item.actions.length)})},FILE_LATEST_ACTION_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_LATEST_ACTION_AGE_DECAY_2H,value:Tt(Pe,H.latestActionTs,2*L)})},FILE_LATEST_ACTION_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_LATEST_ACTION_AGE_DECAY_7D,value:Tt(Pe,H.latestActionTs,7*k)})},FILE_LATEST_ACTION_AGE_DECAY_90D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_LATEST_ACTION_AGE_DECAY_90D,value:Tt(Pe,H.latestActionTs,90*k)})},FILE_LATEST_SHARE_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_LATEST_SHARE_AGE_DECAY_2H,value:Tt(Pe,H.latestShareTs,2*L)})},FILE_LATEST_SHARE_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_LATEST_SHARE_AGE_DECAY_7D,value:Tt(Pe,H.latestShareTs,7*k)})},FILE_LATEST_SHARE_AGE_DECAY_90D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_LATEST_SHARE_AGE_DECAY_90D,value:Tt(Pe,H.latestShareTs,90*k)})},FILE_CHANNEL_CTR:H=>Te({id:o.Q.FILE_CHANNEL_CTR,value:H.fileChannelCtr}),FILE_SUGGESTIONS_SEARCHER:H=>Te({id:o.Q.FILE_SUGGESTIONS_SEARCHER,value:H.fileSuggestionsFromSearcher}),FILE_USER_CTR:H=>Te({id:o.Q.FILE_USER_CTR,value:H.fileUserCtr}),FILE_NAME_CONTAINS_QUERY_NORMALIZED:H=>Je({id:o.Q.FILE_NAME_CONTAINS_QUERY_NORMALIZED,suggestion:H,extractionFunction:sn,text:Ve(H,D.fd.FILE_NAVIGATION)}),FILE_IS_CANVAS:H=>Te({id:o.Q.FILE_IS_CANVAS,value:Ye(H,"quip")}),FILE_HAS_DMS_WITH_CREATOR:H=>Te({id:o.Q.FILE_HAS_DMS_WITH_CREATOR,value:H.hasNonNullDmsWithCreator}),FILE_HAS_DMS_WITH_CREATOR_V2:H=>Te({id:o.Q.FILE_HAS_DMS_WITH_CREATOR_V2,value:H.hasNonNullLocalOrRemoteDmsWithCreator}),FILE_LATEST_VIEW_BY_USER_OLDER_90D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.FILE_LATEST_VIEW_BY_USER_OLDER_90D,value:Kt(Pe,parseFloat((Ue=H.lastReadTs)!==null&&Ue!==void 0?Ue:"")/1e3,90*k)})},APP_NAME_PREFIX_MATCH:H=>{var Ne;return Je({id:o.Q.APP_NAME_PREFIX_MATCH,suggestion:H,extractionFunction:Et,text:(Ne=H.item)===null||Ne===void 0?void 0:Ne.appName})},BEST_NAME_MATCH_LOG_RESULTS:H=>Te({id:o.Q.BEST_NAME_MATCH_LOG_RESULTS,value:H.bestNameIsExactMatch&&dn(H.numResults)}),SLASH_COMMAND_USER_CTR:H=>{var Ne;return Te({id:o.Q.SLASH_COMMAND_USER_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.user_ctr_30dd})},WORKFLOW_TRIGGER_USER_CTR:H=>{var Ne;return Te({id:o.Q.WORKFLOW_TRIGGER_USER_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.user_ctr_30dd})},GLOBAL_ACTION_USER_CTR:H=>{var Ne;return Te({id:o.Q.GLOBAL_ACTION_USER_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.user_ctr_30dd})},CHANNEL_ACTION_USER_CTR:H=>{var Ne;return Te({id:o.Q.CHANNEL_ACTION_USER_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.user_ctr_30dd})},APP_ACTION_USER_CTR:H=>{var Ne;return Te({id:o.Q.APP_ACTION_USER_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.user_ctr_30dd})},SLASH_COMMAND_TEAM_CTR:H=>{var Ne;return Te({id:o.Q.SLASH_COMMAND_TEAM_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.team_ctr_90dd})},WORKFLOW_TRIGGER_TEAM_CTR:H=>{var Ne;return Te({id:o.Q.WORKFLOW_TRIGGER_TEAM_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.team_ctr_90dd})},GLOBAL_ACTION_TEAM_CTR:H=>{var Ne;return Te({id:o.Q.GLOBAL_ACTION_TEAM_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.team_ctr_90dd})},CHANNEL_ACTION_TEAM_CTR:H=>{var Ne;return Te({id:o.Q.CHANNEL_ACTION_TEAM_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.team_ctr_90dd})},APP_ACTION_TEAM_CTR:H=>{var Ne;return Te({id:o.Q.APP_ACTION_TEAM_CTR,value:(Ne=H.offlineFeatures)===null||Ne===void 0?void 0:Ne.team_ctr_90dd})},SHORTCUT_ENTITY_TYPE_CTR:H=>Te({id:o.Q.SHORTCUT_ENTITY_TYPE_CTR,value:H.entityTypeCtr}),EXACT_MATCH_LOG_RESULTS:H=>Te({id:o.Q.EXACT_MATCH_LOG_RESULTS,value:(H.isExactMatch?1:0)*dn(H.numResults)}),HISTORY_AGE_DECAY_2H:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.HISTORY_AGE_DECAY_2H,value:Tt(Pe,H.historyTs,2*L)})},HISTORY_AGE_DECAY_7D:(H,Ne)=>{let{now:Pe}=Ne;return Te({id:o.Q.HISTORY_AGE_DECAY_7D,value:Tt(Pe,H.historyTs,7*k)})},HISTORY_POSITION:H=>Te({id:o.Q.HISTORY_POSITION,value:H.historyPosition}),MEMBER_OF_SEARCHER_DEFAULT_TEAM:H=>Te({id:o.Q.MEMBER_OF_SEARCHER_DEFAULT_TEAM,value:H.isMemberOfSearcherDefaultTeam}),HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER:H=>Te({id:o.Q.HAS_WORKSPACE_INTERSECTION_WITH_SEARCHER,value:(H.numWorkspacesIntersectingWithSearcher||0)>0}),NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER:H=>Te({id:o.Q.NUM_WORKSPACES_INTERSECTING_WITH_SEARCHER,value:H.numWorkspacesIntersectingWithSearcher||0})};class ve{serialize(){const Ne=new f;this.featureList.forEach(qe=>je({feature:qe,serializer:Ne}));const Pe=Ne.serialize();return`${this.featuresVersion}:${Pe}`}valueForFeature(Ne){let Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ne==null)return b().error(`Invalid feature id: ${Ne}`),null;const qe=this.featureList.find(At=>At.id===Ne);if(!(0,n.A)(qe))return Pe?ee(qe)||"":j(qe)||0}static fromSuggestion(Ne,Pe){const qe=Date.now()/1e3,At=!!(0,c.NB)(Ne.item),xt=!!((0,_.rW)(Ne.item)||(0,_.Zp)(Ne.item)),jt=At&&(0,c.fy)(Ne.item),Xt={itemIsChannel:xt,itemIsMember:At,now:qe,isCurrentUser:jt,source:Pe};return new this(Fe(Ne,Pe).map(en=>me[en]&&me[en](Ne,Xt)||null))}constructor(Ne){this.featureList=Ne,this.featuresVersion="v8"}}m(ve,"SuggestionFeatureVector");function Fe(H,Ne){return Ne==="slash-command-menu"?[...M.globalFeatures]:H.suggestionType===D.fd.USER_NAVIGATION?[...M.globalFeatures,...M.userFeatures]:H.suggestionType===D.fd.CHANNEL_NAVIGATION?[...M.globalFeatures,...M.channelFeatures]:H.suggestionType===D.fd.MPIM_NAVIGATION?[...M.globalFeatures,...M.mpimFeatures]:H.suggestionType===D.fd.VIEW_NAVIGATION?[...M.globalFeatures,...M.viewFeatures]:H.suggestionType===D.fd.FILE_NAVIGATION?[...M.globalFeatures,...M.fileFeatures,...M.queryFeatures]:H.suggestionType===D.fd.LINK_NAVIGATION?[...M.globalFeatures,...M.linkFeatures]:H.suggestionType===D.fd.MODAL_NAVIGATION?[...M.globalFeatures,...M.modalFeatures]:H.suggestionType===D.fd.TEAM_NAVIGATION?[...M.globalFeatures,...M.teamFeatures]:H.type==="emoji"?[...M.globalFeatures,...M.emojiFeatures]:H.type==="broadcastKeyword"?[...M.globalFeatures,...M.broadcastKeywordFeatures]:H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER?[...M.globalFeatures,...M.queryFeatures]:H.suggestionType===D.fd.APP_ACTION?[...M.globalFeatures,...M.shortcutFeatures,...M.appActionFeatures]:H.suggestionType===D.fd.SLASH_COMMAND?[...M.globalFeatures,...M.shortcutFeatures,...M.slashCommandFeatures]:H.suggestionType===D.fd.GLOBAL_ACTION?[...M.globalFeatures,...M.shortcutFeatures,...M.globalActionFeatures]:H.suggestionType===D.fd.CHANNEL_ACTION?[...M.globalFeatures,...M.shortcutFeatures,...M.channelActionFeatures]:H.suggestionType===D.fd.WORKFLOW_TRIGGER?[...M.globalFeatures,...M.shortcutFeatures,...M.workflowTriggerFeatures]:H.suggestionType===D.fd.APP?[...M.globalFeatures,...M.appFeatures]:H.suggestionType===D.fd.MESSAGE_NAVIGATION?[...M.globalFeatures,...M.messageFeatures]:H.suggestionType===D.fd.QUERY_HISTORY?[...M.globalFeatures,...M.queryFeatures]:M.globalFeatures}m(Fe,"getFeaturesForExtraction");class Ke{constructor({id:Ne,value:Pe}){Ne==null&&b().error(`Invalid feature id: ${Ne}`);const qe=C(Ne);qe||b().error(`Missing feature name for id: ${Ne}`),this.id=Ne,this.name=qe,this.valueOrNull=Pe}}m(Ke,"Feature");function j(H){return typeof H.valueOrNull=="number"&&isFinite(H.valueOrNull)?H.valueOrNull:typeof H.valueOrNull=="boolean"&&H.valueOrNull?1:0}m(j,"getNumericValueForFeature");function ee(H){return H.valueOrNull===null||H.valueOrNull===void 0?"":H.valueOrNull.toString()}m(ee,"getStringValueForFeature");function je(H){let{feature:Ne,serializer:Pe}=H;Ne.valueOrNull===null&&Pe.writeNullFeature(),typeof Ne.valueOrNull=="number"&&Pe.writeNumericalFeature(Ne.valueOrNull,Ne.id),typeof Ne.valueOrNull=="boolean"&&Pe.writeBinaryFeature(Ne.valueOrNull,Ne.id),typeof Ne.valueOrNull=="string"&&Pe.writeTextFeature(Ne.valueOrNull,Ne.id)}m(je,"serializeFeature");function Te(H){let{id:Ne,value:Pe}=H;const qe=(0,n.A)(Pe)?null:Pe;return new Ke({id:Ne,value:qe})}m(Te,"makeFeature");function Je(H){let{id:Ne,suggestion:Pe,extractionFunction:qe,text:At=Qe(Pe),multiplier:xt=1}=H;if(!At)return Te({id:Ne,value:null});const jt=qe({text:At,query:Pe.query||"",normalizedQuery:Pe.normalizedQuery||""}),Xt=jt===!0?1:jt===!1?0:jt;return Te({id:Ne,value:(Xt??0)*xt})}m(Je,"makeTextFeature");function Ae(H){let Ne=null;return(H.suggestionType===D.fd.QUERY||H.suggestionType===D.fd.QUERY_USER||H.suggestionType===D.fd.CHANNEL_NAVIGATION||H.suggestionType===D.fd.MPIM_NAVIGATION||H.suggestionType===D.fd.USER_NAVIGATION||H.suggestionType===D.fd.TEAM_NAVIGATION||H.suggestionType===D.fd.VIEW_NAVIGATION||H.suggestionType===D.fd.FILE_NAVIGATION)&&(Ne=H.frecencyScore),Ne}m(Ae,"getFrecencyScoreForSuggestion");function Me(H){let Ne=null;return H.suggestionType===D.fd.QUERY&&H.lastSuggestionToken&&H.lastSuggestionToken.type===D.S6.API&&(Ne=H.lastSuggestionToken.querySuggestionScore),Ne}m(Me,"getQuerySuggestionScoreV2");function we(H){let Ne=null;return H.suggestionType===D.fd.FILE_NAVIGATION&&(Ne=H.rawScore),Ne}m(we,"getFileSuggestionScore");function Ge(H){return H&&H.lastSuggestionToken?H.lastSuggestionToken.toString():""}m(Ge,"getLastSuggestionTokenString");function Qe(H){return et(H)?Ge(H):H.suggestionType===D.fd.FILE_NAVIGATION?H.name:null}m(Qe,"getTextOrNullFromQuerySuggestion");function fe(H){return H.isNavigational||H.isAction||H.isApp?H.name:null}m(fe,"getTextOrNullFromNavigationalSuggestion");function Ve(H,Ne){return H.suggestionType===Ne?H.name:null}m(Ve,"getTextOrNullFromSuggestionWithType");function Be(H){return H.suggestionType===D.fd.USER_NAVIGATION||(0,n.A)(H.name)?null:H.name}m(Be,"getTextOrNullFromSuggestionNotUser");function Ye(H,Ne){return H.suggestionType!==D.fd.FILE_NAVIGATION?!1:H.fileType===Ne}m(Ye,"isFileTypeMatch");function et(H){return H.lastSuggestionToken?H.lastSuggestionToken.type===D.S6.STRING||H.lastSuggestionToken.type===D.S6.PHRASE||H.lastSuggestionToken.type===D.S6.API:!1}m(et,"isActiveTokenStringLike");function at(H){return H.lastTokenMemberOrNull&&H.lastTokenMemberOrNull.profile&&H.lastTokenMemberOrNull.profile.first_name}m(at,"getLastTokenUserFirstName");function gt(H){return H.lastTokenMemberOrNull&&H.lastTokenMemberOrNull.profile&&H.lastTokenMemberOrNull.profile.last_name}m(gt,"getLastTokenUserLastName");function Mt(H){return H.lastTokenMemberName||H.lastTokenChannelName||null}m(Mt,"lastTokenName");function Bt(H){return H?H.im&&H.lastReadImTs?H.lastReadImTs:H.remoteImMetadata&&H.lastReadRemoteImMetadataTs?(H.lastReadRemoteImMetadataTs/1e6).toString():null:null}m(Bt,"lastReadFromLocalClientElseCachedRemote");function Ct(H){let{text:Ne,query:Pe}=H;return Ne===Pe}m(Ct,"isExactMatch");function Ft(H){let{text:Ne,query:Pe}=H;return!!(Pe&&Ne&&(0,r.A)(Ne,Pe))}m(Ft,"isPrefixMatch");function kt(H){let{text:Ne,normalizedQuery:Pe}=H;return(0,P.B)(Ne).replace(/^[@#]/g,"")===Pe}m(kt,"isNormalizedExactMatch");function Et(H){let{text:Ne,normalizedQuery:Pe}=H;const qe=(0,P.B)(Ne).replace(/^[@#]/g,"");return!!(qe&&Pe&&(0,r.A)(qe,Pe))}m(Et,"isNormalizedPrefixMatch");function mt(H){let{text:Ne,query:Pe}=H;return(0,u.A)(Ne).length+((0,i.A)(Ne," ")?1:0)===(0,u.A)(Pe).length}m(mt,"stringSameNumberWordsValueFromSuggestion");function Rt(H){let{text:Ne,query:Pe}=H;return Math.max(0,Ne.length-Pe.length)}m(Rt,"excessStringLengthValueFromSuggestion");function Ht(H){let{text:Ne,query:Pe}=H;return Ne.length>0?Pe.length/Ne.length:0}m(Ht,"queryRatioLengthValueFromSuggestion");function ft(H){let{text:Ne,normalizedQuery:Pe}=H;return kt({text:Ne,normalizedQuery:Pe})&&Pe.length>1?2**-Pe.length:null}m(ft,"queryLengthDecayNormalMatch");function Jt(H){let{normalizedQuery:Ne}=H;return Ne.length}m(Jt,"queryLength");function Zt(H){let{text:Ne}=H;return Ne.length}m(Zt,"suggestionTextLength");function Tt(H,Ne,Pe){if(Ne){var qe;return Math.min(1,Math.exp(Math.log(.5)/Pe*((qe=Pt(H,Ne))!==null&&qe!==void 0?qe:0)))}return 0}m(Tt,"expAgeDecay");function Pt(H,Ne){return Ne?Math.max(0,H-Ne):null}m(Pt,"age");function Kt(H,Ne,Pe){if(!Ne)return!0;const qe=Pt(H,Ne);return!qe||qe>Pe}m(Kt,"ageLatestOlderOrMissing");function dn(H){return H>0?Math.log1p(H):0}m(dn,"log1pSafe");function sn(H){let{text:Ne,normalizedQuery:Pe}=H;const qe=(0,P.B)(Ne).replace(/^[@#]/g,"");return!!(qe&&Pe&&qe.includes(Pe))}m(sn,"stringContainsQueryNormalized")},7646553093:(W,T,e)=>{"use strict";e.d(T,{A:()=>De});var t=e(3367239067),s=e(9087248458),n=e(7174777686),r=e(3783303734),u=e(362134992),i=e(1703559452),o=e(9816084745),a=e(5141066605),_=e(3037015781),l=e(3929724715),p=e(1407713935),g=e(8920264989),c=e(6007206761),E=e(6495946979);function A(ae){var Z;const ie=(Z=ae.actions)===null||Z===void 0?void 0:Z[0];if(!ie)return 0;const Ce=parseFloat(ie.ts);return isNaN(Ce)?0:Ce}m(A,"getLatestActionTs");var d=e(8170643398),v=e(9262712126),h=e(5096647761),f=e(6536982570),y=e(7578434623),I=e(3879245650),C=e(735940183),D=e(4096483543),M=e(8040098042),P=e(4496040127),S=e(9186097751),b=e(1041273904),O=e(1520110262),L=e(7948868735),k=e(9703079150),K=e(6533394955);class N extends L.F{fetchData(){return(0,K.Qw)(this.teamId,(0,O.ej)({reason:"AutocompleteModelCache"})).catch(Z=>({model:null,exception:Z})).then(Z=>{const ie={model:null};if(Z.model){const Ce=(0,b.A)(Object.entries(Z.model).map(Re=>{let[He,be]=Re;return[He.toUpperCase(),be]}));ie.model=new k.t(Ce,!0)}else return null;return ie})}constructor(Z){super(),this.teamId=Z}}m(N,"AutocompleteModelCache");let R=null;function U(ae){return R||(R=new N(ae)),R}m(U,"getAutocompleteModelCache");var x=e(9150404500),B=e(1917953477),F=e(220244708),V=e(6312133237);const Y=new k.t({ACTIVE_TOKEN_FILTER_AFTER:-1.3342286966503,ACTIVE_TOKEN_FILTER_BEFORE:-1.5840743442206,ACTIVE_TOKEN_FILTER_DURING:-1.5067377681356,ACTIVE_TOKEN_FILTER_FROM:-.32097975590927,ACTIVE_TOKEN_FILTER_HAS:.12307720392367,ACTIVE_TOKEN_FILTER_IN:-.20437151727999,ACTIVE_TOKEN_FILTER_ON:-.2331890332635,ACTIVE_TOKEN_FILTER_TO:-.39179992363572,ACTIVE_TOKEN_FILTER_WITH:-2.6491467875516,ACTIVE_TOKEN_MEMBER:3.3152339724625,ACTIVE_TOKEN_PHRASE:1.6227243782418,ACTIVE_TOKEN_STRING:1.2377431959723,APP_NAME_PREFIX_MATCH:.41310546603391,CHANNEL_ACTION_TEAM_CTR:5.3683432201332,CHANNEL_ACTION_USER_CTR:-3.0316210543763,CHANNEL_IS_ARCHIVED:-.87858649301233,CHANNEL_IS_MEMBER:.77730174627333,CHANNEL_IS_OTHER_TEAM:-.61919041941926,CHANNEL_IS_STARRED:.42983549335324,CHANNEL_IS_UNREAD:.32493583671244,CHANNEL_READ_AGE_DECAY_7D:1.7862684517169,CURRENT_USER_TEXTY:-2.0962311707595,EMOJI_COMBO_BREAK_0:.034181103626295,EMOJI_COMBO_BREAK_1:-1.5404314842404,EMOJI_COMBO_BREAK_2:-2.2796470967609,EMOJI_EXACT_MATCH:.183283071987,EMOJI_QUERY_LENGTH_RATIO:1.0690358111219,EMOJI_USER_CTR_30DD:5.1931307714537,FILE_AGE_DECAY_7D:.094311459141267,FILE_AGE_DECAY_90D:-.068414601197763,FILE_FROM_CURRENT_USER:-.053638049001005,FILE_HAS_DMS_WITH_CREATOR:-.0061128361931085,FILE_IS_CANVAS:.3,FILE_LATEST_ACTION_AGE_DECAY_90D:.22470956185502,FILE_LATEST_VIEW_BY_USER_OLDER_90D:-1.5,FILE_LOG_ACTIONS:.31755825349717,FILE_LOG_PRIVATE_SHARES:.63647050316634,FILE_LOG_PUBLIC_SHARES:-.4105759438314,FILE_NAME_CONTAINS_QUERY_NORMALIZED:1,FILTER_USER_DM_READ_AGE_DECAY_2H:-.39943623618561,FILTER_USER_DM_READ_AGE_DECAY_7D:.8400841724556,FILTER_USER_IS_ACTIVE:.42798763518113,FILTER_USER_PRIORITY:.71416734958181,FRECENCY_BONUS:.0083562726103486,FRECENCY_LOG_HIT_COUNT_SCALED:1.0221320483578,FRECENCY_LOG_ITEM_COUNT_SCALED:.93494415431914,FRECENCY_WEIGHT_HIT_VISITS:.010783602348951,FRECENCY_WEIGHT_ITEM_VISITS:.019341183576389,FUZZY_SCORE_50:.95744512772969,FUZZY_SCORE_ALL:-2.1179514334905,GLOBAL_ACTION_USER_CTR:6.0311738732755,HERE_KEYWORD_EXACT_MATCH:2.8669041266612,HISTORY_AGE_DECAY_7D:.66414153833523,IS_BROADCAST_KEYWORD:3.4759283393419,MEMBER_OF_CURRENT_CHANNEL:3.3022467998568,MPIM_MATCHER_SCORE_0:-.02289922354073,MPIM_MATCHER_SCORE_1:-1.2162030026989,MPIM_MATCHER_SCORE_2:-2.3109629676003,MPIM_MATCHER_SCORE_3:-2.545746172366,MPIM_MEMBER_ALL_MATCHES:.040175375087294,MPIM_MEMBER_NAME_MATCHES:.071667207602181,MPIM_READ_AGE_DECAY_7D:2.0911081748312,MPIM_USER_CTR_30DD:10.134770283044,MPIM_WITH_DEACTIVATED_USER:-1.1657978882602,NAV_NORMAL_MATCH_CHANNEL_LOG_RESULTS:.49306597435127,NAV_NORMAL_MATCH_USER:.83230837935037,NAV_NORMAL_PREFIX_MATCH_NO_USER:.4852904832645,NAV_NORMAL_PREFIX_MATCH_USER:-.12081821144909,ONLY_MATCHES_PREVIOUS_NAME:-1.248003231081,OS_APP_ACTION:-1.381807580371,QUERY_FRECENCY_BONUS:.011725693517502,QUERY_FRECENCY_RAW:.0071433931825349,QUERY_FRECENCY_WEIGHT_HIT_VISITS:.0047962209104509,QUERY_TOKEN_NORMAL_PREFIX_MATCH:.38593901851901,SLASH_COMMAND_USER_CTR:3.2204170381454,STRING_EXACT_PREFIX_MATCH:-.53245135333594,STRING_NORMAL_PREFIX_MATCH:-.4692069451129,TYPE_APP:-2.0995766663586,TYPE_APP_ACTION:-.15299090921826,TYPE_CHANNEL_ACTION:-.97398280475431,TYPE_GLOBAL_ACTION:.24313716972704,TYPE_NAVIGATION_CHANNEL:-.99949500941624,TYPE_NAVIGATION_FILE:-.60870055140391,TYPE_NAVIGATION_MODAL:-1.2540608783032,TYPE_NAVIGATION_MPIM:-.13640397661212,TYPE_NAVIGATION_TEAM:-.74505579518249,TYPE_NAVIGATION_USER:.19845685040217,TYPE_NAVIGATION_VIEW:-.06828592658814,TYPE_QUERY:-.34666651828357,TYPE_QUERY_HISTORY:-.89886675989568,TYPE_SLASH_COMMAND:-.18074491193454,TYPE_USER_QUERY:1.2730815188112,TYPE_WORKFLOW_TRIGGER:-1.2028127578536,USER_DM_EMPTY_V2:1.4226370781581,USER_DM_LATEST_MSG_AGE_DECAY_7D_V2:.40074999941377,USER_DM_LATEST_OLDER_90D_V2:-1.2419114598606,USER_EMAIL_ONLY_MATCH:-1.2756812486684,USER_ENTITY_TYPE_CTR_30DD:3.7407446891213,USER_FIRST_NAME_NORMAL_MATCH:.36402719522123,USER_IS_ACTIVE:.58279556397075,USER_IS_DEACTIVATED:-.58279556397075,USER_IS_BOT:-.76450720727465,USER_IS_EXTERNAL:.27225738168756,USER_LAST_NAME_NORMAL_MATCH:.19972040917946,USER_MPIM_READ_AGE_DECAY_7D:.56565249217787,USER_PRIORITY:.29699660378898,USER_SAME_TEAM:.17696933968657}),w=new k.t({FRECENCY_LOG_ITEM_COUNT:1}),G=new k.t({FRECENCY:1}),Ee=new k.t({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_WORKFLOW_TRIGGER:1,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_HIT_COUNT_SCALED:.45581873094776,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),ne=new k.t({APP_NAME_PREFIX_MATCH:.3,TYPE_SLASH_COMMAND:-1.6,TYPE_GLOBAL_ACTION:1,TYPE_CHANNEL_ACTION:2,TYPE_APP_ACTION:0,TYPE_APP:-1,IS_INVITE_WORKSPACE:-2,BEST_NAME_MATCH_LOG_RESULTS:.3,FRECENCY_LOG_HIT_COUNT_SCALED:4,FRECENCY_BONUS:.0045945271239138,FRECENCY_LOG_HIT_COUNT:.032078623014737,FRECENCY_LOG_ITEM_COUNT:.052896301981039,FRECENCY_LOG_ITEM_COUNT_SCALED:.49730870089138,FRECENCY_WEIGHT_HIT_VISITS:.0071810620916759,FRECENCY_WEIGHT_ITEM_VISITS:.011716715132603,FUZZY_SCORE_25:-.2832109013491,FUZZY_SCORE_50:.25841493146403,FUZZY_SCORE_ALL:-1.5527553376163,NAV_NORMAL_PREFIX_MATCH_NO_USER:.38239541164536,RAW_FRECENCY:-.0027578100310599,READ_FRECENCY_BONUS:.0040115607674155,READ_FRECENCY_LOG_HIT_COUNT:.038436899804508,READ_FRECENCY_LOG_HIT_COUNT_SCALED:.45560596775616,READ_FRECENCY_LOG_ITEM_COUNT:.05525020998482,READ_FRECENCY_LOG_ITEM_COUNT_SCALED:.50026628273703,READ_FRECENCY_WEIGHT_HIT_VISITS:.0073619177800187,READ_FRECENCY_WEIGHT_ITEM_VISITS:.012099980951325,READ_FUZZY_SCORE_25:-.2503777797125,READ_FUZZY_SCORE_50:.24335243348473,READ_FUZZY_SCORE_ALL:-1.5175861934325,READ_NAV_NORMAL_PREFIX_MATCH_NO_USER:.40022884927117,READ_RAW_FRECENCY:-.0031687787672375}),se=new k.t({ACTIVE_TOKEN_QUERY_SUGGESTION:1,BM25_SCORE:1,CHANNEL_IS_MEMBER:0,EXCESS_STRING_LENGTH:1,FRECENCY:.01,MPIM_IS_STARRED:0,NAV_EXACT_MATCH:0,NAV_EXACT_PREFIX_MATCH:0,NAV_EXCESS_STRING_LENGTH:2.5,NAV_NORMAL_MATCH:0,QUERY_SUGGESTION_SCORE_V2:3,STRING_EXACT_PREFIX_MATCH:1,STRING_NORMAL_PREFIX_MATCH:1,TYPE_NAVIGATION_CHANNEL:4,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7,TYPE_NAVIGATION_USER:4,TYPE_QUERY:1,HERE_KEYWORD_EXACT_MATCH:5}),ce=new k.t({FRECENCY:.01,TYPE_NAVIGATION_USER:4,TYPE_NAVIGATION_CHANNEL:4,QUERY_SUGGESTION_SCORE_V2:3,TYPE_NAVIGATION_EXPERT_CHANNEL:2,TYPE_NAVIGATION_MPIM:7}),ye={testing:se,testing_2:ce,frecency:G,autocompleteFallback:Y,shortcuts1:Ee,shortcuts3:ne,emojiFrequentlyUsed:w};var Ie=e(5853759500),Se=e(8847766420),le=e(7384121809),X=e(5795074931),J=e(5267557974),z=e(9101533895),te=e(4761125736),$=e(8719147933),q=e(8276911661),re=e(6562711329);const de=new C.A("search"),oe="autocompleteFallback";let De=m(class{sort(Z,ie){var Ce;const Re=(0,y.Cy)({state:Z});Re.mark("sorter-sort-mark");const He=this.prepSuggestions(Z,ie);this.extractFeatures(Z,He);const be=this.scoreItems(Z,He),Ue=((Ce=this.options)===null||Ce===void 0?void 0:Ce.dryRun)===!0?be:this.sortByScore(be);Re.measureAndClear("sorter-sort-mark","sorter-sort");const me=2,ve=this.boostExactMatches(Ue,me);return this.forceMatches(ve)}boostExactMatches(Z,ie){const Ce=Z.slice(0,ie),Re=[],He=[];for(let be=ie;be<Z.length;be++){const Ue=Z[be];Ue.isExactMatch||Ue.bestNameIsExactMatch?Re.push(Ue):He.push(Ue)}return[...Ce,...Re,...He]}forceMatches(Z){var ie,Ce;return!((ie=this.options)===null||ie===void 0)&&ie.selfFirst&&!(!((Ce=Z[0])===null||Ce===void 0)&&Ce.isSelf)?[...(0,t.A)(Z,He=>He.isSelf),...Z]:Z}getModel(Z,ie){let Ce=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const Re={model:ye[Z]};if(!Ce&&ie){const be=U(ie).getStaleWhileRevalidate(Re);return be===null||be.model===null||be.model===void 0?Re:be}return Re}getHistoryChannels(Z){if((0,te._Z)(Z,"sq_sorter_history")!=="treatment")return{};if(!(0,D.A)())return{};var ie;const Ce=[...(ie=(0,$.t)((0,le.Ry)()))!==null&&ie!==void 0?ie:[]];if(!Ce)return{};for(let He=0;He<Ce.length;He++)Ce[He].position=He+1;const Re={};return Ce.filter(He=>!(0,P.VA)()&&He.teamId!==this.teamId||!He.primaryView?!1:(0,M.A)(He.primaryView)).forEach(He=>{if(He.primaryView&&!(He.primaryView in Re)){var be;Re[He.primaryView]={ts:He.ts/1e3,position:(be=He==null?void 0:He.position)!==null&&be!==void 0?be:-1}}}),Re}prepSuggestions(Z,ie){var Ce,Re,He;const be=(0,V.B)((0,B.O)(this.query));if(!((Ce=this.options)===null||Ce===void 0)&&Ce.currentChannel&&be.length<=1&&!(0,p.yz)((Re=this.options)===null||Re===void 0?void 0:Re.currentChannel)&&!(0,p.LI)((He=this.options)===null||He===void 0?void 0:He.currentChannel)){const Te=ie.filter(Je=>Je.type==="member"||(0,d.NB)(Je.item)).map(Je=>(Je.item||Je).id);(0,K.Qw)(this.teamId,(0,re.z)({channelId:this.options.currentChannel.id,userIds:Te}))}let Ue=null;if(this.teamId){var me;Ue=(0,S.S1)({teamId:this.teamId,enterpriseId:(me=this.enterpriseId)!==null&&me!==void 0?me:void 0}).getStaleWhileRevalidate()}const ve=ie.length,Fe=(0,X.WR)(Z),Ke=(0,q.cA)(Z),j=(0,f.dQ)(Ke),ee=this.getHistoryChannels(Z),je={};return ie.forEach(Te=>{const Je=Te.item;(Te.type==="mpim"||(0,p.yz)(Te.item))&&((0,l.Ug)(Je)||[]).forEach(Me=>{if(Me!==Fe){const we=je[Me]||{itemCount:0,hitCount:0},Ge=(0,l._V)(Z,Je),Qe=Ge?parseFloat(Ge):void 0,fe=(0,J.b)(Z,Je.id),Ve=fe?parseFloat(fe):void 0;Qe&&(we.lastReadTs?we.lastReadTs=Math.max(we.lastReadTs,Qe):we.lastReadTs=Qe),Ve&&(we.latestMsgTs?we.latestMsgTs=Math.max(we.latestMsgTs,Ve):we.latestMsgTs=Ve),we.hitCount+=(Te==null?void 0:Te.hitCount)||0,we.itemCount+=(Te==null?void 0:Te.itemCount)||0,je[Me]=we}})}),ie.map(Te=>{const Je=Te.item||Te,Ae={...Te,query:this.query,normalizedQuery:be,id:Je.id,suggestionType:x.fd.UNKNOWN,numResults:ve};if(Te.type==="member"||(0,d.NB)(Te.item)){var Me,we,Ge,Qe;const Et=Je.id&&(0,z.Pu)(Z,Je.id),mt=Je.id&&Ue&&Ue.getUserDmChannelMetadata(Je.id);if(Ae.remoteImMetadata=mt,Ae.im=Et,Ae.latestImTs=Et&&(0,J.b)(Z,Et.id),Ae.imHasDraft=Et&&(0,l.yc)(Z,Et.id),Ae.imIsStarred=Et&&(0,l.m2)(Z,Et),Ae.name=(0,v.Gt)(Te.item),Ae.lastReadImTs=(0,l._V)(Z,Et),Ae.lastReadRemoteImMetadataTs=mt==null?void 0:mt.last_read_abs,this.enterpriseId&&this.enterpriseId===((Me=Te.item)===null||Me===void 0?void 0:Me.enterprise_id)){const Jt=(0,Se.kN)(Z)||[],Zt=(0,Se.E$)(Z),Tt=Te.item.enterprise_user.teams||[],Pt=(0,s.A)(Jt,Tt);Ae.isMemberOfSearcherDefaultTeam=(0,n.A)(Pt,Zt),Ae.numWorkspacesIntersectingWithSearcher=(0,r.A)(Pt)}(0,f.dQ)(Te.item)===j&&(Ae.sameTeam=!0);let Ht;if(!((we=this.options)===null||we===void 0)&&we.currentChannel&&(Ht=this.options.currentChannel),Ht)if((0,p.yz)(Ht)){var fe,Ve;Ae.isMemberOfCurrentChannel=(Ve=Ht==null||(fe=Ht.members)===null||fe===void 0?void 0:fe.includes(Te.item.id))!==null&&Ve!==void 0?Ve:!1}else(0,p.LI)(Ht)||(Ae.isMemberOfCurrentChannel=(0,F.B)(Z,Je,Ht));Ae.priority=(0,l.dh)(Z,Et),Ae.suggestionType=x.fd.USER_NAVIGATION,Ae.isNavigational=!0,Ae.historyTs=Et&&((Ge=ee[Et.id])===null||Ge===void 0?void 0:Ge.ts),Ae.historyPosition=Et&&((Qe=ee[Et.id])===null||Qe===void 0?void 0:Qe.position);const ft=je[Je.id];ft&&(Ae.mpimFeatures=ft)}else Ae.name=Je.name||Je.string;if(Te.type==="channel"||(0,p.jq)(Te.item)){var Be,Ye;Ae.suggestionType=x.fd.CHANNEL_NAVIGATION,Ae.isNavigational=!0,Ae.isChannelMember=(0,p.rW)(Je)&&!(0,c.F)(Je)&&(0,E.bl)(Je),Ae.hasDraft=(0,l.yc)(Z,Je.id),Ae.offlineFeatures=Ue&&Ue.getFeatures(Te.item.id,"channel"),Ae.historyTs=(Be=ee[Je.id])===null||Be===void 0?void 0:Be.ts,Ae.historyPosition=(Ye=ee[Je.id])===null||Ye===void 0?void 0:Ye.position,Ae.latestTs=(0,J.b)(Z,Je.id),Ae.lastReadTs=(0,l._V)(Z,Je),Ae.priority=(0,l.dh)(Z,Je),Ae.isStarred=(0,l.m2)(Z,Je)}if(Te.type==="mpim"||(0,p.yz)(Te.item)){var et,at;Ae.suggestionType=x.fd.MPIM_NAVIGATION,Ae.isNavigational=!0;const Et=(0,l.Ug)(Je)||[],mt=Ae.normalizedQuery.split(" ");Ae.mpimNumOtherMembersEqualsNumQueryWords=(0,r.A)(mt)===(0,r.A)(Et)-1;const Rt=Et.map(Pt=>(0,q.nv)(Z,Pt));if((0,r.A)(Ae.normalizedQuery)>0){const Pt=m(H=>{const Ne=(0,u.A)(Rt.map(Pe=>{if((0,d.fy)(Pe))return null;const qe=Pe==null?void 0:Pe.real_name;return qe&&H.filter(jt=>jt.length>1).some(jt=>qe.toLowerCase().startsWith(jt.toLowerCase()))?qe:null}));return(0,r.A)(Ne)===(0,r.A)(Et)-1},"allOtherMembersHavePrefixMatch"),Kt=Ae.normalizedQuery.split(" ").map(H=>H.trim()).filter(H=>(0,r.A)(H)>0),dn=Kt.reduce((H,Ne,Pe,qe)=>(Pe%2===0&&(Pe===qe.length-1?H.push(Ne):H.push(`${Ne} ${qe[Pe+1]}`)),H),[]),sn=Ae.normalizedQuery.split(",").map(H=>H.trim()).filter(H=>(0,r.A)(H)>0);Ae.allOtherMemberNamesHavePrefixMatch=Pt(Kt)||Pt(dn)||Pt(sn)}Ae.isMpimWithDeactivatedMember=(0,i.A)(Rt,Pt=>(0,d.oy)(Pt)||(0,d.eJ)(Pt)),Ae.isMpimWithOnlyInternalMembers=(0,o.A)(Rt,Pt=>!(0,h.g)(Pt)),Ae.hasDraft=(0,l.yc)(Z,Je.id),Ae.name=(0,l.Oi)(Z,Te.item),Ae.offlineFeatures=Ue&&Ue.getFeatures(Te.item.id,"mpim"),Ae.historyTs=(et=ee[Je.id])===null||et===void 0?void 0:et.ts,Ae.historyPosition=(at=ee[Je.id])===null||at===void 0?void 0:at.position,Ae.priority=(0,l.dh)(Z,Je),Ae.maxLastReadTsOfAllMembers=null,Ae.maxLatestMsgTsOfAllMembers=null;let Ht=0,ft=0,Jt=0,Zt=0,Tt=0;Rt.forEach(Pt=>{if(Pt.id!==Fe){const sn=Pt.id?(0,z.Pu)(Z,Pt.id):void 0,H=sn&&(0,l._V)(Z,sn),Ne=Pt.id&&Ue&&Ue.getUserDmChannelMetadata(Pt.id),Pe=Ne&&Ne.last_read_abs/1e6,qe=sn||Ne,At=H?parseFloat(H):Pe;if(qe){if(Tt+=1,At){Jt+=1;var Kt;Ae.maxLastReadTsOfAllMembers=Math.max((Kt=Ae.maxLastReadTsOfAllMembers)!==null&&Kt!==void 0?Kt:-1/0,At),Ht+=At}const xt=(0,J.b)(Z,sn==null?void 0:sn.id),jt=sn&&xt?parseFloat(xt):void 0;if(jt){Zt+=1;var dn;Ae.maxLatestMsgTsOfAllMembers=Math.max((dn=Ae.maxLatestMsgTsOfAllMembers)!==null&&dn!==void 0?dn:-1/0,jt),ft+=jt}}}}),Ae.avgLastReadTsOfAllMembers=Ht===0?null:Ht/Jt,Ae.avgLatestMsgTsOfAllMembers=ft===0?null:ft/Zt,Ae.pctNonEmptyDmsForAllMembers=Jt/(Rt.length-1)*100,Ae.pctNonNullDmsForAllMembers=Tt/(Rt.length-1)*100}if(Te.type==="team"&&(Ae.suggestionType=x.fd.TEAM_NAVIGATION,Ae.isNavigational=!0),Te.type==="view"&&(Ae.suggestionType=x.fd.VIEW_NAVIGATION,Ae.isNavigational=!0),Te.type==="appAction"&&(Ae.suggestionType=x.fd.APP_ACTION,Ae.isAction=!0,Ae.offlineFeatures=Ue&&Ue.getFeatures(Te.item.id,"appAction")),Te.type==="app"&&(Ae.suggestionType=x.fd.APP,Ae.isApp=!0),Te.type==="emoji"&&(Ae.name=Ae.emojiBestNameMatch,Ae.suggestionType=x.fd.EMOJI,Ae.isNavigational=!0,Ae.offlineFeatures=Ue&&Ue.getFeatures(Te.item.id,"emoji")),Te.type==="slashCommand"){var gt;Ae.suggestionType=x.fd.SLASH_COMMAND,Ae.isApp=!0,Ae.name=(gt=Ae.name)===null||gt===void 0?void 0:gt.substring(1),Ae.firstWordOfRawQuery&&(Ae.query=Ae.firstWordOfRawQuery,Ae.normalizedQuery=Ae.firstWordOfRawQuery),Ae.offlineFeatures=Ue&&Ue.getFeatures(Te.item.id,"slashCommand")}if(Te.type==="globalAction"&&(Ae.suggestionType=x.fd.GLOBAL_ACTION,Ae.isApp=!0,Ae.offlineFeatures=Ue&&Ue.getFeatures(Te.item.id,"globalAction")),Te.type==="quipShortcutCommand"&&(Ae.suggestionType=x.fd.QUIP_SHORTCUT),Te.type==="canvasAiSuggestion"&&(Ae.suggestionType=x.fd.CANVAS_AI_SUGGESTION),Te.type==="channelAction"&&(Ae.suggestionType=x.fd.CHANNEL_ACTION,Ae.isApp=!0,Ae.offlineFeatures=Ue&&Ue.getFeatures(Te.item.id,"channelAction")),Te.type==="workflowTrigger"&&(Ae.suggestionType=x.fd.WORKFLOW_TRIGGER,Ae.isApp=!0,Ae.offlineFeatures=Ue&&Ue.getFeatures(Te.item.id,"workflowTrigger")),Te.type==="file"){Ae.suggestionType=x.fd.FILE_NAVIGATION,Ae.isNavigational=!0,Ae.fileSuggestionsFromSearcher=!0;const Et=Ae.item;Ae.id=Et.id,Ae.fileId=Et.id,Ae.logId=Et.id,Ae.fileType=Et.highlight_type||Et.filetype,Ae.name=Et.title,Ae.fileTypeDescription=Et.is_external?(0,a.A)(Et,Z):Et.pretty_type,Ae.fileTypeDescription==="Arugula"&&(Ae.fileTypeDescription=de.t("Post")),Ae.fromCurrentUser=Et.user===Fe;const mt=Et.user&&(0,z.Pu)(Z,Et.user),Rt=Et.user&&Ue&&Ue.getUserDmChannelMetadata(Et.user);if(Ae.hasNonNullDmsWithCreator=mt!==null,Ae.hasNonNullLocalOrRemoteDmsWithCreator=mt!==null||Rt!==null,Ae.lastReadTs=Et.last_read,Et.shares){const ft=Et.shares.public&&Math.max(...Object.values(Et.shares.public).flatMap(Zt=>Zt.map(Tt=>Tt.ts?parseFloat(Tt.ts):-1/0))),Jt=Et.shares.private&&Math.max(...Object.values(Et.shares.private).flatMap(Zt=>Zt.map(Tt=>Tt.ts?parseFloat(Tt.ts):-1/0)));ft&&Jt?Ae.latestShareTs=ft>Jt?ft:Jt:Ae.latestShareTs=ft||Jt}const Ht=A(Et);if(Ht&&(Ae.latestActionTs=Ht),Ue){const ft=Et.channels&&Array.isArray(Et.channels)&&Et.channels.length&&Math.max(...Et.channels.map(Zt=>Ue.getFeatures(Zt,"channel").user_ctr_30dd)),Jt=Et.groups&&Array.isArray(Et.groups)&&Et.groups.length&&Math.max(...Et.groups.map(Zt=>Ue.getFeatures(Zt,"mpim").user_ctr_30dd));ft>0&&Jt>0?Ae.fileChannelCtr=Math.max(ft,Jt):ft>0?Ae.fileChannelCtr=ft:Jt>0&&(Ae.fileChannelCtr=Jt),Et.user?Ae.fileUserCtr=Ue.getFeatures(Et.user,"member").user_ctr_30dd:Ae.fileUserCtr=Ue.getEntityCtr("member")}}if(Te.type==="link"&&(Ae.suggestionType=x.fd.LINK_NAVIGATION,Ae.isNavigational=!0,Ae.name=Te.item.title||Te.item.url),Te.type==="modal"&&(Ae.suggestionType=x.fd.MODAL_NAVIGATION,Ae.name=Te.item.name),Te.type==="queryHistory"&&(Ae.suggestionType=x.fd.QUERY_HISTORY,Ae.is_type_query_history=!0,Ae.id=(0,I.B)(Te.id||Te.name||Te.string),Ae.logId=Ae.id,Ae.exact_string=Te.string),Te.type==="query"||Te.type==="queryUser"||Te.type==="queryHistory"){var Mt,Bt,Ct;Ae.is_type_query_completion=!0,Ae.lastSuggestionToken=!Ae.suggestionTokenList||Ae.suggestionTokenList.length<1?null:Ae.suggestionTokenList[Ae.suggestionTokenList.length-1],Ae.frecencyScore=Ae.lastSuggestionToken&&Ae.lastSuggestionToken._frecencyScore,Ae.scoringContext=((Mt=Ae.lastSuggestionToken)===null||Mt===void 0?void 0:Mt._scoringContext)||{},Ae.lastTokenMemberOrNull=null,Ae.lastTokenChannelOrNull=null;const Et=Ae.lastSuggestionToken&&(Ae.lastSuggestionToken.type===x.S6.FILTER_FROM||Ae.lastSuggestionToken.type===x.S6.FILTER_TO||Ae.lastSuggestionToken.type===x.S6.FILTER_WITH),mt=Ae.lastSuggestionToken&&Ae.lastSuggestionToken.type===x.S6.FILTER_IN;if(!((Bt=Ae.lastSuggestionToken)===null||Bt===void 0)&&Bt._id&&(Ae.lastTokenMemberOrNull=Et&&(0,q.nv)(Z,Ae.lastSuggestionToken._id),Ae.lastTokenChannelOrNull=mt&&((0,z.OL)(Z,Ae.lastSuggestionToken._id)||(0,z.Pu)(Z,Ae.lastSuggestionToken._id)),Ae.priority=Ae.lastTokenChannelOrNull?(0,l.dh)(Z,Ae.lastTokenChannelOrNull):void 0),Ae.lastSuggestionToken&&Ae.lastSuggestionToken._name&&(Ae.lastTokenMemberOrNull||(Ae.lastTokenMemberOrNull=Et&&(0,q.H6)(Z,Ae.lastSuggestionToken._name)),Ae.lastTokenChannelOrNull||(Ae.lastTokenChannelOrNull=mt&&(0,z.Os)(Z,Ae.lastSuggestionToken._name))),(0,_.GU)(Ae.lastTokenMemberOrNull)&&(Ae.lastTokenMemberOrNull=null),Ae.lastTokenMemberName=(0,v.Gt)(Ae.lastTokenMemberOrNull)||void 0,(0,_.GU)(Ae.lastTokenChannelOrNull))Ae.lastTokenChannelOrNull=null;else{const Ht=(0,l._V)(Z,Ae.lastTokenChannelOrNull);Ae.lastTokenChannelLastRead=Ht?parseFloat(Ht):void 0,Ae.lastTokenChannelIsStarred=(0,l.m2)(Z,Ae.lastTokenChannelOrNull)}Ae.lastTokenChannelName=(0,g.SB)(Z,Ae.lastTokenChannelOrNull)||void 0,Ae.lastTokenIm=Ae.lastTokenMemberOrNull&&Ae.lastTokenMemberOrNull.id?(0,z.Pu)(Z,Ae.lastTokenMemberOrNull.id):void 0,Ae.lastTokenImLatest=(0,J.b)(Z,(Ct=Ae.lastTokenIm)===null||Ct===void 0?void 0:Ct.id);const Rt=(0,l._V)(Z,Ae.lastTokenIm);Rt&&(Ae.lastTokenImLastRead=Rt?parseFloat(Rt):void 0),Ae.lastTokenIm&&(Ae.priority=(0,l.dh)(Z,Ae.lastTokenIm)),Ae.lastTokenImIsStarred=(0,l.m2)(Z,Ae.lastTokenIm)}if(Te.type==="query"&&(Ae.suggestionType=x.fd.QUERY),Te.type==="queryUser"&&(Ae.suggestionType=x.fd.QUERY_USER),Te.type==="queryConvoSearch"&&(Ae.suggestionType=x.fd.QUERY_CONVO_SEARCH),Te.type==="queryHistory"&&(Ae.suggestionType=x.fd.QUERY_HISTORY),Te.type==="querySalesforce"&&(Ae.suggestionType=x.fd.QUERY_SALESFORCE),Te.type==="query"||Te.type==="queryUser"||Te.type==="queryConvoSearch"||Te.type==="queryHistory"||Te.type==="querySalesforce"){var Ft;Ae.normalizedQuery=(0,V.B)((0,B.O)(Ae.query)),Ae.logId=((Ft=Ae.lastSuggestionToken)===null||Ft===void 0?void 0:Ft.logId)||"";var kt;Ae.name=((kt=Ae.suggestionTokenList)!==null&&kt!==void 0?kt:[]).map(Et=>Et.toString()).join(" ")}return Te.type==="quickMessage"&&(Ae.isNavigational=!0,Ae.suggestionType=x.fd.MESSAGE_NAVIGATION),Ae.entityTypeCtr=Ue?Ue.getEntityCtr(Te.type):void 0,Ae})}extractFeatures(Z,ie){ie.forEach(Ce=>{var Re;const He=(0,Ie.Tv)(Ce,(Re=this.options)===null||Re===void 0?void 0:Re.source);this.featureVectors[Ce.id]=He})}selectModelForScoring(){return this.model}scoreItems(Z,ie){var Ce;const Re={source:(Ce=this.options)===null||Ce===void 0?void 0:Ce.source},He=this.selectModelForScoring();return ie.map(be=>{var Ue;const me=this.featureVectors[be.id],ve=He.score(me,Re);let Fe;return!((Ue=this.options)===null||Ue===void 0)&&Ue.explain&&(Fe=He.explain(me,Re)),{...be,modelScore:ve,featureVectorRaw:me,explain:Fe}})}sortByScore(Z){var ie,Ce;return Z.sort((Re,He)=>((ie=He==null?void 0:He.modelScore)!==null&&ie!==void 0?ie:0)-((Ce=Re==null?void 0:Re.modelScore)!==null&&Ce!==void 0?Ce:0))}constructor({query:Z,options:ie={},teamId:Ce=null,enterpriseId:Re=null}){this.query=Z,this.options=ie;let He=ie.model;He===void 0&&(He=oe);var be;const Ue=this.getModel(He,Ce||Re,(be=this.options.modelLocal)!==null&&be!==void 0?be:!1);this.model=Ue.model,this.teamId=Ce,this.enterpriseId=Re,this.featureVectors={}}},"Sorter")},2332798892:(W,T,e)=>{"use strict";e.d(T,{A:()=>_});var t=e(1703559452),s=e(7174777686),n=e(9219415264),r=e(3212336858);const u=["`","\xB4","\u02C6","\xA8","\u02DC"],i=new RegExp(`[${u.join("")}]$`);function o(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"").replace(i,"")}m(o,"trim_trailing_composition_char");const a={COMPOSITION_CHARS:u};function _(l,p){let{allowPartialMatches:g=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!p||!l)return!1;let c=p.toLowerCase().replace(/^\uFF0F/,"/");c=(0,n.A)(c),c=o(c);const E=[(0,r.fK)(l),(0,r.Bs)(l),...(0,r.qc)(l)||[]];return(0,t.A)(E,A=>{const d=(0,n.A)(A);return g?(0,s.A)(d,c):d===c})}m(_,"is_match_for_command")},475074488:(W,T,e)=>{"use strict";e.d(T,{Ay:()=>i,lr:()=>o,nf:()=>a});var t=e(6313685253),s=e(4178261413),n=e(5797466484),r=e(9746734072),u=e(8840779375);function i(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return(0,t.A)(l,(p,g,c)=>({...p,[(0,s.A)(c)]:g}),{})}m(i,"snakeCaseKeys");const o=5;function a(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=arguments.length>2?arguments[2]:void 0;return _(l,p,g)}m(a,"snakeCaseKeysDeep");function _(l){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,g=arguments.length>2?arguments[2]:void 0;var c;if(!(0,n.A)(l)&&!(0,r.A)(l)||p>((c=g==null?void 0:g.maxDepth)!==null&&c!==void 0?c:o)||!l)return l;const E=p+1;let A={};return(0,r.A)(l)?(0,r.A)(l)&&(A=(0,u.A)(l,d=>a(d,E,g))):A=(0,t.A)(l,(d,v,h)=>{var f;const y=!(g==null||(f=g.ignoredKeys)===null||f===void 0)&&f.includes(h)?h:(0,s.A)(h);return{...d,[y]:a(v,E,g)}},{}),A}m(_,"snakeCaseKeysDeepPrivate")},8664881451:(W,T,e)=>{"use strict";e.d(T,{Dd:()=>d,Rj:()=>h,TQ:()=>v,ZH:()=>E,_$:()=>g,ds:()=>A});var t=e(6998663753),s=e(3036243650),n=e(4094753332),r=e(337319621);const u={},i={},o={},a=(0,r.Wo)({label:"SOUND-PLAYBACK"});function _(f){return`${f}-repeat`}m(_,"createRepeatKey");const l="default";let p=!1;const g=(0,t.A)(f=>{a.info(`Setting sound playback to prefer OS default sink: ${f}`),p=f}),c=m(async function(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;try{if(!f||!("setSinkId"in f)||(0,n.gm)())return;let I=l;p?I=y?(0,s._o)():l:I=(0,s._o)(),a.info(`Setting sound playback sink id to ${I}`),await f.setSinkId(I)}catch(I){a.warn(`Failed to set sink id with reason: ${I}`)}},"maybeSetAudioSinkId"),E=m(async function(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!f)return null;const I=d(f)||v(f);I.loop=!!y.loop,I.currentTime=0;var C;I.volume=(C=y.volume)!==null&&C!==void 0?C:1,await c(I,!!y.useSlackPreferredSink);try{await I.play()}catch(D){a.warn(`Failed to play sound: ${f} with reason: ${D}`)}},"play");function A(f){let{logFailure:y}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{logFailure:!0};const I=d(f),C=_(f),D=d(C);if(!I&&!D){y&&a.warn(`Tried to stop sound, but no sound was playing matching url: ${f}. Available cached element urls are ${Object.keys(u).join(", ")}`);return}if(D){D.pause(),clearTimeout(o[C]),i[C]=0;const M=D.src;D.src="",D.src=M}if(I){I.pause();const M=I.src;I.src="",I.src=M}}m(A,"stop");function d(f){return u[f]}m(d,"getAudioElement");function v(f){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const I=new Audio(f);y.ended&&I.addEventListener("ended",y.ended);const C=y.customCacheKey||f;return u[C]=I,I}m(v,"createAudioElement");function h(f,y,I){if(!f||!y||!I)return;const C=d(f);C&&C.removeEventListener(y,I)}m(h,"removeAudioElementListener")},2414816894:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(4897863105);function s(n){return(0,t.c)().indexOf(n)!==-1}m(s,"mentionIdIsKeyword")},5003409852:(W,T,e)=>{"use strict";e.d(T,{A:()=>t});function t(s){return s==="UNVERIFIED"}m(t,"mentionIdIsUnverified")},5619542846:(W,T,e)=>{"use strict";e.d(T,{A:()=>r});var t=e(3803027235),s=e.n(t);const n={"&Aacute;":"\xC1","&Aacute":"\xC1","&aacute;":"\xE1","&aacute":"\xE1","&Abreve;":"\u0102","&abreve;":"\u0103","&ac;":"\u223E","&acd;":"\u223F","&acE;":"\u223E\u0333","&Acirc;":"\xC2","&Acirc":"\xC2","&acirc;":"\xE2","&acirc":"\xE2","&acute;":"\xB4","&acute":"\xB4","&Acy;":"\u0410","&acy;":"\u0430","&AElig;":"\xC6","&AElig":"\xC6","&aelig;":"\xE6","&aelig":"\xE6","&af;":"\u2061","&Afr;":"\u{1D504}","&afr;":"\u{1D51E}","&Agrave;":"\xC0","&Agrave":"\xC0","&agrave;":"\xE0","&agrave":"\xE0","&alefsym;":"\u2135","&aleph;":"\u2135","&Alpha;":"\u0391","&alpha;":"\u03B1","&Amacr;":"\u0100","&amacr;":"\u0101","&amalg;":"\u2A3F","&AMP;":"&","&AMP":"&","&amp;":"&","&amp":"&","&And;":"\u2A53","&and;":"\u2227","&andand;":"\u2A55","&andd;":"\u2A5C","&andslope;":"\u2A58","&andv;":"\u2A5A","&ang;":"\u2220","&ange;":"\u29A4","&angle;":"\u2220","&angmsd;":"\u2221","&angmsdaa;":"\u29A8","&angmsdab;":"\u29A9","&angmsdac;":"\u29AA","&angmsdad;":"\u29AB","&angmsdae;":"\u29AC","&angmsdaf;":"\u29AD","&angmsdag;":"\u29AE","&angmsdah;":"\u29AF","&angrt;":"\u221F","&angrtvb;":"\u22BE","&angrtvbd;":"\u299D","&angsph;":"\u2222","&angst;":"\xC5","&angzarr;":"\u237C","&Aogon;":"\u0104","&aogon;":"\u0105","&Aopf;":"\u{1D538}","&aopf;":"\u{1D552}","&ap;":"\u2248","&apacir;":"\u2A6F","&apE;":"\u2A70","&ape;":"\u224A","&apid;":"\u224B","&apos;":"'","&ApplyFunction;":"\u2061","&approx;":"\u2248","&approxeq;":"\u224A","&Aring;":"\xC5","&Aring":"\xC5","&aring;":"\xE5","&aring":"\xE5","&Ascr;":"\u{1D49C}","&ascr;":"\u{1D4B6}","&Assign;":"\u2254","&ast;":"*","&asymp;":"\u2248","&asympeq;":"\u224D","&Atilde;":"\xC3","&Atilde":"\xC3","&atilde;":"\xE3","&atilde":"\xE3","&Auml;":"\xC4","&Auml":"\xC4","&auml;":"\xE4","&auml":"\xE4","&awconint;":"\u2233","&awint;":"\u2A11","&backcong;":"\u224C","&backepsilon;":"\u03F6","&backprime;":"\u2035","&backsim;":"\u223D","&backsimeq;":"\u22CD","&Backslash;":"\u2216","&Barv;":"\u2AE7","&barvee;":"\u22BD","&Barwed;":"\u2306","&barwed;":"\u2305","&barwedge;":"\u2305","&bbrk;":"\u23B5","&bbrktbrk;":"\u23B6","&bcong;":"\u224C","&Bcy;":"\u0411","&bcy;":"\u0431","&bdquo;":"\u201E","&becaus;":"\u2235","&Because;":"\u2235","&because;":"\u2235","&bemptyv;":"\u29B0","&bepsi;":"\u03F6","&bernou;":"\u212C","&Bernoullis;":"\u212C","&Beta;":"\u0392","&beta;":"\u03B2","&beth;":"\u2136","&between;":"\u226C","&Bfr;":"\u{1D505}","&bfr;":"\u{1D51F}","&bigcap;":"\u22C2","&bigcirc;":"\u25EF","&bigcup;":"\u22C3","&bigodot;":"\u2A00","&bigoplus;":"\u2A01","&bigotimes;":"\u2A02","&bigsqcup;":"\u2A06","&bigstar;":"\u2605","&bigtriangledown;":"\u25BD","&bigtriangleup;":"\u25B3","&biguplus;":"\u2A04","&bigvee;":"\u22C1","&bigwedge;":"\u22C0","&bkarow;":"\u290D","&blacklozenge;":"\u29EB","&blacksquare;":"\u25AA","&blacktriangle;":"\u25B4","&blacktriangledown;":"\u25BE","&blacktriangleleft;":"\u25C2","&blacktriangleright;":"\u25B8","&blank;":"\u2423","&blk12;":"\u2592","&blk14;":"\u2591","&blk34;":"\u2593","&block;":"\u2588","&bne;":"=\u20E5","&bnequiv;":"\u2261\u20E5","&bNot;":"\u2AED","&bnot;":"\u2310","&Bopf;":"\u{1D539}","&bopf;":"\u{1D553}","&bot;":"\u22A5","&bottom;":"\u22A5","&bowtie;":"\u22C8","&boxbox;":"\u29C9","&boxDL;":"\u2557","&boxDl;":"\u2556","&boxdL;":"\u2555","&boxdl;":"\u2510","&boxDR;":"\u2554","&boxDr;":"\u2553","&boxdR;":"\u2552","&boxdr;":"\u250C","&boxH;":"\u2550","&boxh;":"\u2500","&boxHD;":"\u2566","&boxHd;":"\u2564","&boxhD;":"\u2565","&boxhd;":"\u252C","&boxHU;":"\u2569","&boxHu;":"\u2567","&boxhU;":"\u2568","&boxhu;":"\u2534","&boxminus;":"\u229F","&boxplus;":"\u229E","&boxtimes;":"\u22A0","&boxUL;":"\u255D","&boxUl;":"\u255C","&boxuL;":"\u255B","&boxul;":"\u2518","&boxUR;":"\u255A","&boxUr;":"\u2559","&boxuR;":"\u2558","&boxur;":"\u2514","&boxV;":"\u2551","&boxv;":"\u2502","&boxVH;":"\u256C","&boxVh;":"\u256B","&boxvH;":"\u256A","&boxvh;":"\u253C","&boxVL;":"\u2563","&boxVl;":"\u2562","&boxvL;":"\u2561","&boxvl;":"\u2524","&boxVR;":"\u2560","&boxVr;":"\u255F","&boxvR;":"\u255E","&boxvr;":"\u251C","&bprime;":"\u2035","&Breve;":"\u02D8","&breve;":"\u02D8","&brvbar;":"\xA6","&brvbar":"\xA6","&Bscr;":"\u212C","&bscr;":"\u{1D4B7}","&bsemi;":"\u204F","&bsim;":"\u223D","&bsime;":"\u22CD","&bsol;":"\\","&bsolb;":"\u29C5","&bsolhsub;":"\u27C8","&bull;":"\u2022","&bullet;":"\u2022","&bump;":"\u224E","&bumpE;":"\u2AAE","&bumpe;":"\u224F","&Bumpeq;":"\u224E","&bumpeq;":"\u224F","&Cacute;":"\u0106","&cacute;":"\u0107","&Cap;":"\u22D2","&cap;":"\u2229","&capand;":"\u2A44","&capbrcup;":"\u2A49","&capcap;":"\u2A4B","&capcup;":"\u2A47","&capdot;":"\u2A40","&CapitalDifferentialD;":"\u2145","&caps;":"\u2229\uFE00","&caret;":"\u2041","&caron;":"\u02C7","&Cayleys;":"\u212D","&ccaps;":"\u2A4D","&Ccaron;":"\u010C","&ccaron;":"\u010D","&Ccedil;":"\xC7","&Ccedil":"\xC7","&ccedil;":"\xE7","&ccedil":"\xE7","&Ccirc;":"\u0108","&ccirc;":"\u0109","&Cconint;":"\u2230","&ccups;":"\u2A4C","&ccupssm;":"\u2A50","&Cdot;":"\u010A","&cdot;":"\u010B","&cedil;":"\xB8","&cedil":"\xB8","&Cedilla;":"\xB8","&cemptyv;":"\u29B2","&cent;":"\xA2","&cent":"\xA2","&CenterDot;":"\xB7","&centerdot;":"\xB7","&Cfr;":"\u212D","&cfr;":"\u{1D520}","&CHcy;":"\u0427","&chcy;":"\u0447","&check;":"\u2713","&checkmark;":"\u2713","&Chi;":"\u03A7","&chi;":"\u03C7","&cir;":"\u25CB","&circ;":"\u02C6","&circeq;":"\u2257","&circlearrowleft;":"\u21BA","&circlearrowright;":"\u21BB","&circledast;":"\u229B","&circledcirc;":"\u229A","&circleddash;":"\u229D","&CircleDot;":"\u2299","&circledR;":"\xAE","&circledS;":"\u24C8","&CircleMinus;":"\u2296","&CirclePlus;":"\u2295","&CircleTimes;":"\u2297","&cirE;":"\u29C3","&cire;":"\u2257","&cirfnint;":"\u2A10","&cirmid;":"\u2AEF","&cirscir;":"\u29C2","&ClockwiseContourIntegral;":"\u2232","&CloseCurlyDoubleQuote;":"\u201D","&CloseCurlyQuote;":"\u2019","&clubs;":"\u2663","&clubsuit;":"\u2663","&Colon;":"\u2237","&colon;":":","&Colone;":"\u2A74","&colone;":"\u2254","&coloneq;":"\u2254","&comma;":",","&commat;":"@","&comp;":"\u2201","&compfn;":"\u2218","&complement;":"\u2201","&complexes;":"\u2102","&cong;":"\u2245","&congdot;":"\u2A6D","&Congruent;":"\u2261","&Conint;":"\u222F","&conint;":"\u222E","&ContourIntegral;":"\u222E","&Copf;":"\u2102","&copf;":"\u{1D554}","&coprod;":"\u2210","&Coproduct;":"\u2210","&COPY;":"\xA9","&COPY":"\xA9","&copy;":"\xA9","&copy":"\xA9","&copysr;":"\u2117","&CounterClockwiseContourIntegral;":"\u2233","&crarr;":"\u21B5","&Cross;":"\u2A2F","&cross;":"\u2717","&Cscr;":"\u{1D49E}","&cscr;":"\u{1D4B8}","&csub;":"\u2ACF","&csube;":"\u2AD1","&csup;":"\u2AD0","&csupe;":"\u2AD2","&ctdot;":"\u22EF","&cudarrl;":"\u2938","&cudarrr;":"\u2935","&cuepr;":"\u22DE","&cuesc;":"\u22DF","&cularr;":"\u21B6","&cularrp;":"\u293D","&Cup;":"\u22D3","&cup;":"\u222A","&cupbrcap;":"\u2A48","&CupCap;":"\u224D","&cupcap;":"\u2A46","&cupcup;":"\u2A4A","&cupdot;":"\u228D","&cupor;":"\u2A45","&cups;":"\u222A\uFE00","&curarr;":"\u21B7","&curarrm;":"\u293C","&curlyeqprec;":"\u22DE","&curlyeqsucc;":"\u22DF","&curlyvee;":"\u22CE","&curlywedge;":"\u22CF","&curren;":"\xA4","&curren":"\xA4","&curvearrowleft;":"\u21B6","&curvearrowright;":"\u21B7","&cuvee;":"\u22CE","&cuwed;":"\u22CF","&cwconint;":"\u2232","&cwint;":"\u2231","&cylcty;":"\u232D","&Dagger;":"\u2021","&dagger;":"\u2020","&daleth;":"\u2138","&Darr;":"\u21A1","&dArr;":"\u21D3","&darr;":"\u2193","&dash;":"\u2010","&Dashv;":"\u2AE4","&dashv;":"\u22A3","&dbkarow;":"\u290F","&dblac;":"\u02DD","&Dcaron;":"\u010E","&dcaron;":"\u010F","&Dcy;":"\u0414","&dcy;":"\u0434","&DD;":"\u2145","&dd;":"\u2146","&ddagger;":"\u2021","&ddarr;":"\u21CA","&DDotrahd;":"\u2911","&ddotseq;":"\u2A77","&deg;":"\xB0","&deg":"\xB0","&Del;":"\u2207","&Delta;":"\u0394","&delta;":"\u03B4","&demptyv;":"\u29B1","&dfisht;":"\u297F","&Dfr;":"\u{1D507}","&dfr;":"\u{1D521}","&dHar;":"\u2965","&dharl;":"\u21C3","&dharr;":"\u21C2","&DiacriticalAcute;":"\xB4","&DiacriticalDot;":"\u02D9","&DiacriticalDoubleAcute;":"\u02DD","&DiacriticalGrave;":"`","&DiacriticalTilde;":"\u02DC","&diam;":"\u22C4","&Diamond;":"\u22C4","&diamond;":"\u22C4","&diamondsuit;":"\u2666","&diams;":"\u2666","&die;":"\xA8","&DifferentialD;":"\u2146","&digamma;":"\u03DD","&disin;":"\u22F2","&div;":"\xF7","&divide;":"\xF7","&divide":"\xF7","&divideontimes;":"\u22C7","&divonx;":"\u22C7","&DJcy;":"\u0402","&djcy;":"\u0452","&dlcorn;":"\u231E","&dlcrop;":"\u230D","&dollar;":"$","&Dopf;":"\u{1D53B}","&dopf;":"\u{1D555}","&Dot;":"\xA8","&dot;":"\u02D9","&DotDot;":"\u20DC","&doteq;":"\u2250","&doteqdot;":"\u2251","&DotEqual;":"\u2250","&dotminus;":"\u2238","&dotplus;":"\u2214","&dotsquare;":"\u22A1","&doublebarwedge;":"\u2306","&DoubleContourIntegral;":"\u222F","&DoubleDot;":"\xA8","&DoubleDownArrow;":"\u21D3","&DoubleLeftArrow;":"\u21D0","&DoubleLeftRightArrow;":"\u21D4","&DoubleLeftTee;":"\u2AE4","&DoubleLongLeftArrow;":"\u27F8","&DoubleLongLeftRightArrow;":"\u27FA","&DoubleLongRightArrow;":"\u27F9","&DoubleRightArrow;":"\u21D2","&DoubleRightTee;":"\u22A8","&DoubleUpArrow;":"\u21D1","&DoubleUpDownArrow;":"\u21D5","&DoubleVerticalBar;":"\u2225","&DownArrow;":"\u2193","&Downarrow;":"\u21D3","&downarrow;":"\u2193","&DownArrowBar;":"\u2913","&DownArrowUpArrow;":"\u21F5","&DownBreve;":"\u0311","&downdownarrows;":"\u21CA","&downharpoonleft;":"\u21C3","&downharpoonright;":"\u21C2","&DownLeftRightVector;":"\u2950","&DownLeftTeeVector;":"\u295E","&DownLeftVector;":"\u21BD","&DownLeftVectorBar;":"\u2956","&DownRightTeeVector;":"\u295F","&DownRightVector;":"\u21C1","&DownRightVectorBar;":"\u2957","&DownTee;":"\u22A4","&DownTeeArrow;":"\u21A7","&drbkarow;":"\u2910","&drcorn;":"\u231F","&drcrop;":"\u230C","&Dscr;":"\u{1D49F}","&dscr;":"\u{1D4B9}","&DScy;":"\u0405","&dscy;":"\u0455","&dsol;":"\u29F6","&Dstrok;":"\u0110","&dstrok;":"\u0111","&dtdot;":"\u22F1","&dtri;":"\u25BF","&dtrif;":"\u25BE","&duarr;":"\u21F5","&duhar;":"\u296F","&dwangle;":"\u29A6","&DZcy;":"\u040F","&dzcy;":"\u045F","&dzigrarr;":"\u27FF","&Eacute;":"\xC9","&Eacute":"\xC9","&eacute;":"\xE9","&eacute":"\xE9","&easter;":"\u2A6E","&Ecaron;":"\u011A","&ecaron;":"\u011B","&ecir;":"\u2256","&Ecirc;":"\xCA","&Ecirc":"\xCA","&ecirc;":"\xEA","&ecirc":"\xEA","&ecolon;":"\u2255","&Ecy;":"\u042D","&ecy;":"\u044D","&eDDot;":"\u2A77","&Edot;":"\u0116","&eDot;":"\u2251","&edot;":"\u0117","&ee;":"\u2147","&efDot;":"\u2252","&Efr;":"\u{1D508}","&efr;":"\u{1D522}","&eg;":"\u2A9A","&Egrave;":"\xC8","&Egrave":"\xC8","&egrave;":"\xE8","&egrave":"\xE8","&egs;":"\u2A96","&egsdot;":"\u2A98","&el;":"\u2A99","&Element;":"\u2208","&elinters;":"\u23E7","&ell;":"\u2113","&els;":"\u2A95","&elsdot;":"\u2A97","&Emacr;":"\u0112","&emacr;":"\u0113","&empty;":"\u2205","&emptyset;":"\u2205","&EmptySmallSquare;":"\u25FB","&emptyv;":"\u2205","&EmptyVerySmallSquare;":"\u25AB","&emsp;":"\u2003","&emsp13;":"\u2004","&emsp14;":"\u2005","&ENG;":"\u014A","&eng;":"\u014B","&ensp;":"\u2002","&Eogon;":"\u0118","&eogon;":"\u0119","&Eopf;":"\u{1D53C}","&eopf;":"\u{1D556}","&epar;":"\u22D5","&eparsl;":"\u29E3","&eplus;":"\u2A71","&epsi;":"\u03B5","&Epsilon;":"\u0395","&epsilon;":"\u03B5","&epsiv;":"\u03F5","&eqcirc;":"\u2256","&eqcolon;":"\u2255","&eqsim;":"\u2242","&eqslantgtr;":"\u2A96","&eqslantless;":"\u2A95","&Equal;":"\u2A75","&equals;":"=","&EqualTilde;":"\u2242","&equest;":"\u225F","&Equilibrium;":"\u21CC","&equiv;":"\u2261","&equivDD;":"\u2A78","&eqvparsl;":"\u29E5","&erarr;":"\u2971","&erDot;":"\u2253","&Escr;":"\u2130","&escr;":"\u212F","&esdot;":"\u2250","&Esim;":"\u2A73","&esim;":"\u2242","&Eta;":"\u0397","&eta;":"\u03B7","&ETH;":"\xD0","&ETH":"\xD0","&eth;":"\xF0","&eth":"\xF0","&Euml;":"\xCB","&Euml":"\xCB","&euml;":"\xEB","&euml":"\xEB","&euro;":"\u20AC","&excl;":"!","&exist;":"\u2203","&Exists;":"\u2203","&expectation;":"\u2130","&ExponentialE;":"\u2147","&exponentiale;":"\u2147","&fallingdotseq;":"\u2252","&Fcy;":"\u0424","&fcy;":"\u0444","&female;":"\u2640","&ffilig;":"\uFB03","&fflig;":"\uFB00","&ffllig;":"\uFB04","&Ffr;":"\u{1D509}","&ffr;":"\u{1D523}","&filig;":"\uFB01","&FilledSmallSquare;":"\u25FC","&FilledVerySmallSquare;":"\u25AA","&fjlig;":"fj","&flat;":"\u266D","&fllig;":"\uFB02","&fltns;":"\u25B1","&fnof;":"\u0192","&Fopf;":"\u{1D53D}","&fopf;":"\u{1D557}","&ForAll;":"\u2200","&forall;":"\u2200","&fork;":"\u22D4","&forkv;":"\u2AD9","&Fouriertrf;":"\u2131","&fpartint;":"\u2A0D","&frac12;":"\xBD","&frac12":"\xBD","&frac13;":"\u2153","&frac14;":"\xBC","&frac14":"\xBC","&frac15;":"\u2155","&frac16;":"\u2159","&frac18;":"\u215B","&frac23;":"\u2154","&frac25;":"\u2156","&frac34;":"\xBE","&frac34":"\xBE","&frac35;":"\u2157","&frac38;":"\u215C","&frac45;":"\u2158","&frac56;":"\u215A","&frac58;":"\u215D","&frac78;":"\u215E","&frasl;":"\u2044","&frown;":"\u2322","&Fscr;":"\u2131","&fscr;":"\u{1D4BB}","&gacute;":"\u01F5","&Gamma;":"\u0393","&gamma;":"\u03B3","&Gammad;":"\u03DC","&gammad;":"\u03DD","&gap;":"\u2A86","&Gbreve;":"\u011E","&gbreve;":"\u011F","&Gcedil;":"\u0122","&Gcirc;":"\u011C","&gcirc;":"\u011D","&Gcy;":"\u0413","&gcy;":"\u0433","&Gdot;":"\u0120","&gdot;":"\u0121","&gE;":"\u2267","&ge;":"\u2265","&gEl;":"\u2A8C","&gel;":"\u22DB","&geq;":"\u2265","&geqq;":"\u2267","&geqslant;":"\u2A7E","&ges;":"\u2A7E","&gescc;":"\u2AA9","&gesdot;":"\u2A80","&gesdoto;":"\u2A82","&gesdotol;":"\u2A84","&gesl;":"\u22DB\uFE00","&gesles;":"\u2A94","&Gfr;":"\u{1D50A}","&gfr;":"\u{1D524}","&Gg;":"\u22D9","&gg;":"\u226B","&ggg;":"\u22D9","&gimel;":"\u2137","&GJcy;":"\u0403","&gjcy;":"\u0453","&gl;":"\u2277","&gla;":"\u2AA5","&glE;":"\u2A92","&glj;":"\u2AA4","&gnap;":"\u2A8A","&gnapprox;":"\u2A8A","&gnE;":"\u2269","&gne;":"\u2A88","&gneq;":"\u2A88","&gneqq;":"\u2269","&gnsim;":"\u22E7","&Gopf;":"\u{1D53E}","&gopf;":"\u{1D558}","&grave;":"`","&GreaterEqual;":"\u2265","&GreaterEqualLess;":"\u22DB","&GreaterFullEqual;":"\u2267","&GreaterGreater;":"\u2AA2","&GreaterLess;":"\u2277","&GreaterSlantEqual;":"\u2A7E","&GreaterTilde;":"\u2273","&Gscr;":"\u{1D4A2}","&gscr;":"\u210A","&gsim;":"\u2273","&gsime;":"\u2A8E","&gsiml;":"\u2A90","&GT;":">","&GT":">","&Gt;":"\u226B","&gt;":">","&gt":">","&gtcc;":"\u2AA7","&gtcir;":"\u2A7A","&gtdot;":"\u22D7","&gtlPar;":"\u2995","&gtquest;":"\u2A7C","&gtrapprox;":"\u2A86","&gtrarr;":"\u2978","&gtrdot;":"\u22D7","&gtreqless;":"\u22DB","&gtreqqless;":"\u2A8C","&gtrless;":"\u2277","&gtrsim;":"\u2273","&gvertneqq;":"\u2269\uFE00","&gvnE;":"\u2269\uFE00","&Hacek;":"\u02C7","&hairsp;":"\u200A","&half;":"\xBD","&hamilt;":"\u210B","&HARDcy;":"\u042A","&hardcy;":"\u044A","&hArr;":"\u21D4","&harr;":"\u2194","&harrcir;":"\u2948","&harrw;":"\u21AD","&Hat;":"^","&hbar;":"\u210F","&Hcirc;":"\u0124","&hcirc;":"\u0125","&hearts;":"\u2665","&heartsuit;":"\u2665","&hellip;":"\u2026","&hercon;":"\u22B9","&Hfr;":"\u210C","&hfr;":"\u{1D525}","&HilbertSpace;":"\u210B","&hksearow;":"\u2925","&hkswarow;":"\u2926","&hoarr;":"\u21FF","&homtht;":"\u223B","&hookleftarrow;":"\u21A9","&hookrightarrow;":"\u21AA","&Hopf;":"\u210D","&hopf;":"\u{1D559}","&horbar;":"\u2015","&HorizontalLine;":"\u2500","&Hscr;":"\u210B","&hscr;":"\u{1D4BD}","&hslash;":"\u210F","&Hstrok;":"\u0126","&hstrok;":"\u0127","&HumpDownHump;":"\u224E","&HumpEqual;":"\u224F","&hybull;":"\u2043","&hyphen;":"\u2010","&Iacute;":"\xCD","&Iacute":"\xCD","&iacute;":"\xED","&iacute":"\xED","&ic;":"\u2063","&Icirc;":"\xCE","&Icirc":"\xCE","&icirc;":"\xEE","&icirc":"\xEE","&Icy;":"\u0418","&icy;":"\u0438","&Idot;":"\u0130","&IEcy;":"\u0415","&iecy;":"\u0435","&iexcl;":"\xA1","&iexcl":"\xA1","&iff;":"\u21D4","&Ifr;":"\u2111","&ifr;":"\u{1D526}","&Igrave;":"\xCC","&Igrave":"\xCC","&igrave;":"\xEC","&igrave":"\xEC","&ii;":"\u2148","&iiiint;":"\u2A0C","&iiint;":"\u222D","&iinfin;":"\u29DC","&iiota;":"\u2129","&IJlig;":"\u0132","&ijlig;":"\u0133","&Im;":"\u2111","&Imacr;":"\u012A","&imacr;":"\u012B","&image;":"\u2111","&ImaginaryI;":"\u2148","&imagline;":"\u2110","&imagpart;":"\u2111","&imath;":"\u0131","&imof;":"\u22B7","&imped;":"\u01B5","&Implies;":"\u21D2","&in;":"\u2208","&incare;":"\u2105","&infin;":"\u221E","&infintie;":"\u29DD","&inodot;":"\u0131","&Int;":"\u222C","&int;":"\u222B","&intcal;":"\u22BA","&integers;":"\u2124","&Integral;":"\u222B","&intercal;":"\u22BA","&Intersection;":"\u22C2","&intlarhk;":"\u2A17","&intprod;":"\u2A3C","&InvisibleComma;":"\u2063","&InvisibleTimes;":"\u2062","&IOcy;":"\u0401","&iocy;":"\u0451","&Iogon;":"\u012E","&iogon;":"\u012F","&Iopf;":"\u{1D540}","&iopf;":"\u{1D55A}","&Iota;":"\u0399","&iota;":"\u03B9","&iprod;":"\u2A3C","&iquest;":"\xBF","&iquest":"\xBF","&Iscr;":"\u2110","&iscr;":"\u{1D4BE}","&isin;":"\u2208","&isindot;":"\u22F5","&isinE;":"\u22F9","&isins;":"\u22F4","&isinsv;":"\u22F3","&isinv;":"\u2208","&it;":"\u2062","&Itilde;":"\u0128","&itilde;":"\u0129","&Iukcy;":"\u0406","&iukcy;":"\u0456","&Iuml;":"\xCF","&Iuml":"\xCF","&iuml;":"\xEF","&iuml":"\xEF","&Jcirc;":"\u0134","&jcirc;":"\u0135","&Jcy;":"\u0419","&jcy;":"\u0439","&Jfr;":"\u{1D50D}","&jfr;":"\u{1D527}","&jmath;":"\u0237","&Jopf;":"\u{1D541}","&jopf;":"\u{1D55B}","&Jscr;":"\u{1D4A5}","&jscr;":"\u{1D4BF}","&Jsercy;":"\u0408","&jsercy;":"\u0458","&Jukcy;":"\u0404","&jukcy;":"\u0454","&Kappa;":"\u039A","&kappa;":"\u03BA","&kappav;":"\u03F0","&Kcedil;":"\u0136","&kcedil;":"\u0137","&Kcy;":"\u041A","&kcy;":"\u043A","&Kfr;":"\u{1D50E}","&kfr;":"\u{1D528}","&kgreen;":"\u0138","&KHcy;":"\u0425","&khcy;":"\u0445","&KJcy;":"\u040C","&kjcy;":"\u045C","&Kopf;":"\u{1D542}","&kopf;":"\u{1D55C}","&Kscr;":"\u{1D4A6}","&kscr;":"\u{1D4C0}","&lAarr;":"\u21DA","&Lacute;":"\u0139","&lacute;":"\u013A","&laemptyv;":"\u29B4","&lagran;":"\u2112","&Lambda;":"\u039B","&lambda;":"\u03BB","&Lang;":"\u27EA","&lang;":"\u27E8","&langd;":"\u2991","&langle;":"\u27E8","&lap;":"\u2A85","&Laplacetrf;":"\u2112","&laquo;":"\xAB","&laquo":"\xAB","&Larr;":"\u219E","&lArr;":"\u21D0","&larr;":"\u2190","&larrb;":"\u21E4","&larrbfs;":"\u291F","&larrfs;":"\u291D","&larrhk;":"\u21A9","&larrlp;":"\u21AB","&larrpl;":"\u2939","&larrsim;":"\u2973","&larrtl;":"\u21A2","&lat;":"\u2AAB","&lAtail;":"\u291B","&latail;":"\u2919","&late;":"\u2AAD","&lates;":"\u2AAD\uFE00","&lBarr;":"\u290E","&lbarr;":"\u290C","&lbbrk;":"\u2772","&lbrace;":"{","&lbrack;":"[","&lbrke;":"\u298B","&lbrksld;":"\u298F","&lbrkslu;":"\u298D","&Lcaron;":"\u013D","&lcaron;":"\u013E","&Lcedil;":"\u013B","&lcedil;":"\u013C","&lceil;":"\u2308","&lcub;":"{","&Lcy;":"\u041B","&lcy;":"\u043B","&ldca;":"\u2936","&ldquo;":"\u201C","&ldquor;":"\u201E","&ldrdhar;":"\u2967","&ldrushar;":"\u294B","&ldsh;":"\u21B2","&lE;":"\u2266","&le;":"\u2264","&LeftAngleBracket;":"\u27E8","&LeftArrow;":"\u2190","&Leftarrow;":"\u21D0","&leftarrow;":"\u2190","&LeftArrowBar;":"\u21E4","&LeftArrowRightArrow;":"\u21C6","&leftarrowtail;":"\u21A2","&LeftCeiling;":"\u2308","&LeftDoubleBracket;":"\u27E6","&LeftDownTeeVector;":"\u2961","&LeftDownVector;":"\u21C3","&LeftDownVectorBar;":"\u2959","&LeftFloor;":"\u230A","&leftharpoondown;":"\u21BD","&leftharpoonup;":"\u21BC","&leftleftarrows;":"\u21C7","&LeftRightArrow;":"\u2194","&Leftrightarrow;":"\u21D4","&leftrightarrow;":"\u2194","&leftrightarrows;":"\u21C6","&leftrightharpoons;":"\u21CB","&leftrightsquigarrow;":"\u21AD","&LeftRightVector;":"\u294E","&LeftTee;":"\u22A3","&LeftTeeArrow;":"\u21A4","&LeftTeeVector;":"\u295A","&leftthreetimes;":"\u22CB","&LeftTriangle;":"\u22B2","&LeftTriangleBar;":"\u29CF","&LeftTriangleEqual;":"\u22B4","&LeftUpDownVector;":"\u2951","&LeftUpTeeVector;":"\u2960","&LeftUpVector;":"\u21BF","&LeftUpVectorBar;":"\u2958","&LeftVector;":"\u21BC","&LeftVectorBar;":"\u2952","&lEg;":"\u2A8B","&leg;":"\u22DA","&leq;":"\u2264","&leqq;":"\u2266","&leqslant;":"\u2A7D","&les;":"\u2A7D","&lescc;":"\u2AA8","&lesdot;":"\u2A7F","&lesdoto;":"\u2A81","&lesdotor;":"\u2A83","&lesg;":"\u22DA\uFE00","&lesges;":"\u2A93","&lessapprox;":"\u2A85","&lessdot;":"\u22D6","&lesseqgtr;":"\u22DA","&lesseqqgtr;":"\u2A8B","&LessEqualGreater;":"\u22DA","&LessFullEqual;":"\u2266","&LessGreater;":"\u2276","&lessgtr;":"\u2276","&LessLess;":"\u2AA1","&lesssim;":"\u2272","&LessSlantEqual;":"\u2A7D","&LessTilde;":"\u2272","&lfisht;":"\u297C","&lfloor;":"\u230A","&Lfr;":"\u{1D50F}","&lfr;":"\u{1D529}","&lg;":"\u2276","&lgE;":"\u2A91","&lHar;":"\u2962","&lhard;":"\u21BD","&lharu;":"\u21BC","&lharul;":"\u296A","&lhblk;":"\u2584","&LJcy;":"\u0409","&ljcy;":"\u0459","&Ll;":"\u22D8","&ll;":"\u226A","&llarr;":"\u21C7","&llcorner;":"\u231E","&Lleftarrow;":"\u21DA","&llhard;":"\u296B","&lltri;":"\u25FA","&Lmidot;":"\u013F","&lmidot;":"\u0140","&lmoust;":"\u23B0","&lmoustache;":"\u23B0","&lnap;":"\u2A89","&lnapprox;":"\u2A89","&lnE;":"\u2268","&lne;":"\u2A87","&lneq;":"\u2A87","&lneqq;":"\u2268","&lnsim;":"\u22E6","&loang;":"\u27EC","&loarr;":"\u21FD","&lobrk;":"\u27E6","&LongLeftArrow;":"\u27F5","&Longleftarrow;":"\u27F8","&longleftarrow;":"\u27F5","&LongLeftRightArrow;":"\u27F7","&Longleftrightarrow;":"\u27FA","&longleftrightarrow;":"\u27F7","&longmapsto;":"\u27FC","&LongRightArrow;":"\u27F6","&Longrightarrow;":"\u27F9","&longrightarrow;":"\u27F6","&looparrowleft;":"\u21AB","&looparrowright;":"\u21AC","&lopar;":"\u2985","&Lopf;":"\u{1D543}","&lopf;":"\u{1D55D}","&loplus;":"\u2A2D","&lotimes;":"\u2A34","&lowast;":"\u2217","&lowbar;":"_","&LowerLeftArrow;":"\u2199","&LowerRightArrow;":"\u2198","&loz;":"\u25CA","&lozenge;":"\u25CA","&lozf;":"\u29EB","&lpar;":"(","&lparlt;":"\u2993","&lrarr;":"\u21C6","&lrcorner;":"\u231F","&lrhar;":"\u21CB","&lrhard;":"\u296D","&lrm;":"\u200E","&lrtri;":"\u22BF","&lsaquo;":"\u2039","&Lscr;":"\u2112","&lscr;":"\u{1D4C1}","&Lsh;":"\u21B0","&lsh;":"\u21B0","&lsim;":"\u2272","&lsime;":"\u2A8D","&lsimg;":"\u2A8F","&lsqb;":"[","&lsquo;":"\u2018","&lsquor;":"\u201A","&Lstrok;":"\u0141","&lstrok;":"\u0142","&LT;":"<","&LT":"<","&Lt;":"\u226A","&lt;":"<","&lt":"<","&ltcc;":"\u2AA6","&ltcir;":"\u2A79","&ltdot;":"\u22D6","&lthree;":"\u22CB","&ltimes;":"\u22C9","&ltlarr;":"\u2976","&ltquest;":"\u2A7B","&ltri;":"\u25C3","&ltrie;":"\u22B4","&ltrif;":"\u25C2","&ltrPar;":"\u2996","&lurdshar;":"\u294A","&luruhar;":"\u2966","&lvertneqq;":"\u2268\uFE00","&lvnE;":"\u2268\uFE00","&macr;":"\xAF","&macr":"\xAF","&male;":"\u2642","&malt;":"\u2720","&maltese;":"\u2720","&Map;":"\u2905","&map;":"\u21A6","&mapsto;":"\u21A6","&mapstodown;":"\u21A7","&mapstoleft;":"\u21A4","&mapstoup;":"\u21A5","&marker;":"\u25AE","&mcomma;":"\u2A29","&Mcy;":"\u041C","&mcy;":"\u043C","&mdash;":"\u2014","&mDDot;":"\u223A","&measuredangle;":"\u2221","&MediumSpace;":"\u205F","&Mellintrf;":"\u2133","&Mfr;":"\u{1D510}","&mfr;":"\u{1D52A}","&mho;":"\u2127","&micro;":"\xB5","&micro":"\xB5","&mid;":"\u2223","&midast;":"*","&midcir;":"\u2AF0","&middot;":"\xB7","&middot":"\xB7","&minus;":"\u2212","&minusb;":"\u229F","&minusd;":"\u2238","&minusdu;":"\u2A2A","&MinusPlus;":"\u2213","&mlcp;":"\u2ADB","&mldr;":"\u2026","&mnplus;":"\u2213","&models;":"\u22A7","&Mopf;":"\u{1D544}","&mopf;":"\u{1D55E}","&mp;":"\u2213","&Mscr;":"\u2133","&mscr;":"\u{1D4C2}","&mstpos;":"\u223E","&Mu;":"\u039C","&mu;":"\u03BC","&multimap;":"\u22B8","&mumap;":"\u22B8","&nabla;":"\u2207","&Nacute;":"\u0143","&nacute;":"\u0144","&nang;":"\u2220\u20D2","&nap;":"\u2249","&napE;":"\u2A70\u0338","&napid;":"\u224B\u0338","&napos;":"\u0149","&napprox;":"\u2249","&natur;":"\u266E","&natural;":"\u266E","&naturals;":"\u2115","&nbsp;":"\xA0","&nbsp":"\xA0","&nbump;":"\u224E\u0338","&nbumpe;":"\u224F\u0338","&ncap;":"\u2A43","&Ncaron;":"\u0147","&ncaron;":"\u0148","&Ncedil;":"\u0145","&ncedil;":"\u0146","&ncong;":"\u2247","&ncongdot;":"\u2A6D\u0338","&ncup;":"\u2A42","&Ncy;":"\u041D","&ncy;":"\u043D","&ndash;":"\u2013","&ne;":"\u2260","&nearhk;":"\u2924","&neArr;":"\u21D7","&nearr;":"\u2197","&nearrow;":"\u2197","&nedot;":"\u2250\u0338","&NegativeMediumSpace;":"\u200B","&NegativeThickSpace;":"\u200B","&NegativeThinSpace;":"\u200B","&NegativeVeryThinSpace;":"\u200B","&nequiv;":"\u2262","&nesear;":"\u2928","&nesim;":"\u2242\u0338","&NestedGreaterGreater;":"\u226B","&NestedLessLess;":"\u226A","&NewLine;":`
`,"&nexist;":"\u2204","&nexists;":"\u2204","&Nfr;":"\u{1D511}","&nfr;":"\u{1D52B}","&ngE;":"\u2267\u0338","&nge;":"\u2271","&ngeq;":"\u2271","&ngeqq;":"\u2267\u0338","&ngeqslant;":"\u2A7E\u0338","&nges;":"\u2A7E\u0338","&nGg;":"\u22D9\u0338","&ngsim;":"\u2275","&nGt;":"\u226B\u20D2","&ngt;":"\u226F","&ngtr;":"\u226F","&nGtv;":"\u226B\u0338","&nhArr;":"\u21CE","&nharr;":"\u21AE","&nhpar;":"\u2AF2","&ni;":"\u220B","&nis;":"\u22FC","&nisd;":"\u22FA","&niv;":"\u220B","&NJcy;":"\u040A","&njcy;":"\u045A","&nlArr;":"\u21CD","&nlarr;":"\u219A","&nldr;":"\u2025","&nlE;":"\u2266\u0338","&nle;":"\u2270","&nLeftarrow;":"\u21CD","&nleftarrow;":"\u219A","&nLeftrightarrow;":"\u21CE","&nleftrightarrow;":"\u21AE","&nleq;":"\u2270","&nleqq;":"\u2266\u0338","&nleqslant;":"\u2A7D\u0338","&nles;":"\u2A7D\u0338","&nless;":"\u226E","&nLl;":"\u22D8\u0338","&nlsim;":"\u2274","&nLt;":"\u226A\u20D2","&nlt;":"\u226E","&nltri;":"\u22EA","&nltrie;":"\u22EC","&nLtv;":"\u226A\u0338","&nmid;":"\u2224","&NoBreak;":"\u2060","&NonBreakingSpace;":"\xA0","&Nopf;":"\u2115","&nopf;":"\u{1D55F}","&Not;":"\u2AEC","&not;":"\xAC","&not":"\xAC","&NotCongruent;":"\u2262","&NotCupCap;":"\u226D","&NotDoubleVerticalBar;":"\u2226","&NotElement;":"\u2209","&NotEqual;":"\u2260","&NotEqualTilde;":"\u2242\u0338","&NotExists;":"\u2204","&NotGreater;":"\u226F","&NotGreaterEqual;":"\u2271","&NotGreaterFullEqual;":"\u2267\u0338","&NotGreaterGreater;":"\u226B\u0338","&NotGreaterLess;":"\u2279","&NotGreaterSlantEqual;":"\u2A7E\u0338","&NotGreaterTilde;":"\u2275","&NotHumpDownHump;":"\u224E\u0338","&NotHumpEqual;":"\u224F\u0338","&notin;":"\u2209","&notindot;":"\u22F5\u0338","&notinE;":"\u22F9\u0338","&notinva;":"\u2209","&notinvb;":"\u22F7","&notinvc;":"\u22F6","&NotLeftTriangle;":"\u22EA","&NotLeftTriangleBar;":"\u29CF\u0338","&NotLeftTriangleEqual;":"\u22EC","&NotLess;":"\u226E","&NotLessEqual;":"\u2270","&NotLessGreater;":"\u2278","&NotLessLess;":"\u226A\u0338","&NotLessSlantEqual;":"\u2A7D\u0338","&NotLessTilde;":"\u2274","&NotNestedGreaterGreater;":"\u2AA2\u0338","&NotNestedLessLess;":"\u2AA1\u0338","&notni;":"\u220C","&notniva;":"\u220C","&notnivb;":"\u22FE","&notnivc;":"\u22FD","&NotPrecedes;":"\u2280","&NotPrecedesEqual;":"\u2AAF\u0338","&NotPrecedesSlantEqual;":"\u22E0","&NotReverseElement;":"\u220C","&NotRightTriangle;":"\u22EB","&NotRightTriangleBar;":"\u29D0\u0338","&NotRightTriangleEqual;":"\u22ED","&NotSquareSubset;":"\u228F\u0338","&NotSquareSubsetEqual;":"\u22E2","&NotSquareSuperset;":"\u2290\u0338","&NotSquareSupersetEqual;":"\u22E3","&NotSubset;":"\u2282\u20D2","&NotSubsetEqual;":"\u2288","&NotSucceeds;":"\u2281","&NotSucceedsEqual;":"\u2AB0\u0338","&NotSucceedsSlantEqual;":"\u22E1","&NotSucceedsTilde;":"\u227F\u0338","&NotSuperset;":"\u2283\u20D2","&NotSupersetEqual;":"\u2289","&NotTilde;":"\u2241","&NotTildeEqual;":"\u2244","&NotTildeFullEqual;":"\u2247","&NotTildeTilde;":"\u2249","&NotVerticalBar;":"\u2224","&npar;":"\u2226","&nparallel;":"\u2226","&nparsl;":"\u2AFD\u20E5","&npart;":"\u2202\u0338","&npolint;":"\u2A14","&npr;":"\u2280","&nprcue;":"\u22E0","&npre;":"\u2AAF\u0338","&nprec;":"\u2280","&npreceq;":"\u2AAF\u0338","&nrArr;":"\u21CF","&nrarr;":"\u219B","&nrarrc;":"\u2933\u0338","&nrarrw;":"\u219D\u0338","&nRightarrow;":"\u21CF","&nrightarrow;":"\u219B","&nrtri;":"\u22EB","&nrtrie;":"\u22ED","&nsc;":"\u2281","&nsccue;":"\u22E1","&nsce;":"\u2AB0\u0338","&Nscr;":"\u{1D4A9}","&nscr;":"\u{1D4C3}","&nshortmid;":"\u2224","&nshortparallel;":"\u2226","&nsim;":"\u2241","&nsime;":"\u2244","&nsimeq;":"\u2244","&nsmid;":"\u2224","&nspar;":"\u2226","&nsqsube;":"\u22E2","&nsqsupe;":"\u22E3","&nsub;":"\u2284","&nsubE;":"\u2AC5\u0338","&nsube;":"\u2288","&nsubset;":"\u2282\u20D2","&nsubseteq;":"\u2288","&nsubseteqq;":"\u2AC5\u0338","&nsucc;":"\u2281","&nsucceq;":"\u2AB0\u0338","&nsup;":"\u2285","&nsupE;":"\u2AC6\u0338","&nsupe;":"\u2289","&nsupset;":"\u2283\u20D2","&nsupseteq;":"\u2289","&nsupseteqq;":"\u2AC6\u0338","&ntgl;":"\u2279","&Ntilde;":"\xD1","&Ntilde":"\xD1","&ntilde;":"\xF1","&ntilde":"\xF1","&ntlg;":"\u2278","&ntriangleleft;":"\u22EA","&ntrianglelefteq;":"\u22EC","&ntriangleright;":"\u22EB","&ntrianglerighteq;":"\u22ED","&Nu;":"\u039D","&nu;":"\u03BD","&num;":"#","&numero;":"\u2116","&numsp;":"\u2007","&nvap;":"\u224D\u20D2","&nVDash;":"\u22AF","&nVdash;":"\u22AE","&nvDash;":"\u22AD","&nvdash;":"\u22AC","&nvge;":"\u2265\u20D2","&nvgt;":">\u20D2","&nvHarr;":"\u2904","&nvinfin;":"\u29DE","&nvlArr;":"\u2902","&nvle;":"\u2264\u20D2","&nvlt;":"<\u20D2","&nvltrie;":"\u22B4\u20D2","&nvrArr;":"\u2903","&nvrtrie;":"\u22B5\u20D2","&nvsim;":"\u223C\u20D2","&nwarhk;":"\u2923","&nwArr;":"\u21D6","&nwarr;":"\u2196","&nwarrow;":"\u2196","&nwnear;":"\u2927","&Oacute;":"\xD3","&Oacute":"\xD3","&oacute;":"\xF3","&oacute":"\xF3","&oast;":"\u229B","&ocir;":"\u229A","&Ocirc;":"\xD4","&Ocirc":"\xD4","&ocirc;":"\xF4","&ocirc":"\xF4","&Ocy;":"\u041E","&ocy;":"\u043E","&odash;":"\u229D","&Odblac;":"\u0150","&odblac;":"\u0151","&odiv;":"\u2A38","&odot;":"\u2299","&odsold;":"\u29BC","&OElig;":"\u0152","&oelig;":"\u0153","&ofcir;":"\u29BF","&Ofr;":"\u{1D512}","&ofr;":"\u{1D52C}","&ogon;":"\u02DB","&Ograve;":"\xD2","&Ograve":"\xD2","&ograve;":"\xF2","&ograve":"\xF2","&ogt;":"\u29C1","&ohbar;":"\u29B5","&ohm;":"\u03A9","&oint;":"\u222E","&olarr;":"\u21BA","&olcir;":"\u29BE","&olcross;":"\u29BB","&oline;":"\u203E","&olt;":"\u29C0","&Omacr;":"\u014C","&omacr;":"\u014D","&Omega;":"\u03A9","&omega;":"\u03C9","&Omicron;":"\u039F","&omicron;":"\u03BF","&omid;":"\u29B6","&ominus;":"\u2296","&Oopf;":"\u{1D546}","&oopf;":"\u{1D560}","&opar;":"\u29B7","&OpenCurlyDoubleQuote;":"\u201C","&OpenCurlyQuote;":"\u2018","&operp;":"\u29B9","&oplus;":"\u2295","&Or;":"\u2A54","&or;":"\u2228","&orarr;":"\u21BB","&ord;":"\u2A5D","&order;":"\u2134","&orderof;":"\u2134","&ordf;":"\xAA","&ordf":"\xAA","&ordm;":"\xBA","&ordm":"\xBA","&origof;":"\u22B6","&oror;":"\u2A56","&orslope;":"\u2A57","&orv;":"\u2A5B","&oS;":"\u24C8","&Oscr;":"\u{1D4AA}","&oscr;":"\u2134","&Oslash;":"\xD8","&Oslash":"\xD8","&oslash;":"\xF8","&oslash":"\xF8","&osol;":"\u2298","&Otilde;":"\xD5","&Otilde":"\xD5","&otilde;":"\xF5","&otilde":"\xF5","&Otimes;":"\u2A37","&otimes;":"\u2297","&otimesas;":"\u2A36","&Ouml;":"\xD6","&Ouml":"\xD6","&ouml;":"\xF6","&ouml":"\xF6","&ovbar;":"\u233D","&OverBar;":"\u203E","&OverBrace;":"\u23DE","&OverBracket;":"\u23B4","&OverParenthesis;":"\u23DC","&par;":"\u2225","&para;":"\xB6","&para":"\xB6","&parallel;":"\u2225","&parsim;":"\u2AF3","&parsl;":"\u2AFD","&part;":"\u2202","&PartialD;":"\u2202","&Pcy;":"\u041F","&pcy;":"\u043F","&percnt;":"%","&period;":".","&permil;":"\u2030","&perp;":"\u22A5","&pertenk;":"\u2031","&Pfr;":"\u{1D513}","&pfr;":"\u{1D52D}","&Phi;":"\u03A6","&phi;":"\u03C6","&phiv;":"\u03D5","&phmmat;":"\u2133","&phone;":"\u260E","&Pi;":"\u03A0","&pi;":"\u03C0","&pitchfork;":"\u22D4","&piv;":"\u03D6","&planck;":"\u210F","&planckh;":"\u210E","&plankv;":"\u210F","&plus;":"+","&plusacir;":"\u2A23","&plusb;":"\u229E","&pluscir;":"\u2A22","&plusdo;":"\u2214","&plusdu;":"\u2A25","&pluse;":"\u2A72","&PlusMinus;":"\xB1","&plusmn;":"\xB1","&plusmn":"\xB1","&plussim;":"\u2A26","&plustwo;":"\u2A27","&pm;":"\xB1","&Poincareplane;":"\u210C","&pointint;":"\u2A15","&Popf;":"\u2119","&popf;":"\u{1D561}","&pound;":"\xA3","&pound":"\xA3","&Pr;":"\u2ABB","&pr;":"\u227A","&prap;":"\u2AB7","&prcue;":"\u227C","&prE;":"\u2AB3","&pre;":"\u2AAF","&prec;":"\u227A","&precapprox;":"\u2AB7","&preccurlyeq;":"\u227C","&Precedes;":"\u227A","&PrecedesEqual;":"\u2AAF","&PrecedesSlantEqual;":"\u227C","&PrecedesTilde;":"\u227E","&preceq;":"\u2AAF","&precnapprox;":"\u2AB9","&precneqq;":"\u2AB5","&precnsim;":"\u22E8","&precsim;":"\u227E","&Prime;":"\u2033","&prime;":"\u2032","&primes;":"\u2119","&prnap;":"\u2AB9","&prnE;":"\u2AB5","&prnsim;":"\u22E8","&prod;":"\u220F","&Product;":"\u220F","&profalar;":"\u232E","&profline;":"\u2312","&profsurf;":"\u2313","&prop;":"\u221D","&Proportion;":"\u2237","&Proportional;":"\u221D","&propto;":"\u221D","&prsim;":"\u227E","&prurel;":"\u22B0","&Pscr;":"\u{1D4AB}","&pscr;":"\u{1D4C5}","&Psi;":"\u03A8","&psi;":"\u03C8","&puncsp;":"\u2008","&Qfr;":"\u{1D514}","&qfr;":"\u{1D52E}","&qint;":"\u2A0C","&Qopf;":"\u211A","&qopf;":"\u{1D562}","&qprime;":"\u2057","&Qscr;":"\u{1D4AC}","&qscr;":"\u{1D4C6}","&quaternions;":"\u210D","&quatint;":"\u2A16","&quest;":"?","&questeq;":"\u225F","&QUOT;":'"',"&QUOT":'"',"&quot;":'"',"&quot":'"',"&rAarr;":"\u21DB","&race;":"\u223D\u0331","&Racute;":"\u0154","&racute;":"\u0155","&radic;":"\u221A","&raemptyv;":"\u29B3","&Rang;":"\u27EB","&rang;":"\u27E9","&rangd;":"\u2992","&range;":"\u29A5","&rangle;":"\u27E9","&raquo;":"\xBB","&raquo":"\xBB","&Rarr;":"\u21A0","&rArr;":"\u21D2","&rarr;":"\u2192","&rarrap;":"\u2975","&rarrb;":"\u21E5","&rarrbfs;":"\u2920","&rarrc;":"\u2933","&rarrfs;":"\u291E","&rarrhk;":"\u21AA","&rarrlp;":"\u21AC","&rarrpl;":"\u2945","&rarrsim;":"\u2974","&Rarrtl;":"\u2916","&rarrtl;":"\u21A3","&rarrw;":"\u219D","&rAtail;":"\u291C","&ratail;":"\u291A","&ratio;":"\u2236","&rationals;":"\u211A","&RBarr;":"\u2910","&rBarr;":"\u290F","&rbarr;":"\u290D","&rbbrk;":"\u2773","&rbrace;":"}","&rbrack;":"]","&rbrke;":"\u298C","&rbrksld;":"\u298E","&rbrkslu;":"\u2990","&Rcaron;":"\u0158","&rcaron;":"\u0159","&Rcedil;":"\u0156","&rcedil;":"\u0157","&rceil;":"\u2309","&rcub;":"}","&Rcy;":"\u0420","&rcy;":"\u0440","&rdca;":"\u2937","&rdldhar;":"\u2969","&rdquo;":"\u201D","&rdquor;":"\u201D","&rdsh;":"\u21B3","&Re;":"\u211C","&real;":"\u211C","&realine;":"\u211B","&realpart;":"\u211C","&reals;":"\u211D","&rect;":"\u25AD","&REG;":"\xAE","&REG":"\xAE","&reg;":"\xAE","&reg":"\xAE","&ReverseElement;":"\u220B","&ReverseEquilibrium;":"\u21CB","&ReverseUpEquilibrium;":"\u296F","&rfisht;":"\u297D","&rfloor;":"\u230B","&Rfr;":"\u211C","&rfr;":"\u{1D52F}","&rHar;":"\u2964","&rhard;":"\u21C1","&rharu;":"\u21C0","&rharul;":"\u296C","&Rho;":"\u03A1","&rho;":"\u03C1","&rhov;":"\u03F1","&RightAngleBracket;":"\u27E9","&RightArrow;":"\u2192","&Rightarrow;":"\u21D2","&rightarrow;":"\u2192","&RightArrowBar;":"\u21E5","&RightArrowLeftArrow;":"\u21C4","&rightarrowtail;":"\u21A3","&RightCeiling;":"\u2309","&RightDoubleBracket;":"\u27E7","&RightDownTeeVector;":"\u295D","&RightDownVector;":"\u21C2","&RightDownVectorBar;":"\u2955","&RightFloor;":"\u230B","&rightharpoondown;":"\u21C1","&rightharpoonup;":"\u21C0","&rightleftarrows;":"\u21C4","&rightleftharpoons;":"\u21CC","&rightrightarrows;":"\u21C9","&rightsquigarrow;":"\u219D","&RightTee;":"\u22A2","&RightTeeArrow;":"\u21A6","&RightTeeVector;":"\u295B","&rightthreetimes;":"\u22CC","&RightTriangle;":"\u22B3","&RightTriangleBar;":"\u29D0","&RightTriangleEqual;":"\u22B5","&RightUpDownVector;":"\u294F","&RightUpTeeVector;":"\u295C","&RightUpVector;":"\u21BE","&RightUpVectorBar;":"\u2954","&RightVector;":"\u21C0","&RightVectorBar;":"\u2953","&ring;":"\u02DA","&risingdotseq;":"\u2253","&rlarr;":"\u21C4","&rlhar;":"\u21CC","&rlm;":"\u200F","&rmoust;":"\u23B1","&rmoustache;":"\u23B1","&rnmid;":"\u2AEE","&roang;":"\u27ED","&roarr;":"\u21FE","&robrk;":"\u27E7","&ropar;":"\u2986","&Ropf;":"\u211D","&ropf;":"\u{1D563}","&roplus;":"\u2A2E","&rotimes;":"\u2A35","&RoundImplies;":"\u2970","&rpar;":")","&rpargt;":"\u2994","&rppolint;":"\u2A12","&rrarr;":"\u21C9","&Rrightarrow;":"\u21DB","&rsaquo;":"\u203A","&Rscr;":"\u211B","&rscr;":"\u{1D4C7}","&Rsh;":"\u21B1","&rsh;":"\u21B1","&rsqb;":"]","&rsquo;":"\u2019","&rsquor;":"\u2019","&rthree;":"\u22CC","&rtimes;":"\u22CA","&rtri;":"\u25B9","&rtrie;":"\u22B5","&rtrif;":"\u25B8","&rtriltri;":"\u29CE","&RuleDelayed;":"\u29F4","&ruluhar;":"\u2968","&rx;":"\u211E","&Sacute;":"\u015A","&sacute;":"\u015B","&sbquo;":"\u201A","&Sc;":"\u2ABC","&sc;":"\u227B","&scap;":"\u2AB8","&Scaron;":"\u0160","&scaron;":"\u0161","&sccue;":"\u227D","&scE;":"\u2AB4","&sce;":"\u2AB0","&Scedil;":"\u015E","&scedil;":"\u015F","&Scirc;":"\u015C","&scirc;":"\u015D","&scnap;":"\u2ABA","&scnE;":"\u2AB6","&scnsim;":"\u22E9","&scpolint;":"\u2A13","&scsim;":"\u227F","&Scy;":"\u0421","&scy;":"\u0441","&sdot;":"\u22C5","&sdotb;":"\u22A1","&sdote;":"\u2A66","&searhk;":"\u2925","&seArr;":"\u21D8","&searr;":"\u2198","&searrow;":"\u2198","&sect;":"\xA7","&sect":"\xA7","&semi;":";","&seswar;":"\u2929","&setminus;":"\u2216","&setmn;":"\u2216","&sext;":"\u2736","&Sfr;":"\u{1D516}","&sfr;":"\u{1D530}","&sfrown;":"\u2322","&sharp;":"\u266F","&SHCHcy;":"\u0429","&shchcy;":"\u0449","&SHcy;":"\u0428","&shcy;":"\u0448","&ShortDownArrow;":"\u2193","&ShortLeftArrow;":"\u2190","&shortmid;":"\u2223","&shortparallel;":"\u2225","&ShortRightArrow;":"\u2192","&ShortUpArrow;":"\u2191","&shy;":"\xAD","&shy":"\xAD","&Sigma;":"\u03A3","&sigma;":"\u03C3","&sigmaf;":"\u03C2","&sigmav;":"\u03C2","&sim;":"\u223C","&simdot;":"\u2A6A","&sime;":"\u2243","&simeq;":"\u2243","&simg;":"\u2A9E","&simgE;":"\u2AA0","&siml;":"\u2A9D","&simlE;":"\u2A9F","&simne;":"\u2246","&simplus;":"\u2A24","&simrarr;":"\u2972","&slarr;":"\u2190","&SmallCircle;":"\u2218","&smallsetminus;":"\u2216","&smashp;":"\u2A33","&smeparsl;":"\u29E4","&smid;":"\u2223","&smile;":"\u2323","&smt;":"\u2AAA","&smte;":"\u2AAC","&smtes;":"\u2AAC\uFE00","&SOFTcy;":"\u042C","&softcy;":"\u044C","&sol;":"/","&solb;":"\u29C4","&solbar;":"\u233F","&Sopf;":"\u{1D54A}","&sopf;":"\u{1D564}","&spades;":"\u2660","&spadesuit;":"\u2660","&spar;":"\u2225","&sqcap;":"\u2293","&sqcaps;":"\u2293\uFE00","&sqcup;":"\u2294","&sqcups;":"\u2294\uFE00","&Sqrt;":"\u221A","&sqsub;":"\u228F","&sqsube;":"\u2291","&sqsubset;":"\u228F","&sqsubseteq;":"\u2291","&sqsup;":"\u2290","&sqsupe;":"\u2292","&sqsupset;":"\u2290","&sqsupseteq;":"\u2292","&squ;":"\u25A1","&Square;":"\u25A1","&square;":"\u25A1","&SquareIntersection;":"\u2293","&SquareSubset;":"\u228F","&SquareSubsetEqual;":"\u2291","&SquareSuperset;":"\u2290","&SquareSupersetEqual;":"\u2292","&SquareUnion;":"\u2294","&squarf;":"\u25AA","&squf;":"\u25AA","&srarr;":"\u2192","&Sscr;":"\u{1D4AE}","&sscr;":"\u{1D4C8}","&ssetmn;":"\u2216","&ssmile;":"\u2323","&sstarf;":"\u22C6","&Star;":"\u22C6","&star;":"\u2606","&starf;":"\u2605","&straightepsilon;":"\u03F5","&straightphi;":"\u03D5","&strns;":"\xAF","&Sub;":"\u22D0","&sub;":"\u2282","&subdot;":"\u2ABD","&subE;":"\u2AC5","&sube;":"\u2286","&subedot;":"\u2AC3","&submult;":"\u2AC1","&subnE;":"\u2ACB","&subne;":"\u228A","&subplus;":"\u2ABF","&subrarr;":"\u2979","&Subset;":"\u22D0","&subset;":"\u2282","&subseteq;":"\u2286","&subseteqq;":"\u2AC5","&SubsetEqual;":"\u2286","&subsetneq;":"\u228A","&subsetneqq;":"\u2ACB","&subsim;":"\u2AC7","&subsub;":"\u2AD5","&subsup;":"\u2AD3","&succ;":"\u227B","&succapprox;":"\u2AB8","&succcurlyeq;":"\u227D","&Succeeds;":"\u227B","&SucceedsEqual;":"\u2AB0","&SucceedsSlantEqual;":"\u227D","&SucceedsTilde;":"\u227F","&succeq;":"\u2AB0","&succnapprox;":"\u2ABA","&succneqq;":"\u2AB6","&succnsim;":"\u22E9","&succsim;":"\u227F","&SuchThat;":"\u220B","&Sum;":"\u2211","&sum;":"\u2211","&sung;":"\u266A","&Sup;":"\u22D1","&sup;":"\u2283","&sup1;":"\xB9","&sup1":"\xB9","&sup2;":"\xB2","&sup2":"\xB2","&sup3;":"\xB3","&sup3":"\xB3","&supdot;":"\u2ABE","&supdsub;":"\u2AD8","&supE;":"\u2AC6","&supe;":"\u2287","&supedot;":"\u2AC4","&Superset;":"\u2283","&SupersetEqual;":"\u2287","&suphsol;":"\u27C9","&suphsub;":"\u2AD7","&suplarr;":"\u297B","&supmult;":"\u2AC2","&supnE;":"\u2ACC","&supne;":"\u228B","&supplus;":"\u2AC0","&Supset;":"\u22D1","&supset;":"\u2283","&supseteq;":"\u2287","&supseteqq;":"\u2AC6","&supsetneq;":"\u228B","&supsetneqq;":"\u2ACC","&supsim;":"\u2AC8","&supsub;":"\u2AD4","&supsup;":"\u2AD6","&swarhk;":"\u2926","&swArr;":"\u21D9","&swarr;":"\u2199","&swarrow;":"\u2199","&swnwar;":"\u292A","&szlig;":"\xDF","&szlig":"\xDF","&Tab;":"	","&target;":"\u2316","&Tau;":"\u03A4","&tau;":"\u03C4","&tbrk;":"\u23B4","&Tcaron;":"\u0164","&tcaron;":"\u0165","&Tcedil;":"\u0162","&tcedil;":"\u0163","&Tcy;":"\u0422","&tcy;":"\u0442","&tdot;":"\u20DB","&telrec;":"\u2315","&Tfr;":"\u{1D517}","&tfr;":"\u{1D531}","&there4;":"\u2234","&Therefore;":"\u2234","&therefore;":"\u2234","&Theta;":"\u0398","&theta;":"\u03B8","&thetasym;":"\u03D1","&thetav;":"\u03D1","&thickapprox;":"\u2248","&thicksim;":"\u223C","&ThickSpace;":"\u205F\u200A","&thinsp;":"\u2009","&ThinSpace;":"\u2009","&thkap;":"\u2248","&thksim;":"\u223C","&THORN;":"\xDE","&THORN":"\xDE","&thorn;":"\xFE","&thorn":"\xFE","&Tilde;":"\u223C","&tilde;":"\u02DC","&TildeEqual;":"\u2243","&TildeFullEqual;":"\u2245","&TildeTilde;":"\u2248","&times;":"\xD7","&times":"\xD7","&timesb;":"\u22A0","&timesbar;":"\u2A31","&timesd;":"\u2A30","&tint;":"\u222D","&toea;":"\u2928","&top;":"\u22A4","&topbot;":"\u2336","&topcir;":"\u2AF1","&Topf;":"\u{1D54B}","&topf;":"\u{1D565}","&topfork;":"\u2ADA","&tosa;":"\u2929","&tprime;":"\u2034","&TRADE;":"\u2122","&trade;":"\u2122","&triangle;":"\u25B5","&triangledown;":"\u25BF","&triangleleft;":"\u25C3","&trianglelefteq;":"\u22B4","&triangleq;":"\u225C","&triangleright;":"\u25B9","&trianglerighteq;":"\u22B5","&tridot;":"\u25EC","&trie;":"\u225C","&triminus;":"\u2A3A","&TripleDot;":"\u20DB","&triplus;":"\u2A39","&trisb;":"\u29CD","&tritime;":"\u2A3B","&trpezium;":"\u23E2","&Tscr;":"\u{1D4AF}","&tscr;":"\u{1D4C9}","&TScy;":"\u0426","&tscy;":"\u0446","&TSHcy;":"\u040B","&tshcy;":"\u045B","&Tstrok;":"\u0166","&tstrok;":"\u0167","&twixt;":"\u226C","&twoheadleftarrow;":"\u219E","&twoheadrightarrow;":"\u21A0","&Uacute;":"\xDA","&Uacute":"\xDA","&uacute;":"\xFA","&uacute":"\xFA","&Uarr;":"\u219F","&uArr;":"\u21D1","&uarr;":"\u2191","&Uarrocir;":"\u2949","&Ubrcy;":"\u040E","&ubrcy;":"\u045E","&Ubreve;":"\u016C","&ubreve;":"\u016D","&Ucirc;":"\xDB","&Ucirc":"\xDB","&ucirc;":"\xFB","&ucirc":"\xFB","&Ucy;":"\u0423","&ucy;":"\u0443","&udarr;":"\u21C5","&Udblac;":"\u0170","&udblac;":"\u0171","&udhar;":"\u296E","&ufisht;":"\u297E","&Ufr;":"\u{1D518}","&ufr;":"\u{1D532}","&Ugrave;":"\xD9","&Ugrave":"\xD9","&ugrave;":"\xF9","&ugrave":"\xF9","&uHar;":"\u2963","&uharl;":"\u21BF","&uharr;":"\u21BE","&uhblk;":"\u2580","&ulcorn;":"\u231C","&ulcorner;":"\u231C","&ulcrop;":"\u230F","&ultri;":"\u25F8","&Umacr;":"\u016A","&umacr;":"\u016B","&uml;":"\xA8","&uml":"\xA8","&UnderBar;":"_","&UnderBrace;":"\u23DF","&UnderBracket;":"\u23B5","&UnderParenthesis;":"\u23DD","&Union;":"\u22C3","&UnionPlus;":"\u228E","&Uogon;":"\u0172","&uogon;":"\u0173","&Uopf;":"\u{1D54C}","&uopf;":"\u{1D566}","&UpArrow;":"\u2191","&Uparrow;":"\u21D1","&uparrow;":"\u2191","&UpArrowBar;":"\u2912","&UpArrowDownArrow;":"\u21C5","&UpDownArrow;":"\u2195","&Updownarrow;":"\u21D5","&updownarrow;":"\u2195","&UpEquilibrium;":"\u296E","&upharpoonleft;":"\u21BF","&upharpoonright;":"\u21BE","&uplus;":"\u228E","&UpperLeftArrow;":"\u2196","&UpperRightArrow;":"\u2197","&Upsi;":"\u03D2","&upsi;":"\u03C5","&upsih;":"\u03D2","&Upsilon;":"\u03A5","&upsilon;":"\u03C5","&UpTee;":"\u22A5","&UpTeeArrow;":"\u21A5","&upuparrows;":"\u21C8","&urcorn;":"\u231D","&urcorner;":"\u231D","&urcrop;":"\u230E","&Uring;":"\u016E","&uring;":"\u016F","&urtri;":"\u25F9","&Uscr;":"\u{1D4B0}","&uscr;":"\u{1D4CA}","&utdot;":"\u22F0","&Utilde;":"\u0168","&utilde;":"\u0169","&utri;":"\u25B5","&utrif;":"\u25B4","&uuarr;":"\u21C8","&Uuml;":"\xDC","&Uuml":"\xDC","&uuml;":"\xFC","&uuml":"\xFC","&uwangle;":"\u29A7","&vangrt;":"\u299C","&varepsilon;":"\u03F5","&varkappa;":"\u03F0","&varnothing;":"\u2205","&varphi;":"\u03D5","&varpi;":"\u03D6","&varpropto;":"\u221D","&vArr;":"\u21D5","&varr;":"\u2195","&varrho;":"\u03F1","&varsigma;":"\u03C2","&varsubsetneq;":"\u228A\uFE00","&varsubsetneqq;":"\u2ACB\uFE00","&varsupsetneq;":"\u228B\uFE00","&varsupsetneqq;":"\u2ACC\uFE00","&vartheta;":"\u03D1","&vartriangleleft;":"\u22B2","&vartriangleright;":"\u22B3","&Vbar;":"\u2AEB","&vBar;":"\u2AE8","&vBarv;":"\u2AE9","&Vcy;":"\u0412","&vcy;":"\u0432","&VDash;":"\u22AB","&Vdash;":"\u22A9","&vDash;":"\u22A8","&vdash;":"\u22A2","&Vdashl;":"\u2AE6","&Vee;":"\u22C1","&vee;":"\u2228","&veebar;":"\u22BB","&veeeq;":"\u225A","&vellip;":"\u22EE","&Verbar;":"\u2016","&verbar;":"|","&Vert;":"\u2016","&vert;":"|","&VerticalBar;":"\u2223","&VerticalLine;":"|","&VerticalSeparator;":"\u2758","&VerticalTilde;":"\u2240","&VeryThinSpace;":"\u200A","&Vfr;":"\u{1D519}","&vfr;":"\u{1D533}","&vltri;":"\u22B2","&vnsub;":"\u2282\u20D2","&vnsup;":"\u2283\u20D2","&Vopf;":"\u{1D54D}","&vopf;":"\u{1D567}","&vprop;":"\u221D","&vrtri;":"\u22B3","&Vscr;":"\u{1D4B1}","&vscr;":"\u{1D4CB}","&vsubnE;":"\u2ACB\uFE00","&vsubne;":"\u228A\uFE00","&vsupnE;":"\u2ACC\uFE00","&vsupne;":"\u228B\uFE00","&Vvdash;":"\u22AA","&vzigzag;":"\u299A","&Wcirc;":"\u0174","&wcirc;":"\u0175","&wedbar;":"\u2A5F","&Wedge;":"\u22C0","&wedge;":"\u2227","&wedgeq;":"\u2259","&weierp;":"\u2118","&Wfr;":"\u{1D51A}","&wfr;":"\u{1D534}","&Wopf;":"\u{1D54E}","&wopf;":"\u{1D568}","&wp;":"\u2118","&wr;":"\u2240","&wreath;":"\u2240","&Wscr;":"\u{1D4B2}","&wscr;":"\u{1D4CC}","&xcap;":"\u22C2","&xcirc;":"\u25EF","&xcup;":"\u22C3","&xdtri;":"\u25BD","&Xfr;":"\u{1D51B}","&xfr;":"\u{1D535}","&xhArr;":"\u27FA","&xharr;":"\u27F7","&Xi;":"\u039E","&xi;":"\u03BE","&xlArr;":"\u27F8","&xlarr;":"\u27F5","&xmap;":"\u27FC","&xnis;":"\u22FB","&xodot;":"\u2A00","&Xopf;":"\u{1D54F}","&xopf;":"\u{1D569}","&xoplus;":"\u2A01","&xotime;":"\u2A02","&xrArr;":"\u27F9","&xrarr;":"\u27F6","&Xscr;":"\u{1D4B3}","&xscr;":"\u{1D4CD}","&xsqcup;":"\u2A06","&xuplus;":"\u2A04","&xutri;":"\u25B3","&xvee;":"\u22C1","&xwedge;":"\u22C0","&Yacute;":"\xDD","&Yacute":"\xDD","&yacute;":"\xFD","&yacute":"\xFD","&YAcy;":"\u042F","&yacy;":"\u044F","&Ycirc;":"\u0176","&ycirc;":"\u0177","&Ycy;":"\u042B","&ycy;":"\u044B","&yen;":"\xA5","&yen":"\xA5","&Yfr;":"\u{1D51C}","&yfr;":"\u{1D536}","&YIcy;":"\u0407","&yicy;":"\u0457","&Yopf;":"\u{1D550}","&yopf;":"\u{1D56A}","&Yscr;":"\u{1D4B4}","&yscr;":"\u{1D4CE}","&YUcy;":"\u042E","&yucy;":"\u044E","&Yuml;":"\u0178","&yuml;":"\xFF","&yuml":"\xFF","&Zacute;":"\u0179","&zacute;":"\u017A","&Zcaron;":"\u017D","&zcaron;":"\u017E","&Zcy;":"\u0417","&zcy;":"\u0437","&Zdot;":"\u017B","&zdot;":"\u017C","&zeetrf;":"\u2128","&ZeroWidthSpace;":"\u200B","&Zeta;":"\u0396","&zeta;":"\u03B6","&Zfr;":"\u2128","&zfr;":"\u{1D537}","&ZHcy;":"\u0416","&zhcy;":"\u0436","&zigrarr;":"\u21DD","&Zopf;":"\u2124","&zopf;":"\u{1D56B}","&Zscr;":"\u{1D4B5}","&zscr;":"\u{1D4CF}","&zwj;":"\u200D","&zwnj;":"\u200C"};function r(u){return u&&u.replace(/&#?[a-z0-9]+;/gi,i=>{if(n[i])return n[i];if(i.match(/^&#x[0-9a-f]+;$/i)){const o=i.substring(3,i.length-1),a=parseInt(o,16);return String.fromCodePoint(a)}if(i.match(/^&#[0-9]+;$/)){const o=i.substring(2,i.length-1),a=parseInt(o,10);return String.fromCodePoint(a)}return i})}m(r,"unescapeEntities")},6764196364:(W,T,e)=>{"use strict";e.d(T,{A:()=>s});var t=e(7171435821);function s(){return`https://${(0,t.Xk)()}`}m(s,"getSlackRootUrl")},4252064756:(W,T,e)=>{"use strict";e.d(T,{A:()=>n,D:()=>r});var t=e(7171435821),s=e(7732872146);function n(u){return r((0,s.Ay)(u))}m(n,"isGantryUrl");function r(u){if(u.pathname==="/ssb/signin")return!1;const i=u.hostname,[o]=i.split(".");return o==="app"&&(0,t.Ed)(u)}m(r,"isGantryUrlFromUrlObject")},7216810781:(W,T,e)=>{"use strict";e.d(T,{z:()=>g});var t=e(3134334389),s=e(4844578989),n=e.n(s),r=e(6690263587),u=e(4173072539),i=e(3694049677),o=e(2408732225),a=e(9874616273),_=e(735940183),l=e(1318506593);const p=new _.A("shared_channel_invites"),g=m(c=>{let{invite:E,bottomMargin:A}=c;if(!E)return null;const{inviting_team:d,inviting_user:v,shared_workspace:h}=E,f=!!(0,l.qN)(window.location.search).is_link,y=t.createElement(o.n,{team:d,user:v,size:40,shouldRenderTeamBadge:!0,allowDefaultProfileImage:!0,allowTeamInitials:!0,isInteractive:!1,className:"margin_right_75",hideUserIcon:f}),I=t.createElement(i.A,{invitingUser:v}),C=t.createElement(u.A,{invitingTeam:d}),D=t.createElement(r.A,{id:h.id,team:h,bold:!0});return t.createElement("div",{className:n()("p-accept_slack_connect_workspace_invite_header__header_container",{margin_bottom_200:A})},t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header__header_subcontainer"},t.createElement(a.A,{width:160,height:40,className:"margin_bottom_125"}),t.createElement("div",{className:"p-accept_slack_connect_workspace_invite_header padding_0"},y,t.createElement("span",null,f?p.rt("You were invited by {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:C,sharedWorkspaceName:D}):p.rt("You were invited by <strong>{invitingUserName}</strong> from {invitingTeamNameStyled} to join {sharedWorkspaceName}.",{invitingTeamNameStyled:C,invitingUserName:I,sharedWorkspaceName:D})))))},"AcceptSlackConnectWorkspaceHeader");g.displayName="AcceptSlackConnectWorkspaceHeader"},1073393277:(W,T,e)=>{"use strict";e.d(T,{Sp:()=>A,a5:()=>d});var t=e(1764426410),s=e(4509434386),n=e(9733150292),r=e(9323322135),u=e(4923013394),i=e(252204565),o=e(5829624088);const a=".p-client_container_placeholder",_=".p-client_container_placeholder__nav",l=260,p=60,g=70;function c(h){let{name:f,hex:y,iaTheming:I,customTheme:C}=h;const D=(0,t.zK)({hex:y,name:f}),M=(I==null?void 0:I.mode)||"light",P=(I==null?void 0:I.brightness)||s.GK,S=(0,s.XW)({mode:(0,o.Gk)(I,I==null?void 0:I.mode),primary:I==null?void 0:I.primary,highlight1:I==null?void 0:I.highlight1,brightness:P,useCustomHex:C&&(I==null?void 0:I.useCustomHex)});let b;f.includes("Primary")?b=S.primary.shade:b=S.highlight1.shade;const O=s.sC.indexOf(b);return{shade:b,value:M==="light"?D.light[O].value:D.dark[O].value}}m(c,"generateCustomHEXChromeColors");function E(h){let{iaTheming:f,customTheme:y}=h;return!f.primary.custom||!t.$V.test(f.primary.custom)?null:c({name:"bootPrimary",hex:f.primary.custom.startsWith("#")?f.primary.custom:`#${f.primary.custom}`,iaTheming:f,customTheme:y})}m(E,"getBootPrimary");function A(h){let{teamId:f}=h;const y=(0,n._z)(f,"channelSidebarBackground"),I=parseInt((0,n.W6)("viewLayoutLastSidebarWidth"),10)||l,C=(0,n._z)(f,"textColor"),D=(0,n._z)(f,"topNavBackground")||y,M=(0,n._z)(f,"topNavTextColor")||C,P=document.querySelector(a),S=(0,n._z)(f,"iaTheming"),b=(0,n._z)(f,"customTheme"),O=(0,n._z)(f,"windowGradient"),L=(0,n._z)(f,"isCreatorInSetupFlow"),k=(0,n.W6)("viewLayoutIsWorkspaceSwitcherVisible"),K=k?p:0;if(!P)return;const N=P.querySelector(_);if(!y||L){d();return}if(N&&C&&y){const x=document.createElement("div");x.classList.add("p-ia4_client_container_placeholder--sidebar"),x.style.width=`${I}px`;const B=document.createElement("div");B.classList.add("p-ia4_client_container_placeholder--tab_rail");const F=document.createElement("div");if(F.classList.add("p-ia4_client_container_placeholder--content"),F.style.left=`${K+g+I}px`,P.appendChild(x),k&&(P.appendChild(B),x.classList.add("p-ia4_client_container_placeholder--sidebar_with_workspace_switcher"),S!=null&&S.sidebarInverted&&(x.style.boxShadow="-1px 0px 0px 0px rgba(255, 255, 255, 0.15)"),F.classList.add("p-ia4_client_container_placeholder--content_with_workspace_switcher")),P.appendChild(F),P.classList.add("p-ia4_client_container_placeholder--theme-background"),S){let V="#ffffffB3";const Y="#1012148c";if(S.mode==="light"&&S.sidebarInverted&&(V="#ffffff1A"),S.mode==="dark"){var R,U;V=Y,(U=(R=window.document)===null||R===void 0?void 0:R.querySelector("body"))===null||U===void 0||U.classList.add(s.RD)}if(x.style.backgroundColor=V,b&&S.useCustomHex){if(S.primary.custom){const w="bootPrimary",G=E({iaTheming:S,customTheme:b});G&&P.style.setProperty(`--dt_color-plt-${w}-${G.shade}`,G.value)}if(S.highlight1.custom){const w="bootHighlight1",G=c({name:"bootHighlight1",hex:S.highlight1.custom.startsWith("#")?S.highlight1.custom:`#${S.highlight1.custom}`,iaTheming:S,customTheme:b});P.style.setProperty(`--dt_color-plt-${w}-${G.shade}`,G.value)}}if(O){const w=(0,s.Lp)({mode:(0,o.Gk)(S,S.mode),primary:S.primary,highlight1:S.highlight1,brightness:S.brightness,useCustomHex:b&&S.useCustomHex}).replace(/primary/g,"bootPrimary").replace(/highlight1/g,"bootHighlight1");P.style.background=w}else{const w="bootPrimary",G=E({iaTheming:S,customTheme:!!b}),Ee=(0,o.Gk)(S,S.mode),ne=(0,s.VS)({mode:Ee,role:Ee==="light-inverted-sidebar"?"highlight1":"primary",brightness:(S==null?void 0:S.brightness)||s.GK});P.style.backgroundColor=b&&S.useCustomHex&&G?`rgb(var(--dt_color-plt-${w}-${G.shade}))`:`rgb(var(--dt_color-plt-${S.primary.palette}-${ne}))`}}else if(x.style.backgroundColor=y,D){const V=D,Y=(0,i.fl)(D,25);P.style.background=`radial-gradient(
						circle at 50% 50%,
						${V} 20%,
						transparent 80%
					),
					conic-gradient(
            from 45deg at 50% 50%,
            ${Y} 0%,
            ${V} 25%,
            ${Y} 50%,
            ${V} 75%,
            ${Y} 100%
          )`}N.classList.add("p-ia4_client_container_placeholder--top-nav"),(0,u.ve)()&&D&&r.ea3.isAvailable()&&(0,r.ea3)((0,r.Xgz)(),{color:D,symbolColor:M})}P.style.opacity="1"}m(A,"renderBootPlaceholder");function d(){const h=document.querySelector(a);h&&h.remove()}m(d,"removeBootPlaceholder"),Object.defineProperty({removeBootPlaceholder:d},"removeBootPlaceholder",{get:()=>d,set:h=>{d=h}})},926693500:(W,T,e)=>{"use strict";var t=e(8223354444),s=e(7031360717),n=e(1535672935),r=e(7384121809);function u(rt,lt){var dt,Dt,$t,mn,nn,yn;const xn=(0,r.en)();if(xn.dispatch((0,n.setWorkspaceFailedToBoot)(rt)),!(lt==null||(dt=lt.data)===null||dt===void 0)&&dt.active_migration){var jn,ps;xn.dispatch((0,n.setWorkspaceIsMigrating)({teamId:rt,migrationId:lt==null||(jn=lt.data)===null||jn===void 0?void 0:jn.migration_id,canViewMigrationStatus:lt==null||(ps=lt.data)===null||ps===void 0?void 0:ps.can_view_migration_status})),(0,s.R8)("BOOT",`(${rt}) Workspace boot failed due to active migration`)}if((lt==null||(Dt=lt.data)===null||Dt===void 0?void 0:Dt.error)==="accesslimited"&&xn.dispatch((0,n.setWorkspaceIsAccessLimited)(rt)),(lt==null||($t=lt.data)===null||$t===void 0?void 0:$t.error)==="two_factor_setup_required"&&xn.dispatch((0,n.setWorkspaceNeeds2FASetup)(rt)),(lt==null||(mn=lt.data)===null||mn===void 0?void 0:mn.error)==="user_in_no_workspaces"&&xn.dispatch((0,n.setUserNotMemberOfAnyWorkspaceInOrg)(rt)),(lt==null||(nn=lt.data)===null||nn===void 0?void 0:nn.error)==="mobile_login_required"&&xn.dispatch((0,n.setUserRequiresMobileLogin)(rt)),(lt==null||(yn=lt.data)===null||yn===void 0?void 0:yn.error)==="user_needs_to_accept_custom_tos"){var Ts;xn.dispatch((0,n.setWorkspaceNeedsToAcceptCustomTOS)({teamId:rt,url:lt==null||(Ts=lt.data)===null||Ts===void 0?void 0:Ts.url}))}}m(u,"markTeamBootFailed");var i=e(6188550760),o=e(6329712420),a=e(9012396182);function _(rt){const lt=(0,r.en)();var dt;const Dt=(dt=(0,a.getNavigateToUnbootedWorkspace)(lt.getState()))!==null&&dt!==void 0?dt:{},{bootingTeamId:$t,navigateToRouteProps:mn}=Dt;return $t===rt?((0,i._U)((mn==null?void 0:mn.routeName)||o.o,{teamId:rt,...(mn==null?void 0:mn.params)||{}},{reason:"delayed-unbooted-team-switch",...(mn==null?void 0:mn.options)||{}}),lt.dispatch((0,n.setNavigateToUnbootedWorkspace)({})),!0):!1}m(_,"maybeNavigateToUnbootedWorkspace");function l(rt,lt){if(!rt)throw new Error("Missing team id, cannot thin boot team.");u(rt,lt),_(rt)}m(l,"thinBootTeam");var p=e(1073393277),g=e(2212859256),c=e(1044468604),E=e(3945243579);const A={[c.F9.API]:d,[c.F9.BOOT_APP]:v,[c.F9.BOOT_TEAM]:h,[c.F9.DEFAULT]:f};function d(rt,lt,dt){var Dt;const $t=dt==null?void 0:dt.teamId;if(window.isReloading){(0,s.pq)("BOOT",`(${$t}) Ongoing reload detected during Gantry API error handler; Halting error handler.`);return}c.XB[c.F9.API](rt,lt,{...dt,shouldDisplayErrorView:!1,shouldBeaconError:(rt==null||(Dt=rt.data)===null||Dt===void 0?void 0:Dt.error)!=="user_needs_to_accept_custom_tos"}),l($t,rt),lt!=null&&lt.isForegroundTeam&&Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,8896709448)).then(mn=>{let{renderClient:nn}=mn;(0,p.a5)(),(0,E.A)(),nn()})}m(d,"handleApiError");function v(rt,lt,dt){(0,p.a5)(),c.XB[c.F9.BOOT_APP](rt,lt,dt)}m(v,"handleBootAppError");function h(rt,lt,dt){if(dt){const{teamId:Dt}=dt;(0,g.y)(Dt)}(0,p.a5)(),c.XB[c.F9.BOOT_TEAM](rt,lt,dt)}m(h,"handleBootTeamError");function f(rt,lt,dt){(0,p.a5)(),c.XB[c.F9.DEFAULT](rt,lt,dt)}m(f,"handleDefaultError");const y={handleApiError:d,handleBootAppError:v,handleBootTeamError:h,handleDefaultError:f};var I=e(9113979368),C=e(1197598850),D=e(1092614768),M=e(2325478352),P=e(7530010356),S=e(337319621),b=e(2250002584),O=e(2872463257);const L="cse-api",k="cse-boot-api";async function K(rt){const{teamId:lt,userId:dt,isBootingWarm:Dt}=rt,$t=await Dt,mn=$t?"deferred-data":"initial-data";let nn=null;((0,M.EZ)()||(0,P.MA)())&&$t&&(nn=await(0,D.z6)({teamId:lt,userId:dt}));const yn=C.V$.bind(null,{...rt,reason:mn,minChannelUpdated:nn});return N(yn,{teamId:lt,userId:dt,reason:mn})}m(K,"fetchBootData");function N(rt){let lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const dt=(0,b.F)(),Dt=dt.createTrace({traceName:L,tags:lt,samplingOptions:{sampleType:O.nl.ALWAYS}});if(!(Dt!=null&&Dt.traceFn))return(0,S.Wo)().warn("BOOT","Trace or traceFn is undefined; Unable to trace client.userBoot data fetch."),rt();const $t=m((nn,yn)=>{if((0,I.A)(yn)){const xn={state:O.$m.SUCCESS,message:"client_userBoot_empty"};nn==null||nn.addTags(xn),nn==null||nn.close(),dt.reportTrace(Dt)}else dt.clearTrace(Dt)},"onResolve"),mn=m((nn,yn)=>{var xn;const jn={state:O.$m.ERROR};yn!=null&&yn.status&&(jn.status=yn.status),yn!=null&&yn.message&&(jn.message=yn.message),!(yn==null||(xn=yn.data)===null||xn===void 0)&&xn.error&&(jn.reason=yn.data.error),nn==null||nn.addTags(jn),nn==null||nn.close(),dt.reportTrace(Dt)},"onError");return Dt.traceFn({name:k,onError:mn,onResolve:$t},rt)}m(N,"maybeTraceClientUserBootDataFetch"),Object.defineProperty({CSE_API_TRACE_LABEL:L,CLIENT_BOOT_SPAN_LABEL:k},"fetchBootData",{get:()=>K,set:rt=>{K=rt}});var U=e(229828696);async function x(rt){if(!(0,U.X)())return;const{teamId:lt,userId:dt,isBootingWarm:Dt}=rt,$t=await Dt,mn=$t?"deferred-data":"initial-data";let nn=null;return((0,M.EZ)()||(0,P.MA)())&&$t&&(nn=await(0,D.z6)({teamId:lt,userId:dt})),(0,C.ee)({...rt,reason:mn,minChannelUpdated:nn})}m(x,"fetchChannelsData");var B=e(3398586081),F=e(9733150292),V=e(4178531214);const Y=(0,B.A)(G,rt=>rt.enterpriseId);async function w(rt){return rt.enterpriseId?Y(rt):{}}m(w,"maybeFetchEnterpriseData");async function G(rt){const{teamId:lt,enterpriseId:dt}=rt;var Dt;let $t=(Dt=(0,F._z)(lt??"","enterprise_api_token"))!==null&&Dt!==void 0?Dt:"";if(lt&&(0,V.ZN)(lt)&&!$t){var mn;$t=(mn=(0,F._z)(lt,"token"))!==null&&mn!==void 0?mn:""}const[nn,yn]=await Promise.all([(0,C.YH)(rt),(0,C.O5)({...rt,token:$t})]),xn={enterprise_id:dt,page_needs_enterprise:!0,enterprise_api_token:$t};return{enterpriseData:nn==null?void 0:nn.enterprise,enterprisePrefsData:yn,enterpriseBootData:xn}}m(G,"fetchAllEnterpriseData");const Ee={resetMemoizedFetchEnterpriseDataCache:()=>{Y.cache.clear()}};var ne=e(3914849812),se=e(4892637646),ce=e(6998663753),pe=e(7206034624),ye=e(9706702639),Ie=e(6533394955),Se=e(5313493085);function le(rt){let{params:lt,routeName:dt}=rt;const Dt=lt.teamId||lt.teamOrEnterpriseId,{dispatch:$t}=(0,Ie.oK)(Dt);$t((0,Se.M)({routeName:dt,routeParams:lt}))}m(le,"channelCanvasListener");var X=e(9268451279),J=e(2805462396),z=e(4386248732),te=e(7765212398),$=e(9460580631);function q(rt){let{params:lt,prevRouteInfo:dt,prevTeamId:Dt}=rt;const $t=dt==null?void 0:dt.params;if(!$t||$t.entityId!=="composer"||!$t.draftId||$t.draftId===(lt==null?void 0:lt.draftId))return!0;const{dispatch:mn,getState:nn}=(0,Ie.oK)(Dt),yn=nn(),xn=(0,z.di)($t.draftId);if(!xn)return!0;const jn=(0,te.YI)(yn,xn);return(0,X.v7)(jn,{trimWhitespace:!0})||(0,J.A)(yn,jn)||mn((0,$.A)({ids:[xn],reason:"draftsListenerBefore"})),!0}m(q,"draftsListenerBefore");var re=e(4446301238),de=e(3929724715),oe=e(1407713935),De=e(8040098042),ae=e(9101533895),Z=e(7053828403);async function ie(rt,lt){const dt=rt.getState(),Dt=(0,ae.OL)(dt,lt,!1);return(0,oe.hc)(Dt)?Dt:rt.dispatch((0,re.pX)({ids:[lt],reason:"sonic/route-listeners/ensure-channel",callSource:re.aI.EnsureChannel})).then($t=>{if(!$t)return;const{channels:mn,resolved:nn}=$t;if(!(!nn||!nn.includes(lt)))return mn[0]})}m(ie,"ensureChannel");const Ce=m(async rt=>{let{prevTeamId:lt,nextTeamId:dt,routeName:Dt,params:$t={}}=rt;const mn=(0,Ie.oK)(dt);if(!(0,De.A)($t.entityId))return Promise.resolve(void 0);const nn=$t.entityId;return ie(mn,nn).then(yn=>{if(yn&&!(0,de.lo)(yn))return Promise.resolve(void 0);if(lt!==dt){const xn=(0,Z.EI)(mn.getState(),{mainView:!0});return xn===nn?Promise.reject(new Error("fallback channel ID === target channel ID, can\u2019t switch workspaces")):((0,i._U)(Dt,{...$t,entityId:xn},{shouldReplaceState:!0}),Promise.resolve(!1))}return yn?Promise.reject(new Error("tried to switch to a channel from another team")):Promise.resolve(!1)})},"ensure_channel");var Re=e(6248475576);function He(rt){let{nextTeamId:lt,prevTeamId:dt}=rt;const{dispatch:Dt}=(0,Ie.oK)(lt);dt!==lt&&Dt((0,Re.yh)({teamId:lt}))}m(He,"permissionsListener");var be=e(3614984351),Ue=e(9005797924),me=e(4496040127);const ve=m(rt=>{let{prevTeamId:lt,nextTeamId:dt}=rt;if(!(0,me.VA)()||lt===dt||!dt)return!0;if((0,be.A)(dt,lt))return!1;const Dt=(0,r.Ry)();return(0,a.isWorkspaceExpired)(Dt,dt)||(0,a.isWorkspacePendingAuth)(Dt,dt)?((0,Ue.A)(dt),!1):!0},"maybe_finish_signin");var Fe=e(4992650731);const Ke=m(rt=>{let{prevTeamId:lt,nextTeamId:dt,routeName:Dt,params:$t}=rt;if((0,me.VA)()||lt===dt)return!0;const mn=(0,i.M5)(Dt,{...$t,teamId:dt});if(!dt)return!0;const nn=(0,r.Ry)(),yn=(0,a.getWorkspacesMeta)(nn),xn=yn&&yn[dt]&&yn[dt].subdomain,jn=(0,me.eb)(xn)||`_team_${dt}`;return(0,Fe.A)(mn,jn),!1},"maybe_open_other_team_in_browser");var j=e(8959118205),ee=e(8834730594),je=e(4588963228),Te=e(497761763),Je=e(4327331459),Ae=e(7679173189),Me=e(4862221402),we=e(6427150145);const Ge=/^[\d]{13}$/;function Qe(rt){return rt?Ge.test(rt):!1}m(Qe,"looksLikeLastReadTs");var fe=e(1826991857),Ve=e(7174777686),Be=e(7752506476);function Ye(rt){return(0,Ve.A)(Be.M,rt)||rt===""}m(Ye,"looksLikeFlexpaneSectionId");var et=e(6471801899),at=e(1233969417),gt=e(2960290117);const Mt=[/^people[ -~]{1,27}$/,/^contacts[ -~]{1,27}$/,/^otherContacts[ -~]{1,27}$/,/^slackUsers[ -~]{1,27}$/];function Bt(rt){return Mt.some(lt=>lt.test(rt))}m(Bt,"looksLikeContactExternalId");var Ct=e(5084575109),Ft=e(8414867410),kt=e(6605261507);const Et=["invitations","contacts"];function mt(rt){return Et.includes(rt)}m(mt,"isValidViewName");const Rt=["received","sent"];function Ht(rt){return Rt.includes(rt)}m(Ht,"looksLikeInvitationsTabRouteParam");var ft=e(3468466741),Jt=e(8538260492),Zt=e(4425811520),Tt=e(7770205178),Pt=e(9132066222),Kt=e(8237194282),dn=e(8305125093);function sn(rt){return!!j.as[rt]}m(sn,"isEntityRedirectKey");const H=m(rt=>Object.keys(j.as).includes(rt),"isRedirectRoute"),Ne={entityId:rt=>(0,ee.A)(rt)||(0,je.A)(rt)||(0,De.A)(rt)||(0,Te.A)(rt)||(0,Je.A)(rt)||(0,Ae.Ay)(rt)||(0,Me.A)(rt)||(0,Ct.n)(rt)||(0,Ft.bd)(rt)||H(rt)||(0,gt.Ay)(rt)||(0,Zt.xL)(rt),appOrServiceId:rt=>(0,je.A)(rt)||(0,ee.A)(rt),timestamp:we.A,threadId:fe.A,threadPageId:fe.A,replyTs:we.A,sectionId:Ye,tabId:rt=>(0,kt.Dl)(rt),viewName:rt=>mt(rt),listsViewName:et.FO,draftId:z.ai,invitationsTabId:Ht,channelId:De.A,channelFilesId:rt=>/^files-.+/.test(rt),searchQuery:rt=>/^search-.+/.test(rt),articleId:rt=>(0,at.A)(rt),tileEntityId:rt=>(0,De.A)(rt)||(0,Ct.n)(rt)||(0,Ft.bd)(rt),scTeamOrEnterpriseId:rt=>(0,Ae.Am)(rt),quipDocId:gt.Ay,channelCanvasId:gt.Ay,contactExternalId:Bt,itemId:ft.Ny,recordId:et.pq,focusRecordId:et.or,listViewId:et._o,lastReadTs:Qe,canvasOpenedFromId:rt=>(0,De.A)(rt)||(0,Je.A)(rt)||rt===Jt.eE.QUIP_FILES,externalWorkspacePage:Tt.W_,channelTabId:Pt.jK,salesforceRecordId:Kt.V,workflowTemplateId:dn.A},Pe={[o.o]:{paths:["/"]},[j._G]:{paths:["/:entityId","/:entityId/:timestamp","/:entityId/:tabId","/:entityId/:viewName","/:entityId/:viewName/:invitationsTabId","/:entityId/:listsViewName","/:entityId/:listsViewName/:focusRecordId","/:entityId/:listsViewName/:listViewId","/:entityId/:draftId","/:entityId/:threadPageId","/:entityId/:searchQuery","/:entityId/:channelFilesId","/:entityId/:scTeamOrEnterpriseId","/:entityId/:itemId","/:entityId/:channelCanvasId","/:entityId/:canvasOpenedFromId","/:entityId/:externalWorkspacePage","/:entityId/tabs/:channelTabId","/:entityId/:salesforceRecordId"]},[j.lM]:{paths:["/:entityId/thread/:threadId","/:entityId/thread/:threadId/:replyTs","/:entityId/:timestamp/thread/:threadId","/:entityId/:viewName/thread/:threadId","/:entityId/:viewName/:invitationsTabId/thread/:threadId","/:entityId/:tabId/thread/:threadId","/:entityId/:draftId/thread/:threadId","/:entityId/:searchQuery/thread/:threadId","/:entityId/:channelFilesId/thread/:threadId","/:entityId/:scTeamOrEnterpriseId/thread/:threadId","/:entityId/:listsViewName/thread/:threadId","/:entityId/:canvasOpenedFromId/thread/:threadId"]},[j.w7]:{paths:["/:entityId/messages/:channelId","/:entityId/messages/:channelId/:timestamp"]},[j.Vy]:{paths:["/:entityId/channel_info","/:entityId/:timestamp/channel_info","/:entityId/:viewName/channel_info","/:entityId/:viewName/:invitationsTabId/channel_info","/:entityId/:tabId/channel_info","/:entityId/:draftId/channel_info","/:entityId/:threadPageId/channel_info","/:entityId/:searchQuery/channel_info","/:entityId/:channelFilesId/channel_info","/:entityId/:scTeamOrEnterpriseId/channel_info","/:entityId/:listsViewName/channel_info","/:entityId/:canvasOpenedFromId/channel_info"]},[j.o6]:{paths:["/:entityId/inspect/:channelId","/:entityId/inspect/:channelId/:sectionId"]},[j.p3]:{paths:["/:entityId/activity","/:entityId/:timestamp/activity","/:entityId/:viewName/activity","/:entityId/:viewName/:invitationsTabId/activity","/:entityId/:tabId/activity","/:entityId/:draftId/activity","/:entityId/:threadPageId/activity","/:entityId/:searchQuery/activity","/:entityId/:channelFilesId/activity","/:entityId/:scTeamOrEnterpriseId/activity","/:entityId/:canvasOpenedFromId/activity"]},[j.W2]:{paths:["/:entityId/starred_items","/:entityId/:timestamp/starred_items","/:entityId/:viewName/starred_items","/:entityId/:viewName/:invitationsTabId/starred_items","/:entityId/:tabId/starred_items","/:entityId/:draftId/starred_items","/:entityId/:threadPageId/starred_items","/:entityId/:searchQuery/starred_items","/:entityId/:channelFilesId/starred_items","/:entityId/:scTeamOrEnterpriseId/starred_items","/:entityId/:listsViewName/starred_items","/:entityId/:canvasOpenedFromId/starred_items"]},[j.ym]:{paths:["/:entityId/saved","/:entityId/:timestamp/saved","/:entityId/:viewName/saved","/:entityId/:viewName/:invitationsTabId/saved","/:entityId/:tabId/saved","/:entityId/:draftId/saved","/:entityId/:threadPageId/saved","/:entityId/:searchQuery/saved","/:entityId/:channelFilesId/saved","/:entityId/:scTeamOrEnterpriseId/saved","/:entityId/:listsViewName/saved","/:entityId/:canvasOpenedFromId/saved"]},[j.fr]:{paths:["/:entityId/appspane","/:entityId/:timestamp/appspane","/:entityId/:viewName/appspane","/:entityId/:viewName/:invitationsTabId/appspane","/:entityId/:tabId/appspane","/:entityId/:draftId/appspane","/:entityId/:threadPageId/appspane","/:entityId/:searchQuery/appspane","/:entityId/:channelFilesId/appspane","/:entityId/:scTeamOrEnterpriseId/appspane","/:entityId/:listsViewName/appspane","/:entityId/:canvasOpenedFromId/appspane"]},[j.M9]:{paths:["/:entityId/files","/:entityId/:timestamp/files","/:entityId/:viewName/files","/:entityId/:viewName/:invitationsTabId/files","/:entityId/:tabId/files","/:entityId/:draftId/files","/:entityId/:threadPageId/files","/:entityId/:searchQuery/files","/:entityId/:channelFilesId/files","/:entityId/:scTeamOrEnterpriseId/files","/:entityId/:listsViewName/files"]},[j.T$]:{paths:["/:entityId/filespane","/:entityId/:timestamp/filespane","/:entityId/:viewName/filespane","/:entityId/:viewName/:invitationsTabId/filespane","/:entityId/:tabId/filespane","/:entityId/:draftId/filespane","/:entityId/:threadPageId/filespane","/:entityId/:searchQuery/filespane","/:entityId/:channelFilesId/filespane","/:entityId/:scTeamOrEnterpriseId/filespane","/:entityId/:listsViewName/filespane"]},[j.De]:{paths:["/:entityId/files/:fileId","/:entityId/:timestamp/files/:fileId","/:entityId/:viewName/files/:fileId","/:entityId/:viewName/:invitationsTabId/files/:fileId","/:entityId/:tabId/files/:fileId","/:entityId/:draftId/files/:fileId","/:entityId/:threadPageId/files/:fileId","/:entityId/:searchQuery/files/:fileId","/:entityId/:channelFilesId/files/:fileId","/:entityId/:scTeamOrEnterpriseId/files/:fileId","/:entityId/:listsViewName/files/:fileId","/:entityId/:canvasOpenedFromId/files/:fileId"]},[j.wA]:{paths:["/:entityId/comments/:quipDocId","/:entityId/:canvasOpenedFromId/comments/:quipDocId"]},[j.li]:{paths:["/:entityId/history/:quipDocId","/:entityId/:canvasOpenedFromId/history/:quipDocId"]},[j.mj]:{paths:["/:entityId/docs/:quipDocId","/:entityId/docs/:quipDocId/:lastReadTs","/:entityId/:timestamp/docs/:quipDocId","/:entityId/:viewName/docs/:quipDocId","/:entityId/:viewName/:invitationsTabId/docs/:quipDocId","/:entityId/:tabId/docs/:quipDocId","/:entityId/:draftId/docs/:quipDocId","/:entityId/:threadPageId/docs/:quipDocId","/:entityId/:searchQuery/docs/:quipDocId","/:entityId/:channelFilesId/docs/:quipDocId","/:entityId/:listsViewName/docs/:quipDocId"]},[j.y0]:{paths:["/:entityId/files/type","/:entityId/:timestamp/files/type","/:entityId/:viewName/files/type","/:entityId/:viewName/:invitationsTabId/files/type","/:entityId/:tabId/files/type","/:entityId/:draftId/files/type","/:entityId/:threadPageId/files/type","/:entityId/:searchQuery/files/type","/:entityId/:channelFilesId/files/type","/:entityId/:scTeamOrEnterpriseId/files/type","/:entityId/:listsViewName/files/type"]},[j.Nh]:{paths:["/:entityId/files/:memberId","/:entityId/:timestamp/files/:memberId","/:entityId/:viewName/files/memberId","/:entityId/:viewName/:invitationsTabId/files/memberId","/:entityId/:tabId/files/:memberId","/:entityId/:draftId/files/:memberId","/:entityId/:threadPageId/files/:memberId","/:entityId/:searchQuery/files/:memberId","/:entityId/:channelFilesId/files/:memberId","/:entityId/:scTeamOrEnterpriseId/files/:memberId","/:entityId/:listsViewName/files/:memberId","/:entityId/:canvasOpenedFromId/files/:memberId"]},[j.$s]:{paths:["/:entityId/user_groups","/:entityId/:timestamp/user_groups","/:entityId/:viewName/user_groups","/:entityId/:viewName/:invitationsTabId/user_groups","/:entityId/:tabId/user_groups","/:entityId/:draftId/user_groups","/:entityId/:threadPageId/user_groups","/:entityId/:searchQuery/user_groups","/:entityId/:channelFilesId/user_groups","/:entityId/:scTeamOrEnterpriseId/user_groups","/:entityId/:listsViewName/user_groups","/:entityId/:canvasOpenedFromId/user_groups"]},[j.Mu]:{paths:["/:entityId/user_groups/:userGroupId","/:entityId/:timestamp/user_groups/:userGroupId","/:entityId/:viewName/user_groups/:userGroupId","/:entityId/:viewName/:invitationsTabId/user_groups/:userGroupId","/:entityId/:tabId/user_groups/:userGroupId","/:entityId/:draftId/user_groups/:userGroupId","/:entityId/:threadPageId/user_groups/:userGroupId","/:entityId/:searchQuery/user_groups/:userGroupId","/:entityId/:channelFilesId/user_groups/:userGroupId","/:entityId/:scTeamOrEnterpriseId/user_groups/:userGroupId","/:entityId/:listsViewName/user_groups/:userGroupId","/:entityId/:canvasOpenedFromId/user_groups/:userGroupId"]},[j.Ns]:{paths:["/:entityId/whats_new","/:entityId/:timestamp/whats_new","/:entityId/:viewName/whats_new","/:entityId/:viewName/:invitationsTabId/whats_new","/:entityId/:tabId/whats_new","/:entityId/:draftId/whats_new","/:entityId/:threadPageId/whats_new","/:entityId/:searchQuery/whats_new","/:entityId/:channelFilesId/whats_new","/:entityId/:scTeamOrEnterpriseId/whats_new","/:entityId/:listsViewName/whats_new","/:entityId/:canvasOpenedFromId/whats_new"]},[j.IN]:{paths:["/:entityId/shortcuts","/:entityId/:timestamp/shortcuts","/:entityId/:viewName/shortcuts","/:entityId/:viewName/:invitationsTabId/shortcuts","/:entityId/:tabId/shortcuts","/:entityId/:draftId/shortcuts","/:entityId/:threadPageId/shortcuts","/:entityId/:searchQuery/shortcuts","/:entityId/:channelFilesId/shortcuts","/:entityId/:scTeamOrEnterpriseId/shortcuts","/:entityId/:listsViewName/shortcuts","/:entityId/:canvasOpenedFromId/shortcuts"]},[j.Q$]:{paths:["/:entityId/user_profile/:memberId","/:entityId/:timestamp/user_profile/:memberId","/:entityId/:viewName/user_profile/:memberId","/:entityId/:viewName/:invitationsTabId/user_profile/:memberId","/:entityId/:tabId/user_profile/:memberId","/:entityId/:draftId/user_profile/:memberId","/:entityId/:threadPageId/user_profile/:memberId","/:entityId/:searchQuery/user_profile/:memberId","/:entityId/:channelFilesId/user_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/user_profile/:memberId","/:entityId/:listsViewName/user_profile/:memberId","/:entityId/:canvasOpenedFromId/user_profile/:memberId"]},[j.E2]:{paths:["/:entityId/help","/:entityId/:timestamp/help","/:entityId/:viewName/help","/:entityId/:viewName/:invitationsTabId/help","/:entityId/:tabId/help","/:entityId/:draftId/help","/:entityId/:threadPageId/help","/:entityId/:searchQuery/help","/:entityId/:channelFilesId/help","/:entityId/:scTeamOrEnterpriseId/help","/:entityId/:listsViewName/help","/:entityId/:canvasOpenedFromId/help"]},[j.vA]:{paths:["/:entityId/help/:articleId","/:entityId/:timestamp/help/:articleId","/:entityId/:viewName/help/:articleId","/:entityId/:viewName/:invitationsTabId/help/:articleId","/:entityId/:tabId/help/:articleId","/:entityId/:draftId/help/:articleId","/:entityId/:threadPageId/help/:articleId","/:entityId/:searchQuery/help/:articleId","/:entityId/:channelFilesId/help/:articleId","/:entityId/:scTeamOrEnterpriseId/help/:articleId","/:entityId/:listsViewName/help/:articleId","/:entityId/:canvasOpenedFromId/help/:articleId"]},[j.Dn]:{paths:["/:entityId/rimeto_profile/:memberId","/:entityId/:timestamp/rimeto_profile/:memberId","/:entityId/:viewName/rimeto_profile/:memberId","/:entityId/:viewName/:invitationsTabId/rimeto_profile/:memberId","/:entityId/:tabId/rimeto_profile/:memberId","/:entityId/:searchQuery/rimeto_profile/:memberId","/:entityId/:draftId/rimeto_profile/:memberId","/:entityId/:threadPageId/rimeto_profile/:memberId","/:entityId/:channelFilesId/rimeto_profile/:memberId","/:entityId/:scTeamOrEnterpriseId/rimeto_profile/:memberId","/:entityId/:listsViewName/rimeto_profile/:memberId","/:entityId/:canvasOpenedFromId/rimeto_profile/:memberId"]},[j.Ie]:{paths:["/:entityId/feedback","/:entityId/:timestamp/feedback","/:entityId/:viewName/feedback","/:entityId/:viewName/:invitationsTabId/feedback","/:entityId/:tabId/feedback","/:entityId/:draftId/feedback","/:entityId/:threadPageId/feedback","/:entityId/:searchQuery/feedback","/:entityId/:channelFilesId/feedback","/:entityId/:scTeamOrEnterpriseId/feedback","/:entityId/:listsViewName/feedback","/:entityId/:canvasOpenedFromId/feedback"]},[j.Bh]:{paths:["/:channelId/huddle"]},[j.Mv]:{paths:["/:entityId/huddles_captions","/:entityId/:timestamp/huddles_captions","/:entityId/:viewName/huddles_captions","/:entityId/:viewName/:invitationsTabId/huddles_captions","/:entityId/:tabId/huddles_captions","/:entityId/:draftId/huddles_captions","/:entityId/:threadPageId/huddles_captions","/:entityId/:searchQuery/huddles_captions","/:entityId/:channelFilesId/huddles_captions","/:entityId/:scTeamOrEnterpriseId/huddles_captions","/:entityId/:listsViewName/huddles_captions","/:entityId/:canvasOpenedFromId/huddles_captions"]},[j.d2]:{paths:["/:entityId/contact_profile/:contactExternalId","/:entityId/:timestamp/contact_profile/:contactExternalId","/:entityId/:viewName/contact_profile/:contactExternalId","/:entityId/:viewName/:invitationsTabId/contact_profile/:contactExternalId","/:entityId/:tabId/contact_profile/:contactExternalId","/:entityId/:draftId/contact_profile/:contactExternalId","/:entityId/:threadPageId/contact_profile/:contactExternalId","/:entityId/:searchQuery/contact_profile/:contactExternalId","/:entityId/:channelFilesId/contact_profile/:contactExternalId","/:entityId/:scTeamOrEnterpriseId/contact_profile/:contactExternalId","/:entityId/:listsViewName/contact_profile/:contactExternalId","/:entityId/:canvasOpenedFromId/contact_profile/:contactExternalId"]},[j.p$]:{paths:["/:entityId/record/:recordId","/:entityId/:timestamp/record/:recordId","/:entityId/:viewName/record/:recordId","/:entityId/:viewName/:invitationsTabId/record/:recordId","/:entityId/:tabId/record/:recordId","/:entityId/:draftId/record/:recordId","/:entityId/:threadPageId/record/:recordId","/:entityId/:searchQuery/record/:recordId","/:entityId/:channelFilesId/record/:recordId","/:entityId/:scTeamOrEnterpriseId/record/:recordId","/:entityId/:listsViewName/record/:recordId","/:entityId/:canvasOpenedFromId/record/:recordId"]},[j.td]:{paths:["/:entityId/:tabId/:workflowTemplateId"]}};function qe(){(0,i.S2)(Ne,Pe)}m(qe,"setRoutes");const At=m(rt=>{let{routeName:lt,params:dt={}}=rt;const{entityId:Dt}=dt;return Dt&&sn(Dt)?((0,i._U)(lt,{...dt,entityId:j.as[Dt]},{shouldReplaceState:!0}),!1):!0},"maybe_redirect_entity");var xt=e(7969636028),jt=e(109860581),Xt=e(8646192222),en=e(5223893135),Qt=e(5250801180),ht=e(3193155968),Nt=e(7429662208);function on(rt){let{prevTeamId:lt,nextTeamId:dt}=rt;if(!dt||lt===dt)return;const Dt=(0,Ie.oK)(dt),$t=Dt.getState(),mn=(0,Nt.e6)($t),nn=(0,Nt.Le)($t,{tab:mn}),yn=(0,Nt.Oy)($t),xn=(0,Xt.iB)($t),jn=(0,en.V)($t),ps=(0,en.V)((0,r.Ry)()),Fs=xn&&(jn||ps)?(0,en.T)($t,{id:ht.N2}):void 0;Dt.dispatch((0,Qt.I)()),Dt.dispatch((0,xt.C)({prevViewSet:void 0,prevTab:void 0,nextViewSet:nn,nextTab:mn,windowId:ht.N2,navigateParams:{destinationContainer:Fs},triggerType:jt.w.TEAM_SWITCH,prevSplitView:yn,nextSplitView:yn}))}m(on,"maybeRunTeamSwitchNavigateListeners");var Vt=e(6555262004),qt=e(5078290763),rn=e(4656278360),vn=e(2567914105),Rn=e(9003400431),Pn=e(8243624171);function In(rt){let{nextTeamId:lt,prevTeamId:dt}=rt;const{dispatch:Dt,getState:$t}=(0,Ie.oK)(dt),mn=$t();return(0,vn.iS)(mn)?new Promise((yn,xn)=>{Dt((0,qt.P)({openModalProps:{isStackable:!0},onConfirmClose:()=>{Dt((0,rn.U)(!1)),Dt((0,Rn.O)({closeAll:!0})),yn()},onCancelClose:()=>{xn()}}))}):(dt&&!(0,Pn.Vq)({teamId:dt})&&Dt(lt===dt?(0,Rn.O)({closeNamed:Vt.N}):(0,Rn.O)({closeAll:!0})),!0)}m(In,"modalListenerBefore");var Nn=e(6088404775);function Jn(rt){const lt=(0,Nn.h)();return lt!=null&&lt.onClose&&(lt==null||lt.onClose()),!0}m(Jn,"pinsPopoverListenerAfter");var ts=e(3982416567),Un=e(6304789565),bn=e(1466694191),Ln=e(6078549397),Gn=e(7307560139),Zn=e(6822097892),ns=e(4033441523);const is=["comment_thread","activity_history","files","rimeto_profile","thread",j.li,j.lM,j.De,j.Dn,j.Q$],Xn=(0,Un.Ay)("Post activity history routing side effects",(rt,lt,dt)=>{let{params:Dt,prevRouteInfo:$t,routeName:mn}=dt;var nn;const yn=Dt==null?void 0:Dt.entityId,xn=$t==null||(nn=$t.params)===null||nn===void 0?void 0:nn.entityId,jn=ht.N2;if(mn===j._G&&yn&&(0,bn.A)(yn)){const{fileIdOrQuipThreadId:Fs}=(0,Ln.EX)(yn);is.includes($t==null?void 0:$t.routeName)&&rt((0,Zn.A)({fileId:Fs,windowId:jn,source:ns.f.QUIP_ACTIVITY_HISTORY_LISTENER,isFromCloseActivityHistory:!0}))}let ps=yn,Ts=xn;(0,gt.Ay)(xn)&&(0,gt.Ay)(yn)&&(ps=(0,Ln.EX)(xn).fileIdOrQuipThreadId,Ts=(0,Ln.EX)(yn).fileIdOrQuipThreadId),ps!==Ts&&rt((0,Gn.NA)({windowId:jn}))});Xn.meta={name:"createThunk",key:"createThunkpostQuipActivityHistoryRouting",description:"Post activity history routing side effects"};function vs(rt){let{params:lt,prevRouteInfo:dt,routeName:Dt,reason:$t}=rt;const mn=lt.teamId||lt.teamOrEnterpriseId,{dispatch:nn,getState:yn}=(0,Ie.oK)(mn);(0,ts.O4)(yn())&&nn(Xn({routeName:Dt,params:lt,prevRouteInfo:dt,reason:$t}))}m(vs,"quipActivityHistoryListener");const as=m(rt=>{let{nextTeamId:lt,routeName:dt,params:Dt}=rt;const $t={routeName:dt,params:Dt};return lt&&(0,F.t2)(lt,"lastRoute",$t),!0},"save_route_to_local_config");var qn=e(210422728),ls=e(9551235052);function un(rt){let{prevTeamId:lt}=rt;const dt=(0,Ie.oK)(lt);return(0,ls.J)(dt.getState())&&(dt.dispatch((0,qn.T)(!0)),ye.g.delete("setNavigatedDuringWarmBoot")),Promise.resolve()}m(un,"setNavigatedDuringWarmBoot");var Fn=e(6495946979),Gt=e(8473952534),Ut=e(8213251995),ze=e(3977512448);function Q(rt){let{nextTeamId:lt,prevRouteInfo:dt,params:Dt}=rt;var $t;const mn=(0,Ie.oK)(lt),nn=mn.getState(),yn=(0,Ut.c8)(nn),xn=(0,ae.OL)(nn,Dt.entityId),jn=(dt==null||($t=dt.params)===null||$t===void 0?void 0:$t.entityId)||"";(jn===Jt.eE.CHANNELS||jn===ze.b||jn===ze.Z1)&&(Dt!=null&&Dt.entityId)&&xn&&!(0,Fn.bl)(xn)&&mn.dispatch((0,Gt.Tm)({channelId:Dt.entityId,prevRoute:jn})),yn&&(dt==null?void 0:dt.routeName)==="ROUTE_ENTITY"&&(0,De.A)(jn)&&mn.dispatch((0,Gt.Tm)({channelId:null,prevRoute:null}))}m(Q,"setPreviewingFromChannelBrowserOrLaunchpad");var ue=e(8628205589),ge=e(4529239752),ke=e(9795506498);function Xe(rt){let{nextTeamId:lt,uuid:dt,shouldReplaceState:Dt,reason:$t}=rt;var mn;if(!lt||!dt)return;if($t!==i.GB)if(Dt)(0,r.dispatchForClientStore)((0,ue.HQ)({windowId:ht.N2,entry:{id:dt,ts:Date.now(),teamId:lt,isIA4:!1}}));else{const jn=(0,ge.XG)((0,r.Ry)());jn>0&&(0,r.dispatchForClientStore)((0,ue.$E)({windowId:ht.N2,index:jn})),(0,r.dispatchForClientStore)((0,ue.y2)({windowId:ht.N2,entry:{id:dt,ts:Date.now(),teamId:lt,isIA4:!1}}))}const nn=(0,Ie.oK)(lt),yn=nn.getState();if(!((mn=window.history.state)===null||mn===void 0)&&mn.isIA4)return;const xn=(0,Nt.Gl)(yn);nn.dispatch((0,ke.A)({windowId:ht.N2,entry:xn}))}m(Xe,"updateIA4History");var nt=e(235108050);const pt=m(rt=>{let{prevTeamId:lt,nextTeamId:dt}=rt;if(lt===dt||!dt)return;const Dt=(0,F.W6)("recentlyUsedTeamIds")||lt&&[lt]||[];Dt.unshift(dt),(0,F.q9)("recentlyUsedTeamIds",(0,nt.A)(Dt)),(0,F.t2)(dt,"mostRecentlyUsedDate",new Date)},"update_recently_used_teams");var _e=e(9399618736),Le;(function(rt){rt.JA_JP="ja-JP",rt.EN_US="en-US",rt.EN_GB="en-GB",rt.ES_ES="es-ES",rt.ES_LA="es-LA",rt.FR_FR="fr-FR",rt.DE_DE="de-DE",rt.PT_BR="pt-BR",rt.KO_KR="ko-KR",rt.IT_IT="it-IT",rt.ZH_CN="zh-CN",rt.ZH_TW="zh-TW"})(Le||(Le={}));const We=Le.EN_US;var Ze=e(2028988448),st=e(7729538251),ut=e(4094753332),Lt=e(2554594353),tn=e(3080748521);function En(rt){let{nextTeamId:lt,routeName:dt,params:Dt}=rt;lt&&((0,r.dispatchForClientStore)((0,Lt.b)({teamId:lt,routeName:dt,params:Dt,fromNavigation:!0})),(0,Ie.oK)(lt)&&(0,Ie.Qw)(lt,(0,qn.w)({routeName:dt,params:Dt})))}m(En,"syncRouteStoreWithUrl");async function Dn(rt){let{prevTeamId:lt,nextTeamId:dt,navigationTimestamp:Dt}=rt;const $t=(0,r.Ry)();if(!dt||(0,a.hasWorkspaceFailedToBoot)($t,dt)||(0,a.doesWorkspaceNeed2FASetup)($t,dt)||(0,a.isWorkspaceExpired)($t,dt)||(0,a.isWorkspacePendingAuth)($t,dt))return!0;const mn=(0,Ie.oK)(dt),nn=mn&&mn.getState(),yn=(0,tn.MC)(nn),xn=(0,tn.D8)(nn)||j._G;if((0,ut.y3)()&&xn===o.o)return!0;const jn=!lt;return await(0,i._U)(xn,{...yn,teamId:dt},{reason:"navigateToLastSavedRoute",shouldReplaceState:jn,navigationTimestamp:Dt}),!1}m(Dn,"navigateToLastSavedRoute");function Bn(rt){let{prevTeamId:lt,nextTeamId:dt}=rt;if(!lt||!dt||lt===dt)return;const Dt=Wn(dt);return Promise.resolve((0,st.xS)(Dt,dt)).then(()=>{})}m(Bn,"ensureCorrectLocaleForTeam");function On(rt){let{prevTeamId:lt,nextTeamId:dt}=rt;if(!lt||!dt||lt===dt)return;const Dt=Wn(dt);if(Dt)return(0,pe.zI)(Dt)}m(On,"ensureCorrectLocaleForExternalLibs");function Wn(rt){const lt=window.location.search.match(/[&?]locale=([a-zA-Z-]*)/),dt=lt?lt[1]:(0,F._z)(rt,"user_locale");return dt&&(0,pe.YI)(dt)?dt:We}m(Wn,"getLocaleForTeam");const os=(0,ce.A)(Tn);function Tn(){ye.g.set("maybeOpenOtherTeamInBrowser",(0,i.Y8)(Ke)),ye.g.set("modalListenerBefore",(0,i.Y8)(In)),ye.g.set("maybeFinishSignin",(0,i.Y8)(ve)),ye.g.set("maybeRedirectEntity",(0,i.Y8)(At)),ye.g.set("navigateToLastSavedRoute",(0,i.Y8)(Dn,[o.o])),ye.g.set("ensureChannel",(0,i.Y8)(Ce,[])),ye.g.set("draftsListenerBefore",(0,i.Y8)(q)),ye.g.set("ensureCorrectLocaleForExternalLibs",(0,i.Dd)(On)),ye.g.set("updateIA4History",(0,i.Dd)(Xe)),ye.g.set("maybeRunTeamSwitchNavigateListeners",(0,i.Dd)(on)),ye.g.set("setNavigatedDuringWarmBoot",(0,i.Dd)(un)),ye.g.set("pinsPopoverListenerAfter",(0,i.Y8)(Jn)),ye.g.set("syncRouteStoreWithUrl",(0,i.Dd)(En)),ye.g.set("ensureCorrectLocaleForTeam",(0,i.Dd)(Bn)),ye.g.set("setLocalConfigForTeamWithKey",(0,i.Dd)(as)),ye.g.set("updateRecentlyUsedTeams",(0,i.Dd)(pt)),ye.g.set("maybeFetchClientPermissions",(0,i.Dd)(He)),ye.g.set("maybeIncrementHistoryLength",(0,i.Dd)(_e.Cu)),ye.g.set("setPreviewingFromChannelBrowserOrLaunchpad",(0,i.Dd)(Q)),ye.g.set("channelCanvasListener",(0,i.Dd)(le)),ye.g.set("quipActivityHistoryListener",(0,i.Dd)(vs))}m(Tn,"registerRouteListenersInner"),(0,Ze.ul)("router.listeners",()=>[...ye.g.entries()]);const _n={syncRouteStoreWithUrl:En,navigateToLastSavedRoute:Dn,ensureCorrectLocaleForTeam:Bn,ensureCorrectLocaleForExternalLibs:On,getLocaleForTeam:Wn};Object.defineProperty(_n,"syncRouteStoreWithUrl",{get:()=>En,set:rt=>{En=rt}}),Object.defineProperty(_n,"navigateToLastSavedRoute",{get:()=>Dn,set:rt=>{Dn=rt}}),Object.defineProperty(_n,"ensureCorrectLocaleForTeam",{get:()=>Bn,set:rt=>{Bn=rt}}),Object.defineProperty(_n,"ensureCorrectLocaleForExternalLibs",{get:()=>On,set:rt=>{On=rt}}),Object.defineProperty(_n,"getLocaleForTeam",{get:()=>Wn,set:rt=>{Wn=rt}});var rs=e(9323322135);const hs=m(()=>({deviceId:rs.iCQ}),"getSharedTracerTags");var Qn=e(7302681637),Es=e(719020269);const ys=m(async()=>{rs.goh.isAvailable()&&(0,rs.goh)().includes("DisableServiceWorker")&&await(0,Es._E)()},"disableServiceWorkerForClientConfig"),Ms=m(async()=>{(0,ut.X5)()===ut.h5.SAFARI&&await(0,Es._E)()},"disableServiceWorkerForSafari"),$s=m(async()=>{await Ms(),await ys()},"maybeDisableServiceWorker");var Ys=e(1658558415),Bs=e(397226212),Hs=e(6123258136),Rs=e(1319016163);async function Us(rt){let{contextualInfo:lt}=rt;return{contextualInfo:lt,otherTeamsToBoot:(0,Rs.gv)()}}m(Us,"setupOtherTeamsToBoot");var Ds=e(5695315324),Ss=e(9104574897),Ns=e(4148579738),Qs=e(4172706442),ot=e(2664504268);let Wt;async function yt(){if(!Wt){const rt=(0,ot.A)();await navigator.locks.request(rt,async lt=>{var dt,Dt;Wt=((Dt=(dt=(await navigator.locks.query()).held)===null||dt===void 0?void 0:dt.find($t=>(lt==null?void 0:lt.name)===$t.name))===null||Dt===void 0?void 0:Dt.clientId)||rt})}return Wt}m(yt,"getClientIdForSelf");var it=e(2878685908),vt=e(4518410378),St=e(8957924187);const bt=m(rt=>Boolean(!rt.id&&rt.method),"isNotificationMessage"),zt=m(rt=>Boolean(rt.id&&rt.method),"isRequestMessage"),an=m(rt=>Boolean(rt.id&&Object.prototype.hasOwnProperty.call(rt,"result")),"isResultMessage"),gn=m(rt=>Boolean(rt.id&&rt.error),"isErrorMessage");class hn{async await(lt){return new Promise(dt=>{this.once(lt,Dt=>dt(Dt))})}createRequester(lt,dt){const Dt=dt||(()=>Promise.resolve());return $t=>Dt().then(()=>this.request({method:lt,params:$t}))}notify(lt){this.isVerbose&&this.info(`(${this.id})`,"notifying",lt),this.bc.postMessage(lt)}on(lt,dt){let Dt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const $t=Array.isArray(lt)?lt:[lt],mn=m(nn=>{let{data:yn}=nn;yn!=null&&yn.method&&$t.includes(yn.method)&&(dt(yn),Dt&&mn.off())},"h");return mn.off=()=>this.bc.removeEventListener("message",mn),this.bc.addEventListener("message",mn),mn}once(lt,dt){return this.on(lt,dt,!0)}async request(lt){const dt=lt.id?lt.id:(0,ot.A)(),Dt={...lt,id:dt};return this.isVerbose&&this.info("requesting",Dt),this.bc.postMessage(Dt),new Promise(($t,mn)=>{const nn=m(yn=>{let{data:xn}=yn;(xn==null?void 0:xn.id)===dt&&(this.bc.removeEventListener("message",nn),an(xn)?$t(xn.result):gn(xn)&&(this.error(`Method \`${lt.method}\` responded with error:`,{request:lt,response:xn}),mn(new Error(xn.error.message))))},"responseHandler");this.bc.addEventListener("message",nn)})}respond(lt,dt){this.bc.postMessage({...dt,id:lt.id})}respondTo(lt,dt){return this.on(lt,async Dt=>{try{const $t=await dt(Dt.params);this.respond(Dt,{result:$t})}catch($t){this.respond(Dt,{error:{code:-1,message:($t==null?void 0:$t.toString())||"Unknown error occurred",data:{method:Dt.method}}})}})}setVerbose(lt){return this.isVerbose===lt?this.isVerbose:(this.isVerbose=lt,this.isVerbose&&this.bc.addEventListener("message",dt=>{let{data:Dt}=dt;this.info("received",Dt)}),this.isVerbose)}constructor(lt,dt=!1){var Dt=this;this.id=lt,this.bc=new BroadcastChannel(St.kv),this.info=function(){for(var $t=arguments.length,mn=new Array($t),nn=0;nn<$t;nn++)mn[nn]=arguments[nn];return(0,s.pq)("SQLITE-RPC",`(${Dt.id})`,...mn)},this.error=function(){for(var $t=arguments.length,mn=new Array($t),nn=0;nn<$t;nn++)mn[nn]=arguments[nn];return(0,s.z3)("SQLITE-RPC",`(${Dt.id})`,...mn)},this.isVerbose=this.setVerbose(dt)}}m(hn,"RpcBroadcast");class wt{async readObjects(lt){return await this.awaitDatabaseReady,this.rpc.request({method:"Request.DatabaseProvider.readObjects",params:lt})}start(){this.rpc.notify({method:"Notification.ClientReady",params:{clientId:this.windowId}}),this.rpc.on("Notification.DatabasePending",()=>{this.awaitDatabaseReady=this.rpc.await("Notification.DatabaseReady")})}constructor(lt){if(vt.J.sqliteClient)throw new Error("Cannot have more than one SqliteClient per window.");this.windowId=(0,St.OF)(lt),this.rpc=new hn(this.windowId),this.awaitDatabaseReady=this.rpc.await("Notification.DatabaseReady");const dt=m(Dt=>this.rpc.createRequester(Dt,()=>this.awaitDatabaseReady),"createRequester");this.initTables=dt("Request.DatabaseProvider.initTables"),this.clearAllObjects=dt("Request.DatabaseProvider.clearAllObjects"),this.clearTable=dt("Request.DatabaseProvider.clearTable"),this.deleteObjects=dt("Request.DatabaseProvider.deleteObjects"),this.writeObjects=dt("Request.DatabaseProvider.writeObjects"),vt.J.sqliteClient=this}}m(wt,"SqliteClient");async function cn(){if((0,it.$i)()||(0,it.b3)()||(0,it.Cu)()){const lt=(await e.e("sqlite-worker-dev").then(e.bind(e,8045688959))).default;return new lt}return new Worker("/sqlite.worker.js")}m(cn,"initSqliteWorker");async function kn(){if(!vt.J.sqliteClient){const rt=await yt();new wt(rt).start()}return vt.J.sqliteClient}m(kn,"initSqliteClient");var zn=e(7171435821),Vn=e(7344959578),$n=e(7668372645),pn=e(3803432550),Hn=e(2750801670),Sn=e(8749908259),Cn=e(4157777698);$s(),window.boot_html__initial_boot_duration=Date.now()-window.sonic_boot__phase_1_5__start,window.boot_render_start=Date.now();const _s=m(rt=>({...(0,Hn.s)(rt),actionSanitizer:Cn.g}),"createReduxDevtools");function cs(rt){return rt.registerConfig({isPersistenceEnabled:!0,isMultiTeamEnabled:(0,me.VA)(),getCreateReduxDevtools:()=>_s}),rt.registerErrorHandlers(A),rt.registerDynamicImportFns({data:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-data")]).then(e.bind(e,668116423)),apis:()=>Promise.all([e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-async-client-boot-apis")]).then(e.bind(e,6959220389)),render:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("gantry-v2-vendors-async-client"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-render")]).then(e.bind(e,8896709448)),deferred:()=>Promise.all([e.e("gantry-v2-vendors-async"),e.e("gantry-v2-shared-boot-async"),e.e("client-boot-styles"),e.e("gantry-v2-async-client-boot-deferred")]).then(e.bind(e,1009905056))}),rt.registerInitialApiCalls({experimentData:C.dC,featureFlagData:C.BG,clientBootData:K,viewData:ne.L$,allEnterpriseData:w,featureAccessData:C.jH,clientChannelsData:x,shouldReloadData:Qn.zw}),Ns.e.register(hs),(0,se.b)(rt),rt.hooks.beforeDynamicImportsStart.tap("Render Placeholder",async lt=>{let{contextualInfo:dt}=lt;return(0,p.Sp)({teamId:dt.teamOrEnterpriseBootId}),{contextualInfo:dt}}),rt.hooks.beforeDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start downloading the sqlite worker",async lt=>{let{contextualInfo:dt}=lt;return(0,P.MA)()&&cn(),{contextualInfo:dt}}),rt.hooks.afterDynamicImportsStart.tap("[experiment:wasm_sqlite_spike] Start the sqlite client",async lt=>{let{contextualInfo:dt}=lt;return(0,P.MA)()&&await kn(),{contextualInfo:dt}}),rt.hooks.afterDynamicImportsStart.tap("Set routes",async lt=>{let{contextualInfo:dt}=lt;return qe(),{contextualInfo:dt}}),rt.hooks.afterDynamicImportsStart.tap("Set up client store",async lt=>{let{contextualInfo:dt}=lt;return(0,pn.x)(dt.teamId),{contextualInfo:dt}}),rt.hooks.afterDynamicImportsStart.tap("Register route listeners",async lt=>{let{contextualInfo:dt}=lt;return os(),{contextualInfo:dt}}),rt.hooks.afterDynamicImportsStart.tap("Update last active team ID in localConfig",async lt=>{let{contextualInfo:dt}=lt;const{teamId:Dt}=dt;return Dt?(Dt!==(0,F.W6)("lastActiveTeamId")&&(0,F.q9)("lastActiveTeamId",Dt),{contextualInfo:dt}):{contextualInfo:dt}}),rt.hooks.beforeInitializeTeam.tap("Halt further boot if client is reloading",async lt=>{let{contextualInfo:dt}=lt;return window.isReloading?((0,s.pq)("BOOT",`(${dt.teamId}) Ongoing reload detected; Cancelling boot.`),(0,Ss.A)()):{contextualInfo:dt}}),rt.hooks.beforeInitializeTeam.tap("[experiment:wasm_sqlite_spike] Init tables for team and user",async lt=>{let{contextualInfo:dt}=lt;const{teamId:Dt,userId:$t}=dt;if((0,P.MA)()&&Dt&&$t){const mn=(0,Qs.s)(),nn=2500;await(0,t.wj)(mn.initTables({teamId:Dt,userId:$t}),nn).catch(()=>(0,s.pq)("BOOT",`Timed out waiting ${nn}ms to init SQLite tables, moving on`))}return{contextualInfo:dt}}),rt.hooks.beforeInitializeTeam.tap("Set tokens",async lt=>{let{contextualInfo:dt}=lt;return(0,Hs.L)({contextualInfo:dt})}),rt.hooks.beforeInitializeTeam.tap(" Kick off objectStore fetch for minChannelUpdated ",async lt=>{let{contextualInfo:dt}=lt;return((0,M.EZ)()||(0,P.MA)())&&(0,D.z6)({teamId:dt.teamId,userId:dt.userId}),{contextualInfo:dt}}),rt.hooks.setupMultiTeam.tap("Set up all other teams to boot if in multi team mode",Us),rt.run()}if(m(cs,"boot"),!(0,Ys.A)()){const rt=(0,Bs.z4)(Ds.Y.CLIENT_V2);if(!(0,$n.z$)()&&(0,it.KV)()&&(0,Sn.b)()){const lt=e(8904626639);lt.init({dsn:`https://4162106b525941d087e5f8f5e446ae9b@app.${(0,zn.Xk)()}/apps/sentryproxy/5865811`,release:`webapp@${(0,Vn.HF)()}`,defaultIntegrations:!1,integrations:[lt.browserTracingIntegration({enableInp:!0}),lt.browserProfilingIntegration(),lt.httpContextIntegration()],sampleRate:1,tracesSampleRate:1,profilesSampleRate:1,tracePropagationTargets:[],replaysSessionSampleRate:0,replaysOnErrorSampleRate:0})}cs(rt)}const Ls={boot:cs}},3914849812:(W,T,e)=>{"use strict";e.d(T,{L$:()=>p});var t=e(1460808057),s=e(7031360717),n=e(5695315324),r=e(8187930033),u=e(8414867410),i=e(337319621),o=e(5084575109),a=e(8834730594),_=e(8040098042),l=e(2960290117);async function p(A){const{appName:d,bootQueue:v,token:h,teamId:f}=A;if(!h)return(0,i.Ay)({teamOrEnterpriseId:f,label:"BOOT"}).error(new Error("Token missing; Unable to fetch messages data.")),null;if(!f)return(0,i.Ay)({teamOrEnterpriseId:f,label:"BOOT"}).error(new Error("teamId missing; Unable to fetch messages data.")),null;const y=await(0,t.E)({contextualInfo:A});return g({bootQueue:v,token:h,teamId:f,routeInfo:y,appName:d})}m(p,"maybeFetchMessagesData");async function g(A){let{bootQueue:d,token:v,teamId:h,routeInfo:f,appName:y}=A;var I;const C=f==null||(I=f.params)===null||I===void 0?void 0:I.entityId;return C&&(0,_.A)(C)&&!(0,o.n)(C)&&!(0,u.bd)(C)&&!(0,a.A)(C)&&!(0,l.Ay)(C)?((0,s.pq)("BOOT",`Booting into channel: ${C}`),c({appName:y,bootQueue:d,token:v,teamId:h,id:C})):!(0,o.n)(C)&&!(0,u.bd)(C)&&!(0,a.A)(C)&&!(0,l.Ay)(C)?((0,s.pq)("BOOT","Couldn't determine boot channel. Falling back to default channel"),c({appName:y,bootQueue:d,token:v,teamId:h})):null}m(g,"fetchMessagesDataForRoute");function c(A){let{bootQueue:d,token:v,teamId:h,id:f,appName:y}=A;const I={token:v,canonical_avatars:!0,no_user_profile:!0,ignore_replies:!0,no_self:!0,include_full_users:!0,include_use_case:!0,include_stories:!0,no_members:!0,include_mutation_timestamps:!0,count:28,include_free_team_extra_messages:!0};f&&(I.channel=f),y===n.Y.SINGLE_CHANNEL_CLIENT&&(I.is_single_channel_boot=1);const C=new r.Ay({method:"conversations.view",args:I,teamId:h});return d.q(C).catch(D=>((0,i.Ay)({teamOrEnterpriseId:h,label:"BOOT"}).error(new Error(`unable to fetch messages data ${D}`)),null))}m(c,"fetchMessagesData");const E={fetchMessagesData:c}},879418974:(W,T,e)=>{"use strict";e.d(T,{d:()=>r});var t=e(3929724715),s=e(8798294025),n=e(6113051341);function r(u){let{channels:i,selfId:o}=u;const a={};return i.some((_,l)=>{const p=_==null?void 0:_.id;return(0,n.N)(_)?(a.general=p,!0):((0,t.Ur)(_)&&(a.slackbot=p),o&&(0,s.e)(_)===o&&(a.self=p),l||(a.first=p),!1)}),a.general||a.slackbot||a.self||a.first}m(r,"getAnyChannelForRouting")},1460808057:(W,T,e)=>{"use strict";e.d(T,{E:()=>r});var t=e(879418974),s=e(8959118205),n=e(1151228631);async function r(o){let{contextualInfo:a,channels:_}=o;const{isForegroundTeam:l}=a,p=(0,n.Gf)({shouldSetFocus:l});return p||u({contextualInfo:a,channels:_})}m(r,"getRouteInfo");function u(o){let{contextualInfo:a,channels:_}=o;const{teamId:l}=a;if(!l)return null;const p=(0,n.lQ)(l);if(p)return p;if(_){const g=a.userId;return i({channels:_,selfId:g})}return null}m(u,"calculateRouteInfo");function i(o){let{channels:a,selfId:_}=o;if(!a.length)return null;const l={routeName:s._G,params:{}},p=(0,t.d)({channels:a,selfId:_});return p&&(l.params.entityId=p),l}m(i,"getRouteFromBootData")},2212859256:(W,T,e)=>{"use strict";e.d(T,{y:()=>u});var t=e(9706702639),s=e(7031360717),n=e(6533394955),r=e(1314103953);function u(i){if(!i)return;const o=(0,n.oK)(i);o&&((0,s.pq)("BOOT",`(${i}) Boot complete`),t.g.delete("setNavigatedDuringWarmBoot"),o.dispatch((0,r.b)(!1)),o.dispatch((0,r.k)(!1)))}m(u,"markTeamBootCompleted")},4892637646:(W,T,e)=>{"use strict";e.d(T,{b:()=>r,h:()=>n});var t=e(7906695911),s=e(2872463257);async function n(o){let{contextualInfo:a}=o;const{getTraceMeta:_,isBootingWarm:l,appName:p}=a,{getTracer:g,tags:c}=_(),E=await l?t.H.WARM:t.H.COLD,A=g().createTrace({traceName:t.S.BOOT_INITIAL_LOAD,tags:{boot_type:E,app_name:p,...c},autoCreateRootSpan:!1,samplingOptions:{sampleType:s.nl.ALWAYS}});A.startSpan(t.S.BOOT_INITIAL_LOAD,{setAsRootSpan:!0,startTime:performance.timing.fetchStart,closeTime:window.boot_render_start}),A.startSpan(t.S.BOOT_INITIAL_LOAD_HTML,{startTime:performance.timing.fetchStart,closeTime:performance.timing.fetchStart+window.sonic_boot__phase_1__duration}),A.startSpan(t.S.BOOT_INITIAL_LOAD_JS,{startTime:window.sonic_boot__phase_1_5__start,closeTime:window.sonic_boot__phase_1_5__start+window.boot_html__initial_boot_duration}),g().reportTrace(A)}m(n,"collectInitialPageLoadMetrics");function r(o){o.hooks.beforeDynamicImportsStart.addCallIntercept(a=>u(a)),o.hooks.renderApp.addCallIntercept(a=>i(a))}m(r,"setupBootMetricsTracing");function u(o){return a=>{const{getTracer:_,setTrace:l,rootTrace:p}=a.contextualInfo.getTraceMeta(),c=_().createTrace({traceName:t.S.BOOT_TIME_TO_START_RENDER,autoCreateRootSpan:!1,parentSpanId:p.getRootSpanId(),traceId:p.getTraceId()});return c.startSpan(t.S.BOOT_TIME_TO_START_RENDER,{setAsRootSpan:!0,startTimeMs:window.boot_render_start}),l(c),o(a)}}m(u,"startTimeToRenderTrace");function i(o){return async a=>{const{isBootingWarm:_,getTraceMeta:l,isForegroundTeam:p}=a.contextualInfo,{getTracer:g,getTrace:c,setTrace:E,rootTrace:A}=l(),d=g(),v=c(),h=await _?t.H.WARM:t.H.COLD;return v.addTags({boot_type:h,is_foreground_team:p}),d.reportTrace(v),E(A),o(a)}}m(i,"endTimeToRenderTrace")},7906695911:(W,T,e)=>{"use strict";e.d(T,{H:()=>s,S:()=>t});var t;(function(n){n.BOOT_INITIAL_LOAD="boot:initial_load",n.BOOT_INITIAL_LOAD_HTML="boot:initial_load:html",n.BOOT_INITIAL_LOAD_JS="boot:initial_load:js",n.BOOT_TIME_TO_START_RENDER="boot:time_to_start_render",n.BOOT_TIME_TO_MOUNT_CLIENT="boot:time_to_mount_client"})(t||(t={}));var s;(function(n){n.COLD="cold",n.WARM="warm"})(s||(s={}))},9706702639:(W,T,e)=>{"use strict";e.d(T,{g:()=>t});const t=new Map},5088972093:(W,T,e)=>{"use strict";e.d(T,{Ys:()=>n,jJ:()=>s,xn:()=>t});const t=[],s=["at_user","at_user_group","at_channel","at_everyone","bot_dm","dm","mpdm","keyword","thread_reply","message_reaction","list_record_assigned","list_user_mentioned","list_todo_notification","bot_dm_bundle","thread_v2","saved_reminder","calendar_upcoming_event","internal_channel_invite","external_channel_invite","external_dm_invite","shared_workspace_invite","list_record_edited","example_user_alert","list_record_edited_bundle"],n={NEWEST:"newest",VIP:"vip",UNREADS:"unreads"}},1609960255:(W,T,e)=>{"use strict";e.d(T,{A:()=>n});var t=e(5088972093),s=e(7114008777);const n=m(r=>{let{selectedTab:u,unreadsFilterToggleSelected:i,vipFilterToggleSelected:o,preferredActivityFeedSortOrder:a,experimentIsActivityThreadV2GroupOn:_,experimentIsVipInActivityGroupOn:l,experimentDMInActivityGroupOn:p,experimentActivityInboxGroupOn:g}=r;if(g&&a){if(a===t.Ys.NEWEST){if(i)return o?"chrono_priority_only_unreads_v1":"chrono_unreads";if(!i)return o?"chrono_priority_only_reads_and_unreads_v1":"chrono_reads_and_unreads"}if(a===t.Ys.VIP){if(i)return o?"chrono_priority_only_unreads_v1":"priority_unreads_v1";if(!i)return o?"chrono_priority_only_reads_and_unreads_v1":"priority_reads_and_unreads_v1"}if(a===t.Ys.UNREADS&&!i&&!o)return"unreads_first_reads_and_unreads_v1"}return i&&(u===s.Li.Vip||o)?"chrono_priority_only_unreads_v1":u===s.Li.Vip||o?"chrono_priority_only_reads_and_unreads_v1":l&&u===s.Li.All?i?"priority_unreads_v1":"priority_reads_and_unreads_v1":p&&i&&u===s.Li.Replies?"chrono_unreads":p&&!i&&u===s.Li.Replies?"chrono_reads_and_unreads":_&&i&&u===s.Li.Replies?"chrono_threads_unreads_v2":i&&u===s.Li.Replies?"chrono_threads_unreads":_&&u===s.Li.Replies?"chrono_threads_reads_and_unreads_v2":u===s.Li.Replies?"chrono_threads_reads_and_unreads":i?"chrono_unreads":"chrono_reads_and_unreads"},"getFetchMode")},4577150972:(W,T,e)=>{"use strict";e.d(T,{c:()=>a});var t=e(3398586081),s=e(1609960255),n=e(7114008777),r=e(7156540029),u=e(8352634987),i=e(7912281988),o=e(6533394955);const a=(0,t.A)(function(){let _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.Li.All,l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return new u.Ay({storeKey:"activityIA4",fetch:p=>(0,o.Qw)(p,(0,i.Q)({limit:r.Q1,filter:_,fetchNew:!0,mode:(0,s.A)({selectedTab:_,unreadsFilterToggleSelected:l})})),isEnabled:()=>!0,metricsName:"activity",markStaleAfterSlowReconnect:()=>!0})})},1247361162:(W,T,e)=>{"use strict";e.d(T,{$K:()=>b,$T:()=>I,ES:()=>_,Eg:()=>A,KD:()=>d,cJ:()=>y,f7:()=>f,fB:()=>S,gW:()=>v,j1:()=>g,mt:()=>M,rz:()=>l,sG:()=>p,ut:()=>c,yC:()=>C,yN:()=>P});var t=e(7114008777),s=e(6695353875),n=e(4577150972),r=e(5921578648),u=e(3009309149),i=e(8847766420);const o=m((O,L)=>{var k,K;const N=(0,s.kz)(L),R=O===t.Li.Reactions?O:(0,r.S)({filter:O,isUnreadMode:!!(!(L==null||(k=L.activityIA4)===null||k===void 0)&&k.filterUnreads),isFilteringRevampToggledOn:N});return(K=L.activityIA4)===null||K===void 0?void 0:K[R]},"getActivityListForFilter"),a=(0,u.Ay)(O=>{var L,k,K;const N=(0,i.ZT)(O),R=(L=O.activityIA4)===null||L===void 0?void 0:L.all;return((O==null||(k=O.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===t.Li.All||!(!(O==null||(K=O.activityIA4)===null||K===void 0)&&K.selectedTabId))&&(R!=null&&R.length)&&(0,n.c)(t.Li.All,!1).maybeRefetch(N,t.N2),O&&O.activityIA4&&R});a.meta={name:"createSelector",key:"createSelectorgetReadAndUnreadActivityList",description:O=>{var L,k,K;const N=(0,i.ZT)(O),R=(L=O.activityIA4)===null||L===void 0?void 0:L.all;return((O==null||(k=O.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===t.Li.All||!(!(O==null||(K=O.activityIA4)===null||K===void 0)&&K.selectedTabId))&&(R!=null&&R.length)&&(0,n.c)(t.Li.All,!1).maybeRefetch(N,t.N2),O&&O.activityIA4&&R}};const _=(0,u.Ay)(O=>{var L,k;const K=(0,i.ZT)(O),N=o(t.Li.All,O);if(((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.All||!(!(O==null||(k=O.activityIA4)===null||k===void 0)&&k.selectedTabId))&&(N!=null&&N.length)){var R;(0,n.c)(t.Li.All,(R=O.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(K,t.N2)}return O&&O.activityIA4&&N});_.meta={name:"createSelector",key:"createSelectorgetActivityList",description:O=>{var L,k;const K=(0,i.ZT)(O),N=o(t.Li.All,O);if(((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.All||!(!(O==null||(k=O.activityIA4)===null||k===void 0)&&k.selectedTabId))&&(N!=null&&N.length)){var R;(0,n.c)(t.Li.All,(R=O.activityIA4)===null||R===void 0?void 0:R.filterUnreads).maybeRefetch(K,t.N2)}return O&&O.activityIA4&&N}};const l=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Mentions,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Mentions&&K.length){var N;(0,n.c)(t.Li.Mentions,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K});l.meta={name:"createSelector",key:"createSelectorgetActivityListMentions",description:O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Mentions,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Mentions&&K.length){var N;(0,n.c)(t.Li.Mentions,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K}};const p=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Replies,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Replies&&K.length){var N;(0,n.c)(t.Li.Replies,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K});p.meta={name:"createSelector",key:"createSelectorgetActivityListReplies",description:O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Replies,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Replies&&K.length){var N;(0,n.c)(t.Li.Replies,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K}};const g=(0,u.Ay)(O=>{var L,k,K;const N=(0,i.ZT)(O),R=o(t.Li.Reminders,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Reminders&&(!(O==null||(k=O.activityIA4)===null||k===void 0||(K=k.reminders)===null||K===void 0)&&K.length)){var U;(0,n.c)(t.Li.Reminders,(U=O.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(N,t.N2)}return O&&O.activityIA4&&R});g.meta={name:"createSelector",key:"createSelectorgetActivityListReminders",description:O=>{var L,k,K;const N=(0,i.ZT)(O),R=o(t.Li.Reminders,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Reminders&&(!(O==null||(k=O.activityIA4)===null||k===void 0||(K=k.reminders)===null||K===void 0)&&K.length)){var U;(0,n.c)(t.Li.Reminders,(U=O.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(N,t.N2)}return O&&O.activityIA4&&R}};const c=(0,u.Ay)(O=>{var L,k,K;const N=(0,i.ZT)(O),R=o(t.Li.Reactions,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Reactions&&(!(O==null||(k=O.activityIA4)===null||k===void 0||(K=k.reactions)===null||K===void 0)&&K.length)){var U;(0,n.c)(t.Li.Reactions,(U=O.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(N,t.N2)}return O&&O.activityIA4&&R});c.meta={name:"createSelector",key:"createSelectorgetActivityListReactions",description:O=>{var L,k,K;const N=(0,i.ZT)(O),R=o(t.Li.Reactions,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Reactions&&(!(O==null||(k=O.activityIA4)===null||k===void 0||(K=k.reactions)===null||K===void 0)&&K.length)){var U;(0,n.c)(t.Li.Reactions,(U=O.activityIA4)===null||U===void 0?void 0:U.filterUnreads).maybeRefetch(N,t.N2)}return O&&O.activityIA4&&R}};const E=(0,u.Ay)(O=>{var L,k,K,N;const R=(0,i.ZT)(O),U=(0,r.S)({filter:t.Li.Huddles,isUnreadMode:!1,isFilteringRevampToggledOn:(0,s.kz)(O)}),x=((L=O.activityIA4)===null||L===void 0?void 0:L[U]).filter(F=>F.isUnread&&F.calendarEventPayload);if((O==null||(k=O.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===t.Li.Huddles&&(!(O==null||(K=O.activityIA4)===null||K===void 0||(N=K.huddles)===null||N===void 0)&&N.length)){var B;(0,n.c)(t.Li.Huddles,(B=O.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(R,t.N2)}return O&&O.activityIA4&&x||[]});E.meta={name:"createSelector",key:"createSelectorgetActivityListHuddlesForJustInTime",description:O=>{var L,k,K,N;const R=(0,i.ZT)(O),U=(0,r.S)({filter:t.Li.Huddles,isUnreadMode:!1,isFilteringRevampToggledOn:(0,s.kz)(O)}),x=((L=O.activityIA4)===null||L===void 0?void 0:L[U]).filter(F=>F.isUnread&&F.calendarEventPayload);if((O==null||(k=O.activityIA4)===null||k===void 0?void 0:k.selectedTabId)===t.Li.Huddles&&(!(O==null||(K=O.activityIA4)===null||K===void 0||(N=K.huddles)===null||N===void 0)&&N.length)){var B;(0,n.c)(t.Li.Huddles,(B=O.activityIA4)===null||B===void 0?void 0:B.filterUnreads).maybeRefetch(R,t.N2)}return O&&O.activityIA4&&x||[]}};const A=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O);if(!(O==null||(L=O.activityIA4)===null||L===void 0)&&L.filterUnreads){var K;(0,n.c)(t.Li.Unreads,(K=O.activityIA4)===null||K===void 0?void 0:K.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&O.activityIA4.unreads});A.meta={name:"createSelector",key:"createSelectorgetActivityListUnreads",description:O=>{var L;const k=(0,i.ZT)(O);if(!(O==null||(L=O.activityIA4)===null||L===void 0)&&L.filterUnreads){var K;(0,n.c)(t.Li.Unreads,(K=O.activityIA4)===null||K===void 0?void 0:K.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&O.activityIA4.unreads}};const d=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Apps,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Apps&&K.length){var N;(0,n.c)(t.Li.Apps,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K});d.meta={name:"createSelector",key:"createSelectorgetActivityListApps",description:O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Apps,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Apps&&K.length){var N;(0,n.c)(t.Li.Apps,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K}};const v=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Channels,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Channels&&K.length){var N;(0,n.c)(t.Li.Channels,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K});v.meta={name:"createSelector",key:"createSelectorgetActivityListChannels",description:O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Channels,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Channels&&K.length){var N;(0,n.c)(t.Li.Channels,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K}};const h=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Priority,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Priority&&K.length){var N;(0,n.c)(t.Li.Priority,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K});h.meta={name:"createSelector",key:"createSelectorgetActivityListPriority",description:O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Priority,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Priority&&K.length){var N;(0,n.c)(t.Li.Priority,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K}};const f=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Vip,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Vip&&K.length){var N;(0,n.c)(t.Li.Vip,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K});f.meta={name:"createSelector",key:"createSelectorgetActivityListVip",description:O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Vip,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Vip&&K.length){var N;(0,n.c)(t.Li.Vip,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K}};const y=(0,u.Ay)(O=>O&&O.activityIA4&&O.activityIA4.unreadVip);y.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadVip",description:O=>O&&O.activityIA4&&O.activityIA4.unreadVip};const I=(0,u.Ay)(O=>O&&O.activityIA4&&O.activityIA4.unreadOther);I.meta={name:"createSelector",key:"createSelectorgetActivityListUnreadOther",description:O=>O&&O.activityIA4&&O.activityIA4.unreadOther};const C=(0,u.Ay)(O=>O&&O.activityIA4&&O.activityIA4.other);C.meta={name:"createSelector",key:"createSelectorgetActivityListOther",description:O=>O&&O.activityIA4&&O.activityIA4.other};const D=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.EverythingElse,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.EverythingElse&&K.length){var N;(0,n.c)(t.Li.EverythingElse,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K});D.meta={name:"createSelector",key:"createSelectorgetActivityListEverythingElse",description:O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.EverythingElse,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.EverythingElse&&K.length){var N;(0,n.c)(t.Li.EverythingElse,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K}};const M=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.DMS,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.DMS&&K.length){var N;(0,n.c)(t.Li.DMS,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K});M.meta={name:"createSelector",key:"createSelectorgetActivityListDms",description:O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.DMS,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.DMS&&K.length){var N;(0,n.c)(t.Li.DMS,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K}};const P=(0,u.Ay)(O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Invitations,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Invitations&&(K!=null&&K.length)){var N;(0,n.c)(t.Li.Invitations,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K});P.meta={name:"createSelector",key:"createSelectorgetActivityListInvitations",description:O=>{var L;const k=(0,i.ZT)(O),K=o(t.Li.Invitations,O);if((O==null||(L=O.activityIA4)===null||L===void 0?void 0:L.selectedTabId)===t.Li.Invitations&&(K!=null&&K.length)){var N;(0,n.c)(t.Li.Invitations,(N=O.activityIA4)===null||N===void 0?void 0:N.filterUnreads).maybeRefetch(k,t.N2)}return O&&O.activityIA4&&K}};const S=(0,u.Ay)(O=>{var L;return O&&O.activityIA4&&((L=O.activityIA4)===null||L===void 0?void 0:L.multipleFilters)});S.meta={name:"createSelector",key:"createSelectorgetActivityMultipleFilters",description:O=>{var L;return O&&O.activityIA4&&((L=O.activityIA4)===null||L===void 0?void 0:L.multipleFilters)}};const b=(0,u.Ay)((O,L)=>{var k;return O&&O.activityIA4&&((k=O.activityIA4)===null||k===void 0?void 0:k[L])});b.meta={name:"createSelector",key:"createSelectorgetActivityForFilter",description:(O,L)=>{var k;return O&&O.activityIA4&&((k=O.activityIA4)===null||k===void 0?void 0:k[L])}}},5921578648:(W,T,e)=>{"use strict";e.d(T,{S:()=>r});var t=e(5235917009),s=e(5088972093),n=e(7114008777);const r=m(u=>{let{filter:i,isUnreadMode:o,isFilteringRevampToggledOn:a,mode:_,useMultipleFilters:l,preferredActivityFeedSortOrder:p}=u;return l&&i===n.Li.All?p===s.Ys.UNREADS||p===s.Ys.VIP?"other":"multipleFilters":_==="chrono_priority_only_unreads_v1"?"unreadVip":_==="priority_reads_and_unreads_v1"?"other":_==="priority_unreads_v1"?"unreadOther":o&&i===n.Li.EverythingElse?`unread${i.charAt(0).toUpperCase()+i.slice(1)}`:o&&a?`unread${(0,t.A)(i)}`:!a&&o?"unreads":i},"getFilterForSelectedMode")},2309387455:(W,T,e)=>{"use strict";e.d(T,{N:()=>_,v:()=>a});var t=e(9087248458),s=e(5088972093),n=e(3929724715),r=e(1407713935),u=e(8798294025),i=e(6795500641),o=e(9101533895);const a=m((l,p)=>{const g=p!=null&&p.item&&"message"in(p==null?void 0:p.item)?p==null?void 0:p.item.message.channel:void 0,c=(0,o.OL)(l,g),E=(0,i.MY)(l);return(p==null?void 0:p.item.type)==="dm"&&E&&((0,r.LI)(c)&&(0,u.e)(c)&&(E!=null&&E.includes((0,u.e)(c)||""))||(0,r.yz)(c)&&(0,t.A)((0,n.Ug)(c)||[],E).length>0)?!0:p&&"priority"in p},"isActivityFeedEntryVip"),_=m(function(l,p){let g=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"unreads",c;if(g===s.Ys.VIP){var E;c=(E=p.findIndex(f=>!(a(l,f)&&f.is_unread)))!==null&&E!==void 0?E:0}else{var A;c=(A=p.findIndex(f=>!f.is_unread))!==null&&A!==void 0?A:0}const d=c===-1?p.length:c,v=p.slice(0,d),h=p.slice(d);return[v,h]},"getSeparateLists")},7912281988:(W,T,e)=>{"use strict";e.d(T,{Q:()=>L});var t=e(4459831283),s=e(537208959),n=e(5088972093),r=e(7114008777),u=e(1545824888),i=e(9694536345),o=e(9648131521),a=e(3622175906),_=e(8851980998),l=e(337319621),p=e(3855029223),g=e(6695353875),c=e(9006747218),E=e(4577150972),A=e(5921578648),d=e(2309387455),v=e(6845763719),h=e(5728184452),f=e(6304789565),y=e(8847766420),I=e(3128675849),C=e(1496122061),D=e(6111266013),M=e(2047021170),P=e(3683482182),S=e(3193155968),b=e(7429662208);const O={"action-items":!0},L=(0,f.Ay)("Fetch user activity",function(k,K){let{limit:N,filter:R,mode:U,fetchNew:x,isUnreadMode:B,types:F,fetchForAgentforce:V}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{limit:20,mode:"chrono_reads_and_unreads",filter:r.Li.All};k((0,c.G3)(!0));const Y=K(),w=(0,y.ZT)(Y),G=(0,v.F)(Y),Ee=(0,v.S1)(Y),ne=(0,v.d5)(Y),se=(0,v.hT)(Y),ce=(0,v.lW)(Y),pe=(0,v.fY)(Y),ye=(0,g.kz)(Y),Ie=(0,s.zu)(Y),Se=(0,s.TF)(Y),le=(0,g.kQ)(Y),X=(0,s.Gg)(Y),J=(0,s.Lh)(Y),z=(0,s.ki)(Y),te=(0,s.P4)(Y),$=(0,t.YE)(Y),q=(0,b.e6)(Y),re=(0,v.HF)(Y),de=(0,v.rd)(Y),oe=(0,v.A7)(Y),De=(0,M.ty)(Y,"activity_feed_sort"),ae=(0,v.tw)(Y),Z=(0,A.S)({filter:R,isUnreadMode:B!==void 0?B:se,isFilteringRevampToggledOn:ye,mode:U,useMultipleFilters:J,preferredActivityFeedSortOrder:De});let ie=G==null?void 0:G[Z];ae&&(ie=ae.cursor);const Ce=F||(0,h.TO)(Z,{experimentIsActivityThreadV2GroupOn:Se,experimentIsVipThreadsEnabledGroupOn:le,experimentDMInActivityGroupOn:X,experimentActivityInboxGroupOn:J,experimentPriorityAppsBotsAgentsGroupOn:$,useMultipleFilters:J,mode:U,selectedFilters:re,fetchForAgentforce:V});return O!=null&&O[R]||!x&&!ie?(k((0,c.G3)(!1)),u.S.resolve()):((0,E.c)(R,se).markObjectsAsFresh(w,[r.N2]),k((0,o.X)({limit:N,reason:"fetchActivityFeed",types:Ce,mode:U,cursor:x?void 0:ie,archiveOnly:z&&ce,snoozeOnly:te&&pe,channelIds:de.length>0?de:void 0,channelSectionIds:oe.length>0?oe:void 0})).then(Re=>{var He,be;if(!Re.items)return;if(J&&q===S.k6.ActivityInbox&&Re.items.length<N&&(!(Re==null||(He=Re.response_metadata)===null||He===void 0)&&He.next_cursor)&&(Re==null||(be=Re.response_metadata)===null||be===void 0?void 0:be.next_cursor)!==ie){var Ue;k((0,c.xk)({cursor:Re==null||(Ue=Re.response_metadata)===null||Ue===void 0?void 0:Ue.next_cursor,isLoading:!0})),k((0,c.G7)(!1)),k(L({limit:N,filter:R,mode:U,fetchNew:x,isUnreadMode:B,types:Ce,fetchForAgentforce:V}))}else k((0,c.xk)(void 0)),k((0,c.G7)(!0));if(J&&R==="all"&&De===n.Ys.UNREADS){var me;const[j,ee]=(0,d.N)(Y,Re.items);k((0,c.VT)("unreadOther")),k((0,c.bl)({nextCursor:G.unreadOther,items:j,filter:"unreadOther",refreshItems:J&&x})),k((0,c.bl)({nextCursor:Re==null||(me=Re.response_metadata)===null||me===void 0?void 0:me.next_cursor,items:ee,filter:"other",refreshItems:J&&x}))}else if((Ie||J&&R==="all"&&De===n.Ys.VIP)&&(U==="priority_reads_and_unreads_v1"||U==="priority_unreads_v1")){var ve;const[j,ee]=(0,d.N)(Y,Re.items,n.Ys.VIP);k((0,c.VT)("unreadVip")),k((0,c.bl)({nextCursor:G==null?void 0:G.unreadVip,items:j,filter:"unreadVip",refreshItems:(X||Ie)&&x})),k((0,c.bl)({nextCursor:Re==null||(ve=Re.response_metadata)===null||ve===void 0?void 0:ve.next_cursor,items:ee,filter:J&&De===n.Ys.VIP?"other":Z,refreshItems:(X||Ie||J)&&x}))}else{var Fe;k((0,c.VT)(Z)),k((0,c.bl)({nextCursor:Re==null||(Fe=Re.response_metadata)===null||Fe===void 0?void 0:Fe.next_cursor,items:Re.items,filter:Z,refreshItems:(X||Ie||J)&&x}))}if(U==="chrono_unreads"){const j=(0,v.cJ)(K()),ee=(0,P.xY)(K());Re.items.length!==j&&k((0,i.O)()).then(je=>{k((0,I.Q)(je));const Te=(0,p.E)({state:Y}),Je=(0,l.Ay)({getState:K,label:"ACTIVITY_BADGING"});try{const Ae=Te.createSpan({name:"ia4client_activity_badge:mismatch",samplingOptions:{sampleType:_.tS.ALWAYS},options:{tags:{num_unread_activity_items:Re.items.length,old_activity_badge_count:j,new_channel_badges:JSON.stringify(je.channelBadges),old_channel_badges:JSON.stringify(ee)}}});Ae.close(),Te.reportSpans([Ae]),Je.info(`Activity badge mismatch. number of unread activity.feed items: ${Re.items.length} activityBadgeCount: ${j}: counts.channelBadges: ${JSON.stringify(je==null?void 0:je.channelBadges)} old channelBadges: ${JSON.stringify(ee)}`)}catch{}})}const Ke="slack-connect-fetch-invites-for-activity-feed";x&&!Ee&&["all","invitations","unreadAll","unreadInvitations"].includes(R)&&Re.items.some(j=>{let{item:ee}=j;return h.Oi.includes(ee.type)})&&k((0,D.p)({direction:a.D.Incoming,reason:Ke})).then(()=>k((0,c.xv)(!0))),x&&!ne&&["all","invitations","unreadAll","unreadInvitations"].includes(R)&&k((0,C.d)({reason:Ke})).then(()=>k((0,c.ae)(!0)))}).finally(()=>k((0,c.G3)(!1))))});L.meta={name:"createThunk",key:"createThunkfetchActivityFeed",description:"Fetch user activity"}},5728184452:(W,T,e)=>{"use strict";e.d(T,{Oi:()=>r,TO:()=>a,b8:()=>l,kV:()=>_});var t=e(9113979368),s=e(7174777686),n=e(6626377467);const r=["external_channel_invite","shared_workspace_invite","external_dm_invite"],u=["at_user","at_user_group","at_channel","at_everyone","keyword","list_record_assigned","list_user_mentioned","list_todo_notification"],i=["at_user","at_user_group","at_channel","at_everyone","keyword"],o=["at_user","at_user_group","at_channel","at_everyone","keyword","bot_dm_bundle"],a=m((p,g)=>{let{experimentIsActivityThreadV2GroupOn:c,experimentIsVipThreadsEnabledGroupOn:E,experimentDMInActivityGroupOn:A,experimentPriorityAppsBotsAgentsGroupOn:d,mode:v,useMultipleFilters:h,selectedFilters:f,experimentActivityInboxGroupOn:y,fetchForAgentforce:I}=g;const C="bot_dm_bundle";let D=[c?"thread_v2":"thread_reply","message_reaction","internal_channel_invite","list_record_edited",C,...u,...r];h&&!(0,t.A)(f)&&(D=[]);const M=p.toLowerCase(),P=v==="chrono_priority_only_reads_and_unreads_v1"||v==="chrono_priority_only_unreads_v1";if(!(v==="experimental_all_chrono_unreads_v1"||v==="experimental_all_chrono_reads_and_unreads_v1"||v==="experimental_priority_unreads_v1"||v==="experimental_everything_else_reads_and_unreads_v1"||v==="experimental_everything_else_unreads_v1"))return(v==="chrono_priority_only_reads_and_unreads_v1"||v==="chrono_priority_only_unreads_v1")&&(D=d?o:i,E&&(M.includes("vip")||M.includes("all"))&&(D=[...d?o:i,"thread_v2","internal_channel_invite"]),h&&!(0,t.A)(f)&&(D=[])),h&&(0,s.A)(f,"mentions")?P?D=d?o:i:D.push(...u):M.includes("mentions")&&(D=u),h&&(0,s.A)(f,"replies")&&D.push("thread_v2"),h&&(0,s.A)(f,"apps")&&!P?D.push(C):M.includes("apps")&&(D=[C]),M.includes("replies")&&(D=void 0),A&&M.includes("replies")&&!I&&(D=["thread_v2"]),h&&(0,s.A)(f,"reactions")&&D&&!P?D.push("message_reaction"):M.includes("reactions")&&(D=["message_reaction"]),M.includes("unreads")&&(D=[C,c?"thread_v2":"thread_reply","internal_channel_invite",...u,...r]),h&&(0,s.A)(f,"invitations")&&D?P?D.push("internal_channel_invite"):D.push("internal_channel_invite",...r):M.includes("invitations")&&(D=["internal_channel_invite",...r]),A&&D&&(!y&&["all","unreads","other","unreadother"].includes(M)||h&&(f!=null&&f.includes("dms")||(f==null?void 0:f.length)===0))&&D.push("dm"),A&&(M.includes("dms")||h&&f&&f.length===1&&f.includes("dms"))&&(D=["dm"]),D},"getActivityTypes"),_=m(p=>(p==null?void 0:p.type)==="section_bundle"&&"section"in p,"isSectionBundle"),l=m(p=>{let{items:g}=p;return(0,n.A)(g,c=>{if("key"in c&&(c==null?void 0:c.type)==="non_collapsible_header")return`item-by-feed-key-${c==null?void 0:c.key}`;if("ts"in c&&(c==null?void 0:c.type)==="channel_bundle")return`channel-bundle-${c==null?void 0:c.ts}`;if(_(c)){var E;return`section-bundle-${c==null||(E=c.section)===null||E===void 0?void 0:E.channelSection.id}`}const{messageTs:A,type:d,threadTs:v,channelId:h,invite:f,key:y}=c;return d==="message_reaction"?`reaction-${A}`:d==="thread_reply"||d==="thread_v2"?`thread-${v}`:d==="external_channel_invite"?`external-channel-invite-${f}`:d==="external_dm_invite"?`external-dm-invite-${f}`:d==="shared_workspace_invite"?`shared-workspace-invite-${f}`:d==="im"?`im${h}`:d==="dm"?`im${h}`:y!==void 0?`item-by-feed-key-${y}`:`mention-${A}`})},"getUniqueActivityItems")},1527627258:(W,T,e)=>{"use strict";e.d(T,{A:()=>bl});var t=e(1416482128),s=e(7763652800),n=e(3087712927),r=e(337319621),u=e(2028988448),i=e(2878685908),o=e(8520727613),a=e(2791814261),_=e(1535672935),l=e(6304789565),p=e(7384121809),g=e(6776011876);const c=(0,l.Ay)("maybeDisableDebugger side effect handler",()=>{if((0,i.Yj)()||(0,i.Cu)()||(0,i.$i)())return;const Oe=(0,p.Ry)();if((0,a.c)()&&!(0,o.A)(Oe,"disable_tinyspeck_slackdebug_enforcement","treatment")){(0,u.Jb)();return}(0,u.CP)()||(0,u.YF)()});c.meta={name:"createThunk",key:"createThunkmaybeDisableDebugger",description:"maybeDisableDebugger side effect handler"};const E=(0,g.kt)([_.setDidBootAllWorkspaces],c);var A=e(3571452446),d=e(9323322135),v;(function(Oe){Oe.DOGFOOD="dogfood",Oe.BETA="beta",Oe.PROD="prod"})(v||(v={}));var h;(function(Oe){Oe.BETA="beta",Oe.PROD="prod"})(h||(h={}));const f=m(Oe=>Oe!==v.PROD,"isPreRelease");var y;(function(Oe){Oe.NIGHTLY="nightly",Oe.ALPHA="alpha",Oe.ETA="eta",Oe.PILOT="pilot",Oe.BETA="beta",Oe.PROD="prod"})(y||(y={}));var I;(function(Oe){Oe.BETA="beta",Oe.PROD="prod"})(I||(I={}));const C=[y.ALPHA,y.ETA,y.BETA,y.PILOT,y.PROD],D=m(Oe=>Oe!==y.PROD,"release_channels_4_31_0_isPreRelease");var M=e(1583163054),P=e(4094753332),S=e(4096483543),b=e(8002659820),O=e(9012396182);const L=(0,l.Ay)("Add channels to the desktop search index when initial teams are booted",async()=>{if(!(0,P.y3)())return;const Oe=(0,p.Ry)(),he=(0,O.getBootedWorkspaces)(Oe);he.length&&await(0,b.jM)(he)});L.meta={name:"createThunk",key:"createThunkindexAllBootedTeamChannels",description:"Add channels to the desktop search index when initial teams are booted"};const k=(0,l.Ay)("Add channels to the desktop search index as additional teams are booted",async(Oe,he,xe)=>{if(!(0,P.y3)())return;const $e=he();if(!(0,O.didBootAllWorkspaces)($e))return;const tt=xe.payload;tt&&await(0,b.jM)([tt])});k.meta={name:"createThunk",key:"createThunkindexAdditionalBootedTeamChannels",description:"Add channels to the desktop search index as additional teams are booted"};const K=(0,g.kt)([_.setDidBootAllWorkspaces],L),N=(0,g.kt)([_.setWorkspaceBooted],k);var R=e(6533394955),U=e(3677514771);const x=(0,l.Ay)("maybeSetReleaseChannelOverrideHandler",(Oe,he,xe)=>{!(0,P.y3)()||!(0,d.g9M)()||V(he)});x.meta={name:"createThunk",key:"createThunkmaybeSetReleaseChannelOverrideHandler",description:"maybeSetReleaseChannelOverrideHandler"};const B=(0,g.kt)([_.setDidBootAllWorkspaces],x),F="nightly-promotion-state";function V(Oe){const he=(0,d.oQe)("environment","releaseChannel"),xe=(0,d.oQe)("settings","releaseChannelOverride");let $e=xe;if(!$e&&(he==="beta"||he==="alpha")&&($e=he),$e==="eta"&&($e=v.BETA),(0,S.A)()&&(0,P.dY)("4.31.150")){const tt=Oe();if((0,o.A)(tt,"ssb_dogfood_automatic_promotion","on")&&(0,a.c)()&&$e!==M.zS)try{window.localStorage.getItem(F)!=="2"&&($e=M.zS,window.localStorage.setItem(F,"1"))}catch{}$e==="alpha"&&($e=v.BETA)}$e!==xe&&((0,d.cGU)({name:"releaseChannelOverride",value:$e}),d.NjF.cache&&d.NjF.cache.clear())}m(V,"maybeSetReleaseChannelOverride");const Y=["domain","enterprise_id","enterprise_name","id","icon","name","url","variant"],w=(0,l.Ay)("Sync workspaces state with desktop",(Oe,he)=>{if(!(0,P.y3)())return;const xe=he(),$e=(0,O.getBootedWorkspaces)(xe),tt=(0,O.getAllWorkspaces)(xe);var _t;const It=(_t=(0,O.getWorkspacesMeta)(xe))!==null&&_t!==void 0?_t:{},ct=$e==null?void 0:$e.reduce((ln,Mn)=>{const es=(0,R.$D)(Mn),Yt={...(0,U._J)(es,Mn,!1),...It==null?void 0:It[Mn]};return ln[Mn]={...(0,A.A)(Yt,Y),order:tt.indexOf(Mn)},ln},{});(0,d.CIW)(ct)});w.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktop",description:"Sync workspaces state with desktop"};const G=(0,l.Ay)("Sync workspaces state with desktop when a new team has booted",(Oe,he)=>{if(!(0,P.y3)())return;const xe=he();(0,O.didBootAllWorkspaces)(xe)&&Oe(w())});G.meta={name:"createThunk",key:"createThunksyncWorkspacesToDesktopOnAdditionalTeamBoot",description:"Sync workspaces state with desktop when a new team has booted"};const Ee=(0,g.kt)([_.setDidBootAllWorkspaces,_.setWorkspaceOrder],w),ne=(0,g.kt)([_.setWorkspaceBooted],G),se=[Ee,ne,B,N,K];var ce=e(4932704503),pe=e(1378315125);const ye="DESKTOP-SIDE-EFFECT",Ie=(0,l.Ay)("logUpdateFromDesktop",(Oe,he,xe)=>{(0,r.Wo)().info(ye,"Update from desktop for keys ",Object.keys(xe.payload))});Ie.meta={name:"createThunk",key:"createThunklogUpdateFromDesktop",description:"logUpdateFromDesktop"};const Se=(0,g.kt)([pe.Ez],Ie),le=(0,l.Ay)("maybeHandleWindowFocusEvent",(Oe,he,xe)=>{(0,S.A)()&&xe.payload&&xe.payload.windows&&Oe((0,ce.pz)({isFocused:document.hasFocus()}))});le.meta={name:"createThunk",key:"createThunkmaybeHandleWindowFocusEvent",description:"maybeHandleWindowFocusEvent"};const X=(0,g.kt)([pe.Ez],le);var J=e(3398586081),z=e(8646192222),te=e(8439865561),$=e(5105455463);(0,J.A)(()=>{if((0,z.Nu)())try{window.matchMedia($.og).onchange=Oe=>{const he=(0,p.en)();he&&he.dispatch((0,te.N)(Oe.matches))}}catch(Oe){(0,r.Wo)().warn("ACCESSIBILITY-STORE","window.matchMedia hook failed; system high contrast theme will not be updated.",Oe)}})();const re=(0,l.Ay)("maybeUpdateShouldUseHighContrastColors",(Oe,he,xe)=>{if(!(0,z.Nu)()&&(0,z.hk)()){var $e,tt;const _t=xe==null||($e=xe.payload)===null||$e===void 0||(tt=$e.settings)===null||tt===void 0?void 0:tt.shouldUseHighContrastColors;_t!==void 0&&Oe((0,te.N)(_t))}});re.meta={name:"createThunk",key:"createThunkmaybeUpdateShouldUseHighContrastColors",description:"maybeUpdateShouldUseHighContrastColors"};const de=(0,g.kt)([pe.Ez],re);var oe=e(1703559452),De=e(1658558415),ae=e(7639461119),Z=e(8170643398),ie=e(6839188756),Ce=e(6954805277),Re=e(9196706215),He=e(7002741921),be=e(8276911661),Ue=e(9733150292);const me="workspace_switcher_awareness_for_invoice",ve=(0,J.A)(()=>(0,De.A)()?"treatment":(0,ae.B9)(me)),Fe=(0,J.A)(()=>(0,ae.fW)(me)),Ke=(0,J.A)(()=>ve()===ae.dw.Control),j=(0,J.A)(()=>{const Oe=Object.values((0,R.jm)());return(0,oe.A)(Oe,he=>{if(!he)return!1;const xe=he.getState(),$e=(0,be.cA)(xe),tt=(0,Z.yF)($e),_t=tt&&(0,Ce.KR)((0,Re.Ay)().toDate(),Re.Ay.unix(tt).toDate());return!!(_t&&_t>30)})}),ee=(0,J.A)(()=>{const Oe=Object.values((0,R.jm)());let he=0;return(0,oe.A)(Oe,xe=>{if(!xe)return!1;const $e=xe.getState();return(0,ie.qR)((0,U.H7)($e))&&!(0,ie.kA)((0,U.H7)($e))&&(he+=1),(0,ie.tc)((0,U.H7)($e))&&(he+=1),he>1})}),je=(0,J.A)(()=>{const Oe=Object.values((0,R.jm)());return(0,oe.A)(Oe,he=>{if(!he)return!1;const xe=he.getState();return!!(0,ie.kA)((0,U.H7)(xe))})}),Te=(0,J.A)(()=>Object.values((0,R.jm)()).length>1),Je=m(()=>{(0,Ue.q9)("hasSeenWorkspaceSwitcherAwareness",!0)},"markWorkspaceSwitcherAwarenessAsSeen"),Ae=m(()=>(0,Ue.W6)("hasSeenWorkspaceSwitcherAwareness"),"hasSeenWorkspaceSwitcherAwareness"),Me=m(()=>Fe()||ee()&&j(),"isEligibleForWorkspaceSwitcherAwareness"),we=m(()=>{Ae()&&setLocalConfigForKey("hasSeenWorkspaceSwitcherAwareness",!1)},"workspaceSwitcherAwarenessCleanupCallback"),Ge=m(Oe=>{let{toggleName:he,toggleGroup:xe}=Oe;return(0,He._)(he,xe,!1)&&je()&&j()&&Te()},"validateWorkspaceSwitcherAwarenessInvoiceTargetAudiance");var Qe=e(4766735965),fe=e(6290537170);const Ve=(0,l.Ay)("Opens workspace switcher if the user is part of experiment",(Oe,he)=>{const xe=he();(0,P.y3)()&&!Ae()&&!(0,fe.v8)(xe)&&Me()&&(Oe((0,Qe.A)()),Je())});Ve.meta={name:"createThunk",key:"createThunkmaybeToggleWorkspaceSwitcherForAwarenessThunk",description:"Opens workspace switcher if the user is part of experiment"};const Be=(0,g.kt)([_.setDidBootAllWorkspaces],Ve);var Ye=e(6766954308),et=e(2633701976),at=e(2047021170);const gt=(0,l.Ay)("Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref",(Oe,he)=>{var xe;const $e=he(),tt=(0,O.getFocusedWorkspace)($e),_t=(0,R.oK)(tt),It=_t==null||(xe=_t.getState)===null||xe===void 0?void 0:xe.call(_t);if(!It||(0,Ye.gR)($e)!==void 0)return;const ln=(0,at.ty)(It,"a11y_read_out_incoming_dm");if(ln!==void 0){Oe((0,et.p)(ln));return}Oe((0,et.p)(!0))});gt.meta={name:"createThunk",key:"createThunkmaybeMigrateDmAnnouncementPref",description:"Transition the a11y_read_out_incoming_dm user pref to its new corresponding client pref"};const Mt=(0,g.kt)([_.setDidBootAllWorkspaces],gt);var Bt=e(2517531287);const Ct=(0,l.Ay)("Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs",(Oe,he)=>{var xe;const $e=he(),tt=(0,O.getFocusedWorkspace)($e),_t=(0,R.oK)(tt),It=_t==null||(xe=_t.getState)===null||xe===void 0?void 0:xe.call(_t);if(!It)return;if((0,Ye.u$)($e)===""){const Mn=(0,at.ty)(It,"a11y_play_sound_for_incoming_dm_choice"),es=Mn??"";Oe((0,Bt.R)(es))}if((0,Ye.kd)($e)===""){const Mn=(0,at.ty)(It,"a11y_play_sound_for_sent_dm_choice"),es=Mn??"";Oe((0,Bt.r)(es))}});Ct.meta={name:"createThunk",key:"createThunkmaybeMigrateDmSoundPrefs",description:"Transition the a11y_play_sound_for_incoming_dm_choice and a11y_play_sound_for_sent_dm_choice user prefs to their new corresponding client prefs"};const Ft=(0,g.kt)([_.setDidBootAllWorkspaces],Ct);var kt=e(9113979368),Et=e(3297051565),mt=e.n(Et),Rt=e(1545824888),Ht=e(1874577777),ft=e(6439846314),Jt=e(5257368278),Zt=e(4294892493),Tt=e(3009309149);const Pt=(0,Tt.Ay)(Oe=>Oe&&Oe.persistedApiCalls);Pt.meta={name:"createSelector",key:"createSelectorgetPersistedApiCalls",description:Oe=>Oe&&Oe.persistedApiCalls};const Kt="OFFLINE",dn=(0,Jt.A)("Replay persisted API calls",function(Oe,he){let xe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Pt(he());const $e=he();if(!(0,Ht.A)($e)||(0,kt.A)(xe))return;const tt=(0,r.Ay)({state:$e});tt.info(Kt,"replayPersistedApiCalls called after workspace booted");const _t=Object.keys(xe).sort().map(It=>xe[It]);Rt.K.each(_t,It=>Oe((0,ft.apiCall)(It)).catch(ct=>{tt.error(Kt,`Error replaying ${It.method} (${It.persistKey})`,ct)}).finally(()=>{tt.info(Kt,`Clearing persisted payload for ${It.method} (${It.persistKey})`),Oe((0,Zt.M)(It.persistKey))}))});dn.meta={name:"createFetcher",key:"createFetcherreplayPersistedApiCalls",description:"Replay persisted API calls"},dn.propTypes=mt().object;const sn=(0,l.Ay)("triggerReplayPersistedApiCalls",(Oe,he,xe)=>{const $e=xe.payload;(0,R.Qw)($e,dn())});sn.meta={name:"createThunk",key:"createThunktriggerReplayPersistedApiCalls",description:"triggerReplayPersistedApiCalls"};const H=(0,g.kt)([_.setWorkspaceBooted],sn);var Ne=e(859310680),Pe=e(3855029223),qe=e(2872463257);const At=(0,l.Ay)("recordExperimentGroupsAsTrace side effect handler",(Oe,he,xe)=>{const $e=(0,p.Ry)(),tt=(0,O.getBootedWorkspaces)($e)||[];try{const _t=qe.nl.ALWAYS;tt.forEach(It=>{const ct=(0,R.$D)(It),ln=(0,Ne.xy)(ct),Mn=JSON.stringify(ln),es=(0,Pe.E)({state:ct}),Cs=es.createSpan({name:"experiment_groups",options:{tags:{experiment_groups:Mn}},samplingOptions:{sampleType:_t}});Cs.close(),es.reportSpans([Cs])})}catch(_t){(0,r.Wo)().warn("BOOT-TEAM","could not report experiment groups in trace",_t)}});At.meta={name:"createThunk",key:"createThunkrecordExperimentGroupsAsTrace",description:"recordExperimentGroupsAsTrace side effect handler"};const xt=(0,g.kt)([_.setDidBootAllWorkspaces],At);var jt=e(5613323535);const Xt=(0,l.Ay)("setAutoTracerTagProvider side effect handler",(Oe,he,xe)=>{jt.LI.isEnabled()&&jt.LI.setTagProvider($e=>$e?(0,Ne.go)($e):{})});Xt.meta={name:"createThunk",key:"createThunksetAutoTracerTagProvider",description:"setAutoTracerTagProvider side effect handler"};const en=(0,g.kt)([_.setDidBootAllWorkspaces],Xt);var Qt=e(8591884052),ht=e(2763437247),Nt=e(8749908259),on=e(9714187984),Vt=e(1224315998),qt=e(56548687),rn=e(2230482111),vn=e(5795074931);const Rn=(0,l.Ay)("Clog experiment related meta data for session toggles",(Oe,he,xe)=>{let{experimentNames:$e}=xe;const tt=(0,rn.v8)(rn.i$),_t=(0,d.sST)(),It=(0,p.en)(),ct=(0,O.getFocusedWorkspace)(It.getState()),ln=(0,O.getBootedWorkspaces)(It.getState()),Mn=ln.join(","),es=ln.map(Cs=>{var Yt;const fn=(Yt=(0,R.oK)(Cs))===null||Yt===void 0?void 0:Yt.getState();return(0,vn.WR)(fn)}).join(",");$e.forEach(Cs=>{const Yt=(0,ae.B9)(Cs);if(Yt===ht.dw.Control||Yt===ht.dw.Treatment||Yt===ht.dw.On){var fn;(0,qt.e)({getState:(fn=(0,R.oK)(ct))===null||fn===void 0?void 0:fn.getState}).track(Vt.EventId.CLIENT_SESSION_TOGGLE_CLOG,{contexts:{experimentName:Cs,experimentGroup:Yt,teamIds:Mn,userIds:es,visitorCookie:tt,clientId:_t}})}})});Rn.meta={name:"createThunk",key:"createThunkclogDataForSessionToggles",description:"Clog experiment related meta data for session toggles"};var Pn=e(229828696),In=e(306687250),Nn=e(9681594967),Jn=e(2325478352),ts=e(9272190578),Un=e(6209625934),bn=e(4761125736);function Ln(Oe,he){const xe=Object.values((0,R.jm)());for(const $e of xe){if(!$e)continue;const tt=$e.getState(),_t=(0,bn.KK)(tt,Oe);_t&&_t.log_exposures&&he===_t.group&&(0,Un.K)(Oe,_t,tt)}}m(Ln,"logExposuresForSession");function Gn(Oe,he){if((0,ht.SC)(Oe),he)try{he()}catch(xe){(0,r.Wo)().error(`caught error from cleanupCallback: ${xe}`)}}m(Gn,"rollbackToggle");function Zn(Oe){let{toggleName:he,toggleGroup:xe}=Oe;return(0,He._)(he,xe,!1)}m(Zn,"defaultToggleGroupMatcher");function ns(Oe,he){var xe;const $e=(xe=he==null?void 0:he.customToggleGroupMatcher)!==null&&xe!==void 0?xe:Zn,tt=(0,ht.M_)(Oe),_t=is(Oe,tt,$e);if(he.nonMemoized&&_t!==ht.dw.NoGroup&&Ln(Oe,_t),tt===null&&_t!==ht.dw.NoGroup){(0,ht.jc)(Oe,_t);return}_t===ht.dw.NoGroup&&(0,ht.GI)(tt)?(Gn(Oe,he==null?void 0:he.cleanupCallback),he.forceReloadOnRollback&&(0,ht.zt)(tt)&&(0,ts.As)({reason:`Rolling back ${Oe} toggle`,reasonKey:`rollback_${Oe}_toggle`})):_t!==tt?(0,ht.jc)(Oe,_t):_t===tt&&Ln(Oe,tt)}m(ns,"setToggleGroupForNextSession");function is(Oe,he,xe){const $e=xe({toggleName:Oe,toggleGroup:ht.dw.Treatment}),tt=xe({toggleName:Oe,toggleGroup:ht.dw.Control}),_t=xe({toggleName:Oe,toggleGroup:ht.dw.On}),It=xe({toggleName:Oe,toggleGroup:ht.dw.Off});return $e&&tt?he===ht.dw.Treatment?ht.dw.Treatment:he===ht.dw.Control?ht.dw.Control:Math.random()<.5?ht.dw.Treatment:ht.dw.Control:_t&&It?he===ht.dw.On?ht.dw.On:he===ht.dw.Off?ht.dw.Off:Math.random()<.5?ht.dw.On:ht.dw.Off:$e?ht.dw.Treatment:tt?ht.dw.Control:_t?ht.dw.On:It?ht.dw.Off:ht.dw.NoGroup}m(is,"getCurrentToggleGroup");const Xn={getCurrentToggleGroup:is};var vs=e(7530010356),as=e(8363626823);const qn=m(()=>{try{Nn.qV.deleteDatabase()}catch(Oe){Nn.qV.getLogger().error(`caught error from deleteDatabase: ${Oe}`)}},"objectStoreCallback"),ls={[Jn.Wv]:{cleanupCallback:qn},[Qt.f]:{},[In.z]:{},[Nt.i]:{},[Pn.H]:{},[vs.Dm]:{},[me]:{customToggleGroupMatcher:Ge},[as.A]:{},...on.n};(0,ht.k8)(ls);const un=(0,l.Ay)("setToggleGroupsForNextSession",(Oe,he,xe)=>{Oe(Rn({experimentNames:Object.keys(ls)})),Object.entries(ls).forEach($e=>{let[tt,_t]=$e;ns(tt,_t)})});un.meta={name:"createThunk",key:"createThunksetToggleGroupsForNextSession",description:"setToggleGroupsForNextSession"};const Fn=(0,g.kt)([_.setDidBootAllWorkspaces],un);var Gt=e(4250409994),Ut=e(2766373332);const ze=(0,l.Ay)("maybeToggleGlobalMuteShortcutHandler",(Oe,he,xe)=>(0,Ut.N$)(xe.payload));ze.meta={name:"createThunk",key:"createThunkmaybeToggleGlobalMuteShortcutHandler",description:"maybeToggleGlobalMuteShortcutHandler"};const Q=(0,g.kt)([Gt.Bk],ze),ue=(0,l.Ay)("updateLocalConfigOrderedTeamIds side effect handler",(Oe,he,xe)=>{const $e=(0,r.Wo)({label:Ue.o7}),tt=(0,p.Ry)(),_t=(0,O.getAllWorkspaces)(tt);(!_t||_t.length===0)&&$e.warn("Skipping update to orderedTeamIds, allWorkspaces is empty"),$e.info(`Updating orderedTeamIds to ${_t.join(",")}`),(0,Ue.q9)("orderedTeamIds",_t)});ue.meta={name:"createThunk",key:"createThunkupdateLocalConfigOrderedTeamIds",description:"updateLocalConfigOrderedTeamIds side effect handler"};const ge=(0,g.kt)([_.addWorkspace],ue);var ke=e(2250002584);const Xe=(0,l.Ay)("recordWssRailVisibility side effect handler",(Oe,he)=>{const xe=(0,ke.F)(),$e=he(),tt=(0,fe.v8)($e)?1:0,_t=xe.createMetricsTrace({samplingOptions:{sampleType:qe.nl.SESSION}});_t.store({name:"wss_rail:visible",value:tt}),xe.reportTrace(_t)});Xe.meta={name:"createThunk",key:"createThunkrecordWssRailVisibility",description:"recordWssRailVisibility side effect handler"};const nt=(0,g.kt)([_.setDidBootAllWorkspaces],Xe);var pt=e(3875705815),_e=e(6452473925),Le=e(6696292586);function We(){let Oe;return he=>he===Oe?!1:(Oe=he,!0)}m(We,"getDidUpdate");const Ze=We(),st=(0,l.Ay)("updateFromDesktop side effect handler",(Oe,he,xe)=>{var $e;const tt=he(),_t=O.getFocusedWorkspace===null||O.getFocusedWorkspace===void 0?void 0:(0,O.getFocusedWorkspace)(tt);if(!_t)return;const It=(0,R.$D)(_t);if(!(0,pt.V)(It))return;const ct=($e=xe.payload.settings)===null||$e===void 0?void 0:$e.zoomLevel;(0,Le.A)(ct)&&Ze(ct)&&(0,p.dispatchForClientStore)((0,_e.Q)(ct))});st.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const ut=(0,g.kt)([pe.Ez],st);var Lt=e(4134037340),tn=e(2413251042),En=e(6303140164);const Dn=(0,l.Ay)("Set zoom value for client before starting BBM",(Oe,he,xe)=>{const{error:$e}=(0,r.Wo)();(0,Lt.A)(he())||$e(new Error("you must call setZoom for a client store"));try{(0,Ue.q9)(En.UY,xe)}catch(tt){$e(new Error(`failed to store zoom in local storage: ${tt}`))}Oe((0,tn.x8)(xe))});Dn.meta={name:"createThunk",key:"createThunksetZoom",description:"Set zoom value for client before starting BBM"};function Bn(){let Oe;return he=>he===Oe?!1:(Oe=he,!0)}m(Bn,"side_effects_getDidUpdate");const On=Bn(),Wn=(0,l.Ay)("updateFromDesktop side effect handler",(Oe,he,xe)=>{var $e;const tt=he(),_t=O.getFocusedWorkspace===null||O.getFocusedWorkspace===void 0?void 0:(0,O.getFocusedWorkspace)(tt);if(!_t)return;const It=(0,R.$D)(_t);if((0,pt.V)(It))return;const ct=($e=xe.payload.settings)===null||$e===void 0?void 0:$e.zoomLevel;(0,Le.A)(ct)&&On(ct)&&(0,p.dispatchForClientStore)(Dn(ct))});Wn.meta={name:"createThunk",key:"createThunkonUpdateFromDesktop",description:"updateFromDesktop side effect handler"};const os=(0,g.kt)([pe.Ez],Wn),Tn=[E,Se,X,H,en,de,Fn,...se,xt,Q,Ft,Mt,nt,ge,os,Be,ut];var _n=e(4900557724);const rs=50,hs="recents";var Qn=e(8628205589),Es=e(2384831516);let ys;function Ms(Oe){ys&&(0,_n.GP)(ys),ys=(0,_n.BB)(()=>{ys=void 0,(0,Ue.q9)(hs,Oe)})}m(Ms,"persistRecents");function $s(){var Oe;return(Oe=(0,Ue.W6)(hs))!==null&&Oe!==void 0?Oe:[]}m($s,"loadRecents");const Ys=$s(),Hs=(0,Es.vy)({},Ys,{persistenceEnabled:!1,storeKey:"recents"}).on(Qn.Eg,(Oe,he)=>{let{entry:xe}=he;const $e=[xe,...Oe].slice(0,rs);return Ms($e),$e}).on(Qn.PP,(Oe,he)=>{let{entry:xe}=he;const $e=[xe,...Oe.slice(1)].slice(0,rs);return Ms($e),$e}).on(Qn.TP,Oe=>{const he=Oe.slice(0,1);return Ms(he),he});var Rs=e(3193155968),Us=e(9936094925);const Ds={[Rs.N2]:{index:0,previousIndex:null,stack:[]}},Ss={persistenceEnabled:!1,storeKey:"mainWindowHistory"},Qs=(0,Es.vy)({},Ds,Ss).on(Qn.Eg,(Oe,he)=>{let{windowId:xe,entry:$e}=he;return{...Oe,[xe]:(0,Us.wg)({windowState:Oe[xe],entry:$e})}}).on(Qn.jW,()=>Ds).on(Qn.cM,(Oe,he)=>{let{windowId:xe,index:$e,previousIndex:tt}=he;return{...Oe,[xe]:(0,Us.ds)({windowState:Oe[xe],index:$e,previousIndex:tt})}}).on(Qn.$E,(Oe,he)=>{let{windowId:xe,index:$e}=he;return{...Oe,[xe]:(0,Us.cB)({windowState:Oe[xe],index:$e})}}).on(Qn.PP,(Oe,he)=>{let{windowId:xe,entry:$e}=he;return{...Oe,[xe]:(0,Us.w9)({windowState:Oe[xe],entry:$e})}});(0,u.ul)("mainWindowHistory",{getState:()=>(0,p.Ry)().mainWindowHistory[Rs.N2]});var ot=e(7715417323);function Wt(){let{state:Oe,prevState:he,workspaces:xe=[],broadcastSelector:$e=ot.A,broadcastAction:tt=ot.A}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const _t=$e(Oe),It=$e(he);_t!==It&&xe.forEach(ct=>{(0,R.Qw)(ct,tt(_t))})}m(Wt,"maybeBroadcastStateToWorkspaces");const yt=Wt;var it=e(1527536225);const vt=(0,it.Ay)("Broadcast accessibility state to other stores",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t);return yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.VH)(ct),broadcastAction:ct=>(0,te.Jq)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.nQ)(ct),broadcastAction:ct=>(0,te.N)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.dF)(ct),broadcastAction:ct=>(0,te.KQ)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.jX)(ct),broadcastAction:ct=>(0,te.Tv)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.gb)(ct),broadcastAction:ct=>(0,te.C_)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.zm)(ct),broadcastAction:ct=>(0,te.XE)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.K9)(ct),broadcastAction:ct=>(0,te.Mq)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.u$)(ct),broadcastAction:ct=>(0,te.Sr)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.kd)(ct),broadcastAction:ct=>(0,te.mw)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.gR)(ct),broadcastAction:ct=>(0,te.Ap)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ye.u)(ct),broadcastAction:ct=>(0,te.V_)(ct)}),tt});vt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityMiddleware",description:"Broadcast accessibility state to other stores"};const St=vt;var bt=e(1004520977),zt=e(9234290540);const an=(0,it.Ay)("Broadcast accessibility persistent state to other stores",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t);return yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,zt.i)(ct),broadcastAction:ct=>(0,bt.w)(ct)}),tt});an.meta={name:"createMiddleware",key:"createMiddlewarebroadcastAccessibilityPersistentMiddleware",description:"Broadcast accessibility persistent state to other stores"};const gn=an;var hn=e(3749529250);const wt=(0,it.Ay)("Broadcast big button mode state to other stores",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t).filter(ct=>(0,z.mL)((0,R.$D)(ct)));return yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,pt.V)(ct),broadcastAction:ct=>ct?(0,hn.z)():(0,hn.K)()}),tt});wt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMMiddleware",description:"Broadcast big button mode state to other stores"};var cn=e(5107871484),kn=e(3029055053);const zn=(0,it.Ay)("Broadcast big button mode settings state to other stores",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t);return yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,kn.N6)(ct),broadcastAction:ct=>(0,cn.Yf)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,kn.lz)(ct),broadcastAction:ct=>(0,cn.w6)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,kn.Tr)(ct),broadcastAction:()=>(0,cn.Ol)()}),tt});zn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastBBMSettingsMiddleware",description:"Broadcast big button mode settings state to other stores"};var Vn=e(2456103428),$n=e(6728717861);const pn=(0,it.Ay)("Broadcast connectivity state to other stores",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t);return yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,$n.Pb)(ct),broadcastAction:ct=>(0,Vn.p9)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,$n.XQ)(ct),broadcastAction:ct=>(0,Vn.pm)(ct)}),tt});pn.meta={name:"createMiddleware",key:"createMiddlewarebroadcastConnectivityMiddleware",description:"Broadcast connectivity state to other stores"};const Hn=pn;var Sn=e(848813706),Cn=e(5223893135),_s=e(5095654950);const cs=(0,it.Ay)("Broadcast fullscreen state to other stores",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t).filter(ct=>(0,z.iB)((0,R.$D)(ct)));return yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Cn.V)(ct),broadcastAction:ct=>ct?(0,_s.J)():(0,Sn.sM)()}),tt});cs.meta={name:"createMiddleware",key:"createMiddlewarebroadcastFullscreenMiddleware",description:"Broadcast fullscreen state to other stores"};var Ls=e(4309043566);const rt=(0,Es.Ny)("Broadcasts overlays state from client store to workspace stores",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t);return yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>ct.overlays,broadcastAction:Ls.l}),tt});rt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastOverlaysMiddleware",description:"Broadcasts overlays state from client store to workspace stores"};var lt=e(9083290776);const dt=(0,it.Ay)("Broadcast workspaces state to other stores",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t),ct=$e&&(0,O.getBootedWorkspaces)($e),ln=(0,O.getAllWorkspaces)(_t),Mn=(0,O.getAllWorkspaces)($e),es=!Mn||ln.some((fn,An)=>fn!==Mn[An]),Cs=(0,O.getRecentlyFocusedWorkspaces)(_t),Yt=$e&&(0,O.getRecentlyFocusedWorkspaces)($e);return(ct!==It||es||Yt!==Cs)&&Dt(It,Cs),tt});dt.meta={name:"createMiddleware",key:"createMiddlewarebroadcastWorkspacesMiddleware",description:"Broadcast workspaces state to other stores"};function Dt(Oe,he){const xe=he[0];xe&&(Oe==null||Oe.forEach($e=>{(0,R.Qw)($e,(0,lt.K$)(he)),(0,R.Qw)($e,(0,lt.fw)(he))}),(0,d.ny2)(xe))}m(Dt,"broadcastFocusedWorkspaces");const $t=dt;var mn=e(252549317),nn=e(9042410435),yn=e(8736071954),xn=e(8719752487),jn=e(5470425448),ps=e(5071086688),Ts=e(6117529990);function Fs(Oe){switch((0,bn._Z)(Oe,"calls_transport_type")){case"udp":return["udp"];case"tls":return["tls"];case"tcp_tls":return["tcp","tls"];case"udp_tls":return["udp","tls"];case"disabled":default:return["udp","tcp","tls"]}}m(Fs,"getAllowedTurnTransportTypes");var fs=e(5332875232);function qo(){return!(!("MediaStreamTrackProcessor"in globalThis)||!("MediaStreamTrackGenerator"in globalThis)||!("OffscreenCanvas"in globalThis)||!("ImageBitmap"in globalThis)||!("createImageBitmap"in globalThis))}m(qo,"isHuddlesBackgroundWorkerSupported");const Xa=(0,r.Wo)({label:"HUDDLE-INIT-OPTIONS"}),er=m((Oe,he)=>{let{server:xe,isPrejoin:$e}=he;if(!Oe){Xa.error("teamState is not defined. Returning empty init options");return}const tt={};return tt.serverConfig={...xe,transportProtocols:Fs(Oe)},tt.isPrejoin=$e,tt.useChimeSdkExp=(0,Ts.OV)(Oe),tt.useDevicesExp=(0,fs.ZI)(Oe),tt.useVideoUplinkPolicy=(0,fs.Jf)(Oe),tt.useH264BaselineScreenshare=(0,Ts.OV)(Oe)&&(0,fs.RM)(Oe),tt.useH264Baseline=(0,Ts.OV)(Oe)&&(0,fs.er)(Oe),tt.useAv1Screenshare=(0,fs.Cu)(Oe),tt.huddlesJukeboxEnabled=(0,fs.lV)(Oe),tt.disableAudioRedundancy=(0,fs.JQ)(Oe),tt.expectAv1EncoderFreeze=(0,fs.Gh)(Oe),tt.useSimulcast=!1,tt.usePriorityDownlinkPolicy=!(0,P.gm)(),tt.disableVp9=(0,fs.lH)(Oe),tt.useHuddlesFilterWorker=qo()&&(0,fs.lz)(Oe),Xa.info("returning init options: ",tt),tt},"getSdkInitOptions");var Js=e(6246464105),Pa=e(5137668119),qa=e(2709531527),tr=e(164795489),Sa=e(3300324857),nr=e(4708000837),eo=e(1371073900),to=e(2457673737),aa=e(6664301844),sr=e(6310192986),Zs=e(7366481123),ar=e(5253428843),Kn=e(3065433701),Ra=e(5378147939);const no=(0,l.Ay)("Resolve a pending huddle",(Oe,he,xe)=>(0,Ra.A)().resolvePendingJoin(xe));no.meta={name:"createThunk",key:"createThunkresolvePendingHuddle",description:"Resolve a pending huddle"};const or=no;var oa=e(2778217221),rr=e(6694086724),us=e(5286203919),ir=e(9548972574),lr=e(3474336343),cr=e(3263322402),so=e(3977512448);const La=(0,l.Ay)("update client huddle membership timers join",(Oe,he)=>{const xe=he(),$e=(0,r.Ay)({state:xe}),tt=(0,p.Ry)(),_t=(0,us.Ak)(tt),It=(0,lr.Wg)(xe,{tip:so.ml.Huddles});if(!_t){$e.warn(oa.o7,"no active huddle found, cannot update state to together or alone");return}const ct=(0,ir.Sx)(xe);if(ct===0){(0,Ra.A)().setAloneInHuddle();return}ct>0&&(It&&Oe((0,cr._A)(!0)),(0,Ra.A)().setOthersInHuddle(),Oe((0,rr.e)({clearOnEndedCallback:!0,logContext:"on-peer-joined"})))});La.meta={name:"createThunk",key:"createThunkupdateAloneOrTogetherInHuddle",description:"update client huddle membership timers join"};var Yn=e(3134334389),dr=e(4332857818),ur=e(862210999),_r=e(8645544190),mr=e(8921478798),hr=e(6066192332),Er=e(735940183),pr=e(3288567831),vr=e(8847766420),wn=e(387328355),ra=e(6839101721),fr=e(5323669031),va=e(2825968873),gr=e(3094144240),Ar=e(9477894139),ba=e(9506008067),ao=e(4413566926),ka=e(9391594207),yr=e(4844578989),Xs=e.n(yr),Tr=e(3534324375),oo=e(4954329752);let Cr=m(class extends Yn.PureComponent{static getDerivedStateFromProps(he,xe){return he.mediaStream!==xe.currentMediaStream?he.mediaStream&&xe.currentMediaStream&&he.mediaStream.id===xe.currentMediaStream.id?{currentMediaStream:he.mediaStream,isFlipped:he.isFlipped,isCurrentMediaStreamReady:!1,prevMediaStream:void 0}:{prevMediaStream:he.mediaStream?xe.currentMediaStream:void 0,currentMediaStream:he.mediaStream,isFlipped:he.isFlipped,wasFlipped:xe.isFlipped,isCurrentMediaStreamReady:!1}:null}componentDidMount(){this.setupMedia()}componentDidUpdate(){this.setupMedia()}componentWillUnmount(){const he=this.videoRef.current,xe=this.prevVideoRef.current;he&&(he.removeEventListener("canplay",this.onCanPlay),he.removeEventListener("pause",this.onPause),he.removeEventListener("resize",this.onResize)),xe&&(xe.removeEventListener("canplay",this.onCanPlay),xe.removeEventListener("pause",this.onPause),xe.removeEventListener("resize",this.onResize)),this.props.onVideoReady&&this.props.onVideoReady(!1)}onCanPlay(){const{currentMediaStream:he}=this.state,xe=he&&he.getVideoTracks()[0];this.isDataStopped&&xe&&xe.readyState==="live"&&(this.props.onVideoReady&&this.props.onVideoReady(!0),this.setState(()=>({isCurrentMediaStreamReady:!0})))}onPause(he){this.state.currentMediaStream&&he.target.srcObject instanceof MediaStream&&he.target.srcObject.id===this.state.currentMediaStream.id&&(this.props.onVideoReady&&this.props.onVideoReady(!1),this.isDataStopped=!0)}setupMedia(){const{currentMediaStream:he,prevMediaStream:xe}=this.state,$e=this.videoRef.current,tt=this.prevVideoRef.current;$e&&($e.muted=!0,$e.srcObject!==he&&($e.addEventListener("canplay",this.onCanPlay),$e.addEventListener("pause",this.onPause),$e.addEventListener("resize",this.onResize),$e.srcObject=he||null)),tt&&(tt.muted=!0,tt.srcObject!==xe&&(tt.removeEventListener("canplay",this.onCanPlay),tt.removeEventListener("pause",this.onPause),tt.removeEventListener("resize",this.onResize),tt.srcObject=xe||null))}onResize(){const he=this.videoRef.current;he&&(this.props.isSharingScreen?he.style.objectFit="contain":he.style.objectFit=he.videoWidth>he.videoHeight?"cover":"contain")}render(){const{className:he,isFlipped:xe,refToForward:$e}=this.props,{currentMediaStream:tt,prevMediaStream:_t,isCurrentMediaStreamReady:It,wasFlipped:ct}=this.state;return Yn.createElement(Yn.Fragment,null,!It&&_t&&Yn.createElement("video",{key:_t&&_t.id,className:Xs()("p-calls_video",he,{flipped:ct}),ref:this.prevVideoRef,autoPlay:!0}),Yn.createElement("video",{className:Xs()("p-calls_video",he,{flipped:xe,hidden:!It}),ref:(0,oo.P)(this.videoRef,$e),autoPlay:!0,key:tt&&tt.id}))}constructor(he){super(he),this.prevVideoRef=Yn.createRef(),this.videoRef=Yn.createRef(),this.isDataStopped=!0,this.state={isCurrentMediaStreamReady:!1,isFlipped:!1,wasFlipped:!1},this.onCanPlay=this.onCanPlay.bind(this),this.onPause=this.onPause.bind(this),this.onResize=this.onResize.bind(this)}},"CallsOriginalVideoElement");function Ua(){return Ua=Object.assign||function(Oe){for(var he=1;he<arguments.length;he++){var xe=arguments[he];for(var $e in xe)Object.prototype.hasOwnProperty.call(xe,$e)&&(Oe[$e]=xe[$e])}return Oe},Ua.apply(this,arguments)}m(Ua,"_extends");const Ir=m((Oe,he)=>{const xe=(0,wn.JZ)(Oe,he.id);return{mediaStream:xe.mediaStream,isFlipped:(0,wn.fy)(xe)&&!xe.isScreenshareEnabled,isSharingScreen:xe.isScreenshareEnabled}},"mapStateToProps"),Dr=(0,ka.N)(Ir)(Cr),Or=Yn.forwardRef((Oe,he)=>Yn.createElement(Dr,Ua({},Oe,{refToForward:he})));var Mr=e(3150724727),Pr=e(6308822),Na=e(7299481592),Sr=e(5956851410),Rr=e(6909784049),Lr=e(8558782493),br=e(2843556239),ro=e(1975685771);function kr(Oe,he){const xe=Math.min(he.width,he.height*Oe),$e=Math.min(he.height,he.width/Oe);return{top:he.top+(he.height-$e)/2,left:he.left+(he.width-xe)/2,width:xe,height:$e}}m(kr,"getLargestRectForAspectRatioCenteredWithinRect");let Ba=m(class extends Yn.PureComponent{detectDifference(he,xe){return Math.abs(he-xe)>1}componentDidMount(){var he;(0,va.tZ)("GUEST-DRAW-WINDOW").info("Guest draw window mounted"),(0,Lr.k)(Vt.EventId.CALLS_GUEST_DRAW_ACTIVATED,{}),(he=this.context.windowRef.deref())===null||he===void 0||he.addEventListener("resize",this.onResize),(0,ro.Z)(this.videoRef.current,"Expected videoRef to be bound after mounting")&&(this.props.addEventListeners&&this.props.addEventListeners(this.videoRef,this.onResize,!0),this.onResize(),this.resizeTimeout=window.setTimeout(()=>{this.onResize()},4e3),this.videoRef.current.dispatchEvent(new Event("resize")))}componentDidUpdate(he){let{isVideoReady:xe}=he;!xe&&this.props.isVideoReady&&this.onResize()}componentWillUnmount(){var he;this.props.removeEventListeners&&this.props.removeEventListeners(this.videoRef,this.onResize,!0),(he=this.context.windowRef.deref())===null||he===void 0||he.removeEventListener("resize",this.onResize),window.clearTimeout(this.resizeTimeout)}onResize(){if(!(0,ro.Z)(this.videoRef.current,"Expected videoRef to be bound on resize"))return;const he=this.videoRef.current;!he||he.videoHeight===0||this.setState(()=>({videoRect:kr(he.videoWidth/he.videoHeight,he.getBoundingClientRect())}))}render(){const he=Yn.Children.only(this.props.children),xe=Yn.cloneElement(he,{ref:(0,oo.N)(this.videoRef,he)});return Yn.createElement(Yn.Fragment,null,xe,this.state.videoRect&&Yn.createElement(Sr.u,{ref:this.drawRenderRef,isHidden:!this.props.isScreenShareEnabled,targetRect:this.state.videoRect}),this.props.isDrawEnabled&&this.state.videoRect&&Yn.createElement(Rr.o,{ref:this.drawTargetRef,targetRect:this.state.videoRect}))}constructor(he){super(he),this.videoRef=Yn.createRef(),this.drawTargetRef=Yn.createRef(),this.drawRenderRef=Yn.createRef(),this.onResize=this.onResize.bind(this),this.state={}}},"GuestDraw");Ba.contextType=br._0,Ba.displayName="GuestDraw";const Ur=m((Oe,he)=>{const xe=(0,wn.gl)(Oe);if(!xe)throw Error("Guest draw should not be mounted without an active peer");const $e=(0,wn.JZ)(Oe,xe);return{isDrawEnabled:!!$e.isScreenshareEnabled&&!!$e.isDrawEnabled,isScreenShareEnabled:!!$e.isScreenshareEnabled}},"guest_draw_mapStateToProps"),io=(0,ka.N)(Ur)(Ba),Nr={isVideoReady:!1};let lo=m(class extends Yn.PureComponent{onVideoReady(he){this.setState(xe=>({...xe,isVideoReady:he}))}renderVideo(){const{id:he,renderVideo:xe,tileId:$e}=this.props;if(xe)return xe(this.isVideoEnabledAndReady());if(!he){(0,Na.M)("Cannot render video without a peer id");return}return Yn.createElement(io,{isVideoReady:this.state.isVideoReady},Yn.createElement(Or,{id:he,tileId:$e,onVideoReady:this.onVideoReady,className:Xs()({hidden:!this.state.isVideoReady})}))}renderImage(){const{isSpinning:he,prefCompliantUserName:xe,member:$e}=this.props;return Yn.createElement("div",{className:Xs()({hidden:this.state.isVideoReady})},Yn.createElement("div",{className:"p-active_speaker__member_image_wrapper"},Yn.createElement(Mr.Ay,{className:Xs()({"p-active_speaker__member_image--spinning":he}),size:180,userId:$e&&$e.id,isInteractive:!1,tabIndex:-1}),he&&Yn.createElement("div",{className:"p-active_speaker__member_image__spinner_wrapper"},Yn.createElement(Pr.A,{color:"white"}))),Yn.createElement("div",{className:"p-active_speaker__member_name"},xe))}isVideoEnabledAndReady(){const{isVideoEnabled:he,isVideoEnabledAndReady:xe}=this.props;return xe?xe(he):!!(he&&this.state.isVideoReady)}render(){const{isVideoEnabled:he}=this.props,xe=Xs()("p-active_speaker",{"p-active_speaker--video_enabled":this.isVideoEnabledAndReady()});return Yn.createElement("div",{"data-qa":"active-speaker",className:xe},he&&this.renderVideo(),!this.isVideoEnabledAndReady()&&this.renderImage())}constructor(he){super(he),this.state=Nr,this.onVideoReady=this.onVideoReady.bind(this)}},"ActiveSpeaker");lo.displayName="ActiveSpeaker";function Br(Oe,he){const xe=(0,be.nv)(Oe,he),$e=(0,Tr.sE)(Oe,xe);return{member:xe,prefCompliantUserName:$e}}m(Br,"mapCommonMemberState");const xr=m((Oe,he)=>{const xe=(0,wn.JZ)(Oe,he.id),$e=xe.isCameraEnabled,tt=xe.isScreenshareEnabled,_t=(0,wn.fy)(xe)?(0,vn.WR)(Oe):xe.userId;return{tileId:he.tileId,isVideoEnabled:$e||tt,isSpinning:xe.isConnected===!1,...Br(Oe,_t)}},"active_speaker_mapStateToProps"),Wr=(0,ka.N)(xr)(lo);var Fr=e(1429018002);function xa(){return xa=Object.assign||function(Oe){for(var he=1;he<arguments.length;he++){var xe=arguments[he];for(var $e in xe)Object.prototype.hasOwnProperty.call(xe,$e)&&(Oe[$e]=xe[$e])}return Oe},xa.apply(this,arguments)}m(xa,"with_free_willy_guest_draw_extends");const co=m(Oe=>m(class extends Yn.PureComponent{addEventListeners(xe,$e,tt){xe.current&&(xe.current.addEventListener("canplay",$e),tt&&xe.current.addEventListener("resize",$e))}removeEventListeners(xe,$e,tt){xe.current&&(xe.current.removeEventListener("canplay",$e),tt&&xe.current.removeEventListener("resize",$e))}render(){return Yn.createElement(Oe,xa({},this.props,{addEventListeners:this.addEventListeners,removeEventListeners:this.removeEventListeners}))}},"WithFreeWillyGuestDraw"),"withFreeWillyGuestDraw");co.displayName="withFreeWillyGuestDraw";const Kr=co;function Wa(){return Wa=Object.assign||function(Oe){for(var he=1;he<arguments.length;he++){var xe=arguments[he];for(var $e in xe)Object.prototype.hasOwnProperty.call(xe,$e)&&(Oe[$e]=xe[$e])}return Oe},Wa.apply(this,arguments)}m(Wa,"with_free_willy_active_speaker_extends");const wr=Kr(io),uo=m(Oe=>m(class extends Yn.PureComponent{isVideoEnabledAndReady(xe){return xe}renderVideo(xe){const{id:$e,tileId:tt}=this.props;if(!$e){(0,Na.M)("Cannot render video without a peer id");return}return Yn.createElement(wr,{isVideoReady:xe},Yn.createElement(Fr.A,{id:$e,tileId:tt,shouldAttachStream:!0,"data-qa":"free-willy-peer-video-element"}))}render(){return Yn.createElement(Oe,Wa({},this.props,{renderVideo:this.renderVideo,isVideoEnabledAndReady:this.isVideoEnabledAndReady}))}constructor(xe){super(xe),this.isVideoEnabledAndReady=this.isVideoEnabledAndReady.bind(this),this.renderVideo=this.renderVideo.bind(this)}},"WithFreeWillyActiveSpeaker"),"withFreeWillyActiveSpeaker");uo.displayName="withFreeWillyActiveSpeaker";const Hr=uo;var Vr=e(6122756707),jr=e(6084388622),_o=e(1049642794),Gr=e(5043394918);const zr=new ao.Ay("huddles"),mo=m(()=>{const Oe=(0,Vr.wA)(),he=(0,ba.d4)($e=>!!(0,wn.WQ)($e,"isMicrophoneEnabled")),xe=(0,Yn.useCallback)(()=>{Oe((0,_o.A)(!he))},[he,Oe]);return Yn.createElement("div",{className:"p-huddle_screen_viewer__mic_button_container"},Yn.createElement(jr.Ay,{className:Xs()("p-huddle_screen_viewer__mic_button p-huddle_screen_viewer__mic_button--mute",{"p-huddle_screen_viewer__mic_button--active":he}),onClick:xe,type:"outline",role:"switch",size:"large","aria-label":zr.t("Microphone"),"aria-checked":he,disabled:!self},Yn.createElement(Gr.A,{peerId:"self",isMicrophoneEnabled:he,allowMuteIconAnimation:!0})))},"HuddleScreenViewerMicButton");mo.displayName="HuddleScreenViewerMicButton";const $r=mo,Yr=Hr(Wr),Qr=new ao.Ay("huddles");function ho(Oe){const{peerId:he,isError:xe}=Oe,$e=(0,ba.d4)(wn.vz),tt=(0,ba.d4)(Mn=>he?(0,wn.JZ)(Mn,he):null);let _t;if($e){var It,ct;_t=tt!=null&&tt.isScreenshareEnabled?tt==null||(It=tt.tileIds)===null||It===void 0||(ct=It.screenshare)===null||ct===void 0?void 0:ct.tileId:null}const ln=Yn.createElement("span",{className:"p-huddle_screen_viewer__error"},Qr.t("The screen share has ended."));return Yn.createElement("div",{className:"p-huddle_screen_viewer__container"},he&&!xe&&Yn.createElement(Yr,{id:he,tileId:_t}),xe?ln:Yn.createElement($r,null))}m(ho,"HuddleScreenViewer"),ho.displayName="HuddleScreenViewer";var Jr=e(4385664584),Zr=e(6165267850);const gs={childWindow:void 0,childWindowToken:void 0,container:void 0,containerTileId:void 0},Ul=null,Eo=new Er.A("huddles"),Xr=m(Oe=>{var he;const xe=Oe==null||(he=Oe.document)===null||he===void 0?void 0:he.querySelectorAll(".p-huddle_screen_viewer__container"),$e=xe?xe.length:0,tt=(0,va.tZ)("SCREENSHARE-VIEWER-APP");$e>1?tt.info("Multiple containers rendered in viewing window. Shared stream may be hidden from view."):tt.info(`${$e} containers rendered in viewing window.`)},"logRenderedApplicationsCount"),fa=m(()=>{const{container:Oe,childWindow:he}=gs;Oe&&(dr.unmountComponentAtNode(Oe),gs.containerTileId=void 0,gs.container=void 0),he&&(he.removeEventListener("beforeunload",fa),he.close(),gs.childWindow=void 0,gs.childWindowToken=void 0)},"closeScreenShareWindow"),qr=(0,l.Ay)("Launch the window that renders screen share media",async(Oe,he,xe)=>{var $e,tt,_t;const It=he(),ct=(0,r.Ay)({state:It}),ln=xe!=null&&xe.screenSharePeerId?xe.screenSharePeerId:(0,wn.vN)(It);let Mn=!1;const{container:es,containerTileId:Cs}=gs;ln||(ct.warn(oa.o7,"lastRemoteScreensharePeerId is not found"),Mn=!0);const Yt=(0,wn.JZ)(It,ln||""),fn=Yt.userId?(0,mr.I)(It,Yt.userId):"";let An=Eo.t("Screen share");fn&&(An=Eo.t("{memberName} screen share",{memberName:(0,pr.A)(fn)}));const ss={...gr.P,backgroundColor:"black",title:An,type:"huddle-call-screen-share"},ds=(0,p.Ry)();(0,us.Ak)(ds)||(ct.warn(oa.o7,"no active huddle found"),Mn=!0);const As=(Yt==null||($e=Yt.tileIds)===null||$e===void 0||(tt=$e.screenshare)===null||tt===void 0?void 0:tt.tileId)||0;(0,p.dispatchForClientStore)((0,ra.cn)({tileId:As}))||(ct.warn(oa.o7,"video tile does not have stream"),Mn=!0);const na=!gs.childWindow||gs.childWindow.closed;if(na&&(0,P.y3)()){const{window:ia,windowToken:Ea}=await(0,_r.wK)("",ss);gs.childWindow=ia,gs.childWindowToken=Ea}else na&&(gs.childWindow=window.open("",An,"toolbar=no,location=no,directories=no,status=no,menubar=no,scrollbars=yes,resizable=yes,width=780,height=480")||void 0);if(!gs.childWindow){ct.warn(oa.o7,"No child window available. Exiting screen share window launch");return}const ma=(0,vr.ZT)(It);gs.childWindow.document&&(gs.childWindow.document.body.style.background="black");const ws=(0,Zr.O)(gs.childWindow);if(na&&(gs.childWindow.addEventListener("beforeunload",fa),window.addEventListener("beforeunload",fa)),!(es&&Cs===As)||na){gs.containerTileId=As;const ia=(0,R.oK)(ma);gs.container=await(0,fr.s)(gs.childWindow,Yn.createElement(Jr.A,{store:ia},Yn.createElement(hr.D,{windowRef:ws},Yn.createElement(Ar.A,{shouldStopHuddle:!0},Yn.createElement(ho,{peerId:ln,isError:Mn})))),{useContainer:!0})}const ha=(_t=gs.childWindow)===null||_t===void 0?void 0:_t.browserWindowId;ha?(0,d.hN0)(ha):(0,ur.A)(gs.childWindow.focus)&&gs.childWindow.focus(),Xr(gs.childWindow)});qr.meta={name:"createThunk",key:"createThunklaunchScreenShareWindow",description:"Launch the window that renders screen share media"};var ga=e(9712681361),ei=e(5761207079);const po=(0,l.Ay)("alerts if a user joins the huddle and the current user has hidden that user",(Oe,he,xe)=>{let{userId:$e}=xe;const tt=he();(0,ei.a)(tt,$e)&&Oe((0,Zs.Iw)(Zs.vT.HiddenUserJoinedHuddle))});po.meta={name:"createThunk",key:"createThunkmaybeAlertHiddenUserJoinedHuddle",description:"alerts if a user joins the huddle and the current user has hidden that user"};var Ps=e(462591818),vo=e(9640070512),fo=e(2527782504),go=e(5954792826),bs=e(700984029),Aa=e(1829947126),ti=e(9009528296),ni=e(1289024643),la=e(9853754481),Ao=e(9372409576);const yo=(0,l.Ay)("Send call analytics to the server",(Oe,he,xe)=>{const $e=he().activeCall;let tt;if(xe&&xe.callId?tt=xe.callId:$e&&$e.id&&(tt=$e.id),!tt){(0,Na.M)("There should be an active call in progress in order to send analytics.");return}const _t=si(new Ao.$.calls.analytics.Report(xe.stats),he()),It=Ao.$.calls.analytics.Report.encode(_t).finish(),ct=String.fromCharCode(...It);return Oe((0,ft.apiCall)({method:"screenhero.rooms.postAnalytics",args:{room:tt,analytics:btoa(ct)},reason:"calls-analytics"}))});yo.meta={name:"createThunk",key:"createThunksendAnalytics",description:"Send call analytics to the server"};function si(Oe,he){const xe=Oe;return xe.recv=Oe.recv.map($e=>{if($e.peerId){const tt=(0,wn.C1)(he,$e.peerId);if(tt){const _t=$e;_t.userId=tt.userId}}if($e.peerIdString){const tt=(0,wn.C1)(he,$e.peerIdString);if(tt){const _t=$e;_t.userId=tt.userId}}return $e}),xe.recv=xe.recv.filter($e=>!!$e.userId),Oe}m(si,"mapPeerIdsToUserIds");var ca=e(415910655),ai=e(5046160032),Fa=e(8935621861),oi=e(4914127094),To=e(7344959578);const ri=(0,r.Wo)({label:"SEND-MEETING-EVENTS-LOGGER"}),Co="screenhero.rooms.proxyMeetingEvents",Io=(0,l.Ay)("Send meeting events to the server",async(Oe,he,xe)=>{let $e;try{$e=JSON.stringify(xe.events)}catch(ct){ri.error(ct.message);return}const{metrics:tt,teamId:_t}=ii();if(xe.isUnloading){const ct={app:xe.app,meeting_id:xe.meetingId,media_region:xe.mediaRegion,attendee_id:xe.attendeeId,call_id:xe.callId,ua:window.navigator.userAgent,event_type:"calls-chime-events",encoding:"none",events:$e,preferred_media_region:await Fa.A.getInstance().getNearestChimeMediaRegion(_t),audio_connected_time:(tt==null?void 0:tt.audioConnectedTime)||0,first_presence_time:(tt==null?void 0:tt.firstPresenceTime)||0,rooms_join_time:(tt==null?void 0:tt.roomsJoinTime)||0,sdk_initialized_time:(tt==null?void 0:tt.sdkInitializedTime)||0,chime_attendee_presence_time:xe.attendeePresenceDuration?xe.attendeePresenceDuration:(tt==null?void 0:tt.attendeePresenceDuration)||0,chime_meeting_start_time:xe.meetingStartDuration?xe.meetingStartDuration:(tt==null?void 0:tt.meetingStartDuration)||0,chime_signaling_open_time:xe.signalingOpenDuration?xe.signalingOpenDuration:(tt==null?void 0:tt.signalingOpenDuration)||0,chime_ice_gathering_time:xe.iceGatheringDuration?xe.iceGatheringDuration:(tt==null?void 0:tt.iceGatheringDuration)||0,voice_focus_init_time:(tt==null?void 0:tt.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(tt==null?void 0:tt.credentialsToVoiceFocusInitializedTime)||0};return(0,ai.A)({apiUrl:"/api/",method:Co,token:(0,oi.F)(he()),versionTs:(0,To.HF)(),versionUid:(0,To.X3)(),args:ct})?Rt.S.resolve():Rt.S.reject(new Error("sendMeetingEvents: beacon failed"))}const It=xe.isEnding?{app:xe.app,meeting_id:xe.meetingId,media_region:xe.mediaRegion,attendee_id:xe.attendeeId,events:$e,call_id:xe.callId,preferred_media_region:await Fa.A.getInstance().getNearestChimeMediaRegion(_t),audio_connected_time:(tt==null?void 0:tt.audioConnectedTime)||0,first_presence_time:(tt==null?void 0:tt.firstPresenceTime)||0,rooms_join_time:(tt==null?void 0:tt.roomsJoinTime)||0,sdk_initialized_time:(tt==null?void 0:tt.sdkInitializedTime)||0,chime_attendee_presence_time:xe.attendeePresenceDuration?xe.attendeePresenceDuration:(tt==null?void 0:tt.attendeePresenceDuration)||0,chime_meeting_start_time:xe.meetingStartDuration?xe.meetingStartDuration:(tt==null?void 0:tt.meetingStartDuration)||0,chime_signaling_open_time:xe.signalingOpenDuration?xe.signalingOpenDuration:(tt==null?void 0:tt.signalingOpenDuration)||0,chime_ice_gathering_time:xe.iceGatheringDuration?xe.iceGatheringDuration:(tt==null?void 0:tt.iceGatheringDuration)||0,voice_focus_init_time:(tt==null?void 0:tt.voiceFocusInitializedTime)||0,creds_to_voice_focus_init_time:(tt==null?void 0:tt.credentialsToVoiceFocusInitializedTime)||0}:{app:xe.app,meeting_id:xe.meetingId,media_region:xe.mediaRegion,attendee_id:xe.attendeeId,events:$e,call_id:xe.callId};return Oe((0,ft.apiCall)({method:Co,args:It,reason:"calls-chime-events"}))});Io.meta={name:"createThunk",key:"createThunksendMeetingEvents",description:"Send meeting events to the server"};function ii(){const Oe=(0,p.Ry)(),{teamId:he}=(0,us.Qn)(Oe)||{};return{metrics:(0,ca.s2)(),teamId:he}}m(ii,"getCallMetricsAndTeamId");const li=(0,r.Wo)({label:"HANDLE-MEETING-EVENTS-LOGGER"}),Do=(0,l.Ay)("Handle Chime meeting events",(Oe,he,xe)=>{let{events:$e,callId:tt,meetingId:_t,mediaRegion:It,attendeeId:ct,isUnloading:ln,isEnding:Mn}=xe;const es=ci($e);!(0,kt.A)(es)&&!ln&&!Mn&&(0,ca.jm)(es),Oe(Io({events:$e,app:"huddles",callId:tt,meetingId:_t,mediaRegion:It,attendeeId:ct,isUnloading:ln,isEnding:Mn,attendeePresenceDuration:es.attendeePresenceDuration,signalingOpenDuration:es.signalingOpenDuration,iceGatheringDuration:es.iceGatheringDuration,meetingStartDuration:es.meetingStartDuration}))});Do.meta={name:"createThunk",key:"createThunkhandleMeetingEvents",description:"Handle Chime meeting events"};function ci(Oe){const he={};return Oe.forEach(xe=>{let{message:$e}=xe;try{const ln=JSON.parse($e);switch(ln.name){case"attendeePresenceReceived":var tt;he.attendeePresenceDuration=(tt=ln.attributes)===null||tt===void 0?void 0:tt.attendeePresenceDurationMs;break;case"meetingStartSucceeded":var _t,It,ct;he.signalingOpenDuration=(_t=ln.attributes)===null||_t===void 0?void 0:_t.signalingOpenDurationMs,he.iceGatheringDuration=(It=ln.attributes)===null||It===void 0?void 0:It.iceGatheringDurationMs,he.meetingStartDuration=(ct=ln.attributes)===null||ct===void 0?void 0:ct.meetingStartDurationMs;break;default:break}}catch(ln){li.error("Invalid JSON in meeting event",ln)}}),he}m(ci,"parseMeetingEventMetrics");const di=Do;var Ks=e(6758774099),ui=e(4988306802);const Oo=(0,l.Ay)("Process AWS transcript event",(Oe,he,xe)=>{var $e;if((0,aa.VW)(xe))return;const tt=xe.results[0];if(!(tt!=null&&tt.resultId)||!(0,ui.TP)(he()))return;const _t=($e=tt.alternatives[0])===null||$e===void 0?void 0:$e.items;if(!(_t!=null&&_t.length)){Oe((0,Ks.h2)({resultId:tt.resultId,transcriptions:[]}));return}const It=[];_t.forEach(ct=>{var ln;const Mn=It[It.length-1],es=(0,go.l)((ln=ct.attendee)===null||ln===void 0?void 0:ln.externalUserId);es&&(ct.type===aa.E9.PUNCTUATION?Mn&&(Mn.content=`${Mn.content}${ct.content}`,Mn.endTimeMs=ct.endTimeMs):It.push({memberId:es,timestampMs:ct.startTimeMs,endTimeMs:ct.endTimeMs||Date.now(),content:ct.content}))}),Oe((0,Ks.h2)({resultId:tt.resultId,transcriptions:It}))});Oo.meta={name:"createThunk",key:"createThunkprocessAwsTranscription",description:"Process AWS transcript event"};const _i=Oo;var qs=e(8783285437),mi=e(6155974509);const Mo=(0,l.Ay)("Maybe disable the screen share",async(Oe,he)=>{const xe=(0,va.tZ)("CALLS-REDUX");he().peers.self.isScreenshareEnabled&&(xe.info("Attempted to turn off screen sharing"),Oe((0,wn.kT)({id:"self",isScreenshareEnabled:!1,selectedScreenId:void 0}))),(0,mi.a)()});Mo.meta={name:"createThunk",key:"createThunkdisableScreenShareIfEnabled",description:"Maybe disable the screen share"};var ea=e(7578434623),Os=e(9680914051),Vs=e(1990810649),Po=e(5145584581),hi=e(9365970888),ya=e(7592559649),Ka=e(6251210828),So=e(7439555287),Ei=e(6470070112),pi=e(8556787853);let vi=m(class{onPeerMuted(he,xe){this.dispatch((0,wn.kT)({id:he,isMicrophoneEnabled:!xe}))}onPeerJoined(he,xe){if(this.maybeRecordFirstPresenceTime(),xe&&he){this.dispatch((0,wn.Uu)({id:he,userId:xe,isMicrophoneEnabled:!0})),this.dispatch(La());const $e=(0,wn.Ng)(this.store.getState());(0,p.dispatchForClientStore)((0,Gt.Rr)({isDrawEnabled:$e.isDrawEnabled||!1})),this.dispatch((0,Ks.U$)({type:qs.v.JOIN,memberId:xe,timestampMs:Date.now()})),this.maybeRemoveUserAsPending(xe),this.dispatch(po({userId:xe}))}}onPeerLeft(he){var xe;const $e=(xe=(0,wn.jB)(this.store.getState(),he))===null||xe===void 0?void 0:xe.userId;$e&&(this.callLogger.info(`Peer left the huddle. userId=${$e} peerId=${he}`),this.dispatch((0,Ks.U$)({type:qs.v.LEAVE,memberId:$e,timestampMs:Date.now()}))),this.dispatch((0,wn.xx)(he)),this.dispatch(La())}onSelfJoined(){const he=this.recordTiming(Os.qK);this.maybeRecordFirstPresenceTime(),this.dispatch(or(he)),(0,p.dispatchForClientStore)((0,Gt.wr)())}onSelfLeft(){this.dispatch((0,Zs.LL)(Kn.vT.HiddenUserJoinedHuddle))}onNewActiveSpeaker(he){this.dispatch((0,wn.FX)(he))}onPeerReacji(he,xe,$e,tt,_t){var It;const ct=this.store.getState(),ln=_t?(0,pi.Ay)(ct,{url:_t}):void 0;this.dispatch((0,wn._x)({peerId:he,emoji:xe,isEmoji:$e,reactionType:tt,emojiUrl:ln}));const Mn=(It=(0,wn.jB)(this.store.getState(),he))===null||It===void 0?void 0:It.userId;Mn&&this.dispatch((0,Ks.U$)({type:qs.v.SEND_REACTION,memberId:Mn,timestampMs:Date.now(),emoji:xe}))}onPeerMuteRequest(he,xe){xe===this.selfAttendeeId&&(this.dispatch((0,_o.A)(!1)),this.dispatch((0,Kn.CE)({alert:Kn.vT.PeerMuteRequest,peerId:he})),this.callLogger.info(`Peer muted self microphone : peerId:${he}`))}onError(he,xe){let $e;xe===aa.b9[aa.b9.AudioJoinedFromAnotherDevice]?$e=ga.M6.AudioJoinedFromAnotherDevice:xe===aa.b9[aa.b9.MeetingEnded]&&($e=(0,Ei.ew)((0,So.KA)().getState())?ga.M6.ChimeMeetingEndedFromTimeLimit:ga.M6.ChimeMeetingEnded),this.dispatch((0,ar.A)({terminalState:$e||he})),this.callLogger.info(`tearDown executed: terminalState: ${he}, statusCodeName: ${xe} tearDownState: ${$e}`)}onClogError(he){}onMeetingSessionInitialized(){this.recordTiming(Os.W_);const he=(0,ea.Cy)({state:this.store.getState()}),xe=he.measure(Os.Bq,Os.CY);he.count(Os.CY,xe),(0,ca.jm)({sdkInitializedTime:xe})}onSelfPermissionUpdated(he,xe){this.callLogger.info(`Received permission update from type:${xe}, isDenied: ${he}`);let $e;(0,P.y3)()?$e=xe===yn.lW.Microphone?Kn.vT.NoSystemAudio:Kn.vT.NoSystemVideo:$e=xe===yn.lW.Microphone?Kn.vT.NoBrowserAudioPermission:Kn.vT.NoBrowserVideoPermission,he?this.dispatch((0,Kn.CE)({alert:$e})):this.dispatch((0,Kn.Gu)($e))}onSelfVideoTileUpdate(he){if(!he.tileId)return;const xe=(0,wn.Ng)(this.getState());if(!he.isContent&&!xe.isCameraEnabled)return;if(!(0,wn.vz)(this.getState()))this.dispatch((0,Ks.U$)({type:qs.v.SCREENSHARE_START,memberId:(0,vn.WR)(this.getState()),timestampMs:Date.now()})),this.dispatch((0,wn.kT)({id:"self",tileId:he.tileId,isScreenshareEnabled:!!he.isContent}));else if(he.isContent){var tt,_t;this.dispatch((0,Ks.U$)({type:qs.v.SCREENSHARE_START,memberId:(0,vn.WR)(this.getState()),timestampMs:Date.now()}));const It=(0,wn.JC)(this.getState());((tt=xe.tileIds)===null||tt===void 0||(_t=tt.screenshare)===null||_t===void 0?void 0:_t.tileId)!==he.tileId&&It!==Vs.cM.Screenshare&&this.dispatch((0,Po.x)({peerId:"self",contentViewType:Vs.cM.None,contentViewConfig:{}})),this.dispatch((0,wn.kT)({id:"self",tileId:he.tileId,isScreenshareEnabled:!!he.isContent}))}else this.dispatch((0,wn.kT)({id:"self",tileId:he.tileId,isCameraEnabled:!0}))}onPeerVideoTileUpdate(he,xe){if(!xe.tileId)return;const $e=xe.boundExternalUserId&&(0,go.l)(xe.boundExternalUserId);xe.isContent&&$e&&(this.callLogger.info(`Peer screenshare started: userId=${$e}`),this.dispatch((0,Ks.U$)({type:qs.v.SCREENSHARE_START,memberId:$e,timestampMs:Date.now()}))),this.dispatch((0,wn.BD)({id:he,tileId:xe.tileId,isContent:xe.isContent,isPaused:xe.paused}))}onVideoTileRemoved(he){var xe,$e;const tt=this.store.getState(),_t=(0,wn.v2)(tt,he);_t&&(this.callLogger.info(`Peer screenshare stopped: userId=${_t}`),this.dispatch((0,Ks.U$)({type:qs.v.SCREENSHARE_STOP,memberId:_t,timestampMs:Date.now()}))),this.dispatch((0,wn.Qr)({tileId:he})),fa();const It=(0,wn.Ng)(tt);((xe=It.tileIds)===null||xe===void 0||($e=xe.screenshare)===null||$e===void 0?void 0:$e.tileId)===he&&It.contentViewType===Vs.cM.Screenshare&&this.dispatch((0,Po.x)({peerId:"self",contentViewType:Vs.cM.None,contentViewConfig:{}}))}onVideoTileWillPause(he){this.dispatch((0,wn.K3)({tileId:he}))}onVideoTileWillUnpause(he){this.dispatch((0,wn.XS)({tileId:he}))}onDeviceAccessApproved(he){switch(he){case Ps.mT.MICROPHONE:{(0,P.y3)()?(this.dispatch((0,Kn.Gu)(Kn.vT.NoSystemAudio)),this.dispatch((0,bs.er)())):(this.dispatch((0,Kn.Gu)(Kn.vT.NoBrowserAudioPermission)),this.dispatch((0,bs.ZY)()));break}case Ps.mT.CAMERA:{(0,P.y3)()?(this.dispatch((0,Kn.Gu)(Kn.vT.NoSystemVideo)),this.dispatch((0,bs.NH)())):(this.dispatch((0,Kn.Gu)(Kn.vT.NoBrowserVideoPermission)),this.dispatch((0,bs.in)()));break}default:}}onCheckSystemMediaAccess(he){switch(he){case Ps.mT.MICROPHONE:{this.dispatch((0,bs.tG)()),this.dispatch((0,Kn.CE)({alert:Kn.vT.NoSystemAudio}));break}case Ps.mT.CAMERA:{this.dispatch((0,bs.Yr)()),this.dispatch((0,Kn.CE)({alert:Kn.vT.NoSystemVideo}));break}case Ps.mT.SCREEN:{this.dispatch((0,bs.J3)()),this.dispatch((0,Kn.CE)({alert:Kn.vT.NoSystemScreenShare}));break}default:}}onBrowserMediaDeviceAccessDenied(he){switch(this.callLogger.error(`Self ${he} device access denied`),he){case Ps.mT.MICROPHONE:{this.dispatch((0,bs.cH)()),this.dispatch((0,Kn.CE)({alert:Kn.vT.NoBrowserAudioPermission}));break}case Ps.mT.CAMERA:{this.dispatch((0,bs.px)()),this.dispatch((0,Kn.CE)({alert:Kn.vT.NoBrowserVideoPermission}));break}default:}}onStartSessionTimeout(){}onSetNoMediaInput(he){switch(he){case Ps.mT.MICROPHONE:{this.dispatch((0,Kn.CE)({alert:Kn.vT.NoUserAudioStream}));break}case Ps.mT.CAMERA:{const xe=(0,hi.ly)(this.getState());if((0,p.dispatchForClientStore)((0,Gt.WM)({setVideoEnabled:!1})),!(0,P.y3)()&&xe)break;this.dispatch((0,Kn.CE)({alert:Kn.vT.NoUserVideoStream}));break}default:}}onClearNoMediaInput(he){switch(he){case Ps.mT.MICROPHONE:{this.dispatch((0,Kn.Gu)(Kn.vT.NoUserAudioStream));break}case Ps.mT.CAMERA:{this.dispatch((0,Kn.Gu)(Kn.vT.NoUserVideoStream));break}default:}}onSetNoAudioOutput(he){switch(he){case Ps.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Kn.CE)({alert:Kn.vT.NoAudioOutputAudioElementError}));break}case Ps.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Kn.CE)({alert:Kn.vT.NoAudioOutputAudioLevelError}));break}default:}}onClearNoAudioOutput(he){switch(he){case Ps.NS.AUDIO_ELEMENT_ERROR:{this.dispatch((0,Kn.Gu)(Kn.vT.NoAudioOutputAudioElementError));break}case Ps.NS.AUDIO_LEVEL_ERROR:{this.dispatch((0,Kn.Gu)(Kn.vT.NoAudioOutputAudioLevelError));break}default:}}onSelfConnected(){this.callLogger.info("Self connected to chime media server"),this.dispatch((0,wn.kT)({id:"self",isConnected:!0,noInternet:!1}))}onSelfDisconnected(){this.callLogger.info("Self disconnected from chime media server"),this.dispatch((0,wn.kT)({id:"self",isConnected:!1})),ps.A.publish({type:jn.lx.NetworkDisconnect,update:{peerId:"self"}})}onSelfConnectionQualityChanged(he,xe){this.callLogger.info(`${he} audio packet loss changed to: ${xe}`)}onPeerConnected(he){this.callLogger.info(`peer connnected to chime media server ${he}`),this.dispatch((0,wn.E3)({id:he,isConnected:!0}))}onPeerDisconnected(he){this.callLogger.info(`peer disconnected from chime media server ${he}`),this.dispatch((0,wn.E3)({id:he,isConnected:!1}))}onPeerConnectionQualityChanged(he,xe,$e){}onSelfMediaStreamChanged(he){}onNewPeerMediaStream(he,xe){}onScreenThumbnails(he){}onUpdatedSelfAudioLevel(he){Aa.A.publish("self",he/la.Ep),ti.A.publish(he/la.Ep);const xe=this.store.getState();(0,fs.lV)(xe)&&Aa.A.publishAll("self",he/la.Ep)}onUpdatedPeerAudioLevels(he){const xe=this.store.getState();Object.entries(he).forEach(tt=>{let[_t,It]=tt;Aa.A.publish(_t,It/la.Ep)}),(0,fs.lV)(xe)&&Object.entries(he).forEach(tt=>{let[_t,It]=tt;Aa.A.publishAll(_t,It/la.Ep)})}onPeerCameraActive(he,xe){const $e=he==="self";this.callLogger.info(`${$e?"Self":`Peer (${he})`} camera turned ${xe?"on":"off"}`),this.dispatch((0,wn.kT)({id:he,isCameraEnabled:xe}))}onPeerScreenShareActive(he,xe){const $e=he==="self";this.callLogger.info(`${$e?"Self":`Peer (${he})`} screenshare ${xe?"started":"stopped"}`)}onPeerDrawMessage(he,xe){Sa.A.publish({id:he,...xe})}onPeerDrawEnabled(he,xe){this.dispatch((0,wn.kT)({id:he,isDrawEnabled:xe}))}onMediaStats(he,xe){this.dispatch(yo({stats:he,callId:xe}))}onAppMetrics(he){let{appMetrics:xe,clientMetricReport:$e,screenshareRtcStats:tt}=he;const _t=(0,sr.Ay)({state:this.getState(),appMetrics:xe});ps.A.publish({type:jn.lx.AppMetrics,update:{huddleStateSnapshot:_t,clientMetricReport:$e,screenshareRtcStats:tt}})}onDevicesUpdated(he){this.dispatch((0,bs.Fb)(he))}onOutputDeviceChanged(he){this.callLogger.info(`Self audio output device changed: device: ${he.id}`),this.dispatch((0,bs.AS)(he))}onDeviceTypeBlocked(he){}onTokenRefreshRequest(){}onScreenShareStopped(){this.dispatch(Mo());const xe=(0,p.en)().getState(),$e=(0,us.Ak)(xe);!$e||(0,kt.A)($e)||$e.huddleState===ga.RJ.ENDING||this.dispatch((0,vo.H)({focusKey:fo.Ay.HUDDLE_SIDEBAR_FOOTER}))}onScreenShareStarted(){this.callLogger.info("Self screenshare started"),this.dispatch((0,vo.H)({focusKey:fo.Ay.HUDDLE_SIDEBAR_FOOTER}))}onSetNoOrLowInputAudioLevel(){ps.A.publish({type:jn.lx.NoAudio,update:{direction:"send",noAudio:!0}})}onClearNoOrLowInputAudioLevel(){ps.A.publish({type:jn.lx.NoAudio,update:{direction:"send",noAudio:!1}})}onSetNoOrLowOutputAudioLevel(){ps.A.publish({type:jn.lx.NoAudio,update:{direction:"recv",noAudio:!0}})}onClearNoOrLowOutputAudioLevel(){ps.A.publish({type:jn.lx.NoAudio,update:{direction:"recv",noAudio:!1}})}onAudioVideoDidStartConnecting(){this.recordTiming(Os.dk)}onStart(){this.recordTiming(Os.Nh)}onAudioVideoDidStart(){this.recordTiming(Os.ck),(0,p.dispatchForClientStore)((0,Gt._U)(Date.now()))}onAudioVideoDidStop(){const he=(0,p.en)(),xe=(0,us.cN)(he==null?void 0:he.getState()),$e=Date.now(),tt=$e-xe;(0,p.dispatchForClientStore)((0,Gt.bV)($e)),(0,p.dispatchForClientStore)((0,Gt.qr)(tt))}onMaxTileSizeUpdated(he){this.dispatch((0,wn.l$)(he))}onInit(){this.recordTiming(Os.cP)}onVoiceFocusLoaded(){const he=(0,ea.Cy)({state:this.store.getState()}),xe=he.measure(Os.aN,Os.pz);he.count(Os.pz,xe),this.recordTiming(Os.qb)}onVoiceFocusStartLoading(){(0,ea.Cy)({state:this.store.getState()}).mark(Os.aN)}recordTiming(he){const xe=(0,ea.Cy)({state:this.store.getState()}),$e=xe.measure(Os.qr,he);return xe.count(he,$e),$e}onMeetingEvents(he,xe,$e,tt,_t,It,ct){this.dispatch(di({events:_t,callId:tt,meetingId:he,mediaRegion:xe,attendeeId:$e,isUnloading:It,isEnding:ct}))}onMaybeVoiceFocusInitialized(he){const $e=(0,ea.Cy)({state:this.store.getState()}).measure(Os.Bq,Os.bv);(0,ca.jm)({voiceFocusInitializedTime:he,credentialsToVoiceFocusInitializedTime:$e})}onScreenShareError(he){switch(this.callLogger.error(`an error occurred while initiating a screenshare: type: ${he}`),he){case Ps.lD.NOT_FOUND_ERROR:{this.dispatch((0,Kn.CE)({alert:Kn.vT.SSNotFoundError}));break}case Ps.lD.NOT_READABLE_ERROR:{this.dispatch((0,Kn.CE)({alert:Kn.vT.SSNotReadableError}));break}case Ps.lD.ERROR:{this.dispatch((0,Kn.CE)({alert:Kn.vT.ScreenShareError}));break}default:break}}onNoiseSuppressionCPUThrottled(){this.dispatch((0,Kn.CE)({alert:Kn.vT.NoiseSuppressionCPUThrottled}))}onTranscriptionEvent(he){this.dispatch(_i(he))}setSelfAttendeeId(he){this.selfAttendeeId=he}maybeRecordFirstPresenceTime(){this.firstPresenceTimeMs>0||(this.firstPresenceTimeMs=this.recordTiming(Os.dP),(0,ca.jm)({firstPresenceTime:this.firstPresenceTimeMs}))}onAudioInputTrackMuted(){this.dispatch((0,Kn.CE)({alert:Kn.vT.AudioInputTrackMuted}))}onAudioInputTrackUnMuted(){this.dispatch((0,Kn.Gu)(Kn.vT.AudioInputTrackMuted))}onJukeboxRequest(he){if(!(0,fs.lV)(this.getState()))return;const $e=this.isDj(),_t=(0,Ka.Rl)(this.getState())[he];!$e||!_t||((0,p.dispatchForClientStore)((0,Gt.bk)({song:_t})),(0,p.dispatchForClientStore)((0,Gt._u)({song:_t})),(0,p.dispatchForClientStore)((0,Gt.WY)(_t)))}onJukeboxStopRequest(){!(0,fs.lV)(this.getState())||!this.isDj()||((0,p.dispatchForClientStore)((0,Gt.JM)()),(0,p.dispatchForClientStore)((0,Gt._u)({song:void 0})))}isDj(){var he;const xe=(0,vn.WR)(this.getState()),$e=(0,p.en)(),tt=(he=(0,us.Qn)($e==null?void 0:$e.getState()))===null||he===void 0?void 0:he.callId,_t=(0,ya.gV)(this.getState(),{callId:tt}),It=(0,ya.gV)(this.getState(),{callId:tt,userId:xe});return!_t||!!It}maybeRemoveUserAsPending(he){const xe=(0,p.en)(),$e=(0,us.E9)(xe==null?void 0:xe.getState());$e&&this.dispatch((0,ni.r_)({callId:$e,userId:he}))}onContentShareDetailsUpdate(he,xe,$e){this.dispatch((0,wn.kT)({id:he,isDrawEnabled:xe,contentShareSource:$e}))}constructor(he){this.firstPresenceTimeMs=0,this.callLogger=(0,va.Jt)("HUDDLE-DISPATCHER"),this.selfAttendeeId=void 0,this.dispatch=he.dispatch,this.getState=he.getState,this.store=he}},"HuddleActionDispatcher");var fi=e(1890776492),da=e(4066669727),js=e(8778137680),gi=e(7434063642),Ro=e(4156857608);let Ot,wa,Gs;const Ai="HUDDLE-SDK",yi="HUDDLE-CLIENT-MIDDLEWARE",ks=(0,r.Wo)({label:yi}),Lo=m(Oe=>{Oe.id==="self"&&(Ot==null||Ot.sendDrawMessage(Oe))},"onPeerDrawPublish");function Ha(Oe,he,xe,$e){const tt=(0,us.E9)(Oe),_t=(0,us.l4)(Oe),It=_t?(0,R.oK)(_t):void 0,ct=It?It.getState():void 0,ln=ct?(0,vn.WR)(ct):void 0;tt&&ln&&(It==null||It.dispatch(he({user:ln,channel:tt,fieldValue:xe,experimentHuddlesMultiDeviceGroupOn:$e})))}m(Ha,"maybeDispatchAwarenessUpdate");function ua(Oe,he,xe){const $e=(0,us.E9)(Oe),tt=(0,us.l4)(Oe),_t=tt?(0,R.oK)(tt):void 0,It=_t?_t.getState():void 0,ct=It?(0,vn.WR)(It):void 0;$e&&ct&&(_t==null||_t.dispatch(he({user:ct,channel:$e,experimentHuddlesMultiDeviceGroupOn:xe})))}m(ua,"maybeDispatchAwarenessRemove");const bo=(0,it.Ay)("dispatches actions to huddles SDK",(Oe,he,xe)=>{const $e=Oe.getState(),tt=m(()=>{const Yt=(0,us.l4)($e),fn=(0,R.oK)(Yt);if(!fn)return{};const An=fn==null?void 0:fn.getState();if(!An)return{};const ss=(0,wn.Ng)(An)||{};return{huddlesVideoActive:(0,wn.vz)(An),self:ss}},"getIsHuddlesVideoActive");switch(xe.type){case Gt.kn.getType():{var _t;const Yt=xe.payload;wa=Yt==null||(_t=Yt.audioOutputRef)===null||_t===void 0?void 0:_t.current,Fa.A.getInstance().init();break}case Gt.Sd.getType():{const{huddlesVideoActive:Yt,self:fn}=tt();Ot&&Ot.hasSession()&&(Yt?Ot.selfVideoEnabled(!0,!!(fn!=null&&fn.isScreenshareEnabled)):Ot.selfVideoEnabled(!0,!1));break}case Gt._I.getType():{const{huddlesVideoActive:Yt,self:fn}=tt();Ot&&Ot.hasSession()&&(Yt?Ot.selfVideoEnabled(!1,!!(fn!=null&&fn.isScreenshareEnabled)):Ot.selfVideoEnabled(!1,!1));break}case Gt.qW.getType():{ks.info("BOOT","user agent:",navigator.userAgent);const Yt=xe.payload;let fn=Yt.isStartMuted;if(!wa){ks.error("Missing audio output element");return}const{server:An,roomId:ss}=Yt.callResult,ds=An.attendee.AttendeeId,ms=Yt.waitForHuddleStart,As=Yt.isPrejoin;(0,p.dispatchForClientStore)((0,Gt.og)(As));const xs=As?(0,us.Qn)($e):(0,us.Ak)($e),{teamId:na}=xs||{},ma=(0,O.getFocusedWorkspace)($e),ws=(0,R.oK)(na||ma),Oa=ws?ws.getState():void 0;if(!Oa){ks.error("team state not available while initializing huddlesSdk. Returning early");return}ks.info("client-huddles-middleware: Dispatching resetPeersStore"),ws.dispatch((0,wn.VL)({huddlesVideoActive:!0})),ws.dispatch((0,gi.X6)()),fn=fn||(0,at.ty)(Oa,"huddles_mute_by_default"),fn&&(ks.info("Start huddle as muted as specified in user prefs"),ws.dispatch((0,wn.kT)({id:"self",isMicrophoneEnabled:!1}))),Gs&&Gs.stop(!0),(0,So.Gc)(ma),Gs=new tr.w,Gs.start(ss);const ha=(0,fi.u)();ha.then(zs=>{zs&&(ks.info("Log reporter stopped"),Gs==null||Gs.stop(!0,!1),Gs=void 0)});const ia=new vi(ws),{ttiTrace:Ea}=(0,Pa.A)().getAllTraceHandlers();Ot=new xn.Y(ia,wa,Ai),(0,Js.Y)({name:Js.R1.HuddlesSdk,ref:Ot});const Qa=(0,nr.Y)(An.attendee.ExternalUserId),Jo=er(Oa,{server:An,isPrejoin:As});if(!Jo){ks.error("sdk options not available. Returning early");return}const Ja=[],Ma=na||ma;if(Qa&&Ma){const zs=new da.SV({teamId:Ma,peerId:ds,topicId:Qa,isHuddlesAwarenessTimestampEnabled:(0,fs.gG)(ws.getState())});Ja.push(zs);const Zo=new da.MC({teamId:Ma});Ja.push(Zo),da.PL.watch(Ma,Qa,zs),(0,Js.Y)({name:Js.R1.ChimeChannelListener,ref:Zo}),(0,Js.Y)({name:Js.R1.ChimeChannelBroadcaster,ref:zs})}Ot.initialize(Jo,[Ps.mT.MICROPHONE],!!fn,ms,ha,Ja).then(()=>{const zs=Ot==null?void 0:Ot.getMeetingMediaRegion();Ea==null||Ea.setMediaRegionTag(zs),ps.A.publish({type:jn.lx.SelectedMediaRegion,update:{mediaRegionSelected:zs}}),Ot&&!As&&(Ot==null||Ot.maybeBindAudioOutputElement(),Ot==null||Ot.setIncludeSelfAndNoneActiveSpeaker(!0,!0))}),ia.setSelfAttendeeId(ds),Sa.A.subscribe(Lo),ks.info("User started huddle");break}case Gt.pl.getType():{const Yt=xe.payload;if(Ot){const{waitForHuddleEnd:fn}=Yt;Ot.shutdown(()=>{fn.resolve()});const An=(0,O.getFocusedWorkspace)($e),ss=(0,R.oK)(An);ss==null||ss.dispatch((0,Zs.LL)(Zs.vT.SpeakingWhenMuted));const ds=(0,fs.pL)(ss==null?void 0:ss.getState()),ms=(0,us.E9)($e);ms&&(ua($e,js.RZ,ds),ua($e,js.Lm,ds),da.PL.unwatch(ms)),Sa.A.unsubscribe(Lo),ks.info("User left huddle")}Ot=void 0,da.PL.unwatchAll(),(0,Js.N5)();break}case Gt.I9.getType():{const Yt=xe.payload;if(Ot&&Ot.hasSession()&&(Ot.selfMicrophoneEnabled(Yt),Yt)){const fn=(0,O.getFocusedWorkspace)($e),An=(0,R.oK)(fn);An==null||An.dispatch((0,Zs.LL)(Zs.vT.SpeakingWhenMuted))}break}case Gt.nU.getType():{const Yt=xe.payload;Ot&&Ot.hasSession()&&Ot.sendReacji(Yt.emoji,Yt.reactionType,Yt.emojiUrl);break}case Gt.M4.getType():{const Yt=xe.payload;if(Ot&&Ot.hasSession()){const fn=(0,us.l4)($e),An=(0,R.oK)(fn);if(!An)return;const ss=(0,fs.pL)(An.getState()),ds=(0,us.E9)($e),ms=(0,vn.WR)(An.getState());if(ds){var It;if(((It=(0,ya.Fb)(An.getState(),ds,ms,ss?"self":void 0))===null||It===void 0?void 0:It.field_value)===Yt)ua($e,js.RZ,ss),(0,us.Rv)($e)&&Yt!=="speaker"&&(An==null||An.dispatch((0,Ro.a)({emoji:"speaker",reactionType:Vs.o.Sticker})));else{Ha($e,js.z7,Yt,ss);const{huddleEventsTrace:xs}=(0,Pa.A)().getAllTraceHandlers();xs==null||xs.update({name:qa.p.REACTION,type:qa.G.ONCE,tags:{reactionType:Vs.o.Sticker}})}}}break}case Gt.so.getType():{const Yt=xe.payload;Ot&&Ot.hasSession()&&Ot.sendMuteRequest(Yt);break}case Gt.ol.getType():{const Yt=xe.payload;Ot&&Ot.hasSession()&&Ot.setAGC(Yt);break}case Gt.HC.getType():{const Yt=xe.payload;Ot&&Ot.hasSession()&&Ot.setNewPreferredDevice(Yt==null?void 0:Yt.id,Yt==null?void 0:Yt.type);break}case Gt.yR.getType():{const Yt=xe.payload;Ot&&Ot.hasSession()&&Ot.setNoiseSuppression(Yt);break}case Gt.Rb.getType():{const Yt=xe.payload;Ot&&Ot.hasSession()&&Ot.setVideoBackgroundEffect(Yt);break}case Gt.YA.getType():{const{huddlesVideoActive:Yt,self:fn}=tt(),An=xe.payload,ss=!!(fn!=null&&fn.isCameraEnabled);if(Ot&&Ot.hasSession()){var ct,ln;const ds=(0,us.l4)($e),ms=(0,R.oK)(ds);Yt?Ot.selfVideoEnabled(ss,!0,An==null?void 0:An.mediaSourceId,An):Ot.selfVideoEnabled(!1,!0,An==null?void 0:An.mediaSourceId,An);let As=(An==null||(ct=An.mediaSourceId)===null||ct===void 0?void 0:ct.startsWith("screen:"))||!1;!(An==null||(ln=An.mediaSourceId)===null||ln===void 0)&&ln.startsWith("window:")&&(0,mn.LD)()&&(As=!0),Ot.selfDrawEnabled((0,eo.A)()&&As);const xs=(0,mn.k0)((An==null?void 0:An.mediaSourceId)||"");Ot.sendContentShareDetails(xs),ms==null||ms.dispatch((0,wn.kT)({id:"self",isDrawEnabled:As,isCameraEnabled:ss,contentShareSource:xs}))}break}case Gt.QZ.getType():{const{huddlesVideoActive:Yt,self:fn}=tt(),An=Yt?fn.isCameraEnabled:!1;if(Ot&&Ot.hasSession()){const ss=(0,us.l4)($e),ds=(0,R.oK)(ss);Ot.selfVideoEnabled(!!An,!1),ds==null||ds.dispatch((0,wn.kT)({id:"self",isDrawEnabled:!1,contentShareSource:void 0}))}break}case bs.Oh.getType():return Ot&&Ot.hasSession()?Ot.getScreenThumbnails():Rt.S.resolve(null);case Gt.nI.getType():{const Yt=xe.payload;if(Ot&&Ot.hasSession()){var Mn;const fn=(0,us.l4)($e),An=(0,R.oK)(fn);if(!An)return;const ss=(0,fs.pL)(An.getState()),ds=(0,us.E9)($e),ms=(0,vn.WR)(An.getState());if(!ds)return;const As=(Mn=(0,ya.Fb)(An.getState(),ds,ms,ss?"self":void 0))===null||Mn===void 0?void 0:Mn.field_value;return(Yt||As==="speaker")&&(0,p.dispatchForClientStore)((0,Ro.a)({emoji:"speaker",reactionType:Vs.o.Sticker})),Ot.toggleAllIncomingVideo(Yt)}return Rt.S.resolve(null)}case Gt.WY.getType():{const Yt=xe.payload;if(Ot&&Ot.hasSession()){const fn=(0,us.l4)($e);if(!(0,R.oK)(fn))return;(0,us.E9)($e)&&Ha($e,js.yT,Yt.key)}break}case Gt.Lx.getType():{const Yt=xe.payload;Ot&&Ot.hasSession()&&Ot.sendJukeboxRequest(Yt.key);break}case Gt.OA.getType():{Ot&&Ot.hasSession()&&Ot.sendJukeboxStopRequest();break}case Gt.Db.getType():{Ot&&Ot.hasSession()&&Ot.sendRecordingStartNotification();break}case Gt.bk.getType():{const Yt=xe.payload;if(Ot&&Ot.hasSession()){const fn=(0,us.l4)($e),An=(0,R.oK)(fn);if(!(0,fs.lV)(An.getState()))return;Ot.startContentShareJukebox({song:Yt.song})}break}case Gt.JM.getType():{if(Ot&&Ot.hasSession()){const Yt=(0,us.l4)($e),fn=(0,R.oK)(Yt);if(!fn||!(0,fs.lV)(fn.getState()))return;Ot.selfStopJukebox(),ua($e,js.S)}break}case bs.e$.getType():{if(Ot&&Ot.hasSession()){const Yt=xe.payload.mediaResourceType;return Ot.maybeCheckSystemMediaAccess(Yt)}return Rt.S.resolve(null)}case ra.d2.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt,videoRef:fn,shouldAttachStream:An}}=xe;Ot.bindVideo(Yt,fn.current,An)}break}case ra.gJ.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt,videoRef:fn,shouldDetachStream:An}}=xe;Ot.unbindVideo(Yt,fn.current,An)}break}case ra.WY.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt}}=xe;Ot.pauseVideo(Yt)}break}case ra.D8.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt}}=xe;Ot.unpauseVideo(Yt)}break}case Gt.WM.getType():{const Yt=xe.payload;if(Ot&&Ot.hasSession()){const fn=(0,us.l4)($e),An=(0,R.oK)(fn),ss=An==null?void 0:An.getState();if(!An){ks.info("client-huddles-middleware","no team store found when user toggles video");return}if(!ss){ks.info("client-huddles-middleware","no team state found when user toggles video");return}const{huddlesVideoActive:ds}=tt(),ms=(0,wn.Ng)(ss);let As;(Yt==null?void 0:Yt.setVideoEnabled)!==void 0?As=Yt.setVideoEnabled:As=!(ms!=null&&ms.isCameraEnabled),As?(ks.info("client-huddles-middleware","user toggling ON video"),Ot.setCameraQuality(...(0,to.cg)()),ds?Ot.maybeEnableSelfCamera({isScreenshareEnabled:ms.isScreenshareEnabled}):Ot.maybeEnableSelfCamera()):(ks.info("client-huddles-middleware","user toggling OFF video"),ds?Ot.selfVideoEnabled(!1,!!(ms!=null&&ms.isScreenshareEnabled)):Ot.selfVideoEnabled(!1,!1),An.dispatch((0,wn.kT)({id:"self",isCameraEnabled:!1})))}break}case ra.cn.getType():{if(Ot&&Ot.hasSession()){const{payload:{tileId:Yt}}=xe;return(Ot==null?void 0:Ot.videoTileHasStream(Yt))||!1}return Rt.S.resolve(!1)}case wn.xz.getType():{const{huddlesVideoActive:Yt,self:fn}=tt();Ot&&xe.payload.isContent&&(Yt?Ot.selfVideoEnabled(!!(fn!=null&&fn.isCameraEnabled),!1):Ot.selfVideoEnabled(!1,!1));break}case Gt.Dj.getType():{Ot!=null&&Ot.hasSession()&&(Ot==null||Ot.initVideoPermission());break}case Gt._H.getType():{if(Ot!=null&&Ot.hasSession()){const{videoElement:Yt,deviceId:fn}=xe.payload;Ot.stopVideoPreviewForVideoInput(Yt),Ot.setCameraQuality(...(0,to.cg)()),Ot.requestPreviewStreamForDeviceId(fn,yn.lW.Camera,Yt)}break}case Gt.yi.getType():{if(Ot!=null&&Ot.hasSession()){const Yt=xe.payload;Ot.stopVideoPreviewForVideoInput(Yt)}break}case Gt.Rr.getType():{const{self:Yt}=tt();if(Ot&&Ot.hasSession()){const fn=(Yt==null?void 0:Yt.contentShareSource)||nn.R.Unknown;if(fn!==nn.R.Unknown){const An=(Yt==null?void 0:Yt.isDrawEnabled)||!1;Ot.selfDrawEnabled((0,eo.A)()&&An),Ot.sendContentShareDetails(fn);const ss=(0,R.oK)(xe.payload.teamId);ss==null||ss.dispatch((0,wn.kT)({id:"self",isDrawEnabled:An}))}}break}case Gt.HF.getType():{const Yt=xe.payload.isHostDrawEnabled,fn=(0,R.oK)(xe.payload.teamId);fn==null||fn.dispatch((0,wn.kT)({id:"self",isHostDrawEnabled:Yt}));break}case Gt.B5.getType():{Ot==null||Ot.handleClientOffline();break}case Gt.f2.getType():{const Yt=xe.payload,{isStartMuted:fn}=Yt,{teamId:An}=(0,us.Ak)($e)||{},ss=(0,O.getFocusedWorkspace)($e),ds=(0,R.oK)(An||ss),{ttiTrace:ms}=(0,Pa.A)().getAllTraceHandlers();if(ms==null||ms.setMediaRegionTag(Ot==null?void 0:Ot.getMeetingMediaRegion()),ds&&fn&&Ot)return Ot.completePrejoin(Yt).then(()=>{ds.dispatch((0,wn.kT)({id:"self",isMicrophoneEnabled:!1}))});if(Ot)return Ot.completePrejoin({});break}case Gt.xq.getType():{const Yt=xe.payload.contentViewType,fn=xe.payload.contentViewConfig;if(Ot&&Ot.hasSession()&&(0,us.E9)($e)){var es;const ss=(0,us.l4)($e),ds=(0,R.oK)(ss);if(!ds)return;const ms=(0,fs.pL)(ds.getState());if(Yt!==Vs.cM.Screenshare)ua($e,js.Lm,ms);else if(!(fn==null||(es=fn.item)===null||es===void 0)&&es.id){let As;if(fn.item.id==="self")As=(0,vn.WR)(ds.getState());else{var Cs;As=(Cs=(0,wn.jB)(ds.getState(),fn.item.id))===null||Cs===void 0?void 0:Cs.userId}Ha($e,js.fv,As,ms)}}break}case Gt.wr.getType():{const Yt=(0,us.l4)($e),fn=(0,R.oK)(Yt);if(!fn)return;const An=fn.getState();if(!(0,fs.Rk)(An))return;if(Ot&&Ot.hasSession()){const ss=(0,us.J0)($e);if(ss===void 0)break;const ds=(0,Ka.gW)(An,{channelId:ss}),ms=(0,Ka.zK)(An,{channelId:ss});Ot.selfMicrophoneEnabled(ds),(0,p.dispatchForClientStore)((0,Gt.WM)({setVideoEnabled:ms}))}break}default:return he(xe)}return null});bo.meta={name:"createMiddleware",key:"createMiddlewareclientHuddlesMiddleware",description:"dispatches actions to huddles SDK"};const Ti=bo;Object.defineProperty({huddlesSdk:Ot},"huddlesSdk",{get:()=>Ot,set:Oe=>{Ot=Oe}});var Ta=e(4653418008),Ca=e(3328068409);const ko=(0,it.Ay)("Broadcast client theme state to other stores",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t);return yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ca.to)(ct),broadcastAction:ct=>(0,Ta.yg)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ca.FW)(ct),broadcastAction:ct=>(0,Ta.kl)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ca.VD)(ct),broadcastAction:ct=>(0,Ta.LA)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,Ca.pg)(ct),broadcastAction:ct=>(0,Ta.Th)(ct)}),tt});ko.meta={name:"createMiddleware",key:"createMiddlewarebroadcastClientThemeMiddleware",description:"Broadcast client theme state to other stores"};const Ci=ko;var Uo=e(1201539379),Ii=e(8707579690),Di=e(2779520532),Oi=e(7128275929),Mi=e(9341298);const No=(0,it.Ay)("Broadcast view layout state across all teams",(Oe,he,xe)=>{const $e=Oe.getState(),tt=he(xe),_t=Oe.getState(),It=(0,O.getBootedWorkspaces)(_t);return yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>{var ln,Mn;return`${ct==null||(ln=ct.viewLayout)===null||ln===void 0?void 0:ln.sidebarWidthIntent}-${ct==null||(Mn=ct.viewLayout)===null||Mn===void 0?void 0:Mn.sidebarWidthMode}`},broadcastAction:ct=>{const ln=ct.split("-");return(0,Di.R)({sidebarWidthIntent:Number(ln[0]),sidebarWidthMode:ln[1]})}}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>{var ln,Mn;return`${ct==null||(ln=ct.viewLayout)===null||ln===void 0?void 0:ln.sidebarWideWidthIntent}-${ct==null||(Mn=ct.viewLayout)===null||Mn===void 0?void 0:Mn.sidebarWideWidthMode}`},broadcastAction:ct=>{const ln=ct.split("-");return(0,Mi.q)({sidebarWideWidthIntent:Number(ln[0]),sidebarWideWidthMode:ln[1]})}}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>{var ln,Mn;return`${ct==null||(ln=ct.viewLayout)===null||ln===void 0?void 0:ln.sidebarExtraWideWidthIntent}-${ct==null||(Mn=ct.viewLayout)===null||Mn===void 0?void 0:Mn.sidebarExtraWideWidthMode}`},broadcastAction:ct=>{const ln=ct.split("-");return(0,Oi.a)({sidebarExtraWideWidthIntent:Number(ln[0]),sidebarExtraWideWidthMode:ln[1]})}}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,fe.Vo)(ct),broadcastAction:ct=>(0,Uo.KY)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>(0,fe.v8)(ct),broadcastAction:ct=>(0,Uo.mV)(ct)}),yt({state:_t,prevState:$e,workspaces:It,broadcastSelector:ct=>{var ln,Mn;return`${ct==null||(ln=ct.viewLayout)===null||ln===void 0?void 0:ln.secondaryWidthIntent}-${ct==null||(Mn=ct.viewLayout)===null||Mn===void 0?void 0:Mn.secondaryWidthMode}`},broadcastAction:ct=>{const ln=ct.split("-");return(0,Ii.J)({secondaryWidthIntent:Number(ln[0]),secondaryWidthMode:ln[1]})}}),tt});No.meta={name:"createMiddleware",key:"createMiddlewarebroadcastViewLayoutMiddleware",description:"Broadcast view layout state across all teams"};const Pi=No;var Si=e(9524650809),Bo=e(1649982175),xo=e(352142497),_a=e(2870224675),Ri=e(9932860381),Wo=e(3034856104);const Li=50;function Fo(){return(0,Si.A)("tabSoda_")}m(Fo,"generateTabSodaTabId");function bi(){return{activeTab:void 0,tabs:{},tabOrder:[]}}m(bi,"getInitialState");function ki(Oe,he){if(Oe&&he){var xe,$e,tt,_t;const ln=(xe=Oe[Oe[Rs.jf]])===null||xe===void 0?void 0:xe.primary,Mn=($e=Oe[Oe[Rs.jf]])===null||$e===void 0?void 0:$e.secondary,es=(tt=he[he[Rs.jf]])===null||tt===void 0?void 0:tt.primary,Cs=(_t=he[he[Rs.jf]])===null||_t===void 0?void 0:_t.secondary;if(Oe.teamId===he.teamId&&Oe[Rs.jf]===he[Rs.jf]&&(ln==null?void 0:ln.id)===(es==null?void 0:es.id)&&(Mn==null?void 0:Mn.id)===(Cs==null?void 0:Cs.id)){var It,ct;return!((ln==null?void 0:ln.viewType)===xo.D.Thread&&(es==null?void 0:es.viewType)===xo.D.Thread&&(ln==null||(It=ln.params)===null||It===void 0?void 0:It.threadId)!==(es==null||(ct=es.params)===null||ct===void 0?void 0:ct.threadId))}}return!1}m(ki,"areViewsSame");function Ko(Oe){let{reducerState:he,entry:xe,eventType:$e}=Oe,tt=he.activeTab,_t=[...he.tabOrder];tt||(tt=Fo(),_t.push(tt));const It=he.tabs[tt]||[];let ct={...he.tabs};if(ct[tt]=[xe,...$e==="replace"?It.slice(1):It].slice(0,Li),!It.length){const ln=he.tabOrder.find(Mn=>{var es;return ki(xe,(es=he.tabs[Mn])===null||es===void 0?void 0:es[0])});ln&&tt!==ln&&(_t=he.tabOrder.filter(Mn=>Mn!==tt),ct=(0,Bo.A)(he.tabs,tt),tt=ln)}return{activeTab:tt,tabs:ct,tabOrder:_t}}m(Ko,"getTabSodaStateFromWindowHistoryEvent");const Ui=bi(),Ni=(0,Es.vy)({},Ui,{persistenceEnabled:!1,storeKey:"tabSoda"}).on(_a.nz,(Oe,he)=>{let{setAsActive:xe}=he;const $e=Fo(),tt={...Oe.tabs,[$e]:[]},_t=[...Oe.tabOrder],It=Oe.activeTab?_t.indexOf(Oe.activeTab):-1;return _t.splice(It+1,0,$e),{activeTab:xe?$e:Oe.activeTab,tabs:tt,tabOrder:_t}}).on(_a.yw,(Oe,he)=>({...Oe,activeTab:he})).on(_a.oT,(Oe,he)=>{const{activeTab:xe,tabs:$e,tabOrder:tt}=Oe;let _t=xe;he===xe&&(_t=(0,Ri.fe)(xe,tt));const It=[...tt],ct=tt.indexOf(he);It.splice(ct,1);const ln={...$e};return delete ln[he],{tabs:ln,tabOrder:It,activeTab:_t}}).on(_a.ez,(Oe,he)=>{const xe=Oe.tabs[he]||[],$e={...Oe.tabs,[he]:[...xe.slice(1)]};return{...Oe,tabs:$e}}).on(_a.Uz,(Oe,he)=>({...Oe,tabOrder:he})).on(Qn.Eg,(Oe,he)=>{let{entry:xe}=he;return(0,Wo.H)(xe)?Ko({eventType:"push",reducerState:Oe,entry:xe}):Oe}).on(Qn.PP,(Oe,he)=>{let{entry:xe}=he;return(0,Wo.H)(xe)?Ko({eventType:"replace",reducerState:Oe,entry:xe}):Oe});var Bi=e(6027162153),xi=e(9087248458),Wi=e(5503876160),ta=e(9139930183);const Fi={bootedWorkspaces:[],failedToBootWorkspaces:[],needs2FASetup:[],needsToAcceptCustomTOS:[],userNotMemberOfAnyWorkspaceInOrg:[],userRequiresMobileLogin:[],migratingWorkspaces:{},completedMigrationWorkspaces:[],accessLimitedWorkspaces:[],recentlyFocusedWorkspaces:[],navigateToUnbootedWorkspace:{},removedWorkspaces:[]},Ki="WORKSPACES",wo=16,wi=(0,ta.Ay)({},Fi,{storeKey:"workspaces",persistenceEnabled:!0}).on(_.initialize,(Oe,he)=>Hi(Oe,he)).on(_.setDidBootAllWorkspaces,Oe=>({...Oe,didBootAllWorkspaces:!0})).on(_.setWorkspaceOrder,(Oe,he)=>Vi(Oe,he)).on(_.setWorkspaceBooted,(Oe,he)=>ji(Oe,he)).on(_.setWorkspaceFailedToBoot,(Oe,he)=>Gi(Oe,he)).on(_.setWorkspaceNeeds2FASetup,(Oe,he)=>zi(Oe,he)).on(_.setWorkspaceNeedsToAcceptCustomTOS,(Oe,he)=>$i(Oe,he)).on(_.setNavigateToUnbootedWorkspace,(Oe,he)=>({...Oe,navigateToUnbootedWorkspace:he})).on(_.setWorkspaceIsMigrating,(Oe,he)=>Yi(Oe,he)).on(_.setWorkspaceMigrationIsComplete,(Oe,he)=>Qi(Oe,he)).on(_.setWorkspaceIsAccessLimited,(Oe,he)=>Ji(Oe,he)).on(_.setUserNotMemberOfAnyWorkspaceInOrg,(Oe,he)=>Zi(Oe,he)).on(_.setUserRequiresMobileLogin,(Oe,he)=>Xi(Oe,he)).on(_.addWorkspace,function(Oe){let{id:he,meta:xe}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!he||!xe)throw new Error("'id' and 'meta' are both required when adding a workspace");if(Oe.allWorkspaces.includes(he))return(0,r.Wo)({label:Ki}).warn(`Cannot add workspace; it is already present: ${he}`),Oe;const{allWorkspaces:$e,workspacesMeta:tt}=Oe;return{...Oe,allWorkspaces:[...$e,he],workspacesMeta:{...tt,[he]:xe}}}).on(_.updateWorkspaceMeta,function(Oe){let{id:he,meta:xe}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{workspacesMeta:$e}=Oe;if(!$e[he])throw new Error(`Cannot update workspace meta for ${he}; no such team`);return{...Oe,workspacesMeta:{...$e,[he]:xe}}}).on(_.internalSetFocusedWorkspaceType,(Oe,he)=>({...Oe,focusedWorkspace:he,recentlyFocusedWorkspaces:qi(Oe.recentlyFocusedWorkspaces,he)})).on(_.internalRemoveWorkspaceType,(Oe,he)=>({...Oe,allWorkspaces:(0,Bi.A)(Oe.allWorkspaces,he)})).on(_.addRemovedWorkspace,(Oe,he)=>el(Oe,he));function Hi(Oe){let{focusedWorkspace:he,allWorkspaces:xe,workspacesMeta:$e}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Oe.allWorkspaces)throw new Error("workspaces-store:initialize cannot be called more than once");if(!he)throw new Error("workspaces-store:initialize must be given a focusedWorkspace");if(!xe)throw new Error("workspaces-store:initialize must be given an array of workspaces");if(xe.indexOf(he)<0)throw new Error(`workspaces-store:initialize ${he} is not one of the valid workspaces: ${xe}`);return{...Oe,focusedWorkspace:he,allWorkspaces:xe,workspacesMeta:$e,recentlyFocusedWorkspaces:[he]}}m(Hi,"initializeWorkspacesState");function Vi(Oe,he){const xe=Oe.allWorkspaces;if((0,xi.A)(xe,he).length!==xe.length)throw new Error("workspaces-store:setWorkspaceOrder can only re-order items in the array; additions or removals are not allowed");return(0,Ue.q9)("orderedTeamIds",he),{...Oe,allWorkspaces:he}}m(Vi,"updateWorkspaceOrder");function ji(Oe,he){const xe=Oe.bootedWorkspaces.includes(he)?Oe.bootedWorkspaces:[...Oe.bootedWorkspaces,he];return{...Oe,bootedWorkspaces:xe}}m(ji,"updateWorkspaceBooted");function Gi(Oe,he){if(!he)return Oe;const xe=Oe.failedToBootWorkspaces.includes(he)?Oe.failedToBootWorkspaces:[...Oe.failedToBootWorkspaces,he];return{...Oe,failedToBootWorkspaces:xe}}m(Gi,"updateWorkspaceFailedToBoot");function zi(Oe,he){if(!he)return Oe;const xe=Oe.needs2FASetup.includes(he)?Oe.needs2FASetup:[...Oe.needs2FASetup,he];return{...Oe,needs2FASetup:xe}}m(zi,"updateWorkspaceNeeds2FASetup");function $i(Oe,he){if(!he)return Oe;const xe=Oe.needsToAcceptCustomTOS.find($e=>{let{teamId:tt}=$e;return he.teamId===tt})?Oe.needsToAcceptCustomTOS:[...Oe.needsToAcceptCustomTOS,he];return{...Oe,needsToAcceptCustomTOS:xe}}m($i,"updateWorkspaceNeedsToAcceptCustomTOS");function Yi(Oe,he){let{teamId:xe,migrationId:$e,canViewMigrationStatus:tt}=he;if(!xe)return Oe;const{migratingWorkspaces:_t}=Oe;return{...Oe,migratingWorkspaces:{..._t,[xe]:{migrationId:$e,canViewMigrationStatus:tt}}}}m(Yi,"updateWorkspaceIsMigrating");function Qi(Oe,he){if(!he)return Oe;const xe=Oe.completedMigrationWorkspaces.includes(he)?Oe.completedMigrationWorkspaces:[...Oe.completedMigrationWorkspaces,he];return{...Oe,completedMigrationWorkspaces:xe}}m(Qi,"updateWorkspaceMigrationIsComplete");function Ji(Oe,he){if(!he)return Oe;const xe=Oe.accessLimitedWorkspaces.includes(he)?Oe.accessLimitedWorkspaces:[...Oe.accessLimitedWorkspaces,he];return{...Oe,accessLimitedWorkspaces:xe}}m(Ji,"updateWorkspaceIsAccessLimited");function Zi(Oe,he){if(!he)return Oe;const xe=Oe.userNotMemberOfAnyWorkspaceInOrg.includes(he)?Oe.userNotMemberOfAnyWorkspaceInOrg:[...Oe.userNotMemberOfAnyWorkspaceInOrg,he];return{...Oe,userNotMemberOfAnyWorkspaceInOrg:xe}}m(Zi,"updateUserNotMemberOfAnyWorkspaceInOrg");function Xi(Oe,he){if(!he)return Oe;const xe=Oe.userRequiresMobileLogin.includes(he)?Oe.userRequiresMobileLogin:[...Oe.userRequiresMobileLogin,he];return{...Oe,userRequiresMobileLogin:xe}}m(Xi,"updateUserRequiresMobileLogin");function qi(Oe,he){const xe=[he,...Oe.filter($e=>$e!==he)];return xe.length>wo?(0,Wi.A)(xe,wo):xe}m(qi,"updateRecentlyFocusedWorkspaces");function el(Oe,he){if(!he)return Oe;const xe=Oe.removedWorkspaces.includes(he)?Oe.removedWorkspaces:[...Oe.removedWorkspaces,he];return{...Oe,removedWorkspaces:xe}}m(el,"updateRemovedWorkspaces");var tl=e(7798793495),nl=e(8749931423),sl=e(7206394193),al=e(773865333),ol=e(7156104699),rl=e(582577127),il=e(2732935554),ll=e(3034787354),cl=e(9651400563),dl=e(4614661813),ul=e(2140362605);const Va=(0,ul.Ay)("sets the client side effect map on the store");Va.meta={name:"createAction",key:"createActionsetClientSideEffectsMap",description:"sets the client side effect map on the store"};const _l={clientSideEffectsMap:{}},ml=(0,ta.Ay)({},_l,{storeKey:"clientSideEffects",persistenceEnabled:!1}).on(Va,(Oe,he)=>({...Oe,clientSideEffectsMap:he}));var hl=e(5923036663),El=e(6168781067),pl=e(7902571278),vl=e(56562029);const fl={isHuddlesEnabled:!1,channelToJoinCredentials:{},showDiscoveryBanner:!1,screenshareActivePanel:0,songPlaying:void 0,jukeboxLocalVolume:1,canRenderActiveInviteCardInSidebar:!0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,unreadInvites:[],huddleJoinPreviewChannelId:void 0,huddleJoinPreviewBackgroundEffect:void 0,huddleJoinPreviewBackgroundBlurIsEnabled:!1},gl=(0,ta.Ay)({},fl,{storeKey:"clientHuddles",persistenceEnabled:!1}).on(Gt.VU,(Oe,he)=>Oe.isHuddlesEnabled?Oe:{...Oe,isHuddlesEnabled:he}).on(Gt.xf,(Oe,he)=>({...Oe,mostRecentHuddle:he})).on(Gt.Rh,(Oe,he)=>{const{mostRecentHuddle:xe}=Oe;if(!xe||he.teamId&&he.teamId!==xe.teamId||he.channelId&&he.channelId!==xe.channelId)return Oe;const $e={...Oe,mostRecentHuddle:{...xe,...he}},tt=$e.mostRecentHuddle;return tt&&(0,r.Wo)().info(oa.o7,`updateActiveHuddleReference huddleState ${tt.huddleState}, substate ${tt.huddleSubState}, optimisticState ${tt.optimisticHuddleState}`),$e}).on(Gt.Jc,(Oe,he)=>{const{mostRecentHuddle:xe}=Oe;return!xe||he===xe.channelId?Oe:{...Oe,mostRecentHuddle:{...xe,channelId:he}}}).on(Gt.hB,(Oe,he)=>({...Oe,activeInvite:he,unreadInvites:[...Oe.unreadInvites,{invite:he,receivedTimestampMs:Date.now()}]})).on(Gt.fP,(Oe,he)=>{let{teamId:xe,markBeforeMs:$e}=he;const tt=Oe.unreadInvites.filter(_t=>_t.invite.teamId!==xe||_t.receivedTimestampMs>$e);return Oe.unreadInvites.length===tt.length?Oe:{...Oe,unreadInvites:tt}}).on(Gt.u8,(Oe,he)=>{var xe;return{...Oe,unreadInvites:Oe.unreadInvites.filter($e=>$e.invite.channelId!==he),activeInvite:((xe=Oe.activeInvite)===null||xe===void 0?void 0:xe.channelId)!==he?Oe.activeInvite:void 0}}).on(Gt.Ko,(Oe,he)=>Oe.forceMiniPanelVisible===he?Oe:{...Oe,forceMiniPanelVisible:he}).on(Gt.Yi,(Oe,he)=>{let{channelId:xe,joinCredentials:$e,expiry:tt,fromInvite:_t}=he;var It;if(!xe||!$e)return Oe;const ct=Oe.channelToJoinCredentials;ct[xe]={credentials:$e,expiry:tt,fromInvite:_t};const ln=(It=Oe.activeInvite)===null||It===void 0?void 0:It.teamId;return ln&&(0,ea.Cy)({state:(0,R.$D)(ln)}).count(Os.ir),{...Oe,channelToJoinCredentials:ct}}).on(Gt.WB,(Oe,he)=>{let{channelId:xe}=he;if(!xe)return Oe;if(Oe.channelToJoinCredentials[xe]){var $e;const tt=($e=Oe.activeInvite)===null||$e===void 0?void 0:$e.teamId;tt&&(0,ea.Cy)({state:(0,R.$D)(tt)}).count(Os.sQ)}return{...Oe,channelToJoinCredentials:(0,Bo.A)(Oe.channelToJoinCredentials,[xe])}}).on(Gt.aO,(Oe,he)=>Oe.showDiscoveryBanner===he?Oe:{...Oe,showDiscoveryBanner:he}).on(Gt.Ag,(Oe,he)=>Oe.isLoungeMusicPlaying===he?Oe:{...Oe,isLoungeMusicPlaying:!!he}).on(Gt._U,(Oe,he)=>Oe.lastStartTs===he?Oe:{...Oe,lastStartTs:he}).on(Gt.bV,(Oe,he)=>Oe.lastEndTs===he?Oe:{...Oe,lastEndTs:he}).on(Gt.qr,(Oe,he)=>Oe.lastDurationTs===he?Oe:{...Oe,lastDurationTs:he}).on(Gt.Gx,(Oe,he)=>Oe.screenshareActivePanel===he?Oe:{...Oe,screenshareActivePanel:he}).on(Gt.cx,Oe=>({...Oe,screenshareActivePanel:0,songPlaying:void 0,isHuddleWindowFocused:!1,isHuddleWindowOpen:!1,isHuddleMiniPlayerHidden:!1,isAudioOnlyModeEnabled:!1,wasCameraEnabledWhenAudioOnlyModeWasActivated:!1,wasJoinedFromPrejoin:!1,huddleJoinPreviewChannelId:void 0})).on(Gt._u,(Oe,he)=>{let{song:xe}=he;return Oe.songPlaying===(xe==null?void 0:xe.key)?Oe:{...Oe,songPlaying:xe==null?void 0:xe.key}}).on(Gt.nw,(Oe,he)=>Oe.canRenderActiveInviteCardInSidebar===he?Oe:{...Oe,canRenderActiveInviteCardInSidebar:he}).on(Gt.o9,(Oe,he)=>Oe.isHuddleWindowFocused===he?Oe:{...Oe,isHuddleWindowFocused:he}).on(Gt.TK,(Oe,he)=>Oe.isHuddleWindowOpen===he?Oe:{...Oe,isHuddleWindowOpen:he}).on(Gt.kg,(Oe,he)=>Oe.isAudioOnlyModeEnabled===he?Oe:{...Oe,isAudioOnlyModeEnabled:he}).on(Gt.Hg,(Oe,he)=>Oe.wasCameraEnabledWhenAudioOnlyModeWasActivated===he?Oe:{...Oe,wasCameraEnabledWhenAudioOnlyModeWasActivated:he}).on(Gt.t2,(Oe,he)=>Oe.isHuddleMiniPlayerHidden===he?Oe:{...Oe,isHuddleMiniPlayerHidden:!!he}).on(Gt.og,(Oe,he)=>Oe.wasJoinedFromPrejoin===he?Oe:{...Oe,wasJoinedFromPrejoin:!!he}).on(Gt._o,(Oe,he)=>{let{channelId:xe}=he;return Oe.huddleJoinPreviewChannelId===xe?Oe:{...Oe,huddleJoinPreviewChannelId:xe}}).on(Gt.yW,(Oe,he)=>{let{backgroundEffectBgKey:xe,blurEffectIsEnabled:$e}=he;return Oe.huddleJoinPreviewBackgroundEffect===xe&&Oe.huddleJoinPreviewBackgroundBlurIsEnabled===$e?Oe:{...Oe,huddleJoinPreviewBackgroundEffect:xe,huddleJoinPreviewBackgroundBlurIsEnabled:$e}}),Kl=100,Ho="client-ia-history",Al=[...Object.values(so.mH)||[]];var Ia=e(1521690892);const yl=m(()=>{try{const Oe=localStorage.getItem(Ho);return Oe?JSON.parse(Oe):[]}catch(Oe){return(0,r.Wo)().error("Failed to read IA history from storage",Oe),[]}},"readStackFromStorage"),Da=m(Oe=>{try{localStorage.setItem(Ho,JSON.stringify(Oe))}catch(he){(0,r.Wo)().error("Failed to write IA history to storage",he)}},"writeStackToStorage"),Tl=(0,ta.Ay)({},{stack:yl()},{storeKey:"iaHistory",persistenceEnabled:!1}).on(Ia.nb,(Oe,he)=>{if(!he||Al.includes(he==null?void 0:he.primaryView))return Oe;const xe=1e3,$e=[he].concat(Oe.stack).slice(0,xe);return window.setTimeout(()=>Da($e),0),{stack:$e}}).on(Ia.JG,(Oe,he)=>{const xe=Oe.stack.indexOf(he);if(xe===-1)return Oe;const $e=Oe.stack.slice();return $e.splice(xe,1),window.setTimeout(()=>Da($e),0),{stack:$e}}).on(Ia.Si,Oe=>{if(!Oe.stack)return Oe;const he=Oe.stack.slice(0,1);return window.setTimeout(()=>Da(he),0),{stack:he}}).on(Ia.kM,()=>{const Oe=[];return Da(Oe),{stack:Oe}}),Cl=!0,Vo=(0,ta.Ay)({},Cl,{storeKey:"isClient",persistenceEnabled:!1});Vo.meta={name:"createReducer",key:"createReducerisClientReducer"};const Il=Vo;let jo;try{var ja;jo=(ja=(0,Ue.W6)(En.Vb))!==null&&ja!==void 0?ja:void 0}catch{}let Go;try{var Ga;Go=(Ga=(0,Ue.W6)(En._J))!==null&&Ga!==void 0?Ga:void 0}catch{}let zo;try{var za;zo=(za=(0,Ue.W6)(En.UY))!==null&&za!==void 0?za:void 0}catch{}let $o;try{var $a;$o=($a=(0,Ue.W6)(En.xN))!==null&&$a!==void 0?$a:void 0}catch{}const Dl={invertedSidebar:jo,peeksEnabledOnMouseEnter:Go,zoom:zo,isSidebarVisible:$o},Ol=(0,ta.Ay)({},Dl,{storeKey:"nonBBMSettings",persistenceEnabled:!1}).on(tn.p$,(Oe,he)=>({...Oe,invertedSidebar:he})).on(tn.rB,(Oe,he)=>({...Oe,peeksEnabledOnMouseEnter:he})).on(tn.x8,(Oe,he)=>({...Oe,zoom:he})).on(tn.KY,(Oe,he)=>({...Oe,isSidebarVisible:he}));var Ml=e(4686544804),Pl=e(3180420025),Ya=e(2696160384);const Yo={isDocked:!1,miniPlayerConfig:{fileId:""}},Sl=(0,ta.Ay)({},Yo,{storeKey:"videoClips",persistenceEnabled:!1}).on(Ya.FI,(Oe,he)=>({...Oe,isDocked:he})).on(Ya.D_,(Oe,he)=>{let{fileId:xe,teamId:$e,mediaId:tt,channelId:_t,threadTs:It,timeElapsed:ct,isPlaying:ln}=he;return{...Oe,miniPlayerConfig:{fileId:xe,teamId:$e,mediaId:tt,channelId:_t,threadTs:It,timeElapsed:ct,isPlaying:ln}}}).on(Ya.Sr,Oe=>({...Oe,...Yo}));var Rl=e(9813790040),Ll=e(4256476552);function Qo(){let{extraMiddlewares:Oe=[],customEnhancers:he=[]}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const xe=(0,n.A)({teamOrEnterpriseId:"client",middlewares:[...Oe,sl.A,s.P,al.A,$t,Hn,Ci,Pi,St,gn,rt,cs,wt,zn,ol.N,Ti],customEnhancers:he}),$e=(0,nl.A)({workspaces:wi,window:Ll.A,connectivity:El.A,accessibility:ll.A,accessibilityPersistent:il.A,desktop:pl.A,clientTheme:hl.A,iaHistory:Tl,mainWindowHistory:Qs,isClient:Il,isState:tl.G,viewLayout:Rl.A,noop:Ml.A,clientHuddles:gl,clientSideEffects:ml,recents:Hs,overlays:Pl.y,tabSoda:Ni,fullscreen:vl.G,bbm:dl.Y,videoClips:Sl,nonBBMSettings:Ol,bbmSettings:cl.Z});return(0,t.Yl)($e,xe)}m(Qo,"createClientStore");function bl(){const Oe=(0,p.en)();if(Oe)return(0,r.Wo)().warn("[CLIENT-STORE]","we\u2019ve called configureClientStore before and already have an instance. This is likely a programming error."),Oe;const he=Qo();(0,p.kA)(he);const{clientSideEffectsMap:xe,sideEffectsMap:$e}=(0,rl.g)(Tn);if(Object.keys($e).length)throw new Error("Passed non-client side effects into client store. This is a programming error and the app will not work properly.");return he.dispatch(Va(xe)),he}m(bl,"configureClientStore");const Vl={createClientStore:Qo}},3803432550:(W,T,e)=>{"use strict";e.d(T,{x:()=>_});var t=e(8148939499),s=e(6508028729),n=e(2028988448),r=e(4496040127),u=e(1527627258),i=e(1535672935),o=e(9012396182),a=e(7384121809);function _(p){if(!p||(0,a.en)())return;const g=(0,u.A)(),c=(0,r.VA)()?(0,t.A)():[p],E=(0,s.A)();g.dispatch((0,i.initialize)({focusedWorkspace:p,allWorkspaces:c,workspacesMeta:E})),l(g)}m(_,"initializeClientStore");function l(p){(0,n.ul)("clientStore",p),(0,n.zv)("teamIds",()=>{const c=p.getState();return o.getAllWorkspaces(c)}),(0,n.zv)("activeTeam",()=>{const c=p.getState(),E=o.getFocusedWorkspace(c);return window.slackDebug[E]}),(0,n.zv)("activeTeamId",()=>{const c=p.getState();return o.getFocusedWorkspace(c)}),(0,n.zv)("activeEnterprise",()=>{var c,E;const A=p.getState(),d=(c=o.getWorkspacesMeta(A))===null||c===void 0||(E=c[o.getFocusedWorkspace(A)])===null||E===void 0?void 0:E.enterprise_id;return window.slackDebug[d]});const g={};Object.keys(i).forEach(c=>{g[c]=function(){for(var E=arguments.length,A=new Array(E),d=0;d<E;d++)A[d]=arguments[d];return p.dispatch(i[c](...A))}}),Object.keys(o).forEach(c=>{g[c]=function(){for(var E=arguments.length,A=new Array(E),d=0;d<E;d++)A[d]=arguments[d];return o[c](p.getState(),...A)}}),(0,n.ul)("clientStore.workspaces",g)}m(l,"setupClientStoreDebugger")},4460213392:(W,T,e)=>{"use strict";e.d(T,{BY:()=>r,Cy:()=>s,DU:()=>i,RA:()=>a,bW:()=>_,es:()=>u,kU:()=>l,nR:()=>n,s8:()=>g,tZ:()=>p,uM:()=>o});var t=e(2140362605);const s=(0,t.Ay)("Set sidebar priority toggle state");s.meta={name:"createAction",key:"createActionsetPrioritySidebarToggleSelected",description:"Set sidebar priority toggle state"};const n=(0,t.Ay)("Upserts strings from conversations.recommend to priority store");n.meta={name:"createAction",key:"createActionupsertPriorityChannelIds",description:"Upserts strings from conversations.recommend to priority store"};const r=(0,t.Ay)("Upserts strings from users.recommend to priority store");r.meta={name:"createAction",key:"createActionupsertPriorityUserIds",description:"Upserts strings from users.recommend to priority store"};const u=(0,t.Ay)("Removes user ids from priority store");u.meta={name:"createAction",key:"createActionremovePriorityUserIds",description:"Removes user ids from priority store"};const i=(0,t.Ay)("Resets priority user ids with data from vip_users pref");i.meta={name:"createAction",key:"createActionsetPriorityUserIdsFromPref",description:"Resets priority user ids with data from vip_users pref"};const o=(0,t.Ay)("reset priority store");o.meta={name:"createAction",key:"createActionresetPriority",description:"reset priority store"};const a=(0,t.Ay)("sets loading state for Priority");a.meta={name:"createAction",key:"createActionsetPriorityLoading",description:"sets loading state for Priority"};const _=(0,t.Ay)("sets recommended priority users with data from users.recommend");_.meta={name:"createAction",key:"createActionupsertRecommendedPriorityUsers",description:"sets recommended priority users with data from users.recommend"};const l=(0,t.Ay)("Upserts users.recommend request_id");l.meta={name:"createAction",key:"createActionupsertRecommendedPriorityUserRequestId",description:"Upserts users.recommend request_id"};const p=(0,t.Ay)("sets loading state for recommendations");p.meta={name:"createAction",key:"createActionsetRecommendationsLoading",description:"sets loading state for recommendations"};const g=(0,t.Ay)("Priority prototype: sets NUX screen state for Priority");g.meta={name:"createAction",key:"createActionsetPriorityNuxScreen",description:"Priority prototype: sets NUX screen state for Priority"}},2338429587:(W,T,e)=>{"use strict";e.d(T,{C:()=>f});var t=e(3134334389),s=e(3106223098),n=e(4275787242),r=e(735940183),u=e(9506008067);const i=new r.A("priority_manage"),o={name:"check-circle"},a={name:"warning"},_=m(y=>{let{memberName:I,isUserVIP:C}=y;return(0,u.d4)(s.Gn)?t.createElement(n.A,{svgIconProps:o,duration:3e3},t.createElement("span",null,C?i.rt("Removed <b>{memberName}</b> from VIPs",{memberName:I}):i.rt("Added <b>{memberName}</b> to VIPs",{memberName:I}))):null},"PriorityToast");_.displayName="PriorityToast";const l=m(y=>{let{memberName:I,maxVIPCount:C}=y;return(0,u.d4)(s.Gn)?t.createElement(n.A,{svgIconProps:a},t.createElement("span",null,i.rt("<b>{memberName}</b> could not be added to VIP. You can only have a maximum of {maxVIPCount} VIPs.",{memberName:I,maxVIPCount:C}))):null},"PriorityErrorToast");l.displayName="PriorityErrorToast";var p=e(7779511999),g=e(5876398840),c=e(3534324375),E=e(4460213392),A=e(6795500641),d=e(6304789565),v=e(8276911661),h=e(5060694341);const f=(0,d.Ay)("Add/remove user from priority status",async(y,I,C)=>{if(!C)return;const D=I(),M=(0,c.sE)(D,(0,v.nv)(D,C)),P=(0,A.mF)(D,C);P?(y((0,E.es)({userIds:[C]})),y((0,g.O)({user:C,reason:"remove-user-from-priority"})).then(()=>{y((0,h.M)({element:t.createElement(_,{memberName:M,isUserVIP:P})}))})):(y((0,E.BY)({userIds:[C]})),y((0,p.p)({user:C,reason:"add-user-to-priority"})).then(()=>{y((0,h.M)({element:t.createElement(_,{memberName:M,isUserVIP:P})}))}).catch(S=>{y((0,E.es)({userIds:[C]})),S.data.error===p.a.TooManyVips&&y((0,h.M)({element:t.createElement(l,{memberName:M,maxVIPCount:S.data.max_vip_limit})}))}))});f.meta={name:"createThunk",key:"createThunktogglePriorityUserById",description:"Add/remove user from priority status"}},2870224675:(W,T,e)=>{"use strict";e.d(T,{Uz:()=>i,ez:()=>n,nz:()=>s,oT:()=>u,yw:()=>r});var t=e(2140362605);const s=(0,t.Ay)("Adds a new emtpy tab-soda tab");s.meta={name:"createAction",key:"createActiontabSodaAddNewTab",description:"Adds a new emtpy tab-soda tab"};const n=(0,t.Ay)("Removes the recent history entry from a tab soda tab");n.meta={name:"createAction",key:"createActiontabSodaPopHistoryForTab",description:"Removes the recent history entry from a tab soda tab"};const r=(0,t.Ay)("Select a tab by id");r.meta={name:"createAction",key:"createActiontabSodaSelectTab",description:"Select a tab by id"};const u=(0,t.Ay)("Remove a tab soda tab");u.meta={name:"createAction",key:"createActiontabSodaRemoveTab",description:"Remove a tab soda tab"};const i=(0,t.Ay)("Re-order tab soda tabs");i.meta={name:"createAction",key:"createActiontabSodaReorderTabs",description:"Re-order tab soda tabs"}},9932860381:(W,T,e)=>{"use strict";e.d(T,{Fp:()=>i,Xy:()=>u,fe:()=>r});var t=e(6471801899),s=e(8040098042),n=e(2960290117);function r(o,a){const _=a.indexOf(o),l=_<a.length-1?_+1:_-1;return l>=0?a[l]:void 0}m(r,"tabSodaGetNextActiveTab");function u(o){return(0,s.A)(o)||o==="thread"}m(u,"canOpenInTabSodaTab");function i(o){return(0,n.Ay)(o)||(0,t.pI)(o)||(0,t.or)(o)||(0,s.A)(o)||o==="thread"||o==="comment_thread"}m(i,"tabSodaCanViewBeEjected")},7176966205:(W,T,e)=>{"use strict";e.d(T,{$:()=>c});var t=e(4117634716),s=e(8822892075),n=e(395285811),r=e(2647703359),u=e(3634593162),i=e(3110884894),o=e(2823938397),a=e(8040098042),_=e(2870224675),l=e(6304789565),p=e(7384121809),g=e(937317117);const c=(0,l.Ay)("Opens a view in a new tab",function(E,A){let{viewId:d,params:v}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const h=A(),f=(0,_.nz)({setAsActive:!0});if(!d)return(0,p.dispatchForClientStore)(f);if(d&&(0,a.A)(d))return(0,p.dispatchForClientStore)(f),E((0,t.o)((0,s.pr)(d)));if(d==="thread"&&(v!=null&&v.threadId)){const{channelId:y,threadTs:I}=(0,i.Sb)(v==null?void 0:v.threadId);if(y&&I){if((0,p.dispatchForClientStore)(f),(0,n.OR)(h,y)){const S=(0,u.l)(y),b=(0,g.Lp)(h,S);if(b&&(0,o.uz)(b)&&(0,r.DQ)(b))return E((0,t.o)((0,s.m3)({channelId:y,threadTs:I})))}const{replyTs:D,highlightRoot:M,dangerouslyOverrideRouting:P}=v;return E((0,t.o)((0,s.UX)({channelId:y,threadTs:I,replyTs:D,highlightRoot:M,dangerouslyOverrideRouting:P})))}}});c.meta={name:"createThunk",key:"createThunkmaybeOpenInTabSodaTab",description:"Opens a view in a new tab"}},4326266690:(W,T,e)=>{"use strict";e.d(T,{B:()=>u,fK:()=>r,lw:()=>o,ud:()=>i});var t=e(9932860381),s=e(2384831516),n=e(3193155968);const r=(0,s.Mz)(a=>a.tabSoda);r.meta={name:"createSelector",key:"createSelectorgetTabSoda",description:a=>a.tabSoda};const u=(0,s.Mz)(a=>{const _=r(a);return _.activeTab?_.tabs[_.activeTab]:[]});u.meta={name:"createSelector",key:"createSelectortabSodaGetRecentsForActiveTab",description:a=>{const _=r(a);return _.activeTab?_.tabs[_.activeTab]:[]}};const i=(0,s.Mz)(a=>{const _=r(a);return _.activeTab?_.tabs[_.activeTab].length<2:!1});i.meta={name:"createSelector",key:"createSelectortabSodaIsBackDisabledForActiveTab",description:a=>{const _=r(a);return _.activeTab?_.tabs[_.activeTab].length<2:!1}};const o=(0,s.Mz)((a,_)=>{var l,p,g;const E=(l=r(a).tabs[_])===null||l===void 0?void 0:l[0],A=E==null?void 0:E.teamId;if(!E||!A)return!1;const d=E==null?void 0:E[n.jf],v=E==null||(p=E[d])===null||p===void 0||(g=p[n.mq.Primary])===null||g===void 0?void 0:g.id;return!!v&&(0,t.Fp)(v)});o.meta={name:"createSelector",key:"createSelectortabSodaCanEjectTab",description:(a,_)=>{var l,p,g;const E=(l=r(a).tabs[_])===null||l===void 0?void 0:l[0],A=E==null?void 0:E.teamId;if(!E||!A)return!1;const d=E==null?void 0:E[n.jf],v=E==null||(p=E[d])===null||p===void 0||(g=p[n.mq.Primary])===null||g===void 0?void 0:g.id;return!!v&&(0,t.Fp)(v)}}},8620339321:(W,T,e)=>{"use strict";e.d(T,{UN:()=>g,oX:()=>E,wm:()=>c});var t=e(7969636028),s=e(109860581),n=e(2870224675),r=e(9932860381),u=e(6304789565),i=e(6533394955),o=e(9108490430),a=e(3193155968),_=e(9012396182),l=e(2554594353);const p=(0,u.Ay)("Update currently visible viewset as part of TabSoda tab switching",(A,d,v)=>{(0,i.Qw)(v.teamId,(0,o.cQ)(v)),_.getFocusedWorkspace&&l.b&&(0,_.getFocusedWorkspace)(d())!==v.teamId&&A((0,l.b)({teamId:v.teamId,fromNavigation:!0}));const{tabSoda:h}=d(),f=h.activeTab;if(f){const y=h.tabs[f][0],I=y[a.jf],C=y[I],D=v[a.jf],M=v[D];if(!M)return;(0,i.Qw)(v.teamId,(0,t.C)({prevViewSet:C,prevTab:I,nextViewSet:M,nextTab:D,windowId:a.N2,navigateParams:{},triggerType:s.w.HISTORY_NAVIGATION}))}});p.meta={name:"createThunk",key:"createThunkupdateVisibleView",description:"Update currently visible viewset as part of TabSoda tab switching"};const g=(0,u.Ay)("Switch current TabSoda tab",(A,d,v)=>{let{tabId:h}=v;const{tabSoda:f}=d();if(f.activeTab===h)return;const y=f.tabs[h][0];A(p(y)),A((0,n.yw)(h))});g.meta={name:"createThunk",key:"createThunktabSodaSwitchTab",description:"Switch current TabSoda tab"};const c=(0,u.Ay)("Close active TabSoda tab and switch to the nearest open tab",(A,d,v)=>{let{tabId:h}=v;const{tabSoda:f}=d(),y=f.activeTab,I=(0,r.fe)(y,f.tabOrder);if(h===y&&I){const C=f.tabs[I][0];A(p(C))}A((0,n.oT)(h))});c.meta={name:"createThunk",key:"createThunktabSodaCloseTab",description:"Close active TabSoda tab and switch to the nearest open tab"};const E=(0,u.Ay)("Go back in history in a currently active TabSoda tab",(A,d)=>{const{tabSoda:v}=d(),h=v.activeTab;if(v.tabs[h].length<2)return;const f=v.tabs[h][1];A(p(f)),A((0,n.ez)(h))});E.meta={name:"createThunk",key:"createThunktabSodaGoBackInActiveTab",description:"Go back in history in a currently active TabSoda tab"}},4766735965:(W,T,e)=>{"use strict";e.d(T,{A:()=>v});var t=e(2664504268),s=e(9121100949),n=e(2527782504),r=e(2495064448),u=e(9392104102),i=e(735940183),o=e(4496040127),a=e(9012396182),_=e(6304789565),l=e(7384121809),p=e(8439865561),g=e(1201539379),c=e(6290537170),E=e(9733150292);const A=new i.A("team_picker"),d=(0,_.Ay)("Sets whether or not the protype full rail workspace switcher is showing",function(h,f){let{shouldTransitionFocus:y=!1,shouldAnnounceStateChange:I=!1}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},C=arguments.length>3?arguments[3]:void 0;const D=f();if(!(0,o.VA)())return;const M=(0,l.en)().getState();var P;if(((P=(0,a.getAllWorkspaces)(M))!==null&&P!==void 0?P:u.Ml).length<=1)return;const b=(0,c.v8)(D),O=!b;(0,E.q9)(s.WU,O),h((0,g.mV)(O)),(0,l.dispatchForClientStore)((0,g.mV)(O));const L=A.t("Workspaces tablist expanded"),k=A.t("Workspaces tablist collapsed");if(I&&h((0,p.rl)({message:b?k:L,uuid:(0,t.A)()})),!y)return;const{transitionFocusTo:K}=(0,r.$P)(f(),C),N=b?n.Ay.WORKSPACE_SWITCHER_MENU_BUTTON:n.Ay.WORKSPACE_SWITCHER_TAB_LIST;K({focusKey:N})});d.meta={name:"createThunk",key:"createThunktoggleWorkspaceSwitcherVisibility",description:"Sets whether or not the protype full rail workspace switcher is showing"};const v=d},8002659820:(W,T,e)=>{"use strict";e.d(T,{E3:()=>d,jM:()=>E});var t=e(9323322135),s=e(3929724715),n=e(1407713935),r=e(8920264989),u=e(4094753332),i=e(337319621),o=e(6533394955),a=e(1711848812),_=e(4761125736);const l="DESKTOP-SEARCH-INDEX-SIDE-EFFECT",p=604800;function g(v){return(0,_._Z)(v,"desktop_search_indexing")==="on"}m(g,"isDesktopSearchIndexingEnabled");async function c(v,h){if(!(!(0,u.y3)()||!(0,t.g9M)()||!t.AjU.isAvailable()||!await(0,t.AjU)()))try{return h(v)}catch(f){(0,i.Wo)().warn(l,h.name,"Failed",f)}}m(c,"doIfIndexingAvailable");const E=m(async v=>c(v,m(async function(f){const y=f.flatMap(I=>{const C=(0,o.$D)(I);if(g(C))return(0,a.E)(C).reduce((D,M)=>{if(!(0,n.JM)(M)){var P;D.push({identifier:`slack://channel?team=${I}&id=${(0,s.FB)(M)}`,contentDescription:(0,s.z8)(M)||((P=M.topic)===null||P===void 0?void 0:P.value)||" ",domainIdentifier:I,expirationDate:p,title:(0,r.SB)(C,M)})}return D},[])}).filter(I=>typeof I<"u");y.length&&await(0,t.zOA)(y)},"addChannels")),"addChannelsToSearchIndex"),A=m(async v=>c(v,m(async function(f){await removeFromIndex(f)},"removeItems")),"removeItemsFromSearchIndex"),d=m(async v=>c(v,m(async function(f){await(0,t.Oes)(f)},"removeAllItems")),"removeAllItemsFromSearchIndex")},859310680:(W,T,e)=>{"use strict";e.d(T,{go:()=>w,xy:()=>B});var t=e(8426925643),s=e(9714187984),n=e(9733150292),r=e(4588514760),u=e(2028988448),i=e(7729538251),o=e(9681594967),a=e(2325478352),_=e(7639461119),l=e(7770551414),p=e(6470070112),g=e(337319621),c=e(2250002584),E=e(5057176955),A=e(264208541),d=e(9012396182),v=e(8847766420),h=e(5583430912),f=e(7384121809),y=e(6533394955),I=e(9101533895),C=e(7765212398),D=e(4761125736),M=e(8276911661),P=e(7115106069),S=e(8233775522);function b(){var G,Ee;return{hardware_concurrency:(G=window.navigator)===null||G===void 0?void 0:G.hardwareConcurrency,device_memory:(Ee=window.navigator)===null||Ee===void 0?void 0:Ee.deviceMemory}}m(b,"getDeviceStats");function O(){const G=localStorage==null?void 0:localStorage.getItem("client_metrics_client_redux_size"),Ee=(0,A.Hn)(),ne=(0,A.Ey)(),se=Ee&&ne?(Ee/ne).toPrecision(4):null;return{total_client_redux_size:G,js_heap_used:Ee,js_heap_total:ne,js_heap_used_percentage:se}}m(O,"getPerfMemoryStats");function L(){const G=localStorage==null?void 0:localStorage.getItem("client_metrics_app_stats");if(!G)return{};try{return JSON.parse(G)}catch(Ee){return(0,g.Wo)().warn("Error parsing appStats in localStorage:",G,Ee),{}}}m(L,"getDesktopAppStats");function k(){return{...(0,t.JP)(),...(0,t.I5)(),num_started_sockets:(0,l.eK)(),object_store_redux_group:(0,_.B9)(a.Wv)}}m(k,"getClientStateTags");function K(G,Ee){const ne=Ee.startSpan("add_tags:channels_info",{tags:{_auto_analytics:""}}),se=Object.values((0,I.DM)(G)).length,ce=Object.values((0,I.h3)(G)).length,pe=Object.values((0,I._B)(G)).length,ye=Object.values((0,I.FS)(G)).length;return ne.close(),{num_channels_in_redux:se,num_all_channels_user_is_in:ce,num_dms_user_is_in:pe,num_group_dms_user_is_in:ye}}m(K,"getChannelInfoTags");function N(G,Ee){const ne=Ee.startSpan("add_tags:drafts_info",{tags:{_auto_analytics:""}}),se=Object.keys((0,C.Hw)(G)||{}).length,ce=(0,E.sZ)((0,C.my)(G));return ne.close(),{num_drafts:se,drafts_store_size:ce}}m(N,"getDraftsInfoTags");function R(G){return{user_locale:(0,i.JK)({teamOrEnterpriseId:(0,v.JY)(G)})}}m(R,"getLocaleTags");function U(G){return{active_collab_instance_count:(0,h.Ui)(),open_quip_embed_instance_count:(0,P.oj)(G).length,canvas_child_window_count:(0,r.CJ)()}}m(U,"getCanvasTags");const x=m(G=>{const Ee=["selector_memo"],ne={};return Ee.forEach(ce=>{const pe=(0,D._Z)(G,ce,!1);pe&&(ne[ce]=pe)}),[...Object.keys(s.n)].forEach(ce=>{const pe=(0,_.B9)(ce);pe!==_.dw.NoGroup&&(ne[ce]=pe)}),ne},"getExperimentTagsForTraces"),B=m((G,Ee)=>{const ne=Ee??[],se={},ce=(0,D.Vs)(G),pe=Date.now()/1e3,ye=60*60*24*7*4;for(const[Ie,Se]of Object.entries(ce)){const{trigger:le,schedule_ts:X}=Se;(ne.includes(Ie)||le&&X&&le!=="finished"&&le!=="force_debug"&&X>pe-ye)&&(se[Ie]=Se.group)}return se},"getExperimentTags");function F(G){return{num_members_in_redux:(0,M.I_)(G).length}}m(F,"getMembersTags");function V(G){const Ee=(0,n.W6)("lastColdBootTs"),ne=(0,S.pp)(G);return{last_cold_boot_ts:Ee,boot_type:ne}}m(V,"getConfigTags");function Y(){return{is_in_active_huddle:(0,p.NZ)()}}m(Y,"getHuddleTags");function w(G){const Ee=(0,f.Ry)();if(!Ee)return{};const ne=G??(0,d.getFocusedWorkspace)(Ee),se=(0,y.$D)(ne),ce=(0,c.F)(),pe=ce.createTrace({traceName:"add_tags:performance_tracing_tags"}),ye=(0,t.Kh)(ne),Ie=k(),Se=K(se,pe),le=N(se,pe),X=b(),J=O(),z=L(),te=R(se),$=F(se),q=V(se),re=o.qV.getTraceTags(),de=x(se),oe=U(se),De=Y(),ae=(0,t.G1)(),Z={...ye,...Ie,...Se,...le,...X,...J,...z,...te,...$,...q,...re,...de,...oe,...De,...ae};return ce.reportTrace(pe),Z}m(w,"getPerformanceTracingTags"),(0,u.zv)("performanceTracingTags",w)},3614984351:(W,T,e)=>{"use strict";e.d(T,{A:()=>Ae});var t=e(3134334389),s=e(1545824888),n=e(9733150292),r=e(4979734995),u=e(2850141087),i=e(581167618),o=e(9539184071),a=e(2308565927),_=e(6084388622),l=e(735940183);const p=new l.A("sign_in");function g(Me){const{isSSB:we,isSSBSignIn:Ge,hasPromoOffer:Qe,shouldRedirect:fe,redirectURL:Ve,loggedInTeams:Be,entryPoint:Ye=""}=Me;return t.createElement("div",{className:"align_center","data-qa":"signedin_workspaces"},!Qe&&!we&&t.createElement("p",{className:"small_bottom_margin"},p.t("You're already signed in to {loggedInTeams, plural, =1 {this workspace} other {these workspaces}}:",{loggedInTeams:Be})),t.createElement("p",{className:"col span_4_of_6 margin_auto float_none"},Be.map((et,at)=>t.createElement(_.z9,{key:et.id,"data-qa":`signedin_workspace_link_${at+1}`,className:"team-signin-link small_margin","data-team-id":et.id,autoClogProps:{elementName:"team_domain",elementValue:et.id.toString(),entryPoint:Ye,onClick:{enableClogAction:!0}},href:Ge?`${et.url}ssb/signin_redirect`:`${et.url}${fe?`?redir=${Ve}`:""}`,"aria-label":p.t("Go to {teamName} on Slack",{teamName:et.name}),type:"outline"},et.name))))}m(g,"SignedInWorkspaces");var c=e(1224315998),E=e(4481313819),A=e(8739505998),d=e(1610251172),v=e(7171435821),h;(function(Me){Me.INVALID_CODE="invalid_pin",Me.RATE_LIMITED="ratelimited",Me.SMS_RATE_LIMITED="two_factor_sms_rate_limited",Me.TOO_MANY_ATTEMPTS="two_factor_too_many_attempts",Me.INTERNAL_ERROR="internal_error"})(h||(h={}));var f;(function(Me){Me.SMS="sms",Me.APP="app",Me.EMAIL="email",Me.EMERGENCY="emergency"})(f||(f={}));var y;(function(Me){Me.REQUEST_CODE="request_primary",Me.REQUEST_BACKUP="request_backup",Me.SUBMIT_PRIMARY="submit_primary",Me.SUBMIT_BACKUP="submit_backup",Me.SUBMIT_EMERGENCY="submit_emergency"})(y||(y={}));const I=new l.A("sign_in"),C={elementName:"help_button",onClick:{enableClogAction:!0}},D=m(Me=>{const we=Me.action===y.REQUEST_BACKUP||Me.action===y.SUBMIT_BACKUP;return we&&Me.twoFactorBackupType===f.APP||!we&&Me.twoFactorType===f.APP},"currentMethodIsApp"),M=m(Me=>D(Me)?I.t("Problems with your authentication app?"):I.t("Problems with your code?"),"renderProblemsString"),P=m(Me=>D(Me)?t.createElement("div",{className:"subtle_silver small medium_top_margin"},t.createElement("p",{className:"no_bottom_margin"},I.t("Check your authentication app for your code.")),t.createElement("p",null,I.rt("<a>Having trouble finding your code?</a>",null,we=>{let{tag:Ge,text:Qe}=we;return Ge==="a"?t.createElement(A.A,{href:`https://${(0,v.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Qe):null})),t.createElement("p",null,I.rt("If your app is unavailable, use a <a>backup code</a>.",null,we=>{let{tag:Ge,text:Qe}=we;return Ge==="a"?t.createElement(A.A,{href:`https://${(0,v.qF)()}/help/articles/204509068#troubleshoot-2fa`,target:"_blank"},Qe):null}))):t.createElement("p",{className:"align_left subtle_silver small"},I.rt("You can also try a backup code, if you have one. For other issues, read more about <a>two-factor authentication</a>, or contact your workspace administrator for help.",null,we=>{let{tag:Ge,text:Qe}=we;return Ge==="a"?t.createElement(A.A,{href:`https://${(0,v.qF)()}/help/articles/204509068-Enabling-two-factor-authentication`,target:"_blank"},Qe):null})),"renderProblems");P.displayName="renderProblems";const S=m(Me=>{const[we,Ge]=(0,t.useState)(!1);return t.createElement("div",{className:"p-enter-code__help_button"},t.createElement(A.A,{tabIndex:0,className:"p-enter-code__get_help_link",onClick:()=>Ge(!we),autoClogProps:C},t.createElement(d.A,{type:"question-circle"})," ",M(Me)),we&&t.createElement("div",{className:"send_code_block"},Me.children,t.createElement("div",{className:"col span_4_of_6 float_none margin_auto"},t.createElement("hr",{className:"medium_bottom_margin"}),P(Me))))},"GetHelpButton");S.displayName="GetHelpButton";var b=e(9867500491),O=e(4844578989),L=e.n(O),k=e(8646591923),K=e(219228829),N=e(3700949338);function R(){return R=Object.assign||function(Me){for(var we=1;we<arguments.length;we++){var Ge=arguments[we];for(var Qe in Ge)Object.prototype.hasOwnProperty.call(Ge,Qe)&&(Me[Qe]=Ge[Qe])}return Me},R.apply(this,arguments)}m(R,"_extends");let U=m(class extends t.Component{render(){const{ariaDescribedBy:we}=this.props;return t.createElement("div",{className:L()("two_factor_input_item",{focused:this.props.hasFocus})},t.createElement("input",{autoComplete:this.props.autocomplete,ref:this.props.refToForward,type:"text",inputMode:"numeric",pattern:"\\d*",value:this.props.value,"aria-disabled":this.props.disabled,disabled:this.props.disabled,maxLength:1,onKeyDown:this.onKeyDown,onKeyPress:this.onKeyPress,onChange:this.onChange,onFocus:this.props.onFocus,onBlur:this.props.onBlur,onPaste:this.onPaste,"aria-label":this.props.ariaLabel,"aria-describedby":we}))}constructor(...we){super(...we),this.onKeyDown=Ge=>{switch(Ge.keyCode){case k.G_:{Ge.currentTarget.value||this.props.moveLeft();return}case k.UQ:return Ge.preventDefault(),this.props.moveLeft();case k.LE:return Ge.preventDefault(),this.props.moveRight();default:break}},this.onKeyPress=Ge=>{!(0,N.A)(Ge.which)&&Ge.charCode&&!(0,K.A)(Ge)&&Ge.preventDefault()},this.onChange=Ge=>{const Qe=Ge.target.value;(/^[0-9]$/.test(Qe)||Qe==="")&&this.props.onChange(Qe)},this.onPaste=Ge=>{Ge.preventDefault();const Qe=window.clipboardData||Ge.clipboardData,fe=Qe.getData("text")||Qe.getData("text/plain"),Ve=/\D/g,Be=fe.replace(Ve,"");this.props.onPaste(Be)}}},"TwoFactorDigitInput");U.displayName="TwoFactorDigitInput";const x=t.forwardRef((Me,we)=>t.createElement(U,R({},Me,{refToForward:we}))),B=new l.A("team_creation");let F=m(class extends t.Component{focusInput(we){const Ge=this.inputRefs[we];Ge!=null&&Ge.current&&Ge.current.focus()}moveLeft(we){we<=0||this.focusInput(we-1)}moveRight(we){we>=this.state.values.length-1||this.focusInput(we+1)}isComplete(we){return!we.some(Ge=>!Ge)}clear(){this.setState(we=>({values:we.values.map(()=>""),focusedInputIndex:0})),this.focusInput(0)}onChange(we,Ge){const Qe=this.state.values.slice();Qe[we]=Ge,this.setState(()=>({values:Qe}),()=>{Ge&&!this.isComplete(this.state.values)&&this.moveRight(we)})}componentDidUpdate(we,Ge){var Qe;if(this.state.focusedInputIndex!==-1&&document.activeElement!==((Qe=this.inputRefs[this.state.focusedInputIndex])===null||Qe===void 0?void 0:Qe.current)&&this.focusInput(this.state.focusedInputIndex),this.props.codeLength!==we.codeLength&&this.onCodeLengthChange(Ge),!this.isComplete(Ge.values)&&this.isComplete(this.state.values)||this.isComplete(this.state.values)&&Ge.values.join("")!==this.state.values.join("")){const fe=this.state.values.join("");this.props.onFillCode(fe)}else Ge.values.join(",")!==this.state.values.join(",")&&this.props.onChange()}componentDidMount(){this.focusInput(0)}renderInputs(we,Ge){return this.state.values.slice(we,Ge).map((Qe,fe)=>{const Ve=fe+we;return t.createElement(x,{autocomplete:Ve===0?"one-time-password":"off",key:Ve,ref:this.inputRefs[Ve],moveLeft:()=>this.moveLeft(Ve),moveRight:()=>this.moveRight(Ve),onChange:Be=>this.onChange(Ve,Be),onPaste:this.onPaste,onFocus:()=>{this.setState(()=>({focusedInputIndex:Ve}))},onBlur:()=>this.setState(()=>({focusedInputIndex:-1})),hasFocus:this.state.focusedInputIndex===Ve,value:this.state.values[Ve],ariaLabel:B.t("digit {inputIndex} of {numberOfInputs}",{inputIndex:Ve+1,numberOfInputs:this.state.values.length}),ariaDescribedBy:this.props.ariaDescribedBy,disabled:this.props.disabled})})}render(){return t.createElement("div",{className:"display_flex align_items_center margin_bottom_50","data-qa":"confirmation_code_input"},t.createElement("div",{className:"display_flex"},this.renderInputs(0,this.props.codeLength)))}constructor(we){super(we),this.onPaste=Ge=>{const Qe=this.state.focusedInputIndex;if(Qe===-1)return;const fe=this.state.values.length-Qe,Ve=Ge.substring(0,fe).split(""),Be=this.state.values.slice();Ve.forEach((Ye,et)=>{const at=et+Qe;Be[at]=Ye}),this.setState(()=>({values:Be}),()=>{this.focusInput(Math.min(this.state.values.length-1,Qe+Ve.length))})},this.onCodeLengthChange=Ge=>{const Qe=(0,b.A)(this.props.codeLength,()=>"");Ge.values.forEach((fe,Ve)=>{Ve<Qe.length&&(Qe[Ve]=fe)}),this.setState(()=>({values:Qe})),this.inputRefs=Qe.map(()=>t.createRef())},this.state={values:(0,b.A)(we.codeLength,()=>""),focusedInputIndex:-1},this.inputRefs=this.state.values.map(()=>t.createRef())}},"TwoFactorCodeInput");F.defaultProps={isNumbersOnly:!0};const V=new l.A("sign_in");function Y(Me){let we=null;return Me.error===h.SMS_RATE_LIMITED?we=V.rt("Apologies! There were too many SMS message requests in a short period, so you\u2019ll have to wait a moment to try again."):Me.error===h.INVALID_CODE?we=V.rt("Your two-factor authentication code was incorrect. Please try again."):Me.error===h.RATE_LIMITED?we=V.rt("You\u2019ve been trying to log in too often. Wait a few minutes and try again."):Me.error===h.TOO_MANY_ATTEMPTS?we=V.rt("We\u2019ve detected too many failed attempts to enter a code. For safety we\u2019ve reset your password. Please check your email for further information.",{fallbackHash:"7773426b227dec3b18a254adf97a7e212e998276"}):we=V.rt("An unknown error occurred."),t.createElement(i.Ay,{className:"p-enter-code-error__alert",type:i.QE.boxed,icon:"lock-o",level:i.A_.error,align:i.AO.left,"data-qa":"2fa_code_error_alert"},t.createElement("span",null,we))}m(Y,"EnterCodeError");var w=e(9506008067),G=e(3328068409),Ee=e(1236965385),ne=e(4761125736);function se(){return se=Object.assign||function(Me){for(var we=1;we<arguments.length;we++){var Ge=arguments[we];for(var Qe in Ge)Object.prototype.hasOwnProperty.call(Ge,Qe)&&(Me[Qe]=Ge[Qe])}return Me},se.apply(this,arguments)}m(se,"enter_code_root_extends");const ce=new l.A("sign_in"),pe=5*60*1e3,ye={elementName:"resend_button",onClick:{enableClogAction:!0}},Ie={elementName:"backup_button",onClick:{enableClogAction:!0}},Se={elementName:"emergency_backup_button",onClick:{enableClogAction:!0}},le="two_factor_form",X="enter-code",J=6;var z;(function(Me){Me.Request="request_primary",Me.RequestBackup="request_backup",Me.SubmitPrimary="submit_primary",Me.SubmitBackup="submit_backup",Me.SubmitEmergency="submit_emergency",Me.None="none"})(z||(z={}));function te(Me){const[we,Ge]=(0,t.useState)(Me.twoFactorType),[Qe,fe]=(0,t.useState)("");var Ve;const[Be,Ye]=(0,t.useState)((Ve=Me.action)!==null&&Ve!==void 0?Ve:z.None),[et,at]=(0,t.useState)(!1),[gt,Mt]=(0,t.useState)(J),[Bt,Ct]=(0,t.useState)(!1),Ft=(0,w.d4)(Xt=>(0,ne._Z)(Xt,"screen_text_2fa")==="on"),kt=t.useRef(null),Et=t.createRef(),mt=Me.submitOverride,{trackClogAuthRef:Rt,clogAuthLoginClick:Ht,trackClog:ft}=(0,Ee.$A)(),Jt=Rt({eventId:c.EventId.AUTH_WORKSPACE_ENTER_CODE,uiPage:X});(0,t.useEffect)(()=>{if(et){var Xt,en;if((Xt=ft.current)===null||Xt===void 0||(en=Xt.track)===null||en===void 0||en.call(Xt,{elementName:le,elementValue:Be}),Ht({eventId:c.EventId.AUTH_WORKSPACE_ENTER_CODE,elementName:le,uiPage:X,elementValue:Be})(),mt&&Et.current)at(!1),Ct(!0),mt(Qe,Be,Me.magicLogin).then(()=>{var ht;(ht=kt.current)===null||ht===void 0||ht.clear(),Ct(!1)});else{var Qt;(Qt=Et.current)===null||Qt===void 0||Qt.submit()}}},[Be,et,Et,ft,Qe,mt,Me.magicLogin,Ht]),(0,t.useEffect)(()=>{(Me.error===h.RATE_LIMITED||Me.error===h.TOO_MANY_ATTEMPTS)&&Ct(!0),Me.error===h.RATE_LIMITED&&setTimeout(()=>{Ct(!1)},pe)},[Me.error]);const Zt=we===f.EMERGENCY,Tt=Be===z.RequestBackup||Be===z.SubmitBackup,Pt=!Zt&&(Tt&&Me.twoFactorBackupType===f.SMS||!Tt&&Me.twoFactorType===f.SMS||Me.twoFactorType===f.EMAIL),Kt=Me.twoFactorType===f.EMAIL,dn=Me.twoFactorType===f.SMS?ce.rt("Send Code to Primary Phone"):ce.rt("Use Authentication App"),sn=Me.twoFactorBackupType===f.SMS?ce.rt("Send Code to Backup Phone"):ce.rt("Use Backup Authentication App"),H=m(()=>t.createElement(_.$n,{type:"outline",onClick:()=>{Ye(Tt?z.RequestBackup:z.Request),at(!0)},autoClogProps:ye},Tt?ce.rt("Resend Code to Backup Phone"):ce.rt("Resend Code")),"ResendButton"),Ne=m(()=>t.createElement(_.$n,{type:"outline",onClick:()=>{Ye(Tt?z.Request:z.RequestBackup),at(!0)},autoClogProps:Ie},Tt?dn:sn),"BackupButton");Ne.displayName="BackupButton";const Pe=m(()=>{let Xt;return Zt?Xt=Tt?sn:dn:Xt=ce.rt("Use Emergency Backup Code",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"}),t.createElement(_.$n,{type:"outline",onClick:()=>{Zt?(Ge(Me.twoFactorType),Mt(J)):(Ge(f.EMERGENCY),Mt(Me.emergencyCodeLength))},autoClogProps:Se},Xt)},"EmergencyButton");Pe.displayName="EmergencyButton";const qe=m(()=>Me.twoFactorType===f.EMAIL?Me.isClientApp?ce.rt("We don\u2019t recognize this device",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):ce.rt("We don\u2019t recognize this browser",{fallbackHash:"c7a15a747957cbfe27c485a1f69bd93d726680b6"}):Ft?ce.rt("Enter the code from your two-factor authentication app or SMS"):ce.rt("Enter your authentication code"),"GetHeader"),At=m(()=>{if(Zt)return ce.rt("Check the list of emergency backup codes provided when setting up 2FA.",{fallbackHash:"722971c61482e6fdf1d0c37abc0d6505ac884e0c"});if(Tt)return Me.twoFactorBackupType===f.APP?ce.rt("Check your authentication app for your code."):ce.rt("We\u2019ve sent an authentication code to your backup phone <br></br> for signing into <strong>{teamName}</strong>.",{teamName:Me.teamName});switch(Me.twoFactorType){case f.APP:return ce.rt("Check your authentication app for your code.");case f.EMAIL:return ce.rt("We hate to be a bother, but we need to do our due diligence to keep your account safe. Please enter the code we\u2019ve just sent to {emailAddress} below to complete your sign-in.",{teamName:Me.teamName,emailAddress:Me.emailAddress,fallbackHash:"482df38f5efc61b851c499bff4080846e0f2b65b"});default:return ce.rt("We\u2019ve sent an authentication code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Me.teamName})}},"GetSubheader"),xt=m(Xt=>{let en;Zt?en=z.SubmitEmergency:en=Tt?z.SubmitBackup:z.SubmitPrimary,fe(Xt),Ye(en),at(!0)},"onFillCode"),jt=(0,w.d4)(G.to);return t.createElement(E.A,{eventId:c.EventId.TWO_FACTOR_AUTH,uiPage:X,trackClogRef:Jt},t.createElement(o.A,{clientTheme:jt},t.createElement(a.A,{heading:qe(),subHeading:At(),subHeadingClassName:"p-enter_code_app__view_sub_header"},Me.codeResent&&t.createElement(i.Ay,{className:"p-enter-code-error__alert",type:i.QE.boxed,icon:"paper-plane",level:i.A_.info,align:i.AO.left,"data-qa":"2fa_code_resent_alert"},Kt?ce.rt("We\u2019ve sent a fresh code to {emailAddress} for signing into <strong>{teamName}</strong>.",{teamName:Me.teamName,emailAddress:Me.emailAddress,fallbackHash:"ed10973da08d5a9563d5aa07b51e6771457ef6b0",fallbackHashNs:"find_team"}):ce.rt("We\u2019ve sent a fresh code to your phone for signing into <strong>{teamName}</strong>.",{teamName:Me.teamName})),Me.error&&t.createElement(Y,{error:Me.error}),t.createElement("form",{ref:Et,className:"p-enter_code",method:"POST"},t.createElement("div",{className:"p-enter_code__input_container"},t.createElement("fieldset",{className:"p-enter_code__input_fieldset"},t.createElement("legend",{className:"offscreen"},ce.rt("{codeLength}-digit confirmation code",{codeLength:gt,fallbackHash:"0279e13b54733feec1317a9d5a3f36bfe1b56e30"})),t.createElement(F,{ref:kt,onFillCode:xt,onChange:()=>{},hideDash:!0,error:Me.error,disabled:Bt,codeLength:gt}),t.createElement("input",{type:"hidden",name:"2fa_magiclogin",value:Me.magicLogin}),Me.redir.length>0&&t.createElement("input",{type:"hidden",name:"redir",value:Me.redir}),t.createElement("input",{type:"hidden",name:"remember",value:Me.remember?"1":"0"}),t.createElement("input",{type:"hidden",name:"has_remember",value:Me.hasRemember}),t.createElement("input",{type:"hidden",name:"2fa_code",value:Qe}),t.createElement("input",{type:"hidden",name:"2fa_action",value:Be})))),t.createElement(S,se({},Me),t.createElement("div",{className:"p-enter-code__button"},Pt&&t.createElement(H,null),Me.twoFactorBackupType&&!Zt&&t.createElement(Ne,null),!Kt&&t.createElement(Pe,null))),Me.loggedInTeams.length>0&&t.createElement("div",{className:"p-enter-code__logged_in_teams"},t.createElement(g,se({},Me))))))}m(te,"EnterCodeRoot");var $=e(6329712420),q=e(4979382452),re=e(3602521375),de=e(4636370173),oe=e(2465132699),De=e(8523371695),ae=e(3606117573),Z=e(8029613601),ie=e(4947127560),Ce=e(9310872914),Re=e(6533394955),He=e(3051824855);function be(){return be=Object.assign||function(Me){for(var we=1;we<arguments.length;we++){var Ge=arguments[we];for(var Qe in Ge)Object.prototype.hasOwnProperty.call(Ge,Qe)&&(Me[Qe]=Ge[Qe])}return Me},be.apply(this,arguments)}m(be,"enter_2fa_code_modal_extends");const Ue=new l.A("2fa_modal"),me={enter2faCodeModal:"enter_2fa_code_modal",cancelButton:"enter_2fa_code_modal_cancel_button"},ve={isSSB:!0,isSSBSignIn:!0,hasPromoOffer:!1,shouldRedirect:!1,redirectURL:"",loggedInTeams:[],remember:!1,hasRemember:"",children:void 0,isOpen:!0};function Fe(Me,we){const Ge=(0,n.vS)();if(Me!==void 0){const fe=Ge[Me].two_factor_magic_login;fe!==void 0&&fe.token&&(fe.token=we),(0,n.q9)("pendingAuthTeams",Ge)}}m(Fe,"updateLocalConfig2fa");function Ke(Me){const we=(0,n.vS)();if(Me!==void 0){const Ge=we[Me];Ge.two_factor_magic_login=void 0,(0,n.q9)("pendingAuthTeams",we)}}m(Ke,"clearLocalConfig2faMagicLogin");function j(Me){let{magicLogin:we,teamId:Ge,type:Qe,backupType:fe,emergencyLength:Ve,emailAddress:Be,teamName:Ye,currentTeamId:et,isOpen:at,closeModal:gt}=Me;const[Mt,Bt]=(0,t.useState)(we),[Ct,Ft]=(0,t.useState)(null),[kt,Et]=(0,t.useState)(!1),mt=et?(0,Re.oK)(et):void 0,Rt=(0,t.useCallback)((ft,Jt,Zt)=>{const Tt={magic_token:Zt,ssb:!0,two_factor_native_supported_v2:!0,two_factor_pin:ft,two_factor_is_backup:Jt===y.REQUEST_BACKUP||Jt===y.SUBMIT_BACKUP};return Jt===y.REQUEST_CODE||Jt===y.REQUEST_BACKUP?(Tt.two_factor_pin="",Et(!0)):Et(!1),new s.S(Pt=>{(0,r.j)("auth.loginMagic",Tt,(Kt,dn)=>{if(Kt&&dn.refreshed_magic_login){var sn;Bt(dn.refreshed_magic_login),Fe(Ge,dn.refreshed_magic_login),!((sn=dn.reason)===null||sn===void 0)&&sn.match(/^missing_/)||Ft(dn.reason),Pt(Kt)}else Kt&&dn.team?(0,Ce.A)({currentTeamStore:mt,newWorkspaceId:Ge,navigateToRouteProps:{routeName:$.o},shouldAutoSignIn:!0}).then(()=>{gt(),Pt(Kt)}):(Ke(Ge),(0,Ce.A)({currentTeamStore:mt,newWorkspaceId:Ge,navigateToRouteProps:{routeName:$.o}}).then(()=>{gt(),Pt(Kt)}))})})},[Ge,mt,gt]);(0,u.A)(()=>{Rt("",y.SUBMIT_PRIMARY,Mt??"")},[]);const Ht=Ue.t("Finish signing into {teamName}",{teamName:Ye,fallbackHash:"e27938a88eacaa79d651d3aeb0bc39d128f0dd6c",fallbackHashNs:"team_picker"});return t.createElement(q.A,{isOpen:at,contentLabel:"two_factor",maxWidth:"800px",centered:!0,closeModal:gt,dataQa:me.enter2faCodeModal},t.createElement(Z.A,null,t.createElement(ie.A,{title:Ht})),t.createElement(de.A,null,t.createElement(oe.A,null,t.createElement("div",{id:"enter-code-app-root"},t.createElement(te,be({},ve,{teamName:Ye,error:Ct,action:null,magicLogin:Mt||"",twoFactorType:Qe,twoFactorBackupType:fe,emailAddress:Be,codeResent:kt,redir:"",emergencyCodeLength:Ve,isClientApp:!0,submitOverride:Rt}))))),t.createElement(De.A,null,t.createElement(ae.A,null,t.createElement(re.A,{type:"outline","data-qa":me.cancelButton,"aria-label":Ue.t("Cancel")},Ue.t("Cancel")))))}m(j,"TwoFAModal"),j.displayName="TwoFAModal";const ee=(0,He.e)(j);var je=e(337319621),Te=e(7384121809),Je=e(9012396182);function Ae(Me,we){const Ge=(0,Te.Ry)();if(!(0,Je.isWorkspacePendingTwoFactor)(Ge,Me))return!1;const Qe=(0,Je.getWorkspacesMeta)(Ge),fe=Qe==null?void 0:Qe[Me],{two_factor_magic_login:Ve,name:Be}=fe,{token:Ye,user_2fa_type:et,user_2fa_backup_type:at,user_emergency_code_length:gt,email:Mt}=Ve;let Bt;return we?Bt=(0,Re.oK)(we):Bt=(0,Re.oK)((0,Je.getFocusedWorkspace)(Ge)),Bt?(Bt.dispatch(ee({magicLogin:Ye,teamId:Me,type:et,backupType:at,emergencyLength:gt,teamName:Be,currentTeamId:we,emailAddress:Mt})),!0):((0,je.Wo)().error("TWO_FACTOR_SSB",`${Me} is pending 2fa, but no store for ${we}, falling back to openSignIn()`),!1)}m(Ae,"maybeRenderTwoFactorModal")},7302681637:(W,T,e)=>{"use strict";e.d(T,{aT:()=>K,zw:()=>U,qG:()=>k});var t=e(7823346015),s=e(8086952004),n=e(7031360717),r=e(1197598850),u=e(1319016163),i=e(6273911963),o=e(2878685908),a=e(9283444310),_=e(337319621),l=e(7344959578),p=e(4096483543);const g={is_expired:!1,ok:!0},c={is_expired:!1,ok:!1};async function E(F){let{teamIds:V}=F;if((0,o.b3)())return(0,_.Wo)().warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.checkVersion call."),g;if(!(0,p.A)())throw new Error("client.checkVersion should only be used in the client.");try{var Y;const w={team_ids:V,build_version_ts:parseInt((Y=(0,l.xb)())!==null&&Y!==void 0?Y:"",10),build_manifest_last_modified:(0,l.z8)()},G=(0,l.Cy)();G&&(w.config_version_ts=G);const Ee=A(w),ne=await i.A.fetch({url:"/api/client.checkVersion",httpMethod:"POST",payload:Ee});return JSON.parse(ne)}catch(w){return(0,_.Wo)().error("Failed to fetch/parse client.checkVersion response",w),c}}m(E,"clientCheckVersion");function A(F){return(0,a.t)(F,"client.checkVersion")}m(A,"getClientCheckVersionPayload");var d=e(9113979368),v=e(4015010068),h=e(7204143202),f=e(5257368278);const y=(0,f.A)("Check to see whether we need to reload",async(F,V,Y)=>{let{reason:w="unknown",teamIds:G=[],skipExpiryCheck:Ee=!1}=Y;const ne=(0,_.Wo)();if((0,o.b3)())return ne.warn("MIN-VERSION","Cannot check whether to reload when using js_path. Skipping client.shouldReload call."),{should_reload:!1,reason:"js_path"};if(!(0,p.A)())throw new Error("client.shouldReload should only be used in the client.");const se=(0,l.fj)();if(!se)throw new Error("Cannot check whether to reload if we\u2019re missing versionTs");const ce=(0,l.z8)(),pe=(0,l.xb)(),ye=parseInt(pe??"",10),Ie={versionTs:se,reason:w,buildVersionTs:ye,skipExpiryCheck:Ee,buildManifestLastModified:ce};(0,d.A)(G)||(Ie.teamIds=G),(0,v.A)(ye)&&(0,_.Wo)().error("MIN-VERSION",`Invalid build version timestamp: ${pe}`);const Se=(0,l.Cy)();Se&&(Ie.configVersionTs=Se),(0,_.Wo)().info("MIN-VERSION",`teamIds: ${(G==null?void 0:G.join(","))||"NONE"}; versionTs: ${se}; buildVersionTs: ${ye}; buildManifestLastModified: ${ce}; configVersionTs: ${Se}; All config versions: ${(0,l.r6)()}`);try{return F((0,h.t)(Ie))}catch(X){var le;throw(X==null||(le=X.data)===null||le===void 0?void 0:le.error)==="invalid_arguments"&&(0,_.Wo)().error(`client.shouldReload failed with invalid arguments: team_ids=${G.join(",")}; version=${Ie.buildVersionTs} buildManifestLastModified=${Ie.buildManifestLastModified}`,X),X}});y.meta={name:"createFetcher",key:"createFetcherclientShouldReloadImmediately",description:"Check to see whether we need to reload"};var I=e(2250002584),C=e(2872463257),D=e(7668372645),M=e(7311246228),P=e(8363626823),S=e(9012396182),b=e(7384121809),O=e(6533394955);const L="MIN-VERSION";async function k(F){const V=(0,b.en)();if((0,D.z$)())return R(F);const Y=(0,S.getFocusedWorkspace)(V.getState()),w=(0,O.oK)(Y),G=(0,S.getBootedWorkspaces)(V.getState());return w.dispatch(y({teamIds:G,reason:F}))}m(k,"checkForMinVersionBumpUsingRedux");async function K(F){let{reason:V,apiQ:Y,teamId:w,teamIds:G}=F;if(!(0,P.r)())return Promise.resolve(r.Yp);if(Y===void 0||w===void 0)return(0,n.z3)(L,`invalid apiQ or teamId passed to checkForMinVersionBump. teamId: ${w}`),{reason:"undefined team id or apiQ",...r.Yp};const Ee=G??(0,u.Ay)();return(0,D.z$)()?N({bootingTeamIds:Ee,reason:V,apiQ:Y}):(0,r.kK)({bootingTeamIds:Ee,reason:V,apiQ:Y,teamId:w})}m(K,"checkForMinVersionBump");async function N(F){let{bootingTeamIds:V,reason:Y,apiQ:w}=F;const G=await E({teamIds:V}),Ee=G.is_expired;var ne;const se=(ne=G.client_min_build_version)!==null&&ne!==void 0?ne:0;var ce;const pe=(ce=G.recommended_build_version)!==null&&ce!==void 0?ce:0;var ye;const Ie=(ye=G.build_manifest_last_modified)!==null&&ye!==void 0?ye:0;if(!Ee)return{ok:!0,client_min_version:se,client_min_build_version:se,should_reload:!1,recommended_build_version:pe,build_manifest_last_modified:Ie};const Se=(0,I.F)(),le=Se.createMetricsTrace({label:"gov_mvb",samplingOptions:{sampleType:C.nl.ALWAYS}}),[X,J]=(0,t.A)(V,re=>(0,M.H)(re));le.addTags({client_min_version:se,recommended_build_version:pe,build_manifest_last_modified:Ie,has_gov_teams:!!X.length,has_commercial_teams:!!J.length});const{should_reload:z,reason:te}=await(0,r.kK)({bootingTeamIds:X,reason:Y,apiQ:w,teamId:X[0]});if(!z)return le.count({name:"prevent"}).addTags({environment:"gov",reason:te??"none"}),Se.reportTrace(le),(0,_.Wo)().info(L,`Gov teams failed rate limit check with reason ${te??"none"}; Preventing reload. teams: (${X.join(",")}) `),{ok:!0,client_min_version:se,client_min_build_version:se,should_reload:!1,recommended_build_version:pe,build_manifest_last_modified:Ie,reason:te};const{should_reload:$,reason:q}=J.length!==0?await(0,r.kK)({bootingTeamIds:J,reason:Y,apiQ:w,teamId:J[0],skipExpiryCheck:!0}):{should_reload:!0,reason:"no_commercial_teams"};return $?(le.count({name:"reload"}),Se.reportTrace(le),{ok:!0,client_min_version:se,client_min_build_version:se,should_reload:!0,recommended_build_version:pe,build_manifest_last_modified:Ie}):(le.count({name:"prevent"}).addTags({environment:"commercial",reason:q??"none"}),Se.reportTrace(le),(0,_.Wo)().info(L,`Commercial teams failed rate limit check with reason ${q??"none"}; Preventing reload. teams: (${J.join(",")})`),{ok:!0,client_min_version:se,client_min_build_version:se,should_reload:!1,recommended_build_version:pe,build_manifest_last_modified:Ie,reason:q})}m(N,"checkForMinVersionBumpInGovClients");async function R(F){const V=(0,b.en)();var Y;const w=(Y=(0,S.getBootedWorkspaces)(V.getState()))!==null&&Y!==void 0?Y:[],{is_expired:G,client_min_build_version:Ee,recommended_build_version:ne,build_manifest_last_modified:se}=await E({teamIds:w});if(!G)return{should_reload:!1,client_min_version:Ee,recommended_build_version:ne,build_manifest_last_modified:se};const ce=(0,I.F)(),pe=ce.createMetricsTrace({label:"gov_mvb",samplingOptions:{sampleType:C.nl.ALWAYS}}),[ye,Ie]=(0,t.A)(w,z=>(0,M.H)(z));pe.addTags({client_min_version:Ee,recommended_build_version:ne,build_manifest_last_modified:se,has_gov_teams:!!ye.length,has_commercial_teams:!!Ie.length});const{should_reload:Se,reason:le}=await x({teamIds:ye,reason:F});if(!Se)return pe.count({name:"prevent"}).addTags({environment:"gov",reason:le??"none"}),ce.reportTrace(pe),(0,_.Wo)().info(L,`Gov teams failed rate limit check with reason ${le??"none"}; Preventing reload. teams: (${ye.join(",")}) `),{should_reload:!1,client_min_version:Ee,recommended_build_version:ne,build_manifest_last_modified:se,reason:le};const{should_reload:X,reason:J}=await x({teamIds:Ie,reason:F});return X?(pe.count({name:"reload"}),ce.reportTrace(pe),{should_reload:!0,client_min_version:Ee,recommended_build_version:ne,build_manifest_last_modified:se}):(pe.count({name:"prevent"}).addTags({environment:"commercial",reason:J??"none"}),ce.reportTrace(pe),(0,_.Wo)().info(L,`Commercial teams failed rate limit check with reason ${J??"none"}; Preventing reload. teams: (${Ie.join(",")})`),{should_reload:!1,client_min_version:Ee,recommended_build_version:ne,build_manifest_last_modified:se,reason:J})}m(R,"checkForMinVersionBumpInGovClientsUsingRedux");function U(F){return K({apiQ:F.bootQueue.apiQ,reason:"boot",...F})}m(U,"checkForMinVersionBumpOnBoot");async function x(F){let{teamIds:V,reason:Y}=F;const w=B(V);return w?w.dispatch(y({teamIds:V,reason:Y,skipExpiryCheck:!0})):{should_reload:!0}}m(x,"shouldClientReloadForTeams");function B(F){const V=(0,s.A)(F,Y=>!!(0,O.oK)(Y));if(V)return(0,O.oK)(V)}m(B,"findAnyStoreInstanceForTeamIds")},4626613428:(W,T,e)=>{"use strict";e.d(T,{S4:()=>A,Ty:()=>k,ez:()=>E,lf:()=>L});var t=e(6839188756),s=e(9392104102),n=e(6323355797),r=e(1247361162),u=e(3009309149),i=e(9186462665),o=e(2047021170),a=e(7268021173),_=e(6827180593),l=e(772817784),p=e(117899263),g=e(3265910753),c=e(3677514771),E;(function(K){K.HAS_MENTIONS="has_mentions",K.HAS_SLACK_CONNECT_INVITE="has_slack_connect_invite",K.HAS_THREADS="has_threads",K.IS_ENTERPRISE="is_enterprise",K.IS_EXISTING_JOINER="is_existing_joiner",K.IS_IN_REVERSE_TRIAL="is_in_reverse_trial",K.IS_IN_SOLUTIONS_ONBOARDING_TRIAL="is_in_solutions_onboarding_trial",K.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL="is_in_activate_solutions_gallery_trial",K.IS_IN_TRIAL="is_in_trial",K.IS_ONBOARDING_COMPLETED="is_onboarding_completed",K.IS_OVER_TWO_WEEKS_OLD="is_over_two_weeks_old",K.IS_USER_PREF_ENABLED="is_user_pref_enabled"})(E||(E={}));const A="should_show_ia4_tabs",d={reason:E.IS_ENTERPRISE,shouldShowTabs:!0},v={reason:E.IS_EXISTING_JOINER,shouldShowTabs:!0},h={reason:E.IS_USER_PREF_ENABLED,shouldShowTabs:!0},f={reason:E.HAS_MENTIONS,shouldShowTabs:!0},y={reason:E.HAS_THREADS,shouldShowTabs:!0},I={reason:E.HAS_SLACK_CONNECT_INVITE,shouldShowTabs:!0},C={reason:E.IS_IN_ACTIVATE_SOLUTIONS_GALLERY_TRIAL,shouldShowTabs:!0},D={reason:E.IS_IN_TRIAL,shouldShowTabs:!0},M={reason:E.IS_IN_SOLUTIONS_ONBOARDING_TRIAL,shouldShowTabs:!0},P={reason:E.IS_IN_REVERSE_TRIAL,shouldShowTabs:!0},S={reason:E.IS_ONBOARDING_COMPLETED,shouldShowTabs:!0},b={shouldShowTabs:!0,reason:E.IS_OVER_TWO_WEEKS_OLD},O={shouldShowTabs:!1},L=(0,u.Ay)(K=>{const N=(0,c.H7)(K);if((0,t.r7)(N))return d;const U=(0,l.w)(K);if(!(0,p._)(K)&&U)return v;if((0,o.ty)(K,A))return h;var F;if(((F=(0,r.rz)(K))!==null&&F!==void 0?F:s.Ml).length>0)return f;var Y;return((Y=(0,r.sG)(K))!==null&&Y!==void 0?Y:s.Ml).length>0?y:(0,i.RU)(K)?I:(0,a.iH)(K)?(0,a.G)(K,n.ZO.SolutionsGalleryPromo)?C:(0,g.BX)(K)?M:(0,a.G)(K,n.ZO.GoldenGateTrial,n.zG.ReverseTrialDay0)?P:D:(0,o.ty)(K,"onboarding_complete")?S:(0,_.H)(K)>=14?b:O});L.meta={name:"createSelector",key:"createSelectorshouldShowTabsWithReason",description:K=>{const N=(0,c.H7)(K);if((0,t.r7)(N))return d;const U=(0,l.w)(K);if(!(0,p._)(K)&&U)return v;if((0,o.ty)(K,A))return h;var F;if(((F=(0,r.rz)(K))!==null&&F!==void 0?F:s.Ml).length>0)return f;var Y;return((Y=(0,r.sG)(K))!==null&&Y!==void 0?Y:s.Ml).length>0?y:(0,i.RU)(K)?I:(0,a.iH)(K)?(0,a.G)(K,n.ZO.SolutionsGalleryPromo)?C:(0,g.BX)(K)?M:(0,a.G)(K,n.ZO.GoldenGateTrial,n.zG.ReverseTrialDay0)?P:D:(0,o.ty)(K,"onboarding_complete")?S:(0,_.H)(K)>=14?b:O}};const k=(0,u.Ay)(K=>L(K).shouldShowTabs);k.meta={name:"createSelector",key:"createSelectorshouldShowTabs",description:K=>L(K).shouldShowTabs}},7798793495:(W,T,e)=>{"use strict";e.d(T,{G:()=>s});var t=e(9139930183);const s=(0,t.Ay)({},!0,{persistenceEnabled:!1,storeKey:"isState"});s.meta={name:"createReducer",key:"createReducerisStateReducer"}},9121100949:(W,T,e)=>{"use strict";e.d(T,{$D:()=>l,OR:()=>i,RC:()=>A,Ts:()=>a,WU:()=>E,f9:()=>g,gN:()=>o,jG:()=>c,jr:()=>d,jt:()=>u,kU:()=>p,ke:()=>t,qD:()=>_,r1:()=>r,ts:()=>s,u1:()=>n});const t="viewLayoutSidebarWidthIntent",s="viewLayoutSidebarWidthMode",n="viewLayoutSidebarWideWidthIntent",r="viewLayoutSidebarWideWidthMode",u="viewLayoutSidebarExtraWideWidthIntent",i="viewLayoutSidebarExtraWideWidthMode",o="viewLayoutSecondaryWidthIntent",a="viewLayoutSecondaryWidthMode",_="viewLayoutSplitWidthIntent",l="viewLayoutSplitWidthMode",p="viewLayoutsplitAIAppsWidthIntent",g="viewLayoutsplitAIAppsWidthMode",c="viewLayoutIsSidebarVisible",E="viewLayoutIsWorkspaceSwitcherVisible",A="viewLayoutCompactModeEnabled",d="viewLayoutLastSidebarWidth"}},W=>{var T=m(t=>W(W.s=t),"__webpack_exec__");W.O(0,["gantry-v2-vendors","gantry-v2-vendors-client","gantry-v2-shared","client-boot-styles"],()=>T(926693500));var e=W.O()}]);})();

//# sourceMappingURL=https://slack.com/source-maps/bv1-13/client-boot.81eba63ef2d98280d961.min.js.map